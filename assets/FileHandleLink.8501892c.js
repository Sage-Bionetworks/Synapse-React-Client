import{w as p,z as m,aJ as F,Z as S}from"./index.29a7f152.js";import{I as w}from"./IconSvg.3d20df6f.js";import{a as _,j as y}from"./jsx-runtime.2e925369.js";const H=window.React.useEffect,g=window.React.useState,l=t=>{var d,c;const{fileHandleAssociation:e,showDownloadIcon:r,redirect:u=!1,displayValue:n}=t,{accessToken:i}=p(),[s,f]=g();H(()=>{n===void 0&&(async()=>f(await S({requestedFiles:[e],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},i)))()},[i,n,e]);let o;return s&&(o=(d=s.requestedFiles[0].fileHandle)==null?void 0:d.fileName),_("button",{onClick:()=>{i&&e&&m(e.fileHandleId,i,e.associateObjectType,e.associateObjectId,u).then(a=>{window.open(a,"_blank")}).catch(a=>{console.error("Error on retrieving file handle url ",a)})},className:`SRC-primary-text-color ${F}`,type:"button",style:{padding:0},children:[(c=n!=null?n:o)!=null?c:e.fileHandleId,r&&y(w,{options:{icon:"download"}})]})};try{l.displayName="FileHandleLink",l.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"]={docgenInfo:l.__docgenInfo,name:"FileHandleLink",path:"src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"})}catch{}export{l as F};
//# sourceMappingURL=FileHandleLink.8501892c.js.map
