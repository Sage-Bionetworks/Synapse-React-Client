import{S as w}from"./react-select.esm.f5386c8f.js";import"./index.37b550c9.js";import{u as O,U as h}from"./UserOrTeamBadge.0eea9d35.js";import{u as B}from"./useGetInfoFromIds.fd465434.js";import{j as o}from"./jsx-runtime.00d70968.js";import{S as C}from"./Skeleton.99b24529.js";import{b as m}from"./Select-54ac8379.esm.edd779c2.js";const E=window.React.useEffect,N=(e,r,t)=>{E(()=>{const s=setTimeout(()=>e(),t);return()=>clearTimeout(s)},[...r||[],t])},R=window.React.useMemo,V=window.React.useState,g=window.React.createElement,v={Control:e=>{var r;return o(m.Control,{...e,className:`form-control ${(r=e.className)!=null?r:""}`})},SingleValue:e=>{const{data:r}=e;return g(m.SingleValue,{...e,key:r.id},o(h,{userGroupHeader:r.header,disableHref:!0,showFullName:!0},r.header.ownerId))},Option:e=>{const{data:r}=e;return g(m.Option,{...e,key:r.id},o(h,{userGroupHeader:r.header,disableHref:!0,showFullName:!0}))}},u=e=>{const{inputId:r,defaultValue:t=null,onChange:s,filterPredicate:d,typeFilter:U,placeholder:y}=e,[n,_]=V(""),[i,I]=V("");N(()=>{I(n)},[n],500);const[c=void 0]=B({ids:t?[t]:[],type:"USER_PROFILE"}),{data:p,isLoading:l}=O(i,U),x=R(()=>l||n!==i?()=>"Loading\u2026":void 0,[l,i,n]),b=(p!=null?p:[]).filter(d!=null?d:()=>!0).map(a=>({id:a.ownerId.toString(),value:a.ownerId.toString(),label:a.userName,header:a}));return t&&c==null?o(C,{width:"100%"}):o(w,{className:"bootstrap-4-backport UserSearchBoxV2",inputValue:n,onInputChange:_,filterOption:()=>!0,isLoading:l,options:!l&&b||[],noOptionsMessage:x,defaultValue:t?{id:t,value:t,label:c.userName,header:c}:void 0,inputId:r,isClearable:!0,styles:{control:a=>({...a,display:"flex !important"})},components:v,onChange:a=>{var f,S;s&&s((f=a==null?void 0:a.id)!=null?f:null,(S=a==null?void 0:a.header)!=null?S:null)},placeholder:y})},k=u;try{u.displayName="UserSearchBoxV2",u.__docgenInfo={description:"",displayName:"UserSearchBoxV2",props:{inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((principalId: string | null, header: UserGroupHeader | null) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterPredicate:{defaultValue:null,description:"",name:"filterPredicate",required:!1,type:{name:"((item: UserGroupHeader) => boolean)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/UserSearchBoxV2.tsx#UserSearchBoxV2"]={docgenInfo:u.__docgenInfo,name:"UserSearchBoxV2",path:"src/lib/containers/UserSearchBoxV2.tsx#UserSearchBoxV2"})}catch{}export{k as U,N as u};
