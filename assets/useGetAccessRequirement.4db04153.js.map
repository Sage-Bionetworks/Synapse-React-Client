{"version":3,"file":"useGetAccessRequirement.4db04153.js","sources":["../../src/lib/utils/hooks/SynapseAPI/dataaccess/useGetAccessRequirement.ts"],"sourcesContent":["import {\n  UseInfiniteQueryOptions,\n  useInfiniteQuery,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  AccessControlList,\n  AccessRequirement,\n  RestrictionInformationRequest,\n  RestrictionInformationResponse,\n  WikiPageKey,\n} from '../../../synapseTypes'\nimport {\n  AccessRequirementSearchRequest,\n  AccessRequirementSearchResponse,\n} from '../../../synapseTypes/AccessRequirement/AccessRequirementSearch'\n\nexport default function useGetAccessRequirement<T extends AccessRequirement>(\n  accessRequirementId: string | number,\n  options?: UseQueryOptions<T, SynapseClientError>,\n) {\n  const { accessToken } = useSynapseContext()\n\n  return useQuery<T, SynapseClientError>(\n    ['accessRequirement', accessRequirementId],\n    () =>\n      SynapseClient.getAccessRequirementById<T>(\n        accessToken,\n        accessRequirementId,\n      ),\n    options,\n  )\n}\n\nexport function useGetAccessRequirementWikiPageKey(\n  accessRequirementId: string,\n  options?: UseQueryOptions<WikiPageKey, SynapseClientError>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<WikiPageKey, SynapseClientError>(\n    ['accessRequirement', accessRequirementId, 'wikiPageKey'],\n    () =>\n      SynapseClient.getWikiPageKeyForAccessRequirement(\n        accessToken,\n        accessRequirementId,\n      ),\n    options,\n  )\n}\n\nexport function useGetAccessRequirementACL(\n  accessRequirementId: string,\n  options?: UseQueryOptions<AccessControlList | null, SynapseClientError>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<AccessControlList | null, SynapseClientError>(\n    ['accessRequirement', accessRequirementId, 'acl'],\n    () =>\n      SynapseClient.getAccessRequirementAcl(accessToken, accessRequirementId),\n    options,\n  )\n}\n\nexport function useSearchAccessRequirementsInfinite(\n  params: Omit<AccessRequirementSearchRequest, 'nextPageToken'>,\n  options?: UseInfiniteQueryOptions<\n    AccessRequirementSearchResponse,\n    SynapseClientError\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n  return useInfiniteQuery<AccessRequirementSearchResponse, SynapseClientError>(\n    ['accessRequirement', 'search', params],\n    async context => {\n      return await SynapseClient.searchAccessRequirements(accessToken, {\n        ...params,\n        nextPageToken: context.pageParam,\n      })\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n\nexport function useGetRestrictionInformation(\n  request: RestrictionInformationRequest,\n  options?: UseQueryOptions<RestrictionInformationResponse, SynapseClientError>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<RestrictionInformationResponse, SynapseClientError>(\n    ['restrictionInformation', request],\n    () => SynapseClient.getRestrictionInformation(request, accessToken),\n    options,\n  )\n}\n"],"names":["SynapseClient.getAccessRequirementById","SynapseClient.getWikiPageKeyForAccessRequirement","SynapseClient.getAccessRequirementAcl","SynapseClient.searchAccessRequirements","SynapseClient.getRestrictionInformation"],"mappings":"8KAqBA,WACE,EACA,EACA,CACM,KAAA,CAAE,eAAgB,IAEjB,MAAA,GACL,CAAC,oBAAqB,CAAmB,EACzC,IACEA,EACE,EACA,CACF,EACF,CACF,CACF,CAEO,WACL,EACA,EACA,CACM,KAAA,CAAE,eAAgB,IACxB,MAAO,GACL,CAAC,oBAAqB,EAAqB,aAAa,EACxD,IACEC,EACE,EACA,CACF,EACF,CACF,CACF,CAEO,WACL,EACA,EACA,CACM,KAAA,CAAE,eAAgB,IACxB,MAAO,GACL,CAAC,oBAAqB,EAAqB,KAAK,EAChD,IACEC,EAAsC,EAAa,CAAmB,EACxE,CACF,CACF,CAEO,WACL,EACA,EAIA,CACM,KAAA,CAAE,eAAgB,IACxB,MAAO,GACL,CAAC,oBAAqB,SAAU,CAAM,EACtC,KAAM,IACG,KAAMC,GAAuC,EAAa,CAC/D,GAAG,EACH,cAAe,EAAQ,SAAA,CACxB,EAEH,CACE,GAAG,EACH,iBAAkB,GAAQ,EAAK,aAAA,CAEnC,CACF,CAEO,WACL,EACA,EACA,CACM,KAAA,CAAE,eAAgB,IACjB,MAAA,GACL,CAAC,yBAA0B,CAAO,EAClC,IAAMC,EAAwC,EAAS,CAAW,EAClE,CACF,CACF"}