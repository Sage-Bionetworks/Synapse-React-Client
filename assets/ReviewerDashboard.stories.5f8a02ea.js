import{j as r,R as $,r as w,a as m,F as je}from"./jsx-runtime.590681cd.js";import{i as ve,r as sr,R as Ve,c as Ye,m as cr,u as Ee,a as Ie,M as lr,S as dr,b as de,d as ur}from"./react-router.8ec264e2.js";import{a4 as pr,cv as hr,aY as $e,E as mr,cw as fr,ak as vr}from"./index.bb7b660b.js";import{I as Te}from"./IconSvg.88997e16.js";import{S as Se}from"./LoadingScreen.8ce9c0f0.js";import{u as Pe,U as me}from"./UserSearchBoxV2.b31bfccb.js";import{d as oe}from"./dayjs.min.fc41a394.js";import{h as Ge,A as Ke}from"./SynapseConstants.aef18750.js";import{c as re}from"./AccessRequirementList.bce081ba.js";import{D as L}from"./EntityChildren.50133102.js";import{U as ze}from"./UserCard.f8a4e9c0.js";import{P as Qe}from"./getEndpoint.f1f195f5.js";import{u as Sr}from"./useInfiniteQuery.582193b6.js";import{S as se}from"./Sort.257b0448.js";import{f as ce}from"./DateFormatter.5dc1cf20.js";import{T as Ne}from"./Table.b4612a3a.js";import{u as We}from"./upperFirst.a3b899a7.js";import{T as H}from"./Typography.62f204bb.js";import{B as le}from"./Button.d3c811d3.js";import{a as Rr}from"./useDataAccessSubmission.86c7a7eb.js";import{S as qe}from"./AccessSubmission.155bc296.js";import{U as Q}from"./UserOrTeamBadge.b7d40120.js";import{A as Je}from"./AccessRequirementSearchBox.2e2e559e.js";import{c as Y,b as Le}from"./isArray.b759bc77.js";import{o as Oe}from"./omitBy.f891a74e.js";import{E as br}from"./EntityFinderModal.11e9bcd1.js";import{F as gr}from"./EntityFinder.86a95aae.js";import{c as yr}from"./useAccessRequirements.e8d4b6d5.js";import{E as Ar}from"./EntityLink.edd798d8.js";import{I as Cr}from"./CalendarWithIconFormGroup.b909a501.js";import{S as Me}from"./ManagedACTAccessRequirementStatus.be369a71.js";import{S as wr}from"./SubmissionPage.5559f7a3.js";import"./iframe.d3c6f1d5.js";import"./index.35ce73ec.js";import"./emotion-react.browser.esm.a07d05d9.js";import"./styled.1c864c13.js";import"./index.220fbbb9.js";import"./Tooltip.0f7aeb46.js";import"./SvgIcon.01f2428a.js";import"./useTheme.fa81c060.js";import"./TransitionGroupContext.e7de7ea1.js";import"./FullWidthAlert.8cff24d3.js";import"./hook.5f699942.js";import"./createWithBsPrefix.4b46c4d7.js";import"./divWithClassName.638b701c.js";import"./Fade.dfa4b9be.js";import"./IconButton.7622d68d.js";import"./ButtonBase.c831f7af.js";import"./Link.3f8a0a55.js";import"./Button.6aee65d4.js";import"./Modal.4704072e.js";import"./contains.5e789a3e.js";import"./inheritsLoose.16461593.js";import"./usePrevious.a5299ce0.js";import"./removeClass.27874bcb.js";import"./hasClass.56fd144a.js";import"./useWaitForDOMRef.1c0cdf8b.js";import"./react-select.esm.0e965a92.js";import"./Select-54ac8379.esm.b77d0c67.js";import"./useGetInfoFromIds.fe484232.js";import"./use-deep-compare-effect.esm.e5e25a62.js";import"./uniq.1eb55587.js";import"./_baseSlice.50189bc5.js";import"./toInteger.4e5bd8ec.js";import"./isSymbol.acb677d8.js";import"./_cacheHas.c3ef5294.js";import"./without.3cab2d82.js";import"./toString.e4762266.js";import"./_Set.13ddd322.js";import"./_setToArray.a82100c8.js";import"./Skeleton.95aeb5c4.js";import"./queryKeys.f96c2872.js";import"./RegularExpressions.3cd69849.js";import"./react-intersection-observer.esm.6d171a39.js";import"./SkeletonTable.69520a2f.js";import"./times.58442ccf.js";import"./EntityIcon.f20fbcec.js";import"./core.esm.dff18696.js";import"./pick.cd3085d6.js";import"./_baseClone.5541a1cb.js";import"./isEmpty.ffb8061e.js";import"./isEqual.6e289403.js";import"./index.browser.c38bfbad.js";import"./union.96ffd9ca.js";import"./CustomSelectWidget.019e7101.js";import"./isString.0b29996a.js";import"./usePopperMarginModifiers.fa06e499.js";import"./ToastMessage.06f6548f.js";import"./uniqueId.ac4a52ef.js";import"./factory.f9864e7a.js";import"./sqlFunctions.7c5ea660.js";import"./QueryFilter.ee6936f9.js";import"./useEntity.e9c8ccf5.js";import"./useMutation.fbb1c8e7.js";import"./SynapseTableConstants.07ecdebd.js";import"./FacetNav.ed2cb769.js";import"./queryUtils.b6571b13.js";import"./cloneDeep.399b0d62.js";import"./NoSearchResults.76b8e076.js";import"./NoData.43470a81.js";import"./unCamelCase.07e38083.js";import"./ColumnType.0fc7f115.js";import"./useGetQueryResultBundle.42b5d08f.js";import"./ElementWithTooltip.8e8a071c.js";import"./Dropdown.ebc0212b.js";import"./isRequiredForA11y.20ed4857.js";import"./Checkbox.adb21e17.js";import"./RadioGroup.63697a5f.js";import"./RangeSlider.be60d483.js";import"./react-sizeme.4669bd7b.js";import"./ColorGradient.16f0e0f2.js";import"./colorPalette.8145e2e2.js";import"./SelectionCriteriaPill.d3927ba9.js";import"./Close.fe4e1b6f.js";import"./relativeTime.810a453b.js";import"./useDownloadList.92dbf79d.js";import"./QueryCount.eb0c34ec.js";import"./IconList.b09a9d03.js";import"./UserCardList.988f8d92.js";import"./RestrictionInformation.edfbac5a.js";import"./FileUpload.48f16211.js";import"./UserSearchBox.03bb705a.js";import"./SynapseVideo.cbf89cbf.js";import"./IconCopy.a05a23c9.js";import"./Overlay.08bde75f.js";import"./utc.d4722960.js";import"./EntityModal.cdb3bdea.js";import"./SchemaDrivenAnnotationEditor.2b691e1c.js";import"./groupBy.1b534a75.js";import"./FileHandleUtils.67def25d.js";import"./UploadDestination.dcbd5975.js";import"./WarningModal.ca5f9f29.js";import"./Arrow.3fc85087.js";import"./useFavorites.973596d4.js";import"./immutable.es.28139da3.js";import"./ErrorChip.ab8c6b0c.js";import"./localizedFormat.b3ab46ab.js";import"./Paper.8b769746.js";import"./DialogContent.fe5141da.js";import"./Modal.32fd4057.js";import"./FormLabel.a1d88a2d.js";import"./isMuiElement.ed383d92.js";import"./index.f2a06ad4.js";import"./debounce.5d31b54e.js";import"./TextField.37cd6126.js";import"./MenuList.6689b856.js";import"./List.a5cb3c90.js";import"./RejectDataAccessRequestModal.acaa5691.js";import"./Stack.030a5c0c.js";import"./Box.d618e564.js";import"./toLower.77519bad.js";function Er(e,t){const{accessToken:a}=pr();return Sr(["accessApprovalSearch",e],async n=>await hr({...e,nextPageToken:n.pageParam},a),{...t,getNextPageParam:n=>n.nextPageToken})}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ae(e,t)}function Xe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ae(e,t)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j.apply(this,arguments)}function ae(e){return e.charAt(0)==="/"?e:"/"+e}function ke(e){return e.charAt(0)==="/"?e.substr(1):e}function Ir(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function Ze(e,t){return Ir(e,t)?e.substr(t.length):e}function er(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function Tr(e){var t=e||"/",a="",n="",i=t.indexOf("#");i!==-1&&(n=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return o!==-1&&(a=t.substr(o),t=t.substr(0,o)),{pathname:t,search:a==="?"?"":a,hash:n==="#"?"":n}}function M(e){var t=e.pathname,a=e.search,n=e.hash,i=t||"/";return a&&a!=="?"&&(i+=a.charAt(0)==="?"?a:"?"+a),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function W(e,t,a,n){var i;typeof e=="string"?(i=Tr(e),i.state=t):(i=j({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return a&&(i.key=a),n?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=sr(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function rr(){var e=null;function t(s){return e=s,function(){e===s&&(e=null)}}function a(s,h,c,l){if(e!=null){var C=typeof e=="function"?e(s,h):e;typeof C=="string"?typeof c=="function"?c(C,l):l(!0):l(C!==!1)}else l(!0)}var n=[];function i(s){var h=!0;function c(){h&&s.apply(void 0,arguments)}return n.push(c),function(){h=!1,n=n.filter(function(l){return l!==c})}}function o(){for(var s=arguments.length,h=new Array(s),c=0;c<s;c++)h[c]=arguments[c];n.forEach(function(l){return l.apply(void 0,h)})}return{setPrompt:t,confirmTransitionTo:a,appendListener:i,notifyListeners:o}}var tr=!!(typeof window<"u"&&window.document&&window.document.createElement);function ar(e,t){t(window.confirm(e))}function Pr(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Nr(){return window.navigator.userAgent.indexOf("Trident")===-1}function Or(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Dr(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Ue="popstate",Fe="hashchange";function Be(){try{return window.history.state||{}}catch{return{}}}function _r(e){e===void 0&&(e={}),tr||ve(!1);var t=window.history,a=Pr(),n=!Nr(),i=e,o=i.forceRefresh,s=o===void 0?!1:o,h=i.getUserConfirmation,c=h===void 0?ar:h,l=i.keyLength,C=l===void 0?6:l,E=e.basename?er(ae(e.basename)):"";function p(f){var d=f||{},g=d.key,v=d.state,I=window.location,O=I.pathname,D=I.search,k=I.hash,q=O+D+k;return E&&(q=Ze(q,E)),W(q,v,g)}function y(){return Math.random().toString(36).substr(2,C)}var R=rr();function A(f){j(x,f),x.length=t.length,R.notifyListeners(x.location,x.action)}function u(f){Dr(f)||T(p(f.state))}function b(){T(p(Be()))}var S=!1;function T(f){if(S)S=!1,A();else{var d="POP";R.confirmTransitionTo(f,d,c,function(g){g?A({action:d,location:f}):_(f)})}}function _(f){var d=x.location,g=P.indexOf(d.key);g===-1&&(g=0);var v=P.indexOf(f.key);v===-1&&(v=0);var I=g-v;I&&(S=!0,F(I))}var U=p(Be()),P=[U.key];function N(f){return E+M(f)}function G(f,d){var g="PUSH",v=W(f,d,y(),x.location);R.confirmTransitionTo(v,g,c,function(I){if(!!I){var O=N(v),D=v.key,k=v.state;if(a)if(t.pushState({key:D,state:k},null,O),s)window.location.href=O;else{var q=P.indexOf(x.location.key),z=P.slice(0,q+1);z.push(v.key),P=z,A({action:g,location:v})}else window.location.href=O}})}function K(f,d){var g="REPLACE",v=W(f,d,y(),x.location);R.confirmTransitionTo(v,g,c,function(I){if(!!I){var O=N(v),D=v.key,k=v.state;if(a)if(t.replaceState({key:D,state:k},null,O),s)window.location.replace(O);else{var q=P.indexOf(x.location.key);q!==-1&&(P[q]=v.key),A({action:g,location:v})}else window.location.replace(O)}})}function F(f){t.go(f)}function J(){F(-1)}function Re(){F(1)}var ee=0;function V(f){ee+=f,ee===1&&f===1?(window.addEventListener(Ue,u),n&&window.addEventListener(Fe,b)):ee===0&&(window.removeEventListener(Ue,u),n&&window.removeEventListener(Fe,b))}var B=!1;function X(f){f===void 0&&(f=!1);var d=R.setPrompt(f);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),d()}}function be(f){var d=R.appendListener(f);return V(1),function(){V(-1),d()}}var x={length:t.length,action:"POP",location:U,createHref:N,push:G,replace:K,go:F,goBack:J,goForward:Re,block:X,listen:be};return x}var He="hashchange",xr={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+ke(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:ke,decodePath:ae},slash:{encodePath:ae,decodePath:ae}};function nr(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function te(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function qr(e){window.location.hash=e}function ge(e){window.location.replace(nr(window.location.href)+"#"+e)}function Lr(e){e===void 0&&(e={}),tr||ve(!1);var t=window.history;Or();var a=e,n=a.getUserConfirmation,i=n===void 0?ar:n,o=a.hashType,s=o===void 0?"slash":o,h=e.basename?er(ae(e.basename)):"",c=xr[s],l=c.encodePath,C=c.decodePath;function E(){var d=C(te());return h&&(d=Ze(d,h)),W(d)}var p=rr();function y(d){j(f,d),f.length=t.length,p.notifyListeners(f.location,f.action)}var R=!1,A=null;function u(d,g){return d.pathname===g.pathname&&d.search===g.search&&d.hash===g.hash}function b(){var d=te(),g=l(d);if(d!==g)ge(g);else{var v=E(),I=f.location;if(!R&&u(I,v)||A===M(v))return;A=null,S(v)}}function S(d){if(R)R=!1,y();else{var g="POP";p.confirmTransitionTo(d,g,i,function(v){v?y({action:g,location:d}):T(d)})}}function T(d){var g=f.location,v=N.lastIndexOf(M(g));v===-1&&(v=0);var I=N.lastIndexOf(M(d));I===-1&&(I=0);var O=v-I;O&&(R=!0,J(O))}var _=te(),U=l(_);_!==U&&ge(U);var P=E(),N=[M(P)];function G(d){var g=document.querySelector("base"),v="";return g&&g.getAttribute("href")&&(v=nr(window.location.href)),v+"#"+l(h+M(d))}function K(d,g){var v="PUSH",I=W(d,void 0,void 0,f.location);p.confirmTransitionTo(I,v,i,function(O){if(!!O){var D=M(I),k=l(h+D),q=te()!==k;if(q){A=D,qr(k);var z=N.lastIndexOf(M(f.location)),xe=N.slice(0,z+1);xe.push(D),N=xe,y({action:v,location:I})}else y()}})}function F(d,g){var v="REPLACE",I=W(d,void 0,void 0,f.location);p.confirmTransitionTo(I,v,i,function(O){if(!!O){var D=M(I),k=l(h+D),q=te()!==k;q&&(A=D,ge(k));var z=N.indexOf(M(f.location));z!==-1&&(N[z]=D),y({action:v,location:I})}})}function J(d){t.go(d)}function Re(){J(-1)}function ee(){J(1)}var V=0;function B(d){V+=d,V===1&&d===1?window.addEventListener(He,b):V===0&&window.removeEventListener(He,b)}var X=!1;function be(d){d===void 0&&(d=!1);var g=p.setPrompt(d);return X||(B(1),X=!0),function(){return X&&(X=!1,B(-1)),g()}}function x(d){var g=p.appendListener(d);return B(1),function(){B(-1),g()}}var f={length:t.length,action:"POP",location:P,createHref:G,push:K,replace:F,go:J,goBack:Re,goForward:ee,block:be,listen:x};return f}function De(e,t){if(e==null)return{};var a={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(a[i]=e[i]);return a}var Mr=function(e){Xe(t,e);function t(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,n.history=_r(n.props),n}var a=t.prototype;return a.render=function(){return r(Ve,{history:this.history,children:this.props.children})},t}($.Component);$.Component;var Ce=function(t,a){return typeof t=="function"?t(a):t},we=function(t,a){return typeof t=="string"?W(t,null,null,a):t},_e=function(t){return t},Z=$.forwardRef;typeof Z>"u"&&(Z=_e);function kr(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ur=Z(function(e,t){var a=e.innerRef,n=e.navigate,i=e.onClick,o=De(e,["innerRef","navigate","onClick"]),s=o.target,h=j({},o,{onClick:function(l){try{i&&i(l)}catch(C){throw l.preventDefault(),C}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!kr(l)&&(l.preventDefault(),n())}});return _e!==Z?h.ref=t||a:h.ref=a,r("a",{...h})}),ir=Z(function(e,t){var a=e.component,n=a===void 0?Ur:a,i=e.replace,o=e.to,s=e.innerRef,h=De(e,["component","replace","to","innerRef"]);return $.createElement(Ye.Consumer,null,function(c){c||ve(!1);var l=c.history,C=we(Ce(o,c.location),c.location),E=C?l.createHref(C):"",p=j({},h,{href:E,navigate:function(){var R=Ce(o,c.location),A=M(c.location)===M(we(R)),u=i||A?l.replace:l.push;u(R)}});return _e!==Z?p.ref=t||s:p.innerRef=s,$.createElement(n,p)})}),or=function(t){return t},fe=$.forwardRef;typeof fe>"u"&&(fe=or);function Fr(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(n){return n}).join(" ")}var Br=fe(function(e,t){var a=e["aria-current"],n=a===void 0?"page":a,i=e.activeClassName,o=i===void 0?"active":i,s=e.activeStyle,h=e.className,c=e.exact,l=e.isActive,C=e.location,E=e.sensitive,p=e.strict,y=e.style,R=e.to,A=e.innerRef,u=De(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return $.createElement(Ye.Consumer,null,function(b){b||ve(!1);var S=C||b.location,T=we(Ce(R,S),S),_=T.pathname,U=_&&_.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=U?cr(S.pathname,{path:U,exact:c,sensitive:E,strict:p}):null,N=!!(l?l(P,S):P),G=typeof h=="function"?h(N):h,K=typeof y=="function"?y(N):y;N&&(G=Fr(G,o),K=j({},K,s));var F=j({"aria-current":N&&n||null,className:G,style:K,to:T},u);return or!==fe?F.ref=t||A:F.innerRef=A,r(ir,{...F})})});const ue=({accessorId:e,accessRequirementId:t})=>{var E;const[a,n]=w.exports.useState({field:re.MODIFIED_ON,direction:L.DESC}),i=w.exports.useMemo(()=>({accessorId:e,accessRequirementId:t,sort:[a]}),[e,t,a]),{data:o,hasNextPage:s,fetchNextPage:h,isLoading:c}=Er(i),l=(E=o==null?void 0:o.pages.flatMap(p=>p.results))!=null?E:[],C=p=>{a.field===p?n({field:p,direction:a.direction===L.DESC?L.ASC:L.DESC}):n({field:p,direction:L.DESC})};return m("div",{className:"AccessApprovalsTable bootstrap-4-backport",children:[m(Ne,{striped:!0,borderless:!0,bordered:!1,children:[r("thead",{children:m("tr",{children:[r("th",{children:"AR ID"}),r("th",{children:"Access Requirement Name"}),r("th",{children:"Submitter"}),r("th",{children:"Status"}),r("th",{children:m("span",{className:"SRC-split",children:[r("span",{children:"Modified Date"}),r(se,{role:"button",active:a.field===re.MODIFIED_ON,direction:a.field==="MODIFIED_ON"?a.direction==="DESC"?L.DESC:L.ASC:L.DESC,onClick:()=>C(re.MODIFIED_ON)})]})}),r("th",{children:m("span",{className:"SRC-split",children:[r("span",{children:"Expires"}),r(se,{role:"button",active:a.field===re.EXPIRED_ON,direction:a.field==="EXPIRED_ON"?a.direction==="DESC"?L.DESC:L.ASC:L.DESC,onClick:()=>C(re.EXPIRED_ON)})]})})]})}),r("tbody",{children:l.map(p=>m("tr",{children:[r("td",{children:r("a",{href:`${Qe.PORTAL}#!AccessRequirement:AR_ID=${p.accessRequirementId}`,children:p.accessRequirementId})}),r("td",{children:p.accessRequirementName}),r("td",{children:r(ze,{size:Ge,ownerId:p.submitterId})}),r("td",{children:We(p.state.toLocaleLowerCase())}),r("td",{children:ce(oe(p.modifiedOn))}),r("td",{className:`${p.expiredOn?new Date>new Date(p.expiredOn)?"expired":"":"non-expire"} remove-border`,children:p.expiredOn?ce(oe(p.expiredOn)):"Never"})]},p.id))})]}),c&&r("div",{className:"SRC-center-text",children:r(Se,{size:40})}),!c&&l.length===0&&r(H,{className:"SRC-center-text",variant:"body1",children:"No Results"}),s?r(le,{variant:"outline",onClick:()=>h,children:"Show More"}):""]})};try{ue.displayName="AccessApprovalsTable",ue.__docgenInfo={description:"",displayName:"AccessApprovalsTable",props:{accessorId:{defaultValue:null,description:"",name:"accessorId",required:!0,type:{name:"string"}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/AccessApprovalsTable.tsx#AccessApprovalsTable"]={docgenInfo:ue.__docgenInfo,name:"AccessApprovalsTable",path:"src/lib/containers/AccessApprovalsTable.tsx#AccessApprovalsTable"})}catch{}const ne=({showSubmitter:e,showStatus:t,showRequesters:a,accessorId:n,accessRequirementId:i,reviewerId:o,submissionState:s,reviewerFilterType:h})=>{var b;const[c,l]=w.exports.useState({field:qe.CREATED_ON,direction:L.DESC}),C=w.exports.useMemo(()=>({accessorId:n,accessRequirementId:i,submissionState:s,reviewerId:o,reviewerFilterType:h,sort:[c]}),[n,i,s,o,h,c]),{data:E,hasNextPage:p,fetchNextPage:y,isLoading:R}=Rr(C),A=(b=E==null?void 0:E.pages.flatMap(S=>S.results))!=null?b:[],u=S=>{c.field===S?l({field:S,direction:c.direction==="DESC"?"ASC":"DESC"}):l({field:S,direction:"DESC"})};return m("div",{className:"bootstrap-4-backport AccessSubmissionTable",children:[m(Ne,{striped:!0,borderless:!0,bordered:!1,children:[r("thead",{children:m("tr",{children:[r("th",{children:"REQUEST"}),r("th",{children:"Access Requirement Name"}),e&&r("th",{children:"Submitter"}),t&&r("th",{children:"Status"}),a&&r("th",{children:"Requesters"}),r("th",{children:"Reviewer(s)"}),m("th",{children:["Created Date",r(se,{role:"button",style:{float:"right"},active:c.field==="CREATED_ON","aria-label":"Sort by Created On",direction:c.field==="CREATED_ON"?c.direction==="DESC"?"DESC":"ASC":"DESC",onClick:()=>u(qe.CREATED_ON)})]})]})}),r("tbody",{children:A.map(S=>m("tr",{children:[r("td",{children:r(ir,{to:`/Submissions/${S.id}`,children:S.id})}),r("td",{children:S.accessRequirementName}),e&&r("td",{children:r(Q,{principalId:S.submitterId})}),t&&r("td",{children:We(S.state.toLocaleLowerCase())}),a&&m("td",{children:[r(Q,{principalId:S.submitterId}),S.accessorChanges.filter(T=>S.submitterId!==T.userId).map(T=>r("li",{children:r(ze,{size:Ge,ownerId:T.userId,className:"requester"})},T.userId))]}),r("td",{children:S.accessRequirementReviewerIds.length===0?r(Q,{principalId:Ke}):S.accessRequirementReviewerIds.map(T=>r(Q,{principalId:T},T))}),r("td",{children:ce(oe(S.createdOn))})]},S.id))})]}),R&&r("div",{className:"SRC-center-text",children:r(Se,{size:40})}),!R&&A.length==0&&r(H,{className:"SRC-center-text",variant:"body1",children:"No Results"}),p?r(le,{variant:"outline",onClick:()=>{y()},children:"Show More"}):""]})};try{ne.displayName="AccessRequestSubmissionTable",ne.__docgenInfo={description:"",displayName:"AccessRequestSubmissionTable",props:{showSubmitter:{defaultValue:null,description:"",name:"showSubmitter",required:!1,type:{name:"boolean"}},showStatus:{defaultValue:null,description:"",name:"showStatus",required:!1,type:{name:"boolean"}},showRequesters:{defaultValue:null,description:"",name:"showRequesters",required:!1,type:{name:"boolean"}},accessorId:{defaultValue:null,description:"",name:"accessorId",required:!1,type:{name:"string"}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},reviewerId:{defaultValue:null,description:"",name:"reviewerId",required:!1,type:{name:"string"}},submissionState:{defaultValue:null,description:"",name:"submissionState",required:!1,type:{name:"enum",value:[{value:'"SUBMITTED"'},{value:'"APPROVED"'},{value:'"REJECTED"'},{value:'"CANCELLED"'}]}},reviewerFilterType:{defaultValue:null,description:"",name:"reviewerFilterType",required:!1,type:{name:"enum",value:[{value:'"ALL"'},{value:'"ACT_ONLY"'},{value:'"DELEGATED_ONLY"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/AccessRequestSubmissionTable.tsx#AccessRequestSubmissionTable"]={docgenInfo:ne.__docgenInfo,name:"AccessRequestSubmissionTable",path:"src/lib/containers/AccessRequestSubmissionTable.tsx#AccessRequestSubmissionTable"})}catch{}const Hr=()=>{const[e,t]=w.exports.useState(),[a,n]=w.exports.useState(""),[i,o]=w.exports.useState({accessorId:a,accessRequirementId:e}),[s,h]=w.exports.useState({showStatus:!0,showSubmitter:!0,accessorId:a,accessRequirementId:e}),c=Ee(),l=Ie(),C=500,E=w.exports.useCallback(y=>{n(y||"")},[]);w.exports.useEffect(()=>{(()=>{var A,u;const R=new URLSearchParams(c.search);t((A=R.get("accessRequirementId"))!=null?A:void 0),n((u=R.get("accessorId"))!=null?u:"")})()},[c.search]),Pe(()=>{((R,A)=>{const u=new URLSearchParams(Oe({accessRequirementId:R,accessorId:A},b=>b===void 0||b===""));l.replace({pathname:c.pathname,search:u.toString()})})(e,a),o({accessorId:a,accessRequirementId:e}),h({showStatus:!0,showSubmitter:!0,accessorId:a,accessRequirementId:e})},[e,a,l,c.pathname],C);const p=()=>m("div",{className:"text-center",children:[r("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),r(H,{variant:"body1Italic",children:"Enter a user or team name in the search field above to view their data access history"})]});return m("div",{className:"UserHistoryDashboard bootstrap-4-backport",children:[m("div",{className:"InputPanel",children:[m("div",{children:[r(Y,{htmlFor:"user-filter",children:"Select a user to view their access history"}),r(me,{inputId:"user-filter",onChange:E,defaultValue:a,placeholder:"Search for a user name",typeFilter:$e.USERS_ONLY})]}),a&&m("div",{children:[r(Y,{htmlFor:"arName-filter",children:"Filter by Access Requirement Name"}),r(Je,{inputId:"arName-filter",placeholder:"Search for an Access Requirement Name ",onChange:t})]})]}),a?m(je,{children:[m(H,{variant:"headline3",children:["Submissions including ",r(Q,{principalId:a})]}),r(ne,{...s}),r(H,{variant:"headline3",children:"Status in Access Requirements"}),r(ue,{...i})]}):r(p,{})]})};function pe(e){var A;const{nameContains:t,relatedProjectId:a,reviewerId:n,accessType:i,onCreateNewAccessRequirementClicked:o}=e,[s,h]=w.exports.useState({field:"CREATED_ON",direction:"DESC"}),c=w.exports.useMemo(()=>({nameContains:t,relatedProjectId:a,reviewerId:n,accessType:i,sort:[s]}),[t,a,n,i,s]),{data:l,hasNextPage:C,fetchNextPage:E,isLoading:p}=yr(c),y=(A=l==null?void 0:l.pages.flatMap(u=>u.results))!=null?A:[],R=u=>{s.field===u?h({field:u,direction:s.direction==="DESC"?"ASC":"DESC"}):h({field:u,direction:"DESC"})};return m("div",{className:"bootstrap-4-backport",children:[m("div",{className:"SRC-split",children:[r(H,{variant:"headline3",style:{marginBottom:0},children:"Access Requirements"}),o&&m(le,{variant:"outline",onClick:o,children:[r(Te,{icon:"favTwoTone",sx:{paddingRight:"0.2rem"}}),"New Access Requirement"]})]}),m("div",{className:"AccessRequirementsTable",children:[m(Ne,{striped:!0,borderless:!0,bordered:!1,children:[r("thead",{className:"access-requirements-header",children:m("tr",{children:[r("th",{children:"AR ID"}),r("th",{children:m("span",{className:"SRC-split",children:[r("span",{children:"Access Requirement Name"}),r(se,{role:"button",onClick:()=>R("NAME"),"aria-label":"Sort by Name",active:s.field==="NAME",direction:s.field==="NAME"?s.direction:"DESC"})]})}),r("th",{children:"Related to Projects"}),r("th",{children:"Reviewer"}),r("th",{children:"Last Modified"}),r("th",{children:m("span",{className:"SRC-split",children:[r("span",{children:"Created On"}),r(se,{role:"button",onClick:()=>R("CREATED_ON"),active:s.field==="CREATED_ON","aria-label":"Sort by Created On",direction:s.field==="CREATED_ON"?s.direction:"DESC"})]})})]})}),r("tbody",{children:y.map(u=>m("tr",{children:[r("td",{children:r("a",{href:`${Qe.PORTAL}#!AccessRequirement:AR_ID=${u.id}`,children:u.id})}),r("td",{children:u.name}),r("td",{children:u.relatedProjectIds.map(b=>m($.Fragment,{children:[r(Ar,{entity:b})," ",m("span",{className:"InlineLabel",children:["(",b,")"]}),r("br",{})]},b))}),r("td",{children:u.reviewerIds.length===0?r(Q,{principalId:Ke}):u.reviewerIds.map(b=>r(Q,{principalId:b},b))}),r("td",{children:ce(oe(u.modifiedOn))}),r("td",{children:ce(oe(u.createdOn))})]},u.id))})]}),p&&r("div",{className:"SRC-center-text",children:r(Se,{size:40})}),!p&&y.length===0&&r(H,{className:"SRC-center-text",variant:"body1",children:"No Results"}),C?r(le,{variant:"outline",onClick:()=>{E()},children:"Show More"}):r(je,{})]})]})}try{pe.displayName="AccessRequirementTable",pe.__docgenInfo={description:"",displayName:"AccessRequirementTable",props:{nameContains:{defaultValue:null,description:"",name:"nameContains",required:!1,type:{name:"string"}},relatedProjectId:{defaultValue:null,description:"",name:"relatedProjectId",required:!1,type:{name:"string"}},reviewerId:{defaultValue:null,description:"",name:"reviewerId",required:!1,type:{name:"string"}},accessType:{defaultValue:null,description:"",name:"accessType",required:!1,type:{name:"enum",value:[{value:'"CREATE"'},{value:'"READ"'},{value:'"UPDATE"'},{value:'"DELETE"'},{value:'"CHANGE_PERMISSIONS"'},{value:'"DOWNLOAD"'},{value:'"UPLOAD"'},{value:'"PARTICIPATE"'},{value:'"SUBMIT"'},{value:'"READ_PRIVATE_SUBMISSION"'},{value:'"UPDATE_SUBMISSION"'},{value:'"DELETE_SUBMISSION"'},{value:'"TEAM_MEMBERSHIP_UPDATE"'},{value:'"SEND_MESSAGE"'},{value:'"CHANGE_SETTINGS"'},{value:'"MODERATE"'},{value:'"REVIEW_SUBMISSIONS"'}]}},onCreateNewAccessRequirementClicked:{defaultValue:null,description:"",name:"onCreateNewAccessRequirementClicked",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/dataaccess/AccessRequirementTable.tsx#AccessRequirementTable"]={docgenInfo:pe.__docgenInfo,name:"AccessRequirementTable",path:"src/lib/containers/dataaccess/AccessRequirementTable.tsx#AccessRequirementTable"})}catch{}function he(e){const{onCreateNewAccessRequirementClicked:a}=e,n=Ee(),i=Ie(),[o,s]=w.exports.useState(""),[h,c]=w.exports.useState(void 0),[l,C]=w.exports.useState(void 0);w.exports.useEffect(()=>{function u(){var S,T,_;const b=new URLSearchParams(n.search);s((S=b.get("nameContains"))!=null?S:""),c((T=b.get("relatedProjectId"))!=null?T:void 0),C((_=b.get("reviewerId"))!=null?_:void 0)}u()},[n.search]);const[E,p]=w.exports.useState(!1),[y,R]=w.exports.useState({nameContains:o,relatedProjectId:h,reviewerId:l,onCreateNewAccessRequirementClicked:a});Pe(()=>{function u(b,S,T){const _=Oe({nameContains:b,relatedProjectId:S,reviewerId:T},P=>P===void 0||P===""),U=new URLSearchParams(_);i.replace({pathname:n.pathname,search:U.toString()})}R({nameContains:o,relatedProjectId:h,reviewerId:l,onCreateNewAccessRequirementClicked:a}),u(o,h,l)},[o,h,l,a,i,n.pathname],500);const A=w.exports.useCallback(u=>{C(u||void 0)},[]);return m("div",{className:"AccessRequirementDashboard bootstrap-4-backport",children:[r(br,{configuration:{initialScope:gr.ALL_PROJECTS,initialContainer:null,selectMultiple:!1,selectableTypes:[mr.PROJECT]},show:E,onClose:()=>{p(!1)},onCancel:()=>{p(!1)},title:"Select Project to Filter Access Requirements",promptCopy:"Select a project to find Access Requirements that are associated with that project. Access Requirements will be found if the Access Requirement is applied to the project, or if it is applied to any item inside the project.",onConfirm:u=>{c(u[0].targetId),p(!1)},confirmButtonCopy:"Select"}),m("div",{className:"InputPanel",children:[m("div",{children:[r(Y,{htmlFor:"ar-name-filter",children:"Filter by Access Requirement Name"}),m(Cr,{children:[r(Le,{id:"ar-name-filter",type:"text",placeholder:"Search for an Access Requirement Name",value:o,onChange:u=>{s(u.target.value)}}),r(Te,{icon:"searchOutlined"})]})]}),m("div",{children:[r(Y,{htmlFor:"project-id-filter",children:"Filter by Project"}),m("div",{className:"ProjectIdInputGroup",children:[r(Le,{id:"project-id-filter",type:"text",placeholder:"Enter a project SynID",value:h,onChange:u=>{const b=u.target.value;c(b===""?void 0:b)}}),r(le,{variant:"outline",onClick:()=>{p(!0)},children:"Browse"})]})]}),m("div",{children:[r(Y,{htmlFor:"reviewer-filter",children:"Filter by Reviewer"}),r(me,{inputId:"reviewer-filter",placeholder:"Search for a username or team name",defaultValue:l,onChange:A})]})]}),r(pe,{...y})]})}try{he.displayName="AccessRequirementDashboard",he.__docgenInfo={description:"",displayName:"AccessRequirementDashboard",props:{onCreateNewAccessRequirementClicked:{defaultValue:null,description:"",name:"onCreateNewAccessRequirementClicked",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/dataaccess/AccessRequirementDashboard.tsx#AccessRequirementDashboard"]={docgenInfo:he.__docgenInfo,name:"AccessRequirementDashboard",path:"src/lib/containers/dataaccess/AccessRequirementDashboard.tsx#AccessRequirementDashboard"})}catch{}const jr=()=>{const[e,t]=w.exports.useState(),[a,n]=w.exports.useState(),[i,o]=w.exports.useState(),[s,h]=w.exports.useState({accessRequirementId:e,accessorId:a,reviewerId:i,showRequesters:!0,submissionState:Me.SUBMITTED}),c=Ee(),l=Ie(),C=500;w.exports.useEffect(()=>{(()=>{var A,u,b;const R=new URLSearchParams(c.search);t((A=R.get("accessRequirementId"))!=null?A:void 0),n((u=R.get("accessorId"))!=null?u:void 0),o((b=R.get("reviewerId"))!=null?b:void 0)})()},[c.search]);const E=w.exports.useCallback(y=>{n(y||void 0)},[]),p=w.exports.useCallback(y=>{o(y||void 0)},[]);return Pe(()=>{((R,A,u)=>{const b=new URLSearchParams(Oe({accessRequirementId:R,accessorId:A,reviewerId:u},S=>S===void 0||S===""));l.replace({pathname:c.pathname,search:b.toString()})})(e,a,i),h({accessRequirementId:e,accessorId:a,reviewerId:i,showRequesters:!0,submissionState:Me.SUBMITTED})},[e,a,i,l,c.pathname],C),m("div",{className:"AccessSubmissionDashboard bootstrap-4-backport",children:[m("div",{className:"InputPanel",children:[m("div",{children:[r(Y,{htmlFor:"arId-filter",children:"Filter by Access Requirement Name"}),r(Je,{inputId:"arId-filter",onChange:t,placeholder:"Search for an Access Requirement Name "})]}),m("div",{children:[r(Y,{htmlFor:"requester-filter",children:"Filter by Requester"}),r(me,{inputId:"requester-filter",placeholder:"Search for a user name",defaultValue:a,onChange:E,typeFilter:$e.USERS_ONLY})]}),m("div",{children:[r(Y,{htmlFor:"reviewer-filter",children:"Filter by Reviewer"}),r(me,{inputId:"reviewer-filter",placeholder:"Search for a user or team name",defaultValue:i,onChange:p})]})]}),r(H,{variant:"headline3",children:"Access Request Submissions"}),r(ne,{...s})]})};function ye(e){const{href:t,children:a,icon:n}=e;return m(Br,{className:"Tab",role:"tab",to:t,children:[r(Te,{icon:n,sx:{paddingRight:"0.2rem"}}),r(H,{variant:"buttonLink",children:a})]})}function ie(e){const{routerBaseName:t="#!DataAccessManagement:default",useMemoryRouter:a=!1}=e,{data:n,isLoading:i}=fr(),o=n==null?void 0:n.isACTMember,s=(n==null?void 0:n.isACTMember)||(n==null?void 0:n.isARReviewer),h=w.exports.useCallback(c=>a?r(lr,{...c}):r(Mr,{...c}),[a]);return i?r(Se,{size:50}):r(h,{basename:t,children:m("div",{className:"ReviewerDashboard",children:[m("div",{className:"Tabs",role:"tablist",children:[o&&r(ye,{href:"/AccessRequirements",icon:"accessClosed",children:"Access Requirements"}),s&&r(ye,{href:"/Submissions",icon:"discussion",children:"Submissions"}),o&&r(ye,{href:"/UserAccessHistory",icon:"history",children:"User Access History"})]}),r("div",{className:"TabContentContainer",children:r(vr,{children:m(dr,{children:[o&&r(de,{path:"/AccessRequirements",children:r(he,{})}),s&&[r(de,{exact:!0,path:"/Submissions",children:r(jr,{})},"/Submissions"),r(de,{path:"/Submissions/:id",children:r(Vr,{})},"/Submissions/:id")],r(de,{exact:!0,path:"/UserAccessHistory",children:r(Hr,{})})]})})})]})})}function Vr(){const{id:e}=ur();return r(wr,{submissionId:e})}try{ie.displayName="ReviewerDashboard",ie.__docgenInfo={description:"",displayName:"ReviewerDashboard",props:{routerBaseName:{defaultValue:null,description:"Used to determine the base path for the component. Default is #!DataAccessManagement:default",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"If true use a MemoryRouter, which prevents the browser URL from updating. For demo purposes only.",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/dataaccess/ReviewerDashboard.tsx#ReviewerDashboard"]={docgenInfo:ie.__docgenInfo,name:"ReviewerDashboard",path:"src/lib/containers/dataaccess/ReviewerDashboard.tsx#ReviewerDashboard"})}catch{}const Mn={parameters:{storySource:{source:`import React from 'react'
import { ComponentStory, ComponentMeta } from '@storybook/react'

import ReviewerDashboard from './ReviewerDashboard'

// More on default export: https://storybook.js.org/docs/react/writing-stories/introduction#default-export
export default {
  title: 'Governance/ReviewerDashboard',
  component: ReviewerDashboard,
  // More on argTypes: https://storybook.js.org/docs/react/api/argtypes
  argTypes: {},
} as ComponentMeta<typeof ReviewerDashboard>

// More on component templates: https://storybook.js.org/docs/react/writing-stories/introduction#using-args
const Template: ComponentStory<typeof ReviewerDashboard> = args => (
  <ReviewerDashboard {...args} />
)

export const Demo = Template.bind({})

Demo.args = {
  useMemoryRouter: true,
  routerBaseName: '#!/Other Components/ReviewerDashboard',
}
`,locationsMap:{demo:{startLoc:{col:59,line:15},endLoc:{col:1,line:17},startBody:{col:59,line:15},endBody:{col:1,line:17}}}}},title:"Governance/ReviewerDashboard",component:ie,argTypes:{}},Yr=e=>r(ie,{...e}),$r=Yr.bind({});$r.args={useMemoryRouter:!0,routerBaseName:"#!/Other Components/ReviewerDashboard"};const kn=["Demo"];export{$r as Demo,kn as __namedExportsOrder,Mn as default};
