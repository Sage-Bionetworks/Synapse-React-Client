import{r as g,a,F as E,j as e}from"./jsx-runtime.31268528.js";import{a9 as v}from"./index.22d2125e.js";import{a as y}from"./useGetAccessRequirement.b2c1473c.js";import{I as M}from"./ElementWithTooltip.c6b5d0bb.js";import{ak as p,aj as N,ai as I}from"./SynapseConstants.290eab74.js";import{h as n,i as O}from"./CardContainerLogic.a44526c0.js";import{S as o}from"./Skeleton.855acef4.js";import{T as b}from"./Typography.7deb443e.js";import{B as w}from"./Button.3eb9449f.js";const F="Requires Acceptance of Data-Specific Terms of Use",U="Requires Acceptance of Data-Specific Terms of Use",B="Requires Approval of Data-Specific Access Requirements",k="Access Restricted",R=({accessRequirementId:m,count:A})=>{var q,S,h;const f=v(),{data:s,isFetching:l,isError:c,error:u}=y(m);g.exports.useEffect(()=>{c&&u&&f(u)},[c,u,f]);const[L,_]=g.exports.useState(!1);let C=e(E,{});if(!c&&!l&&s){let t,r="",i="";switch(s.concreteType){case n.TermsOfUseAccessRequirement:t=F,r=I,i=(q=s.name)!=null?q:"";break;case n.SelfSignAccessRequirement:{t=U;const T=s;T.isValidatedProfileRequired?r=p:T.isCertifiedUserRequired?r=N:r=I,i=(S=s.name)!=null?S:"";break}case n.ManagedACTAccessRequirement:case n.ACTAccessRequirement:t=B,r=p,i=(h=s.name)!=null?h:"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":t=k,r=p,i="Access restricted pending review by Synapse Access and Compliance Team.";break}t&&(C=a("div",{className:"MeetAccessRequirementCard actionRequiredCard",children:[e(M,{type:r}),a("div",{className:"metadata",children:[e(b,{variant:"headline3",className:"title",children:t}),a("div",{className:"fileCount",children:[A," File(s)"]}),e("div",{className:"description",children:i})]}),e("div",{className:"startButtonContainer",children:e(w,{className:"startButton",variant:"primary",onClick:()=>_(!0),children:"Start"})})]}))}return a(E,{children:[!c&&!l&&C,l&&e(d,{}),L&&s&&e(O,{entityId:s.subjectIds[0].id,accessRequirementFromProps:[s],renderAsModal:!0,numberOfFilesAffected:A,onHide:()=>_(!1)})]})},d=()=>a("div",{className:"MeetAccessRequirementCard actionRequiredCard",children:[e(o,{variant:"rectangular",width:136,height:74}),a("div",{className:"metadata",children:[e("div",{className:"title",children:e(o,{width:320})}),e("div",{className:"fileCount",children:e(o,{width:100})})]}),e("div",{className:"startButtonContainer",children:e(o,{variant:"rectangular",width:160,height:33})})]});try{R.displayName="MeetAccessRequirementCard",R.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#MeetAccessRequirementCard"]={docgenInfo:R.__docgenInfo,name:"MeetAccessRequirementCard",path:"src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#MeetAccessRequirementCard"})}catch{}try{d.displayName="LoadingAccessRequirementCard",d.__docgenInfo={description:"",displayName:"LoadingAccessRequirementCard",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#LoadingAccessRequirementCard"]={docgenInfo:d.__docgenInfo,name:"LoadingAccessRequirementCard",path:"src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#LoadingAccessRequirementCard"})}catch{}export{d as L,R as M};
