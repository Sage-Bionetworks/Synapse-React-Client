{"version":3,"file":"ProvenanceGraph.stories.8df73ecd.js","sources":["../../node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js","../../node_modules/zustand/esm/index.js","../../node_modules/zustand/esm/context.js","../../node_modules/d3-dispatch/src/dispatch.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/array.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/selectChild.js","../../node_modules/d3-selection/src/selection/selectChildren.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/join.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/clone.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/iterator.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-selection/src/sourceEvent.js","../../node_modules/d3-selection/src/pointer.js","../../node_modules/d3-drag/src/noevent.js","../../node_modules/d3-drag/src/nodrag.js","../../node_modules/d3-drag/src/constant.js","../../node_modules/d3-drag/src/event.js","../../node_modules/d3-drag/src/drag.js","../../node_modules/d3-color/src/define.js","../../node_modules/d3-color/src/color.js","../../node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-interpolate/src/color.js","../../node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-interpolate/src/number.js","../../node_modules/d3-interpolate/src/string.js","../../node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-interpolate/src/zoom.js","../../node_modules/d3-timer/src/timer.js","../../node_modules/d3-timer/src/timeout.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/src/interrupt.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/easeVarying.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/textTween.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/end.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-zoom/src/constant.js","../../node_modules/d3-zoom/src/event.js","../../node_modules/d3-zoom/src/transform.js","../../node_modules/d3-zoom/src/noevent.js","../../node_modules/d3-zoom/src/zoom.js","../../node_modules/react-flow-renderer/dist/esm/index-de9ac4b8.js","../../node_modules/zustand/esm/shallow.js","../../node_modules/react-flow-renderer/dist/esm/useReactFlow-81d39885.js","../../node_modules/classcat/index.js","../../node_modules/react-flow-renderer/dist/esm/index3.js","../../node_modules/react-flow-renderer/dist/esm/index.js","../../src/lib/containers/provenance/ActivityNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceEntityIcon.tsx","../../src/lib/containers/provenance/EntityNodeLabel.tsx","../../src/lib/containers/provenance/ExpandGraphNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceExternalIcon.tsx","../../src/lib/containers/provenance/ExternalGraphNodeLabel.tsx","../../node_modules/dagre/lib/graphlib.js","../../node_modules/dagre/lib/lodash.js","../../node_modules/dagre/lib/data/list.js","../../node_modules/dagre/lib/greedy-fas.js","../../node_modules/dagre/lib/acyclic.js","../../node_modules/dagre/lib/util.js","../../node_modules/dagre/lib/normalize.js","../../node_modules/dagre/lib/rank/util.js","../../node_modules/dagre/lib/rank/feasible-tree.js","../../node_modules/dagre/lib/rank/network-simplex.js","../../node_modules/dagre/lib/rank/index.js","../../node_modules/dagre/lib/parent-dummy-chains.js","../../node_modules/dagre/lib/nesting-graph.js","../../node_modules/dagre/lib/add-border-segments.js","../../node_modules/dagre/lib/coordinate-system.js","../../node_modules/dagre/lib/order/init-order.js","../../node_modules/dagre/lib/order/cross-count.js","../../node_modules/dagre/lib/order/barycenter.js","../../node_modules/dagre/lib/order/resolve-conflicts.js","../../node_modules/dagre/lib/order/sort.js","../../node_modules/dagre/lib/order/sort-subgraph.js","../../node_modules/dagre/lib/order/build-layer-graph.js","../../node_modules/dagre/lib/order/add-subgraph-constraints.js","../../node_modules/dagre/lib/order/index.js","../../node_modules/dagre/lib/position/bk.js","../../node_modules/dagre/lib/position/index.js","../../node_modules/dagre/lib/layout.js","../../node_modules/dagre/lib/debug.js","../../node_modules/dagre/lib/version.js","../../node_modules/dagre/index.js","../../src/lib/containers/provenance/UndefinedNodeLabel.tsx","../../src/lib/containers/provenance/EntityPlaceholderNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceUtils.tsx","../../src/lib/utils/synapseTypes/Provenance/Provenance.ts","../../src/lib/containers/provenance/ProvenanceGraphUtils.ts","../../src/lib/containers/provenance/ProvenanceGraph.tsx"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar SIZE = 44;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-block'\n    },\n\n    /* Styles applied to the root element if `variant=\"static\"`. */\n    static: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `variant=\"indeterminate\"`. */\n    indeterminate: {\n      animation: '$circular-rotate 1.4s linear infinite'\n    },\n\n    /* Styles applied to the root element if `variant=\"determinate\"`. */\n    determinate: {\n      transition: theme.transitions.create('transform')\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the `svg` element. */\n    svg: {\n      display: 'block' // Keeps the progress centered\n\n    },\n\n    /* Styles applied to the `circle` svg path. */\n    circle: {\n      stroke: 'currentColor' // Use butt to follow the specification, by chance, it's already the default CSS value.\n      // strokeLinecap: 'butt',\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"static\"`. */\n    circleStatic: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"indeterminate\"`. */\n    circleIndeterminate: {\n      animation: '$circular-dash 1.4s ease-in-out infinite',\n      // Some default value that looks fine waiting for the animation to kicks in.\n      strokeDasharray: '80px, 200px',\n      strokeDashoffset: '0px' // Add the unit to fix a Edge 16 and below bug.\n\n    },\n\n    /* Styles applied to the `circle` svg path if `variant=\"determinate\"`. */\n    circleDeterminate: {\n      transition: theme.transitions.create('stroke-dashoffset')\n    },\n    '@keyframes circular-rotate': {\n      '0%': {\n        // Fix IE 11 wobbly\n        transformOrigin: '50% 50%'\n      },\n      '100%': {\n        transform: 'rotate(360deg)'\n      }\n    },\n    '@keyframes circular-dash': {\n      '0%': {\n        strokeDasharray: '1px, 200px',\n        strokeDashoffset: '0px'\n      },\n      '50%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-15px'\n      },\n      '100%': {\n        strokeDasharray: '100px, 200px',\n        strokeDashoffset: '-125px'\n      }\n    },\n\n    /* Styles applied to the `circle` svg path if `disableShrink={true}`. */\n    circleDisableShrink: {\n      animation: 'none'\n    }\n  };\n};\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$disableShrink = props.disableShrink,\n      disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 40 : _props$size,\n      style = props.style,\n      _props$thickness = props.thickness,\n      thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n      _props$value = props.value,\n      value = _props$value === void 0 ? 0 : _props$value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"]);\n\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n\n  if (variant === 'determinate' || variant === 'static') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], {\n      'determinate': classes.determinate,\n      'indeterminate': classes.indeterminate,\n      'static': classes.static\n    }[variant]),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other), /*#__PURE__*/React.createElement(\"svg\", {\n    className: classes.svg,\n    viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE)\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    className: clsx(classes.circle, disableShrink && classes.circleDisableShrink, {\n      'determinate': classes.circleDeterminate,\n      'indeterminate': classes.circleIndeterminate,\n      'static': classes.circleStatic\n    }[variant]),\n    style: circleStyle,\n    cx: SIZE,\n    cy: SIZE,\n    r: (SIZE - thickness) / 2,\n    fill: \"none\",\n    strokeWidth: thickness\n  })));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, function (props) {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('Material-UI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the circle.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The thickness of the circle.\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['determinate', 'indeterminate', 'static']), function (props) {\n    var variant = props.variant;\n\n    if (variant === 'static') {\n      throw new Error('Material-UI: `variant=\"static\"` was deprecated. Use `variant=\"determinate\"` instead.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCircularProgress',\n  flip: false\n})(CircularProgress);","import { useReducer, useRef, useDebugValue, useEffect, useLayoutEffect } from 'react';\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? useEffect : useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = useReducer((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = useRef(state);\n    const selectorRef = useRef(selector);\n    const equalityFnRef = useRef(equalityFn);\n    const erroredRef = useRef(false);\n    const currentSliceRef = useRef();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = useRef(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    useDebugValue(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\nexport { create as default };\n","import { createContext as createContext$1, useRef, createElement, useContext, useMemo } from 'react';\n\nfunction createContext() {\n  const ZustandContext = createContext$1(void 0);\n  const Provider = ({\n    initialStore,\n    createStore,\n    children\n  }) => {\n    const storeRef = useRef();\n    if (!storeRef.current) {\n      if (initialStore) {\n        console.warn(\"Provider initialStore is deprecated and will be removed in the next version.\");\n        if (!createStore) {\n          createStore = () => initialStore;\n        }\n      }\n      storeRef.current = createStore();\n    }\n    return createElement(ZustandContext.Provider, { value: storeRef.current }, children);\n  };\n  const useStore = (selector, equalityFn = Object.is) => {\n    const useProviderStore = useContext(ZustandContext);\n    if (!useProviderStore) {\n      throw new Error(\"Seems like you have not used zustand provider as an ancestor.\");\n    }\n    return useProviderStore(selector, equalityFn);\n  };\n  const useStoreApi = () => {\n    const useProviderStore = useContext(ZustandContext);\n    if (!useProviderStore) {\n      throw new Error(\"Seems like you have not used zustand provider as an ancestor.\");\n    }\n    return useMemo(() => ({\n      getState: useProviderStore.getState,\n      setState: useProviderStore.setState,\n      subscribe: useProviderStore.subscribe,\n      destroy: useProviderStore.destroy\n    }), [useProviderStore]);\n  };\n  return {\n    Provider,\n    useStore,\n    useStoreApi\n  };\n}\n\nexport { createContext as default };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import create from 'zustand';\nimport createContext from 'zustand/context';\nimport { zoomIdentity } from 'd3-zoom';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar ConnectionMode;\n\n(function (ConnectionMode) {\n  ConnectionMode[\"Strict\"] = \"strict\";\n  ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\n\nvar BackgroundVariant;\n\n(function (BackgroundVariant) {\n  BackgroundVariant[\"Lines\"] = \"lines\";\n  BackgroundVariant[\"Dots\"] = \"dots\";\n})(BackgroundVariant || (BackgroundVariant = {}));\n\nvar PanOnScrollMode;\n\n(function (PanOnScrollMode) {\n  PanOnScrollMode[\"Free\"] = \"free\";\n  PanOnScrollMode[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\n\nvar ConnectionLineType;\n\n(function (ConnectionLineType) {\n  ConnectionLineType[\"Bezier\"] = \"default\";\n  ConnectionLineType[\"Straight\"] = \"straight\";\n  ConnectionLineType[\"Step\"] = \"step\";\n  ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n  ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\n\nvar MarkerType;\n\n(function (MarkerType) {\n  MarkerType[\"Arrow\"] = \"arrow\";\n  MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n\n(function (Position) {\n  Position[\"Left\"] = \"left\";\n  Position[\"Top\"] = \"top\";\n  Position[\"Right\"] = \"right\";\n  Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nvar getDimensions = function getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n};\nvar clamp = function clamp(val) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.min(Math.max(val, min), max);\n};\nvar clampPosition = function clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n};\nvar getHostForElement = function getHostForElement(element) {\n  var _element$getRootNode, _window;\n\n  return ((_element$getRootNode = element.getRootNode) === null || _element$getRootNode === void 0 ? void 0 : _element$getRootNode.call(element)) || ((_window = window) === null || _window === void 0 ? void 0 : _window.document);\n};\nvar getBoundsOfBoxes = function getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n};\nvar rectToBox = function rectToBox(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height;\n  return {\n    x: x,\n    y: y,\n    x2: x + width,\n    y2: y + height\n  };\n};\nvar boxToRect = function boxToRect(_ref2) {\n  var x = _ref2.x,\n      y = _ref2.y,\n      x2 = _ref2.x2,\n      y2 = _ref2.y2;\n  return {\n    x: x,\n    y: y,\n    width: x2 - x,\n    height: y2 - y\n  };\n};\nvar getBoundsofRects = function getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n};\nvar isNumeric = function isNumeric(n) {\n  return !isNaN(n) && isFinite(n);\n};\nvar internalsSymbol = Symbol('internals');\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction handleParentExpand(res, updateItem) {\n  var parent = res.find(function (e) {\n    return e.id === updateItem.parentNode;\n  });\n\n  if (parent) {\n    var extendWidth = updateItem.position.x + updateItem.width - parent.width;\n    var extendHeight = updateItem.position.y + updateItem.height - parent.height;\n\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      var _parent$style$width, _parent$style$height;\n\n      parent.style = _objectSpread$4({}, parent.style) || {};\n      parent.style.width = (_parent$style$width = parent.style.width) !== null && _parent$style$width !== void 0 ? _parent$style$width : parent.width;\n      parent.style.height = (_parent$style$height = parent.style.height) !== null && _parent$style$height !== void 0 ? _parent$style$height : parent.height;\n\n      if (extendWidth > 0) {\n        parent.style.width += extendWidth;\n      }\n\n      if (extendHeight > 0) {\n        parent.style.height += extendHeight;\n      }\n\n      if (updateItem.position.x < 0) {\n        var xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        parent.style.width += xDiff;\n        updateItem.position.x = 0;\n      }\n\n      if (updateItem.position.y < 0) {\n        var yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        parent.style.height += yDiff;\n        updateItem.position.y = 0;\n      }\n\n      parent.width = parent.style.width;\n      parent.height = parent.style.height;\n    }\n  }\n}\n\nfunction applyChanges(changes, elements) {\n  // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n  if (changes.some(function (c) {\n    return c.type === 'reset';\n  })) {\n    return changes.filter(function (c) {\n      return c.type === 'reset';\n    }).map(function (c) {\n      return c.item;\n    });\n  }\n\n  var initElements = changes.filter(function (c) {\n    return c.type === 'add';\n  }).map(function (c) {\n    return c.item;\n  });\n  return elements.reduce(function (res, item) {\n    var currentChange = changes.find(function (c) {\n      return c.id === item.id;\n    });\n\n    if (currentChange) {\n      switch (currentChange.type) {\n        case 'select':\n          {\n            res.push(_objectSpread$4(_objectSpread$4({}, item), {}, {\n              selected: currentChange.selected\n            }));\n            return res;\n          }\n\n        case 'position':\n          {\n            var updateItem = _objectSpread$4({}, item);\n\n            if (typeof currentChange.position !== 'undefined') {\n              updateItem.position = currentChange.position;\n            }\n\n            if (typeof currentChange.positionAbsolute !== 'undefined') {\n              updateItem.positionAbsolute = currentChange.positionAbsolute;\n            }\n\n            if (typeof currentChange.dragging !== 'undefined') {\n              updateItem.dragging = currentChange.dragging;\n            }\n\n            if (updateItem.expandParent) {\n              handleParentExpand(res, updateItem);\n            }\n\n            res.push(updateItem);\n            return res;\n          }\n\n        case 'dimensions':\n          {\n            var _updateItem = _objectSpread$4({}, item);\n\n            if (typeof currentChange.dimensions !== 'undefined') {\n              _updateItem.width = currentChange.dimensions.width;\n              _updateItem.height = currentChange.dimensions.height;\n            }\n\n            if (_updateItem.expandParent) {\n              handleParentExpand(res, _updateItem);\n            }\n\n            res.push(_updateItem);\n            return res;\n          }\n\n        case 'remove':\n          {\n            return res;\n          }\n      }\n    }\n\n    res.push(item);\n    return res;\n  }, initElements);\n}\n\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nvar createSelectionChange = function createSelectionChange(id, selected) {\n  return {\n    id: id,\n    type: 'select',\n    selected: selected\n  };\n};\nfunction getSelectionChanges(items, selectedIds) {\n  return items.reduce(function (res, item) {\n    var willBeSelected = selectedIds.includes(item.id);\n\n    if (!item.selected && willBeSelected) {\n      item.selected = true;\n      res.push(createSelectionChange(item.id, true));\n    } else if (item.selected && !willBeSelected) {\n      item.selected = false;\n      res.push(createSelectionChange(item.id, false));\n    }\n\n    return res;\n  }, []);\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getHandleBounds = function getHandleBounds(selector, nodeElement, zoom) {\n  var handles = nodeElement.querySelectorAll(selector);\n\n  if (!handles || !handles.length) {\n    return null;\n  }\n\n  var handlesArray = Array.from(handles);\n  var nodeBounds = nodeElement.getBoundingClientRect();\n  return handlesArray.map(function (handle) {\n    var handleBounds = handle.getBoundingClientRect();\n    return _objectSpread$3({\n      id: handle.getAttribute('data-handleid'),\n      position: handle.getAttribute('data-handlepos'),\n      x: (handleBounds.left - nodeBounds.left) / zoom,\n      y: (handleBounds.top - nodeBounds.top) / zoom\n    }, getDimensions(handle));\n  });\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var node = getState().nodeInternals.get(id);\n    handler(event, _objectSpread$3({}, node));\n  };\n} // this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\n\nfunction handleNodeClick(_ref) {\n  var id = _ref.id,\n      store = _ref.store;\n\n  var _store$getState = store.getState(),\n      addSelectedNodes = _store$getState.addSelectedNodes,\n      unselectNodesAndEdges = _store$getState.unselectNodesAndEdges,\n      multiSelectionActive = _store$getState.multiSelectionActive,\n      nodeInternals = _store$getState.nodeInternals;\n\n  var node = nodeInternals.get(id);\n  store.setState({\n    nodesSelectionActive: false\n  });\n\n  if (!node.selected) {\n    addSelectedNodes([id]);\n  } else if (node.selected && multiSelectionActive) {\n    unselectNodesAndEdges({\n      nodes: [node]\n    });\n  }\n}\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar isEdge = function isEdge(element) {\n  return 'id' in element && 'source' in element && 'target' in element;\n};\nvar isNode = function isNode(element) {\n  return 'id' in element && !('source' in element) && !('target' in element);\n};\nvar getOutgoers = function getOutgoers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var outgoerIds = edges.filter(function (e) {\n    return e.source === node.id;\n  }).map(function (e) {\n    return e.target;\n  });\n  return nodes.filter(function (n) {\n    return outgoerIds.includes(n.id);\n  });\n};\nvar getIncomers = function getIncomers(node, nodes, edges) {\n  if (!isNode(node)) {\n    return [];\n  }\n\n  var incomersIds = edges.filter(function (e) {\n    return e.target === node.id;\n  }).map(function (e) {\n    return e.source;\n  });\n  return nodes.filter(function (n) {\n    return incomersIds.includes(n.id);\n  });\n};\n\nvar getEdgeId = function getEdgeId(_ref) {\n  var source = _ref.source,\n      sourceHandle = _ref.sourceHandle,\n      target = _ref.target,\n      targetHandle = _ref.targetHandle;\n  return \"reactflow__edge-\".concat(source).concat(sourceHandle || '', \"-\").concat(target).concat(targetHandle || '');\n};\n\nvar getMarkerId = function getMarkerId(marker, rfId) {\n  if (typeof marker === 'undefined') {\n    return '';\n  }\n\n  if (typeof marker === 'string') {\n    return marker;\n  }\n\n  var idPrefix = rfId ? \"\".concat(rfId, \"__\") : '';\n  return \"\".concat(idPrefix).concat(Object.keys(marker).sort().map(function (key) {\n    return \"\".concat(key, \"=\").concat(marker[key]);\n  }).join('&'));\n};\n\nvar connectionExists = function connectionExists(edge, edges) {\n  return edges.some(function (el) {\n    return el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle);\n  });\n};\n\nvar addEdge = function addEdge(edgeParams, edges) {\n  if (!edgeParams.source || !edgeParams.target) {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\"[React Flow]: Can't create edge. An edge needs a source and a target. Help: https://reactflow.dev/error#600\");\n    }\n\n    return edges;\n  }\n\n  var edge;\n\n  if (isEdge(edgeParams)) {\n    edge = _objectSpread$2({}, edgeParams);\n  } else {\n    edge = _objectSpread$2(_objectSpread$2({}, edgeParams), {}, {\n      id: getEdgeId(edgeParams)\n    });\n  }\n\n  if (connectionExists(edge, edges)) {\n    return edges;\n  }\n\n  return edges.concat(edge);\n};\nvar updateEdge = function updateEdge(oldEdge, newConnection, edges) {\n  if (!newConnection.source || !newConnection.target) {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\"[React Flow]: Can't create a new edge. An edge needs a source and a target. Help: https://reactflow.dev/error#600\");\n    }\n\n    return edges;\n  }\n\n  var foundEdge = edges.find(function (e) {\n    return e.id === oldEdge.id;\n  });\n\n  if (!foundEdge) {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(\"[React Flow]: The old edge with id=\".concat(oldEdge.id, \" does not exist. Help: https://reactflow.dev/error#700\"));\n    }\n\n    return edges;\n  } // Remove old edge and create the new edge with parameters of old edge.\n\n\n  var edge = _objectSpread$2(_objectSpread$2({}, oldEdge), {}, {\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  });\n\n  return edges.filter(function (e) {\n    return e.id !== oldEdge.id;\n  }).concat(edge);\n};\nvar pointToRendererPoint = function pointToRendererPoint(_ref2, _ref3, snapToGrid, _ref4) {\n  var x = _ref2.x,\n      y = _ref2.y;\n\n  var _ref5 = _slicedToArray(_ref3, 3),\n      tx = _ref5[0],\n      ty = _ref5[1],\n      tScale = _ref5[2];\n\n  var _ref6 = _slicedToArray(_ref4, 2),\n      snapX = _ref6[0],\n      snapY = _ref6[1];\n\n  var position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n\n  return position;\n};\nvar getRectOfNodes = function getRectOfNodes(nodes) {\n  if (nodes.length === 0) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n\n  var box = nodes.reduce(function (currBox, _ref7) {\n    var positionAbsolute = _ref7.positionAbsolute,\n        position = _ref7.position,\n        width = _ref7.width,\n        height = _ref7.height;\n    return getBoundsOfBoxes(currBox, rectToBox({\n      x: positionAbsolute ? positionAbsolute.x : position.x,\n      y: positionAbsolute ? positionAbsolute.y : position.y,\n      width: width || 0,\n      height: height || 0\n    }));\n  }, {\n    x: Infinity,\n    y: Infinity,\n    x2: -Infinity,\n    y2: -Infinity\n  });\n  return boxToRect(box);\n};\nvar getNodesInside = function getNodesInside(nodeInternals, rect) {\n  var _ref8 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [0, 0, 1],\n      _ref9 = _slicedToArray(_ref8, 3),\n      tx = _ref9[0],\n      ty = _ref9[1],\n      tScale = _ref9[2];\n\n  var partially = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var excludeNonSelectableNodes = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var rBox = rectToBox({\n    x: (rect.x - tx) / tScale,\n    y: (rect.y - ty) / tScale,\n    width: rect.width / tScale,\n    height: rect.height / tScale\n  });\n  var visibleNodes = [];\n  nodeInternals.forEach(function (node) {\n    var positionAbsolute = node.positionAbsolute,\n        width = node.width,\n        height = node.height,\n        _node$selectable = node.selectable,\n        selectable = _node$selectable === void 0 ? true : _node$selectable;\n\n    if (excludeNonSelectableNodes && !selectable) {\n      return false;\n    }\n\n    var nBox = rectToBox(_objectSpread$2(_objectSpread$2({}, positionAbsolute), {}, {\n      width: width || 0,\n      height: height || 0\n    }));\n    var xOverlap = Math.max(0, Math.min(rBox.x2, nBox.x2) - Math.max(rBox.x, nBox.x));\n    var yOverlap = Math.max(0, Math.min(rBox.y2, nBox.y2) - Math.max(rBox.y, nBox.y));\n    var overlappingArea = Math.ceil(xOverlap * yOverlap);\n    var notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n    var partiallyVisible = partially && overlappingArea > 0;\n    var area = (width || 0) * (height || 0);\n    var isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n\n    if (isVisible) {\n      visibleNodes.push(node);\n    }\n  });\n  return visibleNodes;\n};\nvar getConnectedEdges = function getConnectedEdges(nodes, edges) {\n  var nodeIds = nodes.map(function (node) {\n    return node.id;\n  });\n  return edges.filter(function (edge) {\n    return nodeIds.includes(edge.source) || nodeIds.includes(edge.target);\n  });\n};\nvar getTransformForBounds = function getTransformForBounds(bounds, width, height, minZoom, maxZoom) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n  var xZoom = width / (bounds.width * (1 + padding));\n  var yZoom = height / (bounds.height * (1 + padding));\n  var zoom = Math.min(xZoom, yZoom);\n  var clampedZoom = clamp(zoom, minZoom, maxZoom);\n  var boundsCenterX = bounds.x + bounds.width / 2;\n  var boundsCenterY = bounds.y + bounds.height / 2;\n  var x = width / 2 - boundsCenterX * clampedZoom;\n  var y = height / 2 - boundsCenterY * clampedZoom;\n  return [x, y, clampedZoom];\n};\nvar getD3Transition = function getD3Transition(selection) {\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return selection.transition().duration(duration);\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction calculateXYZPosition(node, nodeInternals, parentNodes, result) {\n  var _result$x, _parentNode$position$, _parentNode$position, _result$y, _parentNode$position$2, _parentNode$position2, _parentNode$internals, _parentNode$internals2, _result$z, _parentNode$internals3, _parentNode$internals4, _result$z2;\n\n  if (!node.parentNode) {\n    return result;\n  }\n\n  var parentNode = nodeInternals.get(node.parentNode);\n  return calculateXYZPosition(parentNode, nodeInternals, parentNodes, {\n    x: ((_result$x = result.x) !== null && _result$x !== void 0 ? _result$x : 0) + ((_parentNode$position$ = (_parentNode$position = parentNode.position) === null || _parentNode$position === void 0 ? void 0 : _parentNode$position.x) !== null && _parentNode$position$ !== void 0 ? _parentNode$position$ : 0),\n    y: ((_result$y = result.y) !== null && _result$y !== void 0 ? _result$y : 0) + ((_parentNode$position$2 = (_parentNode$position2 = parentNode.position) === null || _parentNode$position2 === void 0 ? void 0 : _parentNode$position2.y) !== null && _parentNode$position$2 !== void 0 ? _parentNode$position$2 : 0),\n    z: ((_parentNode$internals = (_parentNode$internals2 = parentNode[internalsSymbol]) === null || _parentNode$internals2 === void 0 ? void 0 : _parentNode$internals2.z) !== null && _parentNode$internals !== void 0 ? _parentNode$internals : 0) > ((_result$z = result.z) !== null && _result$z !== void 0 ? _result$z : 0) ? (_parentNode$internals3 = (_parentNode$internals4 = parentNode[internalsSymbol]) === null || _parentNode$internals4 === void 0 ? void 0 : _parentNode$internals4.z) !== null && _parentNode$internals3 !== void 0 ? _parentNode$internals3 : 0 : (_result$z2 = result.z) !== null && _result$z2 !== void 0 ? _result$z2 : 0\n  });\n}\n\nfunction createNodeInternals(nodes, nodeInternals) {\n  var nextNodeInternals = new Map();\n  var parentNodes = {};\n  nodes.forEach(function (node) {\n    var _currInternals$intern;\n\n    var z = isNumeric(node.zIndex) ? node.zIndex : node.selected ? 1000 : 0;\n    var currInternals = nodeInternals.get(node.id);\n\n    var internals = _objectSpread$1(_objectSpread$1({\n      width: currInternals === null || currInternals === void 0 ? void 0 : currInternals.width,\n      height: currInternals === null || currInternals === void 0 ? void 0 : currInternals.height\n    }, node), {}, {\n      positionAbsolute: {\n        x: node.position.x,\n        y: node.position.y\n      }\n    });\n\n    if (node.parentNode) {\n      internals.parentNode = node.parentNode;\n      parentNodes[node.parentNode] = true;\n    }\n\n    Object.defineProperty(internals, internalsSymbol, {\n      enumerable: false,\n      value: {\n        handleBounds: currInternals === null || currInternals === void 0 ? void 0 : (_currInternals$intern = currInternals[internalsSymbol]) === null || _currInternals$intern === void 0 ? void 0 : _currInternals$intern.handleBounds,\n        z: z\n      }\n    });\n    nextNodeInternals.set(node.id, internals);\n  });\n  nextNodeInternals.forEach(function (node) {\n    if (node.parentNode && !nextNodeInternals.has(node.parentNode)) {\n      throw new Error(\"Parent node \".concat(node.parentNode, \" not found\"));\n    }\n\n    if (node.parentNode || parentNodes[node.id]) {\n      var _node$internalsSymbol, _node$internalsSymbol2;\n\n      var _calculateXYZPosition = calculateXYZPosition(node, nextNodeInternals, parentNodes, _objectSpread$1(_objectSpread$1({}, node.position), {}, {\n        z: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0\n      })),\n          x = _calculateXYZPosition.x,\n          y = _calculateXYZPosition.y,\n          z = _calculateXYZPosition.z;\n\n      node.positionAbsolute = {\n        x: x,\n        y: y\n      };\n      node[internalsSymbol].z = z;\n\n      if (parentNodes[node.id]) {\n        node[internalsSymbol].isParent = true;\n      }\n    }\n  });\n  return nextNodeInternals;\n}\nfunction fitView(get) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _get = get(),\n      nodeInternals = _get.nodeInternals,\n      width = _get.width,\n      height = _get.height,\n      minZoom = _get.minZoom,\n      maxZoom = _get.maxZoom,\n      d3Zoom = _get.d3Zoom,\n      d3Selection = _get.d3Selection,\n      fitViewOnInitDone = _get.fitViewOnInitDone,\n      fitViewOnInit = _get.fitViewOnInit;\n\n  if (options.initial && !fitViewOnInitDone && fitViewOnInit || !options.initial) {\n    if (d3Zoom && d3Selection) {\n      var nodes = Array.from(nodeInternals.values()).filter(function (n) {\n        return options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n      });\n      var nodesInitialized = nodes.every(function (n) {\n        return n.width && n.height;\n      });\n\n      if (nodes.length > 0 && nodesInitialized) {\n        var _options$minZoom, _options$maxZoom, _options$padding;\n\n        var bounds = getRectOfNodes(nodes);\n\n        var _getTransformForBound = getTransformForBounds(bounds, width, height, (_options$minZoom = options.minZoom) !== null && _options$minZoom !== void 0 ? _options$minZoom : minZoom, (_options$maxZoom = options.maxZoom) !== null && _options$maxZoom !== void 0 ? _options$maxZoom : maxZoom, (_options$padding = options.padding) !== null && _options$padding !== void 0 ? _options$padding : 0.1),\n            _getTransformForBound2 = _slicedToArray(_getTransformForBound, 3),\n            x = _getTransformForBound2[0],\n            y = _getTransformForBound2[1],\n            zoom = _getTransformForBound2[2];\n\n        var nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n\n        if (typeof options.duration === 'number' && options.duration > 0) {\n          d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n        } else {\n          d3Zoom.transform(d3Selection, nextTransform);\n        }\n\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n  nodeChanges.forEach(function (change) {\n    var node = nodeInternals.get(change.id);\n\n    if (node) {\n      var _objectSpread2;\n\n      nodeInternals.set(node.id, _objectSpread$1(_objectSpread$1({}, node), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, internalsSymbol, node[internalsSymbol]), _defineProperty(_objectSpread2, \"selected\", change.selected), _objectSpread2)));\n    }\n  });\n  return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n  return edges.map(function (e) {\n    var change = edgeChanges.find(function (change) {\n      return change.id === e.id;\n    });\n\n    if (change) {\n      e.selected = change.selected;\n    }\n\n    return e;\n  });\n}\nfunction updateNodesAndEdgesSelections(_ref) {\n  var changedNodes = _ref.changedNodes,\n      changedEdges = _ref.changedEdges,\n      get = _ref.get,\n      set = _ref.set;\n\n  var _get2 = get(),\n      nodeInternals = _get2.nodeInternals,\n      edges = _get2.edges,\n      onNodesChange = _get2.onNodesChange,\n      onEdgesChange = _get2.onEdgesChange,\n      hasDefaultNodes = _get2.hasDefaultNodes,\n      hasDefaultEdges = _get2.hasDefaultEdges;\n\n  if (changedNodes !== null && changedNodes !== void 0 && changedNodes.length) {\n    if (hasDefaultNodes) {\n      set({\n        nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals)\n      });\n    }\n\n    onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changedNodes);\n  }\n\n  if (changedEdges !== null && changedEdges !== void 0 && changedEdges.length) {\n    if (hasDefaultEdges) {\n      set({\n        edges: handleControlledEdgeSelectionChange(changedEdges, edges)\n      });\n    }\n\n    onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(changedEdges);\n  }\n}\n\nvar infiniteExtent = [[Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY], [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]];\nvar initialState = {\n  width: 0,\n  height: 0,\n  transform: [0, 0, 1],\n  nodeInternals: new Map(),\n  edges: [],\n  onNodesChange: null,\n  onEdgesChange: null,\n  hasDefaultNodes: false,\n  hasDefaultEdges: false,\n  d3Zoom: null,\n  d3Selection: null,\n  d3ZoomHandler: undefined,\n  minZoom: 0.5,\n  maxZoom: 2,\n  translateExtent: infiniteExtent,\n  nodeExtent: infiniteExtent,\n  nodesSelectionActive: false,\n  userSelectionActive: false,\n  connectionNodeId: null,\n  connectionHandleId: null,\n  connectionHandleType: 'source',\n  connectionPosition: {\n    x: 0,\n    y: 0\n  },\n  connectionMode: ConnectionMode.Strict,\n  snapGrid: [15, 15],\n  snapToGrid: false,\n  nodesDraggable: true,\n  nodesConnectable: true,\n  elementsSelectable: true,\n  fitViewOnInit: false,\n  fitViewOnInitDone: false,\n  fitViewOnInitOptions: undefined,\n  multiSelectionActive: false,\n  reactFlowVersion: \"10.3.11\" ,\n  connectionStartHandle: null,\n  connectOnClick: true\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar _createContext = createContext(),\n    Provider = _createContext.Provider,\n    useStore = _createContext.useStore,\n    useStoreApi = _createContext.useStoreApi;\n\nvar createStore = function createStore() {\n  return create(function (set, get) {\n    return _objectSpread(_objectSpread({}, initialState), {}, {\n      setNodes: function setNodes(nodes) {\n        set({\n          nodeInternals: createNodeInternals(nodes, get().nodeInternals)\n        });\n      },\n      setEdges: function setEdges(edges) {\n        var _get = get(),\n            _get$defaultEdgeOptio = _get.defaultEdgeOptions,\n            defaultEdgeOptions = _get$defaultEdgeOptio === void 0 ? {} : _get$defaultEdgeOptio;\n\n        set({\n          edges: edges.map(function (e) {\n            return _objectSpread(_objectSpread({}, defaultEdgeOptions), e);\n          })\n        });\n      },\n      setDefaultNodesAndEdges: function setDefaultNodesAndEdges(nodes, edges) {\n        var hasDefaultNodes = typeof nodes !== 'undefined';\n        var hasDefaultEdges = typeof edges !== 'undefined';\n        var nodeInternals = hasDefaultNodes ? createNodeInternals(nodes, new Map()) : new Map();\n        var nextEdges = hasDefaultEdges ? edges : [];\n        set({\n          nodeInternals: nodeInternals,\n          edges: nextEdges,\n          hasDefaultNodes: hasDefaultNodes,\n          hasDefaultEdges: hasDefaultEdges\n        });\n      },\n      updateNodeDimensions: function updateNodeDimensions(updates) {\n        var _get2 = get(),\n            onNodesChange = _get2.onNodesChange,\n            nodeInternals = _get2.nodeInternals,\n            fitViewOnInit = _get2.fitViewOnInit,\n            fitViewOnInitDone = _get2.fitViewOnInitDone,\n            fitViewOnInitOptions = _get2.fitViewOnInitOptions;\n\n        var style = window.getComputedStyle(document.querySelector('.react-flow__viewport'));\n\n        var _window$DOMMatrixRead = new window.DOMMatrixReadOnly(style.transform),\n            zoom = _window$DOMMatrixRead.m22;\n\n        var changes = updates.reduce(function (res, update) {\n          var node = nodeInternals.get(update.id);\n\n          if (node) {\n            var dimensions = getDimensions(update.nodeElement);\n            var doUpdate = !!(dimensions.width && dimensions.height && (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n\n            if (doUpdate) {\n              nodeInternals.set(node.id, _objectSpread(_objectSpread({}, node), {}, _defineProperty({}, internalsSymbol, _objectSpread(_objectSpread({}, node[internalsSymbol]), {}, {\n                handleBounds: {\n                  source: getHandleBounds('.source', update.nodeElement, zoom),\n                  target: getHandleBounds('.target', update.nodeElement, zoom)\n                }\n              })), dimensions));\n              res.push({\n                id: node.id,\n                type: 'dimensions',\n                dimensions: dimensions\n              });\n            }\n          }\n\n          return res;\n        }, []);\n        var nextFitViewOnInitDone = fitViewOnInitDone || fitViewOnInit && !fitViewOnInitDone && fitView(get, _objectSpread({\n          initial: true\n        }, fitViewOnInitOptions));\n        set({\n          nodeInternals: new Map(nodeInternals),\n          fitViewOnInitDone: nextFitViewOnInitDone\n        });\n\n        if ((changes === null || changes === void 0 ? void 0 : changes.length) > 0) {\n          onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n        }\n      },\n      updateNodePositions: function updateNodePositions(nodeDragItems) {\n        var positionChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        var dragging = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        var _get3 = get(),\n            onNodesChange = _get3.onNodesChange,\n            nodeInternals = _get3.nodeInternals,\n            hasDefaultNodes = _get3.hasDefaultNodes;\n\n        if (hasDefaultNodes || onNodesChange) {\n          var changes = nodeDragItems.map(function (node) {\n            var change = {\n              id: node.id,\n              type: 'position',\n              dragging: dragging\n            };\n\n            if (positionChanged) {\n              change.positionAbsolute = node.positionAbsolute;\n              change.position = node.position;\n            }\n\n            return change;\n          });\n\n          if (changes !== null && changes !== void 0 && changes.length) {\n            if (hasDefaultNodes) {\n              var nodes = applyNodeChanges(changes, Array.from(nodeInternals.values()));\n              var nextNodeInternals = createNodeInternals(nodes, nodeInternals);\n              set({\n                nodeInternals: nextNodeInternals\n              });\n            }\n\n            onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n          }\n        }\n      },\n      addSelectedNodes: function addSelectedNodes(selectedNodeIds) {\n        var _get4 = get(),\n            multiSelectionActive = _get4.multiSelectionActive,\n            nodeInternals = _get4.nodeInternals,\n            edges = _get4.edges;\n\n        var changedNodes;\n        var changedEdges = null;\n\n        if (multiSelectionActive) {\n          changedNodes = selectedNodeIds.map(function (nodeId) {\n            return createSelectionChange(nodeId, true);\n          });\n        } else {\n          changedNodes = getSelectionChanges(Array.from(nodeInternals.values()), selectedNodeIds);\n          changedEdges = getSelectionChanges(edges, []);\n        }\n\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      addSelectedEdges: function addSelectedEdges(selectedEdgeIds) {\n        var _get5 = get(),\n            multiSelectionActive = _get5.multiSelectionActive,\n            edges = _get5.edges,\n            nodeInternals = _get5.nodeInternals;\n\n        var changedEdges;\n        var changedNodes = null;\n\n        if (multiSelectionActive) {\n          changedEdges = selectedEdgeIds.map(function (edgeId) {\n            return createSelectionChange(edgeId, true);\n          });\n        } else {\n          changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n          changedNodes = getSelectionChanges(Array.from(nodeInternals.values()), []);\n        }\n\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      unselectNodesAndEdges: function unselectNodesAndEdges() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            nodes = _ref.nodes,\n            edges = _ref.edges;\n\n        var _get6 = get(),\n            nodeInternals = _get6.nodeInternals,\n            storeEdges = _get6.edges;\n\n        var nodesToUnselect = nodes ? nodes : Array.from(nodeInternals.values());\n        var edgesToUnselect = edges ? edges : storeEdges;\n        var changedNodes = nodesToUnselect.map(function (n) {\n          n.selected = false;\n          return createSelectionChange(n.id, false);\n        });\n        var changedEdges = edgesToUnselect.map(function (edge) {\n          return createSelectionChange(edge.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: changedNodes,\n          changedEdges: changedEdges,\n          get: get,\n          set: set\n        });\n      },\n      setMinZoom: function setMinZoom(minZoom) {\n        var _get7 = get(),\n            d3Zoom = _get7.d3Zoom,\n            maxZoom = _get7.maxZoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          minZoom: minZoom\n        });\n      },\n      setMaxZoom: function setMaxZoom(maxZoom) {\n        var _get8 = get(),\n            d3Zoom = _get8.d3Zoom,\n            minZoom = _get8.minZoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.scaleExtent([minZoom, maxZoom]);\n        set({\n          maxZoom: maxZoom\n        });\n      },\n      setTranslateExtent: function setTranslateExtent(translateExtent) {\n        var _get9 = get(),\n            d3Zoom = _get9.d3Zoom;\n\n        d3Zoom === null || d3Zoom === void 0 ? void 0 : d3Zoom.translateExtent(translateExtent);\n        set({\n          translateExtent: translateExtent\n        });\n      },\n      resetSelectedElements: function resetSelectedElements() {\n        var _get10 = get(),\n            nodeInternals = _get10.nodeInternals,\n            edges = _get10.edges;\n\n        var nodes = Array.from(nodeInternals.values());\n        var nodesToUnselect = nodes.filter(function (e) {\n          return e.selected;\n        }).map(function (n) {\n          return createSelectionChange(n.id, false);\n        });\n        var edgesToUnselect = edges.filter(function (e) {\n          return e.selected;\n        }).map(function (e) {\n          return createSelectionChange(e.id, false);\n        });\n        updateNodesAndEdgesSelections({\n          changedNodes: nodesToUnselect,\n          changedEdges: edgesToUnselect,\n          get: get,\n          set: set\n        });\n      },\n      setNodeExtent: function setNodeExtent(nodeExtent) {\n        var _get11 = get(),\n            nodeInternals = _get11.nodeInternals;\n\n        nodeInternals.forEach(function (node) {\n          node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n          nodeExtent: nodeExtent,\n          nodeInternals: new Map(nodeInternals)\n        });\n      },\n      reset: function reset() {\n        return set(_objectSpread({}, initialState));\n      }\n    });\n  });\n};\n\nexport { isEdge as A, getOutgoers as B, ConnectionMode as C, getIncomers as D, updateEdge as E, getTransformForBounds as F, BackgroundVariant as G, getBoundsofRects as H, _arrayLikeToArray as I, _unsupportedIterableToArray as J, getD3Transition as K, fitView as L, MarkerType as M, Position as P, _slicedToArray as _, _defineProperty as a, useStore as b, addEdge as c, getMarkerId as d, getConnectedEdges as e, getDimensions as f, getHostForElement as g, PanOnScrollMode as h, internalsSymbol as i, clamp as j, getNodesInside as k, getSelectionChanges as l, clampPosition as m, handleNodeClick as n, getRectOfNodes as o, pointToRendererPoint as p, ConnectionLineType as q, rectToBox as r, isNumeric as s, getMouseHandler as t, useStoreApi as u, Provider as v, createStore as w, applyNodeChanges as x, applyEdgeChanges as y, isNode as z };\n//# sourceMappingURL=index-de9ac4b8.js.map\n","function shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport { shallow as default };\n","import { I as _arrayLikeToArray, J as _unsupportedIterableToArray, u as useStoreApi, b as useStore, K as getD3Transition, _ as _slicedToArray, L as fitView, F as getTransformForBounds, p as pointToRendererPoint, a as _defineProperty } from './index-de9ac4b8.js';\nimport { useMemo, useCallback } from 'react';\nimport { zoomIdentity } from 'd3-zoom';\nimport shallow from 'zustand/shallow';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nvar initialViewportHelper = {\n  zoomIn: function zoomIn() {},\n  zoomOut: function zoomOut() {},\n  zoomTo: function zoomTo(_) {},\n  getZoom: function getZoom() {\n    return 1;\n  },\n  setViewport: function setViewport(_) {},\n  getViewport: function getViewport() {\n    return {\n      x: 0,\n      y: 0,\n      zoom: 1\n    };\n  },\n  fitView: function fitView() {\n  },\n  setCenter: function setCenter(_, __) {},\n  fitBounds: function fitBounds(_) {},\n  project: function project(position) {\n    return position;\n  },\n  initialized: false\n};\n\nvar selector = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection\n  };\n};\n\nvar useViewportHelper = function useViewportHelper() {\n  var store = useStoreApi();\n\n  var _useStore = useStore(selector, shallow),\n      d3Zoom = _useStore.d3Zoom,\n      d3Selection = _useStore.d3Selection;\n\n  var viewportHelperFunctions = useMemo(function () {\n    if (d3Selection && d3Zoom) {\n      return {\n        zoomIn: function zoomIn(options) {\n          return d3Zoom.scaleBy(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1.2);\n        },\n        zoomOut: function zoomOut(options) {\n          return d3Zoom.scaleBy(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), 1 / 1.2);\n        },\n        zoomTo: function zoomTo(zoomLevel, options) {\n          return d3Zoom.scaleTo(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), zoomLevel);\n        },\n        getZoom: function getZoom() {\n          return store.getState().transform[2];\n        },\n        setViewport: function setViewport(transform, options) {\n          var _transform$x, _transform$y, _transform$zoom;\n\n          var _store$getState$trans = _slicedToArray(store.getState().transform, 3),\n              x = _store$getState$trans[0],\n              y = _store$getState$trans[1],\n              zoom = _store$getState$trans[2];\n\n          var nextTransform = zoomIdentity.translate((_transform$x = transform.x) !== null && _transform$x !== void 0 ? _transform$x : x, (_transform$y = transform.y) !== null && _transform$y !== void 0 ? _transform$y : y).scale((_transform$zoom = transform.zoom) !== null && _transform$zoom !== void 0 ? _transform$zoom : zoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), nextTransform);\n        },\n        getViewport: function getViewport() {\n          var _store$getState$trans2 = _slicedToArray(store.getState().transform, 3),\n              x = _store$getState$trans2[0],\n              y = _store$getState$trans2[1],\n              zoom = _store$getState$trans2[2];\n\n          return {\n            x: x,\n            y: y,\n            zoom: zoom\n          };\n        },\n        fitView: function fitView$1(options) {\n          return fitView(store.getState, options);\n        },\n        setCenter: function setCenter(x, y, options) {\n          var _store$getState = store.getState(),\n              width = _store$getState.width,\n              height = _store$getState.height,\n              maxZoom = _store$getState.maxZoom;\n\n          var nextZoom = typeof (options === null || options === void 0 ? void 0 : options.zoom) !== 'undefined' ? options.zoom : maxZoom;\n          var centerX = width / 2 - x * nextZoom;\n          var centerY = height / 2 - y * nextZoom;\n          var transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        fitBounds: function fitBounds(bounds, options) {\n          var _options$padding;\n\n          var _store$getState2 = store.getState(),\n              width = _store$getState2.width,\n              height = _store$getState2.height,\n              minZoom = _store$getState2.minZoom,\n              maxZoom = _store$getState2.maxZoom;\n\n          var _getTransformForBound = getTransformForBounds(bounds, width, height, minZoom, maxZoom, (_options$padding = options === null || options === void 0 ? void 0 : options.padding) !== null && _options$padding !== void 0 ? _options$padding : 0.1),\n              _getTransformForBound2 = _slicedToArray(_getTransformForBound, 3),\n              x = _getTransformForBound2[0],\n              y = _getTransformForBound2[1],\n              zoom = _getTransformForBound2[2];\n\n          var transform = zoomIdentity.translate(x, y).scale(zoom);\n          d3Zoom.transform(getD3Transition(d3Selection, options === null || options === void 0 ? void 0 : options.duration), transform);\n        },\n        project: function project(position) {\n          var _store$getState3 = store.getState(),\n              transform = _store$getState3.transform,\n              snapToGrid = _store$getState3.snapToGrid,\n              snapGrid = _store$getState3.snapGrid;\n\n          return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n        },\n        initialized: true\n      };\n    }\n\n    return initialViewportHelper;\n  }, [d3Zoom, d3Selection]);\n  return viewportHelperFunctions;\n};\n\nvar _excluded = [\"initialized\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction useReactFlow() {\n  var _useViewportHelper = useViewportHelper(),\n      viewportInitialized = _useViewportHelper.initialized,\n      viewportHelperFunctions = _objectWithoutProperties(_useViewportHelper, _excluded);\n\n  var store = useStoreApi();\n  var getNodes = useCallback(function () {\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals;\n\n    var nodes = Array.from(nodeInternals.values());\n    return nodes.map(function (n) {\n      return _objectSpread({}, n);\n    });\n  }, []);\n  var getNode = useCallback(function (id) {\n    var _store$getState2 = store.getState(),\n        nodeInternals = _store$getState2.nodeInternals;\n\n    return nodeInternals.get(id);\n  }, []);\n  var getEdges = useCallback(function () {\n    var _store$getState3 = store.getState(),\n        _store$getState3$edge = _store$getState3.edges,\n        edges = _store$getState3$edge === void 0 ? [] : _store$getState3$edge;\n\n    return edges.map(function (e) {\n      return _objectSpread({}, e);\n    });\n  }, []);\n  var getEdge = useCallback(function (id) {\n    var _store$getState4 = store.getState(),\n        _store$getState4$edge = _store$getState4.edges,\n        edges = _store$getState4$edge === void 0 ? [] : _store$getState4$edge;\n\n    return edges.find(function (e) {\n      return e.id === id;\n    });\n  }, []);\n  var setNodes = useCallback(function (payload) {\n    var _store$getState5 = store.getState(),\n        nodeInternals = _store$getState5.nodeInternals,\n        setNodes = _store$getState5.setNodes,\n        hasDefaultNodes = _store$getState5.hasDefaultNodes,\n        onNodesChange = _store$getState5.onNodesChange;\n\n    var nodes = Array.from(nodeInternals.values());\n    var nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n\n    if (hasDefaultNodes) {\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nextNodes.length === 0 ? nodes.map(function (node) {\n        return {\n          type: 'remove',\n          id: node.id\n        };\n      }) : nextNodes.map(function (node) {\n        return {\n          item: node,\n          type: 'reset'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var setEdges = useCallback(function (payload) {\n    var _store$getState6 = store.getState(),\n        _store$getState6$edge = _store$getState6.edges,\n        edges = _store$getState6$edge === void 0 ? [] : _store$getState6$edge,\n        setEdges = _store$getState6.setEdges,\n        hasDefaultEdges = _store$getState6.hasDefaultEdges,\n        onEdgesChange = _store$getState6.onEdgesChange;\n\n    var nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n\n    if (hasDefaultEdges) {\n      setEdges(nextEdges);\n    } else if (onEdgesChange) {\n      var changes = nextEdges.length === 0 ? edges.map(function (edge) {\n        return {\n          type: 'remove',\n          id: edge.id\n        };\n      }) : nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'reset'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var addNodes = useCallback(function (payload) {\n    var nodes = Array.isArray(payload) ? payload : [payload];\n\n    var _store$getState7 = store.getState(),\n        nodeInternals = _store$getState7.nodeInternals,\n        setNodes = _store$getState7.setNodes,\n        hasDefaultNodes = _store$getState7.hasDefaultNodes,\n        onNodesChange = _store$getState7.onNodesChange;\n\n    if (hasDefaultNodes) {\n      var currentNodes = Array.from(nodeInternals.values());\n      var nextNodes = [].concat(currentNodes, _toConsumableArray(nodes));\n      setNodes(nextNodes);\n    } else if (onNodesChange) {\n      var changes = nodes.map(function (node) {\n        return {\n          item: node,\n          type: 'add'\n        };\n      });\n      onNodesChange(changes);\n    }\n  }, []);\n  var addEdges = useCallback(function (payload) {\n    var nextEdges = Array.isArray(payload) ? payload : [payload];\n\n    var _store$getState8 = store.getState(),\n        _store$getState8$edge = _store$getState8.edges,\n        edges = _store$getState8$edge === void 0 ? [] : _store$getState8$edge,\n        setEdges = _store$getState8.setEdges,\n        hasDefaultEdges = _store$getState8.hasDefaultEdges,\n        onEdgesChange = _store$getState8.onEdgesChange;\n\n    if (hasDefaultEdges) {\n      setEdges([].concat(_toConsumableArray(edges), _toConsumableArray(nextEdges)));\n    } else if (onEdgesChange) {\n      var changes = nextEdges.map(function (edge) {\n        return {\n          item: edge,\n          type: 'add'\n        };\n      });\n      onEdgesChange(changes);\n    }\n  }, []);\n  var toObject = useCallback(function () {\n    var _store$getState9 = store.getState(),\n        nodeInternals = _store$getState9.nodeInternals,\n        _store$getState9$edge = _store$getState9.edges,\n        edges = _store$getState9$edge === void 0 ? [] : _store$getState9$edge,\n        transform = _store$getState9.transform;\n\n    var nodes = Array.from(nodeInternals.values());\n\n    var _transform = _slicedToArray(transform, 3),\n        x = _transform[0],\n        y = _transform[1],\n        zoom = _transform[2];\n\n    return {\n      nodes: nodes.map(function (n) {\n        return _objectSpread({}, n);\n      }),\n      edges: edges.map(function (e) {\n        return _objectSpread({}, e);\n      }),\n      viewport: {\n        x: x,\n        y: y,\n        zoom: zoom\n      }\n    };\n  }, []);\n  return _objectSpread(_objectSpread({}, viewportHelperFunctions), {}, {\n    viewportInitialized: viewportInitialized,\n    getNodes: getNodes,\n    getNode: getNode,\n    getEdges: getEdges,\n    getEdge: getEdge,\n    setNodes: setNodes,\n    setEdges: setEdges,\n    addNodes: addNodes,\n    addEdges: addEdges,\n    toObject: toObject\n  });\n}\n\nexport { _toConsumableArray as _, _objectWithoutProperties as a, useReactFlow as u };\n//# sourceMappingURL=useReactFlow-81d39885.js.map\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","import { u as useStoreApi, _ as _slicedToArray, b as useStore, a as _defineProperty } from './index-de9ac4b8.js';\nimport { a as _objectWithoutProperties, u as useReactFlow } from './useReactFlow-81d39885.js';\nimport React, { memo, useState, useEffect } from 'react';\nimport cc from 'classcat';\nimport 'zustand';\nimport 'zustand/context';\nimport 'd3-zoom';\nimport 'zustand/shallow';\n\nfunction PlusIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\"\n  }));\n}\n\nfunction MinusIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 5\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h32v4.2H0z\"\n  }));\n}\n\nfunction FitViewIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 32 30\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\"\n  }));\n}\n\nfunction LockIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 25 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\"\n  }));\n}\n\nfunction UnlockIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 25 32\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\"\n  }));\n}\n\nvar _excluded = [\"children\", \"className\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar ControlButton = function ControlButton(_ref) {\n  var children = _ref.children,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"button\", _objectSpread({\n    type: \"button\",\n    className: cc(['react-flow__controls-button', className])\n  }, rest), children);\n};\n\nvar isInteractiveSelector = function isInteractiveSelector(s) {\n  return s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\n};\n\nvar Controls = function Controls(_ref2) {\n  var style = _ref2.style,\n      _ref2$showZoom = _ref2.showZoom,\n      showZoom = _ref2$showZoom === void 0 ? true : _ref2$showZoom,\n      _ref2$showFitView = _ref2.showFitView,\n      showFitView = _ref2$showFitView === void 0 ? true : _ref2$showFitView,\n      _ref2$showInteractive = _ref2.showInteractive,\n      showInteractive = _ref2$showInteractive === void 0 ? true : _ref2$showInteractive,\n      fitViewOptions = _ref2.fitViewOptions,\n      onZoomIn = _ref2.onZoomIn,\n      onZoomOut = _ref2.onZoomOut,\n      onFitView = _ref2.onFitView,\n      onInteractiveChange = _ref2.onInteractiveChange,\n      className = _ref2.className,\n      children = _ref2.children;\n  var store = useStoreApi();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isVisible = _useState2[0],\n      setIsVisible = _useState2[1];\n\n  var isInteractive = useStore(isInteractiveSelector);\n\n  var _useReactFlow = useReactFlow(),\n      zoomIn = _useReactFlow.zoomIn,\n      zoomOut = _useReactFlow.zoomOut,\n      fitView = _useReactFlow.fitView;\n\n  useEffect(function () {\n    setIsVisible(true);\n  }, []);\n\n  if (!isVisible) {\n    return null;\n  }\n\n  var onZoomInHandler = function onZoomInHandler() {\n    zoomIn === null || zoomIn === void 0 ? void 0 : zoomIn();\n    onZoomIn === null || onZoomIn === void 0 ? void 0 : onZoomIn();\n  };\n\n  var onZoomOutHandler = function onZoomOutHandler() {\n    zoomOut === null || zoomOut === void 0 ? void 0 : zoomOut();\n    onZoomOut === null || onZoomOut === void 0 ? void 0 : onZoomOut();\n  };\n\n  var onFitViewHandler = function onFitViewHandler() {\n    fitView === null || fitView === void 0 ? void 0 : fitView(fitViewOptions);\n    onFitView === null || onFitView === void 0 ? void 0 : onFitView();\n  };\n\n  var onToggleInteractivity = function onToggleInteractivity() {\n    store.setState({\n      nodesDraggable: !isInteractive,\n      nodesConnectable: !isInteractive,\n      elementsSelectable: !isInteractive\n    });\n    onInteractiveChange === null || onInteractiveChange === void 0 ? void 0 : onInteractiveChange(!isInteractive);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__controls', className]),\n    style: style\n  }, showZoom && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ControlButton, {\n    onClick: onZoomInHandler,\n    className: \"react-flow__controls-zoomin\",\n    title: \"zoom in\",\n    \"aria-label\": \"zoom in\"\n  }, /*#__PURE__*/React.createElement(PlusIcon, null)), /*#__PURE__*/React.createElement(ControlButton, {\n    onClick: onZoomOutHandler,\n    className: \"react-flow__controls-zoomout\",\n    title: \"zoom out\",\n    \"aria-label\": \"zoom out\"\n  }, /*#__PURE__*/React.createElement(MinusIcon, null))), showFitView && /*#__PURE__*/React.createElement(ControlButton, {\n    className: \"react-flow__controls-fitview\",\n    onClick: onFitViewHandler,\n    title: \"fit view\",\n    \"aria-label\": \"fit view\"\n  }, /*#__PURE__*/React.createElement(FitViewIcon, null)), showInteractive && /*#__PURE__*/React.createElement(ControlButton, {\n    className: \"react-flow__controls-interactive\",\n    onClick: onToggleInteractivity,\n    title: \"toggle interactivity\",\n    \"aria-label\": \"toggle interactivity\"\n  }, isInteractive ? /*#__PURE__*/React.createElement(UnlockIcon, null) : /*#__PURE__*/React.createElement(LockIcon, null)), children);\n};\n\nControls.displayName = 'Controls';\nvar index = /*#__PURE__*/memo(Controls);\n\nexport { ControlButton, index as default };\n//# sourceMappingURL=index3.js.map\n","import { _ as _slicedToArray, a as _defineProperty, P as Position, C as ConnectionMode, g as getHostForElement, u as useStoreApi, b as useStore, c as addEdge, d as getMarkerId, i as internalsSymbol, r as rectToBox, e as getConnectedEdges, f as getDimensions, h as PanOnScrollMode, j as clamp, k as getNodesInside, l as getSelectionChanges, m as clampPosition, p as pointToRendererPoint, n as handleNodeClick, o as getRectOfNodes, q as ConnectionLineType, M as MarkerType, s as isNumeric, t as getMouseHandler$1, v as Provider$1, w as createStore, x as applyNodeChanges, y as applyEdgeChanges } from './index-de9ac4b8.js';\nexport { G as BackgroundVariant, q as ConnectionLineType, C as ConnectionMode, M as MarkerType, h as PanOnScrollMode, P as Position, c as addEdge, y as applyEdgeChanges, x as applyNodeChanges, e as getConnectedEdges, D as getIncomers, B as getOutgoers, o as getRectOfNodes, F as getTransformForBounds, i as internalsSymbol, A as isEdge, z as isNode, E as updateEdge, b as useStore, u as useStoreApi } from './index-de9ac4b8.js';\nimport { _ as _toConsumableArray, a as _objectWithoutProperties, u as useReactFlow } from './useReactFlow-81d39885.js';\nexport { u as useReactFlow } from './useReactFlow-81d39885.js';\nimport cc from 'classcat';\nimport React, { memo, useRef, useState, useEffect, createContext, forwardRef, useContext, useMemo, useCallback } from 'react';\nimport shallow from 'zustand/shallow';\nimport { zoom, zoomIdentity } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nexport { default as MiniMap } from './index2.js';\nexport { ControlButton, default as Controls } from './index3.js';\nexport { default as Background } from './index4.js';\nexport { default as useUpdateNodeInternals } from './useUpdateNodeInternals.js';\nexport { default as useNodes } from './useNodes.js';\nexport { default as useEdges } from './useEdges.js';\nexport { default as useViewport } from './useViewport.js';\nimport 'zustand';\nimport 'zustand/context';\n\nvar accounts = ['paid-pro', 'paid-sponsor', 'paid-enterprise', 'paid-custom'];\n\nfunction Attribution(_ref) {\n  var proOptions = _ref.proOptions,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom-right' : _ref$position;\n\n  if (proOptions !== null && proOptions !== void 0 && proOptions.account && accounts.includes(proOptions === null || proOptions === void 0 ? void 0 : proOptions.account) && proOptions !== null && proOptions !== void 0 && proOptions.hideAttribution) {\n    return null;\n  }\n\n  var positionClasses = \"\".concat(position).split('-');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__attribution'].concat(_toConsumableArray(positionClasses))),\n    \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing\"\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://reactflow.dev\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"React Flow\"));\n}\n\nvar _excluded$2 = [\"x\", \"y\", \"label\", \"labelStyle\", \"labelShowBg\", \"labelBgStyle\", \"labelBgPadding\", \"labelBgBorderRadius\", \"children\", \"className\"];\n\nfunction ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$c(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar EdgeText = function EdgeText(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      label = _ref.label,\n      _ref$labelStyle = _ref.labelStyle,\n      labelStyle = _ref$labelStyle === void 0 ? {} : _ref$labelStyle,\n      _ref$labelShowBg = _ref.labelShowBg,\n      labelShowBg = _ref$labelShowBg === void 0 ? true : _ref$labelShowBg,\n      _ref$labelBgStyle = _ref.labelBgStyle,\n      labelBgStyle = _ref$labelBgStyle === void 0 ? {} : _ref$labelBgStyle,\n      _ref$labelBgPadding = _ref.labelBgPadding,\n      labelBgPadding = _ref$labelBgPadding === void 0 ? [2, 4] : _ref$labelBgPadding,\n      _ref$labelBgBorderRad = _ref.labelBgBorderRadius,\n      labelBgBorderRadius = _ref$labelBgBorderRad === void 0 ? 2 : _ref$labelBgBorderRad,\n      children = _ref.children,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, _excluded$2);\n\n  var edgeRef = useRef(null);\n\n  var _useState = useState({\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      edgeTextBbox = _useState2[0],\n      setEdgeTextBbox = _useState2[1];\n\n  var edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n  useEffect(function () {\n    if (edgeRef.current) {\n      var textBbox = edgeRef.current.getBBox();\n      setEdgeTextBbox({\n        x: textBbox.x,\n        y: textBbox.y,\n        width: textBbox.width,\n        height: textBbox.height\n      });\n    }\n  }, [label]);\n\n  if (typeof label === 'undefined' || !label) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"g\", _objectSpread$c({\n    transform: \"translate(\".concat(x - edgeTextBbox.width / 2, \" \").concat(y - edgeTextBbox.height / 2, \")\"),\n    className: edgeTextClasses\n  }, rest), labelShowBg && /*#__PURE__*/React.createElement(\"rect\", {\n    width: edgeTextBbox.width + 2 * labelBgPadding[0],\n    x: -labelBgPadding[0],\n    y: -labelBgPadding[1],\n    height: edgeTextBbox.height + 2 * labelBgPadding[1],\n    className: \"react-flow__edge-textbg\",\n    style: labelBgStyle,\n    rx: labelBgBorderRadius,\n    ry: labelBgBorderRadius\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    className: \"react-flow__edge-text\",\n    y: edgeTextBbox.height / 2,\n    dy: \"0.3em\",\n    ref: edgeRef,\n    style: labelStyle\n  }, label), children);\n};\n\nvar EdgeText$1 = /*#__PURE__*/memo(EdgeText);\n\nvar BaseEdge = (function (_ref) {\n  var path = _ref.path,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var text = label ? /*#__PURE__*/React.createElement(EdgeText$1, {\n    x: centerX,\n    y: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n    style: style,\n    d: path,\n    className: \"react-flow__edge-path\",\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  }), text);\n});\n\nfunction getControl(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2;\n  var ctX, ctY;\n\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      {\n        ctX = 0.5 * (x1 + x2);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Top:\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = 0.5 * (y1 + y2);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getSimpleBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition;\n\n  var _getControl = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl2 = _slicedToArray(_getControl, 2),\n      sourceControlX = _getControl2[0],\n      sourceControlY = _getControl2[1];\n\n  var _getControl3 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl4 = _slicedToArray(_getControl3, 2),\n      targetControlX = _getControl4[0],\n      targetControlY = _getControl4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getSimpleBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition;\n\n  var _getControl5 = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  }),\n      _getControl6 = _slicedToArray(_getControl5, 2),\n      sourceControlX = _getControl6[0],\n      sourceControlY = _getControl6[1];\n\n  var _getControl7 = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  }),\n      _getControl8 = _slicedToArray(_getControl7, 2),\n      targetControlX = _getControl8[0],\n      targetControlY = _getControl8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar SimpleBezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n  var path = getSimpleBezierPath(params);\n\n  var _getSimpleBezierCente = getSimpleBezierCenter(params),\n      _getSimpleBezierCente2 = _slicedToArray(_getSimpleBezierCente, 2),\n      centerX = _getSimpleBezierCente2[0],\n      centerY = _getSimpleBezierCente2[1];\n\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$b(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getMarkerEnd = function getMarkerEnd(markerType, markerEndId) {\n  if (typeof markerEndId !== 'undefined' && markerEndId) {\n    return \"url(#\".concat(markerEndId, \")\");\n  }\n\n  return typeof markerType !== 'undefined' ? \"url(#react-flow__\".concat(markerType, \")\") : 'none';\n};\nvar LeftOrRight = [Position.Left, Position.Right];\nvar getCenter = function getCenter(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  var sourceIsLeftOrRight = LeftOrRight.includes(sourcePosition);\n  var targetIsLeftOrRight = LeftOrRight.includes(targetPosition); // we expect flows to be horizontal or vertical (all handles left or right respectively top or bottom)\n  // a mixed edge is when one the source is on the left and the target is on the top for example.\n\n  var mixedEdge = sourceIsLeftOrRight && !targetIsLeftOrRight || targetIsLeftOrRight && !sourceIsLeftOrRight;\n\n  if (mixedEdge) {\n    var _xOffset = sourceIsLeftOrRight ? Math.abs(targetX - sourceX) : 0;\n\n    var _centerX = sourceX > targetX ? sourceX - _xOffset : sourceX + _xOffset;\n\n    var _yOffset = sourceIsLeftOrRight ? 0 : Math.abs(targetY - sourceY);\n\n    var _centerY = sourceY < targetY ? sourceY + _yOffset : sourceY - _yOffset;\n\n    return [_centerX, _centerY, _xOffset, _yOffset];\n  }\n\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n};\nfunction getMouseHandler(id, getState, handler) {\n  return handler === undefined ? handler : function (event) {\n    var edge = getState().edges.find(function (e) {\n      return e.id === id;\n    });\n    handler(event, _objectSpread$b({}, edge));\n  };\n}\n\n// The name indicates the direction of the path. \"bottomLeftCorner\" goes\n// from bottom to the left and \"leftBottomCorner\" goes from left to the bottom.\n// We have to consider the direction of the paths because of the animated lines.\n\nvar bottomLeftCorner = function bottomLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar leftBottomCorner = function leftBottomCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar bottomRightCorner = function bottomRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y - size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightBottomCorner = function rightBottomCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y - size);\n};\n\nvar leftTopCorner = function leftTopCorner(x, y, size) {\n  return \"L \".concat(x + size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nvar topLeftCorner = function topLeftCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x + size, \",\").concat(y);\n};\n\nvar topRightCorner = function topRightCorner(x, y, size) {\n  return \"L \".concat(x, \",\").concat(y + size, \"Q \").concat(x, \",\").concat(y, \" \").concat(x - size, \",\").concat(y);\n};\n\nvar rightTopCorner = function rightTopCorner(x, y, size) {\n  return \"L \".concat(x - size, \",\").concat(y, \"Q \").concat(x, \",\").concat(y, \" \").concat(x, \",\").concat(y + size);\n};\n\nfunction getSmoothStepPath(_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n      _ref$borderRadius = _ref.borderRadius,\n      borderRadius = _ref$borderRadius === void 0 ? 5 : _ref$borderRadius,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY;\n\n  var _getCenter = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY\n  }),\n      _getCenter2 = _slicedToArray(_getCenter, 4),\n      _centerX = _getCenter2[0],\n      _centerY = _getCenter2[1],\n      offsetX = _getCenter2[2],\n      offsetY = _getCenter2[3];\n\n  var cornerWidth = Math.min(borderRadius, Math.abs(targetX - sourceX));\n  var cornerHeight = Math.min(borderRadius, Math.abs(targetY - sourceY));\n  var cornerSize = Math.min(cornerWidth, cornerHeight, offsetX, offsetY);\n  var leftAndRight = [Position.Left, Position.Right];\n  var cX = typeof centerX !== 'undefined' ? centerX : _centerX;\n  var cY = typeof centerY !== 'undefined' ? centerY : _centerY;\n  var firstCornerPath = null;\n  var secondCornerPath = null;\n\n  if (sourceX <= targetX) {\n    firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, cY, cornerSize) : topLeftCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY <= targetY ? rightTopCorner(targetX, cY, cornerSize) : rightBottomCorner(targetX, cY, cornerSize);\n  } else {\n    firstCornerPath = sourceY < targetY ? bottomRightCorner(sourceX, cY, cornerSize) : topRightCorner(sourceX, cY, cornerSize);\n    secondCornerPath = sourceY < targetY ? leftTopCorner(targetX, cY, cornerSize) : leftBottomCorner(targetX, cY, cornerSize);\n  }\n\n  if (leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(cX, sourceY, cornerSize) : rightBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomLeftCorner(cX, targetY, cornerSize) : topLeftCorner(cX, targetY, cornerSize);\n    } else if (sourcePosition === Position.Right && targetPosition === Position.Left || sourcePosition === Position.Left && targetPosition === Position.Right || sourcePosition === Position.Left && targetPosition === Position.Left) {\n      // and sourceX > targetX\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(cX, sourceY, cornerSize) : leftBottomCorner(cX, sourceY, cornerSize);\n      secondCornerPath = sourceY <= targetY ? bottomRightCorner(cX, targetY, cornerSize) : topRightCorner(cX, targetY, cornerSize);\n    }\n  } else if (leftAndRight.includes(sourcePosition) && !leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? rightTopCorner(targetX, sourceY, cornerSize) : rightBottomCorner(targetX, sourceY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? leftTopCorner(targetX, sourceY, cornerSize) : leftBottomCorner(targetX, sourceY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  } else if (!leftAndRight.includes(sourcePosition) && leftAndRight.includes(targetPosition)) {\n    if (sourceX <= targetX) {\n      firstCornerPath = sourceY <= targetY ? bottomLeftCorner(sourceX, targetY, cornerSize) : topLeftCorner(sourceX, targetY, cornerSize);\n    } else {\n      firstCornerPath = sourceY <= targetY ? bottomRightCorner(sourceX, targetY, cornerSize) : topRightCorner(sourceX, targetY, cornerSize);\n    }\n\n    secondCornerPath = '';\n  }\n\n  return \"M \".concat(sourceX, \",\").concat(sourceY).concat(firstCornerPath).concat(secondCornerPath, \"L \").concat(targetX, \",\").concat(targetY);\n}\nvar SmoothStepEdge = /*#__PURE__*/memo(function (_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      label = _ref2.label,\n      labelStyle = _ref2.labelStyle,\n      labelShowBg = _ref2.labelShowBg,\n      labelBgStyle = _ref2.labelBgStyle,\n      labelBgPadding = _ref2.labelBgPadding,\n      labelBgBorderRadius = _ref2.labelBgBorderRadius,\n      style = _ref2.style,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n      markerEnd = _ref2.markerEnd,\n      markerStart = _ref2.markerStart,\n      _ref2$borderRadius = _ref2.borderRadius,\n      borderRadius = _ref2$borderRadius === void 0 ? 5 : _ref2$borderRadius;\n\n  var _getCenter3 = getCenter({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    targetX: targetX,\n    targetY: targetY,\n    sourcePosition: sourcePosition,\n    targetPosition: targetPosition\n  }),\n      _getCenter4 = _slicedToArray(_getCenter3, 2),\n      centerX = _getCenter4[0],\n      centerY = _getCenter4[1];\n\n  var path = getSmoothStepPath({\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    borderRadius: borderRadius\n  });\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$a(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar StepEdge = /*#__PURE__*/memo(function (props) {\n  return /*#__PURE__*/React.createElement(SmoothStepEdge, _objectSpread$a(_objectSpread$a({}, props), {}, {\n    borderRadius: 0\n  }));\n});\n\nvar StraightEdge = /*#__PURE__*/memo(function (_ref) {\n  var sourceX = _ref.sourceX,\n      sourceY = _ref.sourceY,\n      targetX = _ref.targetX,\n      targetY = _ref.targetY,\n      label = _ref.label,\n      labelStyle = _ref.labelStyle,\n      labelShowBg = _ref.labelShowBg,\n      labelBgStyle = _ref.labelBgStyle,\n      labelBgPadding = _ref.labelBgPadding,\n      labelBgBorderRadius = _ref.labelBgBorderRadius,\n      style = _ref.style,\n      markerEnd = _ref.markerEnd,\n      markerStart = _ref.markerStart;\n  var yOffset = Math.abs(targetY - sourceY) / 2;\n  var centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  var xOffset = Math.abs(targetX - sourceX) / 2;\n  var centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  var path = \"M \".concat(sourceX, \",\").concat(sourceY, \"L \").concat(targetX, \",\").concat(targetY);\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nfunction calculateControlOffset(distance, curvature) {\n  if (distance >= 0) {\n    return 0.5 * distance;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance);\n  }\n}\n\nfunction getControlWithCurvature(_ref) {\n  var pos = _ref.pos,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      c = _ref.c;\n  var ctX, ctY;\n\n  switch (pos) {\n    case Position.Left:\n      {\n        ctX = x1 - calculateControlOffset(x1 - x2, c);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Right:\n      {\n        ctX = x1 + calculateControlOffset(x2 - x1, c);\n        ctY = y1;\n      }\n      break;\n\n    case Position.Top:\n      {\n        ctX = x1;\n        ctY = y1 - calculateControlOffset(y1 - y2, c);\n      }\n      break;\n\n    case Position.Bottom:\n      {\n        ctX = x1;\n        ctY = y1 + calculateControlOffset(y2 - y1, c);\n      }\n      break;\n  }\n\n  return [ctX, ctY];\n}\n\nfunction getBezierPath(_ref2) {\n  var sourceX = _ref2.sourceX,\n      sourceY = _ref2.sourceY,\n      _ref2$sourcePosition = _ref2.sourcePosition,\n      sourcePosition = _ref2$sourcePosition === void 0 ? Position.Bottom : _ref2$sourcePosition,\n      targetX = _ref2.targetX,\n      targetY = _ref2.targetY,\n      _ref2$targetPosition = _ref2.targetPosition,\n      targetPosition = _ref2$targetPosition === void 0 ? Position.Top : _ref2$targetPosition,\n      _ref2$curvature = _ref2.curvature,\n      curvature = _ref2$curvature === void 0 ? 0.25 : _ref2$curvature;\n\n  var _getControlWithCurvat = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat2 = _slicedToArray(_getControlWithCurvat, 2),\n      sourceControlX = _getControlWithCurvat2[0],\n      sourceControlY = _getControlWithCurvat2[1];\n\n  var _getControlWithCurvat3 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat4 = _slicedToArray(_getControlWithCurvat3, 2),\n      targetControlX = _getControlWithCurvat4[0],\n      targetControlY = _getControlWithCurvat4[1];\n\n  return \"M\".concat(sourceX, \",\").concat(sourceY, \" C\").concat(sourceControlX, \",\").concat(sourceControlY, \" \").concat(targetControlX, \",\").concat(targetControlY, \" \").concat(targetX, \",\").concat(targetY);\n} // @TODO: this function will recalculate the control points\n// one option is to let getXXXPath() return center points\n// but will introduce breaking changes\n// the getCenter() of other types of edges might need to change, too\n\nfunction getBezierCenter(_ref3) {\n  var sourceX = _ref3.sourceX,\n      sourceY = _ref3.sourceY,\n      _ref3$sourcePosition = _ref3.sourcePosition,\n      sourcePosition = _ref3$sourcePosition === void 0 ? Position.Bottom : _ref3$sourcePosition,\n      targetX = _ref3.targetX,\n      targetY = _ref3.targetY,\n      _ref3$targetPosition = _ref3.targetPosition,\n      targetPosition = _ref3$targetPosition === void 0 ? Position.Top : _ref3$targetPosition,\n      _ref3$curvature = _ref3.curvature,\n      curvature = _ref3$curvature === void 0 ? 0.25 : _ref3$curvature;\n\n  var _getControlWithCurvat5 = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  }),\n      _getControlWithCurvat6 = _slicedToArray(_getControlWithCurvat5, 2),\n      sourceControlX = _getControlWithCurvat6[0],\n      sourceControlY = _getControlWithCurvat6[1];\n\n  var _getControlWithCurvat7 = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  }),\n      _getControlWithCurvat8 = _slicedToArray(_getControlWithCurvat7, 2),\n      targetControlX = _getControlWithCurvat8[0],\n      targetControlY = _getControlWithCurvat8[1]; // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n  // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n\n\n  var centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  var centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  var xOffset = Math.abs(centerX - sourceX);\n  var yOffset = Math.abs(centerY - sourceY);\n  return [centerX, centerY, xOffset, yOffset];\n}\nvar BezierEdge = /*#__PURE__*/memo(function (_ref4) {\n  var sourceX = _ref4.sourceX,\n      sourceY = _ref4.sourceY,\n      targetX = _ref4.targetX,\n      targetY = _ref4.targetY,\n      _ref4$sourcePosition = _ref4.sourcePosition,\n      sourcePosition = _ref4$sourcePosition === void 0 ? Position.Bottom : _ref4$sourcePosition,\n      _ref4$targetPosition = _ref4.targetPosition,\n      targetPosition = _ref4$targetPosition === void 0 ? Position.Top : _ref4$targetPosition,\n      label = _ref4.label,\n      labelStyle = _ref4.labelStyle,\n      labelShowBg = _ref4.labelShowBg,\n      labelBgStyle = _ref4.labelBgStyle,\n      labelBgPadding = _ref4.labelBgPadding,\n      labelBgBorderRadius = _ref4.labelBgBorderRadius,\n      style = _ref4.style,\n      markerEnd = _ref4.markerEnd,\n      markerStart = _ref4.markerStart,\n      curvature = _ref4.curvature;\n  var params = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition,\n    curvature: curvature\n  };\n  var path = getBezierPath(params);\n\n  var _getBezierCenter = getBezierCenter(params),\n      _getBezierCenter2 = _slicedToArray(_getBezierCenter, 2),\n      centerX = _getBezierCenter2[0],\n      centerY = _getBezierCenter2[1];\n\n  return /*#__PURE__*/React.createElement(BaseEdge, {\n    path: path,\n    centerX: centerX,\n    centerY: centerY,\n    label: label,\n    labelStyle: labelStyle,\n    labelShowBg: labelShowBg,\n    labelBgStyle: labelBgStyle,\n    labelBgPadding: labelBgPadding,\n    labelBgBorderRadius: labelBgBorderRadius,\n    style: style,\n    markerEnd: markerEnd,\n    markerStart: markerStart\n  });\n});\n\nvar NodeIdContext = /*#__PURE__*/createContext(null);\nvar Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\n\nfunction checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc) {\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target')) || false;\n  var elementBelowIsSource = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source')) || false;\n  var result = {\n    elementBelow: elementBelow,\n    isValid: false,\n    connection: {\n      source: null,\n      target: null,\n      sourceHandle: null,\n      targetHandle: null\n    },\n    isHoveringHandle: false\n  };\n\n  if (elementBelow && (elementBelowIsTarget || elementBelowIsSource)) {\n    result.isHoveringHandle = true;\n    var elementBelowNodeId = elementBelow.getAttribute('data-nodeid');\n    var elementBelowHandleId = elementBelow.getAttribute('data-handleid');\n    var connection = isTarget ? {\n      source: elementBelowNodeId,\n      sourceHandle: elementBelowHandleId,\n      target: nodeId,\n      targetHandle: handleId\n    } : {\n      source: nodeId,\n      sourceHandle: handleId,\n      target: elementBelowNodeId,\n      targetHandle: elementBelowHandleId\n    };\n    result.connection = connection; // in strict mode we don't allow target to target or source to source connections\n\n    var isValid = connectionMode === ConnectionMode.Strict ? isTarget && elementBelowIsSource || !isTarget && elementBelowIsTarget : true;\n\n    if (isValid) {\n      result.isValid = isValidConnection(connection);\n    }\n  }\n\n  return result;\n}\n\nfunction resetRecentHandle(hoveredHandle) {\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-valid');\n  hoveredHandle === null || hoveredHandle === void 0 ? void 0 : hoveredHandle.classList.remove('react-flow__handle-connecting');\n}\n\nfunction handleMouseDown(_ref) {\n  var event = _ref.event,\n      handleId = _ref.handleId,\n      nodeId = _ref.nodeId,\n      onConnect = _ref.onConnect,\n      isTarget = _ref.isTarget,\n      getState = _ref.getState,\n      setState = _ref.setState,\n      isValidConnection = _ref.isValidConnection,\n      elementEdgeUpdaterType = _ref.elementEdgeUpdaterType,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd;\n  var reactFlowNode = event.target.closest('.react-flow'); // when react-flow is used inside a shadow root we can't use document\n\n  var doc = getHostForElement(event.target);\n\n  if (!doc) {\n    return;\n  }\n\n  var elementBelow = doc.elementFromPoint(event.clientX, event.clientY);\n  var elementBelowIsTarget = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('target');\n  var elementBelowIsSource = elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.classList.contains('source');\n\n  if (!reactFlowNode || !elementBelowIsTarget && !elementBelowIsSource && !elementEdgeUpdaterType) {\n    return;\n  }\n\n  var _getState = getState(),\n      onConnectStart = _getState.onConnectStart,\n      connectionMode = _getState.connectionMode;\n\n  var handleType = elementEdgeUpdaterType ? elementEdgeUpdaterType : elementBelowIsTarget ? 'target' : 'source';\n  var containerBounds = reactFlowNode.getBoundingClientRect();\n  var recentHoveredHandle;\n  setState({\n    connectionPosition: {\n      x: event.clientX - containerBounds.left,\n      y: event.clientY - containerBounds.top\n    },\n    connectionNodeId: nodeId,\n    connectionHandleId: handleId,\n    connectionHandleType: handleType\n  });\n  onConnectStart === null || onConnectStart === void 0 ? void 0 : onConnectStart(event, {\n    nodeId: nodeId,\n    handleId: handleId,\n    handleType: handleType\n  });\n\n  function onMouseMove(event) {\n    setState({\n      connectionPosition: {\n        x: event.clientX - containerBounds.left,\n        y: event.clientY - containerBounds.top\n      }\n    });\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        elementBelow = _checkElementBelowIsV.elementBelow,\n        isValid = _checkElementBelowIsV.isValid,\n        isHoveringHandle = _checkElementBelowIsV.isHoveringHandle;\n\n    if (!isHoveringHandle) {\n      return resetRecentHandle(recentHoveredHandle);\n    }\n\n    if (connection.source !== connection.target && elementBelow) {\n      recentHoveredHandle = elementBelow;\n      elementBelow.classList.add('react-flow__handle-connecting');\n      elementBelow.classList.toggle('react-flow__handle-valid', isValid);\n    }\n  }\n\n  function onMouseUp(event) {\n    var _getState2 = getState(),\n        onConnectStop = _getState2.onConnectStop,\n        onConnectEnd = _getState2.onConnectEnd;\n\n    var _checkElementBelowIsV2 = checkElementBelowIsValid(event, connectionMode, isTarget, nodeId, handleId, isValidConnection, doc),\n        connection = _checkElementBelowIsV2.connection,\n        isValid = _checkElementBelowIsV2.isValid;\n\n    onConnectStop === null || onConnectStop === void 0 ? void 0 : onConnectStop(event);\n\n    if (isValid) {\n      onConnect === null || onConnect === void 0 ? void 0 : onConnect(connection);\n    }\n\n    onConnectEnd === null || onConnectEnd === void 0 ? void 0 : onConnectEnd(event);\n\n    if (elementEdgeUpdaterType && onEdgeUpdateEnd) {\n      onEdgeUpdateEnd(event);\n    }\n\n    resetRecentHandle(recentHoveredHandle);\n    setState({\n      connectionNodeId: null,\n      connectionHandleId: null,\n      connectionHandleType: null\n    });\n    doc.removeEventListener('mousemove', onMouseMove);\n    doc.removeEventListener('mouseup', onMouseUp);\n  }\n\n  doc.addEventListener('mousemove', onMouseMove);\n  doc.addEventListener('mouseup', onMouseUp);\n}\n\nvar _excluded$1 = [\"type\", \"position\", \"isValidConnection\", \"isConnectable\", \"id\", \"onConnect\", \"children\", \"className\", \"onMouseDown\"];\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$9(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar alwaysValid = function alwaysValid() {\n  return true;\n};\n\nvar selector$a = function selector(s) {\n  return {\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick\n  };\n};\n\nvar Handle = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'source' : _ref$type,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? Position.Top : _ref$position,\n      _ref$isValidConnectio = _ref.isValidConnection,\n      isValidConnection = _ref$isValidConnectio === void 0 ? alwaysValid : _ref$isValidConnectio,\n      _ref$isConnectable = _ref.isConnectable,\n      isConnectable = _ref$isConnectable === void 0 ? true : _ref$isConnectable,\n      id = _ref.id,\n      onConnect = _ref.onConnect,\n      children = _ref.children,\n      className = _ref.className,\n      onMouseDown = _ref.onMouseDown,\n      rest = _objectWithoutProperties(_ref, _excluded$1);\n\n  var store = useStoreApi();\n  var nodeId = useContext(NodeIdContext);\n\n  var _useStore = useStore(selector$a, shallow),\n      connectionStartHandle = _useStore.connectionStartHandle,\n      connectOnClick = _useStore.connectOnClick;\n\n  var handleId = id || null;\n  var isTarget = type === 'target';\n\n  var onConnectExtended = function onConnectExtended(params) {\n    var _store$getState = store.getState(),\n        defaultEdgeOptions = _store$getState.defaultEdgeOptions,\n        onConnectAction = _store$getState.onConnect,\n        hasDefaultEdges = _store$getState.hasDefaultEdges;\n\n    var edgeParams = _objectSpread$9(_objectSpread$9({}, defaultEdgeOptions), params);\n\n    if (hasDefaultEdges) {\n      var _store$getState2 = store.getState(),\n          edges = _store$getState2.edges;\n\n      store.setState({\n        edges: addEdge(edgeParams, edges)\n      });\n    }\n\n    onConnectAction === null || onConnectAction === void 0 ? void 0 : onConnectAction(edgeParams);\n    onConnect === null || onConnect === void 0 ? void 0 : onConnect(edgeParams);\n  };\n\n  var onMouseDownHandler = function onMouseDownHandler(event) {\n    if (event.button === 0) {\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectExtended,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection\n      });\n    }\n\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  };\n\n  var onClick = function onClick(event) {\n    var _store$getState3 = store.getState(),\n        onClickConnectStart = _store$getState3.onClickConnectStart,\n        onClickConnectStop = _store$getState3.onClickConnectStop,\n        onClickConnectEnd = _store$getState3.onClickConnectEnd,\n        connectionMode = _store$getState3.connectionMode;\n\n    if (!connectionStartHandle) {\n      onClickConnectStart === null || onClickConnectStart === void 0 ? void 0 : onClickConnectStart(event, {\n        nodeId: nodeId,\n        handleId: handleId,\n        handleType: type\n      });\n      store.setState({\n        connectionStartHandle: {\n          nodeId: nodeId,\n          type: type,\n          handleId: handleId\n        }\n      });\n      return;\n    }\n\n    var doc = getHostForElement(event.target);\n\n    var _checkElementBelowIsV = checkElementBelowIsValid(event, connectionMode, connectionStartHandle.type === 'target', connectionStartHandle.nodeId, connectionStartHandle.handleId || null, isValidConnection, doc),\n        connection = _checkElementBelowIsV.connection,\n        isValid = _checkElementBelowIsV.isValid;\n\n    onClickConnectStop === null || onClickConnectStop === void 0 ? void 0 : onClickConnectStop(event);\n\n    if (isValid) {\n      onConnectExtended(connection);\n    }\n\n    onClickConnectEnd === null || onClickConnectEnd === void 0 ? void 0 : onClickConnectEnd(event);\n    store.setState({\n      connectionStartHandle: null\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread$9({\n    \"data-handleid\": handleId,\n    \"data-nodeid\": nodeId,\n    \"data-handlepos\": position,\n    className: cc(['react-flow__handle', \"react-flow__handle-\".concat(position), 'nodrag', className, {\n      source: !isTarget,\n      target: isTarget,\n      connectable: isConnectable,\n      connecting: (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.nodeId) === nodeId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.handleId) === handleId && (connectionStartHandle === null || connectionStartHandle === void 0 ? void 0 : connectionStartHandle.type) === type\n    }]),\n    onMouseDown: onMouseDownHandler,\n    onClick: connectOnClick ? onClick : undefined,\n    ref: ref\n  }, rest), children);\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = /*#__PURE__*/memo(Handle);\n\nvar DefaultNode = function DefaultNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = /*#__PURE__*/memo(DefaultNode);\n\nvar InputNode = function InputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$sourcePosition = _ref.sourcePosition,\n      sourcePosition = _ref$sourcePosition === void 0 ? Position.Bottom : _ref$sourcePosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, data === null || data === void 0 ? void 0 : data.label, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"source\",\n    position: sourcePosition,\n    isConnectable: isConnectable\n  }));\n};\n\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = /*#__PURE__*/memo(InputNode);\n\nvar OutputNode = function OutputNode(_ref) {\n  var data = _ref.data,\n      isConnectable = _ref.isConnectable,\n      _ref$targetPosition = _ref.targetPosition,\n      targetPosition = _ref$targetPosition === void 0 ? Position.Top : _ref$targetPosition;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Handle$1, {\n    type: \"target\",\n    position: targetPosition,\n    isConnectable: isConnectable\n  }), data === null || data === void 0 ? void 0 : data.label);\n};\n\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = /*#__PURE__*/memo(OutputNode);\n\nvar selector$9 = function selector(s) {\n  return {\n    selectedNodes: Array.from(s.nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    }),\n    selectedEdges: s.edges.filter(function (e) {\n      return e.selected;\n    })\n  };\n};\n\nvar areEqual = function areEqual(objA, objB) {\n  var selectedNodeIdsA = objA.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedNodeIdsB = objB.selectedNodes.map(function (n) {\n    return n.id;\n  });\n  var selectedEdgeIdsA = objA.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  var selectedEdgeIdsB = objB.selectedEdges.map(function (e) {\n    return e.id;\n  });\n  return shallow(selectedNodeIdsA, selectedNodeIdsB) && shallow(selectedEdgeIdsA, selectedEdgeIdsB);\n}; // This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\n\n\nfunction SelectionListener(_ref) {\n  var onSelectionChange = _ref.onSelectionChange;\n\n  var _useStore = useStore(selector$9, areEqual),\n      selectedNodes = _useStore.selectedNodes,\n      selectedEdges = _useStore.selectedEdges;\n\n  useEffect(function () {\n    onSelectionChange({\n      nodes: selectedNodes,\n      edges: selectedEdges\n    });\n  }, [selectedNodes, selectedEdges]);\n  return null;\n}\n\nvar SelectionListener$1 = /*#__PURE__*/memo(SelectionListener);\n\nvar selector$8 = function selector(s) {\n  return {\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset\n  };\n};\n\nfunction useStoreUpdater(value, setStoreState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      setStoreState(value);\n    }\n  }, [value]);\n}\n\nfunction useDirectStoreUpdater(key, value, setState) {\n  useEffect(function () {\n    if (typeof value !== 'undefined') {\n      // @ts-ignore\n      setState(_defineProperty({}, key, value));\n    }\n  }, [value]);\n}\n\nvar StoreUpdater = function StoreUpdater(_ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      nodeExtent = _ref.nodeExtent,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      elementsSelectable = _ref.elementsSelectable,\n      connectionMode = _ref.connectionMode,\n      snapGrid = _ref.snapGrid,\n      snapToGrid = _ref.snapToGrid,\n      translateExtent = _ref.translateExtent,\n      connectOnClick = _ref.connectOnClick,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      fitView = _ref.fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDragStop = _ref.onSelectionDragStop;\n\n  var _useStore = useStore(selector$8, shallow),\n      setNodes = _useStore.setNodes,\n      setEdges = _useStore.setEdges,\n      setDefaultNodesAndEdges = _useStore.setDefaultNodesAndEdges,\n      setMinZoom = _useStore.setMinZoom,\n      setMaxZoom = _useStore.setMaxZoom,\n      setTranslateExtent = _useStore.setTranslateExtent,\n      setNodeExtent = _useStore.setNodeExtent,\n      reset = _useStore.reset;\n\n  var store = useStoreApi();\n  useEffect(function () {\n    setDefaultNodesAndEdges(defaultNodes, defaultEdges);\n    return function () {\n      reset();\n    };\n  }, []);\n  useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n  useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n  useDirectStoreUpdater('onConnect', onConnect, store.setState);\n  useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n  useDirectStoreUpdater('onConnectStop', onConnectStop, store.setState);\n  useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n  useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n  useDirectStoreUpdater('onClickConnectStop', onClickConnectStop, store.setState);\n  useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n  useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n  useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n  useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n  useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n  useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n  useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n  useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n  useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n  useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n  useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n  useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n  useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n  useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n  useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n  useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n  useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n  useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n  useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n  useStoreUpdater(nodes, setNodes);\n  useStoreUpdater(edges, setEdges);\n  useStoreUpdater(defaultNodes, setNodes);\n  useStoreUpdater(defaultEdges, setEdges);\n  useStoreUpdater(minZoom, setMinZoom);\n  useStoreUpdater(maxZoom, setMaxZoom);\n  useStoreUpdater(translateExtent, setTranslateExtent);\n  useStoreUpdater(nodeExtent, setNodeExtent);\n  return null;\n};\n\nvar css_248z$1 = \".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}\";\nvar css = css_248z$1;\n\nvar css_248z = \".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}\";\nvar theme = css_248z;\n\nvar shiftX = function shiftX(x, shift, position) {\n  if (position === Position.Left) return x - shift;\n  if (position === Position.Right) return x + shift;\n  return x;\n};\n\nvar shiftY = function shiftY(y, shift, position) {\n  if (position === Position.Top) return y - shift;\n  if (position === Position.Bottom) return y + shift;\n  return y;\n};\n\nvar EdgeAnchor = function EdgeAnchor(_ref) {\n  var className = _ref.className,\n      position = _ref.position,\n      centerX = _ref.centerX,\n      centerY = _ref.centerY,\n      _ref$radius = _ref.radius,\n      radius = _ref$radius === void 0 ? 10 : _ref$radius;\n  return /*#__PURE__*/React.createElement(\"circle\", {\n    className: cc(['react-flow__edgeupdater', className]),\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\n\nvar wrapEdge = (function (EdgeComponent) {\n  var EdgeWrapper = function EdgeWrapper(_ref) {\n    var id = _ref.id,\n        className = _ref.className,\n        type = _ref.type,\n        data = _ref.data,\n        onClick = _ref.onClick,\n        onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n        selected = _ref.selected,\n        animated = _ref.animated,\n        label = _ref.label,\n        labelStyle = _ref.labelStyle,\n        labelShowBg = _ref.labelShowBg,\n        labelBgStyle = _ref.labelBgStyle,\n        labelBgPadding = _ref.labelBgPadding,\n        labelBgBorderRadius = _ref.labelBgBorderRadius,\n        style = _ref.style,\n        source = _ref.source,\n        target = _ref.target,\n        sourceX = _ref.sourceX,\n        sourceY = _ref.sourceY,\n        targetX = _ref.targetX,\n        targetY = _ref.targetY,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        elementsSelectable = _ref.elementsSelectable,\n        hidden = _ref.hidden,\n        sourceHandleId = _ref.sourceHandleId,\n        targetHandleId = _ref.targetHandleId,\n        onContextMenu = _ref.onContextMenu,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n        onEdgeUpdate = _ref.onEdgeUpdate,\n        onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n        onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n        markerEnd = _ref.markerEnd,\n        markerStart = _ref.markerStart,\n        rfId = _ref.rfId;\n\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        updating = _useState2[0],\n        setUpdating = _useState2[1];\n\n    var store = useStoreApi();\n\n    var onEdgeClick = function onEdgeClick(event) {\n      var _store$getState = store.getState(),\n          edges = _store$getState.edges,\n          addSelectedEdges = _store$getState.addSelectedEdges;\n\n      var edge = edges.find(function (e) {\n        return e.id === id;\n      });\n\n      if (elementsSelectable) {\n        store.setState({\n          nodesSelectionActive: false\n        });\n        addSelectedEdges([id]);\n      }\n\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, edge);\n    };\n\n    var onEdgeDoubleClickHandler = getMouseHandler(id, store.getState, onEdgeDoubleClick);\n    var onEdgeContextMenu = getMouseHandler(id, store.getState, onContextMenu);\n    var onEdgeMouseEnter = getMouseHandler(id, store.getState, onMouseEnter);\n    var onEdgeMouseMove = getMouseHandler(id, store.getState, onMouseMove);\n    var onEdgeMouseLeave = getMouseHandler(id, store.getState, onMouseLeave);\n\n    var handleEdgeUpdater = function handleEdgeUpdater(event, isSourceHandle) {\n      var nodeId = isSourceHandle ? target : source;\n      var handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n      var handleType = isSourceHandle ? 'target' : 'source';\n\n      var isValidConnection = function isValidConnection() {\n        return true;\n      };\n\n      var isTarget = isSourceHandle;\n      var edge = store.getState().edges.find(function (e) {\n        return e.id === id;\n      });\n      onEdgeUpdateStart === null || onEdgeUpdateStart === void 0 ? void 0 : onEdgeUpdateStart(event, edge, handleType);\n\n      var _onEdgeUpdateEnd = onEdgeUpdateEnd ? function (evt) {\n        return onEdgeUpdateEnd(evt, edge, handleType);\n      } : undefined;\n\n      var onConnectEdge = function onConnectEdge(connection) {\n        return onEdgeUpdate === null || onEdgeUpdate === void 0 ? void 0 : onEdgeUpdate(edge, connection);\n      };\n\n      handleMouseDown({\n        event: event,\n        handleId: handleId,\n        nodeId: nodeId,\n        onConnect: onConnectEdge,\n        isTarget: isTarget,\n        getState: store.getState,\n        setState: store.setState,\n        isValidConnection: isValidConnection,\n        elementEdgeUpdaterType: handleType,\n        onEdgeUpdateEnd: _onEdgeUpdateEnd\n      });\n    };\n\n    var onEdgeUpdaterSourceMouseDown = function onEdgeUpdaterSourceMouseDown(event) {\n      return handleEdgeUpdater(event, true);\n    };\n\n    var onEdgeUpdaterTargetMouseDown = function onEdgeUpdaterTargetMouseDown(event) {\n      return handleEdgeUpdater(event, false);\n    };\n\n    var onEdgeUpdaterMouseEnter = function onEdgeUpdaterMouseEnter() {\n      return setUpdating(true);\n    };\n\n    var onEdgeUpdaterMouseOut = function onEdgeUpdaterMouseOut() {\n      return setUpdating(false);\n    };\n\n    var markerStartUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerStart, rfId), \")\");\n    }, [markerStart, rfId]);\n    var markerEndUrl = useMemo(function () {\n      return \"url(#\".concat(getMarkerId(markerEnd, rfId), \")\");\n    }, [markerEnd, rfId]);\n\n    if (hidden) {\n      return null;\n    }\n\n    var inactive = !elementsSelectable && !onClick;\n    var handleEdgeUpdate = typeof onEdgeUpdate !== 'undefined';\n    var edgeClasses = cc(['react-flow__edge', \"react-flow__edge-\".concat(type), className, {\n      selected: selected,\n      animated: animated,\n      inactive: inactive,\n      updating: updating\n    }]);\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: edgeClasses,\n      onClick: onEdgeClick,\n      onDoubleClick: onEdgeDoubleClickHandler,\n      onContextMenu: onEdgeContextMenu,\n      onMouseEnter: onEdgeMouseEnter,\n      onMouseMove: onEdgeMouseMove,\n      onMouseLeave: onEdgeMouseLeave\n    }, /*#__PURE__*/React.createElement(EdgeComponent, {\n      id: id,\n      source: source,\n      target: target,\n      selected: selected,\n      animated: animated,\n      label: label,\n      labelStyle: labelStyle,\n      labelShowBg: labelShowBg,\n      labelBgStyle: labelBgStyle,\n      labelBgPadding: labelBgPadding,\n      labelBgBorderRadius: labelBgBorderRadius,\n      data: data,\n      style: style,\n      sourceX: sourceX,\n      sourceY: sourceY,\n      targetX: targetX,\n      targetY: targetY,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceHandleId: sourceHandleId,\n      targetHandleId: targetHandleId,\n      markerStart: markerStartUrl,\n      markerEnd: markerEndUrl\n    }), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterSourceMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: sourcePosition,\n      centerX: sourceX,\n      centerY: sourceY,\n      radius: edgeUpdaterRadius\n    })), handleEdgeUpdate && /*#__PURE__*/React.createElement(\"g\", {\n      onMouseDown: onEdgeUpdaterTargetMouseDown,\n      onMouseEnter: onEdgeUpdaterMouseEnter,\n      onMouseOut: onEdgeUpdaterMouseOut\n    }, /*#__PURE__*/React.createElement(EdgeAnchor, {\n      position: targetPosition,\n      centerX: targetX,\n      centerY: targetY,\n      radius: edgeUpdaterRadius\n    })));\n  };\n\n  EdgeWrapper.displayName = 'EdgeWrapper';\n  return /*#__PURE__*/memo(EdgeWrapper);\n});\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$8(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createEdgeTypes(edgeTypes) {\n  var standardTypes = {\n    \"default\": wrapEdge(edgeTypes[\"default\"] || BezierEdge),\n    straight: wrapEdge(edgeTypes.bezier || StraightEdge),\n    step: wrapEdge(edgeTypes.step || StepEdge),\n    smoothstep: wrapEdge(edgeTypes.step || SmoothStepEdge),\n    simplebezier: wrapEdge(edgeTypes.simplebezier || SimpleBezierEdge)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(edgeTypes).filter(function (k) {\n    return !['default', 'bezier'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapEdge(edgeTypes[key] || BezierEdge);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$8(_objectSpread$8({}, standardTypes), specialTypes);\n}\nfunction getHandlePosition(position, nodeRect) {\n  var handle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var x = ((handle === null || handle === void 0 ? void 0 : handle.x) || 0) + nodeRect.x;\n  var y = ((handle === null || handle === void 0 ? void 0 : handle.y) || 0) + nodeRect.y;\n  var width = (handle === null || handle === void 0 ? void 0 : handle.width) || nodeRect.width;\n  var height = (handle === null || handle === void 0 ? void 0 : handle.height) || nodeRect.height;\n\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y: y\n      };\n\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n\n    case Position.Left:\n      return {\n        x: x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds, handleId) {\n  if (!bounds) {\n    return null;\n  } // there is no handleId when there are no multiple handles/ handles with ids\n  // so we just pick the first one\n\n\n  var handle = null;\n\n  if (bounds.length === 1 || !handleId) {\n    handle = bounds[0];\n  } else if (handleId) {\n    handle = bounds.find(function (d) {\n      return d.id === handleId;\n    });\n  }\n\n  return typeof handle === 'undefined' ? null : handle;\n}\nvar getEdgePositions = function getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) {\n  var sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n  var targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n};\nfunction isEdgeVisible(_ref) {\n  var sourcePos = _ref.sourcePos,\n      targetPos = _ref.targetPos,\n      sourceWidth = _ref.sourceWidth,\n      sourceHeight = _ref.sourceHeight,\n      targetWidth = _ref.targetWidth,\n      targetHeight = _ref.targetHeight,\n      width = _ref.width,\n      height = _ref.height,\n      transform = _ref.transform;\n  var edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n\n  var viewBox = rectToBox({\n    x: (0 - transform[0]) / transform[2],\n    y: (0 - transform[1]) / transform[2],\n    width: width / transform[2],\n    height: height / transform[2]\n  });\n  var xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  var yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  var overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getNodeData(nodeInternals, nodeId) {\n  var _node$internalsSymbol, _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4;\n\n  var node = nodeInternals.get(nodeId);\n  var handleBounds = (node === null || node === void 0 ? void 0 : (_node$internalsSymbol = node[internalsSymbol]) === null || _node$internalsSymbol === void 0 ? void 0 : _node$internalsSymbol.handleBounds) || null;\n  var isInvalid = !node || !handleBounds || !node.width || !node.height || typeof ((_node$positionAbsolut = node.positionAbsolute) === null || _node$positionAbsolut === void 0 ? void 0 : _node$positionAbsolut.x) === 'undefined' || typeof ((_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.y) === 'undefined';\n  return [{\n    x: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut3 = node.positionAbsolute) === null || _node$positionAbsolut3 === void 0 ? void 0 : _node$positionAbsolut3.x) || 0,\n    y: (node === null || node === void 0 ? void 0 : (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) || 0,\n    width: (node === null || node === void 0 ? void 0 : node.width) || 0,\n    height: (node === null || node === void 0 ? void 0 : node.height) || 0\n  }, handleBounds, !isInvalid];\n}\n\nvar doc = typeof document !== 'undefined' ? document : null; // the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\n\nvar useKeyPress = (function () {\n  var keyCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    target: doc\n  };\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      keyPressed = _useState2[0],\n      setKeyPressed = _useState2[1]; // we need to remember the pressed keys in order to support combinations\n\n\n  var pressedKeys = useRef(new Set([])); // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n  // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n  // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n  // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n  // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n  // we can't find it in the list of keysToWatch.\n\n  var _useMemo = useMemo(function () {\n    if (keyCode !== null) {\n      var keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n      var keys = keyCodeArr.filter(function (kc) {\n        return typeof kc === 'string';\n      }).map(function (kc) {\n        return kc.split('+');\n      });\n      var keysFlat = keys.reduce(function (res, item) {\n        return res.concat.apply(res, _toConsumableArray(item));\n      }, []);\n      return [keys, keysFlat];\n    }\n\n    return [[], []];\n  }, [keyCode]),\n      _useMemo2 = _slicedToArray(_useMemo, 2),\n      keyCodes = _useMemo2[0],\n      keysToWatch = _useMemo2[1];\n\n  useEffect(function () {\n    if (keyCode !== null) {\n      var _options$target, _options$target2;\n\n      var downHandler = function downHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n        pressedKeys.current.add(event[keyOrCode]);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n          event.preventDefault();\n          setKeyPressed(true);\n        }\n      };\n\n      var upHandler = function upHandler(event) {\n        if (isInputDOMNode(event)) {\n          return false;\n        }\n\n        var keyOrCode = useKeyOrCode(event.code, keysToWatch);\n\n        if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n          setKeyPressed(false);\n          pressedKeys.current.clear();\n        } else {\n          pressedKeys.current[\"delete\"](event[keyOrCode]);\n        }\n      };\n\n      var resetHandler = function resetHandler() {\n        pressedKeys.current.clear();\n        setKeyPressed(false);\n      };\n\n      options === null || options === void 0 ? void 0 : (_options$target = options.target) === null || _options$target === void 0 ? void 0 : _options$target.addEventListener('keydown', downHandler);\n      options === null || options === void 0 ? void 0 : (_options$target2 = options.target) === null || _options$target2 === void 0 ? void 0 : _options$target2.addEventListener('keyup', upHandler);\n      window.addEventListener('blur', resetHandler);\n      return function () {\n        var _options$target3, _options$target4;\n\n        options === null || options === void 0 ? void 0 : (_options$target3 = options.target) === null || _options$target3 === void 0 ? void 0 : _options$target3.removeEventListener('keydown', downHandler);\n        options === null || options === void 0 ? void 0 : (_options$target4 = options.target) === null || _options$target4 === void 0 ? void 0 : _options$target4.removeEventListener('keyup', upHandler);\n        window.removeEventListener('blur', resetHandler);\n      };\n    }\n  }, [keyCode, setKeyPressed]);\n  return keyPressed;\n}); // utils\n\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n  return keyCodes // we only want to compare same sizes of keyCode definitions\n  // and pressed keys. When the user specified 'Meta' as a key somewhere\n  // this would also be truthy without this filter when user presses 'Meta' + 'r'\n  .filter(function (keys) {\n    return isUp || keys.length === pressedKeys.size;\n  }) // since we want to support multiple possibilities only one of the\n  // combinations need to be part of the pressed keys\n  .some(function (keys) {\n    return keys.every(function (k) {\n      return pressedKeys.has(k);\n    });\n  });\n}\n\nfunction useKeyOrCode(eventCode, keysToWatch) {\n  return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction isInputDOMNode(event) {\n  var target = event.target;\n  return ['INPUT', 'SELECT', 'TEXTAREA'].includes(target === null || target === void 0 ? void 0 : target.nodeName) || (target === null || target === void 0 ? void 0 : target.hasAttribute('contenteditable'));\n}\n\nvar selector$7 = function selector(s) {\n  return {\n    onNodesChange: s.onNodesChange,\n    onEdgesChange: s.onEdgesChange\n  };\n};\n\nvar useGlobalKeyHandler = (function (_ref) {\n  var deleteKeyCode = _ref.deleteKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode;\n  var store = useStoreApi();\n\n  var _useStore = useStore(selector$7, shallow),\n      onNodesChange = _useStore.onNodesChange,\n      onEdgesChange = _useStore.onEdgesChange;\n\n  var deleteKeyPressed = useKeyPress(deleteKeyCode);\n  var multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n  useEffect(function () {\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        hasDefaultNodes = _store$getState.hasDefaultNodes,\n        hasDefaultEdges = _store$getState.hasDefaultEdges,\n        onNodesDelete = _store$getState.onNodesDelete,\n        onEdgesDelete = _store$getState.onEdgesDelete;\n\n    var nodes = Array.from(nodeInternals.values());\n    var nodesToRemove = nodes.reduce(function (res, node) {\n      if (!node.selected && node.parentNode && res.find(function (n) {\n        return n.id === node.parentNode;\n      })) {\n        res.push(node);\n      } else if (node.selected) {\n        res.push(node);\n      }\n\n      return res;\n    }, []);\n    var selectedEdges = edges.filter(function (e) {\n      return e.selected;\n    });\n\n    if (deleteKeyPressed && (nodesToRemove || selectedEdges)) {\n      var connectedEdges = getConnectedEdges(nodesToRemove, edges);\n      var edgesToRemove = [].concat(_toConsumableArray(selectedEdges), _toConsumableArray(connectedEdges));\n      var edgeIdsToRemove = edgesToRemove.reduce(function (res, edge) {\n        if (!res.includes(edge.id)) {\n          res.push(edge.id);\n        }\n\n        return res;\n      }, []);\n\n      if (hasDefaultEdges || hasDefaultNodes) {\n        if (hasDefaultEdges) {\n          store.setState({\n            edges: edges.filter(function (e) {\n              return !edgeIdsToRemove.includes(e.id);\n            })\n          });\n        }\n\n        if (hasDefaultNodes) {\n          nodesToRemove.forEach(function (node) {\n            nodeInternals[\"delete\"](node.id);\n          });\n          store.setState({\n            nodeInternals: new Map(nodeInternals)\n          });\n        }\n      }\n\n      if (edgeIdsToRemove.length > 0) {\n        onEdgesDelete === null || onEdgesDelete === void 0 ? void 0 : onEdgesDelete(edgesToRemove);\n\n        if (onEdgesChange) {\n          var edgeChanges = edgeIdsToRemove.map(function (id) {\n            return {\n              id: id,\n              type: 'remove'\n            };\n          });\n          onEdgesChange(edgeChanges);\n        }\n      }\n\n      if (nodesToRemove.length > 0) {\n        onNodesDelete === null || onNodesDelete === void 0 ? void 0 : onNodesDelete(nodesToRemove);\n\n        if (onNodesChange) {\n          var nodeChanges = nodesToRemove.map(function (n) {\n            return {\n              id: n.id,\n              type: 'remove'\n            };\n          });\n          onNodesChange(nodeChanges);\n        }\n      }\n\n      store.setState({\n        nodesSelectionActive: false\n      });\n    }\n  }, [deleteKeyPressed, onNodesChange, onEdgesChange]);\n  useEffect(function () {\n    store.setState({\n      multiSelectionActive: multiSelectionKeyPressed\n    });\n  }, [multiSelectionKeyPressed]);\n});\n\nfunction useResizeHandler(rendererNode) {\n  var store = useStoreApi();\n  useEffect(function () {\n    var resizeObserver;\n\n    var updateDimensions = function updateDimensions() {\n      if (!rendererNode.current) {\n        return;\n      }\n\n      var size = getDimensions(rendererNode.current); // @ts-ignore\n\n      if (process.env.NODE_ENV === 'development') {\n        if (size.height === 0 || size.width === 0) {\n          console.warn('[React Flow]: The React Flow parent container needs a width and a height to render the graph. Help: https://reactflow.dev/error#400');\n        }\n      }\n\n      store.setState({\n        width: size.width || 500,\n        height: size.height || 500\n      });\n    };\n\n    updateDimensions();\n    window.onresize = updateDimensions;\n\n    if (rendererNode.current) {\n      resizeObserver = new ResizeObserver(function () {\n        return updateDimensions();\n      });\n      resizeObserver.observe(rendererNode.current);\n    }\n\n    return function () {\n      window.onresize = null;\n\n      if (resizeObserver && rendererNode.current) {\n        resizeObserver.unobserve(rendererNode.current);\n      }\n    };\n  }, []);\n}\n\nvar viewChanged = function viewChanged(prevViewport, eventViewport) {\n  return prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\n};\n\nvar eventToFlowTransform = function eventToFlowTransform(eventViewport) {\n  return {\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k\n  };\n};\n\nvar isWrappedWithClass = function isWrappedWithClass(event, className) {\n  return event.target.closest(\".\".concat(className));\n};\n\nvar selector$6 = function selector(s) {\n  return {\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler\n  };\n};\n\nvar ZoomPane = function ZoomPane(_ref) {\n  var onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      selectionKeyPressed = _ref.selectionKeyPressed,\n      elementsSelectable = _ref.elementsSelectable,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? [0, 0] : _ref$defaultPosition,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      children = _ref.children,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var isZoomingOrPanning = useRef(false);\n  var zoomPane = useRef(null);\n  var prevTransform = useRef({\n    x: 0,\n    y: 0,\n    zoom: 0\n  });\n\n  var _useStore = useStore(selector$6, shallow),\n      d3Zoom = _useStore.d3Zoom,\n      d3Selection = _useStore.d3Selection,\n      d3ZoomHandler = _useStore.d3ZoomHandler;\n\n  var zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n  useResizeHandler(zoomPane);\n  useEffect(function () {\n    if (zoomPane.current) {\n      var _store$getState = store.getState(),\n          minZoom = _store$getState.minZoom,\n          maxZoom = _store$getState.maxZoom,\n          translateExtent = _store$getState.translateExtent;\n\n      var d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n      var selection = select(zoomPane.current).call(d3ZoomInstance);\n      var clampedX = clamp(defaultPosition[0], translateExtent[0][0], translateExtent[1][0]);\n      var clampedY = clamp(defaultPosition[1], translateExtent[0][1], translateExtent[1][1]);\n      var clampedZoom = clamp(defaultZoom, minZoom, maxZoom);\n      var updatedTransform = zoomIdentity.translate(clampedX, clampedY).scale(clampedZoom);\n      d3ZoomInstance.transform(selection, updatedTransform);\n      store.setState({\n        d3Zoom: d3ZoomInstance,\n        d3Selection: selection,\n        d3ZoomHandler: selection.on('wheel.zoom'),\n        // we need to pass transform because zoom handler is not registered when we set the initial transform\n        transform: [clampedX, clampedY, clampedZoom]\n      });\n    }\n  }, []);\n  useEffect(function () {\n    if (d3Selection && d3Zoom) {\n      if (panOnScroll && !zoomActivationKeyPressed) {\n        d3Selection.on('wheel', function (event) {\n          if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n          }\n\n          event.preventDefault();\n          event.stopImmediatePropagation();\n          var currentZoom = d3Selection.property('__zoom').k || 1;\n\n          if (event.ctrlKey && zoomOnPinch) {\n            var point = pointer(event); // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n\n            var pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n\n            var _zoom = currentZoom * Math.pow(2, pinchDelta);\n\n            d3Zoom.scaleTo(d3Selection, _zoom, point);\n            return;\n          } // increase scroll speed in firefox\n          // firefox: deltaMode === 1; chrome: deltaMode === 0\n\n\n          var deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n          var deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n          var deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n          d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n        }).on('wheel.zoom', null);\n      } else if (typeof d3ZoomHandler !== 'undefined') {\n        d3Selection.on('wheel', function (event) {\n          if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n            return null;\n          }\n\n          event.preventDefault();\n        }).on('wheel.zoom', d3ZoomHandler);\n      }\n    }\n  }, [panOnScroll, panOnScrollMode, d3Selection, d3Zoom, d3ZoomHandler, zoomActivationKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName]);\n  useEffect(function () {\n    if (d3Zoom) {\n      if (selectionKeyPressed && !isZoomingOrPanning.current) {\n        d3Zoom.on('zoom', null);\n      } else if (!selectionKeyPressed) {\n        d3Zoom.on('zoom', function (event) {\n          store.setState({\n            transform: [event.transform.x, event.transform.y, event.transform.k]\n          });\n\n          if (onMove) {\n            var flowTransform = eventToFlowTransform(event.transform);\n            onMove(event.sourceEvent, flowTransform);\n          }\n        });\n      }\n    }\n  }, [selectionKeyPressed, d3Zoom, onMove]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('start', function (event) {\n        isZoomingOrPanning.current = true;\n\n        if (onMoveStart) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveStart(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveStart]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.on('end', function (event) {\n        isZoomingOrPanning.current = false;\n\n        if (onMoveEnd && viewChanged(prevTransform.current, event.transform)) {\n          var flowTransform = eventToFlowTransform(event.transform);\n          prevTransform.current = flowTransform;\n          onMoveEnd(event.sourceEvent, flowTransform);\n        }\n      });\n    }\n  }, [d3Zoom, onMoveEnd]);\n  useEffect(function () {\n    if (d3Zoom) {\n      d3Zoom.filter(function (event) {\n        var zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        var pinchZoom = zoomOnPinch && event.ctrlKey; // if all interactions are disabled, we prevent all zoom events\n\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n          return false;\n        } // during a selection we prevent all other interactions\n\n\n        if (selectionKeyPressed) {\n          return false;\n        } // if zoom on double click is disabled, we prevent the double click event\n\n\n        if (!zoomOnDoubleClick && event.type === 'dblclick') {\n          return false;\n        } // if the target element is inside an element with the nowheel class, we prevent zooming\n\n\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n          return false;\n        } // if the target element is inside an element with the nopan class, we prevent panning\n\n\n        if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n          return false;\n        }\n\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n          return false;\n        } // when there is no scroll handling enabled, we prevent all wheel events\n\n\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n          return false;\n        } // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n\n\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n          return false;\n        } // default filter for d3-zoom\n\n\n        return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n      });\n    }\n  }, [d3Zoom, zoomOnScroll, zoomOnPinch, panOnScroll, zoomOnDoubleClick, panOnDrag, selectionKeyPressed, elementsSelectable, zoomActivationKeyPressed]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__renderer react-flow__container\",\n    ref: zoomPane\n  }, children);\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$7(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\n\nvar selector$5 = function selector(s) {\n  return {\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable\n  };\n};\n\nvar initialRect = {\n  startX: 0,\n  startY: 0,\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  draw: false\n};\nvar UserSelection = /*#__PURE__*/memo(function (_ref) {\n  var selectionKeyPressed = _ref.selectionKeyPressed;\n  var store = useStoreApi();\n  var prevSelectedNodesCount = useRef(0);\n  var prevSelectedEdgesCount = useRef(0);\n  var containerBounds = useRef();\n\n  var _useState = useState(initialRect),\n      _useState2 = _slicedToArray(_useState, 2),\n      userSelectionRect = _useState2[0],\n      setUserSelectionRect = _useState2[1];\n\n  var _useStore = useStore(selector$5, shallow),\n      userSelectionActive = _useStore.userSelectionActive,\n      elementsSelectable = _useStore.elementsSelectable;\n\n  var renderUserSelectionPane = userSelectionActive || selectionKeyPressed;\n\n  if (!elementsSelectable || !renderUserSelectionPane) {\n    return null;\n  }\n\n  var resetUserSelection = function resetUserSelection() {\n    setUserSelectionRect(initialRect);\n    store.setState({\n      userSelectionActive: false\n    });\n    prevSelectedNodesCount.current = 0;\n    prevSelectedEdgesCount.current = 0;\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    var reactFlowNode = event.target.closest('.react-flow');\n    containerBounds.current = reactFlowNode.getBoundingClientRect();\n    var mousePos = getMousePosition(event, containerBounds.current);\n    setUserSelectionRect({\n      width: 0,\n      height: 0,\n      startX: mousePos.x,\n      startY: mousePos.y,\n      x: mousePos.x,\n      y: mousePos.y,\n      draw: true\n    });\n    store.setState({\n      userSelectionActive: true,\n      nodesSelectionActive: false\n    });\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    var _userSelectionRect$st, _userSelectionRect$st2;\n\n    if (!selectionKeyPressed || !userSelectionRect.draw || !containerBounds.current) {\n      return;\n    }\n\n    var mousePos = getMousePosition(event, containerBounds.current);\n    var startX = (_userSelectionRect$st = userSelectionRect.startX) !== null && _userSelectionRect$st !== void 0 ? _userSelectionRect$st : 0;\n    var startY = (_userSelectionRect$st2 = userSelectionRect.startY) !== null && _userSelectionRect$st2 !== void 0 ? _userSelectionRect$st2 : 0;\n\n    var nextUserSelectRect = _objectSpread$7(_objectSpread$7({}, userSelectionRect), {}, {\n      x: mousePos.x < startX ? mousePos.x : startX,\n      y: mousePos.y < startY ? mousePos.y : startY,\n      width: Math.abs(mousePos.x - startX),\n      height: Math.abs(mousePos.y - startY)\n    });\n\n    var _store$getState = store.getState(),\n        nodeInternals = _store$getState.nodeInternals,\n        edges = _store$getState.edges,\n        transform = _store$getState.transform,\n        onNodesChange = _store$getState.onNodesChange,\n        onEdgesChange = _store$getState.onEdgesChange;\n\n    var nodes = Array.from(nodeInternals.values());\n    var selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, false, true);\n    var selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map(function (e) {\n      return e.id;\n    });\n    var selectedNodeIds = selectedNodes.map(function (n) {\n      return n.id;\n    });\n\n    if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n      prevSelectedNodesCount.current = selectedNodeIds.length;\n      var changes = getSelectionChanges(nodes, selectedNodeIds);\n\n      if (changes.length) {\n        onNodesChange === null || onNodesChange === void 0 ? void 0 : onNodesChange(changes);\n      }\n    }\n\n    if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n      prevSelectedEdgesCount.current = selectedEdgeIds.length;\n\n      var _changes = getSelectionChanges(edges, selectedEdgeIds);\n\n      if (_changes.length) {\n        onEdgesChange === null || onEdgesChange === void 0 ? void 0 : onEdgesChange(_changes);\n      }\n    }\n\n    setUserSelectionRect(nextUserSelectRect);\n  };\n\n  var onMouseUp = function onMouseUp() {\n    store.setState({\n      nodesSelectionActive: prevSelectedNodesCount.current > 0\n    });\n    resetUserSelection();\n  };\n\n  var onMouseLeave = function onMouseLeave() {\n    store.setState({\n      nodesSelectionActive: false\n    });\n    resetUserSelection();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selectionpane react-flow__container\",\n    onMouseDown: onMouseDown,\n    onMouseMove: onMouseMove,\n    onMouseUp: onMouseUp,\n    onMouseLeave: onMouseLeave\n  }, userSelectionRect.draw && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__selection react-flow__container\",\n    style: {\n      width: userSelectionRect.width,\n      height: userSelectionRect.height,\n      transform: \"translate(\".concat(userSelectionRect.x, \"px, \").concat(userSelectionRect.y, \"px)\")\n    }\n  }));\n});\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction isParentSelected(node, nodeInternals) {\n  if (!node.parentNode) {\n    return false;\n  }\n\n  var parentNode = nodeInternals.get(node.parentNode);\n\n  if (!parentNode) {\n    return false;\n  }\n\n  if (parentNode.selected) {\n    return true;\n  }\n\n  return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n  var current = target;\n\n  do {\n    var _current;\n\n    if ((_current = current) !== null && _current !== void 0 && _current.matches(selector)) return true;\n    if (current === nodeRef.current) return false;\n    current = current.parentElement;\n  } while (current);\n\n  return false;\n} // looks for all selected nodes and created a NodeDragItem for each of them\n\nfunction getDragItems(nodeInternals, mousePos, nodeId) {\n  return Array.from(nodeInternals.values()).filter(function (n) {\n    return (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, nodeInternals));\n  }).map(function (n) {\n    var _n$positionAbsolute$x, _n$positionAbsolute, _n$positionAbsolute$y, _n$positionAbsolute2;\n\n    return {\n      id: n.id,\n      position: n.position || {\n        x: 0,\n        y: 0\n      },\n      positionAbsolute: n.positionAbsolute || {\n        x: 0,\n        y: 0\n      },\n      distance: {\n        x: mousePos.x - ((_n$positionAbsolute$x = (_n$positionAbsolute = n.positionAbsolute) === null || _n$positionAbsolute === void 0 ? void 0 : _n$positionAbsolute.x) !== null && _n$positionAbsolute$x !== void 0 ? _n$positionAbsolute$x : 0),\n        y: mousePos.y - ((_n$positionAbsolute$y = (_n$positionAbsolute2 = n.positionAbsolute) === null || _n$positionAbsolute2 === void 0 ? void 0 : _n$positionAbsolute2.y) !== null && _n$positionAbsolute$y !== void 0 ? _n$positionAbsolute$y : 0)\n      },\n      delta: {\n        x: 0,\n        y: 0\n      },\n      extent: n.extent,\n      parentNode: n.parentNode,\n      width: n.width,\n      height: n.height\n    };\n  });\n}\nfunction updatePosition(dragItem, mousePos, nodeInternals, nodeExtent) {\n  var currentExtent = dragItem.extent || nodeExtent;\n  var nextPosition = {\n    x: mousePos.x - dragItem.distance.x,\n    y: mousePos.y - dragItem.distance.y\n  };\n\n  if (dragItem.extent === 'parent') {\n    if (dragItem.parentNode && dragItem.width && dragItem.height) {\n      var parent = nodeInternals.get(dragItem.parentNode);\n      currentExtent = parent !== null && parent !== void 0 && parent.positionAbsolute && parent !== null && parent !== void 0 && parent.width && parent !== null && parent !== void 0 && parent.height ? [[parent.positionAbsolute.x, parent.positionAbsolute.y], [parent.positionAbsolute.x + parent.width - dragItem.width, parent.positionAbsolute.y + parent.height - dragItem.height]] : currentExtent;\n    } else {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('[React Flow]: Only child nodes can use a parent extent. Help: https://reactflow.dev/error#500');\n      }\n\n      currentExtent = nodeExtent;\n    }\n  } else if (dragItem.extent && dragItem.parentNode) {\n    var _parent$positionAbsol, _parent$positionAbsol2, _parent$positionAbsol3, _parent$positionAbsol4;\n\n    var _parent = nodeInternals.get(dragItem.parentNode);\n\n    var parentX = (_parent$positionAbsol = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol2 = _parent.positionAbsolute) === null || _parent$positionAbsol2 === void 0 ? void 0 : _parent$positionAbsol2.x) !== null && _parent$positionAbsol !== void 0 ? _parent$positionAbsol : 0;\n    var parentY = (_parent$positionAbsol3 = _parent === null || _parent === void 0 ? void 0 : (_parent$positionAbsol4 = _parent.positionAbsolute) === null || _parent$positionAbsol4 === void 0 ? void 0 : _parent$positionAbsol4.y) !== null && _parent$positionAbsol3 !== void 0 ? _parent$positionAbsol3 : 0;\n    currentExtent = [[dragItem.extent[0][0] + parentX, dragItem.extent[0][1] + parentY], [dragItem.extent[1][0] + parentX, dragItem.extent[1][1] + parentY]];\n  }\n\n  var parentPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (dragItem.parentNode) {\n    var _parentNode$positionA, _parentNode$positionA2, _parentNode$positionA3, _parentNode$positionA4;\n\n    var parentNode = nodeInternals.get(dragItem.parentNode);\n    parentPosition = {\n      x: (_parentNode$positionA = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA2 = parentNode.positionAbsolute) === null || _parentNode$positionA2 === void 0 ? void 0 : _parentNode$positionA2.x) !== null && _parentNode$positionA !== void 0 ? _parentNode$positionA : 0,\n      y: (_parentNode$positionA3 = parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$positionA4 = parentNode.positionAbsolute) === null || _parentNode$positionA4 === void 0 ? void 0 : _parentNode$positionA4.y) !== null && _parentNode$positionA3 !== void 0 ? _parentNode$positionA3 : 0\n    };\n  }\n\n  dragItem.positionAbsolute = currentExtent ? clampPosition(nextPosition, currentExtent) : nextPosition;\n  dragItem.position = {\n    x: dragItem.positionAbsolute.x - parentPosition.x,\n    y: dragItem.positionAbsolute.y - parentPosition.y\n  };\n  return dragItem;\n} // returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\n\nfunction getEventHandlerParams(_ref) {\n  var nodeId = _ref.nodeId,\n      dragItems = _ref.dragItems,\n      nodeInternals = _ref.nodeInternals;\n  var extentedDragItems = dragItems.map(function (n) {\n    var node = nodeInternals.get(n.id);\n    return _objectSpread$6(_objectSpread$6({}, node), {}, {\n      position: n.position,\n      positionAbsolute: n.positionAbsolute\n    });\n  });\n  return [nodeId ? extentedDragItems.find(function (n) {\n    return n.id === nodeId;\n  }) : extentedDragItems[0], extentedDragItems];\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n  return function (event, _, nodes) {\n    return selectionFunc === null || selectionFunc === void 0 ? void 0 : selectionFunc(event, nodes);\n  };\n}\n\nfunction useDrag(_ref) {\n  var nodeRef = _ref.nodeRef,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      noDragClassName = _ref.noDragClassName,\n      handleSelector = _ref.handleSelector,\n      nodeId = _ref.nodeId,\n      isSelectable = _ref.isSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      dragging = _useState2[0],\n      setDragging = _useState2[1];\n\n  var store = useStoreApi();\n  var dragItems = useRef();\n  var lastPos = useRef({\n    x: null,\n    y: null\n  }); // returns the pointer position projected to the RF coordinate system\n\n  var getPointerPosition = useCallback(function (_ref2) {\n    var sourceEvent = _ref2.sourceEvent;\n\n    var _store$getState = store.getState(),\n        transform = _store$getState.transform,\n        snapGrid = _store$getState.snapGrid,\n        snapToGrid = _store$getState.snapToGrid;\n\n    var x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n    var y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n    var pointerPos = pointToRendererPoint({\n      x: x,\n      y: y\n    }, transform, snapToGrid, snapGrid);\n    return pointerPos;\n  }, []);\n  useEffect(function () {\n    if (nodeRef !== null && nodeRef !== void 0 && nodeRef.current) {\n      var selection = select(nodeRef.current);\n\n      if (disabled) {\n        selection.on('.drag', null);\n      } else {\n        var dragHandler = drag().on('start', function (event) {\n          var _store$getState2 = store.getState(),\n              nodeInternals = _store$getState2.nodeInternals,\n              multiSelectionActive = _store$getState2.multiSelectionActive,\n              unselectNodesAndEdges = _store$getState2.unselectNodesAndEdges,\n              onNodeDragStart = _store$getState2.onNodeDragStart,\n              onSelectionDragStart = _store$getState2.onSelectionDragStart;\n\n          var onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n\n          if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n            var _nodeInternals$get;\n\n            if (!((_nodeInternals$get = nodeInternals.get(nodeId)) !== null && _nodeInternals$get !== void 0 && _nodeInternals$get.selected)) {\n              // we need to reset selected nodes when selectNodesOnDrag=false\n              unselectNodesAndEdges();\n            }\n          }\n\n          if (nodeId && isSelectable && selectNodesOnDrag) {\n            handleNodeClick({\n              id: nodeId,\n              store: store\n            });\n          }\n\n          var pointerPos = getPointerPosition(event);\n          lastPos.current = pointerPos;\n          dragItems.current = getDragItems(nodeInternals, pointerPos, nodeId);\n\n          if (onStart && dragItems.current) {\n            var _getEventHandlerParam = getEventHandlerParams({\n              nodeId: nodeId,\n              dragItems: dragItems.current,\n              nodeInternals: nodeInternals\n            }),\n                _getEventHandlerParam2 = _slicedToArray(_getEventHandlerParam, 2),\n                currentNode = _getEventHandlerParam2[0],\n                nodes = _getEventHandlerParam2[1];\n\n            onStart(event.sourceEvent, currentNode, nodes);\n          }\n        }).on('drag', function (event) {\n          var _store$getState3 = store.getState(),\n              updateNodePositions = _store$getState3.updateNodePositions,\n              nodeInternals = _store$getState3.nodeInternals,\n              nodeExtent = _store$getState3.nodeExtent,\n              onNodeDrag = _store$getState3.onNodeDrag,\n              onSelectionDrag = _store$getState3.onSelectionDrag;\n\n          var pointerPos = getPointerPosition(event); // skip events without movement\n\n          if ((lastPos.current.x !== pointerPos.x || lastPos.current.y !== pointerPos.y) && dragItems.current) {\n            lastPos.current = pointerPos;\n            dragItems.current = dragItems.current.map(function (n) {\n              return updatePosition(n, pointerPos, nodeInternals, nodeExtent);\n            });\n            var onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n            updateNodePositions(dragItems.current, true, true);\n            setDragging(true);\n\n            if (onDrag) {\n              var _getEventHandlerParam3 = getEventHandlerParams({\n                nodeId: nodeId,\n                dragItems: dragItems.current,\n                nodeInternals: nodeInternals\n              }),\n                  _getEventHandlerParam4 = _slicedToArray(_getEventHandlerParam3, 2),\n                  currentNode = _getEventHandlerParam4[0],\n                  nodes = _getEventHandlerParam4[1];\n\n              onDrag(event.sourceEvent, currentNode, nodes);\n            }\n          }\n\n          event.on('end', function (event) {\n            setDragging(false);\n\n            if (dragItems.current) {\n              var _store$getState4 = store.getState(),\n                  _updateNodePositions = _store$getState4.updateNodePositions,\n                  _nodeInternals = _store$getState4.nodeInternals,\n                  onNodeDragStop = _store$getState4.onNodeDragStop,\n                  onSelectionDragStop = _store$getState4.onSelectionDragStop;\n\n              var onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n\n              _updateNodePositions(dragItems.current, false, false);\n\n              if (onStop) {\n                var _getEventHandlerParam5 = getEventHandlerParams({\n                  nodeId: nodeId,\n                  dragItems: dragItems.current,\n                  nodeInternals: _nodeInternals\n                }),\n                    _getEventHandlerParam6 = _slicedToArray(_getEventHandlerParam5, 2),\n                    _currentNode = _getEventHandlerParam6[0],\n                    _nodes = _getEventHandlerParam6[1];\n\n                onStop(event.sourceEvent, _currentNode, _nodes);\n              }\n            }\n          });\n        }).filter(function (event) {\n          var target = event.target;\n          var isDraggable = !event.button && (!noDragClassName || !hasSelector(target, \".\".concat(noDragClassName), nodeRef)) && (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n          return isDraggable;\n        });\n        selection.call(dragHandler);\n        return function () {\n          selection.on('.drag', null);\n        };\n      }\n    }\n  }, [nodeRef, disabled, noDragClassName, handleSelector, isSelectable, store, nodeId, selectNodesOnDrag, getPointerPosition]);\n  return dragging;\n}\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar selector$4 = function selector(s) {\n  return _objectSpread$5({\n    transformString: \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\"),\n    userSelectionActive: s.userSelectionActive\n  }, getRectOfNodes(Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  })));\n};\n\nvar bboxSelector = function bboxSelector(s) {\n  var selectedNodes = Array.from(s.nodeInternals.values()).filter(function (n) {\n    return n.selected;\n  });\n  return getRectOfNodes(selectedNodes);\n};\n\nfunction NodesSelection(_ref) {\n  var onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n\n  var _useStore = useStore(selector$4, shallow),\n      transformString = _useStore.transformString,\n      userSelectionActive = _useStore.userSelectionActive;\n\n  var _useStore2 = useStore(bboxSelector, shallow),\n      width = _useStore2.width,\n      height = _useStore2.height,\n      left = _useStore2.x,\n      top = _useStore2.y;\n\n  var nodeRef = useRef(null);\n  useDrag({\n    nodeRef: nodeRef\n  });\n\n  if (userSelectionActive || !width || !height) {\n    return null;\n  }\n\n  var onContextMenu = onSelectionContextMenu ? function (event) {\n    var selectedNodes = Array.from(store.getState().nodeInternals.values()).filter(function (n) {\n      return n.selected;\n    });\n    onSelectionContextMenu(event, selectedNodes);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]),\n    style: {\n      transform: transformString\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: nodeRef,\n    className: \"react-flow__nodesselection-rect\",\n    onContextMenu: onContextMenu,\n    style: {\n      width: width,\n      height: height,\n      top: top,\n      left: left\n    }\n  }));\n}\n\nvar NodesSelection$1 = /*#__PURE__*/memo(NodesSelection);\n\nvar selector$3 = function selector(s) {\n  return s.nodesSelectionActive;\n};\n\nvar FlowRenderer = function FlowRenderer(_ref) {\n  var children = _ref.children,\n      onPaneClick = _ref.onPaneClick,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onPaneScroll = _ref.onPaneScroll,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      elementsSelectable = _ref.elementsSelectable,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      defaultPosition = _ref.defaultPosition,\n      defaultZoom = _ref.defaultZoom,\n      preventScrolling = _ref.preventScrolling,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName;\n  var store = useStoreApi();\n  var nodesSelectionActive = useStore(selector$3);\n  var selectionKeyPressed = useKeyPress(selectionKeyCode);\n  useGlobalKeyHandler({\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode\n  });\n\n  var onClick = function onClick(event) {\n    onPaneClick === null || onPaneClick === void 0 ? void 0 : onPaneClick(event);\n    store.getState().resetSelectedElements();\n    store.setState({\n      nodesSelectionActive: false\n    });\n  };\n\n  var onContextMenu = onPaneContextMenu ? function (event) {\n    return onPaneContextMenu(event);\n  } : undefined;\n  var onWheel = onPaneScroll ? function (event) {\n    return onPaneScroll(event);\n  } : undefined;\n  return /*#__PURE__*/React.createElement(ZoomPane, {\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    selectionKeyPressed: selectionKeyPressed,\n    elementsSelectable: elementsSelectable,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnDrag: panOnDrag,\n    defaultPosition: defaultPosition,\n    defaultZoom: defaultZoom,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    preventScrolling: preventScrolling,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, children, /*#__PURE__*/React.createElement(UserSelection, {\n    selectionKeyPressed: selectionKeyPressed\n  }), nodesSelectionActive && /*#__PURE__*/React.createElement(NodesSelection$1, {\n    onSelectionContextMenu: onSelectionContextMenu,\n    noPanClassName: noPanClassName\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__pane react-flow__container\",\n    onClick: onClick,\n    onContextMenu: onContextMenu,\n    onWheel: onWheel\n  }));\n};\n\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = /*#__PURE__*/memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n  var nodes = useStore(useCallback(function (s) {\n    return onlyRenderVisible ? getNodesInside(s.nodeInternals, {\n      x: 0,\n      y: 0,\n      width: s.width,\n      height: s.height\n    }, s.transform, true) : Array.from(s.nodeInternals.values());\n  }, [onlyRenderVisible]));\n  return nodes;\n}\n\nvar selector$2 = function selector(s) {\n  return {\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions\n  };\n};\n\nvar NodeRenderer = function NodeRenderer(props) {\n  var _useStore = useStore(selector$2, shallow),\n      nodesDraggable = _useStore.nodesDraggable,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      updateNodeDimensions = _useStore.updateNodeDimensions;\n\n  var nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n  var resizeObserverRef = useRef();\n  var resizeObserver = useMemo(function () {\n    if (typeof ResizeObserver === 'undefined') {\n      return null;\n    }\n\n    var observer = new ResizeObserver(function (entries) {\n      var updates = entries.map(function (entry) {\n        return {\n          id: entry.target.getAttribute('data-id'),\n          nodeElement: entry.target,\n          forceUpdate: true\n        };\n      });\n      updateNodeDimensions(updates);\n    });\n    resizeObserverRef.current = observer;\n    return observer;\n  }, []);\n  useEffect(function () {\n    return function () {\n      var _resizeObserverRef$cu;\n\n      resizeObserverRef === null || resizeObserverRef === void 0 ? void 0 : (_resizeObserverRef$cu = resizeObserverRef.current) === null || _resizeObserverRef$cu === void 0 ? void 0 : _resizeObserverRef$cu.disconnect();\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__nodes react-flow__container\"\n  }, nodes.map(function (node) {\n    var _node$positionAbsolut, _node$positionAbsolut2, _node$positionAbsolut3, _node$positionAbsolut4, _node$internalsSymbol, _node$internalsSymbol2, _node$internalsSymbol3;\n\n    var nodeType = node.type || 'default';\n\n    if (!props.nodeTypes[nodeType]) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Node type \\\"\".concat(nodeType, \"\\\" not found. Using fallback type \\\"default\\\". Help: https://reactflow.dev/error#300\"));\n      }\n\n      nodeType = 'default';\n    }\n\n    var NodeComponent = props.nodeTypes[nodeType] || props.nodeTypes[\"default\"];\n    var isDraggable = !!(node.draggable || nodesDraggable && typeof node.draggable === 'undefined');\n    var isSelectable = !!(node.selectable || elementsSelectable && typeof node.selectable === 'undefined');\n    var isConnectable = !!(node.connectable || nodesConnectable && typeof node.connectable === 'undefined');\n    return /*#__PURE__*/React.createElement(NodeComponent, {\n      key: node.id,\n      id: node.id,\n      className: node.className,\n      style: node.style,\n      type: nodeType,\n      data: node.data,\n      sourcePosition: node.sourcePosition || Position.Bottom,\n      targetPosition: node.targetPosition || Position.Top,\n      hidden: node.hidden,\n      xPos: (_node$positionAbsolut = (_node$positionAbsolut2 = node.positionAbsolute) === null || _node$positionAbsolut2 === void 0 ? void 0 : _node$positionAbsolut2.x) !== null && _node$positionAbsolut !== void 0 ? _node$positionAbsolut : 0,\n      yPos: (_node$positionAbsolut3 = (_node$positionAbsolut4 = node.positionAbsolute) === null || _node$positionAbsolut4 === void 0 ? void 0 : _node$positionAbsolut4.y) !== null && _node$positionAbsolut3 !== void 0 ? _node$positionAbsolut3 : 0,\n      selectNodesOnDrag: props.selectNodesOnDrag,\n      onClick: props.onNodeClick,\n      onMouseEnter: props.onNodeMouseEnter,\n      onMouseMove: props.onNodeMouseMove,\n      onMouseLeave: props.onNodeMouseLeave,\n      onContextMenu: props.onNodeContextMenu,\n      onDoubleClick: props.onNodeDoubleClick,\n      selected: !!node.selected,\n      isDraggable: isDraggable,\n      isSelectable: isSelectable,\n      isConnectable: isConnectable,\n      resizeObserver: resizeObserver,\n      dragHandle: node.dragHandle,\n      zIndex: (_node$internalsSymbol = (_node$internalsSymbol2 = node[internalsSymbol]) === null || _node$internalsSymbol2 === void 0 ? void 0 : _node$internalsSymbol2.z) !== null && _node$internalsSymbol !== void 0 ? _node$internalsSymbol : 0,\n      isParent: !!((_node$internalsSymbol3 = node[internalsSymbol]) !== null && _node$internalsSymbol3 !== void 0 && _node$internalsSymbol3.isParent),\n      noDragClassName: props.noDragClassName,\n      noPanClassName: props.noPanClassName,\n      initialized: !!node.width && !!node.height\n    });\n  }));\n};\n\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = /*#__PURE__*/memo(NodeRenderer);\n\nvar _oppositePosition;\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar oppositePosition = (_oppositePosition = {}, _defineProperty(_oppositePosition, Position.Left, Position.Right), _defineProperty(_oppositePosition, Position.Right, Position.Left), _defineProperty(_oppositePosition, Position.Top, Position.Bottom), _defineProperty(_oppositePosition, Position.Bottom, Position.Top), _oppositePosition);\nvar ConnectionLine = (function (_ref) {\n  var _fromNode$internalsSy, _fromNode$width, _fromNode$height, _fromNode$positionAbs, _fromNode$positionAbs2;\n\n  var connectionNodeId = _ref.connectionNodeId,\n      connectionHandleType = _ref.connectionHandleType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n      isConnectable = _ref.isConnectable,\n      CustomConnectionLineComponent = _ref.CustomConnectionLineComponent;\n\n  var _useStore = useStore(useCallback(function (s) {\n    return {\n      fromNode: s.nodeInternals.get(connectionNodeId),\n      handleId: s.connectionHandleId,\n      toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n      toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2]\n    };\n  }, [connectionNodeId]), shallow),\n      fromNode = _useStore.fromNode,\n      handleId = _useStore.handleId,\n      toX = _useStore.toX,\n      toY = _useStore.toY;\n\n  var fromHandleBounds = fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$internalsSy = fromNode[internalsSymbol]) === null || _fromNode$internalsSy === void 0 ? void 0 : _fromNode$internalsSy.handleBounds;\n\n  if (!fromNode || !isConnectable || !(fromHandleBounds !== null && fromHandleBounds !== void 0 && fromHandleBounds[connectionHandleType])) {\n    return null;\n  }\n\n  var handleBound = fromHandleBounds[connectionHandleType];\n  var fromHandle = handleId ? handleBound.find(function (d) {\n    return d.id === handleId;\n  }) : handleBound[0];\n  var fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : ((_fromNode$width = fromNode === null || fromNode === void 0 ? void 0 : fromNode.width) !== null && _fromNode$width !== void 0 ? _fromNode$width : 0) / 2;\n  var fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : (_fromNode$height = fromNode === null || fromNode === void 0 ? void 0 : fromNode.height) !== null && _fromNode$height !== void 0 ? _fromNode$height : 0;\n  var fromX = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs = fromNode.positionAbsolute) === null || _fromNode$positionAbs === void 0 ? void 0 : _fromNode$positionAbs.x) || 0) + fromHandleX;\n  var fromY = ((fromNode === null || fromNode === void 0 ? void 0 : (_fromNode$positionAbs2 = fromNode.positionAbsolute) === null || _fromNode$positionAbs2 === void 0 ? void 0 : _fromNode$positionAbs2.y) || 0) + fromHandleY;\n  var fromPosition = fromHandle === null || fromHandle === void 0 ? void 0 : fromHandle.position;\n\n  if (!fromPosition) {\n    return null;\n  }\n\n  var toPosition = oppositePosition[fromPosition];\n  var sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition;\n\n  switch (connectionHandleType) {\n    case 'source':\n      {\n        sourceX = fromX;\n        sourceY = fromY;\n        sourcePosition = fromPosition;\n        targetX = toX;\n        targetY = toY;\n        targetPosition = toPosition;\n      }\n      break;\n\n    case 'target':\n      {\n        sourceX = toX;\n        sourceY = toY;\n        sourcePosition = toPosition;\n        targetX = fromX;\n        targetY = fromY;\n        targetPosition = fromPosition;\n      }\n      break;\n  }\n\n  if (CustomConnectionLineComponent) {\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: \"react-flow__connection\"\n    }, /*#__PURE__*/React.createElement(CustomConnectionLineComponent, {\n      connectionLineType: connectionLineType,\n      connectionLineStyle: connectionLineStyle,\n      fromNode: fromNode,\n      fromHandle: fromHandle,\n      fromX: fromX,\n      fromY: fromY,\n      toX: toX,\n      toY: toY,\n      fromPosition: fromPosition,\n      toPosition: toPosition,\n      // remove in v11\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      sourceNode: fromNode,\n      sourceHandle: fromHandle,\n      targetX: targetX,\n      targetY: targetY,\n      sourceX: sourceX,\n      sourceY: sourceY\n    }));\n  }\n\n  var dAttr = '';\n  var pathParams = {\n    sourceX: sourceX,\n    sourceY: sourceY,\n    sourcePosition: sourcePosition,\n    targetX: targetX,\n    targetY: targetY,\n    targetPosition: targetPosition\n  };\n\n  if (connectionLineType === ConnectionLineType.Bezier) {\n    // we assume the destination position is opposite to the source position\n    dAttr = getBezierPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.Step) {\n    dAttr = getSmoothStepPath(_objectSpread$4(_objectSpread$4({}, pathParams), {}, {\n      borderRadius: 0\n    }));\n  } else if (connectionLineType === ConnectionLineType.SmoothStep) {\n    dAttr = getSmoothStepPath(pathParams);\n  } else if (connectionLineType === ConnectionLineType.SimpleBezier) {\n    dAttr = getSimpleBezierPath(pathParams);\n  } else {\n    dAttr = \"M\".concat(sourceX, \",\").concat(sourceY, \" \").concat(targetX, \",\").concat(targetY);\n  }\n\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"react-flow__connection\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: dAttr,\n    className: \"react-flow__connection-path\",\n    style: connectionLineStyle\n  }));\n});\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nvar _MarkerSymbols;\n\nvar ArrowSymbol = function ArrowSymbol(_ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'none' : _ref$color,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 1 : _ref$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: \"none\",\n    points: \"-5,-4 0,0 -5,4\"\n  });\n};\n\nvar ArrowClosedSymbol = function ArrowClosedSymbol(_ref2) {\n  var _ref2$color = _ref2.color,\n      color = _ref2$color === void 0 ? 'none' : _ref2$color,\n      _ref2$strokeWidth = _ref2.strokeWidth,\n      strokeWidth = _ref2$strokeWidth === void 0 ? 1 : _ref2$strokeWidth;\n  return /*#__PURE__*/React.createElement(\"polyline\", {\n    stroke: color,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: strokeWidth,\n    fill: color,\n    points: \"-5,-4 0,0 -5,4 -5,-4\"\n  });\n};\n\nvar MarkerSymbols = (_MarkerSymbols = {}, _defineProperty(_MarkerSymbols, MarkerType.Arrow, ArrowSymbol), _defineProperty(_MarkerSymbols, MarkerType.ArrowClosed, ArrowClosedSymbol), _MarkerSymbols);\nfunction useMarkerSymbol(type) {\n  var symbol = useMemo(function () {\n    var symbolExists = MarkerSymbols.hasOwnProperty(type);\n\n    if (!symbolExists) {\n      // @ts-ignore\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\"[React Flow]: Marker type \\\"\".concat(type, \"\\\" doesn't exist. Help: https://reactflow.dev/error#900\"));\n      }\n\n      return function () {\n        return null;\n      };\n    }\n\n    return MarkerSymbols[type];\n  }, [type]);\n  return symbol;\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar Marker = function Marker(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      color = _ref.color,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 12.5 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 12.5 : _ref$height,\n      _ref$markerUnits = _ref.markerUnits,\n      markerUnits = _ref$markerUnits === void 0 ? 'strokeWidth' : _ref$markerUnits,\n      strokeWidth = _ref.strokeWidth,\n      _ref$orient = _ref.orient,\n      orient = _ref$orient === void 0 ? 'auto' : _ref$orient;\n\n  var _Symbol = useMarkerSymbol(type);\n\n  return /*#__PURE__*/React.createElement(\"marker\", {\n    className: \"react-flow__arrowhead\",\n    id: id,\n    markerWidth: \"\".concat(width),\n    markerHeight: \"\".concat(height),\n    viewBox: \"-10 -10 20 20\",\n    markerUnits: markerUnits,\n    orient: orient,\n    refX: \"0\",\n    refY: \"0\"\n  }, /*#__PURE__*/React.createElement(_Symbol, {\n    color: color,\n    strokeWidth: strokeWidth\n  }));\n};\n\nvar markerSelector = function markerSelector(_ref2) {\n  var defaultColor = _ref2.defaultColor,\n      rfId = _ref2.rfId;\n  return function (s) {\n    var ids = [];\n    return s.edges.reduce(function (markers, edge) {\n      [edge.markerStart, edge.markerEnd].forEach(function (marker) {\n        if (marker && _typeof(marker) === 'object') {\n          var markerId = getMarkerId(marker, rfId);\n\n          if (!ids.includes(markerId)) {\n            markers.push(_objectSpread$3({\n              id: markerId,\n              color: marker.color || defaultColor\n            }, marker));\n            ids.push(markerId);\n          }\n        }\n      });\n      return markers;\n    }, []).sort(function (a, b) {\n      return a.id.localeCompare(b.id);\n    });\n  };\n}; // when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\n\n\nvar MarkerDefinitions = function MarkerDefinitions(_ref3) {\n  var defaultColor = _ref3.defaultColor,\n      rfId = _ref3.rfId;\n  var markers = useStore(useCallback(markerSelector({\n    defaultColor: defaultColor,\n    rfId: rfId\n  }), [defaultColor, rfId]), // the id includes all marker options, so we just need to look at that part of the marker\n  function (a, b) {\n    return !(a.length !== b.length || a.some(function (m, i) {\n      return m.id !== b[i].id;\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"defs\", null, markers.map(function (marker) {\n    return /*#__PURE__*/React.createElement(Marker, {\n      id: marker.id,\n      key: marker.id,\n      type: marker.type,\n      color: marker.color,\n      width: marker.width,\n      height: marker.height,\n      markerUnits: marker.markerUnits,\n      strokeWidth: marker.strokeWidth,\n      orient: marker.orient\n    });\n  }));\n};\n\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = /*#__PURE__*/memo(MarkerDefinitions);\n\nvar defaultEdgeTree = [{\n  level: 0,\n  isMaxLevel: true,\n  edges: []\n}];\n\nfunction groupEdgesByZLevel(edges, nodeInternals) {\n  var elevateEdgesOnSelect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var maxLevel = -1;\n  var levelLookup = edges.reduce(function (tree, edge) {\n    var hasZIndex = isNumeric(edge.zIndex);\n    var z = hasZIndex ? edge.zIndex : 0;\n\n    if (elevateEdgesOnSelect) {\n      var _nodeInternals$get, _nodeInternals$get$in, _nodeInternals$get2, _nodeInternals$get2$i;\n\n      z = hasZIndex ? edge.zIndex : Math.max(((_nodeInternals$get = nodeInternals.get(edge.source)) === null || _nodeInternals$get === void 0 ? void 0 : (_nodeInternals$get$in = _nodeInternals$get[internalsSymbol]) === null || _nodeInternals$get$in === void 0 ? void 0 : _nodeInternals$get$in.z) || 0, ((_nodeInternals$get2 = nodeInternals.get(edge.target)) === null || _nodeInternals$get2 === void 0 ? void 0 : (_nodeInternals$get2$i = _nodeInternals$get2[internalsSymbol]) === null || _nodeInternals$get2$i === void 0 ? void 0 : _nodeInternals$get2$i.z) || 0);\n    }\n\n    if (tree[z]) {\n      tree[z].push(edge);\n    } else {\n      tree[z] = [edge];\n    }\n\n    maxLevel = z > maxLevel ? z : maxLevel;\n    return tree;\n  }, {});\n  var edgeTree = Object.entries(levelLookup).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        edges = _ref2[1];\n\n    var level = +key;\n    return {\n      edges: edges,\n      level: level,\n      isMaxLevel: level === maxLevel\n    };\n  });\n\n  if (edgeTree.length === 0) {\n    return defaultEdgeTree;\n  }\n\n  return edgeTree;\n}\n\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n  var edges = useStore(useCallback(function (s) {\n    if (!onlyRenderVisible) {\n      return s.edges;\n    }\n\n    return s.edges.filter(function (e) {\n      var sourceNode = nodeInternals.get(e.source);\n      var targetNode = nodeInternals.get(e.target);\n      return (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.width) && (sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.height) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.width) && (targetNode === null || targetNode === void 0 ? void 0 : targetNode.height) && isEdgeVisible({\n        sourcePos: sourceNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        targetPos: targetNode.positionAbsolute || {\n          x: 0,\n          y: 0\n        },\n        sourceWidth: sourceNode.width,\n        sourceHeight: sourceNode.height,\n        targetWidth: targetNode.width,\n        targetHeight: targetNode.height,\n        width: s.width,\n        height: s.height,\n        transform: s.transform\n      });\n    });\n  }, [onlyRenderVisible, nodeInternals]));\n  return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nvar selector$1 = function selector(s) {\n  return {\n    connectionNodeId: s.connectionNodeId,\n    connectionHandleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals\n  };\n};\n\nvar EdgeRenderer = function EdgeRenderer(props) {\n  var _useStore = useStore(selector$1, shallow),\n      connectionNodeId = _useStore.connectionNodeId,\n      connectionHandleType = _useStore.connectionHandleType,\n      nodesConnectable = _useStore.nodesConnectable,\n      elementsSelectable = _useStore.elementsSelectable,\n      width = _useStore.width,\n      height = _useStore.height,\n      connectionMode = _useStore.connectionMode,\n      nodeInternals = _useStore.nodeInternals;\n\n  var edgeTree = useVisibleEdges(props.onlyRenderVisibleElements, nodeInternals, props.elevateEdgesOnSelect);\n\n  if (!width) {\n    return null;\n  }\n\n  var connectionLineType = props.connectionLineType,\n      defaultMarkerColor = props.defaultMarkerColor,\n      connectionLineStyle = props.connectionLineStyle,\n      connectionLineComponent = props.connectionLineComponent,\n      connectionLineContainerStyle = props.connectionLineContainerStyle;\n  var renderConnectionLine = connectionNodeId && connectionHandleType;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, edgeTree.map(function (_ref) {\n    var level = _ref.level,\n        edges = _ref.edges,\n        isMaxLevel = _ref.isMaxLevel;\n    return /*#__PURE__*/React.createElement(\"svg\", {\n      key: level,\n      style: {\n        zIndex: level\n      },\n      width: width,\n      height: height,\n      className: \"react-flow__edges react-flow__container\"\n    }, isMaxLevel && /*#__PURE__*/React.createElement(MarkerDefinitions$1, {\n      defaultColor: defaultMarkerColor,\n      rfId: props.rfId\n    }), /*#__PURE__*/React.createElement(\"g\", null, edges.map(function (edge) {\n      var _getNodeData = getNodeData(nodeInternals, edge.source),\n          _getNodeData2 = _slicedToArray(_getNodeData, 3),\n          sourceNodeRect = _getNodeData2[0],\n          sourceHandleBounds = _getNodeData2[1],\n          sourceIsValid = _getNodeData2[2];\n\n      var _getNodeData3 = getNodeData(nodeInternals, edge.target),\n          _getNodeData4 = _slicedToArray(_getNodeData3, 3),\n          targetNodeRect = _getNodeData4[0],\n          targetHandleBounds = _getNodeData4[1],\n          targetIsValid = _getNodeData4[2];\n\n      if (!sourceIsValid || !targetIsValid) {\n        return null;\n      }\n\n      var edgeType = edge.type || 'default';\n      var EdgeComponent = props.edgeTypes[edgeType] || props.edgeTypes[\"default\"]; // when connection type is loose we can define all handles as sources\n\n      var targetNodeHandles = connectionMode === ConnectionMode.Strict ? targetHandleBounds.target : targetHandleBounds.target || targetHandleBounds.source;\n      var sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle || null);\n      var targetHandle = getHandle(targetNodeHandles, edge.targetHandle || null);\n      var sourcePosition = (sourceHandle === null || sourceHandle === void 0 ? void 0 : sourceHandle.position) || Position.Bottom;\n      var targetPosition = (targetHandle === null || targetHandle === void 0 ? void 0 : targetHandle.position) || Position.Top;\n\n      if (!sourceHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for source handle id: \".concat(edge.sourceHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      if (!targetHandle) {\n        // @ts-ignore\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(\"[React Flow]: Couldn't create edge for target handle id: \".concat(edge.targetHandle, \"; edge id: \").concat(edge.id, \". Help: https://reactflow.dev/error#800\"));\n        }\n\n        return null;\n      }\n\n      var _getEdgePositions = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition),\n          sourceX = _getEdgePositions.sourceX,\n          sourceY = _getEdgePositions.sourceY,\n          targetX = _getEdgePositions.targetX,\n          targetY = _getEdgePositions.targetY;\n\n      return /*#__PURE__*/React.createElement(EdgeComponent, {\n        key: edge.id,\n        id: edge.id,\n        className: cc([edge.className, props.noPanClassName]),\n        type: edgeType,\n        data: edge.data,\n        selected: !!edge.selected,\n        animated: !!edge.animated,\n        hidden: !!edge.hidden,\n        label: edge.label,\n        labelStyle: edge.labelStyle,\n        labelShowBg: edge.labelShowBg,\n        labelBgStyle: edge.labelBgStyle,\n        labelBgPadding: edge.labelBgPadding,\n        labelBgBorderRadius: edge.labelBgBorderRadius,\n        style: edge.style,\n        source: edge.source,\n        target: edge.target,\n        sourceHandleId: edge.sourceHandle,\n        targetHandleId: edge.targetHandle,\n        markerEnd: edge.markerEnd,\n        markerStart: edge.markerStart,\n        sourceX: sourceX,\n        sourceY: sourceY,\n        targetX: targetX,\n        targetY: targetY,\n        sourcePosition: sourcePosition,\n        targetPosition: targetPosition,\n        elementsSelectable: elementsSelectable,\n        onEdgeUpdate: props.onEdgeUpdate,\n        onContextMenu: props.onEdgeContextMenu,\n        onMouseEnter: props.onEdgeMouseEnter,\n        onMouseMove: props.onEdgeMouseMove,\n        onMouseLeave: props.onEdgeMouseLeave,\n        onClick: props.onEdgeClick,\n        edgeUpdaterRadius: props.edgeUpdaterRadius,\n        onEdgeDoubleClick: props.onEdgeDoubleClick,\n        onEdgeUpdateStart: props.onEdgeUpdateStart,\n        onEdgeUpdateEnd: props.onEdgeUpdateEnd,\n        rfId: props.rfId\n      });\n    })));\n  }), renderConnectionLine && /*#__PURE__*/React.createElement(\"svg\", {\n    style: connectionLineContainerStyle,\n    width: width,\n    height: height,\n    className: \"react-flow__edges react-flow__connectionline react-flow__container\"\n  }, /*#__PURE__*/React.createElement(ConnectionLine, {\n    connectionNodeId: connectionNodeId,\n    connectionHandleType: connectionHandleType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineType: connectionLineType,\n    isConnectable: nodesConnectable,\n    CustomConnectionLineComponent: connectionLineComponent\n  })));\n};\n\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = /*#__PURE__*/memo(EdgeRenderer);\n\nvar selector = function selector(s) {\n  return \"translate(\".concat(s.transform[0], \"px,\").concat(s.transform[1], \"px) scale(\").concat(s.transform[2], \")\");\n};\n\nfunction Viewport(_ref) {\n  var children = _ref.children;\n  var transform = useStore(selector);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"react-flow__viewport react-flow__container\",\n    style: {\n      transform: transform\n    }\n  }, children);\n}\n\nfunction useOnInitHandler(onInit) {\n  var ReactFlowInstance = useReactFlow();\n  var isInitialized = useRef(false);\n  useEffect(function () {\n    if (!isInitialized.current && ReactFlowInstance.viewportInitialized && onInit) {\n      setTimeout(function () {\n        return onInit(ReactFlowInstance);\n      }, 1);\n      isInitialized.current = true;\n    }\n  }, [onInit, ReactFlowInstance.viewportInitialized]);\n}\n\nvar GraphView = function GraphView(_ref) {\n  var nodeTypes = _ref.nodeTypes,\n      edgeTypes = _ref.edgeTypes,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onInit = _ref.onInit,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      connectionLineType = _ref.connectionLineType,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      selectionKeyCode = _ref.selectionKeyCode,\n      multiSelectionKeyCode = _ref.multiSelectionKeyCode,\n      zoomActivationKeyCode = _ref.zoomActivationKeyCode,\n      deleteKeyCode = _ref.deleteKeyCode,\n      onlyRenderVisibleElements = _ref.onlyRenderVisibleElements,\n      elementsSelectable = _ref.elementsSelectable,\n      selectNodesOnDrag = _ref.selectNodesOnDrag,\n      defaultZoom = _ref.defaultZoom,\n      defaultPosition = _ref.defaultPosition,\n      preventScrolling = _ref.preventScrolling,\n      defaultMarkerColor = _ref.defaultMarkerColor,\n      zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnPinch = _ref.zoomOnPinch,\n      panOnScroll = _ref.panOnScroll,\n      panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollMode = _ref.panOnScrollMode,\n      zoomOnDoubleClick = _ref.zoomOnDoubleClick,\n      panOnDrag = _ref.panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      edgeUpdaterRadius = _ref.edgeUpdaterRadius,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      noDragClassName = _ref.noDragClassName,\n      noWheelClassName = _ref.noWheelClassName,\n      noPanClassName = _ref.noPanClassName,\n      elevateEdgesOnSelect = _ref.elevateEdgesOnSelect,\n      id = _ref.id;\n  useOnInitHandler(onInit);\n  return /*#__PURE__*/React.createElement(FlowRenderer$1, {\n    onPaneClick: onPaneClick,\n    onPaneContextMenu: onPaneContextMenu,\n    onPaneScroll: onPaneScroll,\n    deleteKeyCode: deleteKeyCode,\n    selectionKeyCode: selectionKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    elementsSelectable: elementsSelectable,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    defaultPosition: defaultPosition,\n    defaultZoom: defaultZoom,\n    onSelectionContextMenu: onSelectionContextMenu,\n    preventScrolling: preventScrolling,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName\n  }, /*#__PURE__*/React.createElement(Viewport, null, /*#__PURE__*/React.createElement(EdgeRenderer$1, {\n    edgeTypes: edgeTypes,\n    onEdgeClick: onEdgeClick,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    onEdgeUpdate: onEdgeUpdate,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: !!elevateEdgesOnSelect,\n    rfId: id\n  }), /*#__PURE__*/React.createElement(NodeRenderer$1, {\n    nodeTypes: nodeTypes,\n    onNodeClick: onNodeClick,\n    onNodeDoubleClick: onNodeDoubleClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    selectNodesOnDrag: selectNodesOnDrag,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    noPanClassName: noPanClassName,\n    noDragClassName: noDragClassName\n  })));\n};\n\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = /*#__PURE__*/memo(GraphView);\n\nvar GroupNode = function GroupNode() {\n  return null;\n};\n\nGroupNode.displayName = 'GroupNode';\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar wrapNode = (function (NodeComponent) {\n  var NodeWrapper = function NodeWrapper(_ref) {\n    var id = _ref.id,\n        type = _ref.type,\n        data = _ref.data,\n        xPos = _ref.xPos,\n        yPos = _ref.yPos,\n        selected = _ref.selected,\n        onClick = _ref.onClick,\n        onMouseEnter = _ref.onMouseEnter,\n        onMouseMove = _ref.onMouseMove,\n        onMouseLeave = _ref.onMouseLeave,\n        onContextMenu = _ref.onContextMenu,\n        onDoubleClick = _ref.onDoubleClick,\n        style = _ref.style,\n        className = _ref.className,\n        isDraggable = _ref.isDraggable,\n        isSelectable = _ref.isSelectable,\n        isConnectable = _ref.isConnectable,\n        selectNodesOnDrag = _ref.selectNodesOnDrag,\n        sourcePosition = _ref.sourcePosition,\n        targetPosition = _ref.targetPosition,\n        hidden = _ref.hidden,\n        resizeObserver = _ref.resizeObserver,\n        dragHandle = _ref.dragHandle,\n        zIndex = _ref.zIndex,\n        isParent = _ref.isParent,\n        noPanClassName = _ref.noPanClassName,\n        noDragClassName = _ref.noDragClassName,\n        initialized = _ref.initialized;\n    var store = useStoreApi();\n    var nodeRef = useRef(null);\n    var prevSourcePosition = useRef(sourcePosition);\n    var prevTargetPosition = useRef(targetPosition);\n    var prevType = useRef(type);\n    var hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n    var onMouseEnterHandler = getMouseHandler$1(id, store.getState, onMouseEnter);\n    var onMouseMoveHandler = getMouseHandler$1(id, store.getState, onMouseMove);\n    var onMouseLeaveHandler = getMouseHandler$1(id, store.getState, onMouseLeave);\n    var onContextMenuHandler = getMouseHandler$1(id, store.getState, onContextMenu);\n    var onDoubleClickHandler = getMouseHandler$1(id, store.getState, onDoubleClick);\n\n    var onSelectNodeHandler = function onSelectNodeHandler(event) {\n      if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n        // this handler gets called within the drag start event when selectNodesOnDrag=true\n        handleNodeClick({\n          id: id,\n          store: store\n        });\n      }\n\n      if (onClick) {\n        var node = store.getState().nodeInternals.get(id);\n        onClick(event, _objectSpread$2({}, node));\n      }\n    };\n\n    useEffect(function () {\n      if (nodeRef.current && !hidden) {\n        var currNode = nodeRef.current;\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.observe(currNode);\n        return function () {\n          return resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.unobserve(currNode);\n        };\n      }\n    }, [hidden]);\n    useEffect(function () {\n      // when the user programmatically changes the source or handle position, we re-initialize the node\n      var typeChanged = prevType.current !== type;\n      var sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n      var targetPosChanged = prevTargetPosition.current !== targetPosition;\n\n      if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n        if (typeChanged) {\n          prevType.current = type;\n        }\n\n        if (sourcePosChanged) {\n          prevSourcePosition.current = sourcePosition;\n        }\n\n        if (targetPosChanged) {\n          prevTargetPosition.current = targetPosition;\n        }\n\n        store.getState().updateNodeDimensions([{\n          id: id,\n          nodeElement: nodeRef.current,\n          forceUpdate: true\n        }]);\n      }\n    }, [id, type, sourcePosition, targetPosition]);\n    var dragging = useDrag({\n      nodeRef: nodeRef,\n      disabled: hidden || !isDraggable,\n      noDragClassName: noDragClassName,\n      handleSelector: dragHandle,\n      nodeId: id,\n      isSelectable: isSelectable,\n      selectNodesOnDrag: selectNodesOnDrag\n    });\n\n    if (hidden) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cc(['react-flow__node', \"react-flow__node-\".concat(type), noPanClassName, className, {\n        selected: selected,\n        selectable: isSelectable,\n        parent: isParent\n      }]),\n      ref: nodeRef,\n      style: _objectSpread$2({\n        zIndex: zIndex,\n        transform: \"translate(\".concat(xPos, \"px,\").concat(yPos, \"px)\"),\n        pointerEvents: hasPointerEvents ? 'all' : 'none',\n        visibility: initialized ? 'visible' : 'hidden'\n      }, style),\n      onMouseEnter: onMouseEnterHandler,\n      onMouseMove: onMouseMoveHandler,\n      onMouseLeave: onMouseLeaveHandler,\n      onContextMenu: onContextMenuHandler,\n      onClick: onSelectNodeHandler,\n      onDoubleClick: onDoubleClickHandler,\n      \"data-id\": id\n    }, /*#__PURE__*/React.createElement(Provider, {\n      value: id\n    }, /*#__PURE__*/React.createElement(NodeComponent, {\n      id: id,\n      data: data,\n      type: type,\n      xPos: xPos,\n      yPos: yPos,\n      selected: selected,\n      isConnectable: isConnectable,\n      sourcePosition: sourcePosition,\n      targetPosition: targetPosition,\n      dragging: dragging,\n      dragHandle: dragHandle,\n      zIndex: zIndex\n    })));\n  };\n\n  NodeWrapper.displayName = 'NodeWrapper';\n  return /*#__PURE__*/memo(NodeWrapper);\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction createNodeTypes(nodeTypes) {\n  var standardTypes = {\n    input: wrapNode(nodeTypes.input || InputNode$1),\n    \"default\": wrapNode(nodeTypes[\"default\"] || DefaultNode$1),\n    output: wrapNode(nodeTypes.output || OutputNode$1),\n    group: wrapNode(nodeTypes.group || GroupNode)\n  };\n  var wrappedTypes = {};\n  var specialTypes = Object.keys(nodeTypes).filter(function (k) {\n    return !['input', 'default', 'output', 'group'].includes(k);\n  }).reduce(function (res, key) {\n    res[key] = wrapNode(nodeTypes[key] || DefaultNode$1);\n    return res;\n  }, wrappedTypes);\n  return _objectSpread$1(_objectSpread$1({}, standardTypes), specialTypes);\n}\n\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n  var typesKeysRef = useRef(null);\n  var typesParsed = useMemo(function () {\n    // @ts-ignore\n    if (process.env.NODE_ENV === 'development') {\n      var typeKeys = Object.keys(nodeOrEdgeTypes);\n\n      if (shallow(typesKeysRef.current, typeKeys)) {\n        console.warn(\"[React Flow]: It looks like you have created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them. Help: https://reactflow.dev/error#200\");\n      }\n\n      typesKeysRef.current = typeKeys;\n    }\n\n    return createTypes(nodeOrEdgeTypes);\n  }, [nodeOrEdgeTypes]);\n  return typesParsed;\n}\nfunction injectStyle(css) {\n  if (!css || typeof document === 'undefined') return;\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  head.appendChild(style);\n  style.appendChild(document.createTextNode(css));\n}\n\nvar Wrapper = function Wrapper(_ref) {\n  var children = _ref.children;\n  var isWrapped = true;\n\n  try {\n    useStoreApi();\n  } catch (e) {\n    isWrapped = false;\n  }\n\n  if (isWrapped) {\n    // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\n\nWrapper.displayName = 'ReactFlowWrapper';\n\nvar _excluded = [\"nodes\", \"edges\", \"defaultNodes\", \"defaultEdges\", \"className\", \"nodeTypes\", \"edgeTypes\", \"onNodeClick\", \"onEdgeClick\", \"onInit\", \"onMove\", \"onMoveStart\", \"onMoveEnd\", \"onConnect\", \"onConnectStart\", \"onConnectStop\", \"onConnectEnd\", \"onClickConnectStart\", \"onClickConnectStop\", \"onClickConnectEnd\", \"onNodeMouseEnter\", \"onNodeMouseMove\", \"onNodeMouseLeave\", \"onNodeContextMenu\", \"onNodeDoubleClick\", \"onNodeDragStart\", \"onNodeDrag\", \"onNodeDragStop\", \"onNodesDelete\", \"onEdgesDelete\", \"onSelectionChange\", \"onSelectionDragStart\", \"onSelectionDrag\", \"onSelectionDragStop\", \"onSelectionContextMenu\", \"connectionMode\", \"connectionLineType\", \"connectionLineStyle\", \"connectionLineComponent\", \"connectionLineContainerStyle\", \"deleteKeyCode\", \"selectionKeyCode\", \"multiSelectionKeyCode\", \"zoomActivationKeyCode\", \"snapToGrid\", \"snapGrid\", \"onlyRenderVisibleElements\", \"selectNodesOnDrag\", \"nodesDraggable\", \"nodesConnectable\", \"elementsSelectable\", \"minZoom\", \"maxZoom\", \"defaultZoom\", \"defaultPosition\", \"translateExtent\", \"preventScrolling\", \"nodeExtent\", \"defaultMarkerColor\", \"zoomOnScroll\", \"zoomOnPinch\", \"panOnScroll\", \"panOnScrollSpeed\", \"panOnScrollMode\", \"zoomOnDoubleClick\", \"panOnDrag\", \"onPaneClick\", \"onPaneScroll\", \"onPaneContextMenu\", \"children\", \"onEdgeUpdate\", \"onEdgeContextMenu\", \"onEdgeDoubleClick\", \"onEdgeMouseEnter\", \"onEdgeMouseMove\", \"onEdgeMouseLeave\", \"onEdgeUpdateStart\", \"onEdgeUpdateEnd\", \"edgeUpdaterRadius\", \"onNodesChange\", \"onEdgesChange\", \"noDragClassName\", \"noWheelClassName\", \"noPanClassName\", \"fitView\", \"fitViewOptions\", \"connectOnClick\", \"attributionPosition\", \"proOptions\", \"defaultEdgeOptions\", \"elevateEdgesOnSelect\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n{\n  injectStyle(css);\n  injectStyle(theme);\n}\n\nvar defaultNodeTypes = {\n  input: InputNode$1,\n  \"default\": DefaultNode$1,\n  output: OutputNode$1\n};\nvar defaultEdgeTypes = {\n  \"default\": BezierEdge,\n  straight: StraightEdge,\n  step: StepEdge,\n  smoothstep: SmoothStepEdge,\n  simplebezier: SimpleBezierEdge\n};\nvar initSnapGrid = [15, 15];\nvar initDefaultPosition = [0, 0];\nvar ReactFlow = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var nodes = _ref.nodes,\n      edges = _ref.edges,\n      defaultNodes = _ref.defaultNodes,\n      defaultEdges = _ref.defaultEdges,\n      className = _ref.className,\n      _ref$nodeTypes = _ref.nodeTypes,\n      nodeTypes = _ref$nodeTypes === void 0 ? defaultNodeTypes : _ref$nodeTypes,\n      _ref$edgeTypes = _ref.edgeTypes,\n      edgeTypes = _ref$edgeTypes === void 0 ? defaultEdgeTypes : _ref$edgeTypes,\n      onNodeClick = _ref.onNodeClick,\n      onEdgeClick = _ref.onEdgeClick,\n      onInit = _ref.onInit,\n      onMove = _ref.onMove,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onConnect = _ref.onConnect,\n      onConnectStart = _ref.onConnectStart,\n      onConnectStop = _ref.onConnectStop,\n      onConnectEnd = _ref.onConnectEnd,\n      onClickConnectStart = _ref.onClickConnectStart,\n      onClickConnectStop = _ref.onClickConnectStop,\n      onClickConnectEnd = _ref.onClickConnectEnd,\n      onNodeMouseEnter = _ref.onNodeMouseEnter,\n      onNodeMouseMove = _ref.onNodeMouseMove,\n      onNodeMouseLeave = _ref.onNodeMouseLeave,\n      onNodeContextMenu = _ref.onNodeContextMenu,\n      onNodeDoubleClick = _ref.onNodeDoubleClick,\n      onNodeDragStart = _ref.onNodeDragStart,\n      onNodeDrag = _ref.onNodeDrag,\n      onNodeDragStop = _ref.onNodeDragStop,\n      onNodesDelete = _ref.onNodesDelete,\n      onEdgesDelete = _ref.onEdgesDelete,\n      onSelectionChange = _ref.onSelectionChange,\n      onSelectionDragStart = _ref.onSelectionDragStart,\n      onSelectionDrag = _ref.onSelectionDrag,\n      onSelectionDragStop = _ref.onSelectionDragStop,\n      onSelectionContextMenu = _ref.onSelectionContextMenu,\n      _ref$connectionMode = _ref.connectionMode,\n      connectionMode = _ref$connectionMode === void 0 ? ConnectionMode.Strict : _ref$connectionMode,\n      _ref$connectionLineTy = _ref.connectionLineType,\n      connectionLineType = _ref$connectionLineTy === void 0 ? ConnectionLineType.Bezier : _ref$connectionLineTy,\n      connectionLineStyle = _ref.connectionLineStyle,\n      connectionLineComponent = _ref.connectionLineComponent,\n      connectionLineContainerStyle = _ref.connectionLineContainerStyle,\n      _ref$deleteKeyCode = _ref.deleteKeyCode,\n      deleteKeyCode = _ref$deleteKeyCode === void 0 ? 'Backspace' : _ref$deleteKeyCode,\n      _ref$selectionKeyCode = _ref.selectionKeyCode,\n      selectionKeyCode = _ref$selectionKeyCode === void 0 ? 'Shift' : _ref$selectionKeyCode,\n      _ref$multiSelectionKe = _ref.multiSelectionKeyCode,\n      multiSelectionKeyCode = _ref$multiSelectionKe === void 0 ? 'Meta' : _ref$multiSelectionKe,\n      _ref$zoomActivationKe = _ref.zoomActivationKeyCode,\n      zoomActivationKeyCode = _ref$zoomActivationKe === void 0 ? 'Meta' : _ref$zoomActivationKe,\n      _ref$snapToGrid = _ref.snapToGrid,\n      snapToGrid = _ref$snapToGrid === void 0 ? false : _ref$snapToGrid,\n      _ref$snapGrid = _ref.snapGrid,\n      snapGrid = _ref$snapGrid === void 0 ? initSnapGrid : _ref$snapGrid,\n      _ref$onlyRenderVisibl = _ref.onlyRenderVisibleElements,\n      onlyRenderVisibleElements = _ref$onlyRenderVisibl === void 0 ? false : _ref$onlyRenderVisibl,\n      _ref$selectNodesOnDra = _ref.selectNodesOnDrag,\n      selectNodesOnDrag = _ref$selectNodesOnDra === void 0 ? true : _ref$selectNodesOnDra,\n      nodesDraggable = _ref.nodesDraggable,\n      nodesConnectable = _ref.nodesConnectable,\n      elementsSelectable = _ref.elementsSelectable,\n      minZoom = _ref.minZoom,\n      maxZoom = _ref.maxZoom,\n      _ref$defaultZoom = _ref.defaultZoom,\n      defaultZoom = _ref$defaultZoom === void 0 ? 1 : _ref$defaultZoom,\n      _ref$defaultPosition = _ref.defaultPosition,\n      defaultPosition = _ref$defaultPosition === void 0 ? initDefaultPosition : _ref$defaultPosition,\n      translateExtent = _ref.translateExtent,\n      _ref$preventScrolling = _ref.preventScrolling,\n      preventScrolling = _ref$preventScrolling === void 0 ? true : _ref$preventScrolling,\n      nodeExtent = _ref.nodeExtent,\n      _ref$defaultMarkerCol = _ref.defaultMarkerColor,\n      defaultMarkerColor = _ref$defaultMarkerCol === void 0 ? '#b1b1b7' : _ref$defaultMarkerCol,\n      _ref$zoomOnScroll = _ref.zoomOnScroll,\n      zoomOnScroll = _ref$zoomOnScroll === void 0 ? true : _ref$zoomOnScroll,\n      _ref$zoomOnPinch = _ref.zoomOnPinch,\n      zoomOnPinch = _ref$zoomOnPinch === void 0 ? true : _ref$zoomOnPinch,\n      _ref$panOnScroll = _ref.panOnScroll,\n      panOnScroll = _ref$panOnScroll === void 0 ? false : _ref$panOnScroll,\n      _ref$panOnScrollSpeed = _ref.panOnScrollSpeed,\n      panOnScrollSpeed = _ref$panOnScrollSpeed === void 0 ? 0.5 : _ref$panOnScrollSpeed,\n      _ref$panOnScrollMode = _ref.panOnScrollMode,\n      panOnScrollMode = _ref$panOnScrollMode === void 0 ? PanOnScrollMode.Free : _ref$panOnScrollMode,\n      _ref$zoomOnDoubleClic = _ref.zoomOnDoubleClick,\n      zoomOnDoubleClick = _ref$zoomOnDoubleClic === void 0 ? true : _ref$zoomOnDoubleClic,\n      _ref$panOnDrag = _ref.panOnDrag,\n      panOnDrag = _ref$panOnDrag === void 0 ? true : _ref$panOnDrag,\n      onPaneClick = _ref.onPaneClick,\n      onPaneScroll = _ref.onPaneScroll,\n      onPaneContextMenu = _ref.onPaneContextMenu,\n      children = _ref.children,\n      onEdgeUpdate = _ref.onEdgeUpdate,\n      onEdgeContextMenu = _ref.onEdgeContextMenu,\n      onEdgeDoubleClick = _ref.onEdgeDoubleClick,\n      onEdgeMouseEnter = _ref.onEdgeMouseEnter,\n      onEdgeMouseMove = _ref.onEdgeMouseMove,\n      onEdgeMouseLeave = _ref.onEdgeMouseLeave,\n      onEdgeUpdateStart = _ref.onEdgeUpdateStart,\n      onEdgeUpdateEnd = _ref.onEdgeUpdateEnd,\n      _ref$edgeUpdaterRadiu = _ref.edgeUpdaterRadius,\n      edgeUpdaterRadius = _ref$edgeUpdaterRadiu === void 0 ? 10 : _ref$edgeUpdaterRadiu,\n      onNodesChange = _ref.onNodesChange,\n      onEdgesChange = _ref.onEdgesChange,\n      _ref$noDragClassName = _ref.noDragClassName,\n      noDragClassName = _ref$noDragClassName === void 0 ? 'nodrag' : _ref$noDragClassName,\n      _ref$noWheelClassName = _ref.noWheelClassName,\n      noWheelClassName = _ref$noWheelClassName === void 0 ? 'nowheel' : _ref$noWheelClassName,\n      _ref$noPanClassName = _ref.noPanClassName,\n      noPanClassName = _ref$noPanClassName === void 0 ? 'nopan' : _ref$noPanClassName,\n      _ref$fitView = _ref.fitView,\n      fitView = _ref$fitView === void 0 ? false : _ref$fitView,\n      fitViewOptions = _ref.fitViewOptions,\n      _ref$connectOnClick = _ref.connectOnClick,\n      connectOnClick = _ref$connectOnClick === void 0 ? true : _ref$connectOnClick,\n      attributionPosition = _ref.attributionPosition,\n      proOptions = _ref.proOptions,\n      defaultEdgeOptions = _ref.defaultEdgeOptions,\n      _ref$elevateEdgesOnSe = _ref.elevateEdgesOnSelect,\n      elevateEdgesOnSelect = _ref$elevateEdgesOnSe === void 0 ? false : _ref$elevateEdgesOnSe,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n  var edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n  var reactFlowClasses = cc(['react-flow', className]);\n  return /*#__PURE__*/React.createElement(\"div\", _objectSpread(_objectSpread({}, rest), {}, {\n    ref: ref,\n    className: reactFlowClasses\n  }), /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement(GraphView$1, {\n    onInit: onInit,\n    onMove: onMove,\n    onMoveStart: onMoveStart,\n    onMoveEnd: onMoveEnd,\n    onNodeClick: onNodeClick,\n    onEdgeClick: onEdgeClick,\n    onNodeMouseEnter: onNodeMouseEnter,\n    onNodeMouseMove: onNodeMouseMove,\n    onNodeMouseLeave: onNodeMouseLeave,\n    onNodeContextMenu: onNodeContextMenu,\n    onNodeDoubleClick: onNodeDoubleClick,\n    nodeTypes: nodeTypesWrapped,\n    edgeTypes: edgeTypesWrapped,\n    connectionLineType: connectionLineType,\n    connectionLineStyle: connectionLineStyle,\n    connectionLineComponent: connectionLineComponent,\n    connectionLineContainerStyle: connectionLineContainerStyle,\n    selectionKeyCode: selectionKeyCode,\n    deleteKeyCode: deleteKeyCode,\n    multiSelectionKeyCode: multiSelectionKeyCode,\n    zoomActivationKeyCode: zoomActivationKeyCode,\n    onlyRenderVisibleElements: onlyRenderVisibleElements,\n    selectNodesOnDrag: selectNodesOnDrag,\n    defaultZoom: defaultZoom,\n    defaultPosition: defaultPosition,\n    preventScrolling: preventScrolling,\n    zoomOnScroll: zoomOnScroll,\n    zoomOnPinch: zoomOnPinch,\n    zoomOnDoubleClick: zoomOnDoubleClick,\n    panOnScroll: panOnScroll,\n    panOnScrollSpeed: panOnScrollSpeed,\n    panOnScrollMode: panOnScrollMode,\n    panOnDrag: panOnDrag,\n    onPaneClick: onPaneClick,\n    onPaneScroll: onPaneScroll,\n    onPaneContextMenu: onPaneContextMenu,\n    onSelectionContextMenu: onSelectionContextMenu,\n    onEdgeUpdate: onEdgeUpdate,\n    onEdgeContextMenu: onEdgeContextMenu,\n    onEdgeDoubleClick: onEdgeDoubleClick,\n    onEdgeMouseEnter: onEdgeMouseEnter,\n    onEdgeMouseMove: onEdgeMouseMove,\n    onEdgeMouseLeave: onEdgeMouseLeave,\n    onEdgeUpdateStart: onEdgeUpdateStart,\n    onEdgeUpdateEnd: onEdgeUpdateEnd,\n    edgeUpdaterRadius: edgeUpdaterRadius,\n    defaultMarkerColor: defaultMarkerColor,\n    noDragClassName: noDragClassName,\n    noWheelClassName: noWheelClassName,\n    noPanClassName: noPanClassName,\n    elevateEdgesOnSelect: elevateEdgesOnSelect,\n    id: rest === null || rest === void 0 ? void 0 : rest.id\n  }), /*#__PURE__*/React.createElement(StoreUpdater, {\n    nodes: nodes,\n    edges: edges,\n    defaultNodes: defaultNodes,\n    defaultEdges: defaultEdges,\n    onConnect: onConnect,\n    onConnectStart: onConnectStart,\n    onConnectStop: onConnectStop,\n    onConnectEnd: onConnectEnd,\n    onClickConnectStart: onClickConnectStart,\n    onClickConnectStop: onClickConnectStop,\n    onClickConnectEnd: onClickConnectEnd,\n    nodesDraggable: nodesDraggable,\n    nodesConnectable: nodesConnectable,\n    elementsSelectable: elementsSelectable,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    nodeExtent: nodeExtent,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    snapToGrid: snapToGrid,\n    snapGrid: snapGrid,\n    connectionMode: connectionMode,\n    translateExtent: translateExtent,\n    connectOnClick: connectOnClick,\n    defaultEdgeOptions: defaultEdgeOptions,\n    fitView: fitView,\n    fitViewOptions: fitViewOptions,\n    onNodesDelete: onNodesDelete,\n    onEdgesDelete: onEdgesDelete,\n    onNodeDragStart: onNodeDragStart,\n    onNodeDrag: onNodeDrag,\n    onNodeDragStop: onNodeDragStop,\n    onSelectionDrag: onSelectionDrag,\n    onSelectionDragStart: onSelectionDragStart,\n    onSelectionDragStop: onSelectionDragStop\n  }), onSelectionChange && /*#__PURE__*/React.createElement(SelectionListener$1, {\n    onSelectionChange: onSelectionChange\n  }), children, /*#__PURE__*/React.createElement(Attribution, {\n    proOptions: proOptions,\n    position: attributionPosition\n  })));\n});\nReactFlow.displayName = 'ReactFlow';\n\nvar ReactFlowProvider = function ReactFlowProvider(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(Provider$1, {\n    createStore: createStore\n  }, children);\n};\n\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nfunction createUseItemsState(applyChanges) {\n  return function (initialItems) {\n    var _useState = useState(initialItems),\n        _useState2 = _slicedToArray(_useState, 2),\n        items = _useState2[0],\n        setItems = _useState2[1];\n\n    var onItemsChange = useCallback(function (changes) {\n      return setItems(function (items) {\n        return applyChanges(changes, items);\n      });\n    }, []);\n    return [items, setItems, onItemsChange];\n  };\n}\n\nvar useNodesState = createUseItemsState(applyNodeChanges);\nvar useEdgesState = createUseItemsState(applyEdgeChanges);\n\nexport { BezierEdge, EdgeText$1 as EdgeText, Handle$1 as Handle, ReactFlowProvider, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, ReactFlow as default, getBezierCenter as getBezierEdgeCenter, getBezierPath, getCenter as getEdgeCenter, getMarkerEnd, getSimpleBezierCenter as getSimpleBezierEdgeCenter, getSimpleBezierPath, getSmoothStepPath, useEdgesState, useKeyPress, useNodesState };\n//# sourceMappingURL=index.js.map\n","import moment from 'moment'\nimport React, { useMemo } from 'react'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { useGetUserProfile } from '../../utils/hooks/SynapseAPI'\nimport { Activity } from '../../utils/synapseTypes/Provenance/Provenance'\nimport Tooltip from '../../utils/tooltip/Tooltip'\nimport Typography from '../../utils/typography/Typography'\nimport { UserCardSmall } from '../UserCardSmall'\n\nexport const ActivityNodeLabel = (data: Activity) => {\n  const { data: userProfile } = useGetUserProfile(data.modifiedBy)\n  const friendlyModifiedOn = formatDate(moment(data.modifiedOn))\n  const { name, description } = data\n  return useMemo(\n    () => (\n      <>\n        {name && (\n          <Tooltip title={name} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"name\">\n                {name}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {description && (\n          <Tooltip title={description} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"description\">\n                {description}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {userProfile && <UserCardSmall userProfile={userProfile} />}\n        <div>{friendlyModifiedOn}</div>\n      </>\n    ),\n    [name, description, userProfile, friendlyModifiedOn],\n  )\n}\n","import React from 'react'\nimport { convertToEntityType } from '../../utils/functions/EntityTypeUtils'\nimport { EntityHeader, EntityType } from '../../utils/synapseTypes'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport IconSvg from '../IconSvg'\n\nexport type ProvenanceEntityIconProps = {\n  entityHeader?: EntityHeader\n}\n\nconst codeFileExtensionSet = new Set([\n  '.awk',\n  '.bat',\n  '.btm',\n  '.c',\n  '.cmd',\n  '.cpp',\n  '.cxx',\n  '.def',\n  '.dlg',\n  '.dpc',\n  '.dpj',\n  '.dtd',\n  '.h',\n  '.hdl',\n  '.hpp',\n  '.hrc',\n  '.html',\n  '.hxx',\n  '.inc',\n  '.ini',\n  '.inl',\n  '.ins',\n  '.ipy',\n  '.java',\n  '.js',\n  '.jsp',\n  '.l',\n  '.lgt',\n  '.ll',\n  '.par',\n  '.pl',\n  '.py',\n  '.r',\n  '.rc',\n  '.rdb',\n  '.res',\n  '.s',\n  '.sbl',\n  '.scp',\n  '.sh',\n  '.sql',\n  '.src',\n  '.srs',\n  '.xml',\n  '.xrb',\n  '.y',\n  '.yaml',\n  '.yxx',\n  '.cwl',\n  '.wdl',\n  '.json',\n])\n\nexport const ProvenanceEntityIcon = (props: ProvenanceEntityIconProps) => {\n  const { entityHeader } = props\n  if (entityHeader) {\n    const entityType: EntityType = convertToEntityType(entityHeader?.type)\n    if (entityType == EntityType.FILE) {\n      // this is a file, may want to use a special icon in this case\n      const lastPeriodIndex = entityHeader.name.lastIndexOf('.')\n      if (lastPeriodIndex > -1) {\n        const extension = entityHeader.name.slice(lastPeriodIndex)\n        if (codeFileExtensionSet.has(extension.toLowerCase())) {\n          return (\n            <IconSvg\n              options={{\n                icon: 'code',\n              }}\n            />\n          )\n        }\n      }\n    } else {\n      return <EntityTypeIcon type={entityType} includeTooltip={false} />\n    }\n  }\n\n  // return the default (File icon)\n  return <EntityTypeIcon type={EntityType.FILE} includeTooltip={false} />\n}\n","import React, { useMemo } from 'react'\nimport {\n  isVersionableEntityType,\n  convertToEntityType,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { EntityHeader } from '../../utils/synapseTypes'\nimport Tooltip from '../../utils/tooltip/Tooltip'\nimport { ProvenanceEntityIcon } from './ProvenanceEntityIcon'\n\nexport const EntityNodeLabel = (data: EntityHeader) => {\n  const targetVersionNumberString = data.versionNumber\n    ? `.${data.versionNumber}`\n    : ''\n  const entityVersionString = `${data.id}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceEntityIcon entityHeader={data} />\n        </div>\n        <>\n          <div>\n            <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n              <a\n                href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${entityVersionString}`}\n              >\n                {data.name}\n              </a>\n            </Tooltip>\n          </div>\n          {isVersionableEntityType(convertToEntityType(data.type)) && (\n            <div>\n              <div>v.{data.versionNumber}</div>\n              {!data.isLatestVersion && <div>(old version)</div>}\n            </div>\n          )}\n        </>\n      </>\n    ),\n    [data, entityVersionString],\n  )\n}\n","import pluralize from 'pluralize'\nimport React, { useMemo } from 'react'\nimport { EntityHeader } from '../../utils/synapseTypes'\n\nexport type ExpandGraphNodeDataProps = {\n  entityHeader: EntityHeader\n  itemCount: number\n}\nexport const ExpandGraphNodeLabel = (props: ExpandGraphNodeDataProps) => {\n  const { itemCount } = props\n  return useMemo(\n    () => (\n      <>\n        <a>\n          Show {itemCount} {pluralize('item', itemCount)}&hellip;\n        </a>\n      </>\n    ),\n    [itemCount],\n  )\n}\n","import React from 'react'\nimport IconSvg, { Icon } from '../IconSvg'\n\nexport type ProvenanceExternalIconProps = {\n  url: string\n}\nconst githubRegex = /^(.+?\\.)?github\\.com$/\nconst githubusercontentRegex = /^(.+?\\.)?githubusercontent\\.com$/\n\nexport const ProvenanceExternalIcon = (props: ProvenanceExternalIconProps) => {\n  const { url } = props\n  let icon: Icon = 'link'\n  const parsedUrl = new URL(url)\n  const { hostname } = parsedUrl\n\n  if (hostname.match(githubRegex) || hostname.match(githubusercontentRegex)) {\n    icon = 'github'\n  }\n  // else if (url.includes(\"genomespace.org\")) {\n  //   icon = 'genomespace'\n  // }\n\n  // return the default (File icon)\n  return (\n    <IconSvg\n      options={{\n        icon,\n      }}\n    />\n  )\n}\n","import React, { useMemo } from 'react'\nimport { UsedURL } from '../../utils/synapseTypes/Provenance/Provenance'\nimport Tooltip from '../../utils/tooltip/Tooltip'\nimport { ProvenanceExternalIcon } from './ProvenanceExternalIcon'\n\nexport const ExternalGraphNodeLabel = (data: UsedURL) => {\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceExternalIcon url={data.url} />\n        </div>\n        <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n          <a href={data.url} rel=\"noopener noreferrer\">\n            {data.name}\n          </a>\n        </Tooltip>\n      </>\n    ),\n    [data.name, data.url],\n  )\n}\n","/* global window */\n\nvar graphlib;\n\nif (typeof require === \"function\") {\n  try {\n    graphlib = require(\"graphlib\");\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!graphlib) {\n  graphlib = window.graphlib;\n}\n\nmodule.exports = graphlib;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      cloneDeep: require(\"lodash/cloneDeep\"),\n      constant: require(\"lodash/constant\"),\n      defaults: require(\"lodash/defaults\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      find: require(\"lodash/find\"),\n      flatten: require(\"lodash/flatten\"),\n      forEach: require(\"lodash/forEach\"),\n      forIn: require(\"lodash/forIn\"),\n      has:  require(\"lodash/has\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      last: require(\"lodash/last\"),\n      map: require(\"lodash/map\"),\n      mapValues: require(\"lodash/mapValues\"),\n      max: require(\"lodash/max\"),\n      merge: require(\"lodash/merge\"),\n      min: require(\"lodash/min\"),\n      minBy: require(\"lodash/minBy\"),\n      now: require(\"lodash/now\"),\n      pick: require(\"lodash/pick\"),\n      range: require(\"lodash/range\"),\n      reduce: require(\"lodash/reduce\"),\n      sortBy: require(\"lodash/sortBy\"),\n      uniqueId: require(\"lodash/uniqueId\"),\n      values: require(\"lodash/values\"),\n      zipObject: require(\"lodash/zipObject\"),\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","/*\n * Simple doubly linked list implementation derived from Cormen, et al.,\n * \"Introduction to Algorithms\".\n */\n\nmodule.exports = List;\n\nfunction List() {\n  var sentinel = {};\n  sentinel._next = sentinel._prev = sentinel;\n  this._sentinel = sentinel;\n}\n\nList.prototype.dequeue = function() {\n  var sentinel = this._sentinel;\n  var entry = sentinel._prev;\n  if (entry !== sentinel) {\n    unlink(entry);\n    return entry;\n  }\n};\n\nList.prototype.enqueue = function(entry) {\n  var sentinel = this._sentinel;\n  if (entry._prev && entry._next) {\n    unlink(entry);\n  }\n  entry._next = sentinel._next;\n  sentinel._next._prev = entry;\n  sentinel._next = entry;\n  entry._prev = sentinel;\n};\n\nList.prototype.toString = function() {\n  var strs = [];\n  var sentinel = this._sentinel;\n  var curr = sentinel._prev;\n  while (curr !== sentinel) {\n    strs.push(JSON.stringify(curr, filterOutLinks));\n    curr = curr._prev;\n  }\n  return \"[\" + strs.join(\", \") + \"]\";\n};\n\nfunction unlink(entry) {\n  entry._prev._next = entry._next;\n  entry._next._prev = entry._prev;\n  delete entry._next;\n  delete entry._prev;\n}\n\nfunction filterOutLinks(k, v) {\n  if (k !== \"_next\" && k !== \"_prev\") {\n    return v;\n  }\n}\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\nvar List = require(\"./data/list\");\n\n/*\n * A greedy heuristic for finding a feedback arc set for a graph. A feedback\n * arc set is a set of edges that can be removed to make a graph acyclic.\n * The algorithm comes from: P. Eades, X. Lin, and W. F. Smyth, \"A fast and\n * effective heuristic for the feedback arc set problem.\" This implementation\n * adjusts that from the paper to allow for weighted edges.\n */\nmodule.exports = greedyFAS;\n\nvar DEFAULT_WEIGHT_FN = _.constant(1);\n\nfunction greedyFAS(g, weightFn) {\n  if (g.nodeCount() <= 1) {\n    return [];\n  }\n  var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);\n  var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);\n\n  // Expand multi-edges\n  return _.flatten(_.map(results, function(e) {\n    return g.outEdges(e.v, e.w);\n  }), true);\n}\n\nfunction doGreedyFAS(g, buckets, zeroIdx) {\n  var results = [];\n  var sources = buckets[buckets.length - 1];\n  var sinks = buckets[0];\n\n  var entry;\n  while (g.nodeCount()) {\n    while ((entry = sinks.dequeue()))   { removeNode(g, buckets, zeroIdx, entry); }\n    while ((entry = sources.dequeue())) { removeNode(g, buckets, zeroIdx, entry); }\n    if (g.nodeCount()) {\n      for (var i = buckets.length - 2; i > 0; --i) {\n        entry = buckets[i].dequeue();\n        if (entry) {\n          results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));\n          break;\n        }\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {\n  var results = collectPredecessors ? [] : undefined;\n\n  _.forEach(g.inEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var uEntry = g.node(edge.v);\n\n    if (collectPredecessors) {\n      results.push({ v: edge.v, w: edge.w });\n    }\n\n    uEntry.out -= weight;\n    assignBucket(buckets, zeroIdx, uEntry);\n  });\n\n  _.forEach(g.outEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var w = edge.w;\n    var wEntry = g.node(w);\n    wEntry[\"in\"] -= weight;\n    assignBucket(buckets, zeroIdx, wEntry);\n  });\n\n  g.removeNode(entry.v);\n\n  return results;\n}\n\nfunction buildState(g, weightFn) {\n  var fasGraph = new Graph();\n  var maxIn = 0;\n  var maxOut = 0;\n\n  _.forEach(g.nodes(), function(v) {\n    fasGraph.setNode(v, { v: v, \"in\": 0, out: 0 });\n  });\n\n  // Aggregate weights on nodes, but also sum the weights across multi-edges\n  // into a single edge for the fasGraph.\n  _.forEach(g.edges(), function(e) {\n    var prevWeight = fasGraph.edge(e.v, e.w) || 0;\n    var weight = weightFn(e);\n    var edgeWeight = prevWeight + weight;\n    fasGraph.setEdge(e.v, e.w, edgeWeight);\n    maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);\n    maxIn  = Math.max(maxIn,  fasGraph.node(e.w)[\"in\"]  += weight);\n  });\n\n  var buckets = _.range(maxOut + maxIn + 3).map(function() { return new List(); });\n  var zeroIdx = maxIn + 1;\n\n  _.forEach(fasGraph.nodes(), function(v) {\n    assignBucket(buckets, zeroIdx, fasGraph.node(v));\n  });\n\n  return { graph: fasGraph, buckets: buckets, zeroIdx: zeroIdx };\n}\n\nfunction assignBucket(buckets, zeroIdx, entry) {\n  if (!entry.out) {\n    buckets[0].enqueue(entry);\n  } else if (!entry[\"in\"]) {\n    buckets[buckets.length - 1].enqueue(entry);\n  } else {\n    buckets[entry.out - entry[\"in\"] + zeroIdx].enqueue(entry);\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar greedyFAS = require(\"./greedy-fas\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\nfunction run(g) {\n  var fas = (g.graph().acyclicer === \"greedy\"\n    ? greedyFAS(g, weightFn(g))\n    : dfsFAS(g));\n  _.forEach(fas, function(e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n  });\n\n  function weightFn(g) {\n    return function(e) {\n      return g.edge(e).weight;\n    };\n  }\n}\n\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n\n  function dfs(v) {\n    if (_.has(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function(e) {\n      if (_.has(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\n\nfunction undo(g) {\n  _.forEach(g.edges(), function(e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}\n","/* eslint \"no-console\": off */\n\n\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  addDummyNode: addDummyNode,\n  simplify: simplify,\n  asNonCompoundGraph: asNonCompoundGraph,\n  successorWeights: successorWeights,\n  predecessorWeights: predecessorWeights,\n  intersectRect: intersectRect,\n  buildLayerMatrix: buildLayerMatrix,\n  normalizeRanks: normalizeRanks,\n  removeEmptyRanks: removeEmptyRanks,\n  addBorderNode: addBorderNode,\n  maxRank: maxRank,\n  partition: partition,\n  time: time,\n  notime: notime\n};\n\n/*\n * Adds a dummy node to the graph and return v.\n */\nfunction addDummyNode(g, type, attrs, name) {\n  var v;\n  do {\n    v = _.uniqueId(name);\n  } while (g.hasNode(v));\n\n  attrs.dummy = type;\n  g.setNode(v, attrs);\n  return v;\n}\n\n/*\n * Returns a new graph with only simple edges. Handles aggregation of data\n * associated with multi-edges.\n */\nfunction simplify(g) {\n  var simplified = new Graph().setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) { simplified.setNode(v, g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };\n    var label = g.edge(e);\n    simplified.setEdge(e.v, e.w, {\n      weight: simpleLabel.weight + label.weight,\n      minlen: Math.max(simpleLabel.minlen, label.minlen)\n    });\n  });\n  return simplified;\n}\n\nfunction asNonCompoundGraph(g) {\n  var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) {\n    if (!g.children(v).length) {\n      simplified.setNode(v, g.node(v));\n    }\n  });\n  _.forEach(g.edges(), function(e) {\n    simplified.setEdge(e, g.edge(e));\n  });\n  return simplified;\n}\n\nfunction successorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var sucs = {};\n    _.forEach(g.outEdges(v), function(e) {\n      sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;\n    });\n    return sucs;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\nfunction predecessorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var preds = {};\n    _.forEach(g.inEdges(v), function(e) {\n      preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;\n    });\n    return preds;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\n/*\n * Finds where a line starting at point ({x, y}) would intersect a rectangle\n * ({x, y, width, height}) if it were pointing at the rectangle's center.\n */\nfunction intersectRect(rect, point) {\n  var x = rect.x;\n  var y = rect.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = rect.width / 2;\n  var h = rect.height / 2;\n\n  if (!dx && !dy) {\n    throw new Error(\"Not possible to find intersection inside of the rectangle\");\n  }\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = h * dx / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = w * dy / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n}\n\n/*\n * Given a DAG with each node assigned \"rank\" and \"order\" properties, this\n * function will produce a matrix with the ids of each node.\n */\nfunction buildLayerMatrix(g) {\n  var layering = _.map(_.range(maxRank(g) + 1), function() { return []; });\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    var rank = node.rank;\n    if (!_.isUndefined(rank)) {\n      layering[rank][node.order] = v;\n    }\n  });\n  return layering;\n}\n\n/*\n * Adjusts the ranks for all nodes in the graph such that all nodes v have\n * rank(v) >= 0 and at least one node w has rank(w) = 0.\n */\nfunction normalizeRanks(g) {\n  var min = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (_.has(node, \"rank\")) {\n      node.rank -= min;\n    }\n  });\n}\n\nfunction removeEmptyRanks(g) {\n  // Ranks may not start at 0, so we need to offset them\n  var offset = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n\n  var layers = [];\n  _.forEach(g.nodes(), function(v) {\n    var rank = g.node(v).rank - offset;\n    if (!layers[rank]) {\n      layers[rank] = [];\n    }\n    layers[rank].push(v);\n  });\n\n  var delta = 0;\n  var nodeRankFactor = g.graph().nodeRankFactor;\n  _.forEach(layers, function(vs, i) {\n    if (_.isUndefined(vs) && i % nodeRankFactor !== 0) {\n      --delta;\n    } else if (delta) {\n      _.forEach(vs, function(v) { g.node(v).rank += delta; });\n    }\n  });\n}\n\nfunction addBorderNode(g, prefix, rank, order) {\n  var node = {\n    width: 0,\n    height: 0\n  };\n  if (arguments.length >= 4) {\n    node.rank = rank;\n    node.order = order;\n  }\n  return addDummyNode(g, \"border\", node, prefix);\n}\n\nfunction maxRank(g) {\n  return _.max(_.map(g.nodes(), function(v) {\n    var rank = g.node(v).rank;\n    if (!_.isUndefined(rank)) {\n      return rank;\n    }\n  }));\n}\n\n/*\n * Partition a collection into two groups: `lhs` and `rhs`. If the supplied\n * function returns true for an entry it goes into `lhs`. Otherwise it goes\n * into `rhs.\n */\nfunction partition(collection, fn) {\n  var result = { lhs: [], rhs: [] };\n  _.forEach(collection, function(value) {\n    if (fn(value)) {\n      result.lhs.push(value);\n    } else {\n      result.rhs.push(value);\n    }\n  });\n  return result;\n}\n\n/*\n * Returns a new function that wraps `fn` with a timer. The wrapper logs the\n * time it takes to execute the function.\n */\nfunction time(name, fn) {\n  var start = _.now();\n  try {\n    return fn();\n  } finally {\n    console.log(name + \" time: \" + (_.now() - start) + \"ms\");\n  }\n}\n\nfunction notime(name, fn) {\n  return fn();\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\n/*\n * Breaks any long edges in the graph into short segments that span 1 layer\n * each. This operation is undoable with the denormalize function.\n *\n * Pre-conditions:\n *\n *    1. The input graph is a DAG.\n *    2. Each node in the graph has a \"rank\" property.\n *\n * Post-condition:\n *\n *    1. All edges in the graph have a length of 1.\n *    2. Dummy nodes are added where edges have been split into segments.\n *    3. The graph is augmented with a \"dummyChains\" attribute which contains\n *       the first dummy in each chain of dummy nodes produced.\n */\nfunction run(g) {\n  g.graph().dummyChains = [];\n  _.forEach(g.edges(), function(edge) { normalizeEdge(g, edge); });\n}\n\nfunction normalizeEdge(g, e) {\n  var v = e.v;\n  var vRank = g.node(v).rank;\n  var w = e.w;\n  var wRank = g.node(w).rank;\n  var name = e.name;\n  var edgeLabel = g.edge(e);\n  var labelRank = edgeLabel.labelRank;\n\n  if (wRank === vRank + 1) return;\n\n  g.removeEdge(e);\n\n  var dummy, attrs, i;\n  for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {\n    edgeLabel.points = [];\n    attrs = {\n      width: 0, height: 0,\n      edgeLabel: edgeLabel, edgeObj: e,\n      rank: vRank\n    };\n    dummy = util.addDummyNode(g, \"edge\", attrs, \"_d\");\n    if (vRank === labelRank) {\n      attrs.width = edgeLabel.width;\n      attrs.height = edgeLabel.height;\n      attrs.dummy = \"edge-label\";\n      attrs.labelpos = edgeLabel.labelpos;\n    }\n    g.setEdge(v, dummy, { weight: edgeLabel.weight }, name);\n    if (i === 0) {\n      g.graph().dummyChains.push(dummy);\n    }\n    v = dummy;\n  }\n\n  g.setEdge(v, w, { weight: edgeLabel.weight }, name);\n}\n\nfunction undo(g) {\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var origLabel = node.edgeLabel;\n    var w;\n    g.setEdge(node.edgeObj, origLabel);\n    while (node.dummy) {\n      w = g.successors(v)[0];\n      g.removeNode(v);\n      origLabel.points.push({ x: node.x, y: node.y });\n      if (node.dummy === \"edge-label\") {\n        origLabel.x = node.x;\n        origLabel.y = node.y;\n        origLabel.width = node.width;\n        origLabel.height = node.height;\n      }\n      v = w;\n      node = g.node(v);\n    }\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = {\n  longestPath: longestPath,\n  slack: slack\n};\n\n/*\n * Initializes ranks for the input graph using the longest path algorithm. This\n * algorithm scales well and is fast in practice, it yields rather poor\n * solutions. Nodes are pushed to the lowest layer possible, leaving the bottom\n * ranks wide and leaving edges longer than necessary. However, due to its\n * speed, this algorithm is good for getting an initial ranking that can be fed\n * into other algorithms.\n *\n * This algorithm does not normalize layers because it will be used by other\n * algorithms in most cases. If using this algorithm directly, be sure to\n * run normalize at the end.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG.\n *    2. Input graph node labels can be assigned properties.\n *\n * Post-conditions:\n *\n *    1. Each node will be assign an (unnormalized) \"rank\" property.\n */\nfunction longestPath(g) {\n  var visited = {};\n\n  function dfs(v) {\n    var label = g.node(v);\n    if (_.has(visited, v)) {\n      return label.rank;\n    }\n    visited[v] = true;\n\n    var rank = _.min(_.map(g.outEdges(v), function(e) {\n      return dfs(e.w) - g.edge(e).minlen;\n    }));\n\n    if (rank === Number.POSITIVE_INFINITY || // return value of _.map([]) for Lodash 3\n        rank === undefined || // return value of _.map([]) for Lodash 4\n        rank === null) { // return value of _.map([null])\n      rank = 0;\n    }\n\n    return (label.rank = rank);\n  }\n\n  _.forEach(g.sources(), dfs);\n}\n\n/*\n * Returns the amount of slack for the given edge. The slack is defined as the\n * difference between the length of the edge and its minimum length.\n */\nfunction slack(g, e) {\n  return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar slack = require(\"./util\").slack;\n\nmodule.exports = feasibleTree;\n\n/*\n * Constructs a spanning tree with tight edges and adjusted the input node's\n * ranks to achieve this. A tight edge is one that is has a length that matches\n * its \"minlen\" attribute.\n *\n * The basic structure for this function is derived from Gansner, et al., \"A\n * Technique for Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a DAG.\n *    2. Graph must be connected.\n *    3. Graph must have at least one node.\n *    5. Graph nodes must have been previously assigned a \"rank\" property that\n *       respects the \"minlen\" property of incident edges.\n *    6. Graph edges must have a \"minlen\" property.\n *\n * Post-conditions:\n *\n *    - Graph nodes will have their rank adjusted to ensure that all edges are\n *      tight.\n *\n * Returns a tree (undirected graph) that is constructed using only \"tight\"\n * edges.\n */\nfunction feasibleTree(g) {\n  var t = new Graph({ directed: false });\n\n  // Choose arbitrary node from which to start our tree\n  var start = g.nodes()[0];\n  var size = g.nodeCount();\n  t.setNode(start, {});\n\n  var edge, delta;\n  while (tightTree(t, g) < size) {\n    edge = findMinSlackEdge(t, g);\n    delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);\n    shiftRanks(t, g, delta);\n  }\n\n  return t;\n}\n\n/*\n * Finds a maximal tree of tight edges and returns the number of nodes in the\n * tree.\n */\nfunction tightTree(t, g) {\n  function dfs(v) {\n    _.forEach(g.nodeEdges(v), function(e) {\n      var edgeV = e.v,\n        w = (v === edgeV) ? e.w : edgeV;\n      if (!t.hasNode(w) && !slack(g, e)) {\n        t.setNode(w, {});\n        t.setEdge(v, w, {});\n        dfs(w);\n      }\n    });\n  }\n\n  _.forEach(t.nodes(), dfs);\n  return t.nodeCount();\n}\n\n/*\n * Finds the edge with the smallest slack that is incident on tree and returns\n * it.\n */\nfunction findMinSlackEdge(t, g) {\n  return _.minBy(g.edges(), function(e) {\n    if (t.hasNode(e.v) !== t.hasNode(e.w)) {\n      return slack(g, e);\n    }\n  });\n}\n\nfunction shiftRanks(t, g, delta) {\n  _.forEach(t.nodes(), function(v) {\n    g.node(v).rank += delta;\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar feasibleTree = require(\"./feasible-tree\");\nvar slack = require(\"./util\").slack;\nvar initRank = require(\"./util\").longestPath;\nvar preorder = require(\"../graphlib\").alg.preorder;\nvar postorder = require(\"../graphlib\").alg.postorder;\nvar simplify = require(\"../util\").simplify;\n\nmodule.exports = networkSimplex;\n\n// Expose some internals for testing purposes\nnetworkSimplex.initLowLimValues = initLowLimValues;\nnetworkSimplex.initCutValues = initCutValues;\nnetworkSimplex.calcCutValue = calcCutValue;\nnetworkSimplex.leaveEdge = leaveEdge;\nnetworkSimplex.enterEdge = enterEdge;\nnetworkSimplex.exchangeEdges = exchangeEdges;\n\n/*\n * The network simplex algorithm assigns ranks to each node in the input graph\n * and iteratively improves the ranking to reduce the length of edges.\n *\n * Preconditions:\n *\n *    1. The input graph must be a DAG.\n *    2. All nodes in the graph must have an object value.\n *    3. All edges in the graph must have \"minlen\" and \"weight\" attributes.\n *\n * Postconditions:\n *\n *    1. All nodes in the graph will have an assigned \"rank\" attribute that has\n *       been optimized by the network simplex algorithm. Ranks start at 0.\n *\n *\n * A rough sketch of the algorithm is as follows:\n *\n *    1. Assign initial ranks to each node. We use the longest path algorithm,\n *       which assigns ranks to the lowest position possible. In general this\n *       leads to very wide bottom ranks and unnecessarily long edges.\n *    2. Construct a feasible tight tree. A tight tree is one such that all\n *       edges in the tree have no slack (difference between length of edge\n *       and minlen for the edge). This by itself greatly improves the assigned\n *       rankings by shorting edges.\n *    3. Iteratively find edges that have negative cut values. Generally a\n *       negative cut value indicates that the edge could be removed and a new\n *       tree edge could be added to produce a more compact graph.\n *\n * Much of the algorithms here are derived from Gansner, et al., \"A Technique\n * for Drawing Directed Graphs.\" The structure of the file roughly follows the\n * structure of the overall algorithm.\n */\nfunction networkSimplex(g) {\n  g = simplify(g);\n  initRank(g);\n  var t = feasibleTree(g);\n  initLowLimValues(t);\n  initCutValues(t, g);\n\n  var e, f;\n  while ((e = leaveEdge(t))) {\n    f = enterEdge(t, g, e);\n    exchangeEdges(t, g, e, f);\n  }\n}\n\n/*\n * Initializes cut values for all edges in the tree.\n */\nfunction initCutValues(t, g) {\n  var vs = postorder(t, t.nodes());\n  vs = vs.slice(0, vs.length - 1);\n  _.forEach(vs, function(v) {\n    assignCutValue(t, g, v);\n  });\n}\n\nfunction assignCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  t.edge(child, parent).cutvalue = calcCutValue(t, g, child);\n}\n\n/*\n * Given the tight tree, its graph, and a child in the graph calculate and\n * return the cut value for the edge between the child and its parent.\n */\nfunction calcCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  // True if the child is on the tail end of the edge in the directed graph\n  var childIsTail = true;\n  // The graph's view of the tree edge we're inspecting\n  var graphEdge = g.edge(child, parent);\n  // The accumulated cut value for the edge between this node and its parent\n  var cutValue = 0;\n\n  if (!graphEdge) {\n    childIsTail = false;\n    graphEdge = g.edge(parent, child);\n  }\n\n  cutValue = graphEdge.weight;\n\n  _.forEach(g.nodeEdges(child), function(e) {\n    var isOutEdge = e.v === child,\n      other = isOutEdge ? e.w : e.v;\n\n    if (other !== parent) {\n      var pointsToHead = isOutEdge === childIsTail,\n        otherWeight = g.edge(e).weight;\n\n      cutValue += pointsToHead ? otherWeight : -otherWeight;\n      if (isTreeEdge(t, child, other)) {\n        var otherCutValue = t.edge(child, other).cutvalue;\n        cutValue += pointsToHead ? -otherCutValue : otherCutValue;\n      }\n    }\n  });\n\n  return cutValue;\n}\n\nfunction initLowLimValues(tree, root) {\n  if (arguments.length < 2) {\n    root = tree.nodes()[0];\n  }\n  dfsAssignLowLim(tree, {}, 1, root);\n}\n\nfunction dfsAssignLowLim(tree, visited, nextLim, v, parent) {\n  var low = nextLim;\n  var label = tree.node(v);\n\n  visited[v] = true;\n  _.forEach(tree.neighbors(v), function(w) {\n    if (!_.has(visited, w)) {\n      nextLim = dfsAssignLowLim(tree, visited, nextLim, w, v);\n    }\n  });\n\n  label.low = low;\n  label.lim = nextLim++;\n  if (parent) {\n    label.parent = parent;\n  } else {\n    // TODO should be able to remove this when we incrementally update low lim\n    delete label.parent;\n  }\n\n  return nextLim;\n}\n\nfunction leaveEdge(tree) {\n  return _.find(tree.edges(), function(e) {\n    return tree.edge(e).cutvalue < 0;\n  });\n}\n\nfunction enterEdge(t, g, edge) {\n  var v = edge.v;\n  var w = edge.w;\n\n  // For the rest of this function we assume that v is the tail and w is the\n  // head, so if we don't have this edge in the graph we should flip it to\n  // match the correct orientation.\n  if (!g.hasEdge(v, w)) {\n    v = edge.w;\n    w = edge.v;\n  }\n\n  var vLabel = t.node(v);\n  var wLabel = t.node(w);\n  var tailLabel = vLabel;\n  var flip = false;\n\n  // If the root is in the tail of the edge then we need to flip the logic that\n  // checks for the head and tail nodes in the candidates function below.\n  if (vLabel.lim > wLabel.lim) {\n    tailLabel = wLabel;\n    flip = true;\n  }\n\n  var candidates = _.filter(g.edges(), function(edge) {\n    return flip === isDescendant(t, t.node(edge.v), tailLabel) &&\n           flip !== isDescendant(t, t.node(edge.w), tailLabel);\n  });\n\n  return _.minBy(candidates, function(edge) { return slack(g, edge); });\n}\n\nfunction exchangeEdges(t, g, e, f) {\n  var v = e.v;\n  var w = e.w;\n  t.removeEdge(v, w);\n  t.setEdge(f.v, f.w, {});\n  initLowLimValues(t);\n  initCutValues(t, g);\n  updateRanks(t, g);\n}\n\nfunction updateRanks(t, g) {\n  var root = _.find(t.nodes(), function(v) { return !g.node(v).parent; });\n  var vs = preorder(t, root);\n  vs = vs.slice(1);\n  _.forEach(vs, function(v) {\n    var parent = t.node(v).parent,\n      edge = g.edge(v, parent),\n      flipped = false;\n\n    if (!edge) {\n      edge = g.edge(parent, v);\n      flipped = true;\n    }\n\n    g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);\n  });\n}\n\n/*\n * Returns true if the edge is in the tree.\n */\nfunction isTreeEdge(tree, u, v) {\n  return tree.hasEdge(u, v);\n}\n\n/*\n * Returns true if the specified node is descendant of the root node per the\n * assigned low and lim attributes in the tree.\n */\nfunction isDescendant(tree, vLabel, rootLabel) {\n  return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;\n}\n","\"use strict\";\n\nvar rankUtil = require(\"./util\");\nvar longestPath = rankUtil.longestPath;\nvar feasibleTree = require(\"./feasible-tree\");\nvar networkSimplex = require(\"./network-simplex\");\n\nmodule.exports = rank;\n\n/*\n * Assigns a rank to each node in the input graph that respects the \"minlen\"\n * constraint specified on edges between nodes.\n *\n * This basic structure is derived from Gansner, et al., \"A Technique for\n * Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a connected DAG\n *    2. Graph nodes must be objects\n *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n *       algorithm. Ranks can start at any index (including negative), we'll\n *       fix them up later.\n */\nfunction rank(g) {\n  switch(g.graph().ranker) {\n  case \"network-simplex\": networkSimplexRanker(g); break;\n  case \"tight-tree\": tightTreeRanker(g); break;\n  case \"longest-path\": longestPathRanker(g); break;\n  default: networkSimplexRanker(g);\n  }\n}\n\n// A fast and simple ranker, but results are far from optimal.\nvar longestPathRanker = longestPath;\n\nfunction tightTreeRanker(g) {\n  longestPath(g);\n  feasibleTree(g);\n}\n\nfunction networkSimplexRanker(g) {\n  networkSimplex(g);\n}\n","var _ = require(\"./lodash\");\n\nmodule.exports = parentDummyChains;\n\nfunction parentDummyChains(g) {\n  var postorderNums = postorder(g);\n\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var edgeObj = node.edgeObj;\n    var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);\n    var path = pathData.path;\n    var lca = pathData.lca;\n    var pathIdx = 0;\n    var pathV = path[pathIdx];\n    var ascending = true;\n\n    while (v !== edgeObj.w) {\n      node = g.node(v);\n\n      if (ascending) {\n        while ((pathV = path[pathIdx]) !== lca &&\n               g.node(pathV).maxRank < node.rank) {\n          pathIdx++;\n        }\n\n        if (pathV === lca) {\n          ascending = false;\n        }\n      }\n\n      if (!ascending) {\n        while (pathIdx < path.length - 1 &&\n               g.node(pathV = path[pathIdx + 1]).minRank <= node.rank) {\n          pathIdx++;\n        }\n        pathV = path[pathIdx];\n      }\n\n      g.setParent(v, pathV);\n      v = g.successors(v)[0];\n    }\n  });\n}\n\n// Find a path from v to w through the lowest common ancestor (LCA). Return the\n// full path and the LCA.\nfunction findPath(g, postorderNums, v, w) {\n  var vPath = [];\n  var wPath = [];\n  var low = Math.min(postorderNums[v].low, postorderNums[w].low);\n  var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);\n  var parent;\n  var lca;\n\n  // Traverse up from v to find the LCA\n  parent = v;\n  do {\n    parent = g.parent(parent);\n    vPath.push(parent);\n  } while (parent &&\n           (postorderNums[parent].low > low || lim > postorderNums[parent].lim));\n  lca = parent;\n\n  // Traverse from w to LCA\n  parent = w;\n  while ((parent = g.parent(parent)) !== lca) {\n    wPath.push(parent);\n  }\n\n  return { path: vPath.concat(wPath.reverse()), lca: lca };\n}\n\nfunction postorder(g) {\n  var result = {};\n  var lim = 0;\n\n  function dfs(v) {\n    var low = lim;\n    _.forEach(g.children(v), dfs);\n    result[v] = { low: low, lim: lim++ };\n  }\n  _.forEach(g.children(), dfs);\n\n  return result;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  cleanup: cleanup\n};\n\n/*\n * A nesting graph creates dummy nodes for the tops and bottoms of subgraphs,\n * adds appropriate edges to ensure that all cluster nodes are placed between\n * these boundries, and ensures that the graph is connected.\n *\n * In addition we ensure, through the use of the minlen property, that nodes\n * and subgraph border nodes to not end up on the same rank.\n *\n * Preconditions:\n *\n *    1. Input graph is a DAG\n *    2. Nodes in the input graph has a minlen attribute\n *\n * Postconditions:\n *\n *    1. Input graph is connected.\n *    2. Dummy nodes are added for the tops and bottoms of subgraphs.\n *    3. The minlen attribute for nodes is adjusted to ensure nodes do not\n *       get placed on the same rank as subgraph border nodes.\n *\n * The nesting graph idea comes from Sander, \"Layout of Compound Directed\n * Graphs.\"\n */\nfunction run(g) {\n  var root = util.addDummyNode(g, \"root\", {}, \"_root\");\n  var depths = treeDepths(g);\n  var height = _.max(_.values(depths)) - 1; // Note: depths is an Object not an array\n  var nodeSep = 2 * height + 1;\n\n  g.graph().nestingRoot = root;\n\n  // Multiply minlen by nodeSep to align nodes on non-border ranks.\n  _.forEach(g.edges(), function(e) { g.edge(e).minlen *= nodeSep; });\n\n  // Calculate a weight that is sufficient to keep subgraphs vertically compact\n  var weight = sumWeights(g) + 1;\n\n  // Create border nodes and link them up\n  _.forEach(g.children(), function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n  });\n\n  // Save the multiplier for node layers for later removal of empty border\n  // layers.\n  g.graph().nodeRankFactor = nodeSep;\n}\n\nfunction dfs(g, root, nodeSep, weight, height, depths, v) {\n  var children = g.children(v);\n  if (!children.length) {\n    if (v !== root) {\n      g.setEdge(root, v, { weight: 0, minlen: nodeSep });\n    }\n    return;\n  }\n\n  var top = util.addBorderNode(g, \"_bt\");\n  var bottom = util.addBorderNode(g, \"_bb\");\n  var label = g.node(v);\n\n  g.setParent(top, v);\n  label.borderTop = top;\n  g.setParent(bottom, v);\n  label.borderBottom = bottom;\n\n  _.forEach(children, function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n\n    var childNode = g.node(child);\n    var childTop = childNode.borderTop ? childNode.borderTop : child;\n    var childBottom = childNode.borderBottom ? childNode.borderBottom : child;\n    var thisWeight = childNode.borderTop ? weight : 2 * weight;\n    var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;\n\n    g.setEdge(top, childTop, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n\n    g.setEdge(childBottom, bottom, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n  });\n\n  if (!g.parent(v)) {\n    g.setEdge(root, top, { weight: 0, minlen: height + depths[v] });\n  }\n}\n\nfunction treeDepths(g) {\n  var depths = {};\n  function dfs(v, depth) {\n    var children = g.children(v);\n    if (children && children.length) {\n      _.forEach(children, function(child) {\n        dfs(child, depth + 1);\n      });\n    }\n    depths[v] = depth;\n  }\n  _.forEach(g.children(), function(v) { dfs(v, 1); });\n  return depths;\n}\n\nfunction sumWeights(g) {\n  return _.reduce(g.edges(), function(acc, e) {\n    return acc + g.edge(e).weight;\n  }, 0);\n}\n\nfunction cleanup(g) {\n  var graphLabel = g.graph();\n  g.removeNode(graphLabel.nestingRoot);\n  delete graphLabel.nestingRoot;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.nestingEdge) {\n      g.removeEdge(e);\n    }\n  });\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = addBorderSegments;\n\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n\n    if (_.has(node, \"minRank\")) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1;\n        rank < maxRank;\n        ++rank) {\n        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n      }\n    }\n  }\n\n  _.forEach(g.children(), dfs);\n}\n\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, \"border\", label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, { weight: 1 });\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = {\n  adjust: adjust,\n  undo: undo\n};\n\nfunction adjust(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapWidthHeight(g);\n  }\n}\n\nfunction undo(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"bt\" || rankDir === \"rl\") {\n    reverseY(g);\n  }\n\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n}\n\nfunction swapWidthHeight(g) {\n  _.forEach(g.nodes(), function(v) { swapWidthHeightOne(g.node(v)); });\n  _.forEach(g.edges(), function(e) { swapWidthHeightOne(g.edge(e)); });\n}\n\nfunction swapWidthHeightOne(attrs) {\n  var w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n}\n\nfunction reverseY(g) {\n  _.forEach(g.nodes(), function(v) { reverseYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, reverseYOne);\n    if (_.has(edge, \"y\")) {\n      reverseYOne(edge);\n    }\n  });\n}\n\nfunction reverseYOne(attrs) {\n  attrs.y = -attrs.y;\n}\n\nfunction swapXY(g) {\n  _.forEach(g.nodes(), function(v) { swapXYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, swapXYOne);\n    if (_.has(edge, \"x\")) {\n      swapXYOne(edge);\n    }\n  });\n}\n\nfunction swapXYOne(attrs) {\n  var x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = initOrder;\n\n/*\n * Assigns an initial order value for each node by performing a DFS search\n * starting from nodes in the first rank. Nodes are assigned an order in their\n * rank as they are first visited.\n *\n * This approach comes from Gansner, et al., \"A Technique for Drawing Directed\n * Graphs.\"\n *\n * Returns a layering matrix with an array per layer and each layer sorted by\n * the order of its nodes.\n */\nfunction initOrder(g) {\n  var visited = {};\n  var simpleNodes = _.filter(g.nodes(), function(v) {\n    return !g.children(v).length;\n  });\n  var maxRank = _.max(_.map(simpleNodes, function(v) { return g.node(v).rank; }));\n  var layers = _.map(_.range(maxRank + 1), function() { return []; });\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    var node = g.node(v);\n    layers[node.rank].push(v);\n    _.forEach(g.successors(v), dfs);\n  }\n\n  var orderedVs = _.sortBy(simpleNodes, function(v) { return g.node(v).rank; });\n  _.forEach(orderedVs, dfs);\n\n  return layers;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = crossCount;\n\n/*\n * A function that takes a layering (an array of layers, each with an array of\n * ordererd nodes) and a graph and returns a weighted crossing count.\n *\n * Pre-conditions:\n *\n *    1. Input graph must be simple (not a multigraph), directed, and include\n *       only simple edges.\n *    2. Edges in the input graph must have assigned weights.\n *\n * Post-conditions:\n *\n *    1. The graph and layering matrix are left unchanged.\n *\n * This algorithm is derived from Barth, et al., \"Bilayer Cross Counting.\"\n */\nfunction crossCount(g, layering) {\n  var cc = 0;\n  for (var i = 1; i < layering.length; ++i) {\n    cc += twoLayerCrossCount(g, layering[i-1], layering[i]);\n  }\n  return cc;\n}\n\nfunction twoLayerCrossCount(g, northLayer, southLayer) {\n  // Sort all of the edges between the north and south layers by their position\n  // in the north layer and then the south. Map these edges to the position of\n  // their head in the south layer.\n  var southPos = _.zipObject(southLayer,\n    _.map(southLayer, function (v, i) { return i; }));\n  var southEntries = _.flatten(_.map(northLayer, function(v) {\n    return _.sortBy(_.map(g.outEdges(v), function(e) {\n      return { pos: southPos[e.w], weight: g.edge(e).weight };\n    }), \"pos\");\n  }), true);\n\n  // Build the accumulator tree\n  var firstIndex = 1;\n  while (firstIndex < southLayer.length) firstIndex <<= 1;\n  var treeSize = 2 * firstIndex - 1;\n  firstIndex -= 1;\n  var tree = _.map(new Array(treeSize), function() { return 0; });\n\n  // Calculate the weighted crossings\n  var cc = 0;\n  _.forEach(southEntries.forEach(function(entry) {\n    var index = entry.pos + firstIndex;\n    tree[index] += entry.weight;\n    var weightSum = 0;\n    while (index > 0) {\n      if (index % 2) {\n        weightSum += tree[index + 1];\n      }\n      index = (index - 1) >> 1;\n      tree[index] += entry.weight;\n    }\n    cc += entry.weight * weightSum;\n  }));\n\n  return cc;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = barycenter;\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function(v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(inV, function(acc, e) {\n        var edge = g.edge(e),\n          nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + (edge.weight * nodeU.order),\n          weight: acc.weight + edge.weight\n        };\n      }, { sum: 0, weight: 0 });\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = resolveConflicts;\n\n/*\n * Given a list of entries of the form {v, barycenter, weight} and a\n * constraint graph this function will resolve any conflicts between the\n * constraint graph and the barycenters for the entries. If the barycenters for\n * an entry would violate a constraint in the constraint graph then we coalesce\n * the nodes in the conflict into a new node that respects the contraint and\n * aggregates barycenter and weight information.\n *\n * This implementation is based on the description in Forster, \"A Fast and\n * Simple Hueristic for Constrained Two-Level Crossing Reduction,\" thought it\n * differs in some specific details.\n *\n * Pre-conditions:\n *\n *    1. Each entry has the form {v, barycenter, weight}, or if the node has\n *       no barycenter, then {v}.\n *\n * Returns:\n *\n *    A new list of entries of the form {vs, i, barycenter, weight}. The list\n *    `vs` may either be a singleton or it may be an aggregation of nodes\n *    ordered such that they do not violate constraints from the constraint\n *    graph. The property `i` is the lowest original index of any of the\n *    elements in `vs`.\n */\nfunction resolveConflicts(entries, cg) {\n  var mappedEntries = {};\n  _.forEach(entries, function(entry, i) {\n    var tmp = mappedEntries[entry.v] = {\n      indegree: 0,\n      \"in\": [],\n      out: [],\n      vs: [entry.v],\n      i: i\n    };\n    if (!_.isUndefined(entry.barycenter)) {\n      tmp.barycenter = entry.barycenter;\n      tmp.weight = entry.weight;\n    }\n  });\n\n  _.forEach(cg.edges(), function(e) {\n    var entryV = mappedEntries[e.v];\n    var entryW = mappedEntries[e.w];\n    if (!_.isUndefined(entryV) && !_.isUndefined(entryW)) {\n      entryW.indegree++;\n      entryV.out.push(mappedEntries[e.w]);\n    }\n  });\n\n  var sourceSet = _.filter(mappedEntries, function(entry) {\n    return !entry.indegree;\n  });\n\n  return doResolveConflicts(sourceSet);\n}\n\nfunction doResolveConflicts(sourceSet) {\n  var entries = [];\n\n  function handleIn(vEntry) {\n    return function(uEntry) {\n      if (uEntry.merged) {\n        return;\n      }\n      if (_.isUndefined(uEntry.barycenter) ||\n          _.isUndefined(vEntry.barycenter) ||\n          uEntry.barycenter >= vEntry.barycenter) {\n        mergeEntries(vEntry, uEntry);\n      }\n    };\n  }\n\n  function handleOut(vEntry) {\n    return function(wEntry) {\n      wEntry[\"in\"].push(vEntry);\n      if (--wEntry.indegree === 0) {\n        sourceSet.push(wEntry);\n      }\n    };\n  }\n\n  while (sourceSet.length) {\n    var entry = sourceSet.pop();\n    entries.push(entry);\n    _.forEach(entry[\"in\"].reverse(), handleIn(entry));\n    _.forEach(entry.out, handleOut(entry));\n  }\n\n  return _.map(_.filter(entries, function(entry) { return !entry.merged; }),\n    function(entry) {\n      return _.pick(entry, [\"vs\", \"i\", \"barycenter\", \"weight\"]);\n    });\n\n}\n\nfunction mergeEntries(target, source) {\n  var sum = 0;\n  var weight = 0;\n\n  if (target.weight) {\n    sum += target.barycenter * target.weight;\n    weight += target.weight;\n  }\n\n  if (source.weight) {\n    sum += source.barycenter * source.weight;\n    weight += source.weight;\n  }\n\n  target.vs = source.vs.concat(target.vs);\n  target.barycenter = sum / weight;\n  target.weight = weight;\n  target.i = Math.min(source.i, target.i);\n  source.merged = true;\n}\n","var _ = require(\"../lodash\");\nvar util = require(\"../util\");\n\nmodule.exports = sort;\n\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function(entry) {\n    return _.has(entry, \"barycenter\");\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function(entry) { return -entry.i; }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n\n  sortable.sort(compareWithBias(!!biasRight));\n\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n\n  var result = { vs: _.flatten(vs, true) };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\n\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\n\nfunction compareWithBias(bias) {\n  return function(entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}\n","var _ = require(\"../lodash\");\nvar barycenter = require(\"./barycenter\");\nvar resolveConflicts = require(\"./resolve-conflicts\");\nvar sort = require(\"./sort\");\n\nmodule.exports = sortSubgraph;\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight: undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function(w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function(entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, \"barycenter\")) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br], true);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, \"barycenter\")) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight +\n                           blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function(entry) {\n    entry.vs = _.flatten(entry.vs.map(function(v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }), true);\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight +\n                         other.barycenter * other.weight) /\n                        (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\n\nmodule.exports = buildLayerGraph;\n\n/*\n * Constructs a graph that can be used to sort a layer of nodes. The graph will\n * contain all base and subgraph nodes from the request layer in their original\n * hierarchy and any edges that are incident on these nodes and are of the type\n * requested by the \"relationship\" parameter.\n *\n * Nodes from the requested rank that do not have parents are assigned a root\n * node in the output graph, which is set in the root graph attribute. This\n * makes it easy to walk the hierarchy of movable nodes during ordering.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG\n *    2. Base nodes in the input graph have a rank attribute\n *    3. Subgraph nodes in the input graph has minRank and maxRank attributes\n *    4. Edges have an assigned weight\n *\n * Post-conditions:\n *\n *    1. Output graph has all nodes in the movable rank with preserved\n *       hierarchy.\n *    2. Root nodes in the movable layer are made children of the node\n *       indicated by the root attribute of the graph.\n *    3. Non-movable nodes incident on movable nodes, selected by the\n *       relationship parameter, are included in the graph (without hierarchy).\n *    4. Edges incident on movable nodes, selected by the relationship\n *       parameter, are added to the output graph.\n *    5. The weights for copied edges are aggregated as need, since the output\n *       graph is not a multi-graph.\n */\nfunction buildLayerGraph(g, rank, relationship) {\n  var root = createRootNode(g),\n    result = new Graph({ compound: true }).setGraph({ root: root })\n      .setDefaultNodeLabel(function(v) { return g.node(v); });\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v),\n      parent = g.parent(v);\n\n    if (node.rank === rank || node.minRank <= rank && rank <= node.maxRank) {\n      result.setNode(v);\n      result.setParent(v, parent || root);\n\n      // This assumes we have only short edges!\n      _.forEach(g[relationship](v), function(e) {\n        var u = e.v === v ? e.w : e.v,\n          edge = result.edge(u, v),\n          weight = !_.isUndefined(edge) ? edge.weight : 0;\n        result.setEdge(u, v, { weight: g.edge(e).weight + weight });\n      });\n\n      if (_.has(node, \"minRank\")) {\n        result.setNode(v, {\n          borderLeft: node.borderLeft[rank],\n          borderRight: node.borderRight[rank]\n        });\n      }\n    }\n  });\n\n  return result;\n}\n\nfunction createRootNode(g) {\n  var v;\n  while (g.hasNode((v = _.uniqueId(\"_root\"))));\n  return v;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = addSubgraphConstraints;\n\nfunction addSubgraphConstraints(g, cg, vs) {\n  var prev = {},\n    rootPrev;\n\n  _.forEach(vs, function(v) {\n    var child = g.parent(v),\n      parent,\n      prevChild;\n    while (child) {\n      parent = g.parent(child);\n      if (parent) {\n        prevChild = prev[parent];\n        prev[parent] = child;\n      } else {\n        prevChild = rootPrev;\n        rootPrev = child;\n      }\n      if (prevChild && prevChild !== child) {\n        cg.setEdge(prevChild, child);\n        return;\n      }\n      child = parent;\n    }\n  });\n\n  /*\n  function dfs(v) {\n    var children = v ? g.children(v) : g.children();\n    if (children.length) {\n      var min = Number.POSITIVE_INFINITY,\n          subgraphs = [];\n      _.each(children, function(child) {\n        var childMin = dfs(child);\n        if (g.children(child).length) {\n          subgraphs.push({ v: child, order: childMin });\n        }\n        min = Math.min(min, childMin);\n      });\n      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n        cg.setEdge(prev.v, curr.v);\n        return curr;\n      });\n      return min;\n    }\n    return g.node(v).order;\n  }\n  dfs(undefined);\n  */\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar initOrder = require(\"./init-order\");\nvar crossCount = require(\"./cross-count\");\nvar sortSubgraph = require(\"./sort-subgraph\");\nvar buildLayerGraph = require(\"./build-layer-graph\");\nvar addSubgraphConstraints = require(\"./add-subgraph-constraints\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\nmodule.exports = order;\n\n/*\n * Applies heuristics to minimize edge crossings in the graph and sets the best\n * order solution as an order attribute on each node.\n *\n * Pre-conditions:\n *\n *    1. Graph must be DAG\n *    2. Graph nodes must be objects with a \"rank\" attribute\n *    3. Graph edges must have the \"weight\" attribute\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have an \"order\" attribute based on the results of the\n *       algorithm.\n */\nfunction order(g) {\n  var maxRank = util.maxRank(g),\n    downLayerGraphs = buildLayerGraphs(g, _.range(1, maxRank + 1), \"inEdges\"),\n    upLayerGraphs = buildLayerGraphs(g, _.range(maxRank - 1, -1, -1), \"outEdges\");\n\n  var layering = initOrder(g);\n  assignOrder(g, layering);\n\n  var bestCC = Number.POSITIVE_INFINITY,\n    best;\n\n  for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {\n    sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);\n\n    layering = util.buildLayerMatrix(g);\n    var cc = crossCount(g, layering);\n    if (cc < bestCC) {\n      lastBest = 0;\n      best = _.cloneDeep(layering);\n      bestCC = cc;\n    }\n  }\n\n  assignOrder(g, best);\n}\n\nfunction buildLayerGraphs(g, ranks, relationship) {\n  return _.map(ranks, function(rank) {\n    return buildLayerGraph(g, rank, relationship);\n  });\n}\n\nfunction sweepLayerGraphs(layerGraphs, biasRight) {\n  var cg = new Graph();\n  _.forEach(layerGraphs, function(lg) {\n    var root = lg.graph().root;\n    var sorted = sortSubgraph(lg, root, cg, biasRight);\n    _.forEach(sorted.vs, function(v, i) {\n      lg.node(v).order = i;\n    });\n    addSubgraphConstraints(lg, cg, sorted.vs);\n  });\n}\n\nfunction assignOrder(g, layering) {\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, i) {\n      g.node(v).order = i;\n    });\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\n/*\n * This module provides coordinate assignment based on Brandes and Köpf, \"Fast\n * and Simple Horizontal Coordinate Assignment.\"\n */\n\nmodule.exports = {\n  positionX: positionX,\n  findType1Conflicts: findType1Conflicts,\n  findType2Conflicts: findType2Conflicts,\n  addConflict: addConflict,\n  hasConflict: hasConflict,\n  verticalAlignment: verticalAlignment,\n  horizontalCompaction: horizontalCompaction,\n  alignCoordinates: alignCoordinates,\n  findSmallestWidthAlignment: findSmallestWidthAlignment,\n  balance: balance\n};\n\n/*\n * Marks all edges in the graph with a type-1 conflict with the \"type1Conflict\"\n * property. A type-1 conflict is one where a non-inner segment crosses an\n * inner segment. An inner segment is an edge with both incident nodes marked\n * with the \"dummy\" property.\n *\n * This algorithm scans layer by layer, starting with the second, for type-1\n * conflicts between the current layer and the previous layer. For each layer\n * it scans the nodes from left to right until it reaches one that is incident\n * on an inner segment. It then scans predecessors to determine if they have\n * edges that cross that inner segment. At the end a final scan is done for all\n * nodes on the current rank to see if they cross the last visited inner\n * segment.\n *\n * This algorithm (safely) assumes that a dummy node will only be incident on a\n * single node in the layers being scanned.\n */\nfunction findType1Conflicts(g, layering) {\n  var conflicts = {};\n\n  function visitLayer(prevLayer, layer) {\n    var\n      // last visited node in the previous layer that is incident on an inner\n      // segment.\n      k0 = 0,\n      // Tracks the last node in this layer scanned for crossings with a type-1\n      // segment.\n      scanPos = 0,\n      prevLayerLength = prevLayer.length,\n      lastNode = _.last(layer);\n\n    _.forEach(layer, function(v, i) {\n      var w = findOtherInnerSegmentNode(g, v),\n        k1 = w ? g.node(w).order : prevLayerLength;\n\n      if (w || v === lastNode) {\n        _.forEach(layer.slice(scanPos, i +1), function(scanNode) {\n          _.forEach(g.predecessors(scanNode), function(u) {\n            var uLabel = g.node(u),\n              uPos = uLabel.order;\n            if ((uPos < k0 || k1 < uPos) &&\n                !(uLabel.dummy && g.node(scanNode).dummy)) {\n              addConflict(conflicts, u, scanNode);\n            }\n          });\n        });\n        scanPos = i + 1;\n        k0 = k1;\n      }\n    });\n\n    return layer;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findType2Conflicts(g, layering) {\n  var conflicts = {};\n\n  function scan(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {\n    var v;\n    _.forEach(_.range(southPos, southEnd), function(i) {\n      v = south[i];\n      if (g.node(v).dummy) {\n        _.forEach(g.predecessors(v), function(u) {\n          var uNode = g.node(u);\n          if (uNode.dummy &&\n              (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {\n            addConflict(conflicts, u, v);\n          }\n        });\n      }\n    });\n  }\n\n\n  function visitLayer(north, south) {\n    var prevNorthPos = -1,\n      nextNorthPos,\n      southPos = 0;\n\n    _.forEach(south, function(v, southLookahead) {\n      if (g.node(v).dummy === \"border\") {\n        var predecessors = g.predecessors(v);\n        if (predecessors.length) {\n          nextNorthPos = g.node(predecessors[0]).order;\n          scan(south, southPos, southLookahead, prevNorthPos, nextNorthPos);\n          southPos = southLookahead;\n          prevNorthPos = nextNorthPos;\n        }\n      }\n      scan(south, southPos, south.length, nextNorthPos, north.length);\n    });\n\n    return south;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findOtherInnerSegmentNode(g, v) {\n  if (g.node(v).dummy) {\n    return _.find(g.predecessors(v), function(u) {\n      return g.node(u).dummy;\n    });\n  }\n}\n\nfunction addConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n\n  var conflictsV = conflicts[v];\n  if (!conflictsV) {\n    conflicts[v] = conflictsV = {};\n  }\n  conflictsV[w] = true;\n}\n\nfunction hasConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return _.has(conflicts[v], w);\n}\n\n/*\n * Try to align nodes into vertical \"blocks\" where possible. This algorithm\n * attempts to align a node with one of its median neighbors. If the edge\n * connecting a neighbor is a type-1 conflict then we ignore that possibility.\n * If a previous node has already formed a block with a node after the node\n * we're trying to form a block with, we also ignore that possibility - our\n * blocks would be split in that scenario.\n */\nfunction verticalAlignment(g, layering, conflicts, neighborFn) {\n  var root = {},\n    align = {},\n    pos = {};\n\n  // We cache the position here based on the layering because the graph and\n  // layering may be out of sync. The layering matrix is manipulated to\n  // generate different extreme alignments.\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, order) {\n      root[v] = v;\n      align[v] = v;\n      pos[v] = order;\n    });\n  });\n\n  _.forEach(layering, function(layer) {\n    var prevIdx = -1;\n    _.forEach(layer, function(v) {\n      var ws = neighborFn(v);\n      if (ws.length) {\n        ws = _.sortBy(ws, function(w) { return pos[w]; });\n        var mp = (ws.length - 1) / 2;\n        for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {\n          var w = ws[i];\n          if (align[v] === v &&\n              prevIdx < pos[w] &&\n              !hasConflict(conflicts, v, w)) {\n            align[w] = v;\n            align[v] = root[v] = root[w];\n            prevIdx = pos[w];\n          }\n        }\n      }\n    });\n  });\n\n  return { root: root, align: align };\n}\n\nfunction horizontalCompaction(g, layering, root, align, reverseSep) {\n  // This portion of the algorithm differs from BK due to a number of problems.\n  // Instead of their algorithm we construct a new block graph and do two\n  // sweeps. The first sweep places blocks with the smallest possible\n  // coordinates. The second sweep removes unused space by moving blocks to the\n  // greatest coordinates without violating separation.\n  var xs = {},\n    blockG = buildBlockGraph(g, layering, root, reverseSep),\n    borderType = reverseSep ? \"borderLeft\" : \"borderRight\";\n\n  function iterate(setXsFunc, nextNodesFunc) {\n    var stack = blockG.nodes();\n    var elem = stack.pop();\n    var visited = {};\n    while (elem) {\n      if (visited[elem]) {\n        setXsFunc(elem);\n      } else {\n        visited[elem] = true;\n        stack.push(elem);\n        stack = stack.concat(nextNodesFunc(elem));\n      }\n\n      elem = stack.pop();\n    }\n  }\n\n  // First pass, assign smallest coordinates\n  function pass1(elem) {\n    xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {\n      return Math.max(acc, xs[e.v] + blockG.edge(e));\n    }, 0);\n  }\n\n  // Second pass, assign greatest coordinates\n  function pass2(elem) {\n    var min = blockG.outEdges(elem).reduce(function(acc, e) {\n      return Math.min(acc, xs[e.w] - blockG.edge(e));\n    }, Number.POSITIVE_INFINITY);\n\n    var node = g.node(elem);\n    if (min !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {\n      xs[elem] = Math.max(xs[elem], min);\n    }\n  }\n\n  iterate(pass1, blockG.predecessors.bind(blockG));\n  iterate(pass2, blockG.successors.bind(blockG));\n\n  // Assign x coordinates to all nodes\n  _.forEach(align, function(v) {\n    xs[v] = xs[root[v]];\n  });\n\n  return xs;\n}\n\n\nfunction buildBlockGraph(g, layering, root, reverseSep) {\n  var blockGraph = new Graph(),\n    graphLabel = g.graph(),\n    sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);\n\n  _.forEach(layering, function(layer) {\n    var u;\n    _.forEach(layer, function(v) {\n      var vRoot = root[v];\n      blockGraph.setNode(vRoot);\n      if (u) {\n        var uRoot = root[u],\n          prevMax = blockGraph.edge(uRoot, vRoot);\n        blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));\n      }\n      u = v;\n    });\n  });\n\n  return blockGraph;\n}\n\n/*\n * Returns the alignment that has the smallest width of the given alignments.\n */\nfunction findSmallestWidthAlignment(g, xss) {\n  return _.minBy(_.values(xss), function (xs) {\n    var max = Number.NEGATIVE_INFINITY;\n    var min = Number.POSITIVE_INFINITY;\n\n    _.forIn(xs, function (x, v) {\n      var halfWidth = width(g, v) / 2;\n\n      max = Math.max(x + halfWidth, max);\n      min = Math.min(x - halfWidth, min);\n    });\n\n    return max - min;\n  });\n}\n\n/*\n * Align the coordinates of each of the layout alignments such that\n * left-biased alignments have their minimum coordinate at the same point as\n * the minimum coordinate of the smallest width alignment and right-biased\n * alignments have their maximum coordinate at the same point as the maximum\n * coordinate of the smallest width alignment.\n */\nfunction alignCoordinates(xss, alignTo) {\n  var alignToVals = _.values(alignTo),\n    alignToMin = _.min(alignToVals),\n    alignToMax = _.max(alignToVals);\n\n  _.forEach([\"u\", \"d\"], function(vert) {\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      var alignment = vert + horiz,\n        xs = xss[alignment],\n        delta;\n      if (xs === alignTo) return;\n\n      var xsVals = _.values(xs);\n      delta = horiz === \"l\" ? alignToMin - _.min(xsVals) : alignToMax - _.max(xsVals);\n\n      if (delta) {\n        xss[alignment] = _.mapValues(xs, function(x) { return x + delta; });\n      }\n    });\n  });\n}\n\nfunction balance(xss, align) {\n  return _.mapValues(xss.ul, function(ignore, v) {\n    if (align) {\n      return xss[align.toLowerCase()][v];\n    } else {\n      var xs = _.sortBy(_.map(xss, v));\n      return (xs[1] + xs[2]) / 2;\n    }\n  });\n}\n\nfunction positionX(g) {\n  var layering = util.buildLayerMatrix(g);\n  var conflicts = _.merge(\n    findType1Conflicts(g, layering),\n    findType2Conflicts(g, layering));\n\n  var xss = {};\n  var adjustedLayering;\n  _.forEach([\"u\", \"d\"], function(vert) {\n    adjustedLayering = vert === \"u\" ? layering : _.values(layering).reverse();\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      if (horiz === \"r\") {\n        adjustedLayering = _.map(adjustedLayering, function(inner) {\n          return _.values(inner).reverse();\n        });\n      }\n\n      var neighborFn = (vert === \"u\" ? g.predecessors : g.successors).bind(g);\n      var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);\n      var xs = horizontalCompaction(g, adjustedLayering,\n        align.root, align.align, horiz === \"r\");\n      if (horiz === \"r\") {\n        xs = _.mapValues(xs, function(x) { return -x; });\n      }\n      xss[vert + horiz] = xs;\n    });\n  });\n\n  var smallestWidth = findSmallestWidthAlignment(g, xss);\n  alignCoordinates(xss, smallestWidth);\n  return balance(xss, g.graph().align);\n}\n\nfunction sep(nodeSep, edgeSep, reverseSep) {\n  return function(g, v, w) {\n    var vLabel = g.node(v);\n    var wLabel = g.node(w);\n    var sum = 0;\n    var delta;\n\n    sum += vLabel.width / 2;\n    if (_.has(vLabel, \"labelpos\")) {\n      switch (vLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = -vLabel.width / 2; break;\n      case \"r\": delta = vLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    sum += (vLabel.dummy ? edgeSep : nodeSep) / 2;\n    sum += (wLabel.dummy ? edgeSep : nodeSep) / 2;\n\n    sum += wLabel.width / 2;\n    if (_.has(wLabel, \"labelpos\")) {\n      switch (wLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = wLabel.width / 2; break;\n      case \"r\": delta = -wLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    return sum;\n  };\n}\n\nfunction width(g, v) {\n  return g.node(v).width;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forEach(positionX(g), function(x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function(layer) {\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n    _.forEach(layer, function(v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar acyclic = require(\"./acyclic\");\nvar normalize = require(\"./normalize\");\nvar rank = require(\"./rank\");\nvar normalizeRanks = require(\"./util\").normalizeRanks;\nvar parentDummyChains = require(\"./parent-dummy-chains\");\nvar removeEmptyRanks = require(\"./util\").removeEmptyRanks;\nvar nestingGraph = require(\"./nesting-graph\");\nvar addBorderSegments = require(\"./add-border-segments\");\nvar coordinateSystem = require(\"./coordinate-system\");\nvar order = require(\"./order\");\nvar position = require(\"./position\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = layout;\n\nfunction layout(g, opts) {\n  var time = opts && opts.debugTiming ? util.time : util.notime;\n  time(\"layout\", function() {\n    var layoutGraph = \n      time(\"  buildLayoutGraph\", function() { return buildLayoutGraph(g); });\n    time(\"  runLayout\",        function() { runLayout(layoutGraph, time); });\n    time(\"  updateInputGraph\", function() { updateInputGraph(g, layoutGraph); });\n  });\n}\n\nfunction runLayout(g, time) {\n  time(\"    makeSpaceForEdgeLabels\", function() { makeSpaceForEdgeLabels(g); });\n  time(\"    removeSelfEdges\",        function() { removeSelfEdges(g); });\n  time(\"    acyclic\",                function() { acyclic.run(g); });\n  time(\"    nestingGraph.run\",       function() { nestingGraph.run(g); });\n  time(\"    rank\",                   function() { rank(util.asNonCompoundGraph(g)); });\n  time(\"    injectEdgeLabelProxies\", function() { injectEdgeLabelProxies(g); });\n  time(\"    removeEmptyRanks\",       function() { removeEmptyRanks(g); });\n  time(\"    nestingGraph.cleanup\",   function() { nestingGraph.cleanup(g); });\n  time(\"    normalizeRanks\",         function() { normalizeRanks(g); });\n  time(\"    assignRankMinMax\",       function() { assignRankMinMax(g); });\n  time(\"    removeEdgeLabelProxies\", function() { removeEdgeLabelProxies(g); });\n  time(\"    normalize.run\",          function() { normalize.run(g); });\n  time(\"    parentDummyChains\",      function() { parentDummyChains(g); });\n  time(\"    addBorderSegments\",      function() { addBorderSegments(g); });\n  time(\"    order\",                  function() { order(g); });\n  time(\"    insertSelfEdges\",        function() { insertSelfEdges(g); });\n  time(\"    adjustCoordinateSystem\", function() { coordinateSystem.adjust(g); });\n  time(\"    position\",               function() { position(g); });\n  time(\"    positionSelfEdges\",      function() { positionSelfEdges(g); });\n  time(\"    removeBorderNodes\",      function() { removeBorderNodes(g); });\n  time(\"    normalize.undo\",         function() { normalize.undo(g); });\n  time(\"    fixupEdgeLabelCoords\",   function() { fixupEdgeLabelCoords(g); });\n  time(\"    undoCoordinateSystem\",   function() { coordinateSystem.undo(g); });\n  time(\"    translateGraph\",         function() { translateGraph(g); });\n  time(\"    assignNodeIntersects\",   function() { assignNodeIntersects(g); });\n  time(\"    reversePoints\",          function() { reversePointsForReversedEdges(g); });\n  time(\"    acyclic.undo\",           function() { acyclic.undo(g); });\n}\n\n/*\n * Copies final layout information from the layout graph back to the input\n * graph. This process only copies whitelisted attributes from the layout graph\n * to the input graph, so it serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction updateInputGraph(inputGraph, layoutGraph) {\n  _.forEach(inputGraph.nodes(), function(v) {\n    var inputLabel = inputGraph.node(v);\n    var layoutLabel = layoutGraph.node(v);\n\n    if (inputLabel) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n\n      if (layoutGraph.children(v).length) {\n        inputLabel.width = layoutLabel.width;\n        inputLabel.height = layoutLabel.height;\n      }\n    }\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var inputLabel = inputGraph.edge(e);\n    var layoutLabel = layoutGraph.edge(e);\n\n    inputLabel.points = layoutLabel.points;\n    if (_.has(layoutLabel, \"x\")) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n    }\n  });\n\n  inputGraph.graph().width = layoutGraph.graph().width;\n  inputGraph.graph().height = layoutGraph.graph().height;\n}\n\nvar graphNumAttrs = [\"nodesep\", \"edgesep\", \"ranksep\", \"marginx\", \"marginy\"];\nvar graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: \"tb\" };\nvar graphAttrs = [\"acyclicer\", \"ranker\", \"rankdir\", \"align\"];\nvar nodeNumAttrs = [\"width\", \"height\"];\nvar nodeDefaults = { width: 0, height: 0 };\nvar edgeNumAttrs = [\"minlen\", \"weight\", \"width\", \"height\", \"labeloffset\"];\nvar edgeDefaults = {\n  minlen: 1, weight: 1, width: 0, height: 0,\n  labeloffset: 10, labelpos: \"r\"\n};\nvar edgeAttrs = [\"labelpos\"];\n\n/*\n * Constructs a new graph from the input graph, which can be used for layout.\n * This process copies only whitelisted attributes from the input graph to the\n * layout graph. Thus this function serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction buildLayoutGraph(inputGraph) {\n  var g = new Graph({ multigraph: true, compound: true });\n  var graph = canonicalize(inputGraph.graph());\n\n  g.setGraph(_.merge({},\n    graphDefaults,\n    selectNumberAttrs(graph, graphNumAttrs),\n    _.pick(graph, graphAttrs)));\n\n  _.forEach(inputGraph.nodes(), function(v) {\n    var node = canonicalize(inputGraph.node(v));\n    g.setNode(v, _.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));\n    g.setParent(v, inputGraph.parent(v));\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var edge = canonicalize(inputGraph.edge(e));\n    g.setEdge(e, _.merge({},\n      edgeDefaults,\n      selectNumberAttrs(edge, edgeNumAttrs),\n      _.pick(edge, edgeAttrs)));\n  });\n\n  return g;\n}\n\n/*\n * This idea comes from the Gansner paper: to account for edge labels in our\n * layout we split each rank in half by doubling minlen and halving ranksep.\n * Then we can place labels at these mid-points between nodes.\n *\n * We also add some minimal padding to the width to push the label for the edge\n * away from the edge itself a bit.\n */\nfunction makeSpaceForEdgeLabels(g) {\n  var graph = g.graph();\n  graph.ranksep /= 2;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    edge.minlen *= 2;\n    if (edge.labelpos.toLowerCase() !== \"c\") {\n      if (graph.rankdir === \"TB\" || graph.rankdir === \"BT\") {\n        edge.width += edge.labeloffset;\n      } else {\n        edge.height += edge.labeloffset;\n      }\n    }\n  });\n}\n\n/*\n * Creates temporary dummy nodes that capture the rank in which each edge's\n * label is going to, if it has one of non-zero width and height. We do this\n * so that we can safely remove empty ranks while preserving balance for the\n * label's position.\n */\nfunction injectEdgeLabelProxies(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.width && edge.height) {\n      var v = g.node(e.v);\n      var w = g.node(e.w);\n      var label = { rank: (w.rank - v.rank) / 2 + v.rank, e: e };\n      util.addDummyNode(g, \"edge-proxy\", label, \"_ep\");\n    }\n  });\n}\n\nfunction assignRankMinMax(g) {\n  var maxRank = 0;\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.borderTop) {\n      node.minRank = g.node(node.borderTop).rank;\n      node.maxRank = g.node(node.borderBottom).rank;\n      maxRank = _.max(maxRank, node.maxRank);\n    }\n  });\n  g.graph().maxRank = maxRank;\n}\n\nfunction removeEdgeLabelProxies(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"edge-proxy\") {\n      g.edge(node.e).labelRank = node.rank;\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction translateGraph(g) {\n  var minX = Number.POSITIVE_INFINITY;\n  var maxX = 0;\n  var minY = Number.POSITIVE_INFINITY;\n  var maxY = 0;\n  var graphLabel = g.graph();\n  var marginX = graphLabel.marginx || 0;\n  var marginY = graphLabel.marginy || 0;\n\n  function getExtremes(attrs) {\n    var x = attrs.x;\n    var y = attrs.y;\n    var w = attrs.width;\n    var h = attrs.height;\n    minX = Math.min(minX, x - w / 2);\n    maxX = Math.max(maxX, x + w / 2);\n    minY = Math.min(minY, y - h / 2);\n    maxY = Math.max(maxY, y + h / 2);\n  }\n\n  _.forEach(g.nodes(), function(v) { getExtremes(g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      getExtremes(edge);\n    }\n  });\n\n  minX -= marginX;\n  minY -= marginY;\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    node.x -= minX;\n    node.y -= minY;\n  });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, function(p) {\n      p.x -= minX;\n      p.y -= minY;\n    });\n    if (_.has(edge, \"x\")) { edge.x -= minX; }\n    if (_.has(edge, \"y\")) { edge.y -= minY; }\n  });\n\n  graphLabel.width = maxX - minX + marginX;\n  graphLabel.height = maxY - minY + marginY;\n}\n\nfunction assignNodeIntersects(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    var nodeV = g.node(e.v);\n    var nodeW = g.node(e.w);\n    var p1, p2;\n    if (!edge.points) {\n      edge.points = [];\n      p1 = nodeW;\n      p2 = nodeV;\n    } else {\n      p1 = edge.points[0];\n      p2 = edge.points[edge.points.length - 1];\n    }\n    edge.points.unshift(util.intersectRect(nodeV, p1));\n    edge.points.push(util.intersectRect(nodeW, p2));\n  });\n}\n\nfunction fixupEdgeLabelCoords(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      if (edge.labelpos === \"l\" || edge.labelpos === \"r\") {\n        edge.width -= edge.labeloffset;\n      }\n      switch (edge.labelpos) {\n      case \"l\": edge.x -= edge.width / 2 + edge.labeloffset; break;\n      case \"r\": edge.x += edge.width / 2 + edge.labeloffset; break;\n      }\n    }\n  });\n}\n\nfunction reversePointsForReversedEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.reversed) {\n      edge.points.reverse();\n    }\n  });\n}\n\nfunction removeBorderNodes(g) {\n  _.forEach(g.nodes(), function(v) {\n    if (g.children(v).length) {\n      var node = g.node(v);\n      var t = g.node(node.borderTop);\n      var b = g.node(node.borderBottom);\n      var l = g.node(_.last(node.borderLeft));\n      var r = g.node(_.last(node.borderRight));\n\n      node.width = Math.abs(r.x - l.x);\n      node.height = Math.abs(b.y - t.y);\n      node.x = l.x + node.width / 2;\n      node.y = t.y + node.height / 2;\n    }\n  });\n\n  _.forEach(g.nodes(), function(v) {\n    if (g.node(v).dummy === \"border\") {\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction removeSelfEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    if (e.v === e.w) {\n      var node = g.node(e.v);\n      if (!node.selfEdges) {\n        node.selfEdges = [];\n      }\n      node.selfEdges.push({ e: e, label: g.edge(e) });\n      g.removeEdge(e);\n    }\n  });\n}\n\nfunction insertSelfEdges(g) {\n  var layers = util.buildLayerMatrix(g);\n  _.forEach(layers, function(layer) {\n    var orderShift = 0;\n    _.forEach(layer, function(v, i) {\n      var node = g.node(v);\n      node.order = i + orderShift;\n      _.forEach(node.selfEdges, function(selfEdge) {\n        util.addDummyNode(g, \"selfedge\", {\n          width: selfEdge.label.width,\n          height: selfEdge.label.height,\n          rank: node.rank,\n          order: i + (++orderShift),\n          e: selfEdge.e,\n          label: selfEdge.label\n        }, \"_se\");\n      });\n      delete node.selfEdges;\n    });\n  });\n}\n\nfunction positionSelfEdges(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"selfedge\") {\n      var selfNode = g.node(node.e.v);\n      var x = selfNode.x + selfNode.width / 2;\n      var y = selfNode.y;\n      var dx = node.x - x;\n      var dy = selfNode.height / 2;\n      g.setEdge(node.e, node.label);\n      g.removeNode(v);\n      node.label.points = [\n        { x: x + 2 * dx / 3, y: y - dy },\n        { x: x + 5 * dx / 6, y: y - dy },\n        { x: x +     dx    , y: y },\n        { x: x + 5 * dx / 6, y: y + dy },\n        { x: x + 2 * dx / 3, y: y + dy }\n      ];\n      node.label.x = node.x;\n      node.label.y = node.y;\n    }\n  });\n}\n\nfunction selectNumberAttrs(obj, attrs) {\n  return _.mapValues(_.pick(obj, attrs), Number);\n}\n\nfunction canonicalize(attrs) {\n  var newAttrs = {};\n  _.forEach(attrs, function(v, k) {\n    newAttrs[k.toLowerCase()] = v;\n  });\n  return newAttrs;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  debugOrdering: debugOrdering\n};\n\n/* istanbul ignore next */\nfunction debugOrdering(g) {\n  var layerMatrix = util.buildLayerMatrix(g);\n\n  var h = new Graph({ compound: true, multigraph: true }).setGraph({});\n\n  _.forEach(g.nodes(), function(v) {\n    h.setNode(v, { label: v });\n    h.setParent(v, \"layer\" + g.node(v).rank);\n  });\n\n  _.forEach(g.edges(), function(e) {\n    h.setEdge(e.v, e.w, {}, e.name);\n  });\n\n  _.forEach(layerMatrix, function(layer, i) {\n    var layerV = \"layer\" + i;\n    h.setNode(layerV, { rank: \"same\" });\n    _.reduce(layer, function(u, v) {\n      h.setEdge(u, v, { style: \"invis\" });\n      return v;\n    });\n  });\n\n  return h;\n}\n","module.exports = \"0.8.5\";\n","/*\nCopyright (c) 2012-2014 Chris Pettitt\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nmodule.exports = {\n  graphlib: require(\"./lib/graphlib\"),\n\n  layout: require(\"./lib/layout\"),\n  debug: require(\"./lib/debug\"),\n  util: {\n    time: require(\"./lib/util\").time,\n    notime: require(\"./lib/util\").notime\n  },\n  version: require(\"./lib/version\")\n};\n","import React from 'react'\nimport Typography from '../../utils/typography/Typography'\nimport { HelpPopover } from '../HelpPopover'\n\nexport const UndefinedNodeLabel = () => {\n  return (\n    <>\n      <Typography variant=\"smallText1\" className=\"description\">\n        Undefined\n      </Typography>\n\n      <HelpPopover\n        placement=\"top\"\n        markdownText=\"Provenance tracks the relationship \n          between data, code and analytical results.\"\n        helpUrl=\"https://help.synapse.org/docs/Provenance.1972470373.html\"\n      />\n    </>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { Reference } from '../../utils/synapseTypes'\nimport IconSvg from '../IconSvg'\n\n/**\n * This node type is used if the user cannot access the entity for some reason\n */\nexport const EntityPlaceholderNodeLabel = (data: Reference) => {\n  const targetVersionNumberString = data.targetVersionNumber\n    ? `.${data.targetVersionNumber}`\n    : ''\n  const entityVersionString = `${data.targetId}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <IconSvg\n            options={{\n              icon: 'fileOutlined',\n            }}\n          />\n        </div>\n        <span>{entityVersionString}</span>\n      </>\n    ),\n    [entityVersionString],\n  )\n}\n","import React from 'react'\nimport {\n  Node,\n  Position,\n  ConnectionLineType,\n  Edge,\n  MarkerType,\n} from 'react-flow-renderer'\nimport { ActivityNodeLabel } from './ActivityNodeLabel'\nimport { EntityNodeLabel } from './EntityNodeLabel'\nimport {\n  ExpandGraphNodeDataProps,\n  ExpandGraphNodeLabel,\n} from './ExpandGraphNodeLabel'\nimport { ExternalGraphNodeLabel } from './ExternalGraphNodeLabel'\nimport dagre from 'dagre'\nimport { differenceWith, isEqual } from 'lodash-es'\nimport { UndefinedNodeLabel } from './UndefinedNodeLabel'\nimport { EntityHeader, Reference } from '../../utils/synapseTypes'\nimport {\n  Activity,\n  UsedURL,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport { EntityPlaceholderNodeLabel } from './EntityPlaceholderNodeLabel'\n\nexport enum NodeType {\n  ENTITY = 'EntityNode',\n  ENTITY_PLACEHOLDER = 'EntityPlaceholderNode',\n  EXTERNAL = 'ExternalNode',\n  ACTIVITY = 'ActivityNode',\n  EXPAND = 'ExpandNode',\n  UNDEFINED = 'UndefinedNode',\n}\n\ntype ProvenanceNodeLabelProps =\n  | UsedURL\n  | Activity\n  | ExpandGraphNodeDataProps\n  | EntityHeader\n  | Reference\n\nexport type ProvenanceNodeProps = {\n  type: NodeType\n  data: ProvenanceNodeLabelProps\n}\n\nexport type ProvenanceNodeData = {\n  label: JSX.Element\n  props: ProvenanceNodeLabelProps\n  type: NodeType\n}\n\nexport const getProvenanceNode = (props: ProvenanceNodeProps): Node => {\n  const { type, data } = props\n  let nodeLabel: JSX.Element\n  switch (type) {\n    case NodeType.ENTITY:\n      nodeLabel = <EntityNodeLabel {...(data as EntityHeader)} />\n      break\n    case NodeType.ENTITY_PLACEHOLDER:\n      nodeLabel = <EntityPlaceholderNodeLabel {...(data as Reference)} />\n      break\n    case NodeType.EXTERNAL:\n      nodeLabel = <ExternalGraphNodeLabel {...(data as UsedURL)} />\n      break\n    case NodeType.ACTIVITY:\n      nodeLabel = <ActivityNodeLabel {...(data as Activity)} />\n      break\n    case NodeType.EXPAND:\n      nodeLabel = (\n        <ExpandGraphNodeLabel {...(data as ExpandGraphNodeDataProps)} />\n      )\n      break\n    case NodeType.UNDEFINED:\n      nodeLabel = <UndefinedNodeLabel />\n      break\n    default:\n      nodeLabel = <p>Unrecognized node type: {type}</p>\n      break\n  }\n  const nodeData: ProvenanceNodeData = {\n    label: nodeLabel,\n    props: data,\n    type: type,\n  }\n  return {\n    id: getNodeId(props),\n    position: { x: 100, y: 100 }, // hard coded, let graph layout library figure this out\n    data: nodeData,\n    connectable: false,\n    draggable: false,\n    // selectable: false, // like to make unselectable, but node contents become non-interactive\n    className: `${type}`,\n  }\n}\n\nexport const getProvenanceEdge = (\n  node1Props: ProvenanceNodeProps,\n  node2Props: ProvenanceNodeProps,\n): Edge => {\n  const node1Id = getNodeId(node1Props)\n  const node2Id = getNodeId(node2Props)\n  return {\n    id: `${node1Id}-${node2Id}`,\n    source: node1Id,\n    target: node2Id,\n    animated: true,\n    type: ConnectionLineType.SimpleBezier,\n    markerEnd: {\n      type: MarkerType.ArrowClosed,\n    },\n  }\n}\n\nexport const getNodeId = (props: ProvenanceNodeProps) => {\n  const { type, data } = props\n  switch (type) {\n    case NodeType.ENTITY:\n      return `${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n    case NodeType.ENTITY_PLACEHOLDER:\n      return `${(data as Reference).targetId}.${\n        (data as Reference).targetVersionNumber ?? 'latest'\n      }`\n    case NodeType.EXTERNAL:\n      return `${(data as UsedURL).url}`\n    case NodeType.ACTIVITY:\n      return `${(data as Activity).id}`\n    case NodeType.EXPAND:\n      return `expand.node.${\n        (data as ExpandGraphNodeDataProps).entityHeader.id\n      }.${\n        (data as ExpandGraphNodeDataProps).entityHeader.versionNumber ??\n        'latest'\n      }`\n    case NodeType.UNDEFINED:\n      return `undefined.dummy.node.${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n  }\n}\n\n// layout\nconst dagreGraph = new dagre.graphlib.Graph()\ndagreGraph.setDefaultEdgeLabel(() => ({}))\n\nconst getNodeHeight = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 100\n}\nconst getNodeWidth = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 172\n}\n\nexport const getLayoutedElements = (\n  nodes: Node[],\n  edges: Edge[],\n  direction: string,\n) => {\n  const isHorizontal = direction === 'LR'\n  dagreGraph.setGraph({ rankdir: direction })\n\n  nodes.forEach(node => {\n    dagreGraph.setNode(node.id, {\n      width: getNodeWidth(node),\n      height: getNodeHeight(node),\n    })\n  })\n\n  edges.forEach(edge => {\n    dagreGraph.setEdge(edge.source, edge.target)\n  })\n\n  dagre.layout(dagreGraph)\n\n  nodes.forEach(node => {\n    const nodeWithPosition = dagreGraph.node(node.id)\n    node.targetPosition = isHorizontal ? Position.Left : Position.Top\n    node.sourcePosition = isHorizontal ? Position.Right : Position.Bottom\n\n    // We are shifting the dagre node position (anchor=center center) to the top left\n    // so it matches the React Flow node anchor point (top left).\n    node.position = {\n      x: nodeWithPosition.x - getNodeWidth(node) / 2,\n      y: nodeWithPosition.y - getNodeHeight(node) / 2,\n    }\n\n    return node\n  })\n\n  return { nodes, edges }\n}\n\nexport const isArrayEqual = (x: any[], y: any[]) => {\n  return differenceWith(x, y, isEqual).length == 0\n}\n","import { Reference } from '../ReferenceList'\n\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/Used.html\n */\nexport interface Used {\n  wasExecuted: boolean // The enclosed entity was used and also executed in the Activity\n  concreteType: USED_URL_CONCRETE_TYPE | USED_ENTITY_CONCRETE_TYPE\n}\n\nexport const USED_URL_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.provenance.UsedURL'\nexport type USED_URL_CONCRETE_TYPE = typeof USED_URL_CONCRETE_TYPE_VALUE\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/UsedURL.html\n */\nexport interface UsedURL extends Used {\n  concreteType: USED_URL_CONCRETE_TYPE\n  name: string //\tThe external URL of the file that was used.\n  url: string //\tThe external URL of the file that was used\n}\n\nexport const USED_ENTITY_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.provenance.UsedEntity'\nexport type USED_ENTITY_CONCRETE_TYPE = typeof USED_ENTITY_CONCRETE_TYPE_VALUE\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/UsedEntity.html\n */\nexport interface UsedEntity extends Used {\n  concreteType: USED_ENTITY_CONCRETE_TYPE\n  reference: Reference\n}\n\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/Activity.html\n */\nexport type Activity = {\n  id: string //\tThe unique immutable ID\n  name: string //\tA name for this Activity.\n  description?: string // A description of this Activity.\n  etag: string //\tSynapse employs an Optimistic Concurrency Control (OCC) scheme to handle concurrent updates. Since the E-Tag changes every time an entity is updated it is used to detect when a client's current representation of an object is out-of-date.\n  createdOn: string //\tThe date this object was created.\n  modifiedOn: string //\tThe date this object was last modified.\n  createdBy: string //\tThe user that created this object.\n  modifiedBy: string //\tThe user that last modified this object.\n  used?: (UsedEntity | UsedURL)[] //The entities used by this Activity.\n}\n","import { Edge, Node } from 'react-flow-renderer'\nimport { EntityHeader, Reference } from '../../utils/synapseTypes'\nimport {\n  Activity,\n  UsedURL,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport {\n  getNodeId,\n  getProvenanceEdge,\n  getProvenanceNode,\n  NodeType,\n  ProvenanceNodeProps,\n} from './ProvenanceUtils'\n\n/**\n * Is one of the root Entities given by the user\n */\nexport const isRootEntity = (params: {\n  entityHeader: EntityHeader\n  rootEntityHeaders?: EntityHeader[]\n}) => {\n  const { entityHeader, rootEntityHeaders } = params\n  const foundNode = rootEntityHeaders?.find(header => {\n    return (\n      entityHeader.id == header.id &&\n      entityHeader.versionNumber == header.versionNumber\n    )\n  })\n  return foundNode !== undefined\n}\n\n/**\n * Given the node properties, will return true if this node is already in the nodesCopy array.\n */\nexport const isNodeNotFound = (\n  nodeProps: ProvenanceNodeProps,\n  nodesCopy: Node[],\n) => {\n  const foundNode = nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n  return foundNode === undefined\n}\n\nexport const findEntityNode = (\n  entityHeader: EntityHeader,\n  nodesCopy: Node[],\n) => {\n  const nodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  return nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n}\n\n/**\n * Given the node properties, will return true if this edge is already in the edgesCopy array.\n */\nexport const isEdgeNotFound = (\n  nodeProps1: ProvenanceNodeProps,\n  nodeProps2: ProvenanceNodeProps,\n  edgesCopy: Edge[],\n) => {\n  const foundEdge = edgesCopy.find(edge => {\n    return (\n      edge.source === getNodeId(nodeProps1) &&\n      edge.target === getNodeId(nodeProps2)\n    )\n  })\n  return foundEdge === undefined\n}\n\n/**\n * Given node properties of the new node and existing node, this function creates and adds a new node to\n * nodesCopy, and creates an edge from the new node to the existing node.  Note, this will only create\n * a new node or edge if these items are not found in the input nodesCopy array and edgesCopy array.\n */\nexport const addNodeAndEdge = (params: {\n  newNodeProps: ProvenanceNodeProps\n  existingNodeProps: ProvenanceNodeProps\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { newNodeProps, existingNodeProps, nodesCopy, edgesCopy } = params\n  if (isNodeNotFound(newNodeProps, nodesCopy)) {\n    nodesCopy.push(getProvenanceNode(newNodeProps))\n  }\n  if (isEdgeNotFound(newNodeProps, existingNodeProps, edgesCopy)) {\n    edgesCopy.push(getProvenanceEdge(newNodeProps, existingNodeProps))\n  }\n}\n\nexport const addActivityNode = (params: {\n  activity: Activity\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { activity, entityHeader, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: activityNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExpandNode = (params: {\n  entityHeader: EntityHeader\n  itemCount: number | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, itemCount = 0, nodesCopy, edgesCopy } = params\n  const expandNodeProps = {\n    type: NodeType.EXPAND,\n    data: {\n      itemCount,\n      entityHeader,\n    },\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: expandNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityPlaceholderNode = (params: {\n  ref: Reference\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { ref, activity, nodesCopy, edgesCopy } = params\n  const entityPlaceholderNodeProps = {\n    type: NodeType.ENTITY_PLACEHOLDER,\n    data: ref,\n  }\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  addNodeAndEdge({\n    newNodeProps: entityPlaceholderNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addUndefinedNode = (params: {\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, nodesCopy, edgesCopy } = params\n  const undefinedNodeProps = {\n    type: NodeType.UNDEFINED,\n    data: entityHeader,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: undefinedNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExternalNode = (params: {\n  usedURL: UsedURL\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { usedURL, activity, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const externalNodeProps = {\n    type: NodeType.EXTERNAL,\n    data: usedURL,\n  }\n  addNodeAndEdge({\n    newNodeProps: externalNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityNode = (params: {\n  entityHeader: EntityHeader\n  activity: Activity | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, activity, nodesCopy, edgesCopy } = params\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  if (isNodeNotFound(entityNodeProps, nodesCopy)) {\n    // add the new entity node\n    nodesCopy.push(getProvenanceNode(entityNodeProps))\n    if (activity) {\n      const activityNodeProps = {\n        type: NodeType.ACTIVITY,\n        data: activity,\n      }\n      edgesCopy.push(getProvenanceEdge(entityNodeProps, activityNodeProps))\n    }\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport ReactFlow, {\n  Controls,\n  Node,\n  Edge,\n  useNodesState,\n  useEdgesState,\n  getConnectedEdges,\n  ReactFlowProvider,\n  useReactFlow,\n} from 'react-flow-renderer'\nimport {\n  getLayoutedElements,\n  isArrayEqual,\n  NodeType,\n  ProvenanceNodeData,\n} from './ProvenanceUtils'\nimport {\n  Activity,\n  Used,\n  UsedEntity,\n  UsedURL,\n  USED_ENTITY_CONCRETE_TYPE_VALUE,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport { EntityHeader, ReferenceList } from '../../utils/synapseTypes'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { SynapseClient } from '../../utils'\nimport { ExpandGraphNodeDataProps } from './ExpandGraphNodeLabel'\nimport { useGetEntityHeaders } from '../../utils/hooks/SynapseAPI'\nimport { CircularProgress } from '@material-ui/core'\nimport { displayToast } from '../ToastMessage'\nimport { SynapseErrorBoundary } from '../ErrorBanner'\nimport { useErrorHandler } from 'react-error-boundary'\nimport {\n  addActivityNode,\n  addEntityNode,\n  addEntityPlaceholderNode,\n  addExpandNode,\n  addExternalNode,\n  addUndefinedNode,\n  findEntityNode,\n  isRootEntity,\n} from './ProvenanceGraphUtils'\n\nexport type ProvenanceProps = {\n  // what entity nodes should we start with?\n  entityRefs: ReferenceList\n  containerHeight: string\n  initialNodes?: Node[]\n  initialEdges?: Edge[]\n  onNodesChangedListener?: (nodes: Node[]) => void\n  onEdgesChangedListener?: (edges: Edge[]) => void\n}\n\nconst MAX_ACTIVITY_EXPAND_NODES = 400\nconst DEFAULT_ZOOM = 0.85\n\n/**\n * Renders a Provenance Graph for a set of entities.\n * New Nodes are added to tempNodes, and new Edges are added to tempEdges.\n * On change, these are fed into the dagre js graph library to figure out the node positions,\n * and the output stored in 'nodes' and 'edges'. The 'nodes' and 'edges' arrays are used by the\n * ReactFlow component.\n */\nconst ProvenanceReactFlow = (props: ProvenanceProps) => {\n  const {\n    entityRefs: rootEntityRefs,\n    containerHeight = '200px',\n    initialNodes = [],\n    initialEdges = [],\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const [tempNodes, setTempNodes] = React.useState<Node[]>(initialNodes)\n  const [tempEdges, setTempEdges] = React.useState<Edge[]>(initialEdges)\n  const [nodes, setNodes, onNodesChange] = useNodesState([])\n  const [edges, setEdges, onEdgesChange] = useEdgesState([])\n  const [clickedNode, setClickedNode] = useState<Node>()\n  const handleError = useErrorHandler()\n\n  const { data: rootEntityHeadersPage, isSuccess } = useGetEntityHeaders(\n    rootEntityRefs,\n    { useErrorBoundary: true },\n  )\n  if (isSuccess && rootEntityHeadersPage.totalNumberOfResults == 0) {\n    const synapseIds = rootEntityRefs.map(ref => ref.targetId).join(',')\n    handleError(\n      `Unable to load provenance for the given Synapse IDs: ${synapseIds}`,\n    )\n  }\n  const rootEntityHeaders = rootEntityHeadersPage?.results\n  const [initializedPosition, setInitializedPosition] =\n    React.useState<boolean>(false)\n\n  // Get the react flow instance so we attempt to properly center the view.\n  const reactFlowInstance = useReactFlow()\n\n  const onClickNode = useCallback((_event: React.MouseEvent, node: Node) => {\n    setClickedNode(node)\n  }, [])\n\n  /**\n   * Called when we have a new entity to add to the graph.  This will result in adding\n   * a new Entity Node to the nodesCopy, a link from the usedInActivity to the new Entity Node,\n   * AND it will look for an Activity associated with the new entity.  If an Activity is found,\n   * it will add an Expand Node for the user to click (to expand to see this Activity!).\n   * If this is a root node (starting entity node), then we automatically add the Activity Node\n   * and process it.\n   */\n  const addEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      usedInActivity?: Activity\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy, usedInActivity } = params\n      addEntityNode({\n        entityHeader,\n        activity: usedInActivity,\n        nodesCopy,\n        edgesCopy,\n      })\n      //look for Activity\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        // if this is not a root node (or there are too many items to show), add an expand node\n        if (\n          !isRootEntity({ entityHeader, rootEntityHeaders }) ||\n          (activity.used && activity.used.length >= MAX_ACTIVITY_EXPAND_NODES)\n        ) {\n          addExpandNode({\n            entityHeader,\n            itemCount: activity.used?.length,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n        if (\n          isRootEntity({\n            entityHeader,\n            rootEntityHeaders,\n          })\n        ) {\n          // add provenance undefined node\n          addUndefinedNode({\n            entityHeader,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      }\n    },\n    [accessToken, rootEntityHeaders],\n  )\n\n  /**\n   * This effect attempts to center the graph on one of the root nodes.\n   * Only initializes after after a root node has been added to the graph.\n   */\n  useEffect(() => {\n    if (!initializedPosition && nodes.length > 0) {\n      setTimeout(() => {\n        if (rootEntityHeaders) {\n          const rootEntityNode = findEntityNode(rootEntityHeaders[0], nodes)\n          if (rootEntityNode) {\n            const currentZoom = reactFlowInstance.getZoom()\n            const zoom = currentZoom > DEFAULT_ZOOM ? DEFAULT_ZOOM : currentZoom\n            reactFlowInstance?.setCenter(\n              rootEntityNode.position.x + 150,\n              rootEntityNode.position.y - 30,\n              { zoom, duration: 0 },\n            )\n          }\n          setInitializedPosition(true)\n        }\n      })\n    }\n  }, [initializedPosition, nodes, reactFlowInstance, rootEntityHeaders])\n\n  /**\n   * This is called when the user clicks on an Expand Node.  It will add the associated Activity\n   * and all \"used\" items (entities and urls) to the graph by adding items to the nodesCopy and edgesCopy arrays.\n   */\n  const onExpandEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy } = params\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        addActivityNode({\n          activity,\n          entityHeader,\n          nodesCopy,\n          edgesCopy,\n        })\n        // go through Activity.used array to add these nodes/edges\n        if (activity.used && activity.used.length < MAX_ACTIVITY_EXPAND_NODES) {\n          const usedEntityReferences: ReferenceList = []\n          activity.used.forEach((usedItem: Used) => {\n            if (usedItem.concreteType == USED_ENTITY_CONCRETE_TYPE_VALUE) {\n              usedEntityReferences.push((usedItem as UsedEntity).reference)\n            } else {\n              // UsedURL\n              const usedURL = usedItem as UsedURL\n              addExternalNode({ usedURL, activity, nodesCopy, edgesCopy })\n            }\n          })\n          const usedEntityHeadersPage = await SynapseClient.getEntityHeaders(\n            usedEntityReferences,\n            accessToken,\n          )\n          const { results: usedEntityHeaderPageResults } = usedEntityHeadersPage\n          // find refs that were not returned by the entity header call\n          const refsMissingEntityHeaders = usedEntityReferences.filter(ref => {\n            return (\n              usedEntityHeaderPageResults.find(header => {\n                return header.id == ref.targetId\n              }) == undefined\n            )\n          })\n          refsMissingEntityHeaders.forEach(ref => {\n            addEntityPlaceholderNode({ ref, activity, nodesCopy, edgesCopy })\n          })\n          const addEntityPromises: Promise<void>[] = []\n          usedEntityHeaderPageResults.forEach(header => {\n            addEntityPromises.push(\n              addEntity({\n                entityHeader: header,\n                nodesCopy,\n                edgesCopy,\n                usedInActivity: activity,\n              }),\n            )\n          })\n          await Promise.allSettled(addEntityPromises)\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n      }\n    },\n    [accessToken, addEntity],\n  )\n\n  /**\n   * This effect code executes when no nodes have been added.\n   * It will add the root nodes, and attempt to expand the root nodes.\n   */\n  useEffect(() => {\n    if (rootEntityHeaders && tempNodes.length == 0) {\n      const nodesCopy = [...tempNodes]\n      const edgesCopy = [...tempEdges]\n      const addAndExpandPromises: Promise<void>[] = []\n      rootEntityHeaders.forEach(header => {\n        const addEntityPromise = addEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(addEntityPromise)\n\n        const expandEntityPromise = onExpandEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(expandEntityPromise)\n      })\n      Promise.allSettled(addAndExpandPromises).finally(() => {\n        setTempNodes(nodesCopy)\n        setTempEdges(edgesCopy)\n      })\n    }\n  }, [\n    addEntity,\n    handleError,\n    onExpandEntity,\n    rootEntityHeaders,\n    rootEntityRefs,\n    tempEdges,\n    tempNodes,\n  ])\n\n  /**\n   * This effect code executes when a node is clicked.\n   * We check to see if it is an expand node.  If it is, then we remove the expand node (and associated edge)\n   * and ask for the Activity and associated \"used\" nodes (entities and URLs)\n   */\n  useEffect(() => {\n    const nodeData: ProvenanceNodeData = clickedNode?.data as ProvenanceNodeData\n    if (clickedNode && nodeData?.type == NodeType.EXPAND) {\n      const expandNodeDataProps = nodeData.props as ExpandGraphNodeDataProps\n      if (expandNodeDataProps.itemCount > MAX_ACTIVITY_EXPAND_NODES) {\n        displayToast(\n          'Web visualization does not support expanding this many items at this time.',\n          'danger',\n        )\n        return\n      } else {\n        // graph will be used outside of synapse, so show a non-branded spinner\n        nodeData.label = <CircularProgress size={30} />\n        // remove clicked node\n        const nodesWithoutExpandNode = tempNodes.filter(\n          node => node.id != clickedNode.id,\n        )\n        const edgeToRemove = getConnectedEdges([clickedNode], tempEdges)[0]\n        const edgesWithoutExpandEdge = tempEdges.filter(\n          edge => edge != edgeToRemove,\n        )\n        onExpandEntity({\n          entityHeader: expandNodeDataProps.entityHeader,\n          nodesCopy: nodesWithoutExpandNode,\n          edgesCopy: edgesWithoutExpandEdge,\n        }).finally(() => {\n          setTempNodes(nodesWithoutExpandNode)\n          setTempEdges(edgesWithoutExpandEdge)\n        })\n      }\n      setClickedNode(undefined)\n    }\n  }, [clickedNode, tempNodes, tempEdges, onExpandEntity])\n\n  /**\n   * This effect code is run when the graph nodes or edges change.\n   * It feeds the nodes and edges into our layout library to figure out where they should be positioned.\n   * The result is saved in the state variable \"nodes\" and \"edges\".\n   */\n  useEffect(() => {\n    const { nodes: layoutedNodes, edges: layoutedEdges } = getLayoutedElements(\n      tempNodes,\n      tempEdges,\n      'TB',\n    )\n    // hack: ProvenanceUtils.getProvenanceNode() returns a new object every time, so check to see if\n    // there were any real changes\n    if (!isArrayEqual(layoutedNodes, nodes)) {\n      setNodes(layoutedNodes)\n      if (onNodesChangedListener) {\n        onNodesChangedListener(layoutedNodes)\n      }\n    }\n    if (!isArrayEqual(layoutedEdges, edges)) {\n      setEdges(layoutedEdges)\n      if (onEdgesChangedListener) {\n        onEdgesChangedListener(layoutedEdges)\n      }\n    }\n  }, [\n    tempNodes,\n    tempEdges,\n    nodes,\n    edges,\n    setNodes,\n    setEdges,\n    initializedPosition,\n    reactFlowInstance,\n    rootEntityRefs,\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  ])\n\n  return (\n    <div\n      className=\"bootstrap-4-backport ProvenanceWidget\"\n      role=\"graphics-doc\" //https://www.w3.org/wiki/SVG_Accessibility/ARIA_roles_for_charts#Document_Roles\n      style={{ width: '100%', height: containerHeight }}\n    >\n      <ReactFlow\n        defaultZoom={DEFAULT_ZOOM}\n        nodes={nodes}\n        edges={edges}\n        onNodeClick={onClickNode}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        attributionPosition=\"bottom-right\"\n        onConnect={undefined}\n      >\n        <Controls />\n      </ReactFlow>\n    </div>\n  )\n}\n\nexport const ProvenanceGraph = (props: ProvenanceProps) => {\n  return (\n    <SynapseErrorBoundary>\n      <ReactFlowProvider>\n        <ProvenanceReactFlow {...props} />\n      </ReactFlowProvider>\n    </SynapseErrorBoundary>\n  )\n}\n"],"names":["React","_objectWithoutProperties","useEffect","createStore","useRef","useContext","useMemo","parseTypenames","get","set","selector","Selection","constant","attrRemoveNS","attrRemove","attrFunctionNS","attrFunction","attrConstantNS","attrConstant","styleRemove","styleFunction","styleConstant","textFunction","textConstant","noevent","defaultFilter","defaultTouchable","nodrag","nopropagation","colorRgb","rgb","number","identity","timeout","interpolateTransform","style","easeCubicInOut","dragEnable","ownKeys$4","_objectSpread$4","ownKeys$3","_objectSpread$3","ownKeys$2","_objectSpread$2","ownKeys$1","_objectSpread$1","zoomIdentity","ownKeys","createContext","Provider","create","_objectSpread","_excluded","useCallback","_jsx","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","ControlButton","_ref","children","className","rest","type","cc","isInteractiveSelector","s","nodesDraggable","nodesConnectable","elementsSelectable","Controls","_ref2","_ref2$showZoom","showZoom","_ref2$showFitView","showFitView","_ref2$showInteractive","showInteractive","fitViewOptions","onZoomIn","onZoomOut","onFitView","onInteractiveChange","store","useStoreApi","_useState","useState","_useState2","_slicedToArray","isVisible","setIsVisible","isInteractive","useStore","_useReactFlow","useReactFlow","zoomIn","zoomOut","fitView","onZoomInHandler","onZoomOutHandler","onFitViewHandler","onToggleInteractivity","setState","_jsxs","_Fragment","displayName","index","memo","accounts","proOptions","_ref$position","position","account","includes","hideAttribution","positionClasses","concat","split","_toConsumableArray","_excluded$2","ownKeys$c","EdgeText","x","y","label","_ref$labelStyle","labelStyle","_ref$labelShowBg","labelShowBg","_ref$labelBgStyle","labelBgStyle","_ref$labelBgPadding","labelBgPadding","_ref$labelBgBorderRad","labelBgBorderRadius","edgeRef","width","height","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","current","textBbox","getBBox","_objectSpread$c","transform","EdgeText$1","BaseEdge","path","centerX","centerY","markerEnd","markerStart","text","pos","x1","y1","x2","y2","ctX","ctY","Position","Left","Right","Top","Bottom","sourceX","sourceY","_ref2$sourcePosition","sourcePosition","targetX","targetY","_ref2$targetPosition","targetPosition","_getControl","getControl","_getControl2","sourceControlX","sourceControlY","_getControl3","_getControl4","targetControlX","targetControlY","_ref3","_ref3$sourcePosition","_ref3$targetPosition","_getControl5","_getControl6","_getControl7","_getControl8","xOffset","Math","abs","yOffset","SimpleBezierEdge","_ref4","_ref4$sourcePosition","_ref4$targetPosition","params","getSimpleBezierPath","_getSimpleBezierCente","getSimpleBezierCenter","_getSimpleBezierCente2","ownKeys$b","LeftOrRight","getCenter","_ref$sourcePosition","_ref$targetPosition","sourceIsLeftOrRight","targetIsLeftOrRight","mixedEdge","_xOffset","_centerX","_yOffset","_centerY","id","getState","handler","undefined","event","edge","edges","find","e","_objectSpread$b","bottomLeftCorner","size","leftBottomCorner","bottomRightCorner","rightBottomCorner","leftTopCorner","topLeftCorner","topRightCorner","rightTopCorner","_ref$borderRadius","borderRadius","_getCenter","_getCenter2","offsetX","offsetY","cornerWidth","min","cornerHeight","cornerSize","leftAndRight","cX","cY","firstCornerPath","secondCornerPath","SmoothStepEdge","_ref2$borderRadius","_getCenter3","_getCenter4","getSmoothStepPath","ownKeys$a","StepEdge","props","_objectSpread$a","StraightEdge","distance","curvature","sqrt","c","calculateControlOffset","_ref2$curvature","_getControlWithCurvat","getControlWithCurvature","_getControlWithCurvat2","_getControlWithCurvat3","_getControlWithCurvat4","_ref3$curvature","_getControlWithCurvat5","_getControlWithCurvat6","_getControlWithCurvat7","_getControlWithCurvat8","BezierEdge","getBezierPath","_getBezierCenter","getBezierCenter","_getBezierCenter2","NodeIdContext","Consumer","connectionMode","isTarget","nodeId","handleId","isValidConnection","doc","elementBelow","elementFromPoint","clientX","clientY","elementBelowIsTarget","classList","contains","elementBelowIsSource","result","isValid","connection","sourceHandle","targetHandle","isHoveringHandle","elementBelowNodeId","getAttribute","elementBelowHandleId","ConnectionMode","Strict","hoveredHandle","remove","onConnect","elementEdgeUpdaterType","onEdgeUpdateEnd","reactFlowNode","closest","getHostForElement","_getState","onConnectStart","handleType","containerBounds","getBoundingClientRect","recentHoveredHandle","connectionPosition","left","top","connectionNodeId","connectionHandleId","connectionHandleType","_checkElementBelowIsV","checkElementBelowIsValid","resetRecentHandle","add","toggle","_getState2","onConnectStop","onConnectEnd","_checkElementBelowIsV2","removeEventListener","onMouseMove","onMouseUp","addEventListener","_excluded$1","ownKeys$9","alwaysValid","selector$a","connectionStartHandle","connectOnClick","Handle","forwardRef","ref","_ref$type","_ref$isValidConnectio","_ref$isConnectable","isConnectable","onMouseDown","_useStore","shallow","onConnectExtended","_store$getState","defaultEdgeOptions","onConnectAction","hasDefaultEdges","edgeParams","_objectSpread$9","_store$getState2","addEdge","onMouseDownHandler","button","handleMouseDown","onClick","_store$getState3","onClickConnectStart","onClickConnectStop","onClickConnectEnd","connectable","connecting","Handle$1","DefaultNode","data","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","selector$9","selectedNodes","Array","from","nodeInternals","values","n","selected","selectedEdges","areEqual","objA","objB","selectedNodeIdsA","map","selectedNodeIdsB","selectedEdgeIdsA","selectedEdgeIdsB","onSelectionChange","nodes","SelectionListener$1","SelectionListener","selector$8","setNodes","setEdges","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","value","setStoreState","StoreUpdater","defaultNodes","defaultEdges","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","snapGrid","snapToGrid","translateExtent","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","useDirectStoreUpdater","useStoreUpdater","css_248z$1","css","css_248z","theme","shiftX","shift","shiftY","EdgeAnchor","_ref$radius","radius","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","hidden","sourceHandleId","targetHandleId","onContextMenu","onMouseEnter","onMouseLeave","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","rfId","updating","setUpdating","onEdgeClick","addSelectedEdges","nodesSelectionActive","onEdgeDoubleClickHandler","getMouseHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_onEdgeUpdateEnd","evt","onConnectEdge","onEdgeUpdaterSourceMouseDown","onEdgeUpdaterTargetMouseDown","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","markerStartUrl","getMarkerId","markerEndUrl","inactive","handleEdgeUpdate","edgeClasses","ownKeys$8","edgeTypes","standardTypes","straight","bezier","step","smoothstep","simplebezier","wrappedTypes","specialTypes","k","reduce","res","_objectSpread$8","nodeRect","handle","bounds","d","getEdgePositions","sourceNodeRect","targetNodeRect","sourceHandlePos","getHandlePosition","targetHandlePos","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","max","viewBox","rectToBox","xOverlap","yOverlap","overlappingArea","ceil","_node$internalsSymbol","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","node","handleBounds","internalsSymbol","isInvalid","positionAbsolute","document","useKeyPress","keyCode","options","keyPressed","setKeyPressed","pressedKeys","Set","_useMemo","keyCodeArr","isArray","kc","keysFlat","item","_useMemo2","keyCodes","keysToWatch","_options$target","_options$target2","downHandler","isInputDOMNode","keyOrCode","useKeyOrCode","code","isMatchingKey","preventDefault","upHandler","clear","resetHandler","window","_options$target3","_options$target4","isUp","some","every","has","eventCode","nodeName","hasAttribute","selector$7","useGlobalKeyHandler","deleteKeyCode","multiSelectionKeyCode","deleteKeyPressed","multiSelectionKeyPressed","hasDefaultNodes","nodesToRemove","parentNode","connectedEdges","getConnectedEdges","edgesToRemove","edgeIdsToRemove","Map","edgeChanges","nodeChanges","multiSelectionActive","rendererNode","resizeObserver","updateDimensions","getDimensions","onresize","ResizeObserver","observe","unobserve","viewChanged","prevViewport","eventViewport","zoom","eventToFlowTransform","isWrappedWithClass","selector$6","d3Zoom","d3Selection","d3ZoomHandler","ZoomPane","onMove","onMoveStart","onMoveEnd","_ref$zoomOnScroll","zoomOnScroll","_ref$zoomOnPinch","zoomOnPinch","_ref$panOnScroll","panOnScroll","_ref$panOnScrollSpeed","panOnScrollSpeed","_ref$panOnScrollMode","panOnScrollMode","PanOnScrollMode","Free","_ref$zoomOnDoubleClic","zoomOnDoubleClick","selectionKeyPressed","_ref$panOnDrag","panOnDrag","_ref$defaultPosition","defaultPosition","_ref$defaultZoom","defaultZoom","zoomActivationKeyCode","_ref$preventScrolling","preventScrolling","noWheelClassName","noPanClassName","isZoomingOrPanning","zoomPane","prevTransform","zoomActivationKeyPressed","useResizeHandler","d3ZoomInstance","scaleExtent","selection","select","call","clampedX","clamp","clampedY","clampedZoom","updatedTransform","translate","scale","on","stopImmediatePropagation","currentZoom","property","ctrlKey","point","pointer","pinchDelta","deltaY","deltaMode","_zoom","pow","scaleTo","deltaNormalize","deltaX","Vertical","Horizontal","translateBy","flowTransform","sourceEvent","zoomScroll","pinchZoom","ownKeys$7","selector$5","userSelectionActive","initialRect","startX","startY","draw","UserSelection","prevSelectedNodesCount","prevSelectedEdgesCount","userSelectionRect","setUserSelectionRect","renderUserSelectionPane","resetUserSelection","mousePos","getMousePosition","_userSelectionRect$st","_userSelectionRect$st2","nextUserSelectRect","_objectSpread$7","getNodesInside","selectedEdgeIds","selectedNodeIds","changes","getSelectionChanges","_changes","ownKeys$6","isParentSelected","nodeRef","_current","matches","parentElement","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","extent","dragItem","currentExtent","nextPosition","parent","_parent$positionAbsol","_parent$positionAbsol2","_parent$positionAbsol3","_parent$positionAbsol4","_parent","parentX","parentY","parentPosition","_parentNode$positionA","_parentNode$positionA2","_parentNode$positionA3","_parentNode$positionA4","clampPosition","dragItems","extentedDragItems","_objectSpread$6","selectionFunc","_","_ref$disabled","disabled","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","dragging","setDragging","lastPos","getPointerPosition","touches","pointerPos","pointToRendererPoint","dragHandler","drag","unselectNodesAndEdges","onStart","wrapSelectionDragFunc","_nodeInternals$get","handleNodeClick","getDragItems","_getEventHandlerParam","getEventHandlerParams","_getEventHandlerParam2","currentNode","updateNodePositions","updatePosition","onDrag","_getEventHandlerParam3","_getEventHandlerParam4","_store$getState4","_updateNodePositions","_nodeInternals","onStop","_getEventHandlerParam5","_getEventHandlerParam6","_currentNode","_nodes","isDraggable","hasSelector","ownKeys$5","selector$4","_objectSpread$5","transformString","getRectOfNodes","bboxSelector","onSelectionContextMenu","_useStore2","useDrag","NodesSelection$1","NodesSelection","selector$3","FlowRenderer","onPaneClick","onPaneContextMenu","onPaneScroll","selectionKeyCode","resetSelectedElements","onWheel","FlowRenderer$1","onlyRenderVisible","selector$2","updateNodeDimensions","NodeRenderer","useVisibleNodes","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","nodeElement","forceUpdate","_resizeObserverRef$cu","disconnect","_node$internalsSymbol2","_node$internalsSymbol3","nodeType","nodeTypes","NodeComponent","draggable","selectable","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","dragHandle","z","isParent","NodeRenderer$1","_oppositePosition","oppositePosition","ConnectionLine","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","connectionLineStyle","_ref$connectionLineTy","connectionLineType","ConnectionLineType","Bezier","CustomConnectionLineComponent","fromNode","toX","toY","fromHandleBounds","handleBound","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","dAttr","pathParams","Step","SmoothStep","SimpleBezier","obj","_typeof","Symbol","iterator","constructor","prototype","_MarkerSymbols","ArrowSymbol","_ref$color","color","_ref$strokeWidth","strokeWidth","ArrowClosedSymbol","_ref2$color","_ref2$strokeWidth","MarkerSymbols","MarkerType","Arrow","ArrowClosed","symbol","symbolExists","hasOwnProperty","Marker","_ref$width","_ref$height","_ref$markerUnits","markerUnits","_ref$orient","orient","_Symbol","useMarkerSymbol","createElement","markerWidth","markerHeight","refX","refY","markerSelector","defaultColor","ids","markers","marker","markerId","sort","a","b","localeCompare","MarkerDefinitions","m","MarkerDefinitions$1","defaultEdgeTree","level","isMaxLevel","elevateEdgesOnSelect","maxLevel","levelLookup","tree","hasZIndex","isNumeric","zIndex","_nodeInternals$get$in","_nodeInternals$get2","_nodeInternals$get2$i","edgeTree","sourceNode","targetNode","isEdgeVisible","groupEdgesByZLevel","selector$1","EdgeRenderer","useVisibleEdges","defaultMarkerColor","connectionLineComponent","connectionLineContainerStyle","renderConnectionLine","_getNodeData","getNodeData","_getNodeData2","sourceHandleBounds","sourceIsValid","_getNodeData3","_getNodeData4","targetHandleBounds","targetIsValid","edgeType","targetNodeHandles","getHandle","_getEdgePositions","EdgeRenderer$1","onInit","ReactFlowInstance","isInitialized","viewportInitialized","setTimeout","GraphView","useOnInitHandler","GraphView$1","GroupNode","wrapNode","NodeWrapper","xPos","yPos","onDoubleClick","initialized","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","onMouseEnterHandler","getMouseHandler$1","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","onSelectNodeHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","pointerEvents","visibility","input","output","group","nodeOrEdgeTypes","createTypes","typesParsed","head","getElementsByTagName","appendChild","createTextNode","Wrapper","isWrapped","injectStyle","defaultNodeTypes","defaultEdgeTypes","initSnapGrid","initDefaultPosition","ReactFlow","_ref$nodeTypes","_ref$edgeTypes","_ref$connectionMode","_ref$deleteKeyCode","_ref$selectionKeyCode","_ref$multiSelectionKe","_ref$zoomActivationKe","_ref$snapToGrid","_ref$snapGrid","_ref$onlyRenderVisibl","_ref$selectNodesOnDra","_ref$defaultMarkerCol","_ref$edgeUpdaterRadiu","_ref$noDragClassName","_ref$noWheelClassName","_ref$noPanClassName","_ref$fitView","_ref$connectOnClick","attributionPosition","_ref$elevateEdgesOnSe","nodeTypesWrapped","useNodeOrEdgeTypes","createNodeTypes","edgeTypesWrapped","createEdgeTypes","reactFlowClasses","ReactFlowProvider","applyChanges","initialItems","items","setItems","onItemsChange","useNodesState","createUseItemsState","applyNodeChanges","useEdgesState","applyEdgeChanges","userProfile","moment","name","description","friendlyModifiedOn","entityHeader","entityType","FILE","entityVersionString","itemCount","url","hostname","icon","require","List","require$$0","Graph","require$$1","require$$2","greedyFAS","acyclic","run","undo","util","simplify","normalizeRanks","removeEmptyRanks","addBorderNode","normalize","longestPath","slack","feasibleTree","require$$3","postorder","require$$4","networkSimplex","rank","parentDummyChains","nestingGraph","addBorderSegments","coordinateSystem","initOrder","crossCount","barycenter","resolveConflicts","sortSubgraph","buildLayerGraph","addSubgraphConstraints","require$$5","require$$6","require$$7","order","positionX","require$$8","require$$9","require$$10","require$$11","UndefinedNodeLabel","ENTITY","ENTITY_PLACEHOLDER","EXTERNAL","ACTIVITY","EXPAND","UNDEFINED","NodeType","nodeLabel","nodeData","node2Id","node1Id","dagreGraph","direction","dagre","rootEntityRefs","onNodesChangedListener","onEdgesChangedListener","accessToken","rootEntityHeadersPage","isSuccess","handleError","setClickedNode","nodesCopy","edgesCopy","usedInActivity","addEntityNode","SynapseClient.getActivityForEntity","rootEntityHeaders","addExpandNode","console","addUndefinedNode","reactFlowInstance","setInitializedPosition","addActivityNode","activity","usedEntityReferences","addExternalNode","usedURL","SynapseClient.getEntityHeaders","usedEntityHeaderPageResults","refsMissingEntityHeaders","targetId","addEntityPlaceholderNode","addEntityPromises","header","addAndExpandPromises","Promise","setTempNodes","setTempEdges","displayToast","onExpandEntity","nodesWithoutExpandNode","edgesWithoutExpandEdge","layoutedNodes","layoutedEdges","containerHeight","DEFAULT_ZOOM","onClickNode"],"mappings":"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"}