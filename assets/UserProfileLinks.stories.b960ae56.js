import{K as E,dt as b,cq as A,t as O,du as v,dv as B,b5 as R,aH as $,b6 as H}from"./index.05abe325.js";import{T as j}from"./Typography.bfdf676e.js";import{I as K}from"./IconSvg.3d20df6f.js";import{u as L}from"./react-intersection-observer.m.66de6abb.js";import{P as I}from"./getEndpoint.0de7fccf.js";import{S as k}from"./SkeletonTable.b956c12d.js";import{a as u,F as m,j as r}from"./jsx-runtime.2e925369.js";import{S as V}from"./Skeleton.8dd0668e.js";import"./objectWithoutPropertiesLoose.090b3c10.js";import"./withStyles.8be28b48.js";import"./toConsumableArray.b3669986.js";import"./isObject.f3be1931.js";import"./index.f252d424.js";import"./Button.c582ea4c.js";import"./Transition.d42a873e.js";import"./index.06f4a415.js";import"./toString.f9b9a371.js";import"./assert.c27a8558.js";import"./iframe.fc0b8fd7.js";import"./index.8cde812d.js";import"./SvgIcon.31249d58.js";import"./makeStyles.9dfaa099.js";import"./Tooltip.6c95fe7b.js";import"./createSvgIcon.d78a924b.js";import"./useTheme.8804f8cd.js";import"./InfoOutlined.22a371fd.js";import"./times.cda879eb.js";import"./toInteger.1984412c.js";import"./toNumber.71be2bd9.js";function Y(e,t){const{accessToken:l}=O();return E(["getuserchallenges",e],async n=>{const s=await b(l,e,n.pageParam,10);if(s.results.length>0){const o=Array.from(s.results,p=>p.projectId),i=await A(o);return{results:Array.from(s.results,(p,c)=>({challenge:p,projectHeader:i.results[c]})),totalNumberOfResults:s.totalNumberOfResults}}return{results:[],totalNumberOfResults:s.totalNumberOfResults}},{...t,getNextPageParam:(n,s)=>{if(n.results.length>0)return s.length*10}})}function M(e,t,l){const{accessToken:n}=O();return E(["getuserprojects",e,t],async s=>v(e,{...t,nextPageToken:s.pageParam},n),{...l,getNextPageParam:s=>s.nextPageToken})}function D(e,t){const{accessToken:l}=O();return E(["getuserteams",e],async n=>B(l,e,n.pageParam,10),{...t,getNextPageParam:(n,s)=>{if(n.results.length>0)return s.length*10}})}const N=window.React.useEffect;function y({userId:e}){var h;const t=R(),{ref:l,inView:n}=L(),{data:s,status:o,isFetching:i,isLoading:_,hasNextPage:p,fetchNextPage:c,isError:g,error:f}=Y(e);N(()=>{g&&f&&t(f)},[g,f,t]),N(()=>{o==="success"&&!i&&p&&c&&n&&c()},[o,i,p,c,n]);const d=(h=s==null?void 0:s.pages.flatMap(a=>a.results))!=null?h:[];return u(m,{children:[d.length>0&&u(m,{children:[d.map(a=>a&&a.challenge&&a.projectHeader?r("p",{children:r("a",{target:"_self",rel:"noopener noreferrer",href:`${I.PORTAL}#!Synapse:${a.challenge.projectId}/challenge`,children:a.projectHeader.name})},`user-challenge-list-item-${a.challenge.projectId}`):!1),r("div",{ref:l})]}),!i&&d.length==0&&r("div",{children:"Empty"}),_&&r(k,{numRows:5,numCols:1})]})}try{y.displayName="UserChallenges",y.__docgenInfo={description:"",displayName:"UserChallenges",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/user_profile_links/UserChallenges.tsx#UserChallenges"]={docgenInfo:y.__docgenInfo,name:"UserChallenges",path:"src/lib/containers/user_profile_links/UserChallenges.tsx#UserChallenges"})}catch{}const w=window.React.useEffect;function U({userId:e}){var a;const t=R(),{ref:l,inView:n}=L(),s={},{data:o,status:i,isFetching:_,isLoading:p,hasNextPage:c,fetchNextPage:g,isError:f,error:d}=M(e,s);w(()=>{f&&d&&t(d)},[f,d,t]),w(()=>{i==="success"&&!_&&c&&g&&n&&g()},[i,_,c,g,n]);const h=(a=o==null?void 0:o.pages.flatMap(P=>P.results))!=null?a:[];return u(m,{children:[h.length>0&&u(m,{children:[h.map(P=>P?r("p",{children:r("a",{target:"_self",rel:"noopener noreferrer",href:`${I.PORTAL}#!Synapse:${P.id}`,children:P.name})},`user-project-list-item-${P.id}`):!1),r("div",{ref:l})]}),!_&&h.length==0&&r("div",{children:"Empty"}),p&&r(k,{numRows:5,numCols:1})]})}try{U.displayName="UserProjects",U.__docgenInfo={description:"",displayName:"UserProjects",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/user_profile_links/UserProjects.tsx#UserProjects"]={docgenInfo:U.__docgenInfo,name:"UserProjects",path:"src/lib/containers/user_profile_links/UserProjects.tsx#UserProjects"})}catch{}const x=window.React.useEffect;function C({userId:e}){var h;const t=R(),{ref:l,inView:n}=L(),{data:s,status:o,isFetching:i,isLoading:_,hasNextPage:p,fetchNextPage:c,isError:g,error:f}=D(e);x(()=>{g&&f&&t(f)},[g,f,t]),x(()=>{o==="success"&&!i&&p&&c&&n&&c()},[o,i,p,c,n]);const d=(h=s==null?void 0:s.pages.flatMap(a=>a.results))!=null?h:[];return u(m,{children:[d.length>0&&u(m,{children:[d.map(a=>a?r("p",{children:r("a",{target:"_self",rel:"noopener noreferrer",href:`${I.PORTAL}#!Team:${a.id}`,children:a.name})},`user-team-list-item-${a.id}`):!1),r("div",{ref:l})]}),!i&&d.length==0&&r("div",{children:"Empty"}),_&&r(k,{numRows:5,numCols:1})]})}try{C.displayName="UserTeams",C.__docgenInfo={description:"",displayName:"UserTeams",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/user_profile_links/UserTeams.tsx#UserTeams"]={docgenInfo:C.__docgenInfo,name:"UserTeams",path:"src/lib/containers/user_profile_links/UserTeams.tsx#UserTeams"})}catch{}const F=window.React.useState;var T=(e=>(e.PROJECTS="Projects",e.TEAMS="Teams",e.CHALLENGES="Challenges",e))(T||{});function S({userId:e}){const[t,l]=F("Projects"),{data:n}=$(e);function s(o){switch(o){case"Projects":return"dashboard";case"Teams":return"peopleTwoTone";case"Challenges":return"challengesTwoTone"}}return u("div",{className:"UserProfileLinks",children:[u(j,{variant:"headline2",className:"title",children:[n&&u(m,{children:[n==null?void 0:n.userName,"'s Items"]}),!n&&r(V,{width:"75%"})]}),r("div",{className:"Tabs",children:Object.keys(T).map(o=>r("div",{className:"Tab",role:"tab",onClick:i=>{i.stopPropagation(),l(T[o])},"aria-selected":T[o]===t,children:u(j,{variant:"buttonLink",children:[r(K,{options:{icon:s(T[o])}})," ",T[o]]})},o))}),r("div",{className:"TabContent",children:u(H,{children:[t==="Projects"&&r(m,{children:r(U,{userId:e})}),t==="Teams"&&r(m,{children:r(C,{userId:e})}),t==="Challenges"&&r(m,{children:r(y,{userId:e})})]})})]})}try{S.displayName="UserProfileLinks",S.__docgenInfo={description:"",displayName:"UserProfileLinks",props:{userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/user_profile_links/UserProfileLinks.tsx#UserProfileLinks"]={docgenInfo:S.__docgenInfo,name:"UserProfileLinks",path:"src/lib/containers/user_profile_links/UserProfileLinks.tsx#UserProfileLinks"})}catch{}var Ce={parameters:{storySource:{source:`import React from 'react'
import { ComponentStory, ComponentMeta } from '@storybook/react'
import UserProfileLinks from './UserProfileLinks'

export default {
  title: 'Synapse/UserProfileLinks',
  component: UserProfileLinks,
} as ComponentMeta<typeof UserProfileLinks>

const Template: ComponentStory<typeof UserProfileLinks> = args => (
  <UserProfileLinks {...args} />
)

export const Demo = Template.bind({})
Demo.args = {
  userId: '1131050',
}
`,locationsMap:{demo:{startLoc:{col:58,line:10},endLoc:{col:1,line:12},startBody:{col:58,line:10},endBody:{col:1,line:12}}}}},title:"Synapse/UserProfileLinks",component:S};const G=e=>r(S,{...e}),q=G.bind({});q.args={userId:"1131050"};const Ee=["Demo"];export{q as Demo,Ee as __namedExportsOrder,Ce as default};
//# sourceMappingURL=UserProfileLinks.stories.b960ae56.js.map
