{"version":3,"file":"FullWidthAlert.b79b9dd5.js","sources":["../../node_modules/@material-ui/icons/esm/ErrorTwoTone.js","../../node_modules/@material-ui/icons/esm/HighlightOffTwoTone.js","../../node_modules/@material-ui/icons/esm/InfoTwoTone.js","../../src/lib/utils/functions/TooltipUtils.ts","../../src/lib/containers/FullWidthAlert.tsx"],"sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm1 13h-2v-2h2v2zm0-4h-2V7h2v6z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-1-5h2v2h-2zm0-8h2v6h-2z\"\n})), 'ErrorTwoTone');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n})), 'HighlightOffTwoTone');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm1 13h-2v-6h2v6zm0-8h-2V7h2v2z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n})), 'InfoTwoTone');","import { debounce } from 'lodash-es'\nimport ReactTooltip from 'react-tooltip'\n\n/**\n * Rebuilds the global instance of ReactTooltip. Utilizes lodash's `debounce` to throttle/prevent unnecessary rebuilds.\n *\n * Borrowed from: https://github.com/wwayne/react-tooltip/issues/300#issuecomment-468042592\n */\nexport const rebuildTooltip = debounce(() => ReactTooltip.rebuild(), 200, {\n  leading: false,\n  trailing: true,\n})\n","import React, { useEffect } from 'react'\nimport { Button, Alert, AlertProps } from 'react-bootstrap'\nimport {\n  InfoTwoTone,\n  ErrorTwoTone,\n  CheckCircleTwoTone,\n  HighlightOffTwoTone,\n  Clear,\n} from '@material-ui/icons'\nimport Typography from '../utils/typography/Typography'\nimport ReactTooltip from 'react-tooltip'\nimport { rebuildTooltip } from '../utils/functions/TooltipUtils'\n\nexport type AlertButtonConfig = {\n  text: string\n  isDisabled?: boolean\n  tooltipText?: string\n} & (\n  | // \"onClick\" or \"href\", but not both\n  {\n      onClick?:\n        | ((e?: React.MouseEvent<HTMLElement, MouseEvent>) => void)\n        | (() => void)\n    }\n  | { href?: string }\n)\n\nconst FULL_WIDTH_ALERT_TOOLTIP_ID = 'FullWidthAlertTooltip'\n\nexport interface FullWidthAlertProps extends AlertProps {\n  variant: string\n  title?: string\n  description?: string\n  primaryButtonConfig?: AlertButtonConfig\n  secondaryButtonConfig?: AlertButtonConfig\n  onClose?: () => void\n  autoCloseAfterDelayInSeconds?: number\n  isGlobal?: boolean\n}\n\nfunction getIcon(variant?: string) {\n  switch (variant) {\n    case 'warning':\n      return <ErrorTwoTone className=\"text-warning\" fontSize={'large'} />\n    case 'info':\n      return <InfoTwoTone className=\"text-info\" fontSize={'large'} />\n    case 'danger':\n      return <HighlightOffTwoTone className=\"text-danger\" fontSize={'large'} />\n    case 'success':\n      return <CheckCircleTwoTone className=\"text-success\" fontSize={'large'} />\n    default:\n      return <></>\n  }\n}\n\nfunction ButtonFromConfig(props: {\n  config?: AlertButtonConfig\n  className?: string\n  variant: string\n}) {\n  const { config, variant, className } = props\n  if (config && ('onClick' in config || 'href' in config)) {\n    return (\n      <span // See https://github.com/wwayne/react-tooltip/issues/304\n        className={className}\n        data-tip={config.tooltipText}\n        data-for={FULL_WIDTH_ALERT_TOOLTIP_ID}\n        data-tip-disable={false}\n      >\n        <Button\n          variant={variant}\n          size={'sm'}\n          disabled={config.isDisabled}\n          onClick={e => {\n            if ('onClick' in config) {\n              e.preventDefault()\n              config.onClick!(e)\n            } else if ('href' in config) {\n              e.preventDefault()\n              window.open(config.href, '_blank', 'noopener')\n            }\n          }}\n        >\n          {config.text}\n        </Button>\n      </span>\n    )\n  }\n  return null\n}\n\n/**\n * Nav bar item, displayed when files have been added to the Download Cart.\n * This must be configured with the URL of a page dedicated to showing the Download Cart.\n */\nfunction FullWidthAlert(props: FullWidthAlertProps) {\n  const {\n    title,\n    description,\n    primaryButtonConfig,\n    secondaryButtonConfig,\n    show,\n    onClose,\n    autoCloseAfterDelayInSeconds,\n    variant = 'info',\n    transition,\n    isGlobal = true,\n  } = props\n  const iconContent = getIcon(variant)\n\n  const hasActions = primaryButtonConfig || secondaryButtonConfig\n\n  useEffect(() => {\n    rebuildTooltip()\n  }, [primaryButtonConfig, secondaryButtonConfig])\n\n  useEffect(() => {\n    let timer: NodeJS.Timeout\n    if (onClose && autoCloseAfterDelayInSeconds) {\n      timer = setTimeout(onClose, autoCloseAfterDelayInSeconds * 1000)\n    }\n    return () => {\n      if (timer) {\n        clearTimeout(timer)\n      }\n    }\n  }, [onClose, autoCloseAfterDelayInSeconds])\n  const additionalAlertVariantClass = variant ? `alert-${variant}` : ''\n  return (\n    <Alert\n      variant={variant}\n      show={show}\n      dismissible={false}\n      transition={transition}\n      className={`FullWidthAlert bootstrap-4-backport ${\n        isGlobal ? 'global' : ''\n      } ${additionalAlertVariantClass}`}\n    >\n      <ReactTooltip\n        id={FULL_WIDTH_ALERT_TOOLTIP_ID}\n        delayShow={300}\n        effect=\"solid\"\n      />\n      <div\n        className={`gridContainer ${hasActions ? '' : 'noActions'} ${\n          onClose ? 'hasCloseButton' : ''\n        }`}\n      >\n        <span className=\"iconArea\">{iconContent}</span>\n        <span className=\"messageArea\">\n          <Typography variant=\"smallText2\">{title}</Typography>\n          {title && description && <div className=\"SRC-marginBottomTen\" />}\n          <Typography variant=\"smallText1\">{description}</Typography>\n        </span>\n        <ButtonFromConfig config={secondaryButtonConfig} variant=\"tertiary\" />\n        <ButtonFromConfig config={primaryButtonConfig} variant=\"sds-primary\" />\n        {onClose && (\n          <button className=\"closeAlert\" onClick={onClose}>\n            <Clear fontSize={'large'} />\n          </button>\n        )}\n      </div>\n    </Alert>\n  )\n}\n\nexport default FullWidthAlert\n"],"names":["React","variant","_jsx","_Fragment","config","className","tooltipText","FULL_WIDTH_ALERT_TOOLTIP_ID","isDisabled","e","window","text","title","description","primaryButtonConfig","secondaryButtonConfig","show","onClose","autoCloseAfterDelayInSeconds","transition","useEffect","rebuildTooltip","timer","clearTimeout","_jsxs","additionalAlertVariantClass","iconContent"],"mappings":"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"}