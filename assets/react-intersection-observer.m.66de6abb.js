const h=window.React,N=window.React.useEffect;function g(){return g=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},g.apply(this,arguments)}function S(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,b(t,r)}function b(t,r){return b=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},b(t,r)}function j(t,r){if(t==null)return{};var i={},n=Object.keys(t),e,o;for(o=0;o<n.length;o++)e=n[o],!(r.indexOf(e)>=0)&&(i[e]=t[e]);return i}var y=new Map,p=new WeakMap,_=0,x=void 0;function E(t){return t?(p.has(t)||(_+=1,p.set(t,_.toString())),p.get(t)):"0"}function A(t){return Object.keys(t).sort().filter(function(r){return t[r]!==void 0}).map(function(r){return r+"_"+(r==="root"?E(t.root):t[r])}).toString()}function U(t){var r=A(t),i=y.get(r);if(!i){var n=new Map,e,o=new IntersectionObserver(function(c){c.forEach(function(s){var a,u=s.isIntersecting&&e.some(function(d){return s.intersectionRatio>=d});t.trackVisibility&&typeof s.isVisible=="undefined"&&(s.isVisible=u),(a=n.get(s.target))==null||a.forEach(function(d){d(u,s)})})},t);e=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),i={id:r,observer:o,elements:n},y.set(r,i)}return i}function M(t,r,i,n){if(i===void 0&&(i={}),n===void 0&&(n=x),typeof window.IntersectionObserver=="undefined"&&n!==void 0){var e=t.getBoundingClientRect();return r(n,{isIntersecting:n,target:t,intersectionRatio:typeof i.threshold=="number"?i.threshold:0,time:0,boundingClientRect:e,intersectionRect:e,rootBounds:e}),function(){}}var o=U(i),c=o.id,s=o.observer,a=o.elements,u=a.get(t)||[];return a.has(t)||a.set(t,u),u.push(r),s.observe(t),function(){u.splice(u.indexOf(r),1),u.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),y.delete(c))}}var W=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function k(t){return typeof t.children!="function"}var R=function(t){S(r,t);function r(n){var e;return e=t.call(this,n)||this,e.node=null,e._unobserveCb=null,e.handleNode=function(o){e.node&&(e.unobserve(),!o&&!e.props.triggerOnce&&!e.props.skip&&e.setState({inView:!!e.props.initialInView,entry:void 0})),e.node=o||null,e.observeNode()},e.handleChange=function(o,c){o&&e.props.triggerOnce&&e.unobserve(),k(e.props)||e.setState({inView:o,entry:c}),e.props.onChange&&e.props.onChange(o,c)},e.state={inView:!!n.initialInView,entry:void 0},e}var i=r.prototype;return i.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(!(!this.node||this.props.skip)){var e=this.props,o=e.threshold,c=e.root,s=e.rootMargin,a=e.trackVisibility,u=e.delay,d=e.fallbackInView;this._unobserveCb=M(this.node,this.handleChange,{threshold:o,root:c,rootMargin:s,trackVisibility:a,delay:u},d)}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!k(this.props)){var e=this.state,o=e.inView,c=e.entry;return this.props.children({inView:o,entry:c,ref:this.handleNode})}var s=this.props,a=s.children,u=s.as,d=j(s,W);return h.createElement(u||"div",g({ref:this.handleNode},d),a)},r}(h.Component);R.displayName="InView";R.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function B(t){var r=t===void 0?{}:t,i=r.threshold,n=r.delay,e=r.trackVisibility,o=r.rootMargin,c=r.root,s=r.triggerOnce,a=r.skip,u=r.initialInView,d=r.fallbackInView,f=h.useRef(),V=h.useState({inView:!!u}),v=V[0],w=V[1],m=h.useCallback(function(O){f.current!==void 0&&(f.current(),f.current=void 0),!a&&O&&(f.current=M(O,function(C,I){w({inView:C,entry:I}),I.isIntersecting&&s&&f.current&&(f.current(),f.current=void 0)},{root:c,rootMargin:o,threshold:i,trackVisibility:e,delay:n},d))},[Array.isArray(i)?i.toString():i,c,o,s,a,e,d,n]);N(function(){!f.current&&v.entry&&!s&&!a&&w({inView:!!u})});var l=[m,v.inView,v.entry];return l.ref=l[0],l.inView=l[1],l.entry=l[2],l}export{R as I,B as u};
//# sourceMappingURL=react-intersection-observer.m.66de6abb.js.map
