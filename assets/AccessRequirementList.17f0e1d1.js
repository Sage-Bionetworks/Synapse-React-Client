import{t as Y,bW as Oe,b1 as pe,bX as we,bY as je,bZ as xe,bi as q,b_ as Fe,a0 as Ee,b$ as Ve,c0 as Be,A as se,b4 as Pe,c1 as Me,U as He,e as Ye,c2 as $e,c3 as Ke,aM as Ge,c4 as We,c5 as Je,c6 as ze}from"./index.96d1ff89.js";import{P as re}from"./getEndpoint.0de7fccf.js";import{u as Xe}from"./useGetInfoFromIds.52ec366b.js";import{I as ce}from"./IconSvg.3d20df6f.js";import{j as e,F as R,a}from"./jsx-runtime.2e925369.js";import{C as Ze,L as Qe}from"./LockTwoTone.32ff1570.js";import{M as me}from"./MarkdownSynapse.3edb40a6.js";import{a as ve}from"./AccessApproval.493867d3.js";import"./assert.bff40da6.js";import{A as fe}from"./isObject.f3be1931.js";import{B as H}from"./Button.c582ea4c.js";import{M as I}from"./Modal.ea36991f.js";import{S as F}from"./ManagedACTAccessRequirementStatus.be369a71.js";import{F as he}from"./FileUpload.f1787288.js";import{U as es}from"./UserSearchBox.b7d60c31.js";import{a as ss}from"./UserCard.49f9ed9f.js";import{R as ts}from"./RadioGroup.6def41c3.js";import{s as ns}from"./sortBy.ccdd6a41.js";var K=(t=>(t.GAIN_ACCESS="GAIN_ACCESS",t.RENEW_ACCESS="RENEW_ACCESS",t.REVOKE_ACCESS="REVOKE_ACCESS",t))(K||{}),Ne=(t=>(t.ENTITY="ENTITY",t.EVALUATION="EVALUATION",t.TEAM="TEAM",t))(Ne||{}),rs=(t=>(t.OPEN="OPEN",t.RESTRICTED_BY_TERMS_OF_USE="RESTRICTED_BY_TERMS_OF_USE",t.CONTROLLED_BY_ACT="CONTROLLED_BY_ACT",t))(rs||{});const as=window.React.useEffect,cs=window.React.useRef,is=t=>{const n=cs();return as(()=>{n.current=t}),n.current},os=t=>is(t)!==t;function J({isCompleted:t}){return e("div",{"data-testid":`AccessApprovalCheckMark-${t}`,className:`check-mark-container ${t?"green":"orange"}`,children:t?e(Ze,{}):e(Qe,{})})}try{J.displayName="AccessApprovalCheckMark",J.__docgenInfo={description:"",displayName:"AccessApprovalCheckMark",props:{isCompleted:{defaultValue:null,description:"",name:"isCompleted",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessApprovalCheckMark.tsx#AccessApprovalCheckMark"]={docgenInfo:J.__docgenInfo,name:"AccessApprovalCheckMark",path:"src/lib/containers/access_requirement_list/AccessApprovalCheckMark.tsx#AccessApprovalCheckMark"})}catch{}const ye=window.React.useState,ls=window.React.useEffect;function Q({user:t,wikiPage:n,accessRequirement:r,accessRequirementStatus:i,showButton:d=!0,entityId:f,onHide:o}){const{accessToken:u}=Y(),[m,p]=ye(!0),C=i==null?void 0:i.isApproved,[h,w]=ye(C);let O="";r.concreteType===V.ManagedACTAccessRequirement||r.concreteType===V.ACTAccessRequirement?window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?O="Request access":O="Request access via Synapse.org":O="I Accept Terms of Use",ls(()=>{w(C)},[C]);const N=()=>{window.open(`${re.PORTAL}#!AccessRequirement:AR_ID=${r.id}&TYPE=ENTITY&ID=${f}`)},S=()=>{if(r.concreteType===V.ManagedACTAccessRequirement||r.concreteType===V.ACTAccessRequirement)N(),o==null||o();else if(!h){const L={requirementId:r==null?void 0:r.id,submitterId:t==null?void 0:t.ownerId,accessorId:t==null?void 0:t.ownerId,state:ve.APPROVED};Oe(u,L).then(k=>{w(!0)}).catch(k=>console.error("Error on post access approval: ",k))}},y=r.termsOfUse,U=r.actContactInfo,g=r.concreteType===V.TermsOfUseAccessRequirement,$=r.concreteType===V.ACTAccessRequirement,T=g&&y||$&&U;let D=e(R,{});n?D=e("div",{className:"AcceptRequirementsMarkdown",children:e(me,{wikiId:n==null?void 0:n.wikiPageId,ownerId:n==null?void 0:n.ownerObjectId,objectType:n==null?void 0:n.ownerObjectType})}):T&&(D=e(me,{markdown:g?y:U}));const P=r.concreteType===V.ManagedACTAccessRequirement;return e(R,{children:a("div",{"data-testid":"AcceptedRequirements",className:"requirement-container",children:[e(J,{isCompleted:h}),a("div",{className:"terms-of-use-content",children:[h?a("div",{children:[a("p",{children:[P?"Your data access request has been approved.":"You have accepted the terms of use.",P&&e("a",{className:"update-request-button",onClick:()=>{N()},children:"Update Request"}),e("a",{className:"view-terms-button",onClick:()=>{p(!m)},children:"View Terms"})]}),e("div",{className:`view-terms ${m?"hidden":"show"}`,children:D})]}):D,u&&d&&a("div",{className:`button-container ${h?"hide":"default"}`,children:[e("div",{className:"accept-button-container",children:e("button",{className:"accept-button",onClick:S,children:O})}),e("div",{className:"not-accept-button-container",children:e("button",{className:"not-accpet-button",onClick:()=>o==null?void 0:o(),children:"I do not accept"})})]})]})]})})}try{Q.displayName="AcceptedRequirements",Q.__docgenInfo={description:"",displayName:"AcceptedRequirements",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},wikiPage:{defaultValue:null,description:"",name:"wikiPage",required:!0,type:{name:"WikiPageKey | undefined"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement | ManagedACTAccessRequirement | SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus | undefined"}},showButton:{defaultValue:{value:"true"},description:"",name:"showButton",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AcceptedRequirements.tsx#AcceptedRequirements"]={docgenInfo:Q.__docgenInfo,name:"AcceptedRequirements",path:"src/lib/containers/access_requirement_list/AcceptedRequirements.tsx#AcceptedRequirements"})}catch{}const ds=window.React.useEffect,us=window.React.useState;function ms({accessRequirement:t,user:n,onHide:r,accessRequirementStatus:i,entityId:d}){const{accessToken:f}=Y(),[o,u]=us();return ds(()=>{(async()=>{try{const p=await pe(f,t.id);u(p)}catch(p){console.error("Error on get ACTAccessRequirement",p)}})()},[f,t]),e(Q,{accessRequirement:t,accessRequirementStatus:i,user:n,wikiPage:o,onHide:r,entityId:d})}try{ACTAccessRequirement.displayName="ACTAccessRequirement",ACTAccessRequirement.__docgenInfo={description:"",displayName:"ACTAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/ACTAccessRequirement.tsx#ACTAccessRequirement"]={docgenInfo:ACTAccessRequirement.__docgenInfo,name:"ACTAccessRequirement",path:"src/lib/containers/access_requirement_list/ACTAccessRequirement.tsx#ACTAccessRequirement"})}catch{}const Te=window.React.useState,ie=t=>{const{accessToken:n}=Y(),{formSubmitRequestObject:r,onHide:i}=t,[d,f]=Te(),[o,u]=Te(!1),m=async()=>{if(r)try{await we(r,n)?i==null||i():(f({key:"danger",message:"Sorry, there is an error in submitting your request. Please close this dialog and try again later."}),u(!0))}catch(p){console.log("CancelRequestDataAccess: Error updating form",p),f({key:"danger",message:`Sorry, there is an error in submitting your request. ${p.reason||""}. Please close this dialog and try again later`}),u(!0)}};return a(R,{children:[e(I.Header,{closeButton:!0,children:e(I.Title,{className:"AccessRequirementList__title",children:"Save Changes"})}),a(I.Body,{children:[e("p",{children:"Would you like to save your recent changes?"}),d&&e(fe,{variant:d.key,children:d.message})]}),a(I.Footer,{children:[!o&&a(R,{children:[e(H,{variant:"link",onClick:()=>i==null?void 0:i(),children:"Cancel"}),e(H,{variant:"primary",onClick:()=>m(),children:"Save changes"})]}),o&&e(H,{variant:"primary",onClick:()=>i==null?void 0:i(),children:"Close"})]})]})};try{ie.displayName="CancelRequestDataAccess",ie.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{formSubmitRequestObject:{defaultValue:null,description:"",name:"formSubmitRequestObject",required:!0,type:{name:"RequestInterface | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/CancelRequestDataAccess.tsx#CancelRequestDataAccess"]={docgenInfo:ie.__docgenInfo,name:"CancelRequestDataAccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/CancelRequestDataAccess.tsx#CancelRequestDataAccess"})}catch{}const ps=window.React.useEffect,te=window.React.useState,oe=t=>{const{user:n,wikiPage:r,accessRequirementStatus:i,accessRequirement:d,showButton:f=!0,onHide:o,requestDataStepCallback:u}=t,{accessToken:m}=Y(),[p,C]=te(!0),h=i==null?void 0:i.isApproved,[w,O]=te(h),[N,S]=te(),[y,U]=te(),[g,$]=te(!1);ps(()=>{O(h),i!=null&&i.currentSubmissionStatus&&(S(i.currentSubmissionStatus.state),_(i.currentSubmissionStatus))},[h]);const T=()=>{u==null||u({managedACTAccessRequirement:d,step:1})},D=async()=>{if(d.concreteType===V.ManagedACTAccessRequirement)if(m)if(N===F.SUBMITTED&&!g){const B={key:"danger",message:a(R,{children:[e("strong",{children:"Error canceling your data access request."}),e("br",{}),"Please try again later."]})};try{(await je(i==null?void 0:i.currentSubmissionStatus.submissionId,m)).state===F.CANCELLED?(U({key:"success",message:e("strong",{children:"Your data access request has been canceled."})}),$(!0)):U(B)}catch(X){console.log("RequestDataAccess: error canceling data access request:",X),U(B)}}else T();else u==null||u({managedACTAccessRequirement:d,step:4});else if(!w){const B={requirementId:d==null?void 0:d.id,submitterId:n==null?void 0:n.ownerId,accessorId:n==null?void 0:n.ownerId,state:ve.APPROVED};Oe(m,B).then(X=>{O(!0)}).catch(X=>console.error("Error on post access approval: ",X))}},P=()=>{if(d.concreteType===V.ManagedACTAccessRequirement||d.concreteType===V.ACTAccessRequirement)if(N){let B;switch(N){case F.SUBMITTED:B=g?"Update Request":"Cancel Request";break;case F.APPROVED:case F.REJECTED:case F.CANCELLED:B="Update Request"}return B}else return"Request access";else return"I Accept Terms of Use"},_=B=>{switch(B.state){case F.SUBMITTED:U({key:"primary",message:e("strong",{children:"You have submitted a data access request."})});break;case F.APPROVED:U({key:"success",message:e("strong",{children:"Your data access request has been approved."})});break;case F.REJECTED:U({key:"danger",message:a(R,{children:[e("strong",{children:"Your data access request has been rejected."}),e("br",{}),B.rejectedReason||""]})});break}return e(R,{})},L=d.termsOfUse,k=d.actContactInfo,z=d.concreteType===V.TermsOfUseAccessRequirement,E=d.concreteType===V.ACTAccessRequirement,j=z&&L||E&&k;let x=e(R,{});r?x=a("div",{className:"AcceptRequirementsMarkdown",children:[r&&e(me,{wikiId:r==null?void 0:r.wikiPageId,ownerId:r==null?void 0:r.ownerObjectId,objectType:r==null?void 0:r.ownerObjectType}),y&&e(fe,{className:"access-requirement-list-alert",variant:y.key,children:y.message})]}):j&&(x=e(me,{markdown:z?L:k}));const M=d.concreteType===V.ManagedACTAccessRequirement;return e(R,{children:a("div",{"data-testid":"RequestDataAccess",className:"requirement-container",children:[e(J,{isCompleted:w}),a("div",{className:"terms-of-use-content",children:[w?a("div",{children:[e("p",{children:M?"Your data access request has been approved.":"You have accepted the terms of use."}),a("p",{style:{marginBottom:"0"},children:[M&&e("button",{className:"update-request-button",onClick:()=>{T()},style:{paddingLeft:"0",marginRight:"2rem"},children:P()}),e("a",{onClick:()=>{C(!p)},children:"View Terms"})]}),e("div",{className:`view-terms ${p?"hidden":"show"}`,children:x})]}):x,f&&a("div",{className:`button-container ${w?"hide":"default"}`,children:[e("div",{className:"accept-button-container",children:e("button",{className:"accept-button",onClick:D,children:P()})}),e("div",{className:"not-accept-button-container",children:e("button",{className:"not-accpet-button",onClick:()=>o==null?void 0:o(),children:"I do not accept"})})]})]})]})})};try{oe.displayName="RequestDataAccess",oe.__docgenInfo={description:"",displayName:"RequestDataAccess",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},wikiPage:{defaultValue:null,description:"",name:"wikiPage",required:!0,type:{name:"WikiPageKey | undefined"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement | ManagedACTAccessRequirement | SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!1,type:{name:"ManagedACTAccessRequirementStatus"}},showButton:{defaultValue:null,description:"",name:"showButton",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccess.tsx#RequestDataAccess"]={docgenInfo:oe.__docgenInfo,name:"RequestDataAccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccess.tsx#RequestDataAccess"})}catch{}const fs=window.React.useEffect,As=window.React.useState,hs=t=>{const{entityId:n,user:r,accessRequirement:i,accessRequirementStatus:d,onHide:f,requestDataStepCallback:o}=t,{accessToken:u}=Y(),[m,p]=As();return fs(()=>{(async()=>{try{const h=await pe(u,i.id);p(h)}catch(h){console.error("Error on get ManagedACTAccessRequirement",h)}})()},[u,i]),e(oe,{accessRequirement:i,accessRequirementStatus:d,entityId:n,user:r,wikiPage:m,onHide:f,requestDataStepCallback:o})};try{ManagedACTAccessRequirement.displayName="ManagedACTAccessRequirement",ManagedACTAccessRequirement.__docgenInfo={description:"",displayName:"ManagedACTAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"ManagedACTAccessRequirementStatus"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"((props: requestDataStepCallbackProps) => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/ManagedACTAccessRequirement.tsx#ManagedACTAccessRequirement"]={docgenInfo:ManagedACTAccessRequirement.__docgenInfo,name:"ManagedACTAccessRequirement",path:"src/lib/containers/access_requirement_list/managedACTAccess/ManagedACTAccessRequirement.tsx#ManagedACTAccessRequirement"})}catch{}const gs=window.React.useEffect,Rs=window.React.useRef,ae=window.React.useState,le=t=>{const{requestDataStepCallback:n,managedACTAccessRequirement:r,onHide:i}=t,{accessToken:d}=Y(),[f,o]=ae(""),[u,m]=ae(""),[p,C]=ae(""),[h,w]=ae(),O=Rs({});let N=!0;gs(()=>(N&&(w(void 0),S()),()=>{N=!1}),[d]);const S=async()=>{try{const g=await xe(String(r.id),d);g.id&&(O.current=g,o(g.projectLead),m(g.institution),C(g.intendedDataUseStatement))}catch(g){console.log("RequestDataAccessStep1: Error getting research project data: ",g)}},y=(g="")=>a(R,{children:[e("strong",{children:"Unable to update research project data."}),e("br",{}),g]});return e(R,{children:a(q,{className:"access-request-form1",onSubmit:g=>{g.preventDefault();const $=Object.assign({},O.current,{accessRequirementId:String(r.id),institution:u,projectLead:f,intendedDataUseStatement:p});try{Fe($,d).then(T=>{n==null||n({managedACTAccessRequirement:r,step:2,researchProjectId:T.id})}).catch(T=>{console.log("RequestDataAccessStep1: Error updating research project data: ",T),w({key:"danger",message:y(T.reason)})})}catch(T){console.log("RequestDataAccessStep1: Error updating research project data: ",T),w({key:"danger",message:y(T.reason)})}},children:[e(I.Header,{closeButton:!0,children:e(I.Title,{className:"AccessRequirementList__title",children:"Request Access"})}),a(I.Body,{children:[e("p",{children:"Please tell us about your project."}),a(q.Group,{children:[e(q.Label,{htmlFor:"project-lead",children:"Project Lead"}),e(q.Control,{id:"project-lead",type:"text",value:f,required:!0,onChange:g=>o(g.target.value)})]}),a(q.Group,{children:[e(q.Label,{htmlFor:"institution",children:"Institution"}),e(q.Control,{id:"institution",type:"text",value:u,required:!0,onChange:g=>m(g.target.value)})]}),r.isIDURequired&&a(q.Group,{children:[a(q.Label,{htmlFor:"data-use",children:["Intended Data Use Statement -",r.isIDUPublic&&e("i",{id:"idu-visible",children:"this will be visible to the public"})]}),e(q.Control,{id:"data-use",as:"textarea",value:p,rows:10,required:!0,onChange:g=>C(g.target.value)})]}),h&&e(fe,{variant:h.key,children:h.message})]}),a(I.Footer,{children:[e(H,{variant:"link",onClick:()=>i==null?void 0:i(),children:"Cancel"}),e(H,{variant:"primary",type:"submit",children:"Save changes"})]})]})})};try{le.displayName="RequestDataAccessStep1",le.__docgenInfo={description:"",displayName:"RequestDataAccessStep1",props:{requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"((props: requestDataStepCallbackProps) => void)"}},managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep1.tsx#RequestDataAccessStep1"]={docgenInfo:le.__docgenInfo,name:"RequestDataAccessStep1",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep1.tsx#RequestDataAccessStep1"})}catch{}const Z=t=>{const{id:n,fileHandleAssociation:r,className:i,variant:d,fileName:f}=t,{accessToken:o}=Y(),u=async()=>{if(!r.fileHandleId||!o)return;const m={requestedFiles:[r],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1};try{const C=(await Ee(m,o)).requestedFiles[0].preSignedURL;C?window.open(C):console.log("Fail to get file download link")}catch(p){console.log("Fail to get file download link",p)}};return e(R,{children:e(H,{id:n,variant:d,className:i,onClick:m=>u(),children:f})})};try{Z.displayName="DirectDownloadButton",Z.__docgenInfo={description:"",displayName:"DirectDownloadButton",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/DirectDownloadButton.tsx#DirectDownloadButton"]={docgenInfo:Z.__docgenInfo,name:"DirectDownloadButton",path:"src/lib/containers/DirectDownloadButton.tsx#DirectDownloadButton"})}catch{}const qs=window.React.useEffect,W=window.React.useState,de=t=>{const{requestDataStepCallback:n,managedACTAccessRequirement:r,entityId:i,user:d,researchProjectId:f}=t,{accessToken:o}=Y(),[u,m]=W(),[p,C]=W(),[h,w]=W(),[O,N]=W([]),[S,y]=W(),[U,g]=W(),[$,T]=W(!1),[D,P]=W([]),_={},L={requestedFiles:[],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1};let k=!0;qs(()=>(k&&(g(void 0),z()),()=>{k=!1}),[o,f]);const z=async()=>{const s=await Ve(String(r.id),o);if(s.accessorChanges){const c=new Set;s.accessorChanges=s.accessorChanges.filter(l=>c.has(l.userId)?!1:c.add(l.userId))}s.concreteType==="org.sagebionetworks.repo.model.dataaccess.Renewal"&&T(!0),s.researchProjectId=f,y(s),E(s),j(s)},E=s=>{const c=s.accessorChanges,l=[];!c||!c.length?(l.push(d.ownerId),y(b=>Object.assign({},b,{accessorChanges:[{userId:d.ownerId,type:K.GAIN_ACCESS}]}))):c.forEach(b=>{l.push(b.userId)});const A=l.map(b=>Be(o,b));Promise.all(A).then(b=>{const G=b.map((v,_e)=>{var Ce;const Le=c&&((Ce=c[_e])==null?void 0:Ce.type)?c[_e].type:K.GAIN_ACCESS;return{profile:v,accessType:Le}});P(G)})},j=s=>{if(r.isDUCRequired&&r.ducTemplateFileHandleId){const c={associateObjectId:String(r.id),associateObjectType:se.AccessRequirementAttachment,fileHandleId:r.ducTemplateFileHandleId};L.requestedFiles.push(c),_[r.ducTemplateFileHandleId]||(_[r.ducTemplateFileHandleId]=[]),_[r.ducTemplateFileHandleId].push("DUCTemplate"),m(c)}if(r.isDUCRequired&&s.ducFileHandleId){const c={associateObjectId:s.id,associateObjectType:se.DataAccessRequestAttachment,fileHandleId:s.ducFileHandleId};L.requestedFiles.push(c),_[s.ducFileHandleId]||(_[s.ducFileHandleId]=[]),_[s.ducFileHandleId].push("DUC"),C(c)}if(r.isIRBApprovalRequired&&s.irbFileHandleId){const c={associateObjectId:s.id,associateObjectType:se.DataAccessRequestAttachment,fileHandleId:s.irbFileHandleId};L.requestedFiles.push(c),_[s.irbFileHandleId]||(_[s.irbFileHandleId]=[]),_[s.irbFileHandleId].push("IRB"),w(c)}s.attachments&&s.attachments.length&&s.attachments.forEach(c=>{L.requestedFiles.push({associateObjectId:s.id,associateObjectType:se.DataAccessRequestAttachment,fileHandleId:c}),_[c]||(_[c]=[]),_[c].push("attachments")}),L.requestedFiles.length&&Ee(L,o).then(c=>{c.requestedFiles.forEach(l=>{const A=l.fileHandle.fileName,b=_[l.fileHandleId];b.forEach(G=>{switch(G){case"DUCTemplate":m(v=>Object.assign({},v,{fileName:A})),_[l.fileHandleId].splice(b.indexOf("DUCTemplate"),1);break;case"DUC":C(v=>Object.assign({},v,{fileName:A})),_[l.fileHandleId].splice(b.indexOf("DUC"),1);break;case"IRB":w(v=>Object.assign({},v,{fileName:A})),_[l.fileHandleId].splice(b.indexOf("IRB"),1);break;case"attachments":N(v=>[...v,{fileName:A,associateObjectId:s.id,associateObjectType:se.DataAccessRequestAttachment,fileHandleId:l.fileHandleId}]),_[l.fileHandleId].splice(b.indexOf("attachments"),1);break}})})})},x=async()=>{if(S)try{const s=await we(S,o);if(s&&s.etag){const c={requestId:s.id,requestEtag:s.etag,subjectId:i,subjectType:Ne.ENTITY};y(b=>Object.assign({},b,{etag:s.etag}));const l=await Me(c,o),A=ee(l);l.state===F.REJECTED?g({key:"danger",message:A}):n==null||n({step:5})}else g({key:"danger",message:M()})}catch(s){console.log("RequestDataAccessStep2: Error updating form",s),g({key:"danger",message:M(s.reason)})}},M=(s="")=>a(R,{children:[e("strong",{children:"Sorry, there is an error in submitting your request."}),e("br",{}),s]}),ee=s=>{const c="The information has been ";switch(s.state){case F.SUBMITTED:return a("strong",{children:[c," submitted."]});case F.APPROVED:return a("strong",{children:[c," approved."]});case F.CANCELLED:return a("strong",{children:[c," canceled."]});case F.REJECTED:return a(R,{children:[a("strong",{children:[c," rejected."]})," ",s.rejectedReason,". Please close this dialog and try again later."]});default:return e(R,{})}},B=s=>{const c=D.filter(A=>A.profile.ownerId!==s);P(c);const l=c.map(A=>({userId:A.profile.ownerId,type:A.accessType}));y(A=>Object.assign({},A,{accessorChanges:l}))},X=s=>{const c=O.filter(A=>A.fileHandleId!==s);N(c);const l=c.map(A=>A.fileHandleId);y(A=>Object.assign({},A,{attachments:l}))},Ae=s=>{if(s.resp&&s.success){const c=s.resp;if(s.context==="attachments"){const l=S!=null&&S.attachments?S==null?void 0:S.attachments:[];l==null||l.push(c.fileHandleId),y(A=>Object.assign({},A,{attachments:l})),N(A=>[...A,{fileName:c.fileName,fileHandleId:c.fileHandleId}])}else y(l=>Object.assign({},l,{[s.context]:c.fileHandleId})),s.context==="ducFileHandleId"&&C(l=>Object.assign({},l,{fileName:c.fileName,fileHandleId:c.fileHandleId})),s.context==="irbFileHandleId"&&w(l=>Object.assign({},l,{fileName:c.fileName,fileHandleId:c.fileHandleId}))}else!s.success&&s.error&&(console.log("RequestDataAccessStep2: Error uploading the file",s.error),g({key:"danger",message:M(s.error.reason)}))},ke=s=>{if(!D.map(l=>l.profile.ownerId).includes(s.ownerId)){P(b=>{var G,v;return[...b,{profile:{ownerId:s.ownerId,firstName:(G=s.firstName)!=null?G:"",lastName:(v=s.lastName)!=null?v:"",userName:s.userName},accessType:K.GAIN_ACCESS}]});const l={userId:s.ownerId,type:K.GAIN_ACCESS},A=(S==null?void 0:S.accessorChanges)||[];A.push(l),y(b=>Object.assign({},b,{accessorChanges:A}))}},Se=(s,c)=>{const l=s.target.value;switch(c){case"publications":y(A=>Object.assign({},A,{publication:l}));break;case"summaryOfUse":y(A=>Object.assign({},A,{summaryOfUse:l}));break}},De=(s,c)=>{const l=[...D],A=l.findIndex(v=>v.profile.ownerId===c);l[A].accessType=s,P(l);const b=(S==null?void 0:S.accessorChanges)||[],G=b.findIndex(v=>v.userId===c);b[G].type=s,y(v=>Object.assign({},v,{accessorChanges:b}))},Ue=()=>{let s="",c="";return r.isCertifiedUserRequired&&(s="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-CertifiedUsers",c="All data requesters must be a certified user."),r.isValidatedProfileRequired&&(s="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-ValidatedUsers",c="All data requesters must have a validated user profile."),s&&c?a(R,{children:[c,e("a",{href:s,target:"_blank",rel:"noreferrer",children:e(ce,{options:{icon:"info"}})})]}):e(R,{})};return e(R,{children:a(q,{className:"access-request-form2",onSubmit:s=>s.preventDefault(),children:[e(I.Header,{closeButton:!0,children:e(I.Title,{className:"AccessRequirementList__title",children:"Request Access"})}),a(I.Body,{children:[e("p",{children:"Please provide the information below to submit the request for access."}),a(q.Group,{children:[e(q.Label,{htmlFor:"requesters",style:{margin:"0"},children:"Data Requesters"}),e("br",{}),a("span",{className:"requester-label",children:[r.isDUCRequired&&a(R,{children:["This list should match those listed on your DUC.",e("br",{})]}),Ue()]}),e(es,{id:"requesters",typeFilter:Pe.USERS_ONLY,onSelectCallback:ke,filterUserIds:D.map(s=>s.profile.ownerId)})]}),e(q.Group,{style:{marginBottom:"4rem"},children:D.map((s,c)=>a("div",{className:"list-items",children:[e(ss,{userProfile:s.profile,showAccountLevelIcon:!0,disableLink:!0,showFullName:!0}),d.ownerId!==s.profile.ownerId&&s.accessType===K.GAIN_ACCESS&&e(H,{className:"clear-x",variant:"link",onClick:()=>B(s.profile.ownerId),children:e(ce,{options:{icon:"clear"}})}),$&&s.accessType!==K.GAIN_ACCESS&&e(R,{children:e(ts,{id:`accessor-renewal-${s.profile.ownerId}`,value:s.accessType,options:[{label:"Renew",value:K.RENEW_ACCESS},{label:"Revoke",value:K.REVOKE_ACCESS}],onChange:l=>De(l,s.profile.ownerId)})})]},`accessor-${c}`))}),(r==null?void 0:r.isDUCRequired)&&a(R,{children:[a(q.Group,{children:[e(q.Label,{htmlFor:"duc-temp",className:"SRC-noMargin",children:"DUC template"}),e("br",{}),u&&e("div",{children:e(Z,{fileHandleAssociation:{associateObjectId:u==null?void 0:u.associateObjectId,associateObjectType:u.associateObjectType,fileHandleId:u.fileHandleId},fileName:u.fileName,id:"duc-temp",variant:"link",className:"SRC-noPadding"})})]}),a(q.Group,{children:[e(q.Label,{htmlFor:"duc",className:"SRC-noMargin",children:"Upload DUC"}),e("br",{}),p&&e("div",{children:e(Z,{fileHandleAssociation:{associateObjectId:p.associateObjectId,associateObjectType:p.associateObjectType,fileHandleId:p.fileHandleId},fileName:p==null?void 0:p.fileName,id:"duc-download",variant:"link",className:"SRC-noPadding"})}),e(he,{id:"duc-browse",variant:"light-primary-base",uploadCallback:Ae,context:"ducFileHandleId"})]})]}),(r==null?void 0:r.isIRBApprovalRequired)&&a(q.Group,{children:[e(q.Label,{htmlFor:"irb",className:"SRC-noMargin",children:"Upload IRB approval"}),e("br",{}),h&&e("div",{children:e(Z,{fileHandleAssociation:{associateObjectId:h.associateObjectId,associateObjectType:h.associateObjectType,fileHandleId:h.fileHandleId},fileName:h==null?void 0:h.fileName,id:"irb-download",variant:"link",className:"SRC-noPadding"})}),e(he,{id:"irb-browse",variant:"light-primary-base",uploadCallback:Ae,context:"irbFileHandleId"})]}),(r==null?void 0:r.areOtherAttachmentsRequired)&&a(q.Group,{children:[e(q.Label,{className:"SRC-noMargin",children:"Upload other required documents"}),e("br",{}),O.map((s,c)=>a("div",{className:"list-items",children:[e(Z,{fileHandleAssociation:{associateObjectId:s.associateObjectId,associateObjectType:s.associateObjectType,fileHandleId:s.fileHandleId},fileName:s==null?void 0:s.fileName,variant:"link",className:"SRC-noPadding attachment-download"}),e(H,{className:"clear-x",variant:"link",onClick:()=>X(s.fileHandleId),children:e(ce,{options:{icon:"clear"}})})]},`file-attachment-${c}`)),e(he,{id:"attachment-browse",variant:"light-primary-base",uploadCallback:Ae,context:"attachments"})]}),$&&a(R,{children:[a(q.Group,{children:[e(q.Label,{htmlFor:"publications",className:"SRC-noMargin",children:"Publication(s)"}),e(q.Control,{id:"publications",as:"textarea",rows:3,onChange:s=>Se(s,"publications")})]}),a(q.Group,{children:[e(q.Label,{htmlFor:"summaryOfUse",className:"SRC-noMargin",children:"Summary of use"}),e(q.Control,{id:"summaryOfUse",as:"textarea",rows:3,onChange:s=>Se(s,"summaryOfUse")})]})]}),U&&e(fe,{variant:U.key,children:U.message})]}),e(I.Footer,{children:a(R,{children:[e(H,{variant:"link",onClick:()=>n==null?void 0:n({step:3,formSubmitRequestObject:S}),children:"Cancel"}),e(H,{variant:"primary",onClick:()=>x(),children:"Submit"})]})})]})})};try{de.displayName="RequestDataAccessStep2",de.__docgenInfo={description:"",displayName:"RequestDataAccessStep2",props:{managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!0,type:{name:"(props: requestDataStepCallbackProps) => void"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile"}},researchProjectId:{defaultValue:null,description:"",name:"researchProjectId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep2.tsx#RequestDataAccessStep2"]={docgenInfo:de.__docgenInfo,name:"RequestDataAccessStep2",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep2.tsx#RequestDataAccessStep2"})}catch{}const ue=t=>{const{onHide:n}=t;return a(R,{children:[e(I.Header,{closeButton:!0,children:e(I.Title,{className:"AccessRequirementList__title",children:"Your Data Access Request Has Been Submitted!"})}),e(I.Body,{children:e("p",{style:{margin:"2rem 0"},children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),e(I.Footer,{children:e(H,{variant:"primary",onClick:()=>n==null?void 0:n(),children:"Finish"})})]})};try{ue.displayName="RequestDataAccessSuccess",ue.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessSuccess.tsx#RequestDataAccessSuccess"]={docgenInfo:ue.__docgenInfo,name:"RequestDataAccessSuccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessSuccess.tsx#RequestDataAccessSuccess"})}catch{}const Ss=window.React.useEffect,ge=window.React.useState;function _s({accessRequirement:t,user:n,onHide:r,accessRequirementStatus:i,entityId:d}){const{accessToken:f}=Y(),[o,u]=ge(void 0),[m,p]=ge(void 0),[C,h]=ge(!1);return Ss(()=>{(async()=>{try{h(!0);const O=await pe(f,t.id);u(O);const N=He|Ye;if(n!=null&&n.ownerId){const S=await $e(n.ownerId,N,f);p(S)}}catch(O){console.error("Error on get Self Sign Access Requirement: ",O)}finally{h(!1)}})()},[t,f,n]),a(R,{children:[t.isCertifiedUserRequired&&a("div",{className:"requirement-container",children:[e(J,{isCompleted:m==null?void 0:m.isCertified}),a("div",{children:[a("p",{className:"self-sign-access-title bold-text",children:["You must first become a",e("a",{className:"self-sign-access-certified bold-text",href:`${re.PORTAL}#!Quiz:`,children:"\xA0certified user"})]}),C&&e("span",{className:"spinner"}),e("p",{className:`self-sign-access-certified-success-text ${m!=null&&m.isCertified?"show":"hidden"}`,children:"You are a certified user"})]})]}),t.isValidatedProfileRequired&&a("div",{className:"requirement-container",children:[e(J,{isCompleted:m==null?void 0:m.isVerified}),a("div",{children:[a("p",{className:"self-sign-access-title bold-text",children:["You must first apply to have your",e("a",{className:"self-sign-access-validated bold-text",href:`${re.PORTAL}#!Profile:v/settings`,children:"\xA0user profile validated"})]}),C&&e("span",{className:"spinner"}),e("p",{className:`self-sign-access-verified-success-text ${m!=null&&m.isVerified?"show":"hidden"}`,children:"You have applied to have user profile valiadation successfully"})]})]}),e(Q,{user:n,wikiPage:o,accessRequirement:t,accessRequirementStatus:i,onHide:r,entityId:d})]})}try{SelfSignAccessRequirement.displayName="SelfSignAccessRequirement",SelfSignAccessRequirement.__docgenInfo={description:"",displayName:"SelfSignAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/SelfSignAccessRequirement.tsx#SelfSignAccessRequirement"]={docgenInfo:SelfSignAccessRequirement.__docgenInfo,name:"SelfSignAccessRequirement",path:"src/lib/containers/access_requirement_list/SelfSignAccessRequirement.tsx#SelfSignAccessRequirement"})}catch{}const Cs=window.React.useEffect,be=window.React.useState;function ys({accessRequirement:t,user:n,onHide:r,accessRequirementStatus:i,entityId:d}){const{accessToken:f}=Y(),[o,u]=be(void 0),[m,p]=be(!1);return Cs(()=>{(async()=>{p(!0);try{const h=await pe(f,t.id);u(h)}catch(h){console.error("Error on prepare terms of use ",h)}finally{p(!1)}})()},[f,t]),a(R,{children:[m&&e("span",{className:"spinner"}),e(Q,{user:n,wikiPage:o,accessRequirement:t,accessRequirementStatus:i,onHide:r,entityId:d})]})}try{TermsOfUseAccessRequirement.displayName="TermsOfUseAccessRequirement",TermsOfUseAccessRequirement.__docgenInfo={description:"",displayName:"TermsOfUseAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/TermsOfUseAccessRequirement.tsx#TermsOfUseAccessRequirement"]={docgenInfo:TermsOfUseAccessRequirement.__docgenInfo,name:"TermsOfUseAccessRequirement",path:"src/lib/containers/access_requirement_list/TermsOfUseAccessRequirement.tsx#TermsOfUseAccessRequirement"})}catch{}const Ts=window.React,bs=window.React.useEffect,ne=window.React.useState;var V=(t=>(t.SelfSignAccessRequirement="org.sagebionetworks.repo.model.SelfSignAccessRequirement",t.TermsOfUseAccessRequirement="org.sagebionetworks.repo.model.TermsOfUseAccessRequirement",t.ManagedACTAccessRequirement="org.sagebionetworks.repo.model.ManagedACTAccessRequirement",t.ACTAccessRequirement="org.sagebionetworks.repo.model.ACTAccessRequirement",t))(V||{});const Re=t=>t.filter(Is).length>0,Is=t=>{switch(t.concreteType){case"org.sagebionetworks.repo.model.ACTAccessRequirement":case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":return!1;default:return!0}},Ie=async(t,n)=>{const r=n.map(o=>ze(t,o.id)),i=await Promise.all(r),d=n.map(o=>({accessRequirement:o,accessRequirementStatus:i.find(u=>Number(u.accessRequirementId)===o.id)}));return ns(d,o=>-1*Number(o.accessRequirementStatus.isApproved))};function qe({entityId:t,onHide:n,accessRequirementFromProps:r,renderAsModal:i,numberOfFilesAffected:d}){var z;const{accessToken:f}=Y(),[o,u]=ne(void 0),[m,p]=ne(),[C,h]=ne(),[w,O]=ne(""),[N,S]=ne(),y={ids:[t],type:"ENTITY_HEADER"},g=os(f)||!o,$=Xe(y),{data:T}=Ke();bs(()=>{let E=!1;return(async()=>{try{if(!g)return;if(r){const x=await Ie(f,r);E||u(x)}else{const x=await Je(f,t),M=await Ie(f,x);E||u(M)}}catch(x){console.error("Error on get access requirements: ",x)}})(),()=>{E=!0}},[f,t,r,g]);const D=Boolean(f),P=(E,j)=>{switch(E.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":return e(_s,{accessRequirement:E,accessRequirementStatus:j,user:T,onHide:n,entityId:t});case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return e(ys,{accessRequirement:E,accessRequirementStatus:j,user:T,onHide:n,entityId:t});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return e(hs,{accessRequirement:E,accessRequirementStatus:j,user:T,onHide:n,entityId:t,requestDataStepCallback:_});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return e(ms,{accessRequirement:E,accessRequirementStatus:j,user:T,onHide:n,entityId:t});default:return}},_=E=>{const{managedACTAccessRequirement:j,step:x,researchProjectId:M,formSubmitRequestObject:ee}=E;j&&h(j),M&&O(M),ee&&S(ee),p(x)},L=a(R,{children:[e(I.Header,{closeButton:!0,children:e(I.Title,{className:"AccessRequirementList__title",children:"Data Access Request"})}),e(I.Body,{children:a("div",{children:[e("h4",{className:"AccessRequirementList__instruction AccessRequirementList__access",children:"Access For:"}),e("span",{className:"AccessRequirementList__file-icon-container",children:e(ce,{options:{icon:"file",size:"30px"}})}),"\xA0",d&&a("span",{children:[d," File(s)"]}),!d&&e("a",{className:"AccessRequirementList__register-text-link",href:`${re.PORTAL}#!Synapse:${t}`,children:(z=$[0])==null?void 0:z.name}),e("h4",{className:"AccessRequirementList__instruction",style:{marginTop:"3rem"},children:"What do I need to do?"}),a("div",{className:"requirement-container",children:[e(J,{isCompleted:D}),a("div",{children:[!D&&a(R,{children:[a("p",{className:"AccessRequirementList__signin",children:[e("a",{className:`${Ge} SRC-boldText `,children:"Sign in\xA0"}),"with a Sage Platform (Synapse) user account."]}),a("p",{children:["If you do not have a Sage Account, you can",e("a",{className:"register-text-link bold-text",href:`${re.PORTAL}#!RegisterAccount:0`,children:"\xA0Register for free."})]})]}),D&&a("p",{children:["You have signed in with the Sage Platform (Synapse) user account ",a("b",{children:[T==null?void 0:T.userName,"@synapse.org"]})]})]})]}),o==null?void 0:o.map(({accessRequirement:E,accessRequirementStatus:j})=>e(Ts.Fragment,{children:P(E,j)},E.id))]})})]});let k=L;if(i){switch(m){case 1:k=e(le,{managedACTAccessRequirement:C,requestDataStepCallback:_,onHide:()=>n==null?void 0:n()});break;case 2:k=e(de,{user:T,researchProjectId:w,managedACTAccessRequirement:C,entityId:t,requestDataStepCallback:_,onHide:()=>n==null?void 0:n()});break;case 3:k=e(ie,{formSubmitRequestObject:N,onHide:()=>n==null?void 0:n()});break;case 4:k=a(R,{children:[e(I.Header,{closeButton:!1,children:e(I.Title,{className:"AccessRequirementList__title",children:"Please Log In"})}),e(I.Body,{className:"AccessRequirementList login-modal ",children:e(We,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:k=e(ue,{onHide:()=>n==null?void 0:n()});break;default:k=L}return e(I,{className:m?"bootstrap-4-backport AccessRequirementList modal-auto-height":"bootstrap-4-backport AccessRequirementList",onHide:()=>n==null?void 0:n(),show:!0,animation:!1,centered:!0,scrollable:!0,size:"lg",children:k})}return e("div",{className:"AccessRequirementList",children:k})}try{qe.displayName="AccessRequirementList",qe.__docgenInfo={description:"",displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessRequirementList.tsx#AccessRequirementList"]={docgenInfo:qe.__docgenInfo,name:"AccessRequirementList",path:"src/lib/containers/access_requirement_list/AccessRequirementList.tsx#AccessRequirementList"})}catch{}try{Re.displayName="checkHasUnsportedRequirement",Re.__docgenInfo={description:"",displayName:"checkHasUnsportedRequirement",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessRequirementList.tsx#checkHasUnsportedRequirement"]={docgenInfo:Re.__docgenInfo,name:"checkHasUnsportedRequirement",path:"src/lib/containers/access_requirement_list/AccessRequirementList.tsx#checkHasUnsportedRequirement"})}catch{}export{qe as A,Ne as R,V as S,rs as a,Re as c};
//# sourceMappingURL=AccessRequirementList.17f0e1d1.js.map
