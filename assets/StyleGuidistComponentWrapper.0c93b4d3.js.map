{"version":3,"file":"StyleGuidistComponentWrapper.0c93b4d3.js","sources":["../../src/lib/containers/StyleGuidistComponentWrapper.tsx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { MemoryRouter } from 'react-router-dom'\nimport { SynapseContextProvider } from '../utils/SynapseContext'\nimport { SynapseClient } from '../utils'\nimport { SynapseToastContainer } from './ToastMessage'\nimport moment from 'moment'\nimport {\n  detectSSOCode,\n  getAccessTokenFromCookie,\n  getUserProfile,\n  getAuthenticatedOn,\n} from '../utils/SynapseClient'\n\nexport async function sessionChangeHandler() {\n  detectSSOCode()\n  const accessToken = await getAccessTokenFromCookie()\n  global.accessToken = accessToken\n  const profile = await getUserProfile(accessToken)\n  global.currentUserProfile = profile\n  if (accessToken) {\n    getAuthenticatedOn(accessToken).then(authenticatedOn => {\n      const date = moment(authenticatedOn.authenticatedOn).format('L LT')\n    })\n  }\n  return profile\n}\n\nexport const StyleGuidistComponentWrapper: React.FC = props => {\n  useEffect(() => {\n    sessionChangeHandler()\n  }, [])\n  return (\n    <SynapseContextProvider\n      synapseContext={{\n        accessToken: (global as any).accessToken,\n        isInExperimentalMode: SynapseClient.isInSynapseExperimentalMode(),\n        utcTime: SynapseClient.getUseUtcTimeFromCookie(),\n        withErrorBoundary: true,\n      }}\n    >\n      <MemoryRouter>\n        <SynapseToastContainer />\n        <main>{props.children}</main>\n      </MemoryRouter>\n    </SynapseContextProvider>\n  )\n}\n\nexport default StyleGuidistComponentWrapper\n"],"names":["detectSSOCode","global","getAuthenticatedOn","moment","useEffect","sessionChangeHandler","_jsx","accessToken","SynapseClient.getUseUtcTimeFromCookie","_jsxs","children"],"mappings":"uTAAA,KAAA,GAAA,OAAA,MAAA,UAaA,kBAAA,CACEA,IACA,KAAA,GAAA,KAAA,KACAC,OAAAA,YAAAA,EACA,KAAA,GAAA,KAAA,GAAA,CAAA,EACAA,cAAAA,mBAAAA,EACA,GACEC,EAAAA,CAAAA,EAAAA,KAAAA,AAAAA,GAAAA,CACEC,EAAA,EAAA,eAAA,EAAA,OAAA,MAAA,CAAa,CAAA,EAGjB,CACD,CAEM,KAAA,GAAA,AAAA,GACLC,GAAAA,IAAAA,CACEC,GAAoB,EAAA,CAAA,CAAA,EAEtBC,EAAA,EAAA,CACE,eAAA,CACkB,YAAA,OAAA,YACeC,qBAAAA,EAAAA,EADf,QAAAC,EAAA,EAAA,kBAAA,EAIK,EAJL,SAAAC,EAAA,EAAA,CAOhB,SAAA,CAAAH,EAAA,EAAA,CAAA,CAAA,EAAAA,EAAA,OAAA,CAEE,SAAA,EAAA,QAAaI,CAAAA,CAAAA,CAFf,CAAA,CAAA,CAAA"}