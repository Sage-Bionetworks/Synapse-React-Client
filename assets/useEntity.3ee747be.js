import{r as y}from"./jsx-runtime.d04151d1.js";import{V as r,X as f,$ as g,aR as l,be as T,bf as m,bg as k,bh as w,bi as Q,bj as h,bk as E}from"./EntityTypeUtils.9c2483b3.js";import{u as S}from"./useMutation.ce8e7b55.js";import{u as x}from"./useInfiniteQuery.10e21598.js";import{e as u,i as d}from"./queryKeys.e0d3085f.js";import{_ as M,o as C}from"./pick.b8d5c0b8.js";function F(t,s,n){const{accessToken:e}=r();return f(u.version(t,s),()=>g(e,t,s==null?void 0:s.toString()),n)}function L(t){const s=l(),{accessToken:n}=r();return S(e=>T(e,n),{...t,onSuccess:async(e,a,c)=>{await d(s,e.id),s.setQueryData(u.entity(e.id),e),t!=null&&t.onSuccess&&await t.onSuccess(e,a,c)}})}function A(t){const s=l(),{accessToken:n}=r();return S(e=>Q(n,e),{...t,onSuccess:async(e,a,c)=>{await d(s,a),t!=null&&t.onSuccess&&await t.onSuccess(e,a,c)}})}function K(t,s){const{accessToken:e}=r();return x(u.versions(t),async a=>await h(t,e,a.pageParam,200),{...s,getNextPageParam:(a,c)=>{if(a.results.length>0)return c.length*200}})}function I(t){return M(t,E[t.concreteType])}function J(t){return C(t,E[t.concreteType])}function U(t,s){const[n,e]=y.exports.useState(),[a,c]=y.exports.useState(),{accessToken:o}=r(),i=f(u.json(t),()=>m(t,o),s);return y.exports.useEffect(()=>{i.data&&(e(I(i.data)),c(J(i.data)))},[i.data]),{...i,entityMetadata:n,annotations:a}}function _(t){const s=l(),{accessToken:n}=r();return S(e=>{const a=e.id;return k(a,e,n)},{...t,onSuccess:async(e,a,c)=>{const o=e.id;await d(s,o),s.setQueryData(u.json(o),e),t!=null&&t.onSuccess&&await t.onSuccess(e,a,c)}})}function R(t,s){const{accessToken:n}=r();return f(u.path(t),()=>w(t,n),s)}export{A as a,K as b,U as c,_ as d,R as e,L as f,F as u};
