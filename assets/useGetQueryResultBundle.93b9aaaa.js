import{V as h,N as E,Q as d,z as Q,B as T}from"./index.7f0167ac.js";import{a as l,c as S}from"./useUserBundle.6ae2c7f8.js";import{u as b}from"./useInfiniteQuery.ca68d3ac.js";import{e as i}from"./queryKeys.e0d3085f.js";const B=(e,t)=>{var u,o;return(o=(u=t==null?void 0:t.selectColumns)==null?void 0:u.findIndex(s=>s.name===e))!=null?o:-1},V=(e,t)=>e==null||t==null||e.length===0||t.length===0?!1:e.filter(o=>!A(o)&&t.find(s=>s.name===o.columnName)).length>0,A=e=>e.facetType==="enumeration"&&e.facetValues.length==1&&e.facetValues[0].value==h,f={refetchOnWindowFocus:!1};function _(e,t){const{accessToken:u}=l();return S(i.tableQueryResult(e,!1),()=>E(e,u),{...f,...t})}function k(e,t,u){const{accessToken:o}=l();return S(i.tableQueryResultWithAsyncStatus(e,!1),()=>d(e,o,u),{...f,...t})}function q(e,t,u){const{accessToken:o}=l();return b(i.tableQueryResult(e,!0),s=>{const r=s.pageParam?parseInt(s.pageParam):0;return d({...e,query:{...e.query,offset:r},partMask:r!==0?e.partMask&T:e.partMask},o,u)},{...f,...t,select:s=>{const r=s==null?void 0:s.pages[0];if(r.responseBody)for(let n=0;n<s.pages.length;n++){const a=s.pages[n];a.responseBody!=null&&(s.pages[n].responseBody={...r.responseBody,queryResult:a.responseBody.queryResult})}return s},getPreviousPageParam:s=>{var a;if(s.jobState!=="COMPLETE")return;const r=s.requestBody;if(r.query.offset==null||r.query.offset===0)return;const n=(a=r.query.limit)!=null?a:Q;return Math.max(r.query.offset-n,0)},getNextPageParam:(s,r)=>{var c,p,g,m;if(s.jobState!=="COMPLETE")return;const n=s.requestBody,a=(c=n.query.limit)!=null?c:Q,y=(p=r[0].responseBody)==null?void 0:p.queryCount;if(!(y!=null&&((g=n.query.offset)!=null?g:0)+a>=y))return s.responseBody.queryResult.queryResults.rows.length===a?((m=n.query.offset)!=null?m:0)+a:void 0}})}export{k as a,A as b,_ as c,B as g,V as i,q as u};
//# sourceMappingURL=useGetQueryResultBundle.93b9aaaa.js.map
