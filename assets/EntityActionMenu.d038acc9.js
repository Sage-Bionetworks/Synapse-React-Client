import{C as A}from"./ComplexMenu.e260d960.js";import{I as f}from"./IconSvg.e161b9ac.js";import{j as l}from"./jsx-runtime.b9dbe3f2.js";function M(i,e){return Object.fromEntries(Object.entries(i).filter(([o,n])=>!n||!n.visible?!1:![...e.buttonActions,...e.primaryMenuActions.flat(),...e.downloadMenuActions.flat()].some(r=>r.action===o)))}function g(i,e){return i.reduce((o,n)=>{var r;const t=e[n.action];return t&&t.visible&&o.push({text:(r=t.text)!=null?r:n.action,onClick:t.onClick,href:t.href,tooltipText:t.tooltipText,disabled:t.disabled,icon:n.icon,textSx:n.textSx,iconSx:n.iconSx}),o},[])}function p(i,e){return i.reduce((o,n)=>{const t=g(n,e);return t.length>0&&o.push(t),o},[])}function d(i){const{actionConfiguration:e,menuConfiguration:o,layout:n}=i,t=M(e,n);Object.entries(t).length>0&&(console.warn("Actions are visible but have not been configured in the layout:",Object.entries(t).map(a=>a[0])),n.primaryMenuActions.unshift(Object.entries(t).map(a=>({action:a[0]}))));const r=n.buttonActions.reduce((a,c)=>{const u=e[c.action];if(u&&u.visible){let s=u.onClick;s==null&&(console.warn(`No handler registered for ${c.action}`),s=()=>{console.warn(`No handler registered for ${c.action}`)}),a.push({icon:c.icon,onClick:s,tooltipText:u.text,disabled:u.disabled})}return a},[]),m={dropdownButtonText:"Download Options",convertSingleItemToButton:!1,renderMenuIfNoItems:!1,buttonTooltip:o.DOWNLOAD.tooltipText,buttonProps:{disabled:o.DOWNLOAD.disabled,endIcon:l(f,{icon:"download",wrap:!1})},items:p(n.downloadMenuActions,e)},y={dropdownButtonText:n.primaryMenuText,convertSingleItemToButton:!0,renderMenuIfNoItems:!1,buttonProps:{endIcon:l(f,{icon:n.primaryMenuEndIcon,wrap:!1})},items:p(n.primaryMenuActions,e)};return l(A,{iconButtons:r,dropdownMenus:[m,y]})}try{d.displayName="EntityActionMenu",d.__docgenInfo={description:"The EntityActionMenu renders a menu that displays the actions that can be invoked on an Entity page.",displayName:"EntityActionMenu",props:{actionConfiguration:{defaultValue:null,description:"",name:"actionConfiguration",required:!0,type:{name:"ActionConfigurationMap"}},menuConfiguration:{defaultValue:null,description:"",name:"menuConfiguration",required:!0,type:{name:"MenuConfigurationMap"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"EntityActionMenuLayout"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/page/action_menu/EntityActionMenu.tsx#EntityActionMenu"]={docgenInfo:d.__docgenInfo,name:"EntityActionMenu",path:"src/lib/containers/entity/page/action_menu/EntityActionMenu.tsx#EntityActionMenu"})}catch{}export{d as E};
