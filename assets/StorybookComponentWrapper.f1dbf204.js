import{R as l,r as s,j as n,a as d}from"./jsx-runtime.2b71273f.js";import{Q as u,d as m,i as y,g as f,S as C,a as S,b as h,c as k,e as g,s as x,f as _}from"./index.3d089af5.js";import{S as b}from"./ToastMessage.486f16ec.js";import{h as T}from"./moment.a565bb48.js";import{M as w}from"./react-router.fcbac975.js";var p={exports:{}};p.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function E(){S();let e=await h(),t;try{t=await k(e)}catch(o){throw o instanceof g&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await x(()=>{}),e=void 0),o}let r;return e&&_(e).then(o=>{r=T(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:r}}const i=new u(m);function c(e){const[t,r]=l.useState(void 0);s.exports.useEffect(()=>{E().then(a=>{r(a.accessToken)})}),s.exports.useEffect(()=>{async function a(){await i.cancelQueries(),await i.invalidateQueries()}a()},[t]);const o=s.exports.useMemo(()=>({accessToken:t,isInExperimentalMode:y(),utcTime:f(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[t]);return n(C,{queryClient:i,synapseContext:o,children:d(w,{children:[n(p.exports.ReactQueryDevtools,{}),n(b,{}),n("main",{children:e.children})]})},t)}try{c.displayName="StorybookComponentWrapper",c.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"]={docgenInfo:c.__docgenInfo,name:"StorybookComponentWrapper",path:"src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"})}catch{}export{c as S,E as s};
