import{r as n,R as d,j as s,a as u}from"./jsx-runtime.8deabff4.js";import{Q as m,d as y,i as f,g as C,S as P,a as S,b as h,c as g,e as k,f as b,s as x,h as _,p as E,j as w,m as T,k as R,l as O,n as v,o as A,q as Q,r as W,t as I,u as M,v as j}from"./index.7e720d98.js";import{S as B}from"./ToastMessage.0865ace5.js";import{d as D}from"./dayjs.min.98c05744.js";import{S as K}from"./getEndpoint.f1f195f5.js";import{M as N}from"./react-router.7ef513fe.js";var c={exports:{}};c.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function q(){h();let e=await g(),t;try{t=await k(e)}catch(o){throw o instanceof b&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await x(()=>{}),e=void 0),o}let a;return e&&_(e).then(o=>{a=D(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new m(y);function L(e){const t=K[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const U={default:E,sageBionetworks:w,mtb:T,arkPortal:R,adKnowledgePortal:O,nfPortal:v,bsmnPortal:A,psychEncodePortal:Q,stopAdPortal:W,digitalHealthPortal:I,crcResearcherPortal:M,cancerComplexityPortal:j};function i(e){const{storybookContext:t}=e;n.exports.useEffect(()=>{L(t.globals.stack)},[t.globals.stack]);const[a,o]=d.useState(void 0);n.exports.useEffect(()=>{q().then(l=>{o(l.accessToken)})}),n.exports.useEffect(()=>{async function l(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}l()},[a]);const p=n.exports.useMemo(()=>({accessToken:a,isInExperimentalMode:f(),utcTime:C(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]);return s(P,{queryClient:r,synapseContext:p,theme:{...S,palette:U[t.globals.palette]},children:u(N,{children:[s(c.exports.ReactQueryDevtools,{}),s(B,{}),s("main",{children:e.children})]})},a)}try{i.displayName="StorybookComponentWrapper",i.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"]={docgenInfo:i.__docgenInfo,name:"StorybookComponentWrapper",path:"src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"})}catch{}export{i as S,q as s};
