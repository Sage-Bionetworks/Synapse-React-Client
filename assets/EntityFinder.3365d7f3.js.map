{"version":3,"file":"EntityFinder.3365d7f3.js","sources":["../../node_modules/@material-ui/icons/esm/ChatBubbleTwoTone.js","../../node_modules/@material-ui/icons/esm/DescriptionTwoTone.js","../../node_modules/@material-ui/icons/esm/LinkOffTwoTone.js","../../node_modules/@material-ui/icons/esm/LocalOfferTwoTone.js","../../src/lib/utils/hooks/SynapseAPI/search/useSearch.ts","../../src/lib/utils/hooks/SynapseAPI/user/useProjects.ts","../../node_modules/@babel/runtime/helpers/esm/objectSpread.js","../../node_modules/react-reflex/dist/es/utilities.js","../../node_modules/react-reflex/dist/es/ReflexSplitter.js","../../node_modules/react-reflex/dist/es/ReflexEvents.js","../../node_modules/react-reflex/dist/es/Polyfills.js","../../node_modules/react-reflex/dist/es/ReflexContainer.js","../../node_modules/react-reflex/dist/es/ReflexHandle.js","../../node_modules/lodash.throttle/index.js","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../node_modules/react-measure/dist/index.esm.js","../../node_modules/react-reflex/dist/es/ReflexElement.js","../../src/lib/containers/entity_finder/Breadcrumbs.tsx","../../src/lib/utils/hooks/useGetIsAllSelectedInfiniteList.ts","../../node_modules/react-window/dist/index.esm.js","../../node_modules/@sage-bionetworks/react-base-table/es/TableHeader.js","../../node_modules/@sage-bionetworks/react-base-table/es/utils.js","../../node_modules/@sage-bionetworks/react-base-table/es/GridTable.js","../../node_modules/@sage-bionetworks/react-base-table/es/TableHeaderRow.js","../../node_modules/@sage-bionetworks/react-base-table/es/TableRow.js","../../node_modules/@sage-bionetworks/react-base-table/es/TableHeaderCell.js","../../node_modules/@sage-bionetworks/react-base-table/es/TableCell.js","../../node_modules/@sage-bionetworks/react-base-table/es/Column.js","../../node_modules/@sage-bionetworks/react-base-table/es/SortOrder.js","../../node_modules/@sage-bionetworks/react-base-table/es/ExpandIcon.js","../../node_modules/@sage-bionetworks/react-base-table/es/SortIndicator.js","../../node_modules/@sage-bionetworks/react-base-table/es/ColumnResizer.js","../../node_modules/@sage-bionetworks/react-base-table/es/ColumnManager.js","../../node_modules/@sage-bionetworks/react-base-table/es/BaseTable.js","../../node_modules/react-virtualized-auto-sizer/dist/index.esm.js","../../node_modules/@sage-bionetworks/react-base-table/es/AutoResizer.js","../../src/lib/containers/EntityBadgeIcons.tsx","../../src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx","../../src/lib/containers/entity_finder/details/view/DetailsView.tsx","../../src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx","../../src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx","../../src/lib/containers/entity_finder/details/EntityDetailsList.tsx","../../src/lib/containers/entity_finder/SelectionPane.tsx","../../node_modules/react-merge-refs/dist/react-merge-refs.esm.js","../../node_modules/react-vtree/dist/es/utils.js","../../node_modules/react-vtree/dist/es/Tree.js","../../node_modules/react-vtree/dist/es/VariableSizeTree.js","../../src/lib/containers/entity_finder/tree/VirtualizedTree.tsx","../../src/lib/containers/entity_finder/tree/EntityTree.tsx","../../node_modules/immutable/dist/immutable.es.js","../../src/lib/containers/entity_finder/useEntitySelection.ts","../../src/lib/containers/entity_finder/EntityFinder.tsx"],"sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 18l2-2h14V4H4z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"\n})), 'ChatBubbleTwoTone');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"\n})), 'DescriptionTwoTone');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.39 11L16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z\"\n}), 'LinkOffTwoTone');","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z\",\n  opacity: \".3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"6.5\",\n  cy: \"6.5\",\n  r: \"1.5\"\n})), 'LocalOfferTwoTone');","import {\n  QueryFunctionContext,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { SearchQuery, SearchResults } from '../../../synapseTypes/Search'\n\nexport function useSearch(\n  query: SearchQuery,\n  options?: UseQueryOptions<SearchResults, SynapseClientError, SearchResults>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<SearchResults, SynapseClientError>(\n    ['search', accessToken, query],\n    () => SynapseClient.searchEntities(query, accessToken),\n    options,\n  )\n}\n\nexport function useSearchInfinite(\n  query: Omit<SearchQuery, 'start'>,\n  options?: UseInfiniteQueryOptions<\n    SearchResults,\n    SynapseClientError,\n    SearchResults\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n\n  return useInfiniteQuery<SearchResults, SynapseClientError>(\n    ['search', accessToken, query],\n    async (context: QueryFunctionContext) => {\n      return SynapseClient.searchEntities(\n        { ...query, start: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: prevPage => {\n        if (prevPage.start + prevPage.hits.length === prevPage.found) {\n          return null\n        } else {\n          return prevPage.start + prevPage.hits.length\n        }\n      },\n    },\n  )\n}\n","import {\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { ProjectHeaderList } from '../../../synapseTypes'\nimport { GetProjectsParameters } from '../../../synapseTypes/GetProjectsParams'\n\nexport function useGetProjects(\n  params?: GetProjectsParameters,\n  options?: UseQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery<ProjectHeaderList, SynapseClientError>(\n    ['myProjects', accessToken, params],\n    () => SynapseClient.getMyProjects(accessToken!, params),\n    options,\n  )\n}\n\nexport function useGetProjectsInfinite(\n  params: GetProjectsParameters,\n  options?: UseInfiniteQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken } = useSynapseContext()\n\n  return useInfiniteQuery<ProjectHeaderList, SynapseClientError>(\n    ['myProjects', accessToken, params],\n    async context => {\n      return await SynapseClient.getMyProjects(accessToken!, {\n        ...params,\n        nextPageToken: context.pageParam,\n      })\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n\n/////////////////////////////////////////////////////////\n// Browser Utils\n//\n/////////////////////////////////////////////////////////\nclass Browser {\n  // Check if not running on server\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  } // Opera 8.0+ (UA detection to detect Blink/v8-powered Opera)\n\n\n  static isOpera() {\n    return Browser.isBrowser() && (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  } // Firefox 1.0+\n\n\n  static isFirefox() {\n    return Browser.isBrowser() && typeof InstallTrigger !== 'undefined';\n  } // Safari 3.0+\n\n\n  static isSafari() {\n    if (!Browser.isBrowser()) {\n      return false;\n    }\n\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  } // Internet Explorer 6-11\n\n\n  static isIE() {\n    /*@cc_on!@*/\n    return Browser.isBrowser() && !!document.documentMode;\n  } // Edge 20+\n\n\n  static isEdge() {\n    return Browser.isBrowser() && !Browser.isIE() && !!window.StyleMedia;\n  } // Chrome 1+\n\n\n  static isChrome() {\n    return Browser.isBrowser() && !!window.chrome && !!window.chrome.webstore;\n  } // Blink engine detection\n\n\n  static isBlink() {\n    return Browser.isBrowser() && (Browser.isChrome() || Browser.isOpera()) && !!window.CSS;\n  }\n\n  static getUserAgent() {\n    return typeof navigator === 'undefined' ? '' : navigator.userAgent;\n  }\n\n  static isAndroid() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Android/i);\n  }\n\n  static isBlackBerry() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/BlackBerry/i);\n  }\n\n  static isIOS() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/iPhone|iPad|iPod/i);\n  }\n\n  static isOpera() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Opera Mini/i);\n  }\n\n  static isWindows() {\n    return Browser.isBrowser() && Browser.isWindowsDesktop() || Browser.isWindowsMobile();\n  }\n\n  static isWindowsMobile() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/IEMobile/i);\n  }\n\n  static isWindowsDesktop() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/WPDesktop/i);\n  }\n\n  static isMobile() {\n    return Browser.isBrowser() && (Browser.isWindowsMobile() || Browser.isBlackBerry() || Browser.isAndroid() || Browser.isIOS());\n  }\n\n} /////////////////////////////////////////////////////////\n// Returns only the props that start with \"data-\"\n//\n/////////////////////////////////////////////////////////\n\n\nconst getDataProps = props => {\n  return Object.keys(props).reduce((prev, key) => {\n    if (key.substr(0, 5) === 'data-') {\n      return _objectSpread({}, prev, {\n        [key]: props[key]\n      });\n    }\n\n    return prev;\n  }, {});\n};\n\nexport { getDataProps, Browser };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexSplitter\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport { Browser, getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexSplitter extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexSplitter, null).type : element.type === ReflexSplitter;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [Browser.isMobile() ? 'reflex-thin' : '', ...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-splitter'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexSplitter, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexSplitter, \"defaultProps\", {\n  document: typeof document !== 'undefined' ? document : null,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {} /////////////////////////////////////////////////////////\n  // Determines if element is a splitter\n  // or wraps a splitter\n  //\n  /////////////////////////////////////////////////////////\n\n});","///////////////////////////////////////////////////////////\n// ReflexEvents\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nclass ReflexEvents {\n  constructor() {\n    this._events = {};\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  on(events, fct) {\n    events.split(' ').forEach(event => {\n      this._events[event] = this._events[event] || [];\n\n      this._events[event].push(fct);\n    });\n    return this;\n  } /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n\n\n  off(events, fct) {\n    if (events == undefined) {\n      this._events = {};\n      return;\n    }\n\n    events.split(' ').forEach(event => {\n      if (event in this._events === false) return;\n\n      if (fct) {\n        this._events[event].splice(this._events[event].indexOf(fct), 1);\n      } else {\n        this._events[event] = [];\n      }\n    });\n    return this;\n  }\n\n  emit(event\n  /* , args... */\n  ) {\n    if (this._events[event] === undefined) return;\n\n    var tmpArray = this._events[event].slice();\n\n    for (var i = 0; i < tmpArray.length; ++i) {\n      var result = tmpArray[i].apply(this, Array.prototype.slice.call(arguments, 1));\n\n      if (result !== undefined) {\n        return result;\n      }\n    }\n\n    return undefined;\n  }\n\n}\n\nexport default ReflexEvents;","if (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      } // 1. Let O be ? ToObject(this value).\n\n\n      var o = Object(this); // 2. Let len be ? ToLength(? Get(O, \"length\")).\n\n      var len = o.length >>> 0; // 3. If len is 0, return false.\n\n      if (len === 0) {\n        return false;\n      } // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n\n\n      var n = fromIndex | 0; // 5. If n ≥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      } // 7. Repeat, while k < len\n\n\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(valueToFind, elementK) is true, return true.\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        } // c. Increase k by 1. \n\n\n        k++;\n      } // 8. Return false\n\n\n      return false;\n    }\n  });\n}\n\nif (!Math.sign) {\n  Math.sign = function (x) {\n    return (x > 0) - (x < 0) || +x;\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexContainer\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexSplitter from './ReflexSplitter';\nimport ReflexEvents from './ReflexEvents';\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './Polyfills';\nexport default class ReflexContainer extends React.Component {\n  /////////////////////////////////////////////////////////\n  // orientation: Orientation of the layout container\n  //              valid values are ['horizontal', 'vertical'] \n  // maxRecDepth: Maximun recursion depth to solve initial flex\n  //              of layout elements based on user provided values\n  // className: Space separated classnames to apply custom styles \n  //            to the layout container  \n  // style: allows passing inline style to the container\n  /////////////////////////////////////////////////////////\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onWindowResize\", () => {\n      this.setState({\n        flexData: this.computeFlexData()\n      });\n    });\n\n    _defineProperty(this, \"onStartResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          document.body.classList.add('reflex-row-resize');\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          document.body.classList.add('reflex-col-resize');\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      this.elements = [this.children[data.index - 1], this.children[data.index + 1]];\n      this.emitElementsEvent(this.elements, 'onStartResize');\n    });\n\n    _defineProperty(this, \"onResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      const offset = this.getOffset(pos, data.domElement);\n\n      switch (this.props.orientation) {\n        case 'horizontal':\n          this.previousPos = pos.clientY;\n          break;\n\n        case 'vertical':\n        default:\n          this.previousPos = pos.clientX;\n          break;\n      }\n\n      if (offset) {\n        const availableOffset = this.computeAvailableOffset(data.index, offset);\n\n        if (availableOffset) {\n          this.elements = this.dispatchOffset(data.index, availableOffset);\n          this.adjustFlex(this.elements);\n          this.setState({\n            resizing: true\n          }, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"onStopResize\", data => {\n      document.body.classList.remove('reflex-row-resize');\n      document.body.classList.remove('reflex-col-resize');\n      const resizedRefs = this.elements ? this.elements.map(element => {\n        return element.ref;\n      }) : [];\n      const elements = this.children.filter(child => {\n        return !ReflexSplitter.isA(child) && resizedRefs.includes(child.ref);\n      });\n      this.emitElementsEvent(elements, 'onStopResize');\n      this.setState({\n        resizing: false\n      });\n    });\n\n    _defineProperty(this, \"onElementSize\", data => {\n      return new Promise(resolve => {\n        try {\n          const idx = data.index;\n          const size = this.getSize(this.children[idx]);\n          const offset = data.size - size;\n          const dir = data.direction;\n          const splitterIdx = idx + dir;\n          const availableOffset = this.computeAvailableOffset(splitterIdx, dir * offset);\n          this.elements = null;\n\n          if (availableOffset) {\n            this.elements = this.dispatchOffset(splitterIdx, availableOffset);\n            this.adjustFlex(this.elements);\n          }\n\n          this.setState(this.state, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n            resolve();\n          });\n        } catch (ex) {\n          // TODO handle exception ...\n          console.log(ex);\n        }\n      });\n    });\n\n    this.events = new ReflexEvents();\n    this.children = [];\n    this.state = {\n      flexData: []\n    };\n    this.ref = React.createRef();\n  }\n\n  componentDidMount() {\n    const flexData = this.computeFlexData();\n    const {\n      windowResizeAware\n    } = this.props;\n\n    if (windowResizeAware) {\n      window.addEventListener('resize', this.onWindowResize);\n    }\n\n    this.setState({\n      windowResizeAware,\n      flexData\n    });\n    this.events.on('element.size', this.onElementSize);\n    this.events.on('startResize', this.onStartResize);\n    this.events.on('stopResize', this.onStopResize);\n    this.events.on('resize', this.onResize);\n  }\n\n  componentWillUnmount() {\n    this.events.off();\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  getValidChildren(props = this.props) {\n    return this.toArray(props.children).filter(child => {\n      return !!child;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const children = this.getValidChildren(this.props);\n\n    if (children.length !== this.state.flexData.length || prevProps.orientation !== this.props.orientation || this.flexHasChanged(prevProps)) {\n      const flexData = this.computeFlexData(children, this.props);\n      this.setState({\n        flexData\n      });\n    }\n\n    if (this.props.windowResizeAware !== this.state.windowResizeAware) {\n      !this.props.windowResizeAware ? window.removeEventListener('resize', this.onWindowResize) : window.addEventListener('resize', this.onWindowResize);\n      this.setState({\n        windowResizeAware: this.props.windowResizeAware\n      });\n    }\n  } // UNSAFE_componentWillReceiveProps(props) {\n  //   const children = this.getValidChildren(props)\n  //   if (children.length !== this.state.flexData.length || \n  //     props.orientation !== this.props.orientation || \n  //     this.flexHasChanged(props)) \n  //   {\n  //     const flexData = this.computeFlexData(\n  //       children, props)\n  //     this.setState({\n  //       flexData\n  //     });\n  //   }\n  //   if (props.windowResizeAware !== this.state.windowResizeAware) {\n  //     !props.windowResizeAware\n  //       ? window.removeEventListener('resize', this.onWindowResize)\n  //       : window.addEventListener('resize', this.onWindowResize)\n  //     this.setState({\n  //       windowResizeAware: props.windowResizeAware\n  //     })\n  //   }\n  // } \n  /////////////////////////////////////////////////////////\n  // attempts to preserve current flex on window resize\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Check if flex has changed: this allows updating the\n  // component when different flex is passed as property\n  // to one or several children\n  //\n  /////////////////////////////////////////////////////////\n  flexHasChanged(prevProps) {\n    const prevChildrenFlex = this.getValidChildren(prevProps).map(child => {\n      return child.props.flex || 0;\n    });\n    const childrenFlex = this.getValidChildren().map(child => {\n      return child.props.flex || 0;\n    });\n    return !childrenFlex.every((flex, idx) => {\n      return flex === prevChildrenFlex[idx];\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns size of a ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getSize(element) {\n    const domElement = element.ref.current;\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        return domElement.offsetHeight;\n\n      case 'vertical':\n      default:\n        return domElement.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Computes offset from pointer position\n  //\n  /////////////////////////////////////////////////////////\n\n\n  getOffset(pos, domElement) {\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = domElement.getBoundingClientRect();\n\n    switch (this.props.orientation) {\n      case 'horizontal':\n        {\n          const offset = pos.clientY - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientY >= top) {\n              return offset;\n            }\n          } else {\n            if (pos.clientY <= bottom) {\n              return offset;\n            }\n          }\n\n          break;\n        }\n\n      case 'vertical':\n      default:\n        {\n          const offset = pos.clientX - this.previousPos;\n\n          if (offset > 0) {\n            if (pos.clientX > left) {\n              return offset;\n            }\n          } else {\n            if (pos.clientX < right) {\n              return offset;\n            }\n          }\n        }\n        break;\n    }\n\n    return 0;\n  } /////////////////////////////////////////////////////////\n  // Handles startResize event\n  //\n  /////////////////////////////////////////////////////////\n\n\n  /////////////////////////////////////////////////////////\n  // Adjusts flex after a dispatch to make sure\n  // total flex of modified elements remains the same\n  //\n  /////////////////////////////////////////////////////////\n  adjustFlex(elements) {\n    const diffFlex = elements.reduce((sum, element) => {\n      const idx = element.props.index;\n      const previousFlex = element.props.flex;\n      const nextFlex = this.state.flexData[idx].flex;\n      return sum + (previousFlex - nextFlex) / elements.length;\n    }, 0);\n    elements.forEach(element => {\n      this.state.flexData[element.props.index].flex += diffFlex;\n    });\n  } /////////////////////////////////////////////////////////\n  // Returns available offset for a given raw offset value\n  // This checks how much the panes can be stretched and\n  // shrink, then returns the min\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableOffset(idx, offset) {\n    const stretch = this.computeAvailableStretch(idx, offset);\n    const shrink = this.computeAvailableShrink(idx, offset);\n    const availableOffset = Math.min(stretch, shrink) * Math.sign(offset);\n    return availableOffset;\n  } /////////////////////////////////////////////////////////\n  // Returns true if the next splitter than the one at idx\n  // can propagate the drag. This can happen if that\n  // next element is actually a splitter and it has\n  // propagate=true property set\n  //\n  /////////////////////////////////////////////////////////\n\n\n  checkPropagate(idx, direction) {\n    if (direction > 0) {\n      if (idx < this.children.length - 2) {\n        const child = this.children[idx + 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    } else {\n      if (idx > 2) {\n        const child = this.children[idx - 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    }\n\n    return false;\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available stretch at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const maxSize = child.props.maxSize;\n    const availableStretch = maxSize - size;\n\n    if (availableStretch < Math.abs(offset)) {\n      if (this.checkPropagate(idx, -1 * offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableStretch);\n        return availableStretch + this.computeAvailableStretch(offset < 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableStretch, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Recursively computes available shrink at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeAvailableShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const minSize = Math.max(child.props.minSize, 0);\n    const availableShrink = size - minSize;\n\n    if (availableShrink < Math.abs(offset)) {\n      if (this.checkPropagate(idx, offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableShrink);\n        return availableShrink + this.computeAvailableShrink(offset > 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n\n    return Math.min(availableShrink, Math.abs(offset));\n  } /////////////////////////////////////////////////////////\n  // Returns flex value for unit pixel\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computePixelFlex(orientation = this.props.orientation) {\n    if (!this.ref.current) {\n      console.warn('Unable to locate ReflexContainer dom node');\n      return 0.0;\n    }\n\n    switch (orientation) {\n      case 'horizontal':\n        if (this.ref.current.offsetHeight === 0.0) {\n          console.warn('Found ReflexContainer with height=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetHeight;\n\n      case 'vertical':\n      default:\n        if (this.ref.current.offsetWidth === 0.0) {\n          console.warn('Found ReflexContainer with width=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n\n        return 1.0 / this.ref.current.offsetWidth;\n    }\n  } /////////////////////////////////////////////////////////\n  // Adds offset to a given ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n\n\n  addOffset(element, offset) {\n    const size = this.getSize(element);\n    const idx = element.props.index;\n    const newSize = Math.max(size + offset, 0);\n    const currentFlex = this.state.flexData[idx].flex;\n    const newFlex = currentFlex > 0 ? currentFlex * newSize / size : this.computePixelFlex() * newSize;\n    this.state.flexData[idx].flex = !isFinite(newFlex) || isNaN(newFlex) ? 0 : newFlex;\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches stretch offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.min(child.props.maxSize, size + Math.abs(offset));\n    const dispatchedStretch = newSize - size;\n    this.addOffset(child, dispatchedStretch);\n\n    if (dispatchedStretch < Math.abs(offset)) {\n      const nextIdx = idx - Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) - dispatchedStretch);\n      return [child, ...this.dispatchStretch(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Recursively dispatches shrink offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.max(child.props.minSize, size - Math.abs(offset));\n    const dispatchedShrink = newSize - size;\n    this.addOffset(child, dispatchedShrink);\n\n    if (Math.abs(dispatchedShrink) < Math.abs(offset)) {\n      const nextIdx = idx + Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) + dispatchedShrink);\n      return [child, ...this.dispatchShrink(nextIdx, nextOffset)];\n    }\n\n    return [child];\n  } /////////////////////////////////////////////////////////\n  // Dispatch offset at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n\n\n  dispatchOffset(idx, offset) {\n    return [...this.dispatchStretch(idx, offset), ...this.dispatchShrink(idx, offset)];\n  } /////////////////////////////////////////////////////////\n  // Emits given if event for each given element\n  // if present in the component props\n  //\n  /////////////////////////////////////////////////////////\n\n\n  emitElementsEvent(elements, event) {\n    this.toArray(elements).forEach(component => {\n      if (component.props[event]) {\n        component.props[event]({\n          domElement: component.ref.current,\n          component\n        });\n      }\n    });\n  } /////////////////////////////////////////////////////////\n  // Computes initial flex data based on provided flex\n  // properties. By default each ReflexElement gets\n  // evenly arranged within its container\n  //\n  /////////////////////////////////////////////////////////\n\n\n  computeFlexData(children = this.getValidChildren(), props = this.props) {\n    const pixelFlex = this.computePixelFlex(props.orientation);\n\n    const computeFreeFlex = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && entry.constrained) {\n          return sum - entry.flex;\n        }\n\n        return sum;\n      }, 1.0);\n    };\n\n    const computeFreeElements = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && !entry.constrained) {\n          return sum + 1;\n        }\n\n        return sum;\n      }, 0.0);\n    };\n\n    const flexDataInit = children.map(child => {\n      const props = child.props;\n      return {\n        maxFlex: (props.maxSize || Number.MAX_VALUE) * pixelFlex,\n        sizeFlex: (props.size || Number.MAX_VALUE) * pixelFlex,\n        minFlex: (props.minSize || 1) * pixelFlex,\n        constrained: props.flex !== undefined,\n        flex: props.flex || 0,\n        type: child.type\n      };\n    });\n\n    const computeFlexDataRec = (flexDataIn, depth = 0) => {\n      let hasContrain = false;\n      const freeElements = computeFreeElements(flexDataIn);\n      const freeFlex = computeFreeFlex(flexDataIn);\n      const flexDataOut = flexDataIn.map(entry => {\n        if (ReflexSplitter.isA(entry)) {\n          return entry;\n        }\n\n        const proposedFlex = !entry.constrained ? freeFlex / freeElements : entry.flex;\n        const constrainedFlex = Math.min(entry.sizeFlex, Math.min(entry.maxFlex, Math.max(entry.minFlex, proposedFlex)));\n        const constrained = entry.constrained || constrainedFlex !== proposedFlex;\n        hasContrain = hasContrain || constrained;\n        return _objectSpread({}, entry, {\n          flex: constrainedFlex,\n          constrained\n        });\n      });\n      return hasContrain && depth < this.props.maxRecDepth ? computeFlexDataRec(flexDataOut, depth + 1) : flexDataOut;\n    };\n\n    const flexData = computeFlexDataRec(flexDataInit);\n    return flexData.map(entry => {\n      return {\n        flex: !ReflexSplitter.isA(entry) ? entry.flex : 0.0,\n        ref: React.createRef()\n      };\n    });\n  } /////////////////////////////////////////////////////////\n  // Utility method to ensure given argument is\n  // returned as an array\n  //\n  /////////////////////////////////////////////////////////\n\n\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  } /////////////////////////////////////////////////////////\n  // Render container. This will clone all original child\n  // components in order to pass some internal properties\n  // used to handle resizing logic\n  //\n  /////////////////////////////////////////////////////////\n\n\n  render() {\n    const className = [this.state.resizing ? 'reflex-resizing' : '', ...this.props.className.split(' '), this.props.orientation, 'reflex-container'].join(' ').trim();\n    this.children = React.Children.map(this.getValidChildren(), (child, index) => {\n      if (index > this.state.flexData.length - 1) {\n        return React.createElement(\"div\", null);\n      }\n\n      const flexData = this.state.flexData[index];\n\n      const newProps = _objectSpread({}, child.props, {\n        maxSize: child.props.maxSize || Number.MAX_VALUE,\n        orientation: this.props.orientation,\n        minSize: child.props.minSize || 1,\n        events: this.events,\n        flex: flexData.flex,\n        ref: flexData.ref,\n        index\n      });\n\n      return React.cloneElement(child, newProps);\n    });\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      style: this.props.style,\n      className: className,\n      ref: this.ref\n    }), this.children);\n  }\n\n}\n\n_defineProperty(ReflexContainer, \"propTypes\", {\n  windowResizeAware: PropTypes.bool,\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  maxRecDepth: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexContainer, \"defaultProps\", {\n  orientation: 'horizontal',\n  windowResizeAware: false,\n  maxRecDepth: 100,\n  className: '',\n  style: {}\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexHandle\n// By Philippe Leefsma\n// June 2018\n//\n///////////////////////////////////////////////////////////\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexHandle extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    } //https://github.com/leefsmp/Re-Flex/issues/49\n\n\n    return process.env.NODE_ENV === 'development' ? element.type === React.createElement(ReflexHandle, null).type : element.type === ReflexHandle;\n  }\n\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"ref\", React.createRef());\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-handle'].join(' ').trim();\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n\n}\n\n_defineProperty(ReflexHandle, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n\n_defineProperty(ReflexHandle, \"defaultProps\", {\n  document: typeof document === 'undefined' ? null : document,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {}\n});","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexElement\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexHandle from './ReflexHandle';\nimport { getDataProps } from './utilities';\nimport throttle from 'lodash.throttle';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst toArray = obj => {\n  return obj ? Array.isArray(obj) ? obj : [obj] : [];\n};\n\nclass SizeAwareReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onResize\", rect => {\n      const {\n        resizeHeight,\n        resizeWidth\n      } = this.props;\n      const {\n        height,\n        width\n      } = rect.bounds;\n      this.setDimensions(_objectSpread({}, resizeHeight && {\n        height\n      }, resizeWidth && {\n        width\n      }));\n    });\n\n    this.setDimensions = throttle(dimensions => {\n      this.setState(dimensions);\n    }, this.props.propagateDimensionsRate / 1000);\n    this.state = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n  }\n\n  renderChildren() {\n    const {\n      propagateDimensions\n    } = this.props;\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({\n          dimensions: propagateDimensions && this.state\n        }, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      if (propagateDimensions) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          dimensions: this.state\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    return React.createElement(Measure, {\n      bounds: true,\n      onResize: this.onResize\n    }, ({\n      measureRef\n    }) => {\n      return React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"reflex-size-aware\"\n      }, React.createElement(\"div\", {\n        style: this.state\n      }, this.renderChildren()));\n    });\n  }\n\n}\n\nclass ReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: props.size\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.size !== prevState.size) {\n      return _objectSpread({}, prevState, {\n        size: nextProps.size\n      });\n    }\n\n    return null;\n  }\n\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.size !== this.state.size) {\n      const directions = toArray(this.props.direction);\n\n      for (let direction of directions) {\n        await this.props.events.emit('element.size', {\n          index: this.props.index,\n          size: this.props.size,\n          direction\n        });\n      }\n    }\n  }\n\n  renderChildren() {\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n\n      return child;\n    });\n  }\n\n  render() {\n    const className = [...this.props.className.split(' '), this.props.orientation, 'reflex-element'].join(' ').trim();\n\n    const style = _objectSpread({}, this.props.style, {\n      flexGrow: this.props.flex,\n      flexShrink: 1,\n      flexBasis: '0%'\n    });\n\n    return React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      ref: this.props.innerRef,\n      className: className,\n      style: style\n    }), this.props.propagateDimensions ? React.createElement(SizeAwareReflexElement, this.props) : this.renderChildren());\n  }\n\n}\n\n_defineProperty(ReflexElement, \"propTypes\", {\n  propagateDimensions: PropTypes.bool,\n  resizeHeight: PropTypes.bool,\n  resizeWidth: PropTypes.bool,\n  className: PropTypes.string,\n  size: PropTypes.number\n});\n\n_defineProperty(ReflexElement, \"defaultProps\", {\n  propagateDimensionsRate: 100,\n  propagateDimensions: false,\n  resizeHeight: true,\n  resizeWidth: true,\n  direction: [1],\n  className: ''\n});\n\nexport default React.forwardRef((props, ref) => {\n  return React.createElement(ReflexElement, _extends({\n    innerRef: ref\n  }, props));\n});","import React from 'react'\n\nexport type BreadcrumbItem = {\n  name: string\n  isCurrent: boolean\n  action?: () => void\n}\n\nexport type BreadcrumbsProps = {\n  items: BreadcrumbItem[]\n  maxItemCount?: number\n}\n\nexport const Breadcrumbs: React.FunctionComponent<BreadcrumbsProps> = ({\n  items,\n  maxItemCount = 4,\n}: BreadcrumbsProps) => {\n  const truncateBreadcrumbs = items.length > maxItemCount\n  if (truncateBreadcrumbs) {\n    items = items.slice(-maxItemCount)\n  }\n  return (\n    <div className=\"Breadcrumbs\">\n      {items.length > 0 && <span>You are in: </span>}\n      {truncateBreadcrumbs && (\n        <>\n          <button className=\"BreadcrumbItem Current\">...</button>\n          <span>&gt;</span>\n        </>\n      )}\n      {items.map((item, index) => (\n        <>\n          <button\n            className={`BreadcrumbItem ${item.isCurrent ? 'Current' : ''}`}\n            key={index}\n            onClick={event => {\n              event.preventDefault()\n              if (item.action) {\n                item.action()\n              }\n            }}\n          >\n            {item.name}\n          </button>\n          {index !== items.length - 1 && <span>&gt;</span>}\n        </>\n      ))}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { FetchNextPageOptions, InfiniteQueryObserverResult } from 'react-query'\nimport { SynapseClientError } from '../SynapseClientError'\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination, in which case it's recommended to use the hook version\n * of this function to get updates as pages are fetched and updated.\n *\n * We don't currently support an indeterminate checkbox state because that would require always fetching all pages of a given query, which does not scale.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport function getIsAllSelectedFromInfiniteList<TItem, TFetchResult>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n): boolean {\n  if (items.length === 0 || numSelected === 0) {\n    return false\n  } else {\n    const allSelectableFetchedChildrenAreSelected = items.every(\n      e => isSelected(e) || !isSelectable(e),\n    )\n    if (\n      allSelectableFetchedChildrenAreSelected &&\n      hasNextPage &&\n      fetchNextPage &&\n      !isFetchingNextPage\n    ) {\n      // We don't yet know if the checkbox should be true or false, so get the next page\n      fetchNextPage()\n      return false\n    } else {\n      if (isFetchingNextPage) {\n        // Wait for the next page to be retrieved\n        return false\n      }\n\n      // At this point, we've fetched all of the pages or encountered an unselected entity\n      // The checkbox should be true if there are no unselected entities, and there's at least one selectable entity\n      const selectableEntitiesArePresent = items.some(e => isSelectable(e))\n      return (\n        allSelectableFetchedChildrenAreSelected && selectableEntitiesArePresent\n      )\n    }\n  }\n}\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination.\n *\n * There is also a non-hook version of this function that can be called in contexts where hooks cannot be used.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport default function useGetIsAllSelectedFromInfiniteList<\n  TItem,\n  TFetchResult,\n>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n) {\n  const [isSelectAll, setIsSelectAll] = useState(false)\n  useEffect(() => {\n    setIsSelectAll(\n      getIsAllSelectedFromInfiniteList(\n        items,\n        numSelected,\n        isSelected,\n        isSelectable,\n        hasNextPage,\n        fetchNextPage,\n        isFetchingNextPage,\n      ),\n    )\n  }, [\n    items,\n    numSelected,\n    fetchNextPage,\n    hasNextPage,\n    isSelected,\n    isSelectable,\n    isFetchingNextPage,\n  ])\n\n  return isSelectAll\n}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar TableHeader = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableHeader, _React$PureComponent);\n\n  function TableHeader(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.renderHeaderRow = _this.renderHeaderRow.bind(_assertThisInitialized(_this));\n    _this.renderFrozenRow = _this.renderFrozenRow.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableHeader.prototype;\n\n  _proto.scrollTo = function scrollTo(offset) {\n    var _this2 = this;\n\n    requestAnimationFrame(function () {\n      if (_this2.headerRef) _this2.headerRef.scrollLeft = offset;\n    });\n  };\n\n  _proto.renderHeaderRow = function renderHeaderRow(height, index) {\n    var _this$props = this.props,\n        columns = _this$props.columns,\n        headerRenderer = _this$props.headerRenderer;\n    if (height <= 0) return null;\n    var style = {\n      width: '100%',\n      height: height\n    };\n    return headerRenderer({\n      style: style,\n      columns: columns,\n      headerIndex: index\n    });\n  };\n\n  _proto.renderFrozenRow = function renderFrozenRow(rowData, index) {\n    var _this$props2 = this.props,\n        columns = _this$props2.columns,\n        rowHeight = _this$props2.rowHeight,\n        rowRenderer = _this$props2.rowRenderer;\n    var style = {\n      width: '100%',\n      height: rowHeight\n    }; // for frozen row the `rowIndex` is negative\n\n    var rowIndex = -index - 1;\n    return rowRenderer({\n      style: style,\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        className = _this$props3.className,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowWidth = _this$props3.rowWidth,\n        headerHeight = _this$props3.headerHeight,\n        frozenData = _this$props3.frozenData;\n    if (height <= 0) return null;\n    var style = {\n      width: width,\n      height: height,\n      position: 'relative',\n      overflow: 'hidden'\n    };\n    var innerStyle = {\n      width: rowWidth,\n      height: height\n    };\n    var rowHeights = Array.isArray(headerHeight) ? headerHeight : [headerHeight];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      role: \"grid\",\n      ref: this._setRef,\n      className: className,\n      style: style\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      style: innerStyle\n    }, rowHeights.map(this.renderHeaderRow), frozenData.map(this.renderFrozenRow)));\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.headerRef = ref;\n  };\n\n  return TableHeader;\n}(React.PureComponent);\n\nTableHeader.propTypes = {\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  rowWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default TableHeader;\n//# sourceMappingURL=TableHeader.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nexport function renderElement(renderer, props) {\n  if ( /*#__PURE__*/React.isValidElement(renderer)) {\n    if (!props) return renderer;\n    return /*#__PURE__*/React.cloneElement(renderer, props);\n  } else if (typeof renderer === 'function') {\n    return /*#__PURE__*/React.createElement(renderer, props);\n  } else {\n    return null;\n  }\n}\nexport function normalizeColumns(elements) {\n  var columns = [];\n  React.Children.forEach(elements, function (element) {\n    if ( /*#__PURE__*/React.isValidElement(element) && element.key) {\n      var column = _objectSpread(_objectSpread({}, element.props), {}, {\n        key: element.key\n      });\n\n      columns.push(column);\n    }\n  });\n  return columns;\n}\nexport function isObjectEqual(objA, objB, ignoreFunction) {\n  if (ignoreFunction === void 0) {\n    ignoreFunction = true;\n  }\n\n  if (objA === objB) return true;\n  if (objA === null && objB === null) return true;\n  if (objA === null || objB === null) return false;\n  if (typeof objA !== 'object' || typeof objB !== 'object') return false;\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    var key = keysA[i];\n\n    if (key === '_owner' && objA.$$typeof) {\n      // React-specific: avoid traversing React elements' _owner.\n      //  _owner contains circular references\n      // and is not needed when comparing the actual elements (and not their owners)\n      continue;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    var valueAType = typeof valueA;\n    if (valueAType !== typeof valueB) return false;\n    if (valueAType === 'function' && ignoreFunction) continue;\n\n    if (valueAType === 'object') {\n      if (!isObjectEqual(valueA, valueB, ignoreFunction)) return false;else continue;\n    }\n\n    if (valueA !== valueB) return false;\n  }\n\n  return true;\n}\nexport function callOrReturn(funcOrValue) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return typeof funcOrValue === 'function' ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function hasChildren(data) {\n  return Array.isArray(data.children) && data.children.length > 0;\n}\nexport function unflatten(array, rootId, dataKey, parentKey) {\n  if (rootId === void 0) {\n    rootId = null;\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (parentKey === void 0) {\n    parentKey = 'parentId';\n  }\n\n  var tree = [];\n  var childrenMap = {};\n  var length = array.length;\n\n  for (var i = 0; i < length; i++) {\n    var item = _objectSpread({}, array[i]);\n\n    var id = item[dataKey];\n    var parentId = item[parentKey];\n\n    if (Array.isArray(item.children)) {\n      childrenMap[id] = item.children.concat(childrenMap[id] || []);\n    } else if (!childrenMap[id]) {\n      childrenMap[id] = [];\n    }\n\n    item.children = childrenMap[id];\n\n    if (parentId !== undefined && parentId !== rootId) {\n      if (!childrenMap[parentId]) childrenMap[parentId] = [];\n      childrenMap[parentId].push(item);\n    } else {\n      tree.push(item);\n    }\n  }\n\n  return tree;\n}\nexport function flattenOnKeys(tree, keys, depthMap, dataKey) {\n  if (depthMap === void 0) {\n    depthMap = {};\n  }\n\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n\n  if (!keys || !keys.length) return tree;\n  var array = [];\n  var keysSet = new Set();\n  keys.forEach(function (x) {\n    return keysSet.add(x);\n  });\n  var stack = [].concat(tree);\n  stack.forEach(function (x) {\n    return depthMap[x[dataKey]] = 0;\n  });\n\n  var _loop = function _loop() {\n    var item = stack.shift();\n    array.push(item);\n\n    if (keysSet.has(item[dataKey]) && Array.isArray(item.children) && item.children.length > 0) {\n      stack = [].concat(item.children, stack);\n      item.children.forEach(function (x) {\n        return depthMap[x[dataKey]] = depthMap[item[dataKey]] + 1;\n      });\n    }\n  };\n\n  while (stack.length > 0) {\n    _loop();\n  }\n\n  return array;\n} // Babel7 changed the behavior of @babel/plugin-transform-spread in https://github.com/babel/babel/pull/6763\n// [...array] is transpiled to array.concat() while it was [].concat(array) before\n// this change breaks immutable array(seamless-immutable), [...array] should always return mutable array\n\nexport function cloneArray(array) {\n  if (!Array.isArray(array)) return [];\n  return [].concat(array);\n}\nexport function noop() {}\nexport function toString(value) {\n  if (typeof value === 'string') return value;\n  if (value === null || value === undefined) return '';\n  return value.toString ? value.toString() : '';\n}\n\nfunction getPathSegments(path) {\n  var pathArray = path.split('.');\n  var parts = [];\n\n  for (var i = 0; i < pathArray.length; i++) {\n    var p = pathArray[i];\n\n    while (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArray[++i];\n    }\n\n    parts.push(p);\n  }\n\n  return parts;\n} // changed from https://github.com/sindresorhus/dot-prop/blob/master/index.js\n\n\nexport function getValue(object, path, defaultValue) {\n  if (object === null || typeof object !== 'object' || typeof path !== 'string') {\n    return defaultValue;\n  }\n\n  var pathArray = getPathSegments(path);\n\n  for (var i = 0; i < pathArray.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {\n      return defaultValue;\n    }\n\n    object = object[pathArray[i]];\n\n    if (object === undefined || object === null) {\n      if (i !== pathArray.length - 1) {\n        return defaultValue;\n      }\n\n      break;\n    }\n  }\n\n  return object;\n} // copied from https://www.30secondsofcode.org/js/s/debounce\n\nexport var debounce = function debounce(fn, ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n\n  var timeoutId;\n  return function () {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, ms);\n  };\n}; // copied from https://www.30secondsofcode.org/js/s/throttle\n\nexport var throttle = function throttle(fn, wait) {\n  var inThrottle, lastFn, lastTime;\n  return function () {\n    var context = this,\n        args = arguments;\n\n    if (!inThrottle) {\n      fn.apply(context, args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(function () {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n}; // copied from https://github.com/react-bootstrap/dom-helpers\n\nvar scrollbarSize;\nexport function getScrollbarSize(recalculate) {\n  if (!scrollbarSize && scrollbarSize !== 0 || recalculate) {\n    if (typeof window !== 'undefined' && window.document && window.document.createElement) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return scrollbarSize;\n}\nexport function addClassName(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\"))) {\n      el.className += \" \" + className;\n    }\n  }\n}\nexport function removeClassName(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\", 'g'), '');\n  }\n}\nexport function getEstimatedTotalRowsHeight(data, estimatedRowHeight) {\n  return typeof estimatedRowHeight === 'function' ? data.reduce(function (height, rowData, rowIndex) {\n    return height + estimatedRowHeight({\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  }, 0) : data.length * estimatedRowHeight;\n}\n//# sourceMappingURL=utils.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"containerStyle\", \"classPrefix\", \"className\", \"data\", \"frozenData\", \"width\", \"height\", \"rowHeight\", \"estimatedRowHeight\", \"getRowHeight\", \"headerWidth\", \"bodyWidth\", \"useIsScrolling\", \"onScroll\", \"hoveredRowKey\", \"overscanRowCount\", \"style\", \"onScrollbarPresenceChange\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { FixedSizeGrid, VariableSizeGrid } from 'react-window';\nimport memoize from 'memoize-one';\nimport Header from './TableHeader';\nimport { getEstimatedTotalRowsHeight } from './utils';\n/**\n * A wrapper of the Grid for internal only\n */\n\nvar GridTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GridTable, _React$PureComponent);\n\n  function GridTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._setHeaderRef = _this._setHeaderRef.bind(_assertThisInitialized(_this));\n    _this._setBodyRef = _this._setBodyRef.bind(_assertThisInitialized(_this));\n    _this._setInnerRef = _this._setInnerRef.bind(_assertThisInitialized(_this));\n    _this._itemKey = _this._itemKey.bind(_assertThisInitialized(_this));\n    _this._getBodyWidth = _this._getBodyWidth.bind(_assertThisInitialized(_this));\n    _this._handleItemsRendered = _this._handleItemsRendered.bind(_assertThisInitialized(_this));\n    _this._resetColumnWidthCache = memoize(function (bodyWidth) {\n      if (!_this.props.estimatedRowHeight) return;\n      _this.bodyRef && _this.bodyRef.resetAfterColumnIndex(0, false);\n    });\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = GridTable.prototype;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.bodyRef && this.bodyRef.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  };\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.headerRef && this.headerRef.forceUpdate();\n    this.bodyRef && this.bodyRef.forceUpdate();\n  };\n\n  _proto.scrollToPosition = function scrollToPosition(args) {\n    this.headerRef && this.headerRef.scrollTo(args.scrollLeft);\n    this.bodyRef && this.bodyRef.scrollTo(args);\n  };\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this.bodyRef && this.bodyRef.scrollTo({\n      scrollTop: scrollTop\n    });\n  };\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this.headerRef && this.headerRef.scrollTo(scrollLeft);\n    this.bodyRef && this.bodyRef.scrollToPosition({\n      scrollLeft: scrollLeft\n    });\n  };\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.bodyRef && this.bodyRef.scrollToItem({\n      rowIndex: rowIndex,\n      align: align\n    });\n  };\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        data = _this$props.data,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.innerRef && this.innerRef.clientHeight || this._getEstimatedTotalRowsHeight(data, estimatedRowHeight);\n    }\n\n    return data.length * rowHeight;\n  };\n\n  _proto.renderRow = function renderRow(args) {\n    var _this$props2 = this.props,\n        data = _this$props2.data,\n        columns = _this$props2.columns,\n        rowRenderer = _this$props2.rowRenderer;\n    var rowData = data[args.rowIndex];\n    return rowRenderer(_objectSpread(_objectSpread({}, args), {}, {\n      columns: columns,\n      rowData: rowData\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        containerStyle = _this$props3.containerStyle,\n        classPrefix = _this$props3.classPrefix,\n        className = _this$props3.className,\n        data = _this$props3.data,\n        frozenData = _this$props3.frozenData,\n        width = _this$props3.width,\n        height = _this$props3.height,\n        rowHeight = _this$props3.rowHeight,\n        estimatedRowHeight = _this$props3.estimatedRowHeight,\n        getRowHeight = _this$props3.getRowHeight,\n        headerWidth = _this$props3.headerWidth,\n        bodyWidth = _this$props3.bodyWidth,\n        useIsScrolling = _this$props3.useIsScrolling,\n        onScroll = _this$props3.onScroll,\n        hoveredRowKey = _this$props3.hoveredRowKey,\n        overscanRowCount = _this$props3.overscanRowCount,\n        style = _this$props3.style,\n        onScrollbarPresenceChange = _this$props3.onScrollbarPresenceChange,\n        rest = _objectWithoutPropertiesLoose(_this$props3, _excluded);\n\n    var headerHeight = this._getHeaderHeight();\n\n    var frozenRowCount = frozenData.length;\n    var frozenRowsHeight = rowHeight * frozenRowCount;\n    var cls = cn(classPrefix + \"__table\", className);\n    var containerProps = containerStyle ? {\n      style: containerStyle\n    } : null;\n    var Grid = estimatedRowHeight ? VariableSizeGrid : FixedSizeGrid;\n\n    this._resetColumnWidthCache(bodyWidth);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"table\",\n      className: cls\n    }, containerProps), /*#__PURE__*/React.createElement(Grid, _extends({}, rest, {\n      className: classPrefix + \"__body\",\n      ref: this._setBodyRef,\n      innerRef: this._setInnerRef,\n      itemKey: this._itemKey,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.max(height - headerHeight - frozenRowsHeight, 0),\n      rowHeight: estimatedRowHeight ? getRowHeight : rowHeight,\n      estimatedRowHeight: typeof estimatedRowHeight === 'function' ? undefined : estimatedRowHeight,\n      rowCount: data.length,\n      overscanRowCount: overscanRowCount,\n      columnWidth: estimatedRowHeight ? this._getBodyWidth : bodyWidth,\n      columnCount: 1,\n      overscanColumnCount: 0,\n      useIsScrolling: useIsScrolling,\n      hoveredRowKey: hoveredRowKey,\n      onScroll: onScroll,\n      onItemsRendered: this._handleItemsRendered,\n      children: this.renderRow\n    })), headerHeight + frozenRowsHeight > 0 &&\n    /*#__PURE__*/\n    // put header after body and reverse the display order via css\n    // to prevent header's shadow being covered by body\n    React.createElement(Header, _extends({}, rest, {\n      className: classPrefix + \"__header\",\n      ref: this._setHeaderRef,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.min(headerHeight + frozenRowsHeight, height),\n      rowWidth: headerWidth,\n      rowHeight: rowHeight,\n      headerHeight: this.props.headerHeight,\n      headerRenderer: this.props.headerRenderer,\n      rowRenderer: this.props.rowRenderer,\n      hoveredRowKey: frozenRowCount > 0 ? hoveredRowKey : null\n    })));\n  };\n\n  _proto._setHeaderRef = function _setHeaderRef(ref) {\n    this.headerRef = ref;\n  };\n\n  _proto._setBodyRef = function _setBodyRef(ref) {\n    this.bodyRef = ref;\n  };\n\n  _proto._setInnerRef = function _setInnerRef(ref) {\n    this.innerRef = ref;\n  };\n\n  _proto._itemKey = function _itemKey(_ref) {\n    var rowIndex = _ref.rowIndex;\n    var _this$props4 = this.props,\n        data = _this$props4.data,\n        rowKey = _this$props4.rowKey;\n    return data[rowIndex][rowKey];\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getBodyWidth = function _getBodyWidth() {\n    return this.props.bodyWidth;\n  };\n\n  _proto._handleItemsRendered = function _handleItemsRendered(_ref2) {\n    var overscanRowStartIndex = _ref2.overscanRowStartIndex,\n        overscanRowStopIndex = _ref2.overscanRowStopIndex,\n        visibleRowStartIndex = _ref2.visibleRowStartIndex,\n        visibleRowStopIndex = _ref2.visibleRowStopIndex;\n    this.props.onRowsRendered({\n      overscanStartIndex: overscanRowStartIndex,\n      overscanStopIndex: overscanRowStopIndex,\n      startIndex: visibleRowStartIndex,\n      stopIndex: visibleRowStopIndex\n    });\n  };\n\n  return GridTable;\n}(React.PureComponent);\n\nGridTable.propTypes = {\n  containerStyle: PropTypes.object,\n  classPrefix: PropTypes.string,\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  headerWidth: PropTypes.number.isRequired,\n  bodyWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  getRowHeight: PropTypes.func,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  useIsScrolling: PropTypes.bool,\n  overscanRowCount: PropTypes.number,\n  hoveredRowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: PropTypes.object,\n  onScrollbarPresenceChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  onRowsRendered: PropTypes.func,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default GridTable;\n//# sourceMappingURL=GridTable.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"style\", \"columns\", \"headerIndex\", \"cellRenderer\", \"headerRenderer\", \"expandColumnKey\", \"expandIcon\", \"tagName\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * HeaderRow component for BaseTable\n */\n\nvar TableHeaderRow = function TableHeaderRow(_ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      columns = _ref.columns,\n      headerIndex = _ref.headerIndex,\n      cellRenderer = _ref.cellRenderer,\n      headerRenderer = _ref.headerRenderer,\n      expandColumnKey = _ref.expandColumnKey,\n      ExpandIcon = _ref.expandIcon,\n      Tag = _ref.tagName,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var cells = columns.map(function (column, columnIndex) {\n    return cellRenderer({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      expandIcon: column.key === expandColumnKey && /*#__PURE__*/React.createElement(ExpandIcon, null)\n    });\n  });\n\n  if (headerRenderer) {\n    cells = renderElement(headerRenderer, {\n      cells: cells,\n      columns: columns,\n      headerIndex: headerIndex\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n    className: className,\n    style: style\n  }), cells);\n};\n\nTableHeaderRow.defaultProps = {\n  tagName: 'div'\n};\nTableHeaderRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  headerIndex: PropTypes.number,\n  cellRenderer: PropTypes.func,\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  expandColumnKey: PropTypes.string,\n  expandIcon: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableHeaderRow;\n//# sourceMappingURL=TableHeaderRow.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"isScrolling\", \"className\", \"style\", \"columns\", \"rowIndex\", \"rowData\", \"expandColumnKey\", \"depth\", \"rowEventHandlers\", \"estimatedRowHeight\", \"rowRenderer\", \"cellRenderer\", \"expandIconRenderer\", \"tagName\", \"rowKey\", \"getIsResetting\", \"onRowHover\", \"onRowExpand\", \"onRowHeightChange\"],\n    _excluded2 = [\"height\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n/**\n * Row component for BaseTable\n */\n\nvar TableRow = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableRow, _React$PureComponent);\n\n  function TableRow(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.state = {\n      measured: false\n    };\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    _this._handleExpand = _this._handleExpand.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = TableRow.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.estimatedRowHeight && this.props.rowIndex >= 0 && this._measureHeight(true);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this2 = this;\n\n    if (this.props.estimatedRowHeight && this.props.rowIndex >= 0 && // should not re-measure if it's updated after measured and reset\n    !this.props.getIsResetting() && this.state.measured && prevState.measured) {\n      this.setState({\n        measured: false\n      }, function () {\n        return _this2._measureHeight();\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n        isScrolling = _this$props.isScrolling,\n        className = _this$props.className,\n        style = _this$props.style,\n        columns = _this$props.columns,\n        rowIndex = _this$props.rowIndex,\n        rowData = _this$props.rowData,\n        expandColumnKey = _this$props.expandColumnKey,\n        depth = _this$props.depth,\n        rowEventHandlers = _this$props.rowEventHandlers,\n        estimatedRowHeight = _this$props.estimatedRowHeight,\n        rowRenderer = _this$props.rowRenderer,\n        cellRenderer = _this$props.cellRenderer,\n        expandIconRenderer = _this$props.expandIconRenderer,\n        Tag = _this$props.tagName,\n        rowKey = _this$props.rowKey,\n        getIsResetting = _this$props.getIsResetting,\n        onRowHover = _this$props.onRowHover,\n        onRowExpand = _this$props.onRowExpand,\n        onRowHeightChange = _this$props.onRowHeightChange,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    /* eslint-enable no-unused-vars */\n\n\n    var expandIcon = expandIconRenderer({\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      onExpand: this._handleExpand\n    });\n    var cells = columns.map(function (column, columnIndex) {\n      return cellRenderer({\n        isScrolling: isScrolling,\n        columns: columns,\n        column: column,\n        columnIndex: columnIndex,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        expandIcon: column.key === expandColumnKey && expandIcon\n      });\n    });\n\n    if (rowRenderer) {\n      cells = renderElement(rowRenderer, {\n        isScrolling: isScrolling,\n        cells: cells,\n        columns: columns,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        depth: depth\n      });\n    }\n\n    var eventHandlers = this._getEventHandlers(rowEventHandlers);\n\n    if (estimatedRowHeight && rowIndex >= 0) {\n      var height = style.height,\n          otherStyles = _objectWithoutPropertiesLoose(style, _excluded2);\n\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n        ref: this._setRef,\n        className: className,\n        style: this.state.measured ? style : otherStyles\n      }, this.state.measured && eventHandlers), cells);\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n      className: className,\n      style: style\n    }, eventHandlers), cells);\n  };\n\n  _proto._setRef = function _setRef(ref) {\n    this.ref = ref;\n  };\n\n  _proto._handleExpand = function _handleExpand(expanded) {\n    var _this$props2 = this.props,\n        onRowExpand = _this$props2.onRowExpand,\n        rowData = _this$props2.rowData,\n        rowIndex = _this$props2.rowIndex,\n        rowKey = _this$props2.rowKey;\n    onRowExpand && onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n  };\n\n  _proto._measureHeight = function _measureHeight(initialMeasure) {\n    if (!this.ref) return;\n    var _this$props3 = this.props,\n        style = _this$props3.style,\n        rowKey = _this$props3.rowKey,\n        onRowHeightChange = _this$props3.onRowHeightChange,\n        rowIndex = _this$props3.rowIndex,\n        columns = _this$props3.columns;\n    var height = this.ref.getBoundingClientRect().height;\n    this.setState({\n      measured: true\n    }, function () {\n      if (initialMeasure || height !== style.height) onRowHeightChange(rowKey, height, rowIndex, columns[0] && !columns[0].__placeholder__ && columns[0].frozen);\n    });\n  };\n\n  _proto._getEventHandlers = function _getEventHandlers(handlers) {\n    if (handlers === void 0) {\n      handlers = {};\n    }\n\n    var _this$props4 = this.props,\n        rowData = _this$props4.rowData,\n        rowIndex = _this$props4.rowIndex,\n        rowKey = _this$props4.rowKey,\n        onRowHover = _this$props4.onRowHover;\n    var eventHandlers = {};\n    Object.keys(handlers).forEach(function (eventKey) {\n      var callback = handlers[eventKey];\n\n      if (typeof callback === 'function') {\n        eventHandlers[eventKey] = function (event) {\n          callback({\n            rowData: rowData,\n            rowIndex: rowIndex,\n            rowKey: rowKey,\n            event: event\n          });\n        };\n      }\n    });\n\n    if (onRowHover) {\n      var mouseEnterHandler = eventHandlers['onMouseEnter'];\n\n      eventHandlers['onMouseEnter'] = function (event) {\n        onRowHover({\n          hovered: true,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseEnterHandler && mouseEnterHandler(event);\n      };\n\n      var mouseLeaveHandler = eventHandlers['onMouseLeave'];\n\n      eventHandlers['onMouseLeave'] = function (event) {\n        onRowHover({\n          hovered: false,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseLeaveHandler && mouseLeaveHandler(event);\n      };\n    }\n\n    return eventHandlers;\n  };\n\n  return TableRow;\n}(React.PureComponent);\n\nTableRow.defaultProps = {\n  tagName: 'div'\n};\nTableRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  rowData: PropTypes.object.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  expandColumnKey: PropTypes.string,\n  depth: PropTypes.number,\n  rowEventHandlers: PropTypes.object,\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  cellRenderer: PropTypes.func,\n  expandIconRenderer: PropTypes.func,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  getIsResetting: PropTypes.func,\n  onRowHover: PropTypes.func,\n  onRowExpand: PropTypes.func,\n  onRowHeightChange: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableRow;\n//# sourceMappingURL=TableRow.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * HeaderCell component for BaseTable\n */\n\nvar TableHeaderCell = function TableHeaderCell(_ref) {\n  var className = _ref.className,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, column.title);\n};\n\nTableHeaderCell.propTypes = {\n  className: PropTypes.string,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number\n};\nexport default TableHeaderCell;\n//# sourceMappingURL=TableHeaderCell.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toString } from './utils';\n/**\n * Cell component for BaseTable\n */\n\nvar TableCell = function TableCell(_ref) {\n  var className = _ref.className,\n      cellData = _ref.cellData,\n      column = _ref.column,\n      columnIndex = _ref.columnIndex,\n      rowData = _ref.rowData,\n      rowIndex = _ref.rowIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.isValidElement(cellData) ? cellData : toString(cellData));\n};\n\nTableCell.propTypes = {\n  className: PropTypes.string,\n  cellData: PropTypes.any,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number,\n  rowData: PropTypes.object,\n  rowIndex: PropTypes.number\n};\nexport default TableCell;\n//# sourceMappingURL=TableCell.js.map","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport var Alignment = {\n  LEFT: 'left',\n  CENTER: 'center',\n  RIGHT: 'right'\n};\nexport var FrozenDirection = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  DEFAULT: true,\n  NONE: false\n};\n/**\n * Column for BaseTable\n */\n\nvar Column = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Column, _React$Component);\n\n  function Column() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  return Column;\n}(React.Component);\n\nColumn.propTypes = {\n  /**\n   * Class name for the column cell, could be a callback to return the class name\n   * The callback is of the shape of `({ cellData, columns, column, columnIndex, rowData, rowIndex }) => string`\n   */\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the column header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, column, columnIndex, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Custom style for the column cell, including the header cells\n   */\n  style: PropTypes.object,\n\n  /**\n   * Title for the column header\n   */\n  title: PropTypes.string,\n\n  /**\n   * Data key for the column cell, could be \"a.b.c\"\n   */\n  dataKey: PropTypes.string,\n\n  /**\n   * Custom cell data getter\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => node`\n   */\n  dataGetter: PropTypes.func,\n\n  /**\n   * Alignment of the column cell\n   */\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n\n  /**\n   * Flex grow style, defaults to 0\n   */\n  flexGrow: PropTypes.number,\n\n  /**\n   * Flex shrink style, defaults to 1 for flexible table and 0 for fixed table\n   */\n  flexShrink: PropTypes.number,\n\n  /**\n   * The width of the column, gutter width is not included\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * Maximum width of the column, used if the column is resizable\n   */\n  maxWidth: PropTypes.number,\n\n  /**\n   * Minimum width of the column, used if the column is resizable\n   */\n  minWidth: PropTypes.number,\n\n  /**\n   * Whether the column is frozen and what's the frozen side\n   */\n  frozen: PropTypes.oneOf(['left', 'right', true, false]),\n\n  /**\n   * Whether the column is hidden\n   */\n  hidden: PropTypes.bool,\n\n  /**\n   * Whether the column is resizable, defaults to false\n   */\n  resizable: PropTypes.bool,\n\n  /**\n   * Whether the column is sortable, defaults to false\n   */\n  sortable: PropTypes.bool,\n\n  /**\n   * Custom column cell renderer\n   * The renderer receives props `{ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }`\n   */\n  cellRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom column header renderer\n   * The renderer receives props `{ columns, column, columnIndex, headerIndex, container }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n};\nColumn.Alignment = Alignment;\nColumn.FrozenDirection = FrozenDirection;\nexport default Column;\n//# sourceMappingURL=Column.js.map","/**\n * Sort order for BaseTable\n */\nvar SortOrder = {\n  /**\n   * Sort data in ascending order\n   */\n  ASC: 'asc',\n\n  /**\n   * Sort data in descending order\n   */\n  DESC: 'desc'\n};\nexport default SortOrder;\n//# sourceMappingURL=SortOrder.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"expandable\", \"expanded\", \"indentSize\", \"depth\", \"onExpand\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n/**\n * default ExpandIcon for BaseTable\n */\n\nvar ExpandIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ExpandIcon, _React$PureComponent);\n\n  function ExpandIcon(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ExpandIcon.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        expandable = _this$props.expandable,\n        expanded = _this$props.expanded,\n        indentSize = _this$props.indentSize,\n        depth = _this$props.depth,\n        onExpand = _this$props.onExpand,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    if (!expandable && indentSize === 0) return null;\n    var cls = cn('BaseTable__expand-icon', {\n      'BaseTable__expand-icon--expanded': expanded\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      className: cls,\n      onClick: expandable && onExpand ? this._handleClick : null,\n      style: {\n        fontFamily: 'initial',\n        cursor: 'pointer',\n        userSelect: 'none',\n        width: '16px',\n        minWidth: '16px',\n        height: '16px',\n        lineHeight: '16px',\n        fontSize: '16px',\n        textAlign: 'center',\n        transition: 'transform 0.15s ease-out',\n        transform: \"rotate(\" + (expandable && expanded ? 90 : 0) + \"deg)\",\n        marginLeft: depth * indentSize\n      }\n    }), expandable && \"\\u25B8\");\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var _this$props2 = this.props,\n        onExpand = _this$props2.onExpand,\n        expanded = _this$props2.expanded;\n    onExpand(!expanded);\n  };\n\n  return ExpandIcon;\n}(React.PureComponent);\n\nExpandIcon.defaultProps = {\n  depth: 0,\n  indentSize: 16\n};\nExpandIcon.propTypes = {\n  expandable: PropTypes.bool,\n  expanded: PropTypes.bool,\n  indentSize: PropTypes.number,\n  depth: PropTypes.number,\n  onExpand: PropTypes.func\n};\nexport default ExpandIcon;\n//# sourceMappingURL=ExpandIcon.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport SortOrder from './SortOrder';\n/**\n * default SortIndicator for BaseTable\n */\n\nvar SortIndicator = function SortIndicator(_ref) {\n  var sortOrder = _ref.sortOrder,\n      className = _ref.className,\n      style = _ref.style;\n  var cls = cn('BaseTable__sort-indicator', className, {\n    'BaseTable__sort-indicator--descending': sortOrder === SortOrder.DESC\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: _objectSpread({\n      userSelect: 'none',\n      width: '16px',\n      height: '16px',\n      lineHeight: '16px',\n      textAlign: 'center'\n    }, style)\n  }, sortOrder === SortOrder.DESC ? \"\\u2193\" : \"\\u2191\");\n};\n\nSortIndicator.propTypes = {\n  sortOrder: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nexport default SortIndicator;\n//# sourceMappingURL=SortIndicator.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"style\", \"column\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"minWidth\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { noop, addClassName, removeClassName } from './utils';\nvar INVALID_VALUE = null; // copied from https://github.com/mzabriskie/react-draggable/blob/master/lib/utils/domFns.js\n\nexport function addUserSelectStyles(doc) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nexport function removeUserSelectStyles(doc) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n\n    if (doc.selection) {\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\nvar dragEventFor = eventsFor.mouse;\n/**\n * ColumnResizer for BaseTable\n */\n\nvar ColumnResizer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ColumnResizer, _React$PureComponent);\n\n  function ColumnResizer(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.isDragging = false;\n    _this.lastX = INVALID_VALUE;\n    _this.width = 0;\n    _this._setHandleRef = _this._setHandleRef.bind(_assertThisInitialized(_this));\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    _this._handleMouseDown = _this._handleMouseDown.bind(_assertThisInitialized(_this));\n    _this._handleMouseUp = _this._handleMouseUp.bind(_assertThisInitialized(_this));\n    _this._handleTouchStart = _this._handleTouchStart.bind(_assertThisInitialized(_this));\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this._handleDragStart = _this._handleDragStart.bind(_assertThisInitialized(_this));\n    _this._handleDragStop = _this._handleDragStop.bind(_assertThisInitialized(_this));\n    _this._handleDrag = _this._handleDrag.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = ColumnResizer.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleRef) {\n      var ownerDocument = this.handleRef.ownerDocument;\n      ownerDocument.removeEventListener(eventsFor.mouse.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.mouse.stop, this._handleDragStop);\n      ownerDocument.removeEventListener(eventsFor.touch.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.touch.stop, this._handleDragStop);\n      removeUserSelectStyles(ownerDocument);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        style = _this$props.style,\n        column = _this$props.column,\n        onResizeStart = _this$props.onResizeStart,\n        onResize = _this$props.onResize,\n        onResizeStop = _this$props.onResizeStop,\n        minWidth = _this$props.minWidth,\n        rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      ref: this._setHandleRef,\n      onClick: this._handleClick,\n      onMouseDown: this._handleMouseDown,\n      onMouseUp: this._handleMouseUp,\n      onTouchStart: this._handleTouchStart,\n      onTouchEnd: this._handleTouchEnd,\n      style: _objectSpread({\n        userSelect: 'none',\n        touchAction: 'none',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        right: 0,\n        cursor: 'col-resize'\n      }, style)\n    }));\n  };\n\n  _proto._setHandleRef = function _setHandleRef(ref) {\n    this.handleRef = ref;\n  };\n\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n  };\n\n  _proto._handleMouseDown = function _handleMouseDown(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleMouseUp = function _handleMouseUp(e) {\n    dragEventFor = eventsFor.mouse;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleTouchStart = function _handleTouchStart(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStart(e);\n  };\n\n  _proto._handleTouchEnd = function _handleTouchEnd(e) {\n    dragEventFor = eventsFor.touch;\n\n    this._handleDragStop(e);\n  };\n\n  _proto._handleDragStart = function _handleDragStart(e) {\n    if (typeof e.button === 'number' && e.button !== 0) return;\n    this.isDragging = true;\n    this.lastX = INVALID_VALUE;\n    this.width = this.props.column.width;\n    this.props.onResizeStart(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    addUserSelectStyles(ownerDocument);\n    ownerDocument.addEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.addEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDragStop = function _handleDragStop(e) {\n    if (!this.isDragging) return;\n    this.isDragging = false;\n    this.props.onResizeStop(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    removeUserSelectStyles(ownerDocument);\n    ownerDocument.removeEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.removeEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n\n  _proto._handleDrag = function _handleDrag(e) {\n    var clientX = e.clientX;\n\n    if (e.type === eventsFor.touch.move) {\n      e.preventDefault();\n      if (e.targetTouches && e.targetTouches[0]) clientX = e.targetTouches[0].clientX;\n    }\n\n    var offsetParent = this.handleRef.offsetParent;\n    var offsetParentRect = offsetParent.getBoundingClientRect();\n    var x = clientX + offsetParent.scrollLeft - offsetParentRect.left;\n\n    if (this.lastX === INVALID_VALUE) {\n      this.lastX = x;\n      return;\n    }\n\n    var _this$props2 = this.props,\n        column = _this$props2.column,\n        MIN_WIDTH = _this$props2.minWidth;\n    var width = column.width,\n        maxWidth = column.maxWidth,\n        _column$minWidth = column.minWidth,\n        minWidth = _column$minWidth === void 0 ? MIN_WIDTH : _column$minWidth;\n    var movedX = x - this.lastX;\n    if (!movedX) return;\n    this.width = this.width + movedX;\n    this.lastX = x;\n    var newWidth = this.width;\n\n    if (maxWidth && newWidth > maxWidth) {\n      newWidth = maxWidth;\n    } else if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n\n    if (newWidth === width) return;\n    this.props.onResize(column, newWidth);\n  };\n\n  return ColumnResizer;\n}(React.PureComponent);\n\nColumnResizer.defaultProps = {\n  onResizeStart: noop,\n  onResize: noop,\n  onResizeStop: noop,\n  minWidth: 30\n};\nColumnResizer.propTypes = {\n  /**\n   * Custom style for the drag handler\n   */\n  style: PropTypes.object,\n\n  /**\n   * The column object to be dragged\n   */\n  column: PropTypes.object,\n\n  /**\n   * A callback function when resizing started\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStart: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column\n   * The callback is of the shape of `(column, width) => *`\n   */\n  onResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing stopped\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStop: PropTypes.func,\n\n  /**\n   * Minimum width of the column could be resized to if the column's `minWidth` is not set\n   */\n  minWidth: PropTypes.number\n};\nexport default ColumnResizer;\n//# sourceMappingURL=ColumnResizer.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { FrozenDirection } from './Column';\n\nvar ColumnManager = /*#__PURE__*/function () {\n  function ColumnManager(columns, fixed) {\n    this._origColumns = [];\n    this.reset(columns, fixed);\n  }\n\n  var _proto = ColumnManager.prototype;\n\n  _proto._cache = function _cache(key, fn) {\n    if (key in this._cached) return this._cached[key];\n    this._cached[key] = fn();\n    return this._cached[key];\n  };\n\n  _proto.reset = function reset(columns, fixed) {\n    var _this = this;\n\n    this._columns = columns.map(function (column) {\n      var width = column.width;\n\n      if (column.resizable) {\n        // don't reset column's `width` if `width` prop doesn't change\n        var idx = _this._origColumns.findIndex(function (x) {\n          return x.key === column.key;\n        });\n\n        if (idx >= 0 && _this._origColumns[idx].width === column.width) {\n          width = _this._columns[idx].width;\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, column), {}, {\n        width: width\n      });\n    });\n    this._origColumns = columns;\n    this._fixed = fixed;\n    this._cached = {};\n    this._columnStyles = this.recomputeColumnStyles();\n  };\n\n  _proto.resetCache = function resetCache() {\n    this._cached = {};\n  };\n\n  _proto.getOriginalColumns = function getOriginalColumns() {\n    return this._origColumns;\n  };\n\n  _proto.getColumns = function getColumns() {\n    return this._columns;\n  };\n\n  _proto.getVisibleColumns = function getVisibleColumns() {\n    var _this2 = this;\n\n    return this._cache('visibleColumns', function () {\n      return _this2._columns.filter(function (column) {\n        return !column.hidden;\n      });\n    });\n  };\n\n  _proto.hasFrozenColumns = function hasFrozenColumns() {\n    var _this3 = this;\n\n    return this._cache('hasFrozenColumns', function () {\n      return _this3._fixed && _this3.getVisibleColumns().some(function (column) {\n        return !!column.frozen;\n      });\n    });\n  };\n\n  _proto.hasLeftFrozenColumns = function hasLeftFrozenColumns() {\n    var _this4 = this;\n\n    return this._cache('hasLeftFrozenColumns', function () {\n      return _this4._fixed && _this4.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.hasRightFrozenColumns = function hasRightFrozenColumns() {\n    var _this5 = this;\n\n    return this._cache('hasRightFrozenColumns', function () {\n      return _this5._fixed && _this5.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getMainColumns = function getMainColumns() {\n    var _this6 = this;\n\n    return this._cache('mainColumns', function () {\n      var columns = _this6.getVisibleColumns();\n\n      if (!_this6.hasFrozenColumns()) return columns;\n      var mainColumns = [];\n\n      _this6.getLeftFrozenColumns().forEach(function (column) {\n        var _objectSpread2;\n\n        //columns placeholder for the fixed table above them\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread2 = {}, _objectSpread2[ColumnManager.PlaceholderKey] = true, _objectSpread2)));\n      });\n\n      _this6.getVisibleColumns().forEach(function (column) {\n        if (!column.frozen) mainColumns.push(column);\n      });\n\n      _this6.getRightFrozenColumns().forEach(function (column) {\n        var _objectSpread3;\n\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread3 = {}, _objectSpread3[ColumnManager.PlaceholderKey] = true, _objectSpread3)));\n      });\n\n      return mainColumns;\n    });\n  };\n\n  _proto.getLeftFrozenColumns = function getLeftFrozenColumns() {\n    var _this7 = this;\n\n    return this._cache('leftFrozenColumns', function () {\n      if (!_this7._fixed) return [];\n      return _this7.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n\n  _proto.getRightFrozenColumns = function getRightFrozenColumns() {\n    var _this8 = this;\n\n    return this._cache('rightFrozenColumns', function () {\n      if (!_this8._fixed) return [];\n      return _this8.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n\n  _proto.getColumn = function getColumn(key) {\n    var idx = this._columns.findIndex(function (column) {\n      return column.key === key;\n    });\n\n    return this._columns[idx];\n  };\n\n  _proto.getColumnsWidth = function getColumnsWidth() {\n    var _this9 = this;\n\n    return this._cache('columnsWidth', function () {\n      return _this9.recomputeColumnsWidth(_this9.getVisibleColumns());\n    });\n  };\n\n  _proto.getLeftFrozenColumnsWidth = function getLeftFrozenColumnsWidth() {\n    var _this10 = this;\n\n    return this._cache('leftFrozenColumnsWidth', function () {\n      return _this10.recomputeColumnsWidth(_this10.getLeftFrozenColumns());\n    });\n  };\n\n  _proto.getRightFrozenColumnsWidth = function getRightFrozenColumnsWidth() {\n    var _this11 = this;\n\n    return this._cache('rightFrozenColumnsWidth', function () {\n      return _this11.recomputeColumnsWidth(_this11.getRightFrozenColumns());\n    });\n  };\n\n  _proto.recomputeColumnsWidth = function recomputeColumnsWidth(columns) {\n    return columns.reduce(function (width, column) {\n      return width + column.width;\n    }, 0);\n  };\n\n  _proto.setColumnWidth = function setColumnWidth(key, width) {\n    var column = this.getColumn(key);\n    column.width = width;\n    this._cached = {};\n    this._columnStyles[column.key] = this.recomputeColumnStyle(column);\n  };\n\n  _proto.getColumnStyle = function getColumnStyle(key) {\n    return this._columnStyles[key];\n  };\n\n  _proto.getColumnStyles = function getColumnStyles() {\n    return this._columnStyles;\n  };\n\n  _proto.recomputeColumnStyle = function recomputeColumnStyle(column) {\n    var flexGrow = 0;\n    var flexShrink = 0;\n\n    if (!this._fixed) {\n      flexGrow = typeof column.flexGrow === 'number' ? column.flexGrow : 0;\n      flexShrink = typeof column.flexShrink === 'number' ? column.flexShrink : 1;\n    } // workaround for Flex bug on IE: https://github.com/philipwalton/flexbugs#flexbug-7\n\n\n    var flexValue = flexGrow + \" \" + flexShrink + \" auto\";\n\n    var style = _objectSpread(_objectSpread({}, column.style), {}, {\n      flex: flexValue,\n      msFlex: flexValue,\n      WebkitFlex: flexValue,\n      width: column.width,\n      overflow: 'hidden'\n    });\n\n    if (!this._fixed && column.maxWidth) {\n      style.maxWidth = column.maxWidth;\n    }\n\n    if (!this._fixed && column.minWidth) {\n      style.minWidth = column.minWidth;\n    }\n\n    return style;\n  };\n\n  _proto.recomputeColumnStyles = function recomputeColumnStyles() {\n    var _this12 = this;\n\n    return this._columns.reduce(function (styles, column) {\n      styles[column.key] = _this12.recomputeColumnStyle(column);\n      return styles;\n    }, {});\n  };\n\n  return ColumnManager;\n}();\n\nexport { ColumnManager as default };\nColumnManager.PlaceholderKey = '__placeholder__';\n//# sourceMappingURL=ColumnManager.js.map","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"tagName\"],\n    _excluded2 = [\"tagName\"],\n    _excluded3 = [\"width\", \"headerHeight\", \"rowHeight\", \"fixed\", \"estimatedRowHeight\"],\n    _excluded4 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"],\n    _excluded5 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport memoize from 'memoize-one';\nimport GridTable from './GridTable';\nimport TableHeaderRow from './TableHeaderRow';\nimport TableRow from './TableRow';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableCell from './TableCell';\nimport Column, { Alignment, FrozenDirection } from './Column';\nimport SortOrder from './SortOrder';\nimport ExpandIcon from './ExpandIcon';\nimport SortIndicator from './SortIndicator';\nimport ColumnResizer from './ColumnResizer';\nimport ColumnManager from './ColumnManager';\nimport { renderElement, normalizeColumns, getScrollbarSize as defaultGetScrollbarSize, getEstimatedTotalRowsHeight, isObjectEqual, callOrReturn, hasChildren, flattenOnKeys, cloneArray, getValue, throttle, debounce, noop } from './utils';\nvar getColumns = memoize(function (columns, children) {\n  return columns || normalizeColumns(children);\n});\n\nvar getContainerStyle = function getContainerStyle(width, maxWidth, height) {\n  return {\n    width: width,\n    maxWidth: maxWidth,\n    height: height,\n    overflow: 'hidden'\n  };\n};\n\nvar DEFAULT_COMPONENTS = {\n  TableCell: TableCell,\n  TableHeaderCell: TableHeaderCell,\n  ExpandIcon: ExpandIcon,\n  SortIndicator: SortIndicator\n};\nvar RESIZE_THROTTLE_WAIT = 50; // used for memoization\n\nvar EMPTY_ARRAY = [];\n/**\n * React table component\n */\n\nvar BaseTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(BaseTable, _React$PureComponent);\n\n  function BaseTable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    var columns = props.columns,\n        children = props.children,\n        defaultExpandedRowKeys = props.defaultExpandedRowKeys;\n    _this.state = {\n      scrollbarSize: 0,\n      hoveredRowKey: null,\n      resizingKey: null,\n      resizingWidth: 0,\n      expandedRowKeys: cloneArray(defaultExpandedRowKeys)\n    };\n    _this.columnManager = new ColumnManager(getColumns(columns, children), props.fixed);\n    _this._setContainerRef = _this._setContainerRef.bind(_assertThisInitialized(_this));\n    _this._setMainTableRef = _this._setMainTableRef.bind(_assertThisInitialized(_this));\n    _this._setLeftTableRef = _this._setLeftTableRef.bind(_assertThisInitialized(_this));\n    _this._setRightTableRef = _this._setRightTableRef.bind(_assertThisInitialized(_this));\n    _this.renderExpandIcon = _this.renderExpandIcon.bind(_assertThisInitialized(_this));\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    _this.renderRowCell = _this.renderRowCell.bind(_assertThisInitialized(_this));\n    _this.renderHeader = _this.renderHeader.bind(_assertThisInitialized(_this));\n    _this.renderHeaderCell = _this.renderHeaderCell.bind(_assertThisInitialized(_this));\n    _this._handleScroll = _this._handleScroll.bind(_assertThisInitialized(_this));\n    _this._handleVerticalScroll = _this._handleVerticalScroll.bind(_assertThisInitialized(_this));\n    _this._handleRowsRendered = _this._handleRowsRendered.bind(_assertThisInitialized(_this));\n    _this._handleRowHover = _this._handleRowHover.bind(_assertThisInitialized(_this));\n    _this._handleRowExpand = _this._handleRowExpand.bind(_assertThisInitialized(_this));\n    _this._handleColumnResize = throttle(_this._handleColumnResize.bind(_assertThisInitialized(_this)), RESIZE_THROTTLE_WAIT);\n    _this._handleColumnResizeStart = _this._handleColumnResizeStart.bind(_assertThisInitialized(_this));\n    _this._handleColumnResizeStop = _this._handleColumnResizeStop.bind(_assertThisInitialized(_this));\n    _this._handleColumnSort = _this._handleColumnSort.bind(_assertThisInitialized(_this));\n    _this._handleFrozenRowHeightChange = _this._handleFrozenRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._handleRowHeightChange = _this._handleRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._getLeftTableContainerStyle = memoize(getContainerStyle);\n    _this._getRightTableContainerStyle = memoize(getContainerStyle);\n    _this._flattenOnKeys = memoize(function (tree, keys, dataKey) {\n      _this._depthMap = {};\n      return flattenOnKeys(tree, keys, _this._depthMap, dataKey);\n    });\n    _this._resetColumnManager = memoize(function (columns, fixed) {\n      _this.columnManager.reset(columns, fixed);\n\n      if (_this.props.estimatedRowHeight && fixed) {\n        if (!_this.columnManager.hasLeftFrozenColumns()) {\n          _this._leftRowHeightMap = {};\n        }\n\n        if (!_this.columnManager.hasRightFrozenColumns()) {\n          _this._rightRowHeightMap = {};\n        }\n      }\n    }, function (newArgs, lastArgs) {\n      return isObjectEqual(newArgs, lastArgs, _this.props.ignoreFunctionInColumnCompare);\n    });\n    _this._isResetting = false;\n    _this._resetIndex = null;\n    _this._rowHeightMap = {};\n    _this._rowHeightMapBuffer = {};\n    _this._mainRowHeightMap = {};\n    _this._leftRowHeightMap = {};\n    _this._rightRowHeightMap = {};\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this._getRowHeight = _this._getRowHeight.bind(_assertThisInitialized(_this));\n    _this._updateRowHeights = debounce(function () {\n      _this._isResetting = true;\n      _this._rowHeightMap = _objectSpread(_objectSpread({}, _this._rowHeightMap), _this._rowHeightMapBuffer);\n\n      _this.resetAfterRowIndex(_this._resetIndex, false);\n\n      _this._rowHeightMapBuffer = {};\n      _this._resetIndex = null;\n\n      _this.forceUpdateTable();\n\n      _this.forceUpdate();\n\n      _this._isResetting = false;\n    }, 0);\n    _this._scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    _this._scrollHeight = 0;\n    _this._lastScannedRowIndex = -1;\n    _this._hasDataChangedSinceEndReached = true;\n    _this._data = props.data;\n    _this._depthMap = {};\n    _this._horizontalScrollbarSize = 0;\n    _this._verticalScrollbarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    return _this;\n  }\n  /**\n   * Get the DOM node of the table\n   */\n\n\n  var _proto = BaseTable.prototype;\n\n  _proto.getDOMNode = function getDOMNode() {\n    return this.tableNode;\n  }\n  /**\n   * Get the column manager\n   */\n  ;\n\n  _proto.getColumnManager = function getColumnManager() {\n    return this.columnManager;\n  }\n  /**\n   * Get internal `expandedRowKeys` state\n   */\n  ;\n\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return expandedRowKeys !== undefined ? expandedRowKeys || EMPTY_ARRAY : this.state.expandedRowKeys;\n  }\n  /**\n   * Get the expanded state, fallback to normal state if not expandable.\n   */\n  ;\n\n  _proto.getExpandedState = function getExpandedState() {\n    return {\n      expandedData: this._data,\n      expandedRowKeys: this.getExpandedRowKeys(),\n      expandedDepthMap: this._depthMap\n    };\n  }\n  /**\n   * Get the total height of all rows, including expanded rows.\n   */\n  ;\n\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n        rowHeight = _this$props.rowHeight,\n        estimatedRowHeight = _this$props.estimatedRowHeight;\n\n    if (estimatedRowHeight) {\n      return this.table ? this.table.getTotalRowsHeight() : this._getEstimatedTotalRowsHeight(this._data, estimatedRowHeight);\n    }\n\n    return this._data.length * rowHeight;\n  }\n  /**\n   * Get the total width of all columns.\n   */\n  ;\n\n  _proto.getTotalColumnsWidth = function getTotalColumnsWidth() {\n    return this.columnManager.getColumnsWidth();\n  }\n  /**\n   * Forcefully re-render the inner Grid component.\n   *\n   * Calling `forceUpdate` on `Table` may not re-render the inner Grid since it uses `shallowCompare` as a performance optimization.\n   * Use this method if you want to manually trigger a re-render.\n   * This may be appropriate if the underlying row data has changed but the row sizes themselves have not.\n   */\n  ;\n\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.table && this.table.forceUpdateTable();\n    this.leftTable && this.leftTable.forceUpdateTable();\n    this.rightTable && this.rightTable.forceUpdateTable();\n  }\n  /**\n   * Reset cached offsets for positioning after a specific rowIndex, should be used only in dynamic mode(estimatedRowHeight is provided)\n   *\n   * @param {number} rowIndex\n   * @param {boolean} shouldForceUpdate\n   */\n  ;\n\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = true;\n    }\n\n    if (!this.props.estimatedRowHeight) return;\n    this.table && this.table.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.leftTable && this.leftTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.rightTable && this.rightTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  }\n  /**\n   * Reset row height cache, useful if `data` changed entirely, should be used only in dynamic mode(estimatedRowHeight is provided)\n   */\n  ;\n\n  _proto.resetRowHeightCache = function resetRowHeightCache() {\n    if (!this.props.estimatedRowHeight) return;\n    this._resetIndex = null;\n    this._rowHeightMapBuffer = {};\n    this._rowHeightMap = {};\n    this._mainRowHeightMap = {};\n    this._leftRowHeightMap = {};\n    this._rightRowHeightMap = {};\n  }\n  /**\n   * Scroll to the specified offset.\n   * Useful for animating position changes.\n   *\n   * @param {object} offset\n   */\n  ;\n\n  _proto.scrollToPosition = function scrollToPosition(offset) {\n    this._scroll = offset;\n    this.table && this.table.scrollToPosition(offset);\n    this.leftTable && this.leftTable.scrollToTop(offset.scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(offset.scrollTop);\n  }\n  /**\n   * Scroll to the specified offset vertically.\n   *\n   * @param {number} scrollTop\n   */\n  ;\n\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this._scroll.scrollTop = scrollTop;\n    this.table && this.table.scrollToPosition(this._scroll);\n    this.leftTable && this.leftTable.scrollToTop(scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(scrollTop);\n  }\n  /**\n   * Scroll to the specified offset horizontally.\n   *\n   * @param {number} scrollLeft\n   */\n  ;\n\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this._scroll.scrollLeft = scrollLeft;\n    this.table && this.table.scrollToPosition(this._scroll);\n  }\n  /**\n   * Scroll to the specified row.\n   * By default, the table will scroll as little as possible to ensure the row is visible.\n   * You can control the alignment of the row though by specifying an align property. Acceptable values are:\n   *\n   * - `auto` (default) - Scroll as little as possible to ensure the row is visible.\n   * - `smart` - Same as `auto` if it is less than one viewport away, or it's the same as`center`.\n   * - `center` - Center align the row within the table.\n   * - `end` - Align the row to the bottom side of the table.\n   * - `start` - Align the row to the top side of the table.\n   *\n   * @param {number} rowIndex\n   * @param {string} align\n   */\n  ;\n\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n\n    if (align === void 0) {\n      align = 'auto';\n    }\n\n    this.table && this.table.scrollToRow(rowIndex, align);\n    this.leftTable && this.leftTable.scrollToRow(rowIndex, align);\n    this.rightTable && this.rightTable.scrollToRow(rowIndex, align);\n  }\n  /**\n   * Set `expandedRowKeys` manually.\n   * This method is available only if `expandedRowKeys` is uncontrolled.\n   *\n   * @param {array} expandedRowKeys\n   */\n  ;\n\n  _proto.setExpandedRowKeys = function setExpandedRowKeys(expandedRowKeys) {\n    // if `expandedRowKeys` is controlled\n    if (this.props.expandedRowKeys !== undefined) return;\n    this.setState({\n      expandedRowKeys: cloneArray(expandedRowKeys)\n    });\n  };\n\n  _proto.renderExpandIcon = function renderExpandIcon(_ref) {\n    var rowData = _ref.rowData,\n        rowIndex = _ref.rowIndex,\n        depth = _ref.depth,\n        onExpand = _ref.onExpand;\n    var _this$props2 = this.props,\n        rowKey = _this$props2.rowKey,\n        expandColumnKey = _this$props2.expandColumnKey,\n        expandIconProps = _this$props2.expandIconProps;\n    if (!expandColumnKey) return null;\n    var expandable = rowIndex >= 0 && hasChildren(rowData);\n    var expanded = rowIndex >= 0 && this.getExpandedRowKeys().indexOf(rowData[rowKey]) >= 0;\n    var extraProps = callOrReturn(expandIconProps, {\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    });\n\n    var ExpandIcon = this._getComponent('ExpandIcon');\n\n    return /*#__PURE__*/React.createElement(ExpandIcon, _extends({\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    }, extraProps, {\n      onExpand: onExpand\n    }));\n  };\n\n  _proto.renderRow = function renderRow(_ref2) {\n    var _cn;\n\n    var isScrolling = _ref2.isScrolling,\n        columns = _ref2.columns,\n        rowData = _ref2.rowData,\n        rowIndex = _ref2.rowIndex,\n        style = _ref2.style;\n    var _this$props3 = this.props,\n        rowClassName = _this$props3.rowClassName,\n        rowRenderer = _this$props3.rowRenderer,\n        rowEventHandlers = _this$props3.rowEventHandlers,\n        expandColumnKey = _this$props3.expandColumnKey,\n        estimatedRowHeight = _this$props3.estimatedRowHeight;\n    var rowClass = callOrReturn(rowClassName, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var extraProps = callOrReturn(this.props.rowProps, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var rowKey = rowData[this.props.rowKey];\n    var depth = this._depthMap[rowKey] || 0;\n    var className = cn(this._prefixClass('row'), rowClass, (_cn = {}, _cn[this._prefixClass(\"row--depth-\" + depth)] = !!expandColumnKey && rowIndex >= 0, _cn[this._prefixClass('row--expanded')] = !!expandColumnKey && this.getExpandedRowKeys().indexOf(rowKey) >= 0, _cn[this._prefixClass('row--hovered')] = !isScrolling && rowKey === this.state.hoveredRowKey, _cn[this._prefixClass('row--frozen')] = depth === 0 && rowIndex < 0, _cn[this._prefixClass('row--customized')] = rowRenderer, _cn));\n    var hasFrozenColumns = this.columnManager.hasFrozenColumns();\n\n    var rowProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"row-\" + rowKey,\n      isScrolling: isScrolling,\n      className: className,\n      style: style,\n      columns: columns,\n      rowIndex: rowIndex,\n      rowData: rowData,\n      rowKey: rowKey,\n      expandColumnKey: expandColumnKey,\n      depth: depth,\n      rowEventHandlers: rowEventHandlers,\n      rowRenderer: rowRenderer,\n      // for frozen rows we use fixed rowHeight\n      estimatedRowHeight: rowIndex >= 0 ? estimatedRowHeight : undefined,\n      getIsResetting: this._getIsResetting,\n      cellRenderer: this.renderRowCell,\n      expandIconRenderer: this.renderExpandIcon,\n      onRowExpand: this._handleRowExpand,\n      // for fixed table, we need to sync the hover state across the inner tables\n      onRowHover: hasFrozenColumns ? this._handleRowHover : null,\n      onRowHeightChange: hasFrozenColumns ? this._handleFrozenRowHeightChange : this._handleRowHeightChange\n    });\n\n    return /*#__PURE__*/React.createElement(TableRow, rowProps);\n  };\n\n  _proto.renderRowCell = function renderRowCell(_ref3) {\n    var _cn2;\n\n    var isScrolling = _ref3.isScrolling,\n        columns = _ref3.columns,\n        column = _ref3.column,\n        columnIndex = _ref3.columnIndex,\n        rowData = _ref3.rowData,\n        rowIndex = _ref3.rowIndex,\n        expandIcon = _ref3.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('row-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var className = column.className,\n        dataKey = column.dataKey,\n        dataGetter = column.dataGetter,\n        cellRenderer = column.cellRenderer;\n\n    var TableCell = this._getComponent('TableCell');\n\n    var cellData = dataGetter ? dataGetter({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    }) : getValue(rowData, dataKey);\n    var cellProps = {\n      isScrolling: isScrolling,\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      container: this\n    };\n    var cell = renderElement(cellRenderer || /*#__PURE__*/React.createElement(TableCell, {\n      className: this._prefixClass('row-cell-text')\n    }), cellProps);\n    var cellCls = callOrReturn(className, {\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var cls = cn(this._prefixClass('row-cell'), cellCls, (_cn2 = {}, _cn2[this._prefixClass('row-cell--align-center')] = column.align === Alignment.CENTER, _cn2[this._prefixClass('row-cell--align-right')] = column.align === Alignment.RIGHT, _cn2));\n    var extraProps = callOrReturn(this.props.cellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n\n    var _ref4 = extraProps || {},\n        tagName = _ref4.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key)\n    }), expandIcon, cell);\n  };\n\n  _proto.renderHeader = function renderHeader(_ref5) {\n    var _cn3;\n\n    var columns = _ref5.columns,\n        headerIndex = _ref5.headerIndex,\n        style = _ref5.style;\n    var _this$props4 = this.props,\n        headerClassName = _this$props4.headerClassName,\n        headerRenderer = _this$props4.headerRenderer;\n    var headerClass = callOrReturn(headerClassName, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var extraProps = callOrReturn(this.props.headerProps, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var className = cn(this._prefixClass('header-row'), headerClass, (_cn3 = {}, _cn3[this._prefixClass('header-row--resizing')] = !!this.state.resizingKey, _cn3[this._prefixClass('header-row--customized')] = headerRenderer, _cn3));\n\n    var headerProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"header-\" + headerIndex,\n      className: className,\n      style: style,\n      columns: columns,\n      headerIndex: headerIndex,\n      headerRenderer: headerRenderer,\n      cellRenderer: this.renderHeaderCell,\n      expandColumnKey: this.props.expandColumnKey,\n      expandIcon: this._getComponent('ExpandIcon')\n    });\n\n    return /*#__PURE__*/React.createElement(TableHeaderRow, headerProps);\n  };\n\n  _proto.renderHeaderCell = function renderHeaderCell(_ref6) {\n    var _cn4, _cn5;\n\n    var columns = _ref6.columns,\n        column = _ref6.column,\n        columnIndex = _ref6.columnIndex,\n        headerIndex = _ref6.headerIndex,\n        expandIcon = _ref6.expandIcon;\n\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"header-\" + headerIndex + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('header-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n\n    var headerClassName = column.headerClassName,\n        headerRenderer = column.headerRenderer;\n    var _this$props5 = this.props,\n        sortBy = _this$props5.sortBy,\n        sortState = _this$props5.sortState,\n        headerCellProps = _this$props5.headerCellProps;\n\n    var TableHeaderCell = this._getComponent('TableHeaderCell');\n\n    var SortIndicator = this._getComponent('SortIndicator');\n\n    var cellProps = {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      container: this\n    };\n    var cell = renderElement(headerRenderer || /*#__PURE__*/React.createElement(TableHeaderCell, {\n      className: this._prefixClass('header-cell-text')\n    }), cellProps);\n    var sorting, sortOrder;\n\n    if (sortState) {\n      var order = sortState[column.key];\n      sorting = order === SortOrder.ASC || order === SortOrder.DESC;\n      sortOrder = sorting ? order : SortOrder.ASC;\n    } else {\n      sorting = column.key === sortBy.key;\n      sortOrder = sorting ? sortBy.order : SortOrder.ASC;\n    }\n\n    var cellCls = callOrReturn(headerClassName, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n    var cls = cn(this._prefixClass('header-cell'), cellCls, (_cn4 = {}, _cn4[this._prefixClass('header-cell--align-center')] = column.align === Alignment.CENTER, _cn4[this._prefixClass('header-cell--align-right')] = column.align === Alignment.RIGHT, _cn4[this._prefixClass('header-cell--sortable')] = column.sortable, _cn4[this._prefixClass('header-cell--sorting')] = sorting, _cn4[this._prefixClass('header-cell--resizing')] = column.key === this.state.resizingKey, _cn4));\n    var extraProps = callOrReturn(headerCellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n\n    var _ref7 = extraProps || {},\n        tagName = _ref7.tagName,\n        rest = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"header-\" + headerIndex + \"-cell-\" + column.key,\n      onClick: column.sortable ? this._handleColumnSort : null\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key),\n      \"data-key\": column.key\n    }), expandIcon, cell, column.sortable && /*#__PURE__*/React.createElement(SortIndicator, {\n      sortOrder: sortOrder,\n      className: cn(this._prefixClass('sort-indicator'), (_cn5 = {}, _cn5[this._prefixClass('sort-indicator--descending')] = sortOrder === SortOrder.DESC, _cn5))\n    }), column.resizable && /*#__PURE__*/React.createElement(ColumnResizer, {\n      className: this._prefixClass('column-resizer'),\n      column: column,\n      onResizeStart: this._handleColumnResizeStart,\n      onResizeStop: this._handleColumnResizeStop,\n      onResize: this._handleColumnResize\n    }));\n  };\n\n  _proto.renderMainTable = function renderMainTable() {\n    var _this$props6 = this.props,\n        width = _this$props6.width,\n        headerHeight = _this$props6.headerHeight,\n        rowHeight = _this$props6.rowHeight,\n        fixed = _this$props6.fixed,\n        estimatedRowHeight = _this$props6.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props6, _excluded3);\n\n    var height = this._getTableHeight();\n\n    var tableWidth = width - this._verticalScrollbarSize;\n\n    if (fixed) {\n      var columnsWidth = this.columnManager.getColumnsWidth(); // make sure `scrollLeft` is always integer to fix a sync bug when scrolling to end horizontally\n\n      tableWidth = Math.max(Math.round(columnsWidth), tableWidth);\n    }\n\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      className: this._prefixClass('table-main'),\n      ref: this._setMainTableRef,\n      data: this._data,\n      columns: this.columnManager.getMainColumns(),\n      width: width,\n      height: height,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: tableWidth + (fixed ? this._verticalScrollbarSize : 0),\n      bodyWidth: tableWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleScroll,\n      onRowsRendered: this._handleRowsRendered\n    }));\n  };\n\n  _proto.renderLeftTable = function renderLeftTable() {\n    if (!this.columnManager.hasLeftFrozenColumns()) return null;\n\n    var _this$props7 = this.props,\n        width = _this$props7.width,\n        headerHeight = _this$props7.headerHeight,\n        rowHeight = _this$props7.rowHeight,\n        estimatedRowHeight = _this$props7.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props7, _excluded4);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var offset = this._verticalScrollbarSize || 20;\n    var columnsWidth = this.columnManager.getLeftFrozenColumnsWidth();\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-left'),\n      ref: this._setLeftTableRef,\n      data: this._data,\n      columns: this.columnManager.getLeftFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + offset,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + offset,\n      bodyWidth: columnsWidth + offset,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderRightTable = function renderRightTable() {\n    if (!this.columnManager.hasRightFrozenColumns()) return null;\n\n    var _this$props8 = this.props,\n        width = _this$props8.width,\n        headerHeight = _this$props8.headerHeight,\n        rowHeight = _this$props8.rowHeight,\n        estimatedRowHeight = _this$props8.estimatedRowHeight,\n        rest = _objectWithoutPropertiesLoose(_this$props8, _excluded5);\n\n    var containerHeight = this._getFrozenContainerHeight();\n\n    var columnsWidth = this.columnManager.getRightFrozenColumnsWidth();\n    var scrollbarWidth = this._verticalScrollbarSize;\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth + scrollbarWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-right'),\n      ref: this._setRightTableRef,\n      data: this._data,\n      columns: this.columnManager.getRightFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + scrollbarWidth,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + scrollbarWidth,\n      bodyWidth: columnsWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n\n  _proto.renderResizingLine = function renderResizingLine() {\n    var _this$props9 = this.props,\n        width = _this$props9.width,\n        fixed = _this$props9.fixed;\n    var resizingKey = this.state.resizingKey;\n    if (!fixed || !resizingKey) return null;\n    var columns = this.columnManager.getMainColumns();\n    var idx = columns.findIndex(function (column) {\n      return column.key === resizingKey;\n    });\n    var column = columns[idx];\n    var columnWidth = column.width,\n        frozen = column.frozen;\n    var leftWidth = this.columnManager.recomputeColumnsWidth(columns.slice(0, idx));\n    var left = leftWidth + columnWidth;\n\n    if (!frozen) {\n      left -= this._scroll.scrollLeft;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      var rightWidth = this.columnManager.recomputeColumnsWidth(columns.slice(idx + 1));\n\n      if (rightWidth + columnWidth > width - this._verticalScrollbarSize) {\n        left = columnWidth;\n      } else {\n        left = width - this._verticalScrollbarSize - rightWidth;\n      }\n    }\n\n    var style = {\n      left: left,\n      height: this._getTableHeight() - this._horizontalScrollbarSize\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('resizing-line'),\n      style: style\n    });\n  };\n\n  _proto.renderFooter = function renderFooter() {\n    var _this$props10 = this.props,\n        footerHeight = _this$props10.footerHeight,\n        footerRenderer = _this$props10.footerRenderer;\n    if (footerHeight === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('footer'),\n      style: {\n        height: footerHeight\n      }\n    }, renderElement(footerRenderer));\n  };\n\n  _proto.renderEmptyLayer = function renderEmptyLayer() {\n    var _this$props11 = this.props,\n        data = _this$props11.data,\n        frozenData = _this$props11.frozenData,\n        footerHeight = _this$props11.footerHeight,\n        emptyRenderer = _this$props11.emptyRenderer;\n    if (data && data.length || frozenData && frozenData.length) return null;\n\n    var headerHeight = this._getHeaderHeight();\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('empty-layer'),\n      style: {\n        top: headerHeight,\n        bottom: footerHeight\n      }\n    }, renderElement(emptyRenderer));\n  };\n\n  _proto.renderOverlay = function renderOverlay() {\n    var overlayRenderer = this.props.overlayRenderer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('overlay')\n    }, !!overlayRenderer && renderElement(overlayRenderer));\n  };\n\n  _proto.render = function render() {\n    var _cn6;\n\n    var _this$props12 = this.props,\n        columns = _this$props12.columns,\n        children = _this$props12.children,\n        width = _this$props12.width,\n        fixed = _this$props12.fixed,\n        data = _this$props12.data,\n        frozenData = _this$props12.frozenData,\n        expandColumnKey = _this$props12.expandColumnKey,\n        disabled = _this$props12.disabled,\n        className = _this$props12.className,\n        style = _this$props12.style,\n        footerHeight = _this$props12.footerHeight,\n        classPrefix = _this$props12.classPrefix,\n        estimatedRowHeight = _this$props12.estimatedRowHeight;\n\n    this._resetColumnManager(getColumns(columns, children), fixed);\n\n    var _data = expandColumnKey ? this._flattenOnKeys(data, this.getExpandedRowKeys(), this.props.rowKey) : data;\n\n    if (this._data !== _data) {\n      this.resetAfterRowIndex(0, false);\n      this._data = _data;\n    } // should be after `this._data` assigned\n\n\n    this._calcScrollbarSizes();\n\n    this._totalRowsHeight = this.getTotalRowsHeight();\n\n    var containerStyle = _objectSpread(_objectSpread({}, style), {}, {\n      width: width,\n      height: this._getTableHeight() + footerHeight,\n      position: 'relative'\n    });\n\n    var cls = cn(classPrefix, className, (_cn6 = {}, _cn6[classPrefix + \"--fixed\"] = fixed, _cn6[classPrefix + \"--expandable\"] = !!expandColumnKey, _cn6[classPrefix + \"--empty\"] = data.length === 0, _cn6[classPrefix + \"--has-frozen-rows\"] = frozenData.length > 0, _cn6[classPrefix + \"--has-frozen-columns\"] = this.columnManager.hasFrozenColumns(), _cn6[classPrefix + \"--disabled\"] = disabled, _cn6[classPrefix + \"--dynamic\"] = !!estimatedRowHeight, _cn6));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this._setContainerRef,\n      className: cls,\n      style: containerStyle\n    }, this.renderFooter(), this.renderMainTable(), this.renderLeftTable(), this.renderRightTable(), this.renderResizingLine(), this.renderEmptyLayer(), this.renderOverlay());\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var scrollbarSize = this.props.getScrollbarSize();\n\n    if (scrollbarSize > 0) {\n      this.setState({\n        scrollbarSize: scrollbarSize\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props13 = this.props,\n        data = _this$props13.data,\n        height = _this$props13.height,\n        maxHeight = _this$props13.maxHeight,\n        estimatedRowHeight = _this$props13.estimatedRowHeight;\n\n    if (data !== prevProps.data) {\n      this._lastScannedRowIndex = -1;\n      this._hasDataChangedSinceEndReached = true;\n    }\n\n    if (maxHeight !== prevProps.maxHeight || height !== prevProps.height) {\n      this._maybeCallOnEndReached();\n    }\n\n    this._maybeScrollbarPresenceChange();\n\n    if (estimatedRowHeight) {\n      if (this.getTotalRowsHeight() !== this._totalRowsHeight) {\n        this.forceUpdate();\n      }\n    }\n  };\n\n  _proto._prefixClass = function _prefixClass(className) {\n    return this.props.classPrefix + \"__\" + className;\n  };\n\n  _proto._setContainerRef = function _setContainerRef(ref) {\n    this.tableNode = ref;\n  };\n\n  _proto._setMainTableRef = function _setMainTableRef(ref) {\n    this.table = ref;\n  };\n\n  _proto._setLeftTableRef = function _setLeftTableRef(ref) {\n    this.leftTable = ref;\n  };\n\n  _proto._setRightTableRef = function _setRightTableRef(ref) {\n    this.rightTable = ref;\n  };\n\n  _proto._getComponent = function _getComponent(name) {\n    if (this.props.components && this.props.components[name]) return this.props.components[name];\n    return DEFAULT_COMPONENTS[name];\n  } // for dynamic row height\n  ;\n\n  _proto._getRowHeight = function _getRowHeight(rowIndex) {\n    var _this$props14 = this.props,\n        estimatedRowHeight = _this$props14.estimatedRowHeight,\n        rowKey = _this$props14.rowKey;\n    return this._rowHeightMap[this._data[rowIndex][rowKey]] || callOrReturn(estimatedRowHeight, {\n      rowData: this._data[rowIndex],\n      rowIndex: rowIndex\n    });\n  };\n\n  _proto._getIsResetting = function _getIsResetting() {\n    return this._isResetting;\n  };\n\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n\n    return headerHeight;\n  };\n\n  _proto._getFrozenRowsHeight = function _getFrozenRowsHeight() {\n    var _this$props15 = this.props,\n        frozenData = _this$props15.frozenData,\n        rowHeight = _this$props15.rowHeight;\n    return frozenData.length * rowHeight;\n  };\n\n  _proto._getTableHeight = function _getTableHeight() {\n    var _this$props16 = this.props,\n        height = _this$props16.height,\n        maxHeight = _this$props16.maxHeight,\n        footerHeight = _this$props16.footerHeight;\n    var tableHeight = height - footerHeight;\n\n    if (maxHeight > 0) {\n      var frozenRowsHeight = this._getFrozenRowsHeight();\n\n      var totalRowsHeight = this.getTotalRowsHeight();\n\n      var headerHeight = this._getHeaderHeight();\n\n      var totalHeight = headerHeight + frozenRowsHeight + totalRowsHeight + this._horizontalScrollbarSize;\n      tableHeight = Math.min(totalHeight, maxHeight - footerHeight);\n    }\n\n    return tableHeight;\n  };\n\n  _proto._getBodyHeight = function _getBodyHeight() {\n    return this._getTableHeight() - this._getHeaderHeight() - this._getFrozenRowsHeight();\n  };\n\n  _proto._getFrozenContainerHeight = function _getFrozenContainerHeight() {\n    var maxHeight = this.props.maxHeight;\n    var tableHeight = this._getTableHeight() - (this._data.length > 0 ? this._horizontalScrollbarSize : 0); // in auto height mode tableHeight = totalHeight\n\n    if (maxHeight > 0) return tableHeight;\n\n    var totalHeight = this.getTotalRowsHeight() + this._getHeaderHeight() + this._getFrozenRowsHeight();\n\n    return Math.min(tableHeight, totalHeight);\n  };\n\n  _proto._calcScrollbarSizes = function _calcScrollbarSizes() {\n    var _this$props17 = this.props,\n        fixed = _this$props17.fixed,\n        width = _this$props17.width;\n    var scrollbarSize = this.state.scrollbarSize;\n    var totalRowsHeight = this.getTotalRowsHeight();\n    var totalColumnsWidth = this.getTotalColumnsWidth();\n    var prevHorizontalScrollbarSize = this._horizontalScrollbarSize;\n    var prevVerticalScrollbarSize = this._verticalScrollbarSize;\n\n    if (scrollbarSize === 0) {\n      this._horizontalScrollbarSize = 0;\n      this._verticalScrollbarSize = 0;\n    } else {\n      // we have to set `this._horizontalScrollbarSize` before calling `this._getBodyHeight`\n      if (!fixed || totalColumnsWidth <= width - scrollbarSize) {\n        this._horizontalScrollbarSize = 0;\n        this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() ? scrollbarSize : 0;\n      } else {\n        if (totalColumnsWidth > width) {\n          this._horizontalScrollbarSize = scrollbarSize;\n          this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() - this._horizontalScrollbarSize ? scrollbarSize : 0;\n        } else {\n          this._horizontalScrollbarSize = 0;\n          this._verticalScrollbarSize = 0;\n\n          if (totalRowsHeight > this._getBodyHeight()) {\n            this._horizontalScrollbarSize = scrollbarSize;\n            this._verticalScrollbarSize = scrollbarSize;\n          }\n        }\n      }\n    }\n\n    if (prevHorizontalScrollbarSize !== this._horizontalScrollbarSize || prevVerticalScrollbarSize !== this._verticalScrollbarSize) {\n      this._scrollbarPresenceChanged = true;\n    }\n  };\n\n  _proto._maybeScrollbarPresenceChange = function _maybeScrollbarPresenceChange() {\n    if (this._scrollbarPresenceChanged) {\n      var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n      this._scrollbarPresenceChanged = false;\n      onScrollbarPresenceChange({\n        size: this.state.scrollbarSize,\n        horizontal: this._horizontalScrollbarSize > 0,\n        vertical: this._verticalScrollbarSize > 0\n      });\n    }\n  };\n\n  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _this$props18 = this.props,\n        onEndReached = _this$props18.onEndReached,\n        onEndReachedThreshold = _this$props18.onEndReachedThreshold;\n    var scrollTop = this._scroll.scrollTop;\n    var scrollHeight = this.getTotalRowsHeight();\n\n    var clientHeight = this._getBodyHeight();\n\n    if (!onEndReached || !clientHeight || !scrollHeight) return;\n    var distanceFromEnd = scrollHeight - scrollTop - clientHeight + this._horizontalScrollbarSize;\n\n    if (this._lastScannedRowIndex >= 0 && distanceFromEnd <= onEndReachedThreshold && (this._hasDataChangedSinceEndReached || scrollHeight !== this._scrollHeight)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._scrollHeight = scrollHeight;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n\n  _proto._handleScroll = function _handleScroll(args) {\n    var lastScrollTop = this._scroll.scrollTop;\n    this.scrollToPosition(args);\n    this.props.onScroll(args);\n    if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleVerticalScroll = function _handleVerticalScroll(_ref8) {\n    var scrollTop = _ref8.scrollTop;\n    var lastScrollTop = this._scroll.scrollTop;\n    if (scrollTop !== lastScrollTop) this.scrollToTop(scrollTop);\n    if (scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n\n  _proto._handleRowsRendered = function _handleRowsRendered(args) {\n    this.props.onRowsRendered(args);\n\n    if (args.overscanStopIndex > this._lastScannedRowIndex) {\n      this._lastScannedRowIndex = args.overscanStopIndex;\n\n      this._maybeCallOnEndReached();\n    }\n  };\n\n  _proto._handleRowHover = function _handleRowHover(_ref9) {\n    var hovered = _ref9.hovered,\n        rowKey = _ref9.rowKey;\n    this.setState({\n      hoveredRowKey: hovered ? rowKey : null\n    });\n  };\n\n  _proto._handleRowExpand = function _handleRowExpand(_ref10) {\n    var expanded = _ref10.expanded,\n        rowData = _ref10.rowData,\n        rowIndex = _ref10.rowIndex,\n        rowKey = _ref10.rowKey;\n    var expandedRowKeys = cloneArray(this.getExpandedRowKeys());\n\n    if (expanded) {\n      if (!expandedRowKeys.indexOf(rowKey) >= 0) expandedRowKeys.push(rowKey);\n    } else {\n      var index = expandedRowKeys.indexOf(rowKey);\n\n      if (index > -1) {\n        expandedRowKeys.splice(index, 1);\n      }\n    } // if `expandedRowKeys` is uncontrolled, update internal state\n\n\n    if (this.props.expandedRowKeys === undefined) {\n      this.setState({\n        expandedRowKeys: expandedRowKeys\n      });\n    }\n\n    this.props.onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n    this.props.onExpandedRowsChange(expandedRowKeys);\n  };\n\n  _proto._handleColumnResize = function _handleColumnResize(_ref11, width) {\n    var key = _ref11.key;\n    this.columnManager.setColumnWidth(key, width);\n    this.setState({\n      resizingWidth: width\n    });\n    var column = this.columnManager.getColumn(key);\n    this.props.onColumnResize({\n      column: column,\n      width: width\n    });\n  };\n\n  _proto._handleColumnResizeStart = function _handleColumnResizeStart(_ref12) {\n    var key = _ref12.key;\n    this.setState({\n      resizingKey: key\n    });\n  };\n\n  _proto._handleColumnResizeStop = function _handleColumnResizeStop() {\n    var _this$state = this.state,\n        resizingKey = _this$state.resizingKey,\n        resizingWidth = _this$state.resizingWidth;\n    this.setState({\n      resizingKey: null,\n      resizingWidth: 0\n    });\n    if (!resizingKey || !resizingWidth) return;\n    var column = this.columnManager.getColumn(resizingKey);\n    this.props.onColumnResizeEnd({\n      column: column,\n      width: resizingWidth\n    });\n  };\n\n  _proto._handleColumnSort = function _handleColumnSort(event) {\n    var key = event.currentTarget.dataset.key;\n    var _this$props19 = this.props,\n        sortBy = _this$props19.sortBy,\n        sortState = _this$props19.sortState,\n        onColumnSort = _this$props19.onColumnSort;\n    var order = SortOrder.ASC;\n\n    if (sortState) {\n      order = sortState[key] === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    } else if (key === sortBy.key) {\n      order = sortBy.order === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    }\n\n    var column = this.columnManager.getColumn(key);\n    onColumnSort({\n      column: column,\n      key: key,\n      order: order\n    });\n  };\n\n  _proto._handleFrozenRowHeightChange = function _handleFrozenRowHeightChange(rowKey, size, rowIndex, frozen) {\n    if (!frozen) {\n      this._mainRowHeightMap[rowKey] = size;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      this._rightRowHeightMap[rowKey] = size;\n    } else {\n      this._leftRowHeightMap[rowKey] = size;\n    }\n\n    var height = Math.max(this._mainRowHeightMap[rowKey] || 0, this._leftRowHeightMap[rowKey] || 0, this._rightRowHeightMap[rowKey] || 0);\n\n    if (this._rowHeightMap[rowKey] !== height) {\n      this._handleRowHeightChange(rowKey, height, rowIndex);\n    }\n  };\n\n  _proto._handleRowHeightChange = function _handleRowHeightChange(rowKey, size, rowIndex) {\n    if (this._resetIndex === null) this._resetIndex = rowIndex;else if (this._resetIndex > rowIndex) this._resetIndex = rowIndex;\n    this._rowHeightMapBuffer[rowKey] = size;\n\n    this._updateRowHeights();\n  };\n\n  return BaseTable;\n}(React.PureComponent);\n\nBaseTable.Column = Column;\nBaseTable.PlaceholderKey = ColumnManager.PlaceholderKey;\nBaseTable.defaultProps = {\n  classPrefix: 'BaseTable',\n  rowKey: 'id',\n  data: [],\n  frozenData: [],\n  fixed: false,\n  headerHeight: 50,\n  rowHeight: 50,\n  footerHeight: 0,\n  defaultExpandedRowKeys: [],\n  sortBy: {},\n  useIsScrolling: false,\n  overscanRowCount: 1,\n  onEndReachedThreshold: 500,\n  getScrollbarSize: defaultGetScrollbarSize,\n  ignoreFunctionInColumnCompare: true,\n  onScroll: noop,\n  onRowsRendered: noop,\n  onScrollbarPresenceChange: noop,\n  onRowExpand: noop,\n  onExpandedRowsChange: noop,\n  onColumnSort: noop,\n  onColumnResize: noop,\n  onColumnResizeEnd: noop\n};\nBaseTable.propTypes = {\n  /**\n   * Prefix for table's inner className\n   */\n  classPrefix: PropTypes.string,\n\n  /**\n   * Class name for the table\n   */\n  className: PropTypes.string,\n\n  /**\n   * Custom style for the table\n   */\n  style: PropTypes.object,\n\n  /**\n   * A collection of Column\n   */\n  children: PropTypes.node,\n\n  /**\n   * Columns for the table\n   */\n  columns: PropTypes.arrayOf(PropTypes.shape(Column.propTypes)),\n\n  /**\n   * The data for the table\n   */\n  data: PropTypes.array.isRequired,\n\n  /**\n   * The data be frozen to top, `rowIndex` is negative and started from `-1`\n   */\n  frozenData: PropTypes.array,\n\n  /**\n   * The key field of each data item\n   */\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n\n  /**\n   * The width of the table\n   */\n  width: PropTypes.number.isRequired,\n\n  /**\n   * The height of the table, will be ignored if `maxHeight` is set\n   */\n  height: PropTypes.number,\n\n  /**\n   * The max height of the table, the table's height will auto change when data changes,\n   * will turns to vertical scroll if reaches the max height\n   */\n  maxHeight: PropTypes.number,\n\n  /**\n   * The height of each table row, will be only used by frozen rows if `estimatedRowHeight` is set\n   */\n  rowHeight: PropTypes.number,\n\n  /**\n   * Estimated row height, the real height will be measure dynamically according to the content\n   * The callback is of the shape of `({ rowData, rowIndex }) => number`\n   */\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n\n  /**\n   * The height of the table header, set to 0 to hide the header, could be an array to render multi headers.\n   */\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n\n  /**\n   * The height of the table footer\n   */\n  footerHeight: PropTypes.number,\n\n  /**\n   * Whether the width of the columns are fixed or flexible\n   */\n  fixed: PropTypes.bool,\n\n  /**\n   * Whether the table is disabled\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Custom renderer on top of the table component\n   */\n  overlayRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom renderer when the length of data is 0\n   */\n  emptyRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom footer renderer, available only if `footerHeight` is larger then 0\n   */\n  footerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom header renderer\n   * The renderer receives props `{ cells, columns, headerIndex }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Custom row renderer\n   * The renderer receives props `{ isScrolling, cells, columns, rowData, rowIndex, depth }`\n   */\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n  /**\n   * Class name for the table header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Class name for the table row, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, rowData, rowIndex }) => string`\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n\n  /**\n   * Extra props applied to header element\n   * The handler is of the shape of `({ columns, headerIndex }) object`\n   */\n  headerProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to header cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, headerIndex }) => object`\n   */\n  headerCellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row element\n   * The handler is of the shape of `({ columns, rowData, rowIndex }) => object`\n   */\n  rowProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to row cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => object`\n   */\n  cellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * Extra props applied to ExpandIcon component\n   * The handler is of the shape of `({ rowData, rowIndex, depth, expandable, expanded }) => object`\n   */\n  expandIconProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * The key for the expand column which render the expand icon if the data is a tree\n   */\n  expandColumnKey: PropTypes.string,\n\n  /**\n   * Default expanded row keys when initialize the table\n   */\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * Controlled expanded row keys\n   */\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n\n  /**\n   * A callback function when expand or collapse a tree node\n   * The handler is of the shape of `({ expanded, rowData, rowIndex, rowKey }) => *`\n   */\n  onRowExpand: PropTypes.func,\n\n  /**\n   * A callback function when the expanded row keys changed\n   * The handler is of the shape of `(expandedRowKeys) => *`\n   */\n  onExpandedRowsChange: PropTypes.func,\n\n  /**\n   * The sort state for the table, will be ignored if `sortState` is set\n   */\n  sortBy: PropTypes.shape({\n    /**\n     * Sort key\n     */\n    key: PropTypes.string,\n\n    /**\n     * Sort order\n     */\n    order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])\n  }),\n\n  /**\n   * Multiple columns sort state for the table\n   *\n   * example:\n   * ```js\n   * {\n   *   'column-0': SortOrder.ASC,\n   *   'column-1': SortOrder.DESC,\n   * }\n   * ```\n   */\n  sortState: PropTypes.object,\n\n  /**\n   * A callback function for the header cell click event\n   * The handler is of the shape of `({ column, key, order }) => *`\n   */\n  onColumnSort: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResize: PropTypes.func,\n\n  /**\n   * A callback function when resizing the column width ends\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResizeEnd: PropTypes.func,\n\n  /**\n   * Adds an additional isScrolling parameter to the row renderer.\n   * This parameter can be used to show a placeholder row while scrolling.\n   */\n  useIsScrolling: PropTypes.bool,\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list\n   */\n  overscanRowCount: PropTypes.number,\n\n  /**\n   * Custom scrollbar size measurement\n   */\n  getScrollbarSize: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table\n   * The handler is of the shape of `({ scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested }) => *`\n   *\n   * `scrollLeft` and `scrollTop` are numbers.\n   *\n   * `horizontalDirection` and `verticalDirection` are either `forward` or `backward`.\n   *\n   * `scrollUpdateWasRequested` is a boolean. This value is true if the scroll was caused by `scrollTo*`,\n   * and false if it was the result of a user interaction in the browser.\n   */\n  onScroll: PropTypes.func,\n\n  /**\n   * A callback function when scrolling the table within `onEndReachedThreshold` of the bottom\n   * The handler is of the shape of `({ distanceFromEnd }) => *`\n   */\n  onEndReached: PropTypes.func,\n\n  /**\n   * Threshold in pixels for calling `onEndReached`.\n   */\n  onEndReachedThreshold: PropTypes.number,\n\n  /**\n   * A callback function with information about the slice of rows that were just rendered\n   * The handler is of the shape of `({ overscanStartIndex, overscanStopIndex, startIndex， stopIndex }) => *`\n   */\n  onRowsRendered: PropTypes.func,\n\n  /**\n   * A callback function when the scrollbar presence state changed\n   * The handler is of the shape of `({ size, vertical, horizontal }) => *`\n   */\n  onScrollbarPresenceChange: PropTypes.func,\n\n  /**\n   * A object for the row event handlers\n   * Each of the keys is row event name, like `onClick`, `onDoubleClick` and etc.\n   * Each of the handlers is of the shape of `({ rowData, rowIndex, rowKey, event }) => *`\n   */\n  rowEventHandlers: PropTypes.object,\n\n  /**\n   * whether to ignore function properties while comparing column definition\n   */\n  ignoreFunctionInColumnCompare: PropTypes.bool,\n\n  /**\n   * A object for the custom components, like `ExpandIcon` and `SortIndicator`\n   */\n  components: PropTypes.shape({\n    TableCell: PropTypes.elementType,\n    TableHeaderCell: PropTypes.elementType,\n    ExpandIcon: PropTypes.elementType,\n    SortIndicator: PropTypes.elementType\n  })\n};\nexport default BaseTable;\n//# sourceMappingURL=BaseTable.js.map","import { createElement, PureComponent } from 'react';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n// Check `document` and `window` in case of server-side rendering\nvar windowObject = void 0;\nif (typeof window !== 'undefined') {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== 'undefined') {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\n\nvar cancelFrame = null;\nvar requestFrame = null;\n\nvar TIMEOUT_DURATION = 20;\n\nvar clearTimeoutFn = windowObject.clearTimeout;\nvar setTimeoutFn = windowObject.setTimeout;\n\nvar cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\n\nvar requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\n\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame(_ref) {\n    var _ref2 = slicedToArray(_ref, 2),\n        animationFrameID = _ref2[0],\n        timeoutID = _ref2[1];\n\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    var animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n\n    var timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n\n    return [animationFrameID, timeoutID];\n  };\n}\n\nfunction createDetectElementResize(nonce) {\n  var animationKeyframes = void 0;\n  var animationName = void 0;\n  var animationStartEvent = void 0;\n  var animationStyle = void 0;\n  var checkTriggers = void 0;\n  var resetTriggers = void 0;\n  var scrollListener = void 0;\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n\n    scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false;\n    var keyframeprefix = '';\n    animationStartEvent = 'animationstart';\n    var domPrefixes = 'Webkit Moz O ms'.split(' ');\n    var startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n    var pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    animationName = 'resizeanim';\n    animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        var expandTrigger = doc.createElement('div');\n        expandTrigger.className = 'expand-trigger';\n        expandTrigger.appendChild(doc.createElement('div'));\n        var contractTrigger = doc.createElement('div');\n        contractTrigger.className = 'contract-trigger';\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n\nvar AutoSizer = function (_React$PureComponent) {\n  inherits(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = AutoSizer.__proto__ || Object.getPrototypeOf(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      // Avoid rendering children before the initial measurements have been collected.\n      // At best this would just be wasting cycles.\n      var bailoutOnChildren = false;\n\n      if (!disableHeight) {\n        if (height === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        if (width === 0) {\n          bailoutOnChildren = true;\n        }\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      return createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: _extends({}, outerStyle, style)\n        },\n        !bailoutOnChildren && children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\n\nexport default AutoSizer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n/**\n * Decorator component that automatically adjusts the width and height of a single child\n */\n\nvar AutoResizer = function AutoResizer(_ref) {\n  var className = _ref.className,\n      width = _ref.width,\n      height = _ref.height,\n      children = _ref.children,\n      onResize = _ref.onResize;\n  var disableWidth = typeof width === 'number';\n  var disableHeight = typeof height === 'number';\n\n  if (disableWidth && disableHeight) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      style: {\n        width: width,\n        height: height,\n        position: 'relative'\n      }\n    }, children({\n      width: width,\n      height: height\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(AutoSizer, {\n    className: className,\n    disableWidth: disableWidth,\n    disableHeight: disableHeight,\n    onResize: onResize\n  }, function (size) {\n    return children({\n      width: disableWidth ? width : size.width,\n      height: disableHeight ? height : size.height\n    });\n  });\n};\n\nAutoResizer.propTypes = {\n  /**\n   * Class name for the component\n   */\n  className: PropTypes.string,\n\n  /**\n   * the width of the component, will be the container's width if not set\n   */\n  width: PropTypes.number,\n\n  /**\n   * the height of the component, will be the container's width if not set\n   */\n  height: PropTypes.number,\n\n  /**\n   * A callback function to render the children component\n   * The handler is of the shape of `({ width, height }) => node`\n   */\n  children: PropTypes.func.isRequired,\n\n  /**\n   * A callback function when the size of the table container changed if the width and height are not set\n   * The handler is of the shape of `({ width, height }) => *`\n   */\n  onResize: PropTypes.func\n};\nexport default AutoResizer;\n//# sourceMappingURL=AutoResizer.js.map","import {\n  ChatBubbleTwoTone,\n  CheckTwoTone,\n  DescriptionTwoTone,\n  LinkOffTwoTone,\n  LocalOfferTwoTone,\n  LockTwoTone,\n  PublicTwoTone,\n} from '@material-ui/icons'\nimport { isEmpty } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useDeleteEntity } from '../utils/hooks/SynapseAPI/entity/useEntity'\nimport {\n  useGetSchemaBinding,\n  useGetValidationResults,\n} from '../utils/hooks/SynapseAPI/entity/useEntityBoundSchema'\nimport useGetEntityBundle from '../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport {\n  ANONYMOUS_PRINCIPAL_ID,\n  AUTHENTICATED_PRINCIPAL_ID,\n  PUBLIC_PRINCIPAL_ID,\n} from '../utils/SynapseConstants'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { EntityBundle, EntityType } from '../utils/synapseTypes'\nimport { EntityModal, EntityModalTabs } from './entity/metadata/EntityModal'\nimport WarningModal from './synapse_form_wrapper/WarningModal'\nimport Tooltip from '../utils/tooltip/Tooltip'\n\nconst isPublic = (bundle: EntityBundle): boolean => {\n  return bundle.benefactorAcl!.resourceAccess.some(ra => {\n    return (\n      ra.principalId === AUTHENTICATED_PRINCIPAL_ID ||\n      ra.principalId === PUBLIC_PRINCIPAL_ID ||\n      ra.principalId === ANONYMOUS_PRINCIPAL_ID\n    )\n  })\n}\n\nexport const ENTITY_BADGE_ICONS_TOOLTIP_ID = 'EntityBadgeIconsTooltipID'\n\nexport type EntityBadgeIconsProps = {\n  entityId: string\n  versionNumber?: number\n  flexWrap?: // possible settings for flex-wrap\n  | 'wrap'\n    | 'nowrap'\n    | '-moz-initial'\n    | 'inherit'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'wrap-reverse'\n  justifyContent?: 'flex-start' | 'flex-end' | string\n  /** Shows an icon indicating if the entity is 'public' or 'private'. Default true  */\n  showIsPublicPrivate?: boolean\n  /** Shows an icon if the entity has sharing settings set on itself. Default true  */\n  showHasLocalSharingSettings?: boolean\n  /** Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true  */\n  showHasAnnotations?: boolean\n  /** Shows an icon if the entity a wiki. Default true  */\n  showHasWiki?: boolean\n  /** Shows an icon if the entity has been mentioned in discussion threads. Default true  */\n  showHasDiscussionThread?: boolean\n  /* Shows an 'unlink' button if the entity is a link and the user has permission to delete it. Default true */\n  showUnlink?: boolean\n  /* Invoked after the entity is unlinked/deleted in case there is cleanup to do. Returns the entityId */\n  onUnlink?: (entityId: string) => void\n  onUnlinkError?: (error: unknown) => void\n  /** Whether or not the badges (e.g. Annotations) can trigger opening a modal on click */\n  canOpenModal: boolean\n  /** Whether this component should render a ReactTooltip or if an external component is managing it */\n  renderTooltipComponent: boolean\n}\n\n/**\n * Stateless component used to show icons that show an entity's status.\n * Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java\n */\nexport const EntityBadgeIcons = (props: EntityBadgeIconsProps) => {\n  const {\n    entityId,\n    versionNumber,\n    flexWrap = 'nowrap',\n    justifyContent = 'flex-start',\n    showIsPublicPrivate = true,\n    showHasLocalSharingSettings = true,\n    showHasAnnotations = true,\n    showHasWiki = true,\n    showHasDiscussionThread = true,\n    showUnlink = true,\n    onUnlink = () => {\n      /* noop */\n    },\n    onUnlinkError = () => {\n      /* noop */\n    },\n    canOpenModal,\n  } = props\n\n  enum SchemaConformanceState {\n    NO_SCHEMA = '', // or not in experimental mode\n    VALID = 'Valid',\n    INVALID = 'Invalid',\n    ANNOTATIONS_MISSING = 'Missing',\n  }\n\n  const { ref, inView } = useInView()\n\n  const { data: bundle } = useGetEntityBundle(\n    entityId,\n    undefined,\n    versionNumber,\n    {\n      enabled: inView,\n      staleTime: 60 * 1000, // 60 seconds\n    },\n  )\n  const [showModal, setShowModal] = useState(false)\n  const [showUnlinkConfirmModal, setShowUnlinkConfirmModal] = useState(false)\n  const [schemaConformance, setSchemaConformance] = useState(\n    SchemaConformanceState.NO_SCHEMA,\n  )\n\n  const { isInExperimentalMode } = useSynapseContext()\n\n  const { data: boundSchema } = useGetSchemaBinding(entityId, {\n    enabled: isInExperimentalMode && inView,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  const { data: schemaValidationResults } = useGetValidationResults(entityId, {\n    enabled: isInExperimentalMode && inView && !!boundSchema,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  // The maximum number of annotations to show in the popover\n  const maxAnnosToShow = 10\n  const annotationsCount =\n    bundle?.annotations && !isEmpty(bundle.annotations.annotations)\n      ? Object.keys(bundle.annotations.annotations).length\n      : 0\n\n  useEffect(() => {\n    if (isInExperimentalMode && schemaValidationResults) {\n      if (schemaValidationResults.isValid) {\n        setSchemaConformance(SchemaConformanceState.VALID)\n      } else if (annotationsCount) {\n        // If annotations exist, then indicate that they are invalid\n        setSchemaConformance(SchemaConformanceState.INVALID)\n      } else {\n        // If annotations are missing, it's still invalid, but should appear differently\n        setSchemaConformance(SchemaConformanceState.ANNOTATIONS_MISSING)\n      }\n    }\n  }, [\n    schemaValidationResults,\n    isInExperimentalMode,\n    annotationsCount,\n    bundle,\n    SchemaConformanceState.VALID,\n    SchemaConformanceState.INVALID,\n    SchemaConformanceState.ANNOTATIONS_MISSING,\n  ])\n\n  const { mutate: unlinkEntity } = useDeleteEntity({\n    onSuccess: (_, entityId) => {\n      onUnlink(entityId)\n    },\n    onError: onUnlinkError,\n  })\n\n  /**\n   * Convert the list of annotations to a string of <tr>...anno1</tr><tr>...anno2</tr>...\n   * If there are no annotations, this is the empty string ('')\n   */\n  const annotationsTableRows = (\n    <>\n      {bundle\n        ? Object.entries(bundle.annotations?.annotations ?? []).reduce(\n            (previous, current, index) => {\n              if (\n                index < maxAnnosToShow ||\n                (index === maxAnnosToShow &&\n                  maxAnnosToShow === annotationsCount)\n              ) {\n                return (\n                  <>\n                    {previous}\n                    <tr>\n                      <td>\n                        <b>{current[0]}</b>\n                      </td>\n                      <td>{current[1].value.join(', ')}</td>\n                    </tr>\n                  </>\n                )\n              } else {\n                return previous\n              }\n            },\n            <></>,\n          )\n        : ''}\n    </>\n  )\n  // We also show the schema name if there is one (and we're in experimental mode)\n  const valiationSchemaTableRow = (\n    <>\n      {isInExperimentalMode && boundSchema ? (\n        <tr>\n          <td>\n            <b>Validation Schema</b>\n          </td>\n          <td>{boundSchema.jsonSchemaVersionInfo.schemaName}</td>\n        </tr>\n      ) : (\n        ''\n      )}\n    </>\n  )\n  const annotationsHtml = (\n    <div className=\"EntityBadgeTooltip\">\n      {schemaValidationResults ? <p>{schemaConformance} Annotations</p> : ''}\n      <table>\n        {annotationsTableRows ? annotationsTableRows : ''}\n        {valiationSchemaTableRow}\n      </table>\n      {annotationsCount > maxAnnosToShow ? (\n        <p>and {annotationsCount - maxAnnosToShow} more</p>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n  return (\n    <div className=\"EntityBadge\" ref={ref} style={{ flexWrap, justifyContent }}>\n      {bundle && (\n        <>\n          <div onClick={e => e.stopPropagation()}>\n            <EntityModal\n              entityId={entityId}\n              show={showModal}\n              showTabs={false}\n              onClose={() => setShowModal(false)}\n              initialTab={EntityModalTabs.ANNOTATIONS}\n            />\n          </div>\n          {showIsPublicPrivate && bundle.benefactorAcl && isPublic(bundle) ? (\n            <Tooltip title=\"Public\" enterNextDelay={100} placement=\"right\">\n              <PublicTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-public-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showIsPublicPrivate && bundle.benefactorAcl && !isPublic(bundle) ? (\n            <Tooltip title=\"Private\" enterNextDelay={100} placement=\"right\">\n              <LockTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-private-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showHasLocalSharingSettings &&\n          bundle.benefactorAcl &&\n          entityId === bundle.benefactorAcl!.id ? (\n            <Tooltip\n              title=\"Sharing Settings have been set\"\n              enterNextDelay={100}\n              placement=\"right\"\n            >\n              <CheckTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'sharing-settings-icon'}\n              />\n            </Tooltip>\n          ) : null}\n\n          {showHasAnnotations &&\n            !!(annotationsCount || schemaValidationResults) && (\n              <Tooltip\n                title={annotationsHtml}\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <LocalOfferTwoTone\n                  aria-hidden={false}\n                  role={canOpenModal ? 'button' : 'img'}\n                  className={`EntityBadge__Badge ${schemaConformance}`}\n                  style={canOpenModal ? { cursor: 'pointer' } : undefined}\n                  onClick={canOpenModal ? () => setShowModal(true) : undefined}\n                  data-html={true}\n                  data-testid={'annotations-icon'}\n                />\n              </Tooltip>\n            )}\n          {showHasWiki && bundle.rootWikiId && (\n            <Tooltip title=\"Has a wiki\" enterNextDelay={100} placement=\"right\">\n              <DescriptionTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'wiki-icon'}\n              />\n            </Tooltip>\n          )}\n          {showHasDiscussionThread &&\n            !!bundle.threadCount &&\n            !!(bundle.threadCount > 0) && (\n              <Tooltip\n                title=\"Has been mentioned in discussion\"\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <ChatBubbleTwoTone\n                  aria-hidden={false}\n                  role=\"img\"\n                  className=\"EntityBadge__Badge\"\n                  data-testid={'discussion-icon'}\n                />\n              </Tooltip>\n            )}\n          {showUnlink &&\n            bundle.entityType === EntityType.LINK &&\n            bundle.permissions?.canDelete && (\n              <>\n                <WarningModal\n                  show={showUnlinkConfirmModal}\n                  title=\"Confirm Unlink\"\n                  modalBody={\n                    'Are you sure you want to remove this link? The original object will not be changed.'\n                  }\n                  confirmButtonText=\"Unlink\"\n                  confirmButtonVariant=\"danger\"\n                  onConfirm={() => {\n                    unlinkEntity(entityId)\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                  onCancel={() => {\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                />\n                <Tooltip\n                  title=\"Remove this link\"\n                  enterNextDelay={100}\n                  placement=\"right\"\n                >\n                  <LinkOffTwoTone\n                    aria-hidden={false}\n                    role=\"button\"\n                    onClick={() => setShowUnlinkConfirmModal(true)}\n                    className=\"EntityBadge__Badge Unlink\"\n                    data-testid={'unlink-icon'}\n                  />\n                </Tooltip>\n              </>\n            )}\n        </>\n      )}\n    </div>\n  )\n}\n","import { Skeleton } from '@material-ui/lab'\nimport BaseTable, {\n  CallOrReturn,\n  ColumnShape,\n  SortOrder,\n} from '@sage-bionetworks/react-base-table'\nimport moment from 'moment'\nimport React, { SyntheticEvent, useEffect } from 'react'\nimport { Form } from 'react-bootstrap'\nimport SortIcon from '../../../../assets/icons/Sort'\nimport { formatDate } from '../../../../utils/functions/DateFormatter'\nimport {\n  useGetEntity,\n  useGetVersionsInfinite,\n} from '../../../../utils/hooks/SynapseAPI/entity/useEntity'\nimport useGetEntityBundle from '../../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { SMALL_USER_CARD } from '../../../../utils/SynapseConstants'\nimport {\n  EntityRef,\n  EntityType,\n  Reference,\n} from '../../../../utils/synapseTypes'\nimport Tooltip from '../../../../utils/tooltip/Tooltip'\nimport { EntityBadgeIcons } from '../../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../../EntityIcon'\nimport { EntityLink } from '../../../EntityLink'\nimport IconSvg from '../../../IconSvg'\nimport { SynapseSpinner } from '../../../LoadingScreen'\nimport { DatasetItemsEditorTableData } from '../../../table/datasets/DatasetItemsEditor'\nimport UserCard from '../../../UserCard'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { EntityFinderTableViewRowData } from './DetailsView'\n\n// TODO: Consider sharing logic with SynapseTableCell.tsx\n\nexport type CellRendererProps<T> = {\n  cellData: any\n  columns: ColumnShape<T>[]\n  column: ColumnShape<T>\n  columnIndex: number\n  rowData: T\n  rowIndex: number\n  container: BaseTable<T>\n  isScrolling?: boolean\n}\n\nexport type CellRenderer<T> = CallOrReturn<\n  React.ReactNode,\n  CellRendererProps<T>\n>\n\n/**\n * The data across tables may differ, but it has entity ID and version, then it can use many of these renderers\n */\nexport type EntityIdAndVersionNumber = {\n  entityId: string\n  versionNumber?: number\n}\n\nexport type EntityIdAndVersionRendererProps =\n  CellRendererProps<EntityIdAndVersionNumber>\n\n/**\n * Props for cellRenderer components within the BaseTable\n */\nexport type EntityFinderTableCellRendererProps =\n  CellRendererProps<EntityFinderTableViewRowData>\n\nexport const CustomSortIndicator = ({\n  className,\n  sortOrder,\n}: {\n  className: string\n  sortOrder: SortOrder\n}) => {\n  return (\n    <SortIcon\n      className={className}\n      active={true}\n      role=\"button\"\n      style={{ height: '20px', marginLeft: 'auto' }}\n      direction={sortOrder}\n    />\n  )\n}\n\n/**\n * Renders Entity Badges using the entity bundle.\n * @param props\n * @returns\n */\nexport function BadgeIconsRenderer(props: EntityIdAndVersionRendererProps) {\n  return (\n    <EntityBadgeIcons\n      entityId={props.rowData.entityId}\n      versionNumber={props.rowData.versionNumber}\n      showHasDiscussionThread={false}\n      showHasWiki={false}\n      showUnlink={false}\n      canOpenModal={false}\n      // We render the tooltip component outside of the table so it plays nicely with list virtualization\n      // https://github.com/wwayne/react-tooltip/issues/300#issuecomment-468042592\n      renderTooltipComponent={false}\n    />\n  )\n}\n\nexport function DateRenderer({ cellData }: { cellData?: string }) {\n  return <>{(cellData && formatDate(moment(cellData))) ?? <></>}</>\n}\n\n/**\n * Renders 'modifiedOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedOnRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    undefined,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity?.modifiedOn} />\n}\n\n/**\n * Renders 'createdOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function CreatedOnRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    undefined,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity?.createdOn} />\n}\n\nexport function EntityNameRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    undefined,\n    props.rowData.versionNumber,\n  )\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return bundle ? (\n    <EntityLink\n      className=\"EntityNameWithIconRenderer\"\n      entity={bundle.entity!}\n      link={false}\n    />\n  ) : (\n    <></>\n  )\n}\n\nexport function ProjectRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: entityBundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    props.rowData.entityId,\n    undefined,\n    props.rowData.versionNumber,\n  )\n  const { data: project, isLoading: isLoadingProjectEntity } = useGetEntity(\n    entityBundle?.path!.path[1].id ?? '',\n    undefined,\n    { enabled: !!entityBundle },\n  )\n\n  if (isLoadingBundle || isLoadingProjectEntity) {\n    return <Skeleton width={200} />\n  }\n\n  return project ? <EntityLink entity={project} /> : <></>\n}\n\nexport function UserCardRenderer({ cellData }: { cellData?: string }) {\n  return (\n    <UserCard\n      ownerId={cellData}\n      size={SMALL_USER_CARD}\n      openLinkInNewTab={true}\n    />\n  )\n}\n\n/**\n * Renders 'modifiedBy' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedByRenderer(props: EntityIdAndVersionRendererProps) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    undefined,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <UserCardRenderer {...props} cellData={bundle?.entity?.modifiedBy} />\n}\n\nexport function LoadingRenderer() {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      <SynapseSpinner size={30} />\n    </div>\n  )\n}\n\nexport function DetailsViewCheckboxRenderer({\n  rowData,\n}: EntityFinderTableCellRendererProps) {\n  const { isSelected, isDisabled } = rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        label={`Select ${rowData.entityId}`}\n        hideLabel={true}\n        className=\"SRC-pointer-events-none\"\n        checked={isSelected}\n        onChange={() => {\n          // no-op\n        }}\n      />\n    )\n  )\n}\n\nexport function TypeIconRenderer({\n  cellData,\n}: EntityFinderTableCellRendererProps) {\n  return (\n    <EntityTypeIcon\n      className=\"EntityFinderTableCellEntityIcon\"\n      type={cellData as EntityType}\n    />\n  )\n}\n\nexport function EmptyRenderer({\n  noResultsPlaceholder,\n}: {\n  noResultsPlaceholder: React.ReactNode\n}) {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      {noResultsPlaceholder || <div>Empty</div>}\n    </div>\n  )\n}\n\nexport const DatasetEditorVersionRenderer = ({\n  rowData,\n  toggleSelection,\n}: CellRendererProps<DatasetItemsEditorTableData> & {\n  toggleSelection: (entity: EntityRef) => void\n}) => {\n  const { entityId, versionNumber } = rowData\n\n  const {\n    data: versionData,\n    isError,\n    fetchNextPage,\n    isFetchingNextPage,\n    hasNextPage,\n  } = useGetVersionsInfinite(entityId, {\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n  const currentVersionHasBeenRetrieved = !!versions.find(\n    version => version.versionNumber === versionNumber,\n  )\n  useEffect(() => {\n    if (!currentVersionHasBeenRetrieved && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage()\n    }\n  }, [\n    currentVersionHasBeenRetrieved,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  ])\n\n  if (isError) {\n    return <>{versionNumber}</>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 && (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={versionNumber}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              entityId: entityId,\n              versionNumber: version,\n            })\n          }}\n        >\n          {\n            /* The selected version number doesn't exist */\n            !currentVersionHasBeenRetrieved &&\n              !hasNextPage &&\n              !isFetchingNextPage && (\n                <option disabled key={versionNumber} value={versionNumber}>\n                  {versionNumber} (Not Found)\n                </option>\n              )\n          }\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                {version.versionNumber}\n                {version.isLatestVersion && ' (Latest)'}\n              </option>\n            )\n          })}\n        </Form.Control>\n      )}\n    </div>\n  )\n}\n\nexport const DetailsViewVersionRenderer = ({\n  rowData,\n  mustSelectVersionNumber,\n  latestVersionText,\n  toggleSelection,\n}: EntityFinderTableCellRendererProps & {\n  mustSelectVersionNumber: boolean\n  latestVersionText: string\n  toggleSelection: (entity: Reference | Reference[]) => void\n}) => {\n  const { id, isVersionableEntity, isSelected, currentSelectedVersion } =\n    rowData\n  const { data: versionData } = useGetVersionsInfinite(id, {\n    enabled: isVersionableEntity,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n\n  useEffect(() => {\n    // If 'mustSelectVersionNumber' is true and the user has selected this entity and hasn't selected a version, then we force a version selection\n    if (\n      isSelected &&\n      mustSelectVersionNumber &&\n      currentSelectedVersion === NO_VERSION_NUMBER &&\n      versions.length > 0\n    ) {\n      toggleSelection({\n        targetId: id,\n        targetVersionNumber: versions[0].versionNumber,\n      })\n    }\n  }, [\n    currentSelectedVersion,\n    id,\n    isSelected,\n    mustSelectVersionNumber,\n    toggleSelection,\n    versions,\n  ])\n\n  return (\n    <div>\n      {isSelected && versions && versions.length > 0 && (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={currentSelectedVersion}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              targetId: id,\n              targetVersionNumber:\n                version === NO_VERSION_NUMBER ? undefined : version,\n            })\n          }}\n        >\n          {!mustSelectVersionNumber && (\n            <option value={NO_VERSION_NUMBER}>{latestVersionText}</option>\n          )}\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                Version {version.versionNumber}\n              </option>\n            )\n          })}\n        </Form.Control>\n      )}\n    </div>\n  )\n}\n\nexport function DatasetEditorCheckboxRenderer(\n  props: CellRendererProps<\n    EntityIdAndVersionNumber & {\n      isSelected: boolean\n      isDisabled?: boolean\n      setSelected: (newValue: boolean) => void\n    }\n  >,\n) {\n  const { isSelected, isDisabled, setSelected, entityId } = props.rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        data-testid={`dataset-editor-checkbox-${entityId}`}\n        disabled={isDisabled}\n        label={`Select ${entityId}`}\n        hideLabel={true}\n        checked={isSelected}\n        onChange={value => {\n          setSelected(value)\n        }}\n      />\n    )\n  )\n}\n\nexport const EntityErrorRenderer = (props: EntityIdAndVersionRendererProps) => {\n  const { entityId, versionNumber } = props.rowData\n  const { error, isError } = useGetEntity(entityId, versionNumber)\n\n  let message = error?.reason\n\n  if (error?.status === 403) {\n    message = \"You don't have permission to view this entity.\"\n  } else if (error?.status === 404) {\n    message = 'The entity or version does not exist. It may have been deleted.'\n  }\n\n  if (!isError) {\n    return <></>\n  } else {\n    return (\n      <Tooltip\n        title={message ?? ''}\n        placement=\"right\"\n        className=\"EntityBadgeTooltip\"\n      >\n        <div className=\"EntityErrorRenderer\">\n          <IconSvg options={{ icon: 'warningOutlined' }} />\n        </div>\n      </Tooltip>\n    )\n  }\n}\n","import BaseTable, {\n  AutoResizer,\n  Column,\n} from '@sage-bionetworks/react-base-table'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n  isVersionableEntityType,\n} from '../../../../utils/functions/EntityTypeUtils'\nimport { getEntityVersions } from '../../../../utils/SynapseClient'\nimport { useSynapseContext } from '../../../../utils/SynapseContext'\nimport {\n  Direction,\n  EntityChildrenRequest,\n  EntityHeader,\n  EntityType,\n  SortBy,\n} from '../../../../utils/synapseTypes'\nimport { HelpPopover } from '../../../HelpPopover'\nimport { BlockingLoader } from '../../../LoadingScreen'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { EntityFinderHeader } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport {\n  BadgeIconsRenderer,\n  CreatedOnRenderer,\n  CustomSortIndicator,\n  DetailsViewCheckboxRenderer,\n  DetailsViewVersionRenderer,\n  EmptyRenderer,\n  EntityFinderTableCellRendererProps,\n  LoadingRenderer,\n  ModifiedByRenderer,\n  ModifiedOnRenderer,\n  TypeIconRenderer,\n} from './DetailsViewTableRenderers'\n\nconst MIN_TABLE_WIDTH = 1200\nconst ROW_HEIGHT = 46\n\nexport type DetailsViewProps = EntityDetailsListSharedProps & {\n  entities: EntityFinderHeader[]\n  isLoading: boolean\n  hasNextPage?: boolean\n  fetchNextPage?: () => Promise<any>\n  isFetchingNextPage?: boolean\n  /** The current sort of the view. If the view cannot be sorted, set this to `undefined` */\n  sort?: { sortBy: SortBy; sortDirection: Direction }\n  /** If sortable, `setSort` will be invoked when the user tries to change the sort */\n  setSort?: (soryBy: SortBy, sortDirection: Direction) => void\n  noResultsPlaceholder?: React.ReactElement\n  /** We defer to the configuration component to determine this */\n  selectAllIsChecked?: boolean\n  /** The text to show for selecting the latest version, if it can be selected. Default is \"Always Latest Version\" */\n  latestVersionText?: string\n  /** This request object is only used to tell react-query to cancel fetching all children at once. */\n  getChildrenInfiniteRequestObject?: EntityChildrenRequest\n  /** The total number of entities that can be retrieved */\n  totalEntities?: number\n}\n\n/**\n * Describes the shape of the data passed to the BaseTable\n */\nexport type EntityFinderTableViewRowData = EntityFinderHeader & {\n  entityId: string\n  versionNumber?: number\n  entityType: EntityType\n  isSelected: boolean\n  isDisabled: boolean\n  isVersionableEntity: boolean\n  currentSelectedVersion?: number\n}\n\n/**\n * Displays a list of entities in a table.\n *\n * If the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\n * When the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\n * an \"infinite scroll\" pattern, so entities should not be removed from the list when loading the next page.\n *\n * @param param0\n */\nexport const DetailsView: React.FunctionComponent<DetailsViewProps> = ({\n  entities,\n  isLoading,\n  hasNextPage,\n  fetchNextPage,\n  isFetchingNextPage,\n  showVersionSelection,\n  mustSelectVersionNumber,\n  selectColumnType,\n  selected,\n  visibleTypes,\n  selectableTypes,\n  toggleSelection,\n  sort,\n  setSort,\n  noResultsPlaceholder,\n  enableSelectAll,\n  selectAllIsChecked = false,\n  latestVersionText = 'Always Latest Version',\n  getChildrenInfiniteRequestObject,\n  totalEntities,\n  setCurrentContainer,\n}) => {\n  const queryClient = useQueryClient()\n\n  const { accessToken } = useSynapseContext()\n\n  const showSelectColumn = selectColumnType !== 'none'\n\n  const [shouldSelectAll, setShouldSelectAll] = useState(false)\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false)\n\n  const cancelQuery = () => {\n    // It's likely that the user will be throttled by the Synapse backend and may be waiting a\n    // noticeable amount of time for the current request, so cancel it (in addition to cancelling future requests)\n    queryClient.cancelQueries([\n      'entitychildren',\n      getChildrenInfiniteRequestObject,\n    ])\n    setShowLoadingScreen(false)\n    setShouldSelectAll(false)\n  }\n  type DetailsViewRowAppearance = 'hidden' | 'disabled' | 'selected' | 'default'\n\n  const determineRowAppearance = (\n    entity: EntityFinderHeader,\n  ): DetailsViewRowAppearance => {\n    if (!visibleTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'hidden'\n    } else if (!selectableTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'disabled'\n    } else if (selected.has(entity.id)) {\n      return 'selected'\n    } else {\n      return 'default'\n    }\n  }\n\n  useEffect(() => {\n    async function handleSelectAll() {\n      if (shouldSelectAll) {\n        if (hasNextPage && fetchNextPage) {\n          // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n          setShowLoadingScreen(true)\n          if (!isFetchingNextPage) {\n            fetchNextPage()\n          }\n        } else {\n          if (selectAllIsChecked) {\n            // All of the items are selected, so we will deselect all\n            toggleSelection(\n              entities\n                .filter(e => {\n                  // Collect just entities that are selected\n                  // An entity may be in the list and unselected because it isn't of a selectable type\n                  return selected.has(e.id)\n                })\n                .map(e => {\n                  const selectedVersion = selected.get(e.id)\n                  return {\n                    targetId: e.id,\n                    targetVersionNumber:\n                      selectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : selectedVersion,\n                  }\n                }),\n            )\n          } else {\n            // Not all of the items are selected, so we will select all\n            toggleSelection(\n              await Promise.all(\n                entities\n                  .filter(e => {\n                    // must filter just selectable types or else any entities of unselectable types will get selected\n                    const type = getEntityTypeFromHeader(e)\n                    // also exclude already-selected entities, since we don't want to toggle those\n                    return (\n                      !selected.has(e.id) &&\n                      selectableTypes.includes(type) &&\n                      visibleTypes.includes(type)\n                    )\n                  })\n                  .map(async e => {\n                    let latestVersion: number | undefined\n                    if (\n                      mustSelectVersionNumber &&\n                      isVersionableEntityType(getEntityTypeFromHeader(e))\n                    ) {\n                      // If `mustSelectVersionNumber` is true, then we need to supply a version with the entity.\n                      // We may already have the version from the header:\n                      if (\n                        Object.prototype.hasOwnProperty.call(e, 'versionNumber')\n                      ) {\n                        latestVersion = (e as EntityHeader).versionNumber\n                      }\n                      if (!latestVersion) {\n                        // Failsafe if we didn't get the version in the header. This is rare/unlikely, since the only cases we're sure we don't get versions are:\n                        //  - ProjectHeaders (which are versionless)\n                        //  - Search Results (for which we don't support Select All)\n                        // For large lists, there's a good chance for this to trigger throttling.\n\n                        // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n                        setShowLoadingScreen(true)\n\n                        const versions = await queryClient.fetchQuery(\n                          ['entity', e.id, 'versions', { offset: 0, limit: 1 }],\n                          () => getEntityVersions(e.id, accessToken, 0, 1),\n                        )\n                        // we pick the first version in the list because it is the most recent\n                        latestVersion = versions.results[0]?.versionNumber\n                      }\n                    }\n                    return {\n                      targetId: e.id,\n                      targetVersionNumber: latestVersion,\n                    }\n                  }),\n              ),\n            )\n          }\n          setShouldSelectAll(false)\n          setShowLoadingScreen(false)\n        }\n      }\n    }\n    handleSelectAll()\n  }, [\n    accessToken,\n    entities,\n    fetchNextPage,\n    hasNextPage,\n    mustSelectVersionNumber,\n    queryClient,\n    isFetchingNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    selected,\n    shouldSelectAll,\n    toggleSelection,\n    visibleTypes,\n  ])\n\n  const tableData = entities.reduce(\n    (entities: EntityFinderTableViewRowData[], entity) => {\n      const appearance = determineRowAppearance(entity)\n      if (appearance !== 'hidden') {\n        // only include entities that should not be hidden\n        const entityType = getEntityTypeFromHeader(entity)\n        entities.push({\n          ...entity,\n          entityId: entity.id,\n          versionNumber:\n            'versionNumber' in entity ? entity.versionNumber : undefined,\n          entityType: entityType,\n          isSelected: appearance === 'selected',\n          isDisabled: appearance === 'disabled',\n          isVersionableEntity: isVersionableEntityType(entityType),\n          currentSelectedVersion: selected.get(entity.id),\n        })\n      }\n      return entities\n    },\n    [],\n  )\n\n  const SelectAllCheckboxRenderer = useMemo(() => {\n    // Enabled if there's at least one visible & selectable entity, OR there's a page we haven't fetched\n    const isEnabled =\n      hasNextPage ||\n      entities.filter(\n        e =>\n          selectableTypes.includes(getEntityTypeFromHeader(e)) &&\n          visibleTypes.includes(getEntityTypeFromHeader(e)),\n      ).length > 0\n    return (\n      enableSelectAll && (\n        <div\n          data-testid=\"Select All\"\n          style={isEnabled ? { cursor: 'pointer' } : { cursor: 'not-allowed' }}\n          onClick={() => {\n            if (isEnabled) {\n              setShouldSelectAll(true)\n            }\n          }}\n        >\n          <Checkbox\n            label=\"Select All\"\n            hideLabel={true}\n            className=\"SRC-pointer-events-none\"\n            checked={selectAllIsChecked}\n            disabled={!isEnabled}\n            onChange={() => {\n              // no-op\n            }}\n          />\n        </div>\n      )\n    )\n  }, [\n    enableSelectAll,\n    entities,\n    hasNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    visibleTypes,\n  ])\n\n  const NameRenderer = useCallback(\n    (props: EntityFinderTableCellRendererProps) => {\n      if (setCurrentContainer && isContainerType(props.rowData.entityType)) {\n        return (\n          <span\n            role=\"link\"\n            className=\"EntityFinderTableCellContainerLink\"\n            onClick={e => {\n              e.stopPropagation()\n              setCurrentContainer(props.rowData.id)\n            }}\n          >\n            {props.rowData.name}\n          </span>\n        )\n      } else {\n        return props.rowData.name\n      }\n    },\n    [setCurrentContainer],\n  )\n\n  const sortState = {}\n  if (sort) {\n    sortState[sort.sortBy] = sort.sortDirection.toLowerCase()\n  }\n\n  return (\n    <div className=\"EntityFinderDetailsView bootstrap-4-backport\">\n      <BlockingLoader\n        show={showLoadingScreen}\n        currentProgress={entities.length}\n        totalProgress={totalEntities}\n        hintText={\n          totalEntities\n            ? `${entities.length.toLocaleString()} of ${totalEntities?.toLocaleString()}`\n            : `Fetching ${entities.length.toLocaleString()}`\n        }\n        headlineText={'Fetching selected items'}\n        onCancel={cancelQuery}\n      />\n      <AutoResizer className=\"DetailsViewAutosizer\">\n        {({ height, width }: { height: number; width: number }) => (\n          <BaseTable<EntityFinderTableViewRowData>\n            classPrefix=\"DetailsViewTable\"\n            data={tableData}\n            height={height}\n            width={width > MIN_TABLE_WIDTH ? width : MIN_TABLE_WIDTH}\n            rowHeight={ROW_HEIGHT}\n            overscanRowCount={5}\n            // Apply classes to the rows for styling\n            rowClassName={({ rowIndex }: { rowIndex: number }) => {\n              let className = 'EntityFinderDetailsViewRow'\n              if (rowIndex % 2 === 0) {\n                // Apply a class based on index so we can get alternating colors\n                // We don't use CSSs nth-child because the rows are virtualized, so an even child might change to odd on-the-fly\n                className += ' isEven'\n              }\n              return className\n            }}\n            // Apply aria roles to the rows for a11y/styling\n            rowProps={({ rowData }) => {\n              return {\n                'aria-selected': rowData.isSelected,\n                'aria-disabled': rowData.isDisabled,\n              }\n            }}\n            headerCellProps={{\n              role: 'columnheader',\n            }}\n            // Sorting:\n            sortState={sortState}\n            components={{ SortIndicator: CustomSortIndicator }}\n            onColumnSort={({ key, order }) => {\n              if (sort && setSort) {\n                setSort(\n                  key as SortBy,\n                  order === 'asc' ? Direction.ASC : Direction.DESC,\n                )\n              }\n            }}\n            rowEventHandlers={{\n              onClick: ({ rowData }) => {\n                const { id, isDisabled, isVersionableEntity } = rowData\n                let { currentSelectedVersion } = rowData\n                if (!isDisabled) {\n                  if (\n                    isVersionableEntity &&\n                    mustSelectVersionNumber &&\n                    currentSelectedVersion == null &&\n                    Object.prototype.hasOwnProperty.call(\n                      rowData,\n                      'versionNumber',\n                    )\n                  ) {\n                    currentSelectedVersion = (rowData as EntityHeader)\n                      .versionNumber\n                    // Note that here we aren't handling the case where the header doesn't have a version, e.g. a search result\n                    // That case is actually handled by the VersionRenderer, which has an effect that will toggle the selection after data is fetched.\n                  }\n\n                  toggleSelection({\n                    targetId: id,\n                    targetVersionNumber:\n                      currentSelectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : currentSelectedVersion,\n                  })\n                }\n              },\n            }}\n            onEndReached={() => {\n              if (hasNextPage && fetchNextPage && !isFetchingNextPage) {\n                fetchNextPage()\n              }\n            }}\n            emptyRenderer={\n              isLoading\n                ? LoadingRenderer\n                : () => (\n                    <EmptyRenderer\n                      noResultsPlaceholder={noResultsPlaceholder}\n                    />\n                  )\n            }\n          >\n            {showSelectColumn && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"isSelected\"\n                title=\"\"\n                minWidth={50}\n                maxWidth={50}\n                width={50}\n                dataKey=\"isSelected\"\n                headerRenderer={SelectAllCheckboxRenderer}\n                cellRenderer={DetailsViewCheckboxRenderer}\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key=\"type\"\n              title=\"\"\n              minWidth={45}\n              maxWidth={45}\n              width={45}\n              dataKey=\"entityType\"\n              align=\"center\"\n              cellRenderer={TypeIconRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.NAME}\n              title=\"Name\"\n              width={800}\n              sortable={sort != null}\n              resizable={true}\n              cellRenderer={NameRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key=\"badge\"\n              title=\"\"\n              width={75}\n              maxWidth={75}\n              minWidth={75}\n              cellRenderer={BadgeIconsRenderer}\n            />\n\n            <Column<EntityFinderTableViewRowData>\n              key=\"id\"\n              width={130}\n              dataKey=\"id\"\n              title=\"ID\"\n              minWidth={130}\n            />\n            {showVersionSelection && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"version\"\n                minWidth={150}\n                width={500}\n                title=\"Version\"\n                cellRenderer={props => (\n                  <DetailsViewVersionRenderer\n                    mustSelectVersionNumber={mustSelectVersionNumber}\n                    toggleSelection={toggleSelection}\n                    latestVersionText={latestVersionText}\n                    {...props}\n                  />\n                )}\n                headerRenderer={() => {\n                  return (\n                    <>\n                      Version\n                      <HelpPopover\n                        className=\"SRC-margin-left-5\"\n                        markdownText={\n                          'Allows you to choose which version of this item you would like to perform this action on.' +\n                          (mustSelectVersionNumber\n                            ? ''\n                            : `If you would like the selected reference to update as new versions are created, choose \"${latestVersionText}\"`)\n                        }\n                        placement=\"right\"\n                      />\n                    </>\n                  )\n                }}\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.CREATED_ON}\n              sortable={sort != null}\n              title=\"Created On\"\n              width={220}\n              minWidth={170}\n              cellRenderer={CreatedOnRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.MODIFIED_ON}\n              title=\"Modified On\"\n              width={220}\n              minWidth={170}\n              sortable={sort != null}\n              cellRenderer={ModifiedOnRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key=\"modifiedBy\"\n              title=\"Modified By\"\n              width={500}\n              resizable\n              cellRenderer={ModifiedByRenderer}\n            />\n          </BaseTable>\n        )}\n      </AutoResizer>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useGetEntityChildrenInfinite } from '../../../../utils/hooks/SynapseAPI/entity/useGetEntityChildren'\nimport { Direction, SortBy } from '../../../../utils/synapseTypes'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\n\ntype EntityChildrenDetailsProps = EntityDetailsListSharedProps & {\n  parentContainerId: string\n}\n\nexport const EntityChildrenDetails: React.FunctionComponent<\n  EntityChildrenDetailsProps\n> = ({ parentContainerId, ...sharedProps }) => {\n  const [sortBy, setSortBy] = useState<SortBy>(SortBy.NAME)\n  const [sortDirection, setSortDirection] = useState<Direction>(Direction.ASC)\n\n  const getChildrenInfiniteRequestObject = {\n    parentId: parentContainerId,\n    includeTotalChildCount: true,\n    includeTypes: sharedProps.visibleTypes,\n    sortBy: sortBy,\n    sortDirection: sortDirection,\n  }\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetEntityChildrenInfinite(getChildrenInfiniteRequestObject, {\n      useErrorBoundary: true,\n    })\n  const entities = data?.pages.flatMap(page => page.page) ?? []\n  const totalEntities = data?.pages[0].totalChildCount\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      sort={{ sortBy, sortDirection }}\n      setSort={(newSortBy, newSortDirection) => {\n        setSortBy(newSortBy)\n        setSortDirection(newSortDirection)\n      }}\n      selectAllIsChecked={selectAllCheckboxState}\n      getChildrenInfiniteRequestObject={getChildrenInfiniteRequestObject}\n      totalEntities={totalEntities}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetFavoritesInfinite } from '../../../../utils/hooks/SynapseAPI/user/useFavorites'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype FavoritesDetailsProps = EntityDetailsListSharedProps\n\nexport const FavoritesDetails: React.FunctionComponent<\n  FavoritesDetailsProps\n> = ({ ...sharedProps }) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useGetFavoritesInfinite({ useErrorBoundary: true })\n\n  const entities = data?.pages.flatMap(page => page.results) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetProjectsInfinite } from '../../../../utils/hooks/SynapseAPI/user/useProjects'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { ProjectHeader } from '../../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../../utils/synapseTypes/GetProjectsParams'\nimport { EntityHeaderFromProjectHeader } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype ProjectListDetailsProps = EntityDetailsListSharedProps & {\n  projectsParams: GetProjectsParameters\n}\n\nexport function toEntityHeader(\n  projectHeader: ProjectHeader,\n): EntityHeaderFromProjectHeader {\n  return {\n    ...projectHeader,\n    type: 'org.sagebionetworks.repo.model.Project',\n  }\n}\n\nexport const ProjectListDetails: React.FunctionComponent<\n  ProjectListDetailsProps\n> = ({ projectsParams, ...sharedProps }) => {\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetProjectsInfinite(projectsParams, { useErrorBoundary: true })\n\n  const projects =\n    data?.pages.flatMap(page => page.results).map(toEntityHeader) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    projects,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={projects}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { convertToConcreteEntityType } from '../../../../utils/functions/EntityTypeUtils'\nimport { useSearchInfinite } from '../../../../utils/hooks/SynapseAPI/search/useSearch'\nimport { Hit, SearchQuery } from '../../../../utils/synapseTypes/Search'\nimport { EntityHeaderFromHit } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype SearchDetailsProps = EntityDetailsListSharedProps & {\n  searchQuery: SearchQuery\n}\n\nfunction toEntityHeader(hit: Hit): EntityHeaderFromHit {\n  return {\n    name: hit.name,\n    id: hit.id,\n    type: convertToConcreteEntityType(hit.node_type),\n    createdOn: hit.created_on.toString(),\n    modifiedOn: hit.modified_on.toString(),\n    createdBy: hit.created_by,\n    modifiedBy: hit.modified_by,\n  }\n}\n\nexport const SearchDetails: React.FunctionComponent<SearchDetailsProps> = ({\n  searchQuery,\n  ...sharedProps\n}) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useSearchInfinite(searchQuery, {\n      enabled: !!searchQuery.queryTerm,\n      useErrorBoundary: true,\n    })\n\n  if (searchQuery.queryTerm) {\n    return (\n      <DetailsView\n        entities={\n          data?.pages.flatMap(page => page.hits).map(toEntityHeader) ?? []\n        }\n        isLoading={isLoading}\n        hasNextPage={hasNextPage}\n        fetchNextPage={fetchNextPage}\n        isFetchingNextPage={isFetchingNextPage}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"No results found\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg\"\n            />\n            <p>\n              No results for &ldquo;{searchQuery.queryTerm.join(' ')}&rdquo;\n            </p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  } else {\n    return (\n      <DetailsView\n        entities={[]}\n        isLoading={false}\n        hasNextPage={false}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"Begin searching\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg\"\n            />\n            <p>Enter a term or Synapse ID to start searching</p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  }\n}\n","import { Map } from 'immutable'\nimport React, { Dispatch, SetStateAction, useState } from 'react'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { getIsAllSelectedFromInfiniteList } from '../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityType, Reference } from '../../../utils/synapseTypes'\nimport { GetProjectsParameters } from '../../../utils/synapseTypes/GetProjectsParams'\nimport { SearchQuery } from '../../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../../ErrorBanner'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport { EntityTreeContainer } from '../tree/EntityTree'\nimport { EntityChildrenDetails } from './configurations/EntityChildrenDetails'\nimport { FavoritesDetails } from './configurations/FavoritesDetails'\nimport { ProjectListDetails } from './configurations/ProjectListDetails'\nimport { SearchDetails } from './configurations/SearchDetails'\nimport { DetailsView } from './view/DetailsView'\n\nexport enum EntityDetailsListDataConfigurationType {\n  HEADER_LIST, // simply displays one or more entity headers. incompatible with pagination\n  PARENT_CONTAINER, // retrieve the children for a given entity ID\n  USER_PROJECTS, // retrieve the user's projects (using the parameters)\n  USER_FAVORITES, // retrieve the user's favorites (using the parameters)\n  ENTITY_SEARCH, // Search for an entity\n  PROMPT, // Show no entities and instruct the user to make a selection\n}\n\nexport type EntityDetailsListDataConfiguration = {\n  type: EntityDetailsListDataConfigurationType\n  /** Defined if type is HEADER_LIST */\n  headerList?: Pick<EntityFinderHeader, 'id' | 'name' | 'type'>[]\n  /** Defined if type is PARENT_CONTAINER */\n  parentContainerId?: string\n  /** Defined if type is USER_PROJECTS */\n  getProjectParams?: GetProjectsParameters\n  /** Defined if type is ENTITY_SEARCH */\n  query?: SearchQuery\n}\n\n/**\n * These props are set by a parent to this component, but they are not affected by the configuration.\n * We collect them into this type to simplify passing them through to the view.\n */\nexport type EntityDetailsListSharedProps = {\n  showVersionSelection: boolean\n  mustSelectVersionNumber: boolean\n  selectColumnType: 'checkbox' | 'none'\n  enableSelectAll: boolean\n  visibleTypes: EntityType[]\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  isIdSelected: (header: EntityFinderHeader) => boolean\n  isSelectable: (header: EntityFinderHeader) => boolean\n  toggleSelection: (entity: Reference | Reference[]) => void\n  latestVersionText?: string\n  setCurrentContainer?: Dispatch<SetStateAction<EntityTreeContainer>>\n}\n\nexport type EntityDetailsListProps = EntityDetailsListSharedProps & {\n  configuration: EntityDetailsListDataConfiguration\n}\n\nexport const EntityDetailsList: React.FunctionComponent<\n  EntityDetailsListProps\n> = ({ configuration, ...sharedProps }) => {\n  /**\n   * This component simply uses the data configuration prop to determine which configuration component\n   * to use. Each configuration component has its own logic to utilize different Synapse APIs.\n   * The configuration components also manage view props that are more tightly-coupled with data,\n   * such as pagination and sorting.\n   *\n   * In the future, if we wanted to reuse this in other contexts (e.g. not selecting entities), we should consider refactoring\n   * to support different 'Row' components, determining the correct one determined at this level.\n   */\n\n  const [component, setComponent] = useState(<></>)\n\n  useDeepCompareEffect(() => {\n    const getComponentFromConfiguration = (\n      config: EntityDetailsListDataConfiguration,\n    ) => {\n      switch (config.type) {\n        case EntityDetailsListDataConfigurationType.PARENT_CONTAINER:\n          return (\n            <EntityChildrenDetails\n              parentContainerId={config.parentContainerId!}\n              {...sharedProps}\n            />\n          )\n\n        case EntityDetailsListDataConfigurationType.HEADER_LIST:\n          return (\n            <DetailsView\n              entities={config.headerList as EntityFinderHeader[]}\n              isLoading={false}\n              hasNextPage={false}\n              {...sharedProps}\n              enableSelectAll={sharedProps.enableSelectAll}\n              selectAllIsChecked={getIsAllSelectedFromInfiniteList(\n                (config.headerList as EntityFinderHeader[]) ?? [],\n                sharedProps.selected.size,\n                sharedProps.isIdSelected,\n                sharedProps.isSelectable,\n              )}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.USER_FAVORITES:\n          return <FavoritesDetails {...sharedProps} />\n        case EntityDetailsListDataConfigurationType.ENTITY_SEARCH:\n          return <SearchDetails searchQuery={config.query!} {...sharedProps} />\n\n        case EntityDetailsListDataConfigurationType.USER_PROJECTS:\n          return (\n            <ProjectListDetails\n              projectsParams={config.getProjectParams!}\n              {...sharedProps}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.PROMPT:\n          return (\n            <DetailsView\n              entities={[]}\n              isLoading={false}\n              noResultsPlaceholder={\n                <div>\n                  Use the left panel to browse Synapse, then make a selection in\n                  this panel\n                </div>\n              }\n              {...sharedProps}\n              enableSelectAll={false}\n            />\n          )\n\n        default:\n          console.warn(\n            'The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ',\n            config,\n          )\n          return <></>\n      }\n    }\n    setComponent(getComponentFromConfiguration(configuration))\n  }, [configuration, sharedProps])\n\n  return <SynapseErrorBoundary>{component}</SynapseErrorBoundary>\n}\n","import { Clear } from '@material-ui/icons'\nimport React, { useEffect, useState } from 'react'\nimport useGetEntityBundle from '../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { Reference } from '../../utils/synapseTypes'\nimport Typography from '../../utils/typography/Typography'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\nimport { Map } from 'immutable'\nimport { Skeleton } from '@material-ui/lab'\nimport Tooltip from '../../utils/tooltip/Tooltip'\nimport { TOOLTIP_DELAY_SHOW } from '../table/SynapseTableConstants'\n\nexport type SelectionPaneProps = {\n  title: string | ((count: number) => string)\n  selectedEntities: Map<string, number>\n  toggleSelection: (entity: Reference) => void\n}\n\nexport const SelectionPane: React.FC<SelectionPaneProps> = ({\n  title,\n  selectedEntities,\n  toggleSelection,\n}: SelectionPaneProps) => {\n  if (typeof title === 'function') {\n    title = title(selectedEntities.size)\n  }\n  return (\n    <div className=\"EntityFinderSelectionPane alert alert-warning\">\n      <Typography variant={'headline3'} display={'inline'}>\n        {title}\n      </Typography>\n      {selectedEntities.size <= 200 ? (\n        <div className={'EntityFinderSelectionPane__Items'}>\n          {Array.from(selectedEntities.keys()).map(id => {\n            const version = selectedEntities.get(id)\n            return (\n              <div\n                key={`${id}${\n                  version !== NO_VERSION_NUMBER ? `.${version}` : ''\n                }`}\n              >\n                <EntityPathDisplay\n                  entity={{\n                    targetId: id,\n                    targetVersionNumber:\n                      version !== NO_VERSION_NUMBER ? version : undefined,\n                  }}\n                  toggleSelection={toggleSelection}\n                ></EntityPathDisplay>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <Typography variant=\"smallText1\">\n          Too many items to show here\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nconst EntityPathDisplay: React.FunctionComponent<{\n  entity: Reference\n  toggleSelection: (entity: Reference) => void\n}> = ({ entity, toggleSelection }) => {\n  const { data: bundle } = useGetEntityBundle(\n    entity.targetId,\n    undefined,\n    entity.targetVersionNumber,\n  )\n\n  const [entityName, setEntityName] = useState('')\n  const [fullPath, setFullPath] = useState('')\n  const [displayedPath, setDisplayedPath] = useState('')\n\n  useEffect(() => {\n    if (bundle?.path?.path) {\n      setEntityName(bundle.path.path[bundle.path.path.length - 1].name)\n      const path = bundle.path.path.slice(1, bundle.path.path.length - 1) // drop the first element, which is always syn4489 \"root\"\n      setFullPath(path.map(header => header.name).join('/'))\n      if (path.length < 4) {\n        // Show the full path from project to entity\n        setDisplayedPath(fullPath)\n      } else {\n        // Truncate the path, showing only project, parent, and self\n        setDisplayedPath(\n          path[0].name + // Project\n            '/…/' +\n            path\n              .slice(path.length - 1) // drop everything except parent and self\n              .map(header => header.name)\n              .join('/'),\n        )\n      }\n    }\n  }, [bundle, fullPath])\n\n  return (\n    <div className=\"EntityFinderSelectionPane__Row\">\n      {bundle && (\n        <EntityTypeIcon className=\"EntityIcon\" type={bundle.entityType!} />\n      )}\n      <Tooltip\n        title={`${fullPath}/${entityName}`}\n        enterNextDelay={TOOLTIP_DELAY_SHOW}\n        placement=\"top\"\n      >\n        <span>{displayedPath ? displayedPath + '/' : ''}</span>\n      </Tooltip>\n      {entityName ? (\n        <span className=\"EntityFinderSelectionPane__Row__EntityName\">\n          {entityName}\n        </span>\n      ) : (\n        <Skeleton width={500} />\n      )}\n      {entity.targetVersionNumber && (\n        <span> (Version {entity.targetVersionNumber})</span>\n      )}\n      <Clear\n        className=\"EntityFinderSelectionPane__Row__DeselectButton\"\n        onClick={() => {\n          toggleSelection(entity)\n        }}\n      />\n    </div>\n  )\n}\n","function mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nexport default mergeRefs;\n//# sourceMappingURL=react-merge-refs.esm.js.map\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport var noop = function noop() {};\nexport var identity = function identity(value) {\n  return value;\n};\nexport var createBasicRecord = function createBasicRecord(pub, parent) {\n  if (parent === void 0) {\n    parent = null;\n  }\n\n  return {\n    child: null,\n    isShown: parent ? parent.public.isOpen && parent.isShown : true,\n    parent: parent,\n    public: pub,\n    sibling: null,\n    visited: false\n  };\n};\nexport var getIdByIndex = function getIdByIndex(index, _ref) {\n  var getRecordData = _ref.getRecordData;\n\n  var _getRecordData = getRecordData(index),\n      id = _getRecordData.data.id;\n\n  return id;\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/* eslint-disable no-labels,max-depth,complexity */\nimport React, { createRef, PureComponent } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { noop } from './utils';\n// eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/prefer-readonly-parameter-types\nexport var Row = function Row(_ref) {\n  var index = _ref.index,\n      _ref$data = _ref.data,\n      Node = _ref$data.component,\n      getRecordData = _ref$data.getRecordData,\n      treeData = _ref$data.treeData,\n      style = _ref.style,\n      isScrolling = _ref.isScrolling;\n  var data = getRecordData(index);\n  return /*#__PURE__*/React.createElement(Node, Object.assign({\n    isScrolling: isScrolling,\n    style: style,\n    treeData: treeData\n  }, data));\n};\n\n// If refresh is required, we will run the TreeWalker. It will completely\n// update all requests and reset every state to default.\nvar generateNewTree = function generateNewTree(_ref2, _ref3, state) {\n  var createRecord = _ref2.createRecord;\n  var buildingTaskTimeout = _ref3.buildingTaskTimeout,\n      placeholder = _ref3.placeholder,\n      _ref3$async = _ref3.async,\n      async = _ref3$async === void 0 ? false : _ref3$async,\n      treeWalker = _ref3.treeWalker;\n  var shouldPreservePreviousState = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  async && state.records !== undefined;\n  var previousRecords = state.records;\n  var order = [];\n  var records = new Map();\n  var requestIdleCallbackOptions = buildingTaskTimeout ? {\n    timeout: buildingTaskTimeout\n  } : undefined;\n  var meta = new WeakMap();\n  var iter = treeWalker();\n\n  var _iter$next = iter.next(),\n      root = _iter$next.value; // Each record has a link to a parent, the next sibling and the next child.\n  // Having this info, we can perform a depth-first traverse.\n\n\n  var rootRecord = createRecord(root.data, state, undefined, shouldPreservePreviousState ? previousRecords.get(root.data.id) : undefined);\n  records.set(rootRecord.public.data.id, rootRecord);\n  meta.set(rootRecord, root);\n  var currentRecord = rootRecord;\n  var isTraversingRoot = true;\n  var tempRecord = rootRecord;\n  var useIdleCallback = typeof 'requestIdleCallback' !== 'undefined' && placeholder !== undefined && // If placeholder is set to null and this is the first build, idle callback\n  // won't be used. It is necessary for trees with async data which can be\n  // extremely complex but the first build is quite easy. During the following\n  // idle callbacks the old tree will be shown.\n  !(placeholder === null && !state.order);\n  var hasTime = useIdleCallback ? function (deadline) {\n    return deadline.timeRemaining() > 0;\n  } : function () {\n    return true;\n  };\n\n  var task = function task(deadline) {\n    while (currentRecord !== null) {\n      if (!hasTime(deadline)) {\n        requestIdleCallback(task, requestIdleCallbackOptions);\n        return;\n      }\n\n      if (!currentRecord.visited) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        var _iter$next2 = iter.next(meta.get(currentRecord)),\n            child = _iter$next2.value; // When the generator returns the undefined value we consider that all\n        // children are already sent and we need to select the new parent\n        // element to get its children.\n\n\n        if (child === undefined) {\n          if (isTraversingRoot) {\n            isTraversingRoot = false;\n          } else {\n            if (currentRecord.isShown) {\n              order.push(currentRecord.public.data.id);\n            }\n\n            currentRecord.visited = currentRecord.child !== null;\n            currentRecord = currentRecord.child !== null ? currentRecord.child : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n          }\n\n          tempRecord = currentRecord;\n          continue;\n        }\n\n        var childRecord = createRecord(child.data, state, isTraversingRoot ? undefined : currentRecord, shouldPreservePreviousState ? previousRecords.get(child.data.id) : undefined);\n        records.set(childRecord.public.data.id, childRecord);\n        meta.set(childRecord, child);\n\n        if (!isTraversingRoot && tempRecord === currentRecord) {\n          tempRecord.child = childRecord;\n        } else {\n          tempRecord.sibling = childRecord;\n        }\n\n        tempRecord = childRecord;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n        tempRecord = currentRecord;\n      }\n    }\n\n    if (useIdleCallback) {\n      state.setState({\n        order: order,\n        records: records,\n        updateRequest: {}\n      });\n    }\n  };\n\n  if (useIdleCallback) {\n    requestIdleCallback(task, requestIdleCallbackOptions);\n  } else {\n    task();\n  } // If we want to preserve the previous state and use the requestIdleCallback,\n  // we need to return the old state.\n\n\n  return placeholder !== undefined && async && state.order ? state : {\n    order: order,\n    records: records\n  };\n};\n\nvar MAX_FUNCTION_ARGUMENTS = 32768;\nvar SPLICE_DEFAULT_ARGUMENTS_NUMBER = 2; // If we need to perform only the update, treeWalker won't be used. Update will\n// work internally, traversing only the subtree of elements that require\n// update through the opennessState option.\n\nvar updateExistingTree = function updateExistingTree(_ref4, _ref5) {\n  var order = _ref4.order,\n      records = _ref4.records;\n  var opennessState = _ref5.opennessState;\n\n  if (typeof opennessState !== 'object') {\n    return null;\n  }\n\n  for (var id in opennessState) {\n    if (!records.has(id)) {\n      continue;\n    }\n\n    var opts = opennessState[id];\n    var ownerRecord = records.get(id); // Here we unify the shape of openness state options\n\n    var _ref6 = typeof opts === 'boolean' ? {\n      open: opts\n    } : opts,\n        open = _ref6.open,\n        _ref6$subtreeCallback = _ref6.subtreeCallback,\n        subtreeCallback = _ref6$subtreeCallback === void 0 ? noop : _ref6$subtreeCallback;\n\n    var update = noop;\n    var apply = noop;\n\n    if (ownerRecord.isShown) {\n      if (open) {\n        (function () {\n          // If received rules require us to open the subtree, we have 2 cases:\n          // 1. The node is not opened yet. In this case we simply have to\n          // calculate and add new ids.\n          // 2. The node is opened already. In this case we have to remove all\n          // existing ids and replace them with new ids.\n          var index = order.indexOf(id); // Here we calculate a count of visible subtree nodes to remove from\n          // `order`. Then we will replace the gap with the updated list of\n          // subtree nodes.\n\n          var recordNextToSubtree = ownerRecord;\n\n          while (recordNextToSubtree !== null) {\n            if (recordNextToSubtree.sibling !== null) {\n              recordNextToSubtree = recordNextToSubtree.sibling;\n              break;\n            }\n\n            recordNextToSubtree = recordNextToSubtree.parent;\n          }\n\n          var countToRemove = recordNextToSubtree === null ? order.length - 1 - index : order.indexOf(recordNextToSubtree.public.data.id) - 1 - index;\n          var orderParts = [[index + 1, countToRemove]]; // Unfortunately, splice cannot work with big arrays. If array exceeds\n          // some length it may fire an exception. The length is specific for\n          // each engine; e.g., MDN says about 65536 for Webkit. So, to avoid this\n          // overflow, I split `order` parts to chunks by 32768 elements in each\n          // one. These chunks will be sent as arguments to the `splice` method.\n          //\n          // To avoid array concatenations which may cause Major GC, I set two\n          // first arguments as `splice`'s `start` and `deleteCount` arguments.\n\n          update = function update(record) {\n            // We have to consider only the newly shown elements that are not in\n            // the order list yet. We should do it AFTER the visibility update\n            // happens because otherwise we won't be able to distinguish if the\n            // element should be included in the order list.\n            // Update record visibility\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n\n            if (record.isShown) {\n              var currentOrderPart = orderParts[orderParts.length - 1];\n              currentOrderPart.push(record.public.data.id);\n\n              if (currentOrderPart.length === MAX_FUNCTION_ARGUMENTS + SPLICE_DEFAULT_ARGUMENTS_NUMBER) {\n                orderParts.push([index + 1 + MAX_FUNCTION_ARGUMENTS * orderParts.length, 0]);\n              }\n            }\n          };\n\n          apply = function apply() {\n            for (var i = 0; i < orderParts.length; i++) {\n              var _ref7;\n\n              // @ts-expect-error: too generic for TS\n              (_ref7 = order).splice.apply(_ref7, orderParts[i]);\n            }\n          };\n        })();\n      } else if (ownerRecord.public.isOpen) {\n        (function () {\n          // If received rules require us to close the subtree, we have to remove\n          // all subtree ids from the order list.\n          var index = order.indexOf(id);\n          var count = 0;\n\n          update = function update(record) {\n            // We have to consider only currently visible subtree nodes BEFORE\n            // their visibility is updated. Otherwise we will have incorrect\n            // number of items to remove: we cannot remove elements that are not\n            // in the order list.\n            //\n            // If we do it after the visibility update, we will be unable to\n            // understand if the element is still in the order list.\n            if (record.isShown) {\n              count += 1;\n            } // Update record visibility\n\n\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n          };\n\n          apply = function apply() {\n            // Remove data after element with index\n            order.splice(index + 1, count);\n          };\n        })();\n      }\n    }\n\n    var currentRecord = ownerRecord;\n\n    while (currentRecord !== null) {\n      if (!currentRecord.visited) {\n        currentRecord.public.isOpen = currentRecord === ownerRecord ? open : currentRecord.public.isOpen;\n        subtreeCallback(currentRecord.public, ownerRecord.public);\n\n        if (currentRecord !== ownerRecord) {\n          update(currentRecord);\n        }\n\n        currentRecord.visited = currentRecord.child !== null; // This algorithm is a bit different from the visit algorithm in the\n        // tree generator. We are restricted with the bounds of a subtree and\n        // shouldn't go over it. So we cannot search for the ownerRecord's\n        // parent or sibling because it will lead us out of the subtree.\n\n        currentRecord = // Look for child in any case\n        currentRecord.child !== null ? currentRecord.child : // Stop looking for next element if currentRecord is root.\n        currentRecord === ownerRecord ? null : // Otherwise, look for sibling or parent\n        currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord === ownerRecord ? null : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      }\n    }\n\n    apply();\n  }\n\n  return {\n    order: order,\n    records: records,\n    updateRequest: {}\n  };\n};\n\nexport var createTreeComputer = function createTreeComputer(creatorOptions) {\n  return function (props, state, options) {\n    return options.refresh ? generateNewTree(creatorOptions, props, state) : updateExistingTree(state, options);\n  };\n};\n\nvar Tree = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(Tree, _PureComponent);\n\n  Tree.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    var _props$listRef = props.listRef,\n        listRef = _props$listRef === void 0 ? null : _props$listRef,\n        treeWalker = props.treeWalker;\n    var computeTree = state.computeTree,\n        list = state.list,\n        order = state.order,\n        oldTreeWalker = state.treeWalker;\n    return _extends({\n      attachRefs: mergeRefs([list, listRef])\n    }, treeWalker !== oldTreeWalker || !order ? computeTree(props, state, {\n      refresh: true\n    }) : null, {\n      treeWalker: treeWalker\n    });\n  };\n\n  function Tree(props, context) {\n    var _this;\n\n    _this = _PureComponent.call(this, props, context) || this;\n    _this.getRecordData = _this.getRecordData.bind(_assertThisInitialized(_this));\n    /* eslint-disable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    _this.state = {\n      list: /*#__PURE__*/createRef(),\n      recomputeTree: _this.recomputeTree.bind(_assertThisInitialized(_this)),\n      setState: _this.setState.bind(_assertThisInitialized(_this))\n    };\n    /* eslint-enable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    return _this;\n  }\n\n  var _proto = Tree.prototype;\n\n  _proto.getItemData = function getItemData() {\n    var _this$props = this.props,\n        component = _this$props.children,\n        treeData = _this$props.itemData;\n    return {\n      component: component,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      getRecordData: this.getRecordData,\n      treeData: treeData\n    };\n  };\n\n  _proto.getRecordData = function getRecordData(index) {\n    var _this$state = this.state,\n        order = _this$state.order,\n        records = _this$state.records;\n    return records.get(order[index]).public;\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      _this2.setState(function (prevState) {\n        return prevState.computeTree(_this2.props, prevState, {\n          opennessState: state\n        });\n      }, resolve);\n    });\n  };\n\n  _proto.scrollTo = function scrollTo(scrollOffset) {\n    var _this$state$list$curr;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr = this.state.list.current) == null ? void 0 : _this$state$list$curr.scrollTo(scrollOffset);\n  };\n\n  _proto.scrollToItem = function scrollToItem(id, align) {\n    var _this$state$list$curr2;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr2 = this.state.list.current) == null ? void 0 : _this$state$list$curr2.scrollToItem(this.state.order.indexOf(id), align);\n  };\n\n  return Tree;\n}(PureComponent);\n\nTree.defaultProps = {\n  rowComponent: Row\n};\nexport default Tree;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport { VariableSizeList } from 'react-window';\nimport Tree, { createTreeComputer } from './Tree';\nimport { createBasicRecord, getIdByIndex } from './utils';\nvar computeTree = createTreeComputer({\n  createRecord: function createRecord(data, _ref, parent, previousRecord) {\n    var recomputeTree = _ref.recomputeTree,\n        resetAfterId = _ref.resetAfterId;\n    var record = createBasicRecord({\n      data: data,\n      height: previousRecord ? previousRecord.public.height : data.defaultHeight,\n      isOpen: previousRecord ? previousRecord.public.isOpen : data.isOpenByDefault,\n      resize: function resize(height, shouldForceUpdate) {\n        record.public.height = height;\n        resetAfterId(record.public.data.id, shouldForceUpdate);\n      },\n      setOpen: function setOpen(state) {\n        var _recomputeTree;\n\n        return recomputeTree((_recomputeTree = {}, _recomputeTree[data.id] = state, _recomputeTree));\n      }\n    }, parent);\n    return record;\n  }\n});\nexport var VariableSizeTree = /*#__PURE__*/function (_Tree) {\n  _inheritsLoose(VariableSizeTree, _Tree);\n\n  function VariableSizeTree(props, context) {\n    var _this;\n\n    _this = _Tree.call(this, props, context) || this;\n    _this.getItemSize = _this.getItemSize.bind(_assertThisInitialized(_this));\n    _this.state = _extends({}, _this.state, {\n      computeTree: computeTree,\n      resetAfterId: _this.resetAfterId.bind(_assertThisInitialized(_this))\n    });\n    return _this;\n  }\n\n  var _proto = VariableSizeTree.prototype;\n\n  _proto.resetAfterId = function resetAfterId(id, shouldForceUpdate) {\n    var _list$current;\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = false;\n    }\n\n    var _this$state = this.state,\n        list = _this$state.list,\n        order = _this$state.order;\n    (_list$current = list.current) == null ? void 0 : _list$current.resetAfterIndex(order.indexOf(id), shouldForceUpdate);\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return _Tree.prototype.recomputeTree.call(this, state).then(function () {\n      var _this2$state$list$cur;\n\n      (_this2$state$list$cur = _this2.state.list.current) == null ? void 0 : _this2$state$list$cur.resetAfterIndex(0, true);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        placeholder = _this$props.placeholder,\n        itemSize = _this$props.itemSize,\n        rowComponent = _this$props.rowComponent,\n        treeWalker = _this$props.treeWalker,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"placeholder\", \"itemSize\", \"rowComponent\", \"treeWalker\"]);\n\n    var _this$state2 = this.state,\n        attachRefs = _this$state2.attachRefs,\n        order = _this$state2.order;\n    return placeholder && order.length === 0 ? placeholder : /*#__PURE__*/React.createElement(VariableSizeList, Object.assign({}, rest, {\n      itemCount: order.length,\n      itemData: this.getItemData() // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemKey: getIdByIndex // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemSize: itemSize != null ? itemSize : this.getItemSize // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      ref: attachRefs\n    }), rowComponent);\n  };\n\n  _proto.getItemSize = function getItemSize(index) {\n    return this.getRecordData(index).height;\n  };\n\n  return VariableSizeTree;\n}(Tree);","import { Skeleton } from '@material-ui/lab'\nimport { Map } from 'immutable'\nimport { cloneDeep } from 'lodash-es'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport {\n  TreeWalker,\n  TreeWalkerValue,\n  VariableSizeNodeData,\n  VariableSizeNodePublicState,\n  VariableSizeTree,\n} from 'react-vtree'\nimport { NodeComponentProps } from 'react-vtree/dist/es/Tree'\nimport { SynapseClient } from '../../../utils'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n} from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { EntityType } from '../../../utils/synapseTypes'\nimport { Writable } from '../../../utils/types/Writable'\nimport { EntityBadgeIcons } from '../../EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../EntityIcon'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\n\nexport enum EntityTreeNodeType {\n  /** The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection */\n  SINGLE_PANE,\n  /** The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection */\n  DUAL_PANE,\n}\n\ntype NodeChildren = Readonly<{\n  /** The node's children. If undefined, then children have not been fetched. */\n  children?: EntityHeaderNode[]\n  /** The token used to fetch the next page of children for this entity. If this property is nullish and children is defined, then all children have been fetched. */\n  childrenNextPageToken?: string | null\n}>\n\ntype EntityHeaderNode = Pick<EntityFinderHeader, 'id' | 'name' | 'type'> &\n  NodeChildren\ntype PaginationNode = { __paginationNode: true }\n\ntype TreeNode = EntityHeaderNode | RootNodeConfiguration | PaginationNode\n\nfunction getTreeNodeType(\n  node: TreeNode,\n): 'entityHeader' | 'rootNodeConfiguration' | 'pagination' {\n  if ('__paginationNode' in node) {\n    return 'pagination'\n  }\n  return 'id' in node ? 'entityHeader' : 'rootNodeConfiguration'\n}\n\nfunction isPaginationNode(node: TreeNode): node is PaginationNode {\n  return getTreeNodeType(node) === 'pagination'\n}\n\nfunction isEntityHeaderNode(node: TreeNode): node is EntityHeaderNode {\n  return getTreeNodeType(node) === 'entityHeader'\n}\n\nfunction isRootNodeConfiguration(\n  node: TreeNode,\n): node is RootNodeConfiguration {\n  return getTreeNodeType(node) === 'rootNodeConfiguration'\n}\n\nfunction hasMoreChildren(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return node.hasNextPage\n  }\n\n  return node.children == null || node.childrenNextPageToken != null\n}\n\nfunction isLeafNode(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return false\n  } else {\n    return (\n      // Entity is not a container\n      !isContainerType(getEntityTypeFromHeader(node)) ||\n      // OR Children have been fetched (nonnull) and there are 0 children\n      (node.children != null && node.children.length === 0)\n    )\n  }\n}\n\nexport type TreeData = VariableSizeNodeData &\n  Readonly<{\n    node: TreeNode\n    getNextPageOfChildren: () => Promise<void>\n    isLeaf: boolean\n    nestingLevel: number\n    setSelectedId: (entityId: string) => void\n    treeNodeType: EntityTreeNodeType\n    isSelected: boolean\n    isDisabled: boolean\n  }>\n\ntype NodeMeta = Readonly<{\n  nestingLevel: number\n  node: TreeNode\n}>\n\nexport type RootNodeConfiguration = {\n  show: boolean\n  nodeText: string\n  children: EntityHeaderNode[]\n  /** If undefined, no more entities to fetch */\n  fetchNextPage: () => Promise<void>\n  hasNextPage: boolean\n}\n\n/**\n * Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.\n * Exported for testing purposes only.\n * @param config\n * @returns\n */\nexport const getNodeData = (config: {\n  node: TreeNode\n  nestingLevel: number\n  getNextPageOfChildren: () => Promise<void>\n  setSelectedId: (entityId: string) => void\n  treeNodeType: EntityTreeNodeType\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  autoExpand: (entityId: string) => boolean\n  defaultHeight: number\n  currentContainer?: string | 'root' | null\n}): TreeWalkerValue<TreeData, NodeMeta> => {\n  const {\n    node,\n    nestingLevel,\n    getNextPageOfChildren,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    selectableTypes,\n    autoExpand,\n    defaultHeight,\n    currentContainer,\n  } = config\n\n  if (isPaginationNode(node)) {\n    throw new Error('Cannot create data for a pagination node')\n  }\n\n  const id = isRootNodeConfiguration(node) ? 'root' : node.id\n\n  const isSelected =\n    treeNodeType === EntityTreeNodeType.SINGLE_PANE\n      ? selected.has(id)\n      : currentContainer === id\n  const isDisabled =\n    !isRootNodeConfiguration(node) &&\n    !selectableTypes.includes(getEntityTypeFromHeader(node))\n\n  const isOpenByDefault = autoExpand(id)\n  /*\n   * If the node is open by default and we haven't fetched its children,\n   * fetch the first page (otherwise we won't fetch unless re-toggled)\n   */\n  if (isOpenByDefault && node.children == null && hasMoreChildren(node)) {\n    getNextPageOfChildren()\n  }\n\n  return {\n    data: {\n      node,\n      getNextPageOfChildren,\n      id: id,\n      isLeaf: isLeafNode(node),\n      isOpenByDefault: isOpenByDefault,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n      defaultHeight,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\n/**\n * Node component for the react-vtree virtualized tree. Exported only for testing purposes\n */\nexport function Node(\n  props: NodeComponentProps<TreeData, VariableSizeNodePublicState<TreeData>>,\n) {\n  const {\n    data: {\n      node,\n      getNextPageOfChildren,\n      isLeaf,\n      id,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n    },\n    isOpen,\n    style,\n    setOpen,\n  } = props\n\n  const [isLoading, setLoading] = useState(false)\n\n  const nodeText = isEntityHeaderNode(node) ? (\n    node.name\n  ) : isRootNodeConfiguration(node) ? (\n    node.nodeText\n  ) : (\n    // Pagination node\n    <Skeleton width={100} />\n  )\n\n  // We only use this for pagination nodes. If the pagination node comes into view, then immediately call `getNextPageOfChildren`\n  const { ref, inView } = useInView()\n  useEffect(() => {\n    if (isPaginationNode(node) && inView) {\n      getNextPageOfChildren()\n    }\n  }, [node, inView, getNextPageOfChildren])\n\n  const toggleExpand = useCallback(async () => {\n    if (hasMoreChildren(node)) {\n      setLoading(true)\n      await getNextPageOfChildren()\n      await setOpen(!isOpen)\n      setLoading(false)\n    } else {\n      await setOpen(!isOpen)\n    }\n  }, [getNextPageOfChildren, node, isOpen, setOpen])\n\n  /**\n   * If in the dual-pane view, expand a node when it becomes selected\n   */\n  useEffect(() => {\n    if (\n      treeNodeType === EntityTreeNodeType.DUAL_PANE &&\n      isSelected &&\n      !isOpen\n    ) {\n      toggleExpand()\n    }\n    // Intentionally only toggle the expanded state when isSelected changes, otherwise the node cannot be un-expanded\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSelected])\n\n  /**\n   * If the height is 0, the node is purposefully hidden. Just render a fragment.\n   */\n  if ('height' in style && style.height === 0) {\n    return <></>\n  }\n\n  return (\n    <div\n      className={`Node ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectNode'\n          : 'BrowseNode'\n      }`}\n      aria-selected={isSelected}\n      aria-disabled={isDisabled}\n      onClick={event => {\n        event.stopPropagation()\n        if (!isDisabled) {\n          setSelectedId(id)\n        }\n      }}\n      style={{\n        ...style,\n        paddingLeft: `${20 + nestingLevel * 20}px`,\n      }}\n    >\n      {!isLeaf && (\n        <button\n          className=\"ExpandButton\"\n          type=\"button\"\n          onClick={event => {\n            event.stopPropagation()\n            toggleExpand()\n          }}\n        >\n          {isLoading ? <SynapseSpinner size={10} /> : isOpen ? '▾' : '▸'}\n        </button>\n      )}\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && ( // SWC-5592\n        <div className=\"EntityIcon\">\n          {isEntityHeaderNode(node) && (\n            <EntityTypeIcon type={getEntityTypeFromHeader(node)} />\n          )}\n        </div>\n      )}\n\n      <div className=\"EntityName\" ref={ref}>\n        {nodeText}\n      </div>\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && (\n        <EntityBadgeIcons\n          entityId={id}\n          showHasDiscussionThread={false}\n          showHasWiki={false}\n          showUnlink={false}\n          canOpenModal={false}\n          renderTooltipComponent={true}\n        />\n      )}\n    </div>\n  )\n}\n\n/**\n * Extracted from the React component for testing purposes\n * @returns a generator function compatible with react-vtree\n */\nexport function getTreeWalkerFunction(\n  rootNode: RootNodeConfiguration,\n  setSelectedId: VirtualizedTreeProps['setSelectedId'],\n  treeNodeType: VirtualizedTreeProps['treeNodeType'],\n  selected: VirtualizedTreeProps['selected'],\n  selectableTypes: VirtualizedTreeProps['selectableTypes'],\n  autoExpand: VirtualizedTreeProps['autoExpand'],\n  itemSize: (index?: number) => number,\n  currentContainer: VirtualizedTreeProps['currentContainer'],\n  fetchNextPageOfChildren: (node: Writable<EntityHeaderNode>) => Promise<void>,\n): TreeWalker<TreeData, NodeMeta> {\n  return function* treeWalker() {\n    // Step [1]: Define the root node of our tree.\n    yield getNodeData({\n      node: rootNode,\n      nestingLevel: 0,\n      getNextPageOfChildren: rootNode.fetchNextPage,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      defaultHeight: itemSize(),\n      currentContainer,\n    })\n\n    while (true) {\n      // Step [2]: Get the parent node and nesting level, which will be passed into the Generator.next function by react-vtree.\n      // Yielding `undefined` indicates to react-vtree that we've finished iterating children from the last time we were in the loop.\n      const parentMeta = yield\n\n      if (\n        !isPaginationNode(parentMeta.node) &&\n        (parentMeta.node.children || hasMoreChildren(parentMeta.node))\n      ) {\n        for (let i = 0; i < (parentMeta.node.children ?? []).length; i++) {\n          // Step [3]: Yielding all the children of the parent\n          const childNode = parentMeta.node.children![i]\n\n          yield getNodeData({\n            node: childNode,\n            nestingLevel: parentMeta.nestingLevel + 1,\n            getNextPageOfChildren: () => fetchNextPageOfChildren(childNode),\n            setSelectedId,\n            treeNodeType,\n            selected,\n            selectableTypes,\n            autoExpand,\n            defaultHeight: itemSize(),\n            currentContainer,\n          })\n        }\n\n        // Step [4] - If the parent node has more children, render a \"pagination node\" that will fetch more children when it comes into view (via intersection observer)\n        if (\n          parentMeta.node.children != null &&\n          hasMoreChildren(parentMeta.node)\n        ) {\n          const paginationNode: PaginationNode = {\n            __paginationNode: true,\n          }\n          const paginationTreeWalkerValue: TreeWalkerValue<TreeData, NodeMeta> =\n            {\n              data: {\n                id: parentMeta.data.id + '-pagination',\n                node: paginationNode,\n                isOpenByDefault: false,\n                getNextPageOfChildren: parentMeta.data.getNextPageOfChildren,\n                isLeaf: true,\n                isSelected: false,\n                defaultHeight: itemSize(),\n                isDisabled: true,\n                nestingLevel: parentMeta.nestingLevel + 1,\n                setSelectedId: () => {},\n                treeNodeType,\n              },\n              nestingLevel: parentMeta.nestingLevel + 1,\n              node: {\n                __paginationNode: true,\n              },\n            }\n          yield paginationTreeWalkerValue\n        }\n      }\n    }\n  }\n}\n\nexport type VirtualizedTreeProps = Readonly<{\n  treeNodeType: EntityTreeNodeType\n  rootNodeConfiguration: RootNodeConfiguration\n  setSelectedId: (entityId: string) => void\n  selected: Map<string, number>\n  /* currentContainer is the container whose contents are shown on in the right pane in dual-pane configuration, and may only be defined when treeNodeType is DUAL_PANE */\n  currentContainer?: string | 'root' | null\n  autoExpand: (entityId: string) => boolean\n  selectableTypes: EntityType[]\n  visibleTypes: EntityType[]\n}>\n\n/**\n * Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window\n * to only render visible nodes, which eliminates performance issues as seen in SWC-5978.\n */\nexport const VirtualizedTree = (props: VirtualizedTreeProps) => {\n  const {\n    rootNodeConfiguration,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    currentContainer,\n    selectableTypes,\n    visibleTypes,\n    autoExpand,\n  } = props\n\n  const { accessToken } = useSynapseContext()\n\n  const [rootNode, setRootNode] = useState<RootNodeConfiguration>(\n    rootNodeConfiguration,\n  )\n\n  useEffect(() => {\n    setRootNode(rootNodeConfiguration)\n  }, [rootNodeConfiguration, rootNodeConfiguration.children])\n\n  // This function is used by VariableSizeTree to identify the size of each node in the tree.\n  const itemSize = useCallback(\n    (index?: number) => {\n      /**\n       * We must have a root node, but we don't always want to show it.\n       * In those cases, set the height of the root node to 0.\n       */\n      if (index === 0 && !rootNodeConfiguration.show) {\n        return 0\n      }\n      /**\n       * The height of all other nodes in the tree varies depending on the tree node type.\n       */\n      return treeNodeType === EntityTreeNodeType.DUAL_PANE ? 30 : 60\n    },\n    [treeNodeType, rootNodeConfiguration.show],\n  )\n\n  /**\n   * Fetches the next page of children for a given node. After fetching the children, this method will make a deep clone of the\n   *  full tree, including the new data, and updates the state of the component\n   */\n  const fetchNextPageOfChildren = useCallback(\n    // Because we update the root node with a copy at the end of this function, we can write to the node under update.\n    async (node: Writable<EntityHeaderNode>) => {\n      // Fetch the children of the node\n      const children = await SynapseClient.getEntityChildren(\n        {\n          parentId: node.id,\n          nextPageToken: node.childrenNextPageToken,\n          includeTypes: visibleTypes,\n        },\n        accessToken,\n      )\n\n      // Update the node data -- add the children and store the nextPageToken\n      if (node.children) {\n        node.children.push(...children.page)\n      } else {\n        node.children = children.page\n      }\n      node.childrenNextPageToken = children.nextPageToken\n\n      // cloneDeep is required to re-render the tree with the new children\n      setRootNode(cloneDeep(rootNode))\n    },\n    [rootNode, accessToken, visibleTypes],\n  )\n\n  /**\n   * treeWalker is a generator function used by react-vtree to generate the tree structure. The tree is re-built when the function is updated,\n   * so the dependencies specified in useCallback are important.\n   */\n  const memoizedTreeWalker = useCallback(\n    getTreeWalkerFunction(\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      itemSize,\n      currentContainer,\n      fetchNextPageOfChildren,\n    ),\n    [\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      currentContainer,\n      fetchNextPageOfChildren,\n      itemSize,\n    ],\n  )\n\n  return (\n    <AutoSizer disableWidth>\n      {({ height }: { height: number }) => (\n        <VariableSizeTree\n          treeWalker={memoizedTreeWalker}\n          itemSize={itemSize}\n          height={height}\n          async={true}\n          width=\"100%\"\n        >\n          {Node}\n        </VariableSizeTree>\n      )}\n    </AutoSizer>\n  )\n}\n","import { Map } from 'immutable'\nimport React, {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { useErrorHandler } from 'react-error-boundary'\nimport { SynapseClient } from '../../../utils'\nimport { convertToEntityType } from '../../../utils/functions/EntityTypeUtils'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../../utils/functions/RegularExpressions'\nimport useGetEntityBundle from '../../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { useGetProjectsInfinite } from '../../../utils/hooks/SynapseAPI/user/useProjects'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { EntityPath, EntityType, Reference } from '../../../utils/synapseTypes'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { BreadcrumbItem } from '../Breadcrumbs'\nimport { toEntityHeader } from '../details/configurations/ProjectListDetails'\nimport {\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from '../details/EntityDetailsList'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport {\n  EntityTreeNodeType,\n  RootNodeConfiguration,\n  VirtualizedTree,\n} from './VirtualizedTree'\n\nconst isEntityIdInPath = (entityId: string, path: EntityPath): boolean => {\n  for (const eh of path.path) {\n    if (entityId === eh.id) {\n      return true\n    }\n  }\n  return false\n}\n\nexport enum FinderScope {\n  CURRENT_PROJECT = 'Current Project',\n  ALL_PROJECTS = 'All Projects',\n  CREATED_BY_ME = 'Projects Created By Me',\n  FAVORITES = 'My Favorites',\n}\n\nfunction getScopeOptionDefaultContainer(\n  scope: FinderScope,\n): EntityTreeContainer {\n  switch (scope) {\n    case FinderScope.FAVORITES:\n      return 'root'\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return null\n  }\n}\n\nfunction getScopeOptionNodeName(scope: FinderScope): string {\n  switch (scope) {\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return 'Projects'\n    case FinderScope.FAVORITES:\n      return 'Favorites'\n  }\n}\n\n/**\n * Indicates which container is selected when the tree is used to control another component. If 'root', then the top-level entities\n * should be shown in the other component. If a synID, then that entity's children should be shown in the other component. If null,\n * then a selection has not been made.\n */\nexport type EntityTreeContainer = string | 'root' | null\n\n// if the first item is selected (matching the dropdown), then output a configuration. otherwise, output a synId\nexport type EntityTreeProps = {\n  initialScope?: FinderScope\n  /** To show the current project, projectId must be defined */\n  projectId?: string\n  initialContainer: EntityTreeContainer\n  currentContainer: EntityTreeContainer\n  setCurrentContainer: Dispatch<SetStateAction<EntityTreeContainer>>\n  showDropdown: boolean\n  selectedEntities: Map<string, number>\n  visibleTypes?: EntityType[]\n  toggleSelection?: (entity: Reference) => void\n  setDetailsViewConfiguration?: (\n    configuration: EntityDetailsListDataConfiguration,\n  ) => void\n  setBreadcrumbItems?: (items: BreadcrumbItem[]) => void\n  /** Determines whether to show the root node corresponding to the selected scope */\n  showScopeAsRootNode?: boolean\n  treeNodeType: EntityTreeNodeType\n  /** The entity types that may be selected. */\n  selectableTypes: EntityType[]\n}\n\n/**\n * The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n *\n * The tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.\n */\nexport function EntityTree(props: EntityTreeProps) {\n  const {\n    initialScope = FinderScope.CURRENT_PROJECT,\n    projectId,\n    initialContainer = null,\n    currentContainer,\n    setCurrentContainer,\n    visibleTypes = [EntityType.PROJECT, EntityType.FOLDER],\n    toggleSelection,\n    selectedEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    showScopeAsRootNode = true,\n    treeNodeType,\n    selectableTypes,\n  } = props\n\n  const DEFAULT_CONFIGURATION: EntityDetailsListDataConfiguration = {\n    type: EntityDetailsListDataConfigurationType.PROMPT,\n  }\n\n  const { accessToken } = useSynapseContext()\n\n  const [isLoading, setIsLoading] = useState(false)\n  const [topLevelEntities, setTopLevelEntities] = useState<\n    Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[]\n  >([])\n  const [scope, setScope] = useState(initialScope)\n  const [initialContainerPath, setInitialContainerPath] = useState<EntityPath>()\n\n  const handleError = useErrorHandler()\n\n  useEffect(() => {\n    if (setDetailsViewConfiguration) {\n      setDetailsViewConfiguration(DEFAULT_CONFIGURATION)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setSelectedId = useCallback(\n    (entityId: string) => {\n      if (toggleSelection) {\n        toggleSelection({ targetId: entityId })\n      }\n      setCurrentContainer(entityId)\n    },\n    [setCurrentContainer, toggleSelection],\n  )\n\n  // For these scopes, use the `useGetProjectsInfinite` hook\n  const useProjectData =\n    scope === FinderScope.ALL_PROJECTS || scope === FinderScope.CREATED_BY_ME\n\n  const {\n    data: projectData,\n    isSuccess: isSuccessProjects,\n    fetchNextPage: fetchNextPageProjects,\n    hasNextPage: hasNextPageProjects,\n    isLoading: isLoadingProjects,\n  } = useGetProjectsInfinite(\n    scope === FinderScope.CREATED_BY_ME\n      ? { filter: 'CREATED', sort: 'PROJECT_NAME', sortDirection: 'ASC' }\n      : { sort: 'PROJECT_NAME', sortDirection: 'ASC' },\n    {\n      enabled: useProjectData,\n      // Don't refetch the projects. Updating the entity headers will drop all of the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n    },\n  )\n\n  const { data: currentContainerBundle, isSuccess: isSuccessBundle } =\n    useGetEntityBundle(currentContainer!, undefined, undefined, {\n      enabled: !!currentContainer && currentContainer !== 'root',\n    })\n\n  useEffect(() => {\n    if (useProjectData && isSuccessProjects) {\n      if (projectData?.pages) {\n        setTopLevelEntities(\n          projectData.pages.flatMap(page => page.results).map(toEntityHeader),\n        )\n      }\n    }\n  }, [useProjectData, isSuccessProjects, projectData])\n\n  // Populates the first level of entities in the tree view\n  useEffect(() => {\n    setIsLoading(true)\n    switch (scope) {\n      case FinderScope.ALL_PROJECTS:\n      case FinderScope.CREATED_BY_ME:\n        setIsLoading(isLoadingProjects)\n        // See the useGetProjectsInfinite hook\n        break\n      case FinderScope.FAVORITES: {\n        SynapseClient.getUserFavorites(accessToken).then(({ results }) => {\n          // TODO: https://sagebionetworks.jira.com/browse/PLFM-6652\n          results = results.filter(result =>\n            visibleTypes.includes(convertToEntityType(result.type)),\n          )\n          setTopLevelEntities(results)\n          setIsLoading(false)\n        })\n        break\n      }\n      case FinderScope.CURRENT_PROJECT:\n        if (projectId) {\n          if (initialContainer?.match(SYNAPSE_ENTITY_ID_REGEX)) {\n            SynapseClient.getEntityPath(initialContainer, accessToken)\n              .then(path => {\n                if (!path.path.map(entity => entity.id).includes(projectId)) {\n                  handleError(\n                    new Error(\n                      `An initial container (${initialContainer}) was provided but is not within or the same as the provided project (${projectId})`,\n                    ),\n                  )\n                }\n                setInitialContainerPath(path)\n                setTopLevelEntities([path.path[1]])\n                setIsLoading(false)\n              })\n              .catch(e => handleError(e))\n          } else {\n            SynapseClient.getEntityHeader(projectId, accessToken)\n              .then(header => {\n                setTopLevelEntities([header])\n                setIsLoading(false)\n              })\n              .catch(e => handleError(e))\n          }\n        } else {\n          handleError(\n            new Error(\n              'Cannot open current project because the current project is unknown',\n            ),\n          )\n        }\n        break\n      default:\n        handleError(new Error('No scope selected'))\n    }\n  }, [\n    accessToken,\n    scope,\n    initialContainer,\n    handleError,\n    visibleTypes,\n    isLoadingProjects,\n    projectId,\n  ])\n\n  // Creates the configuration for the details view and invokes the callback\n  useEffect(() => {\n    if (setDetailsViewConfiguration || setBreadcrumbItems) {\n      let detailsViewConfig: EntityDetailsListDataConfiguration\n      let breadcrumbItems: BreadcrumbItem[] = []\n      if (currentContainer === null) {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PROMPT,\n        }\n        breadcrumbItems = []\n      } else if (currentContainer === 'root') {\n        switch (scope) {\n          case FinderScope.ALL_PROJECTS:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n            }\n            break\n          case FinderScope.CREATED_BY_ME:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n              getProjectParams: {\n                filter: 'CREATED',\n              },\n            }\n            break\n          case FinderScope.CURRENT_PROJECT:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n              headerList: topLevelEntities,\n            }\n            break\n          case FinderScope.FAVORITES:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_FAVORITES,\n            }\n            break\n        }\n        breadcrumbItems = [\n          {\n            name: scope,\n            isCurrent: true,\n            action: () => {\n              setCurrentContainer('root')\n            },\n          },\n        ]\n      } else {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PARENT_CONTAINER,\n          parentContainerId: currentContainer,\n        }\n        if (isSuccessBundle) {\n          breadcrumbItems = [\n            {\n              name: scope,\n              isCurrent: false,\n              action: () => {\n                setCurrentContainer('root')\n              },\n            },\n            ...currentContainerBundle!\n              .path!.path.slice(1) // Remove the root entity, syn4489\n              .map(entity => {\n                return {\n                  name: entity.name,\n                  isCurrent: entity.id === currentContainer,\n                  action: () => {\n                    setCurrentContainer(entity.id)\n                  },\n                }\n              }),\n          ]\n        }\n      }\n      if (setDetailsViewConfiguration) {\n        setDetailsViewConfiguration(detailsViewConfig)\n      }\n      if (setBreadcrumbItems) {\n        setBreadcrumbItems(breadcrumbItems)\n      }\n    }\n  }, [\n    scope,\n    currentContainer,\n    topLevelEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    currentContainerBundle,\n    isSuccessBundle,\n    setCurrentContainer,\n  ])\n\n  const rootNodeConfiguration: RootNodeConfiguration = useMemo(\n    () => ({\n      show: showScopeAsRootNode,\n      nodeText: getScopeOptionNodeName(scope),\n      children: topLevelEntities,\n      fetchNextPage: async () => {\n        await fetchNextPageProjects()\n      },\n      hasNextPage: useProjectData && hasNextPageProjects! && !isLoadingProjects,\n    }),\n    [\n      showScopeAsRootNode,\n      scope,\n      topLevelEntities,\n      useProjectData,\n      hasNextPageProjects,\n      isLoadingProjects,\n      fetchNextPageProjects,\n    ],\n  )\n\n  const shouldAutoExpand = useCallback(\n    (entityId: string) => {\n      if (entityId === 'root') {\n        return true\n      } else {\n        return !!(\n          scope === FinderScope.CURRENT_PROJECT &&\n          initialContainerPath &&\n          isEntityIdInPath(entityId, initialContainerPath)\n        )\n      }\n    },\n    [scope, initialContainerPath],\n  )\n\n  return (\n    <div\n      className={`TreeView ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectTree'\n          : 'BrowseTree'\n      }`}\n    >\n      <div className=\"Header\">\n        <div className=\"Browse\">Browse:</div>\n        <div onClick={e => e.stopPropagation()}>\n          <Dropdown>\n            <Dropdown.Toggle variant=\"gray-primary-500\" id=\"dropdown-basic\">\n              {scope}\n            </Dropdown.Toggle>\n            <Dropdown.Menu role=\"menu\">\n              {Object.values(FinderScope).map(scopeOption => {\n                if (\n                  scopeOption === FinderScope.CURRENT_PROJECT &&\n                  projectId == null\n                ) {\n                  return <React.Fragment key={scopeOption} />\n                }\n                return (\n                  <Dropdown.Item\n                    role=\"menuitem\"\n                    key={scopeOption}\n                    onClick={e => {\n                      e.stopPropagation()\n                      if (scope !== scopeOption) {\n                        setScope(scopeOption)\n                        setCurrentContainer(\n                          getScopeOptionDefaultContainer(scopeOption),\n                        )\n                      }\n                    }}\n                  >\n                    {scopeOption}\n                  </Dropdown.Item>\n                )\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n      {isLoading ? (\n        <div className=\"Placeholder\">\n          <SynapseSpinner size={30} />\n        </div>\n      ) : (\n        <div className=\"Tree\" role=\"tree\">\n          <VirtualizedTree\n            selected={selectedEntities}\n            visibleTypes={visibleTypes}\n            autoExpand={shouldAutoExpand}\n            rootNodeConfiguration={rootNodeConfiguration}\n            treeNodeType={treeNodeType}\n            selectableTypes={selectableTypes}\n            currentContainer={currentContainer}\n            setSelectedId={setSelectedId}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n","/**\n * MIT License\n * \n * Copyright (c) 2014-present, Lee Byron and other contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^32−1.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n    ? size === Infinity\n      ? size\n      : Math.max(0, size + index) | 0\n    : size === undefined || size === index\n    ? index\n    : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function () {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function () {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  if (Array.isArray(maybeIterable)) {\n    // IE11 trick as it does not support `Symbol.iterator`\n    return true;\n  }\n\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isEntriesIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.entries;\n}\n\nfunction isKeysIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.keys;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection) {\n  function Seq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isImmutable(value)\n      ? value.toSeq()\n      : seqFromValue(value);\n  }\n\n  if ( Collection ) Seq.__proto__ = Collection;\n  Seq.prototype = Object.create( Collection && Collection.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.toSeq()\n        : value.fromEntrySeq()\n      : isRecord(value)\n      ? value.toSeq()\n      : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.entrySeq()\n        : value.toIndexedSeq()\n      : isRecord(value)\n      ? value.toSeq().entrySeq()\n      : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (\n      isCollection(value) && !isAssociative(value) ? value : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object).concat(\n      Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(object) : []\n    );\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return isEntriesIterable(value)\n      ? seq.fromEntrySeq()\n      : isKeysIterable(value)\n      ? seq.toSetSeq()\n      : seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n    ? new CollectionSeq(value)\n    : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  if (o == null) {\n    return hashNullish(o);\n  }\n\n  if (typeof o.hashCode === 'function') {\n    // Drop any high bits from accidentally long hash codes.\n    return smi(o.hashCode(o));\n  }\n\n  var v = valueOf(o);\n\n  if (v == null) {\n    return hashNullish(v);\n  }\n\n  switch (typeof v) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return v ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(v);\n    case 'string':\n      return v.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(v)\n        : hashString(v);\n    case 'object':\n    case 'function':\n      return hashJSObj(v);\n    case 'symbol':\n      return hashSymbol(v);\n    default:\n      if (typeof v.toString === 'function') {\n        return hashString(v.toString());\n      }\n      throw new Error('Value type ' + typeof v + ' cannot be hashed.');\n  }\n}\n\nfunction hashNullish(nullish) {\n  return nullish === null ? 0x42108422 : /* undefined */ 0x42108423;\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashSymbol(sym) {\n  var hashed = symbolMap[sym];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  hashed = nextHash();\n\n  symbolMap[sym] = hashed;\n\n  return hashed;\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = nextHash();\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function () {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function () {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\nfunction valueOf(obj) {\n  return obj.valueOf !== defaultValueOf && typeof obj.valueOf === 'function'\n    ? obj.valueOf(obj)\n    : obj;\n}\n\nfunction nextHash() {\n  var nextHash = ++_objHashUID;\n  if (_objHashUID & 0x40000000) {\n    _objHashUID = 0;\n  }\n  return nextHash;\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar symbolMap = Object.create(null);\n\nvar _objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq ) ToKeyedSequence.__proto__ = KeyedSeq;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq ) ToIndexedSequence.__proto__ = IndexedSeq;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq ) ToSetSequence.__proto__ = SetSeq;\n  ToSetSequence.prototype = Object.create( SetSeq && SetSeq.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq ) FromEntriesSequence.__proto__ = KeyedSeq;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function () {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function (type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function () {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function (index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function (type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1$1) !== false) &&\n        fn(v, iterations++, this$1$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries\n    .sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; })\n    .forEach(\n      isKeyedCollection\n        ? function (v, i) {\n            entries[i].length = 2;\n          }\n        : function (v, i) {\n            entries[i] = v[1];\n          }\n    );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n    ? IndexedSeq(entries)\n    : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function (fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function (type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(\n          null,\n          steps.map(function (s) { return s.value; })\n        )\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n    ? IndexedCollection\n    : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n      ? IndexedSeq\n      : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nvar toString = Object.prototype.toString;\n\nfunction isPlainObject(value) {\n  // The base prototype's toString deals with Argument objects and native namespaces like Math\n  if (\n    !value ||\n    typeof value !== 'object' ||\n    toString.call(value) !== '[object Object]'\n  ) {\n    return false;\n  }\n\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n\n  // Iteratively going up the prototype chain is needed for cross-realm environments (differing contexts, iframes, etc)\n  var parentProto = proto;\n  var nextProto = Object.getPrototypeOf(proto);\n  while (nextProto !== null) {\n    parentProto = nextProto;\n    nextProto = Object.getPrototypeOf(parentProto);\n  }\n  return parentProto === proto;\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObject(value))\n  );\n}\n\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n    ? notSetValue\n    : typeof collection.get === 'function'\n    ? collection.get(key)\n    : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn$1(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n    ? remove(existing, key)\n    : set(\n        wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n        key,\n        nextUpdated\n      );\n}\n\nfunction setIn$1(collection, keyPath, value) {\n  return updateIn$1(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn(keyPath, v) {\n  return setIn$1(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn$1(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update$1(collection, key, notSetValue, updater) {\n  return updateIn$1(collection, [key], notSetValue, updater);\n}\n\nfunction update(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update$1(this, key, notSetValue, updater);\n}\n\nfunction updateIn(keyPath, notSetValue, updater) {\n  return updateIn$1(this, keyPath, notSetValue, updater);\n}\n\nfunction merge$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update$1(collection, key, NOT_SET, function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n      ? collection.merge.apply(collection, sources)\n      : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) &&\n      isDataStructure(newValue) &&\n      areMergeable(oldValue, newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n      ? merger(oldValue, newValue, key)\n      : newValue;\n  }\n  return deepMerger;\n}\n\n/**\n * It's unclear what the desired behavior is for merging two collections that\n * fall into separate categories between keyed, indexed, or set-like, so we only\n * consider them mergeable if they fall into the same category.\n */\nfunction areMergeable(oldDataStructure, newDataStructure) {\n  var oldSeq = Seq(oldDataStructure);\n  var newSeq = Seq(newDataStructure);\n  // This logic assumes that a sequence can only fall into one of the three\n  // categories mentioned above (since there's no `isSetLike()` method).\n  return (\n    isIndexed(oldSeq) === isIndexed(newSeq) &&\n    isKeyed(oldSeq) === isKeyed(newSeq)\n  );\n}\n\nfunction mergeDeep() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection) {\n  function Map(value) {\n    return value === undefined || value === null\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n      ? value\n      : emptyMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( KeyedCollection ) Map.__proto__ = KeyedCollection;\n  Map.prototype = Object.create( KeyedCollection && KeyedCollection.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, this$1$1));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update;\nMapPrototype.updateIn = updateIn;\nMapPrototype.merge = MapPrototype.concat = merge$1;\nMapPrototype.mergeWith = mergeWith$1;\nMapPrototype.mergeDeep = mergeDeep;\nMapPrototype.mergeDeepWith = mergeDeepWith;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function (result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate =\n  function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate =\n  function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function (fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator ) MapIterator.__proto__ = Iterator;\n  MapIterator.prototype = Object.create( Iterator && Iterator.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === undefined || value === null) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection ) List.__proto__ = IndexedCollection;\n  List.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n      ? this.shift()\n      : index === this.size - 1\n      ? this.pop()\n      : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, this$1$1));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update;\nListPrototype.updateIn = updateIn;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function (result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n      ? oldCapacity + end\n      : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n      ? new VNode([], owner)\n      : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map) {\n  function OrderedMap(value) {\n    return value === undefined || value === null\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n      ? value\n      : emptyOrderedMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( Map ) OrderedMap.__proto__ = Map;\n  OrderedMap.prototype = Object.create( Map && Map.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      this.__altered = true;\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  omap.__altered = false;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    omap.__altered = true;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection) {\n  function Stack(value) {\n    return value === undefined || value === null\n      ? emptyStack()\n      : isStack(value)\n      ? value\n      : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection ) Stack.__proto__ = IndexedCollection;\n  Stack.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function (result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n        ? !is(v, a.get(k, NOT_SET))\n        : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection) {\n  function Set(value) {\n    return value === undefined || value === null\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n      ? value\n      : emptySet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( SetCollection ) Set.__proto__ = SetCollection;\n  Set.prototype = Object.create( SetCollection && SetCollection.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    // keep track if the set is altered by the map function\n    var didChanges = false;\n\n    var newMap = updateSet(\n      this,\n      this._map.mapEntries(function (ref) {\n        var v = ref[1];\n\n        var mapped = mapper.call(context, v, v, this$1$1);\n\n        if (mapped !== v) {\n          didChanges = true;\n        }\n\n        return [mapped, mapped];\n      }, context)\n    );\n\n    return didChanges ? newMap : this;\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function (result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n    ? set.__empty()\n    : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq ) Range.__proto__ = IndexedSeq;\n  Range.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn$1(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn(searchKeyPath, notSetValue) {\n  return getIn$1(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn$1(collection, keyPath) {\n  return getIn$1(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn(searchKeyPath) {\n  return hasIn$1(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n      ? this.toKeyedSeq()\n      : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq().reverse().first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function () {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      this.size === Infinity ||\n      (this.size !== undefined && index > this.size)\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nvar SetCollectionPrototype = SetCollection.prototype;\nSetCollectionPrototype.has = CollectionPrototype.includes;\nSetCollectionPrototype.contains = SetCollectionPrototype.includes;\nSetCollectionPrototype.keys = SetCollectionPrototype.values;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollectionPrototype);\nmixin(IndexedSeq, IndexedCollectionPrototype);\nmixin(SetSeq, SetCollectionPrototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function () {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function () {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n      ? function (v) {\n          h = (31 * h + hash(v)) | 0;\n        }\n      : function (v) {\n          h = (h + hash(v)) | 0;\n        }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set) {\n  function OrderedSet(value) {\n    return value === undefined || value === null\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n      ? value\n      : emptyOrderedSet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( Set ) OrderedSet.__proto__ = Set;\n  OrderedSet.prototype = Object.create( Set && Set.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\nOrderedSetPrototype.zipAll = IndexedCollectionPrototype.zipAll;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nfunction throwOnInvalidDefaultValues(defaultValues) {\n  if (isRecord(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (isImmutable(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (defaultValues === null || typeof defaultValues !== 'object') {\n    throw new Error(\n      'Can not call `Record` with a non-object as default values. Use a plain javascript object instead.'\n    );\n  }\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  throwOnInvalidDefaultValues(defaultValues);\n\n  var RecordType = function Record(values) {\n    var this$1$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1$1._indices[k], v === this$1$1._defaultValues[k] ? undefined : v);\n      });\n    });\n    return this;\n  };\n\n  var RecordTypePrototype = (RecordType.prototype =\n    Object.create(RecordPrototype));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (isRecord(other) && recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge$1;\nRecordPrototype.mergeWith = mergeWith$1;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep;\nRecordPrototype.mergeDeepWith = mergeDeepWith;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn;\nRecordPrototype.update = update;\nRecordPrototype.updateIn = updateIn;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function () {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function () {\n        return this.get(name);\n      },\n      set: function (value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq ) Repeat.__proto__ = IndexedSeq;\n  Repeat.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(function () { return i === size\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? size - ++i : i++, this$1$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  if (\n    typeof value !== 'string' &&\n    !isImmutable(value) &&\n    (isArrayLike(value) || hasIterator(value) || isPlainObject(value))\n  ) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      Seq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  // Effectively the opposite of \"Collection.toSeq()\"\n  return isIndexed(v) ? v.toList() : isKeyed(v) ? v.toMap() : v.toSet();\n}\n\nvar version = \"4.1.0\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isPlainObject: isPlainObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn$1,\n  has: has,\n  hasIn: hasIn$1,\n  merge: merge,\n  mergeDeep: mergeDeep$1,\n  mergeWith: mergeWith,\n  mergeDeepWith: mergeDeepWith$1,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn$1,\n  update: update$1,\n  updateIn: updateIn$1,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { Collection, Iterable, List, Map, OrderedMap, OrderedSet, Range, Record, Repeat, Seq, Set, Stack, fromJS, get, getIn$1 as getIn, has, hasIn$1 as hasIn, hash, is, isAssociative, isCollection, isImmutable, isIndexed, isKeyed, isList, isMap, isOrdered, isOrderedMap, isOrderedSet, isPlainObject, isRecord, isSeq, isSet, isStack, isValueObject, merge, mergeDeep$1 as mergeDeep, mergeDeepWith$1 as mergeDeepWith, mergeWith, remove, removeIn, set, setIn$1 as setIn, update$1 as update, updateIn$1 as updateIn, version };\n","import { useCallback, useReducer } from 'react'\nimport { Map } from 'immutable'\nimport { Reference } from '../../utils/synapseTypes'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\n\nexport function useEntitySelection(selectMultiple: boolean) {\n  /**\n   *\n   * @param entity The entity to check selected status\n   * @param selected the list of selected entities\n   * @returns a boolean array of length equal to entities.length denoting selection status\n   */\n  const isSelected = useCallback(\n    (entity: Reference, selected: Map<string, number>): boolean => {\n      const match = selected.get(entity.targetId)\n      if (match == null) {\n        return false\n      }\n      if (match === NO_VERSION_NUMBER) {\n        return entity.targetVersionNumber === undefined\n      }\n      return match === entity.targetVersionNumber\n    },\n    [],\n  )\n\n  /**\n   * Given the existing selections and a list of toggled references, return the new list of selections\n   * @param selected\n   * @param toggledReference\n   * @returns\n   */\n  const entitySelectionReducer = useCallback(\n    (\n      selected: Map<string, number>,\n      toggledReferences: Reference | Reference[],\n    ): Map<string, number> => {\n      const newSelected = selected.withMutations(map => {\n        // Note: we currently don't allow selecting two versions of the same entity, so we replace previous selected version with new selected version\n        if (!Array.isArray(toggledReferences)) {\n          toggledReferences = [toggledReferences]\n        }\n        toggledReferences.forEach(toggledReference => {\n          if (isSelected(toggledReference, selected)) {\n            // remove from selection\n            map.delete(toggledReference.targetId)\n          } else {\n            // add to selection\n            if (!selectMultiple) {\n              map.clear()\n            }\n            map.set(\n              toggledReference.targetId,\n              toggledReference.targetVersionNumber ?? NO_VERSION_NUMBER,\n            )\n          }\n        })\n      })\n\n      return newSelected\n    },\n    [isSelected, selectMultiple],\n  )\n\n  return useReducer(entitySelectionReducer, Map<string, number>())\n}\n","import pluralize from 'pluralize'\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Button, FormControl } from 'react-bootstrap'\nimport { useErrorHandler } from 'react-error-boundary'\nimport { ReflexContainer, ReflexElement, ReflexSplitter } from 'react-reflex'\nimport 'react-reflex/styles.css'\nimport { SizeMe } from 'react-sizeme'\nimport Arrow from '../../assets/icons/Arrow'\nimport { SynapseClient } from '../../utils'\nimport {\n  entityTypeToFriendlyName,\n  getEntityTypeFromHeader,\n} from '../../utils/functions/EntityTypeUtils'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../utils/functions/RegularExpressions'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { Reference } from '../../utils/synapseTypes'\nimport { EntityType } from '../../utils/synapseTypes/EntityType'\nimport { KeyValue } from '../../utils/synapseTypes/Search'\nimport { SynapseErrorBoundary } from '../ErrorBanner'\nimport IconSvg from '../IconSvg'\nimport { BreadcrumbItem, Breadcrumbs, BreadcrumbsProps } from './Breadcrumbs'\nimport {\n  EntityDetailsList,\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from './details/EntityDetailsList'\nimport { EntityFinderHeader } from './EntityFinderHeader'\nimport { SelectionPane } from './SelectionPane'\nimport { EntityTree, EntityTreeContainer, FinderScope } from './tree/EntityTree'\nimport { EntityTreeNodeType } from './tree/VirtualizedTree'\nimport { useEntitySelection } from './useEntitySelection'\n\nconst DEFAULT_SELECTABLE_TYPES = Object.values(EntityType)\nconst TABLE_DEFAULT_VISIBLE_TYPES = Object.values(EntityType)\nconst TREE_DEFAULT_VISIBLE_TYPES = [EntityType.PROJECT, EntityType.FOLDER]\n\n// In the map used to track selections, we use -1 to denote 'selected without version'\n// This is necessary because undefined is returned by map.get when the item is not in the map\nexport const NO_VERSION_NUMBER = -1\n\nconst searchForOnlyTypesBooleanQuery = (\n  entityTypes: EntityType[],\n): KeyValue[] => {\n  // Boolean query terms will be combined with AND, and there's no way to OR.\n  // So we will negate searching for all omitted types.\n  const allTypes = Object.values(EntityType)\n  const typesToOmit = allTypes.filter(type => !entityTypes.includes(type))\n  return typesToOmit.map(type => ({\n    key: 'node_type',\n    value: type.toString(),\n    not: true,\n  }))\n}\n\nexport type EntityFinderProps = {\n  /** Whether or not it is possible to select multiple entities */\n  selectMultiple: boolean\n  /** Callback invoked when the selection changes */\n  onSelectedChange: (selected: Reference[]) => void\n  /** The initial appearance of the entity finder. Possible values include \"Current Project\", \"All Projects\", \"Projects Created By Me\", \"My Favorites\" */\n  initialScope: FinderScope\n  /** The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be \"Current Project\" */\n  projectId?: string\n  /** The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId` */\n  initialContainer: string | 'root' | null\n  /** Whether or not versions may be specified when selecting applicable entities */\n  showVersionSelection?: boolean\n  /** For versionable entities, require the user to select a numbered version of an entity. This disallows selecting 'Always Latest Version'. Note that the latest version may still be mutable. Default true. */\n  mustSelectVersionNumber?: boolean\n  /** The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInList?: EntityType[]\n  /** The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search */\n  selectableTypes?: EntityType[]\n  /** The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInTree?: EntityType[]\n  /** The text to show before the list of selected entities */\n  selectedCopy?: string | ((count: number) => string)\n  /** Whether to show only the tree. If `true`, the tree will be used to make selections */\n  treeOnly?: boolean\n  /** Text shown for the latest version, if selectable by the user. Defaults to \"Always Latest Version\" */\n  latestVersionText?: string\n}\n\nexport const EntityFinder: React.FunctionComponent<EntityFinderProps> = ({\n  initialScope,\n  projectId,\n  initialContainer = null,\n  selectMultiple,\n  onSelectedChange,\n  showVersionSelection = true,\n  mustSelectVersionNumber = false,\n  selectableTypes = DEFAULT_SELECTABLE_TYPES,\n  visibleTypesInList = TABLE_DEFAULT_VISIBLE_TYPES,\n  visibleTypesInTree = TREE_DEFAULT_VISIBLE_TYPES,\n  selectedCopy = selectMultiple ? count => `Selected (${count})` : 'Selected',\n  treeOnly = false,\n  latestVersionText,\n}: EntityFinderProps) => {\n  const { accessToken } = useSynapseContext()\n\n  const [searchActive, setSearchActive] = useState(false)\n  // The raw value of the search input box:\n  const [searchInput, setSearchInput] = useState<string>()\n  // The \"parsed\" search terms, which are only calculated when Enter is pressed:\n  const [searchTerms, setSearchTerms] = useState<string[]>()\n  const [breadcrumbsProps, setBreadcrumbsProps] = useState<BreadcrumbsProps>({\n    items: [],\n  })\n  const [searchByIdResults, setSearchByIdResults] = useState<\n    EntityFinderHeader[]\n  >([])\n  const [configFromTreeView, setConfigFromTreeView] =\n    useState<EntityDetailsListDataConfiguration>({\n      type: EntityDetailsListDataConfigurationType.PROMPT,\n    })\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  // If a type is selectable, it should be visible in the tree/list (depending on treeOnly)\n  const selectableAndVisibleTypesInTree = useMemo(\n    () => [...visibleTypesInTree, ...selectableTypes],\n    [visibleTypesInTree, selectableTypes],\n  )\n  const selectableAndVisibleTypesInList = useMemo(\n    () => [...visibleTypesInList, ...selectableTypes],\n    [visibleTypesInList, selectableTypes],\n  )\n\n  // For dual-pane, this state variable indicates which container is selected in the tree view and should be shown in the table view\n  const [currentContainer, setCurrentContainer] =\n    useState<EntityTreeContainer>(initialContainer)\n\n  const handleError = useErrorHandler()\n\n  const setBreadcrumbs = useCallback(\n    (items: BreadcrumbItem[]) => {\n      setBreadcrumbsProps({\n        items,\n      })\n    },\n    [setBreadcrumbsProps],\n  )\n\n  const [selectedEntities, toggleSelection] = useEntitySelection(selectMultiple)\n\n  const isIdSelected = useCallback(\n    (entity: EntityFinderHeader) => {\n      return selectedEntities.has(entity.id)\n    },\n    [selectedEntities],\n  )\n\n  const isSelectable = useCallback(\n    (entity: EntityFinderHeader) => {\n      const type = getEntityTypeFromHeader(entity)\n      return selectableTypes.includes(type)\n    },\n    [selectableTypes],\n  )\n\n  useEffect(() => {\n    // When it changes, convert the map of selected items to a list of references and invoke the callback\n    onSelectedChange(\n      selectedEntities.toArray().map(([id, version]) => {\n        return {\n          targetId: id,\n          targetVersionNumber:\n            version === NO_VERSION_NUMBER ? undefined : version,\n        }\n      }),\n    )\n  }, [selectedEntities, onSelectedChange])\n\n  useEffect(() => {\n    if (searchTerms?.length === 1) {\n      const synIdMatch = SYNAPSE_ENTITY_ID_REGEX.exec(searchTerms[0])\n      if (synIdMatch) {\n        SynapseClient.getEntityHeaders(\n          [\n            {\n              targetId: synIdMatch[1],\n              targetVersionNumber: synIdMatch[2]\n                ? parseInt(synIdMatch[2])\n                : undefined,\n            },\n          ],\n          accessToken,\n        )\n          .then(response => {\n            setSearchByIdResults(response.results)\n          })\n          .catch(e => handleError(e))\n      }\n    } else {\n      setSearchByIdResults([])\n    }\n  }, [accessToken, searchTerms, handleError])\n\n  const mainPanelClass = searchActive\n    ? 'MainPanelSearch'\n    : treeOnly\n    ? 'MainPanelSinglePane'\n    : 'MainPanelDualPane'\n\n  let searchButtonText\n  const tableArray = [\n    'table',\n    'entityview',\n    'materializedview',\n    'submissionview',\n    'dataset',\n    'datasetcollection',\n  ]\n  if (selectableTypes.length === 1) {\n    searchButtonText = `Search for ${pluralize(\n      entityTypeToFriendlyName(selectableTypes[0]),\n    )}`\n  } else if (selectableTypes.every(element => tableArray.includes(element))) {\n    searchButtonText = 'Search for Tables'\n  } else {\n    searchButtonText = 'Search all of Synapse'\n  }\n\n  return (\n    <SynapseErrorBoundary>\n      <div className=\"bootstrap-4-backport EntityFinder\">\n        <div className=\"EntityFinder__Search\" data-active={searchActive}>\n          <>\n            {searchActive ? (\n              <Button\n                variant=\"gray-primary-500\"\n                onClick={() => {\n                  setSearchActive(false)\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <Arrow arrowDirection=\"left\" style={{ height: '16px' }} />\n                Back to Browse\n              </Button>\n            ) : (\n              <Button\n                variant=\"sds-primary\"\n                className=\"EntityFinder__Search__SearchButton\"\n                onClick={() => {\n                  setSearchActive(true)\n                  searchInputRef!.current!.focus()\n                }}\n              >\n                <IconSvg options={{ icon: 'search' }} />\n                {searchButtonText}\n              </Button>\n            )}\n            <span className=\"SearchIcon\">\n              <IconSvg options={{ icon: 'search' }} />\n            </span>\n            <FormControl\n              role=\"textbox\"\n              ref={searchInputRef}\n              aria-hidden={!searchActive}\n              className=\"EntityFinder__Search__Input\"\n              type=\"search\"\n              placeholder=\"Search by name, Wiki contents, or Synapse ID\"\n              value={searchInput}\n              onChange={event => {\n                setSearchInput(event.target.value)\n              }}\n              onKeyDown={(event: any) => {\n                if (event.key === 'Enter') {\n                  if (event.target.value === '') {\n                    setSearchTerms(undefined)\n                  } else {\n                    setSearchTerms(event.target.value.trim().split(' '))\n                  }\n                }\n              }}\n            />\n            {searchInput && (\n              <span\n                className=\"ClearSearchIcon\"\n                onClick={() => {\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n              >\n                <IconSvg options={{ icon: 'close', label: 'Clear Search' }} />\n              </span>\n            )}\n          </>\n        </div>\n        <div className={`EntityFinder__MainPanel ${mainPanelClass}`}>\n          {/* We have a separate Details component for search in order to preserve state in the other component between searches */}\n          {searchActive && (\n            <EntityDetailsList\n              configuration={\n                searchByIdResults && searchByIdResults.length > 0\n                  ? {\n                      type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n                      headerList: searchByIdResults,\n                    }\n                  : {\n                      type: EntityDetailsListDataConfigurationType.ENTITY_SEARCH,\n                      query: {\n                        queryTerm: searchTerms,\n                        booleanQuery:\n                          searchForOnlyTypesBooleanQuery(selectableTypes),\n                      },\n                    }\n              }\n              showVersionSelection={showVersionSelection}\n              mustSelectVersionNumber={mustSelectVersionNumber}\n              selectColumnType={selectMultiple ? 'checkbox' : 'none'}\n              selected={selectedEntities}\n              isIdSelected={isIdSelected}\n              isSelectable={isSelectable}\n              visibleTypes={selectableTypes}\n              selectableTypes={selectableTypes}\n              toggleSelection={toggleSelection}\n              enableSelectAll={selectMultiple}\n              latestVersionText={latestVersionText}\n              // Intentionally do not pass \"setCurrentContainer\" -- search does not use the tree so it has nothing to update\n              setCurrentContainer={undefined}\n            />\n          )}\n          {\n            <div style={searchActive ? { display: 'none' } : {}}>\n              {treeOnly ? (\n                <div>\n                  <EntityTree\n                    toggleSelection={toggleSelection}\n                    showDropdown={true}\n                    visibleTypes={selectableAndVisibleTypesInTree}\n                    initialScope={initialScope}\n                    selectedEntities={selectedEntities}\n                    projectId={projectId}\n                    initialContainer={initialContainer}\n                    currentContainer={currentContainer}\n                    setCurrentContainer={setCurrentContainer}\n                    showScopeAsRootNode={false}\n                    treeNodeType={EntityTreeNodeType.SINGLE_PANE}\n                    selectableTypes={selectableTypes}\n                  />\n                </div>\n              ) : (\n                <div className=\"EntityFinderReflexContainer\">\n                  <SizeMe>\n                    {({ size }) => (\n                      <ReflexContainer\n                        key={(!!size.width).toString()}\n                        orientation=\"vertical\"\n                        windowResizeAware\n                      >\n                        <ReflexElement\n                          className=\"TreeViewReflexElement\"\n                          flex={0.24}\n                        >\n                          <EntityTree\n                            selectedEntities={selectedEntities}\n                            setDetailsViewConfiguration={setConfigFromTreeView}\n                            showDropdown={true}\n                            visibleTypes={visibleTypesInTree}\n                            initialScope={initialScope}\n                            projectId={projectId}\n                            initialContainer={initialContainer}\n                            currentContainer={currentContainer}\n                            setCurrentContainer={setCurrentContainer}\n                            treeNodeType={EntityTreeNodeType.DUAL_PANE}\n                            setBreadcrumbItems={setBreadcrumbs}\n                            selectableTypes={visibleTypesInTree}\n                          />\n                        </ReflexElement>\n                        <ReflexSplitter></ReflexSplitter>\n                        <ReflexElement className=\"DetailsViewReflexElement\">\n                          <EntityDetailsList\n                            configuration={configFromTreeView}\n                            mustSelectVersionNumber={mustSelectVersionNumber}\n                            showVersionSelection={showVersionSelection}\n                            selected={selectedEntities}\n                            isIdSelected={isIdSelected}\n                            isSelectable={isSelectable}\n                            visibleTypes={selectableAndVisibleTypesInList}\n                            selectableTypes={selectableTypes}\n                            selectColumnType={\n                              selectMultiple ? 'checkbox' : 'none'\n                            }\n                            toggleSelection={toggleSelection}\n                            enableSelectAll={selectMultiple}\n                            latestVersionText={latestVersionText}\n                            setCurrentContainer={setCurrentContainer}\n                          />\n                          <Breadcrumbs {...breadcrumbsProps} />\n                        </ReflexElement>\n                      </ReflexContainer>\n                    )}\n                  </SizeMe>\n                </div>\n              )}\n            </div>\n          }\n        </div>\n\n        {selectedEntities.size > 0 && (\n          <SelectionPane\n            title={selectedCopy}\n            selectedEntities={selectedEntities}\n            toggleSelection={toggleSelection}\n          />\n        )}\n      </div>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default EntityFinder\n"],"names":["React","SynapseClient.searchEntities","SynapseClient.getMyProjects","defineProperty","_objectSpread","_extends","global","now","debounce","throttle","getWindowOf","getContentRect","ResizeObserver","createElement","items","_jsxs","_jsx","_Fragment","event","item","name","useEffect","useState","getScrollbarSize","PureComponent","ownKeys","_excluded","memoize","Header","_excluded2","toString","noop","defaultGetScrollbarSize","ANONYMOUS_PRINCIPAL_ID","entityId","versionNumber","canOpenModal","NO_SCHEMA","VALID","INVALID","ANNOTATIONS_MISSING","ref","inView","bundle","isInExperimentalMode","boundSchema","schemaValidationResults","setSchemaConformance","unlinkEntity","onUnlink","onUnlinkError","schemaName","flexWrap","justifyContent","showModal","ANNOTATIONS","annotationsHtml","schemaConformance","undefined","showUnlinkConfirmModal","setShowUnlinkConfirmModal","className","sortOrder","cellData","moment","isLoading","props","modifiedOn","createdOn","entity","entityBundle","isLoadingBundle","project","isLoadingProjectEntity","SMALL_USER_CARD","modifiedBy","rowData","isSelected","isDisabled","noResultsPlaceholder","toggleSelection","versionData","isError","fetchNextPage","isFetchingNextPage","hasNextPage","version","mustSelectVersionNumber","latestVersionText","id","isVersionableEntity","currentSelectedVersion","NO_VERSION_NUMBER","setSelected","error","message","useCallback","entities","showVersionSelection","selectColumnType","selected","visibleTypes","selectableTypes","sort","setSort","enableSelectAll","getChildrenInfiniteRequestObject","totalEntities","setCurrentContainer","accessToken","queryClient","setShowLoadingScreen","setShouldSelectAll","selectedVersion","latestVersion","handleSelectAll","entityType","useMemo","selectAllIsChecked","isEnabled","e","sortState","showLoadingScreen","length","cancelQuery","height","width","tableData","MIN_TABLE_WIDTH","ROW_HEIGHT","rowIndex","CustomSortIndicator","key","order","SelectAllCheckboxRenderer","DetailsViewCheckboxRenderer","TypeIconRenderer","NameRenderer","BadgeIconsRenderer","CreatedOnRenderer","ModifiedOnRenderer","ModifiedByRenderer","parentContainerId","sharedProps","sortBy","sortDirection","data","setSortBy","setSortDirection","selectAllCheckboxState","projectHeader","projectsParams","toEntityHeader","projects","created_by","modified_by","searchQuery","queryTerm","HEADER_LIST","PARENT_CONTAINER","USER_PROJECTS","USER_FAVORITES","ENTITY_SEARCH","PROMPT","EntityDetailsListDataConfigurationType","configuration","useDeepCompareEffect","setComponent","type","headerList","query","getProjectParams","console","component","title","selectedEntities","setEntityName","setFullPath","setDisplayedPath","entityName","TOOLTIP_DELAY_SHOW","Row","_ref","index","_ref$data","Node","getRecordData","treeData","style","isScrolling","Object","assign","generateNewTree","_ref2","_ref3","state","createRecord","buildingTaskTimeout","placeholder","_ref3$async","async","treeWalker","shouldPreservePreviousState","records","previousRecords","Map","requestIdleCallbackOptions","timeout","meta","WeakMap","iter","_iter$next","next","root","value","rootRecord","get","set","public","currentRecord","isTraversingRoot","tempRecord","useIdleCallback","hasTime","deadline","timeRemaining","task","requestIdleCallback","visited","sibling","parent","_iter$next2","child","isShown","push","childRecord","setState","updateRequest","MAX_FUNCTION_ARGUMENTS","SPLICE_DEFAULT_ARGUMENTS_NUMBER","updateExistingTree","_ref4","_ref5","opennessState","has","opts","ownerRecord","_ref6","open","_ref6$subtreeCallback","subtreeCallback","update","apply","indexOf","recordNextToSubtree","countToRemove","orderParts","record","isOpen","currentOrderPart","i","_ref7","splice","count","createTreeComputer","creatorOptions","options","refresh","Tree","_PureComponent","_inheritsLoose","getDerivedStateFromProps","_props$listRef","listRef","computeTree","list","oldTreeWalker","attachRefs","mergeRefs","context","_this","call","bind","_assertThisInitialized","createRef","recomputeTree","_proto","prototype","getItemData","_this$props","children","itemData","_this$state","_this2","Promise","resolve","prevState","scrollTo","scrollOffset","_this$state$list$curr","current","scrollToItem","align","_this$state$list$curr2","defaultProps","rowComponent","SINGLE_PANE","DUAL_PANE","EntityTreeNodeType","node","nestingLevel","getNextPageOfChildren","setSelectedId","treeNodeType","autoExpand","defaultHeight","currentContainer","isOpenByDefault","isLeaf","setOpen","setLoading","toggleExpand","nodeText","rootNode","childNode","paginationNode","paginationTreeWalkerValue","rootNodeConfiguration","setRootNode","SynapseClient.getEntityChildren","childrenNextPageToken","memoizedTreeWalker","CURRENT_PROJECT","ALL_PROJECTS","CREATED_BY_ME","FAVORITES","FinderScope","scope","projectId","setDetailsViewConfiguration","setBreadcrumbItems","projectData","isSuccessProjects","fetchNextPageProjects","hasNextPageProjects","isLoadingProjects","useProjectData","Infinity","currentContainerBundle","isSuccessBundle","setTopLevelEntities","setIsLoading","SynapseClient","results","handleError","setInitialContainerPath","detailsViewConfig","breadcrumbItems","topLevelEntities","showScopeAsRootNode","setScope","scopeOption","shouldAutoExpand","Set","initialScope","selectMultiple","onSelectedChange","DEFAULT_SELECTABLE_TYPES","TABLE_DEFAULT_VISIBLE_TYPES","TREE_DEFAULT_VISIBLE_TYPES","setBreadcrumbsProps","setSearchByIdResults","searchButtonText","searchActive","setSearchActive","setSearchInput","setSearchTerms","searchInputRef","searchInput","mainPanelClass","searchByIdResults","searchTerms","selectableAndVisibleTypesInTree","SizeMe","size","ReflexElement","setConfigFromTreeView","visibleTypesInTree","setBreadcrumbs","configFromTreeView","selectableAndVisibleTypesInList","breadcrumbsProps","selectedCopy"],"mappings":"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"}