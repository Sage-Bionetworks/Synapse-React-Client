{"version":3,"file":"useWaitForDOMRef.37941199.js","sources":["../../node_modules/@restart/hooks/esm/useMounted.js","../../node_modules/@restart/hooks/esm/useCallbackRef.js","../../node_modules/dom-helpers/esm/contains.js","../../node_modules/react-overlays/esm/useWaitForDOMRef.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\n\nexport default function useMounted() {\n  var mounted = useRef(true);\n  var isMounted = useRef(function () {\n    return mounted.current;\n  });\n  useEffect(function () {\n    mounted.current = true;\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}","import { useState } from 'react';\n/**\n * A convenience hook around `useState` designed to be paired with\n * the component [callback ref](https://reactjs.org/docs/refs-and-the-dom.html#callback-refs) api.\n * Callback refs are useful over `useRef()` when you need to respond to the ref being set\n * instead of lazily accessing it in an effect.\n *\n * ```ts\n * const [element, attachRef] = useCallbackRef<HTMLDivElement>()\n *\n * useEffect(() => {\n *   if (!element) return\n *\n *   const calendar = new FullCalendar.Calendar(element)\n *\n *   return () => {\n *     calendar.destroy()\n *   }\n * }, [element])\n *\n * return <div ref={attachRef} />\n * ```\n *\n * @category refs\n */\n\nexport default function useCallbackRef() {\n  return useState(null);\n}","/* eslint-disable no-bitwise, no-cond-assign */\n\n/**\n * Checks if an element contains another given element.\n * \n * @param context the context element\n * @param node the element to check\n */\nexport default function contains(context, node) {\n  // HTML DOM and SVG DOM may have different support levels,\n  // so we need to check on context instead of a document root element.\n  if (context.contains) return context.contains(node);\n  if (context.compareDocumentPosition) return context === node || !!(context.compareDocumentPosition(node) & 16);\n}","import ownerDocument from 'dom-helpers/ownerDocument';\nimport { useState, useEffect } from 'react';\nexport var resolveContainerRef = function resolveContainerRef(ref) {\n  var _ref;\n\n  if (typeof document === 'undefined') return null;\n  if (ref == null) return ownerDocument().body;\n  if (typeof ref === 'function') ref = ref();\n  if (ref && 'current' in ref) ref = ref.current;\n  if ((_ref = ref) != null && _ref.nodeType) return ref || null;\n  return null;\n};\nexport default function useWaitForDOMRef(ref, onResolved) {\n  var _useState = useState(function () {\n    return resolveContainerRef(ref);\n  }),\n      resolvedRef = _useState[0],\n      setRef = _useState[1];\n\n  if (!resolvedRef) {\n    var earlyRef = resolveContainerRef(ref);\n    if (earlyRef) setRef(earlyRef);\n  }\n\n  useEffect(function () {\n    if (onResolved && resolvedRef) {\n      onResolved(resolvedRef);\n    }\n  }, [onResolved, resolvedRef]);\n  useEffect(function () {\n    var nextRef = resolveContainerRef(ref);\n\n    if (nextRef !== resolvedRef) {\n      setRef(nextRef);\n    }\n  }, [ref, resolvedRef]);\n  return resolvedRef;\n}"],"names":["useEffect","useState"],"mappings":"wCAAA,KAAA,GAAA,OAAA,MAAA,gCAsBe,YAAsB,CACnC,GAAI,GAAU,EAAO,EAAI,EACrB,EAAY,EAAO,UAAY,CACjC,MAAO,GAAQ,OACnB,CAAG,EACDA,SAAU,UAAY,CACpB,SAAQ,QAAU,GACX,UAAY,CACjB,EAAQ,QAAU,EACxB,CACG,EAAE,CAAE,CAAA,EACE,EAAU,OACnB,CClCA,KAAAC,GAAA,OAAA,MAAA,SA0Be,YAA0B,CACvC,MAAOA,GAAS,IAAI,CACtB,CCpBe,WAAkB,EAAS,EAAM,CAG9C,GAAI,EAAQ,SAAU,MAAO,GAAQ,SAAS,CAAI,EAClD,GAAI,EAAQ,wBAAyB,MAAO,KAAY,GAAQ,CAAC,CAAE,GAAQ,wBAAwB,CAAI,EAAI,GAC7G,CCZA,KAAA,GAAA,OAAA,MAAA,kCACO,GAAI,GAAsB,SAA6B,EAAK,CACjE,GAAI,GAEJ,MAAI,OAAO,WAAa,YAAoB,KACxC,GAAO,KAAa,EAAa,EAAG,KACpC,OAAO,IAAQ,YAAY,GAAM,EAAG,GACpC,GAAO,WAAa,IAAK,GAAM,EAAI,SAClC,GAAO,IAAQ,MAAQ,EAAK,UAAiB,GAAO,KAE3D,EACe,WAA0B,EAAK,EAAY,CACxD,GAAI,GAAY,EAAS,UAAY,CACnC,MAAO,GAAoB,CAAG,CAClC,CAAG,EACG,EAAc,EAAU,GACxB,EAAS,EAAU,GAEvB,GAAI,CAAC,EAAa,CAChB,GAAI,GAAW,EAAoB,CAAG,EACtC,AAAI,GAAU,EAAO,CAAQ,CAC9B,CAED,SAAU,UAAY,CACpB,AAAI,GAAc,GAChB,EAAW,CAAW,CAE5B,EAAK,CAAC,EAAY,CAAW,CAAC,EAC5B,EAAU,UAAY,CACpB,GAAI,GAAU,EAAoB,CAAG,EAErC,AAAI,IAAY,GACd,EAAO,CAAO,CAEpB,EAAK,CAAC,EAAK,CAAW,CAAC,EACd,CACT"}