{"version":3,"file":"react-select.esm.28f0ee2f.js","sources":["../../node_modules/react-select/async/dist/react-select.esm.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { _ as _createSuper, H as handleInputChange, a as _objectSpread2 } from '../../dist/index-4bd03571.esm.js';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport React, { Component } from 'react';\nimport { S as Select } from '../../dist/Select-dbb12e54.esm.js';\nimport { m as manageState } from '../../dist/stateManager-845a3300.esm.js';\nimport '@emotion/react';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport '@babel/runtime/helpers/typeof';\nimport 'react-input-autosize';\nimport 'react-dom';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'memoize-one';\n\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null,\n  isLoading: false\n};\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(Async, _Component);\n\n    var _super = _createSuper(Async);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _super.call(this);\n      _this.select = void 0;\n      _this.lastRequest = void 0;\n      _this.mounted = false;\n\n      _this.handleInputChange = function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.state.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.state.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState(function (state) {\n                return {\n                  isLoading: false,\n                  loadedInputValue: inputValue,\n                  loadedOptions: options || [],\n                  passEmptyOptions: false,\n                  optionsCache: options ? _objectSpread2(_objectSpread2({}, state.optionsCache), {}, _defineProperty({}, inputValue, options)) : state.optionsCache\n                };\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      };\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false,\n        optionsCache: {},\n        prevDefaultOptions: undefined,\n        prevCacheOptions: undefined\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props;\n            _this$props2.loadOptions;\n            var isLoadingProp = _this$props2.isLoading,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\", \"isLoading\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return /*#__PURE__*/React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading || isLoadingProp,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        var newCacheOptionsState = props.cacheOptions !== state.prevCacheOptions ? {\n          prevCacheOptions: props.cacheOptions,\n          optionsCache: {}\n        } : {};\n        var newDefaultOptionsState = props.defaultOptions !== state.prevDefaultOptions ? {\n          prevDefaultOptions: props.defaultOptions,\n          defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined\n        } : {};\n        return _objectSpread2(_objectSpread2({}, newCacheOptionsState), newDefaultOptionsState);\n      }\n    }]);\n\n    return Async;\n  }(Component), _class.defaultProps = defaultProps, _temp;\n};\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\n\nexport default Async;\nexport { defaultProps, makeAsyncSelect };\n"],"names":["defaultProps","cacheOptions","defaultOptions","filterOption","isLoading","makeAsyncSelect","SelectComponent","_class","_temp","_Component","_inherits","Async","_super","_createSuper","props","_this","_classCallCheck","call","select","lastRequest","mounted","handleInputChange","newValue","actionMeta","_this$props","onInputChange","inputValue","setState","loadedInputValue","loadedOptions","passEmptyOptions","state","optionsCache","request","loadOptions","options","_objectSpread2","_defineProperty","Array","isArray","undefined","prevDefaultOptions","prevCacheOptions","_createClass","key","value","_this2","focus","blur","callback","loader","then","_this3","_this$props2","isLoadingProp","_objectWithoutProperties","_this$state","_jsx","_ref","newCacheOptionsState","newDefaultOptionsState","Component","SelectState","manageState","Select"],"mappings":"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"}