import{u as it,L as As,b as Ns,H as Ms,c as Vs,p as Ls}from"./CardContainerLogic.a44526c0.js";import{j as m,R as K,r as C,a as L,F as Q}from"./jsx-runtime.31268528.js";import{V as ct,bV as Hs,bW as Ps,E as Ye,aw as Go,bX as Xo,ao as qs,bM as Ie,a7 as Ki,bY as Qo,a$ as ks,bZ as Fs,a8 as Jo,Z as js,a9 as Zo,aZ as Ws,b_ as Bs,b$ as Ks,a6 as Us,_ as $s,bN as Ys}from"./index.22d2125e.js";import{p as h}from"./index.35ce73ec.js";import{c as _r}from"./iframe.c7567c2d.js";import{r as Gs}from"./react-sizeme.631dea86.js";import{A as Xs}from"./Arrow.ad0fc4a0.js";import{S as Qs,p as Js}from"./RegularExpressions.3cd69849.js";import{P as Zs,I as Bt}from"./IconSvg.1a319e23.js";import{u as el}from"./use-deep-compare-effect.esm.b33b0620.js";import{D as Ln,S as xr}from"./EntityChildren.50133102.js";import{c as Ke,B as Ui}from"./Button.3eb9449f.js";import{m as he}from"./Select-54ac8379.esm.73afc0b0.js";import{S as ri,B as tl}from"./LoadingScreen.f5aeb847.js";import{C as ni}from"./Checkbox.b2ac944e.js";import{E as ii}from"./EntityIcon.69a6cf7b.js";import{T as rl}from"./SynapseTableConstants.07ecdebd.js";import{T as Hn}from"./Typography.7deb443e.js";import{T as Pe,C as nl}from"./Tooltip.5176c19c.js";import{S as dt}from"./Skeleton.855acef4.js";import{u as ea}from"./useInfiniteQuery.c6eed216.js";import{h as ta,ap as il,aq as ol,ar as al,i as sl}from"./SynapseConstants.290eab74.js";import{d as ra}from"./dayjs.min.fa03b112.js";import{u as na}from"./react-intersection-observer.esm.12900737.js";import{f as ia}from"./DateFormatter.5cb85eed.js";import{a as ll,u as oa,b as aa}from"./useEntity.e61a2fe2.js";import{u as ul,a as cl}from"./SchemaDrivenAnnotationEditor.68fa8360.js";import{E as dl,a as hl}from"./EntityModal.e77399bf.js";import{W as fl}from"./WarningModal.0aedfe85.js";import{i as pl}from"./isEmpty.7ec601bf.js";import{c as an}from"./createSvgIcon.f7c19e7b.js";import{U as ml,b as _l}from"./UserCard.0f3fab61.js";import{c as gl}from"./cloneDeep.edfd3e7e.js";import{D as gr}from"./Dropdown.8938a9f4.js";import{b as yl}from"./isArray.e45ce668.js";import{S as vl}from"./Sort.d188dacc.js";import{E as sa}from"./EntityLink.fd06899a.js";import{u as Sl}from"./useFavorites.63c09acf.js";const wl=an([m("path",{d:"m4 18 2-2h14V4H4z",opacity:".3"},"0"),m("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"},"1")],"ChatBubbleTwoTone"),bl=an([m("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"},"0"),m("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"},"1")],"DescriptionTwoTone"),Rl=an(m("path",{d:"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"}),"LinkOffTwoTone"),xl=an([m("path",{d:"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z",opacity:".3"},"0"),m("path",{d:"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z"},"1"),m("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"2")],"LocalOfferTwoTone");function El(t,e){const{accessToken:n}=ct();return ea(["search",n,t],async i=>Hs({...t,start:i.pageParam},n),{...e,getNextPageParam:i=>i.start+i.hits.length===i.found?null:i.start+i.hits.length})}function la(t,e){const{accessToken:n}=ct();return ea(["myProjects",n,t],async i=>await Ps(n,{...t,nextPageToken:i.pageParam}),{...e,getNextPageParam:i=>i.nextPageToken})}function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),i.forEach(function(r){te(t,r,n[r])})}return t}class W{static isBrowser(){return typeof window<"u"}static isOpera(){return W.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}static isFirefox(){return W.isBrowser()&&typeof InstallTrigger<"u"}static isSafari(){return W.isBrowser()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}static isIE(){return W.isBrowser()&&!!document.documentMode}static isEdge(){return W.isBrowser()&&!W.isIE()&&!!window.StyleMedia}static isChrome(){return W.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}static isBlink(){return W.isBrowser()&&(W.isChrome()||W.isOpera())&&!!window.CSS}static getUserAgent(){return typeof navigator>"u"?"":navigator.userAgent}static isAndroid(){return W.isBrowser()&&W.getUserAgent().match(/Android/i)}static isBlackBerry(){return W.isBrowser()&&W.getUserAgent().match(/BlackBerry/i)}static isIOS(){return W.isBrowser()&&W.getUserAgent().match(/iPhone|iPad|iPod/i)}static isOpera(){return W.isBrowser()&&W.getUserAgent().match(/Opera Mini/i)}static isWindows(){return W.isBrowser()&&W.isWindowsDesktop()||W.isWindowsMobile()}static isWindowsMobile(){return W.isBrowser()&&W.getUserAgent().match(/IEMobile/i)}static isWindowsDesktop(){return W.isBrowser()&&W.getUserAgent().match(/WPDesktop/i)}static isMobile(){return W.isBrowser()&&(W.isWindowsMobile()||W.isBlackBerry()||W.isAndroid()||W.isIOS())}}const sn=t=>Object.keys(t).reduce((e,n)=>n.substr(0,5)==="data-"?$e({},e,{[n]:t[n]}):e,{});class we extends K.Component{static isA(e){return e?e.type===we:!1}constructor(e){super(e),te(this,"ref",K.createRef()),te(this,"onMouseMove",n=>{if(this.state.active){const i=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:i,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:i}),n.stopPropagation(),n.preventDefault()}}),te(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),te(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=e.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[W.isMobile()?"reflex-thin":"",...this.props.className.split(" "),this.state.active?"active":"","reflex-splitter"].join(" ").trim();return m("div",{...sn(this.props),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref,children:this.props.children})}}te(we,"propTypes",{children:h.exports.oneOfType([h.exports.arrayOf(h.exports.node),h.exports.node]),onStartResize:h.exports.func,onStopResize:h.exports.func,className:h.exports.string,propagate:h.exports.bool,onResize:h.exports.func,style:h.exports.object});te(we,"defaultProps",{document:typeof document<"u"?document:null,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});class Tl{constructor(){this._events={}}on(e,n){return e.split(" ").forEach(i=>{this._events[i]=this._events[i]||[],this._events[i].push(n)}),this}off(e,n){if(e==null){this._events={};return}return e.split(" ").forEach(i=>{i in this._events&&(n?this._events[i].splice(this._events[i].indexOf(n),1):this._events[i]=[])}),this}emit(e){if(this._events[e]!==void 0)for(var n=this._events[e].slice(),i=0;i<n.length;++i){var r=n[i].apply(this,Array.prototype.slice.call(arguments,1));if(r!==void 0)return r}}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(i===0)return!1;var r=e|0,o=Math.max(r>=0?r:i-Math.abs(r),0);function a(s,l){return s===l||typeof s=="number"&&typeof l=="number"&&isNaN(s)&&isNaN(l)}for(;o<i;){if(a(n[o],t))return!0;o++}return!1}});Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t});class oi extends K.Component{constructor(e){super(e),te(this,"onWindowResize",()=>{this.setState({flexData:this.computeFlexData()})}),te(this,"onStartResize",n=>{const i=n.event.changedTouches?n.event.changedTouches[0]:n.event;switch(this.props.orientation){case"horizontal":document.body.classList.add("reflex-row-resize"),this.previousPos=i.clientY;break;case"vertical":default:document.body.classList.add("reflex-col-resize"),this.previousPos=i.clientX;break}this.elements=[this.children[n.index-1],this.children[n.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}),te(this,"onResize",n=>{const i=n.event.changedTouches?n.event.changedTouches[0]:n.event,r=this.getOffset(i,n.domElement);switch(this.props.orientation){case"horizontal":this.previousPos=i.clientY;break;case"vertical":default:this.previousPos=i.clientX;break}if(r){const o=this.computeAvailableOffset(n.index,r);o&&(this.elements=this.dispatchOffset(n.index,o),this.adjustFlex(this.elements),this.setState({resizing:!0},()=>{this.emitElementsEvent(this.elements,"onResize")}))}}),te(this,"onStopResize",n=>{document.body.classList.remove("reflex-row-resize"),document.body.classList.remove("reflex-col-resize");const i=this.elements?this.elements.map(o=>o.ref):[],r=this.children.filter(o=>!we.isA(o)&&i.includes(o.ref));this.emitElementsEvent(r,"onStopResize"),this.setState({resizing:!1})}),te(this,"onElementSize",n=>new Promise(i=>{try{const r=n.index,o=this.getSize(this.children[r]),a=n.size-o,s=n.direction,l=r+s,u=this.computeAvailableOffset(l,s*a);this.elements=null,u&&(this.elements=this.dispatchOffset(l,u),this.adjustFlex(this.elements)),this.setState(this.state,()=>{this.emitElementsEvent(this.elements,"onResize"),i()})}catch(r){console.log(r)}})),this.events=new Tl,this.children=[],this.state={flexData:[]},this.ref=K.createRef()}componentDidMount(){const e=this.computeFlexData(),{windowResizeAware:n}=this.props;n&&window.addEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:n,flexData:e}),this.events.on("element.size",this.onElementSize),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize)}componentWillUnmount(){this.events.off(),window.removeEventListener("resize",this.onWindowResize)}getValidChildren(e=this.props){return this.toArray(e.children).filter(n=>!!n)}componentDidUpdate(e,n){const i=this.getValidChildren(this.props);if(i.length!==this.state.flexData.length||e.orientation!==this.props.orientation||this.flexHasChanged(e)){const r=this.computeFlexData(i,this.props);this.setState({flexData:r})}this.props.windowResizeAware!==this.state.windowResizeAware&&(this.props.windowResizeAware?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:this.props.windowResizeAware}))}flexHasChanged(e){const n=this.getValidChildren(e).map(r=>r.props.flex||0);return!this.getValidChildren().map(r=>r.props.flex||0).every((r,o)=>r===n[o])}getSize(e){const n=e.ref.current;switch(this.props.orientation){case"horizontal":return n.offsetHeight;case"vertical":default:return n.offsetWidth}}getOffset(e,n){const{top:i,bottom:r,left:o,right:a}=n.getBoundingClientRect();switch(this.props.orientation){case"horizontal":{const s=e.clientY-this.previousPos;if(s>0){if(e.clientY>=i)return s}else if(e.clientY<=r)return s;break}case"vertical":default:{const s=e.clientX-this.previousPos;if(s>0){if(e.clientX>o)return s}else if(e.clientX<a)return s}break}return 0}adjustFlex(e){const n=e.reduce((i,r)=>{const o=r.props.index,a=r.props.flex,s=this.state.flexData[o].flex;return i+(a-s)/e.length},0);e.forEach(i=>{this.state.flexData[i.props.index].flex+=n})}computeAvailableOffset(e,n){const i=this.computeAvailableStretch(e,n),r=this.computeAvailableShrink(e,n);return Math.min(i,r)*Math.sign(n)}checkPropagate(e,n){if(n>0){if(e<this.children.length-2){const i=this.children[e+2];return we.isA(i)&&i.props.propagate}}else if(e>2){const i=this.children[e-2];return we.isA(i)&&i.props.propagate}return!1}computeAvailableStretch(e,n){const i=n<0?e+1:e-1,r=this.children[i],o=this.getSize(r),s=r.props.maxSize-o;if(s<Math.abs(n)&&this.checkPropagate(e,-1*n)){const l=Math.sign(n)*(Math.abs(n)-s);return s+this.computeAvailableStretch(n<0?e+2:e-2,l)}return Math.min(s,Math.abs(n))}computeAvailableShrink(e,n){const i=n>0?e+1:e-1,r=this.children[i],o=this.getSize(r),a=Math.max(r.props.minSize,0),s=o-a;if(s<Math.abs(n)&&this.checkPropagate(e,n)){const l=Math.sign(n)*(Math.abs(n)-s);return s+this.computeAvailableShrink(n>0?e+2:e-2,l)}return Math.min(s,Math.abs(n))}computePixelFlex(e=this.props.orientation){if(!this.ref.current)return console.warn("Unable to locate ReflexContainer dom node"),0;switch(e){case"horizontal":return this.ref.current.offsetHeight===0?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetHeight;case"vertical":default:return this.ref.current.offsetWidth===0?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetWidth}}addOffset(e,n){const i=this.getSize(e),r=e.props.index,o=Math.max(i+n,0),a=this.state.flexData[r].flex,s=a>0?a*o/i:this.computePixelFlex()*o;this.state.flexData[r].flex=!isFinite(s)||isNaN(s)?0:s}dispatchStretch(e,n){const i=n<0?e+1:e-1;if(i<0||i>this.children.length-1)return[];const r=this.children[i],o=this.getSize(r),s=Math.min(r.props.maxSize,o+Math.abs(n))-o;if(this.addOffset(r,s),s<Math.abs(n)){const l=e-Math.sign(n)*2,u=Math.sign(n)*(Math.abs(n)-s);return[r,...this.dispatchStretch(l,u)]}return[r]}dispatchShrink(e,n){const i=n>0?e+1:e-1;if(i<0||i>this.children.length-1)return[];const r=this.children[i],o=this.getSize(r),s=Math.max(r.props.minSize,o-Math.abs(n))-o;if(this.addOffset(r,s),Math.abs(s)<Math.abs(n)){const l=e+Math.sign(n)*2,u=Math.sign(n)*(Math.abs(n)+s);return[r,...this.dispatchShrink(l,u)]}return[r]}dispatchOffset(e,n){return[...this.dispatchStretch(e,n),...this.dispatchShrink(e,n)]}emitElementsEvent(e,n){this.toArray(e).forEach(i=>{i.props[n]&&i.props[n]({domElement:i.ref.current,component:i})})}computeFlexData(e=this.getValidChildren(),n=this.props){const i=this.computePixelFlex(n.orientation),r=u=>u.reduce((c,d)=>!we.isA(d)&&d.constrained?c-d.flex:c,1),o=u=>u.reduce((c,d)=>!we.isA(d)&&!d.constrained?c+1:c,0),a=e.map(u=>{const c=u.props;return{maxFlex:(c.maxSize||Number.MAX_VALUE)*i,sizeFlex:(c.size||Number.MAX_VALUE)*i,minFlex:(c.minSize||1)*i,constrained:c.flex!==void 0,flex:c.flex||0,type:u.type}}),s=(u,c=0)=>{let d=!1;const p=o(u),g=r(u),S=u.map(f=>{if(we.isA(f))return f;const b=f.constrained?f.flex:g/p,v=Math.min(f.sizeFlex,Math.min(f.maxFlex,Math.max(f.minFlex,b))),T=f.constrained||v!==b;return d=d||T,$e({},f,{flex:v,constrained:T})});return d&&c<this.props.maxRecDepth?s(S,c+1):S};return s(a).map(u=>({flex:we.isA(u)?0:u.flex,ref:K.createRef()}))}toArray(e){return e?Array.isArray(e)?e:[e]:[]}render(){const e=[this.state.resizing?"reflex-resizing":"",...this.props.className.split(" "),this.props.orientation,"reflex-container"].join(" ").trim();return this.children=K.Children.map(this.getValidChildren(),(n,i)=>{if(i>this.state.flexData.length-1)return m("div",{});const r=this.state.flexData[i],o=$e({},n.props,{maxSize:n.props.maxSize||Number.MAX_VALUE,orientation:this.props.orientation,minSize:n.props.minSize||1,events:this.events,flex:r.flex,ref:r.ref,index:i});return K.cloneElement(n,o)}),m("div",{...sn(this.props),style:this.props.style,className:e,ref:this.ref,children:this.children})}}te(oi,"propTypes",{windowResizeAware:h.exports.bool,orientation:h.exports.oneOf(["horizontal","vertical"]),maxRecDepth:h.exports.number,className:h.exports.string,style:h.exports.object});te(oi,"defaultProps",{orientation:"horizontal",windowResizeAware:!1,maxRecDepth:100,className:"",style:{}});class It extends K.Component{static isA(e){return e?e.type===It:!1}constructor(e){super(e),te(this,"ref",K.createRef()),te(this,"onMouseMove",n=>{if(this.state.active){const i=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:i,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:i}),n.stopPropagation(),n.preventDefault()}}),te(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),te(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=e.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[...this.props.className.split(" "),this.state.active?"active":"","reflex-handle"].join(" ").trim();return m("div",{...sn(this.props),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref,children:this.props.children})}}te(It,"propTypes",{children:h.exports.oneOfType([h.exports.arrayOf(h.exports.node),h.exports.node]),onStartResize:h.exports.func,onStopResize:h.exports.func,className:h.exports.string,propagate:h.exports.bool,onResize:h.exports.func,style:h.exports.object});te(It,"defaultProps",{document:typeof document>"u"?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var ua="Expected a function",$i=0/0,Cl="[object Symbol]",Il=/^\s+|\s+$/g,Ol=/^[-+]0x[0-9a-f]+$/i,zl=/^0b[01]+$/i,Dl=/^0o[0-7]+$/i,Al=parseInt,Nl=typeof _r=="object"&&_r&&_r.Object===Object&&_r,Ml=typeof self=="object"&&self&&self.Object===Object&&self,Vl=Nl||Ml||Function("return this")(),Ll=Object.prototype,Hl=Ll.toString,Pl=Math.max,ql=Math.min,yn=function(){return Vl.Date.now()};function kl(t,e,n){var i,r,o,a,s,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(ua);e=Yi(e)||0,Yr(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Pl(Yi(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function g(w){var R=i,E=r;return i=r=void 0,u=w,a=t.apply(E,R),a}function S(w){return u=w,s=setTimeout(v,e),c?g(w):a}function f(w){var R=w-l,E=w-u,z=e-R;return d?ql(z,o-E):z}function b(w){var R=w-l,E=w-u;return l===void 0||R>=e||R<0||d&&E>=o}function v(){var w=yn();if(b(w))return T(w);s=setTimeout(v,f(w))}function T(w){return s=void 0,p&&i?g(w):(i=r=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,i=l=r=s=void 0}function y(){return s===void 0?a:T(yn())}function _(){var w=yn(),R=b(w);if(i=arguments,r=this,l=w,R){if(s===void 0)return S(l);if(d)return s=setTimeout(v,e),g(l)}return s===void 0&&(s=setTimeout(v,e)),a}return _.cancel=x,_.flush=y,_}function Fl(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(ua);return Yr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),kl(t,e,{leading:i,maxWait:e,trailing:r})}function Yr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function jl(t){return!!t&&typeof t=="object"}function Wl(t){return typeof t=="symbol"||jl(t)&&Hl.call(t)==Cl}function Yi(t){if(typeof t=="number")return t;if(Wl(t))return $i;if(Yr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Yr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Il,"");var n=zl.test(t);return n||Dl.test(t)?Al(t.slice(2),n?2:8):Ol.test(t)?$i:+t}var Bl=Fl;function Pn(){return Pn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pn.apply(this,arguments)}function Kl(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function qn(t,e){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},qn(t,e)}function Ul(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qn(t,e)}var ca=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(r,o){return r[0]===n?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(n,i){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,r=t(i,n);~r&&i.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var a=o[r];n.call(i,a[1],a[0])}},e}()}(),kn=typeof window<"u"&&typeof document<"u"&&window.document===document,Gr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),$l=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Gr):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Yl=2;function Gl(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&s()}function a(){$l(o)}function s(){var l=Date.now();if(n){if(l-r<Yl)return;i=!0}else n=!0,i=!1,setTimeout(a,e);r=l}return s}var Xl=20,Ql=["top","right","bottom","left","width","height","size","weight"],Jl=typeof MutationObserver<"u",Zl=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Gl(this.refresh.bind(this),Xl)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!kn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Jl?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!kn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,r=Ql.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),da=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},St=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Gr},ha=ln(0,0,0,0);function Xr(t){return parseFloat(t)||0}function Gi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,r){var o=t["border-"+r+"-width"];return i+Xr(o)},0)}function eu(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var o=r[i],a=t["padding-"+o];n[o]=Xr(a)}return n}function tu(t){var e=t.getBBox();return ln(0,0,e.width,e.height)}function ru(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return ha;var i=St(t).getComputedStyle(t),r=eu(i),o=r.left+r.right,a=r.top+r.bottom,s=Xr(i.width),l=Xr(i.height);if(i.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=Gi(i,"left","right")+o),Math.round(l+a)!==n&&(l-=Gi(i,"top","bottom")+a)),!iu(t)){var u=Math.round(s+o)-e,c=Math.round(l+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return ln(r.left,r.top,s,l)}var nu=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof St(t).SVGGraphicsElement}:function(t){return t instanceof St(t).SVGElement&&typeof t.getBBox=="function"}}();function iu(t){return t===St(t).document.documentElement}function ou(t){return kn?nu(t)?tu(t):ru(t):ha}function au(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return da(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function ln(t,e,n,i){return{x:t,y:e,width:n,height:i}}var su=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ln(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=ou(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),lu=function(){function t(e,n){var i=au(n);da(this,{target:e,contentRect:i})}return t}(),uu=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new ca,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof St(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new su(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof St(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(e)||(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new lu(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),fa=typeof WeakMap<"u"?new WeakMap:new ca,pa=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Zl.getInstance(),i=new uu(e,n,this);fa.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){pa.prototype[t]=function(){var e;return(e=fa.get(this))[t].apply(e,arguments)}});var cu=function(){return typeof Gr.ResizeObserver<"u"?Gr.ResizeObserver:pa}(),du=["client","offset","scroll","bounds","margin"];function Xi(t){var e=[];return du.forEach(function(n){t[n]&&e.push(n)}),e}function Qi(t,e){var n={};if(e.indexOf("client")>-1&&(n.client={top:t.clientTop,left:t.clientLeft,width:t.clientWidth,height:t.clientHeight}),e.indexOf("offset")>-1&&(n.offset={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}),e.indexOf("scroll")>-1&&(n.scroll={top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}),e.indexOf("bounds")>-1){var i=t.getBoundingClientRect();n.bounds={top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}if(e.indexOf("margin")>-1){var r=getComputedStyle(t);n.margin={top:r?parseInt(r.marginTop):0,right:r?parseInt(r.marginRight):0,bottom:r?parseInt(r.marginBottom):0,left:r?parseInt(r.marginLeft):0}}return n}function hu(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||window}function fu(t){return function(e){var n,i;return i=n=function(r){Ul(o,r);function o(){for(var s,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return s=r.call.apply(r,[this].concat(u))||this,s.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},s._animationFrameID=null,s._resizeObserver=null,s._node=null,s._window=null,s.measure=function(d){var p=Qi(s._node,t||Xi(s.props));d&&(p.entry=d[0].contentRect),s._animationFrameID=s._window.requestAnimationFrame(function(){s._resizeObserver!==null&&(s.setState({contentRect:p}),typeof s.props.onResize=="function"&&s.props.onResize(p))})},s._handleRef=function(d){s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.unobserve(s._node),s._node=d,s._window=hu(s._node);var p=s.props.innerRef;p&&(typeof p=="function"?p(s._node):p.current=s._node),s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.observe(s._node)},s}var a=o.prototype;return a.componentDidMount=function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new cu(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(Qi(this._node,t||Xi(this.props))))},a.componentWillUnmount=function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},a.render=function(){var l=this.props;l.innerRef,l.onResize;var u=Kl(l,["innerRef","onResize"]);return C.exports.createElement(e,Pn({},u,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},o}(C.exports.Component),n.propTypes={client:h.exports.bool,offset:h.exports.bool,scroll:h.exports.bool,bounds:h.exports.bool,margin:h.exports.bool,innerRef:h.exports.oneOfType([h.exports.object,h.exports.func]),onResize:h.exports.func},i}}var ai=fu()(function(t){var e=t.measure,n=t.measureRef,i=t.contentRect,r=t.children;return r({measure:e,measureRef:n,contentRect:i})});ai.displayName="Measure";ai.propTypes.children=h.exports.func;const Fn=t=>t?Array.isArray(t)?t:[t]:[];class pu extends K.Component{constructor(e){super(e),te(this,"onResize",n=>{const{resizeHeight:i,resizeWidth:r}=this.props,{height:o,width:a}=n.bounds;this.setDimensions($e({},i&&{height:o},r&&{width:a}))}),this.setDimensions=Bl(n=>{this.setState(n)},this.props.propagateDimensionsRate/1e3),this.state={height:"100%",width:"100%"}}renderChildren(){const{propagateDimensions:e}=this.props,n=Fn(this.props.children).filter(i=>!!i);return K.Children.map(n,i=>this.props.withHandle||It.isA(i)?K.cloneElement(i,$e({dimensions:e&&this.state},i.props,{index:this.props.index-1,events:this.props.events})):e?K.cloneElement(i,$e({},i.props,{dimensions:this.state})):i)}render(){return m(ai,{bounds:!0,onResize:this.onResize,children:({measureRef:e})=>m("div",{ref:e,className:"reflex-size-aware",children:m("div",{style:this.state,children:this.renderChildren()})})})}}class si extends K.Component{constructor(e){super(e),this.state={size:e.size}}static getDerivedStateFromProps(e,n){return e.size!==n.size?$e({},n,{size:e.size}):null}async componentDidUpdate(e,n,i){if(n.size!==this.state.size){const r=Fn(this.props.direction);for(let o of r)await this.props.events.emit("element.size",{index:this.props.index,size:this.props.size,direction:o})}}renderChildren(){const e=Fn(this.props.children).filter(n=>!!n);return K.Children.map(e,n=>this.props.withHandle||It.isA(n)?K.cloneElement(n,$e({},n.props,{index:this.props.index-1,events:this.props.events})):n)}render(){const e=[...this.props.className.split(" "),this.props.orientation,"reflex-element"].join(" ").trim(),n=$e({},this.props.style,{flexGrow:this.props.flex,flexShrink:1,flexBasis:"0%"});return m("div",{...sn(this.props),ref:this.props.innerRef,className:e,style:n,children:this.props.propagateDimensions?m(pu,{...this.props}):this.renderChildren()})}}te(si,"propTypes",{propagateDimensions:h.exports.bool,resizeHeight:h.exports.bool,resizeWidth:h.exports.bool,className:h.exports.string,size:h.exports.number});te(si,"defaultProps",{propagateDimensionsRate:100,propagateDimensions:!1,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""});const Ji=K.forwardRef((t,e)=>m(si,{innerRef:e,...t}));const Er=({items:t,maxItemCount:e=4})=>{const n=t.length>e;return n&&(t=t.slice(-e)),L("div",{className:"Breadcrumbs",children:[t.length>0&&m("span",{children:"You are in: "}),n&&L(Q,{children:[m("button",{className:"BreadcrumbItem Current",children:"..."}),m("span",{children:">"})]}),t.map((i,r)=>L(Q,{children:[m("button",{className:`BreadcrumbItem ${i.isCurrent?"Current":""}`,onClick:o=>{o.preventDefault(),i.action&&i.action()},children:i.name},r),r!==t.length-1&&m("span",{children:">"})]}))]})};try{Er.displayName="Breadcrumbs",Er.__docgenInfo={description:"",displayName:"Breadcrumbs",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BreadcrumbItem[]"}},maxItemCount:{defaultValue:{value:"4"},description:"",name:"maxItemCount",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"]={docgenInfo:Er.__docgenInfo,name:"Breadcrumbs",path:"src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"})}catch{}function ma(t,e,n,i,r,o,a){if(t.length===0||e===0)return!1;{const s=t.every(l=>n(l)||!i(l));if(s&&r&&o&&!a)return o(),!1;{if(a)return!1;const l=t.some(u=>i(u));return s&&l}}}function li(t,e,n,i,r,o,a){const[s,l]=C.exports.useState(!1);return C.exports.useEffect(()=>{l(ma(t,e,n,i,r,o,a))},[t,e,o,r,n,i,a]),s}function ze(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jn(t,e){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},jn(t,e)}function ht(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jn(t,e)}function Qr(){return Qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qr.apply(this,arguments)}function Jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wn(t,e){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Wn(t,e)}function _a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wn(t,e)}var mu=typeof performance=="object"&&typeof performance.now=="function",Zi=mu?function(){return performance.now()}:function(){return Date.now()};function Zr(t){cancelAnimationFrame(t.id)}function ga(t,e){var n=Zi();function i(){Zi()-n>=e?t.call(null):r.id=requestAnimationFrame(i)}var r={id:requestAnimationFrame(i)};return r}var vn=-1;function _u(t){if(t===void 0&&(t=!1),vn===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),vn=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return vn}var yt=null;function en(t){if(t===void 0&&(t=!1),yt===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?yt="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?yt="negative":yt="positive-ascending"),document.body.removeChild(e),yt}return yt}var gu=150,yu=function(e){var n=e.columnIndex;e.data;var i=e.rowIndex;return i+":"+n};function ya(t){var e,n=t.getColumnOffset,i=t.getColumnStartIndexForOffset,r=t.getColumnStopIndexForStartIndex,o=t.getColumnWidth,a=t.getEstimatedTotalHeight,s=t.getEstimatedTotalWidth,l=t.getOffsetForColumnAndAlignment,u=t.getOffsetForRowAndAlignment,c=t.getRowHeight,d=t.getRowOffset,p=t.getRowStartIndexForOffset,g=t.getRowStopIndexForStartIndex,S=t.initInstanceProps,f=t.shouldResetStyleCacheOnItemSizeChange,b=t.validateProps;return e=function(v){_a(T,v);function T(y){var _;return _=v.call(this,y)||this,_._instanceProps=S(_.props,Jr(_)),_._resetIsScrollingTimeoutId=null,_._outerRef=void 0,_.state={instance:Jr(_),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof _.props.initialScrollLeft=="number"?_.props.initialScrollLeft:0,scrollTop:typeof _.props.initialScrollTop=="number"?_.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},_._callOnItemsRendered=void 0,_._callOnItemsRendered=he(function(w,R,E,z,O,A,H,F){return _.props.onItemsRendered({overscanColumnStartIndex:w,overscanColumnStopIndex:R,overscanRowStartIndex:E,overscanRowStopIndex:z,visibleColumnStartIndex:O,visibleColumnStopIndex:A,visibleRowStartIndex:H,visibleRowStopIndex:F})}),_._callOnScroll=void 0,_._callOnScroll=he(function(w,R,E,z,O){return _.props.onScroll({horizontalScrollDirection:E,scrollLeft:w,scrollTop:R,verticalScrollDirection:z,scrollUpdateWasRequested:O})}),_._getItemStyle=void 0,_._getItemStyle=function(w,R){var E=_.props,z=E.columnWidth,O=E.direction,A=E.rowHeight,H=_._getItemStyleCache(f&&z,f&&O,f&&A),F=w+":"+R,q;if(H.hasOwnProperty(F))q=H[F];else{var V=n(_.props,R,_._instanceProps),N=O==="rtl";H[F]=q={position:"absolute",left:N?void 0:V,right:N?V:void 0,top:d(_.props,w,_._instanceProps),height:c(_.props,w,_._instanceProps),width:o(_.props,R,_._instanceProps)}}return q},_._getItemStyleCache=void 0,_._getItemStyleCache=he(function(w,R,E){return{}}),_._onScroll=function(w){var R=w.currentTarget,E=R.clientHeight,z=R.clientWidth,O=R.scrollLeft,A=R.scrollTop,H=R.scrollHeight,F=R.scrollWidth;_.setState(function(q){if(q.scrollLeft===O&&q.scrollTop===A)return null;var V=_.props.direction,N=O;if(V==="rtl")switch(en()){case"negative":N=-O;break;case"positive-descending":N=F-z-O;break}N=Math.max(0,Math.min(N,F-z));var D=Math.max(0,Math.min(A,H-E));return{isScrolling:!0,horizontalScrollDirection:q.scrollLeft<O?"forward":"backward",scrollLeft:N,scrollTop:D,verticalScrollDirection:q.scrollTop<A?"forward":"backward",scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._outerRefSetter=function(w){var R=_.props.outerRef;_._outerRef=w,typeof R=="function"?R(w):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=w)},_._resetIsScrollingDebounced=function(){_._resetIsScrollingTimeoutId!==null&&Zr(_._resetIsScrollingTimeoutId),_._resetIsScrollingTimeoutId=ga(_._resetIsScrolling,gu)},_._resetIsScrolling=function(){_._resetIsScrollingTimeoutId=null,_.setState({isScrolling:!1},function(){_._getItemStyleCache(-1)})},_}T.getDerivedStateFromProps=function(_,w){return vu(_,w),b(_),null};var x=T.prototype;return x.scrollTo=function(_){var w=_.scrollLeft,R=_.scrollTop;w!==void 0&&(w=Math.max(0,w)),R!==void 0&&(R=Math.max(0,R)),this.setState(function(E){return w===void 0&&(w=E.scrollLeft),R===void 0&&(R=E.scrollTop),E.scrollLeft===w&&E.scrollTop===R?null:{horizontalScrollDirection:E.scrollLeft<w?"forward":"backward",scrollLeft:w,scrollTop:R,scrollUpdateWasRequested:!0,verticalScrollDirection:E.scrollTop<R?"forward":"backward"}},this._resetIsScrollingDebounced)},x.scrollToItem=function(_){var w=_.align,R=w===void 0?"auto":w,E=_.columnIndex,z=_.rowIndex,O=this.props,A=O.columnCount,H=O.height,F=O.rowCount,q=O.width,V=this.state,N=V.scrollLeft,D=V.scrollTop,M=_u();E!==void 0&&(E=Math.max(0,Math.min(E,A-1))),z!==void 0&&(z=Math.max(0,Math.min(z,F-1)));var B=a(this.props,this._instanceProps),I=s(this.props,this._instanceProps),$=I>q?M:0,k=B>H?M:0;this.scrollTo({scrollLeft:E!==void 0?l(this.props,E,R,N,this._instanceProps,k):N,scrollTop:z!==void 0?u(this.props,z,R,D,this._instanceProps,$):D})},x.componentDidMount=function(){var _=this.props,w=_.initialScrollLeft,R=_.initialScrollTop;if(this._outerRef!=null){var E=this._outerRef;typeof w=="number"&&(E.scrollLeft=w),typeof R=="number"&&(E.scrollTop=R)}this._callPropsCallbacks()},x.componentDidUpdate=function(){var _=this.props.direction,w=this.state,R=w.scrollLeft,E=w.scrollTop,z=w.scrollUpdateWasRequested;if(z&&this._outerRef!=null){var O=this._outerRef;if(_==="rtl")switch(en()){case"negative":O.scrollLeft=-R;break;case"positive-ascending":O.scrollLeft=R;break;default:var A=O.clientWidth,H=O.scrollWidth;O.scrollLeft=H-A-R;break}else O.scrollLeft=Math.max(0,R);O.scrollTop=Math.max(0,E)}this._callPropsCallbacks()},x.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Zr(this._resetIsScrollingTimeoutId)},x.render=function(){var _=this.props,w=_.children,R=_.className,E=_.columnCount,z=_.direction,O=_.height,A=_.innerRef,H=_.innerElementType,F=_.innerTagName,q=_.itemData,V=_.itemKey,N=V===void 0?yu:V,D=_.outerElementType,M=_.outerTagName,B=_.rowCount,I=_.style,$=_.useIsScrolling,k=_.width,se=this.state.isScrolling,Ve=this._getHorizontalRangeToRender(),gt=Ve[0],Cs=Ve[1],Wi=this._getVerticalRangeToRender(),Is=Wi[0],Os=Wi[1],Bi=[];if(E>0&&B)for(var Ht=Is;Ht<=Os;Ht++)for(var Pt=gt;Pt<=Cs;Pt++)Bi.push(C.exports.createElement(w,{columnIndex:Pt,data:q,isScrolling:$?se:void 0,key:N({columnIndex:Pt,data:q,rowIndex:Ht}),rowIndex:Ht,style:this._getItemStyle(Ht,Pt)}));var zs=a(this.props,this._instanceProps),Ds=s(this.props,this._instanceProps);return C.exports.createElement(D||M||"div",{className:R,onScroll:this._onScroll,ref:this._outerRefSetter,style:Qr({position:"relative",height:O,width:k,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:z},I)},C.exports.createElement(H||F||"div",{children:Bi,ref:A,style:{height:zs,pointerEvents:se?"none":void 0,width:Ds}}))},x._callPropsCallbacks=function(){var _=this.props,w=_.columnCount,R=_.onItemsRendered,E=_.onScroll,z=_.rowCount;if(typeof R=="function"&&w>0&&z>0){var O=this._getHorizontalRangeToRender(),A=O[0],H=O[1],F=O[2],q=O[3],V=this._getVerticalRangeToRender(),N=V[0],D=V[1],M=V[2],B=V[3];this._callOnItemsRendered(A,H,N,D,F,q,M,B)}if(typeof E=="function"){var I=this.state,$=I.horizontalScrollDirection,k=I.scrollLeft,se=I.scrollTop,Ve=I.scrollUpdateWasRequested,gt=I.verticalScrollDirection;this._callOnScroll(k,se,$,gt,Ve)}},x._getHorizontalRangeToRender=function(){var _=this.props,w=_.columnCount,R=_.overscanColumnCount,E=_.overscanColumnsCount,z=_.overscanCount,O=_.rowCount,A=this.state,H=A.horizontalScrollDirection,F=A.isScrolling,q=A.scrollLeft,V=R||E||z||1;if(w===0||O===0)return[0,0,0,0];var N=i(this.props,q,this._instanceProps),D=r(this.props,N,q,this._instanceProps),M=!F||H==="backward"?Math.max(1,V):1,B=!F||H==="forward"?Math.max(1,V):1;return[Math.max(0,N-M),Math.max(0,Math.min(w-1,D+B)),N,D]},x._getVerticalRangeToRender=function(){var _=this.props,w=_.columnCount,R=_.overscanCount,E=_.overscanRowCount,z=_.overscanRowsCount,O=_.rowCount,A=this.state,H=A.isScrolling,F=A.verticalScrollDirection,q=A.scrollTop,V=E||z||R||1;if(w===0||O===0)return[0,0,0,0];var N=p(this.props,q,this._instanceProps),D=g(this.props,N,q,this._instanceProps),M=!H||F==="backward"?Math.max(1,V):1,B=!H||F==="forward"?Math.max(1,V):1;return[Math.max(0,N-M),Math.max(0,Math.min(O-1,D+B)),N,D]},T}(C.exports.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},e}var vu=function(e,n){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,n.instance},eo=50,va=function(e,n){var i=e.rowCount,r=n.rowMetadataMap,o=n.estimatedRowHeight,a=n.lastMeasuredRowIndex,s=0;if(a>=i&&(a=i-1),a>=0){var l=r[a];s=l.offset+l.size}var u=i-a-1,c=u*o;return s+c},Sa=function(e,n){var i=e.columnCount,r=n.columnMetadataMap,o=n.estimatedColumnWidth,a=n.lastMeasuredColumnIndex,s=0;if(a>=i&&(a=i-1),a>=0){var l=r[a];s=l.offset+l.size}var u=i-a-1,c=u*o;return s+c},Ue=function(e,n,i,r){var o,a,s;if(e==="column"?(o=r.columnMetadataMap,a=n.columnWidth,s=r.lastMeasuredColumnIndex):(o=r.rowMetadataMap,a=n.rowHeight,s=r.lastMeasuredRowIndex),i>s){var l=0;if(s>=0){var u=o[s];l=u.offset+u.size}for(var c=s+1;c<=i;c++){var d=a(c);o[c]={offset:l,size:d},l+=d}e==="column"?r.lastMeasuredColumnIndex=i:r.lastMeasuredRowIndex=i}return o[i]},to=function(e,n,i,r){var o,a;e==="column"?(o=i.columnMetadataMap,a=i.lastMeasuredColumnIndex):(o=i.rowMetadataMap,a=i.lastMeasuredRowIndex);var s=a>0?o[a].offset:0;return s>=r?wa(e,n,i,a,0,r):Su(e,n,i,Math.max(0,a),r)},wa=function(e,n,i,r,o,a){for(;o<=r;){var s=o+Math.floor((r-o)/2),l=Ue(e,n,s,i).offset;if(l===a)return s;l<a?o=s+1:l>a&&(r=s-1)}return o>0?o-1:0},Su=function(e,n,i,r,o){for(var a=e==="column"?n.columnCount:n.rowCount,s=1;r<a&&Ue(e,n,r,i).offset<o;)r+=s,s*=2;return wa(e,n,i,Math.min(r,a-1),Math.floor(r/2),o)},ro=function(e,n,i,r,o,a,s){var l=e==="column"?n.width:n.height,u=Ue(e,n,i,a),c=e==="column"?Sa(n,a):va(n,a),d=Math.max(0,Math.min(c-l,u.offset)),p=Math.max(0,u.offset-l+s+u.size);switch(r==="smart"&&(o>=p-l&&o<=d+l?r="auto":r="center"),r){case"start":return d;case"end":return p;case"center":return Math.round(p+(d-p)/2);case"auto":default:return o>=p&&o<=d?o:p>d||o<p?p:d}},wu=ya({getColumnOffset:function(e,n,i){return Ue("column",e,n,i).offset},getColumnStartIndexForOffset:function(e,n,i){return to("column",e,i,n)},getColumnStopIndexForStartIndex:function(e,n,i,r){for(var o=e.columnCount,a=e.width,s=Ue("column",e,n,r),l=i+a,u=s.offset+s.size,c=n;c<o-1&&u<l;)c++,u+=Ue("column",e,c,r).size;return c},getColumnWidth:function(e,n,i){return i.columnMetadataMap[n].size},getEstimatedTotalHeight:va,getEstimatedTotalWidth:Sa,getOffsetForColumnAndAlignment:function(e,n,i,r,o,a){return ro("column",e,n,i,r,o,a)},getOffsetForRowAndAlignment:function(e,n,i,r,o,a){return ro("row",e,n,i,r,o,a)},getRowOffset:function(e,n,i){return Ue("row",e,n,i).offset},getRowHeight:function(e,n,i){return i.rowMetadataMap[n].size},getRowStartIndexForOffset:function(e,n,i){return to("row",e,i,n)},getRowStopIndexForStartIndex:function(e,n,i,r){for(var o=e.rowCount,a=e.height,s=Ue("row",e,n,r),l=i+a,u=s.offset+s.size,c=n;c<o-1&&u<l;)c++,u+=Ue("row",e,c,r).size;return c},initInstanceProps:function(e,n){var i=e,r=i.estimatedColumnWidth,o=i.estimatedRowHeight,a={columnMetadataMap:{},estimatedColumnWidth:r||eo,estimatedRowHeight:o||eo,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return n.resetAfterColumnIndex=function(s,l){l===void 0&&(l=!0),n.resetAfterIndices({columnIndex:s,shouldForceUpdate:l})},n.resetAfterRowIndex=function(s,l){l===void 0&&(l=!0),n.resetAfterIndices({rowIndex:s,shouldForceUpdate:l})},n.resetAfterIndices=function(s){var l=s.columnIndex,u=s.rowIndex,c=s.shouldForceUpdate,d=c===void 0?!0:c;typeof l=="number"&&(a.lastMeasuredColumnIndex=Math.min(a.lastMeasuredColumnIndex,l-1)),typeof u=="number"&&(a.lastMeasuredRowIndex=Math.min(a.lastMeasuredRowIndex,u-1)),n._getItemStyleCache(-1),d&&n.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),bu=150,Ru=function(e,n){return e};function xu(t){var e,n=t.getItemOffset,i=t.getEstimatedTotalSize,r=t.getItemSize,o=t.getOffsetForIndexAndAlignment,a=t.getStartIndexForOffset,s=t.getStopIndexForStartIndex,l=t.initInstanceProps,u=t.shouldResetStyleCacheOnItemSizeChange,c=t.validateProps;return e=function(d){_a(p,d);function p(S){var f;return f=d.call(this,S)||this,f._instanceProps=l(f.props,Jr(f)),f._outerRef=void 0,f._resetIsScrollingTimeoutId=null,f.state={instance:Jr(f),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof f.props.initialScrollOffset=="number"?f.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},f._callOnItemsRendered=void 0,f._callOnItemsRendered=he(function(b,v,T,x){return f.props.onItemsRendered({overscanStartIndex:b,overscanStopIndex:v,visibleStartIndex:T,visibleStopIndex:x})}),f._callOnScroll=void 0,f._callOnScroll=he(function(b,v,T){return f.props.onScroll({scrollDirection:b,scrollOffset:v,scrollUpdateWasRequested:T})}),f._getItemStyle=void 0,f._getItemStyle=function(b){var v=f.props,T=v.direction,x=v.itemSize,y=v.layout,_=f._getItemStyleCache(u&&x,u&&y,u&&T),w;if(_.hasOwnProperty(b))w=_[b];else{var R=n(f.props,b,f._instanceProps),E=r(f.props,b,f._instanceProps),z=T==="horizontal"||y==="horizontal",O=T==="rtl",A=z?R:0;_[b]=w={position:"absolute",left:O?void 0:A,right:O?A:void 0,top:z?0:R,height:z?"100%":E,width:z?E:"100%"}}return w},f._getItemStyleCache=void 0,f._getItemStyleCache=he(function(b,v,T){return{}}),f._onScrollHorizontal=function(b){var v=b.currentTarget,T=v.clientWidth,x=v.scrollLeft,y=v.scrollWidth;f.setState(function(_){if(_.scrollOffset===x)return null;var w=f.props.direction,R=x;if(w==="rtl")switch(en()){case"negative":R=-x;break;case"positive-descending":R=y-T-x;break}return R=Math.max(0,Math.min(R,y-T)),{isScrolling:!0,scrollDirection:_.scrollOffset<x?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._onScrollVertical=function(b){var v=b.currentTarget,T=v.clientHeight,x=v.scrollHeight,y=v.scrollTop;f.setState(function(_){if(_.scrollOffset===y)return null;var w=Math.max(0,Math.min(y,x-T));return{isScrolling:!0,scrollDirection:_.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._outerRefSetter=function(b){var v=f.props.outerRef;f._outerRef=b,typeof v=="function"?v(b):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=b)},f._resetIsScrollingDebounced=function(){f._resetIsScrollingTimeoutId!==null&&Zr(f._resetIsScrollingTimeoutId),f._resetIsScrollingTimeoutId=ga(f._resetIsScrolling,bu)},f._resetIsScrolling=function(){f._resetIsScrollingTimeoutId=null,f.setState({isScrolling:!1},function(){f._getItemStyleCache(-1,null)})},f}p.getDerivedStateFromProps=function(f,b){return Eu(f,b),c(f),null};var g=p.prototype;return g.scrollTo=function(f){f=Math.max(0,f),this.setState(function(b){return b.scrollOffset===f?null:{scrollDirection:b.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},g.scrollToItem=function(f,b){b===void 0&&(b="auto");var v=this.props.itemCount,T=this.state.scrollOffset;f=Math.max(0,Math.min(f,v-1)),this.scrollTo(o(this.props,f,b,T,this._instanceProps))},g.componentDidMount=function(){var f=this.props,b=f.direction,v=f.initialScrollOffset,T=f.layout;if(typeof v=="number"&&this._outerRef!=null){var x=this._outerRef;b==="horizontal"||T==="horizontal"?x.scrollLeft=v:x.scrollTop=v}this._callPropsCallbacks()},g.componentDidUpdate=function(){var f=this.props,b=f.direction,v=f.layout,T=this.state,x=T.scrollOffset,y=T.scrollUpdateWasRequested;if(y&&this._outerRef!=null){var _=this._outerRef;if(b==="horizontal"||v==="horizontal")if(b==="rtl")switch(en()){case"negative":_.scrollLeft=-x;break;case"positive-ascending":_.scrollLeft=x;break;default:var w=_.clientWidth,R=_.scrollWidth;_.scrollLeft=R-w-x;break}else _.scrollLeft=x;else _.scrollTop=x}this._callPropsCallbacks()},g.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Zr(this._resetIsScrollingTimeoutId)},g.render=function(){var f=this.props,b=f.children,v=f.className,T=f.direction,x=f.height,y=f.innerRef,_=f.innerElementType,w=f.innerTagName,R=f.itemCount,E=f.itemData,z=f.itemKey,O=z===void 0?Ru:z,A=f.layout,H=f.outerElementType,F=f.outerTagName,q=f.style,V=f.useIsScrolling,N=f.width,D=this.state.isScrolling,M=T==="horizontal"||A==="horizontal",B=M?this._onScrollHorizontal:this._onScrollVertical,I=this._getRangeToRender(),$=I[0],k=I[1],se=[];if(R>0)for(var Ve=$;Ve<=k;Ve++)se.push(C.exports.createElement(b,{data:E,key:O(Ve,E),index:Ve,isScrolling:V?D:void 0,style:this._getItemStyle(Ve)}));var gt=i(this.props,this._instanceProps);return C.exports.createElement(H||F||"div",{className:v,onScroll:B,ref:this._outerRefSetter,style:Qr({position:"relative",height:x,width:N,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:T},q)},C.exports.createElement(_||w||"div",{children:se,ref:y,style:{height:M?"100%":gt,pointerEvents:D?"none":void 0,width:M?gt:"100%"}}))},g._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var f=this.props.itemCount;if(f>0){var b=this._getRangeToRender(),v=b[0],T=b[1],x=b[2],y=b[3];this._callOnItemsRendered(v,T,x,y)}}if(typeof this.props.onScroll=="function"){var _=this.state,w=_.scrollDirection,R=_.scrollOffset,E=_.scrollUpdateWasRequested;this._callOnScroll(w,R,E)}},g._getRangeToRender=function(){var f=this.props,b=f.itemCount,v=f.overscanCount,T=this.state,x=T.isScrolling,y=T.scrollDirection,_=T.scrollOffset;if(b===0)return[0,0,0,0];var w=a(this.props,_,this._instanceProps),R=s(this.props,w,_,this._instanceProps),E=!x||y==="backward"?Math.max(1,v):1,z=!x||y==="forward"?Math.max(1,v):1;return[Math.max(0,w-E),Math.max(0,Math.min(b-1,R+z)),w,R]},p}(C.exports.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Eu=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},Tu=50,vt=function(e,n,i){var r=e,o=r.itemSize,a=i.itemMetadataMap,s=i.lastMeasuredIndex;if(n>s){var l=0;if(s>=0){var u=a[s];l=u.offset+u.size}for(var c=s+1;c<=n;c++){var d=o(c);a[c]={offset:l,size:d},l+=d}i.lastMeasuredIndex=n}return a[n]},Cu=function(e,n,i){var r=n.itemMetadataMap,o=n.lastMeasuredIndex,a=o>0?r[o].offset:0;return a>=i?ba(e,n,o,0,i):Iu(e,n,Math.max(0,o),i)},ba=function(e,n,i,r,o){for(;r<=i;){var a=r+Math.floor((i-r)/2),s=vt(e,a,n).offset;if(s===o)return a;s<o?r=a+1:s>o&&(i=a-1)}return r>0?r-1:0},Iu=function(e,n,i,r){for(var o=e.itemCount,a=1;i<o&&vt(e,i,n).offset<r;)i+=a,a*=2;return ba(e,n,Math.min(i,o-1),Math.floor(i/2),r)},no=function(e,n){var i=e.itemCount,r=n.itemMetadataMap,o=n.estimatedItemSize,a=n.lastMeasuredIndex,s=0;if(a>=i&&(a=i-1),a>=0){var l=r[a];s=l.offset+l.size}var u=i-a-1,c=u*o;return s+c},Ou=xu({getItemOffset:function(e,n,i){return vt(e,n,i).offset},getItemSize:function(e,n,i){return i.itemMetadataMap[n].size},getEstimatedTotalSize:no,getOffsetForIndexAndAlignment:function(e,n,i,r,o){var a=e.direction,s=e.height,l=e.layout,u=e.width,c=a==="horizontal"||l==="horizontal",d=c?u:s,p=vt(e,n,o),g=no(e,o),S=Math.max(0,Math.min(g-d,p.offset)),f=Math.max(0,p.offset-d+p.size);switch(i==="smart"&&(r>=f-d&&r<=S+d?i="auto":i="center"),i){case"start":return S;case"end":return f;case"center":return Math.round(f+(S-f)/2);case"auto":default:return r>=f&&r<=S?r:r<f?f:S}},getStartIndexForOffset:function(e,n,i){return Cu(e,i,n)},getStopIndexForStartIndex:function(e,n,i,r){for(var o=e.direction,a=e.height,s=e.itemCount,l=e.layout,u=e.width,c=o==="horizontal"||l==="horizontal",d=c?u:a,p=vt(e,n,r),g=i+d,S=p.offset+p.size,f=n;f<s-1&&S<g;)f++,S+=vt(e,f,r).size;return f},initInstanceProps:function(e,n){var i=e,r=i.estimatedItemSize,o={itemMetadataMap:{},estimatedItemSize:r||Tu,lastMeasuredIndex:-1};return n.resetAfterIndex=function(a,s){s===void 0&&(s=!0),o.lastMeasuredIndex=Math.min(o.lastMeasuredIndex,a-1),n._getItemStyleCache(-1),s&&n.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),zu=ya({getColumnOffset:function(e,n){var i=e.columnWidth;return n*i},getColumnWidth:function(e,n){var i=e.columnWidth;return i},getRowOffset:function(e,n){var i=e.rowHeight;return n*i},getRowHeight:function(e,n){var i=e.rowHeight;return i},getEstimatedTotalHeight:function(e){var n=e.rowCount,i=e.rowHeight;return i*n},getEstimatedTotalWidth:function(e){var n=e.columnCount,i=e.columnWidth;return i*n},getOffsetForColumnAndAlignment:function(e,n,i,r,o,a){var s=e.columnCount,l=e.columnWidth,u=e.width,c=Math.max(0,s*l-u),d=Math.min(c,n*l),p=Math.max(0,n*l-u+a+l);switch(i==="smart"&&(r>=p-u&&r<=d+u?i="auto":i="center"),i){case"start":return d;case"end":return p;case"center":var g=Math.round(p+(d-p)/2);return g<Math.ceil(u/2)?0:g>c+Math.floor(u/2)?c:g;case"auto":default:return r>=p&&r<=d?r:p>d||r<p?p:d}},getOffsetForRowAndAlignment:function(e,n,i,r,o,a){var s=e.rowHeight,l=e.height,u=e.rowCount,c=Math.max(0,u*s-l),d=Math.min(c,n*s),p=Math.max(0,n*s-l+a+s);switch(i==="smart"&&(r>=p-l&&r<=d+l?i="auto":i="center"),i){case"start":return d;case"end":return p;case"center":var g=Math.round(p+(d-p)/2);return g<Math.ceil(l/2)?0:g>c+Math.floor(l/2)?c:g;case"auto":default:return r>=p&&r<=d?r:p>d||r<p?p:d}},getColumnStartIndexForOffset:function(e,n){var i=e.columnWidth,r=e.columnCount;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getColumnStopIndexForStartIndex:function(e,n,i){var r=e.columnWidth,o=e.columnCount,a=e.width,s=n*r,l=Math.ceil((a+i-s)/r);return Math.max(0,Math.min(o-1,n+l-1))},getRowStartIndexForOffset:function(e,n){var i=e.rowHeight,r=e.rowCount;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getRowStopIndexForStartIndex:function(e,n,i){var r=e.rowHeight,o=e.rowCount,a=e.height,s=n*r,l=Math.ceil((a+i-s)/r);return Math.max(0,Math.min(o-1,n+l-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),Ra=function(t){ht(e,t);function e(i){var r;return r=t.call(this,i)||this,r.renderHeaderRow=r.renderHeaderRow.bind(P(r)),r.renderFrozenRow=r.renderFrozenRow.bind(P(r)),r._setRef=r._setRef.bind(P(r)),r}var n=e.prototype;return n.scrollTo=function(r){var o=this;requestAnimationFrame(function(){o.headerRef&&(o.headerRef.scrollLeft=r)})},n.renderHeaderRow=function(r,o){var a=this.props,s=a.columns,l=a.headerRenderer;if(r<=0)return null;var u={width:"100%",height:r};return l({style:u,columns:s,headerIndex:o})},n.renderFrozenRow=function(r,o){var a=this.props,s=a.columns,l=a.rowHeight,u=a.rowRenderer,c={width:"100%",height:l},d=-o-1;return u({style:c,columns:s,rowData:r,rowIndex:d})},n.render=function(){var r=this.props,o=r.className,a=r.width,s=r.height,l=r.rowWidth,u=r.headerHeight,c=r.frozenData;if(s<=0)return null;var d={width:a,height:s,position:"relative",overflow:"hidden"},p={width:l,height:s},g=Array.isArray(u)?u:[u];return m("div",{role:"grid",ref:this._setRef,className:o,style:d,children:L("div",{role:"rowgroup",style:p,children:[g.map(this.renderHeaderRow),c.map(this.renderFrozenRow)]})})},n._setRef=function(r){this.headerRef=r},e}(K.PureComponent);Ra.propTypes={className:h.exports.string,width:h.exports.number.isRequired,height:h.exports.number.isRequired,headerHeight:h.exports.oneOfType([h.exports.number,h.exports.arrayOf(h.exports.number)]).isRequired,rowWidth:h.exports.number.isRequired,rowHeight:h.exports.number.isRequired,columns:h.exports.arrayOf(h.exports.object).isRequired,data:h.exports.array.isRequired,frozenData:h.exports.array,headerRenderer:h.exports.func.isRequired,rowRenderer:h.exports.func.isRequired};function io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?io(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function at(t,e){return K.isValidElement(t)?e?K.cloneElement(t,e):t:typeof t=="function"?K.createElement(t,e):null}function Du(t){var e=[];return K.Children.forEach(t,function(n){if(K.isValidElement(n)&&n.key){var i=oo(oo({},n.props),{},{key:n.key});e.push(i)}}),e}function xa(t,e,n){if(n===void 0&&(n=!0),t===e||t===null&&e===null)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object")return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(var o=0;o<i.length;o++){var a=i[o];if(!(a==="_owner"&&t.$$typeof)){var s=t[a],l=e[a],u=typeof s;if(u!==typeof l)return!1;if(!(u==="function"&&n)){if(u==="object"){if(xa(s,l,n))continue;return!1}if(s!==l)return!1}}}return!0}function Le(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,n):t}function Au(t){return Array.isArray(t.children)&&t.children.length>0}function Nu(t,e,n,i){if(n===void 0&&(n={}),i===void 0&&(i="id"),!e||!e.length)return t;var r=[],o=new Set;e.forEach(function(l){return o.add(l)});var a=[].concat(t);a.forEach(function(l){return n[l[i]]=0});for(var s=function(){var u=a.shift();r.push(u),o.has(u[i])&&Array.isArray(u.children)&&u.children.length>0&&(a=[].concat(u.children,a),u.children.forEach(function(c){return n[c[i]]=n[u[i]]+1}))};a.length>0;)s();return r}function Sn(t){return Array.isArray(t)?[].concat(t):[]}function ge(){}function Mu(t){return typeof t=="string"?t:t==null?"":t.toString?t.toString():""}function Vu(t){for(var e=t.split("."),n=[],i=0;i<e.length;i++){for(var r=e[i];r[r.length-1]==="\\"&&e[i+1]!==void 0;)r=r.slice(0,-1)+".",r+=e[++i];n.push(r)}return n}function Lu(t,e,n){if(t===null||typeof t!="object"||typeof e!="string")return n;for(var i=Vu(e),r=0;r<i.length;r++){if(!Object.prototype.propertyIsEnumerable.call(t,i[r]))return n;if(t=t[i[r]],t==null){if(r!==i.length-1)return n;break}}return t}var Hu=function(e,n){n===void 0&&(n=0);var i;return function(){for(var r=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(i),i=setTimeout(function(){return e.apply(r,a)},n)}},Pu=function(e,n){var i,r,o;return function(){var a=this,s=arguments;i?(clearTimeout(r),r=setTimeout(function(){Date.now()-o>=n&&(e.apply(a,s),o=Date.now())},Math.max(n-(Date.now()-o),0))):(e.apply(a,s),o=Date.now(),i=!0)}},yr;function qu(t){if((!yr&&yr!==0||t)&&typeof window<"u"&&window.document&&window.document.createElement){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),yr=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yr}function ku(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)"+e+"(?!\\S)"))||(t.className+=" "+e)}function Fu(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),"")}function Ea(t,e){return typeof e=="function"?t.reduce(function(n,i,r){return n+e({rowData:i,rowIndex:r})},0):t.length*e}var ju=["containerStyle","classPrefix","className","data","frozenData","width","height","rowHeight","estimatedRowHeight","getRowHeight","headerWidth","bodyWidth","useIsScrolling","onScroll","hoveredRowKey","overscanRowCount","style","onScrollbarPresenceChange"];function ao(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Tr=function(t){ht(e,t);function e(i){var r;return r=t.call(this,i)||this,r._setHeaderRef=r._setHeaderRef.bind(P(r)),r._setBodyRef=r._setBodyRef.bind(P(r)),r._setInnerRef=r._setInnerRef.bind(P(r)),r._itemKey=r._itemKey.bind(P(r)),r._getBodyWidth=r._getBodyWidth.bind(P(r)),r._handleItemsRendered=r._handleItemsRendered.bind(P(r)),r._resetColumnWidthCache=he(function(o){!r.props.estimatedRowHeight||r.bodyRef&&r.bodyRef.resetAfterColumnIndex(0,!1)}),r._getEstimatedTotalRowsHeight=he(Ea),r.renderRow=r.renderRow.bind(P(r)),r}var n=e.prototype;return n.resetAfterRowIndex=function(r,o){r===void 0&&(r=0),!!this.props.estimatedRowHeight&&this.bodyRef&&this.bodyRef.resetAfterRowIndex(r,o)},n.forceUpdateTable=function(){this.headerRef&&this.headerRef.forceUpdate(),this.bodyRef&&this.bodyRef.forceUpdate()},n.scrollToPosition=function(r){this.headerRef&&this.headerRef.scrollTo(r.scrollLeft),this.bodyRef&&this.bodyRef.scrollTo(r)},n.scrollToTop=function(r){this.bodyRef&&this.bodyRef.scrollTo({scrollTop:r})},n.scrollToLeft=function(r){this.headerRef&&this.headerRef.scrollTo(r),this.bodyRef&&this.bodyRef.scrollToPosition({scrollLeft:r})},n.scrollToRow=function(r,o){r===void 0&&(r=0),o===void 0&&(o="auto"),this.bodyRef&&this.bodyRef.scrollToItem({rowIndex:r,align:o})},n.getTotalRowsHeight=function(){var r=this.props,o=r.data,a=r.rowHeight,s=r.estimatedRowHeight;return s?this.innerRef&&this.innerRef.clientHeight||this._getEstimatedTotalRowsHeight(o,s):o.length*a},n.renderRow=function(r){var o=this.props,a=o.data,s=o.columns,l=o.rowRenderer,u=a[r.rowIndex];return l(so(so({},r),{},{columns:s,rowData:u}))},n.render=function(){var r=this.props,o=r.containerStyle,a=r.classPrefix,s=r.className,l=r.data,u=r.frozenData,c=r.width,d=r.height,p=r.rowHeight,g=r.estimatedRowHeight,S=r.getRowHeight,f=r.headerWidth,b=r.bodyWidth,v=r.useIsScrolling,T=r.onScroll,x=r.hoveredRowKey,y=r.overscanRowCount;r.style,r.onScrollbarPresenceChange;var _=ze(r,ju),w=this._getHeaderHeight(),R=u.length,E=p*R,z=Ke(a+"__table",s),O=o?{style:o}:null,A=g?wu:zu;return this._resetColumnWidthCache(b),L("div",{role:"table",className:z,...O,children:[m(A,{..._,className:a+"__body",ref:this._setBodyRef,innerRef:this._setInnerRef,itemKey:this._itemKey,data:l,frozenData:u,width:c,height:Math.max(d-w-E,0),rowHeight:g?S:p,estimatedRowHeight:typeof g=="function"?void 0:g,rowCount:l.length,overscanRowCount:y,columnWidth:g?this._getBodyWidth:b,columnCount:1,overscanColumnCount:0,useIsScrolling:v,hoveredRowKey:x,onScroll:T,onItemsRendered:this._handleItemsRendered,children:this.renderRow}),w+E>0&&m(Ra,{..._,className:a+"__header",ref:this._setHeaderRef,data:l,frozenData:u,width:c,height:Math.min(w+E,d),rowWidth:f,rowHeight:p,headerHeight:this.props.headerHeight,headerRenderer:this.props.headerRenderer,rowRenderer:this.props.rowRenderer,hoveredRowKey:R>0?x:null})]})},n._setHeaderRef=function(r){this.headerRef=r},n._setBodyRef=function(r){this.bodyRef=r},n._setInnerRef=function(r){this.innerRef=r},n._itemKey=function(r){var o=r.rowIndex,a=this.props,s=a.data,l=a.rowKey;return s[o][l]},n._getHeaderHeight=function(){var r=this.props.headerHeight;return Array.isArray(r)?r.reduce(function(o,a){return o+a},0):r},n._getBodyWidth=function(){return this.props.bodyWidth},n._handleItemsRendered=function(r){var o=r.overscanRowStartIndex,a=r.overscanRowStopIndex,s=r.visibleRowStartIndex,l=r.visibleRowStopIndex;this.props.onRowsRendered({overscanStartIndex:o,overscanStopIndex:a,startIndex:s,stopIndex:l})},e}(K.PureComponent);Tr.propTypes={containerStyle:h.exports.object,classPrefix:h.exports.string,className:h.exports.string,width:h.exports.number.isRequired,height:h.exports.number.isRequired,headerHeight:h.exports.oneOfType([h.exports.number,h.exports.arrayOf(h.exports.number)]).isRequired,headerWidth:h.exports.number.isRequired,bodyWidth:h.exports.number.isRequired,rowHeight:h.exports.number.isRequired,estimatedRowHeight:h.exports.oneOfType([h.exports.func,h.exports.number]),getRowHeight:h.exports.func,columns:h.exports.arrayOf(h.exports.object).isRequired,data:h.exports.array.isRequired,frozenData:h.exports.array,rowKey:h.exports.oneOfType([h.exports.string,h.exports.number]).isRequired,useIsScrolling:h.exports.bool,overscanRowCount:h.exports.number,hoveredRowKey:h.exports.oneOfType([h.exports.string,h.exports.number]),style:h.exports.object,onScrollbarPresenceChange:h.exports.func,onScroll:h.exports.func,onRowsRendered:h.exports.func,headerRenderer:h.exports.func.isRequired,rowRenderer:h.exports.func.isRequired};var Wu=["className","style","columns","headerIndex","cellRenderer","headerRenderer","expandColumnKey","expandIcon","tagName"],ui=function(e){var n=e.className,i=e.style,r=e.columns,o=e.headerIndex,a=e.cellRenderer,s=e.headerRenderer,l=e.expandColumnKey,u=e.expandIcon,c=e.tagName,d=ze(e,Wu),p=r.map(function(g,S){return a({columns:r,column:g,columnIndex:S,headerIndex:o,expandIcon:g.key===l&&m(u,{})})});return s&&(p=at(s,{cells:p,columns:r,headerIndex:o})),m(c,{...d,className:n,style:i,children:p})};ui.defaultProps={tagName:"div"};ui.propTypes={isScrolling:h.exports.bool,className:h.exports.string,style:h.exports.object,columns:h.exports.arrayOf(h.exports.object).isRequired,headerIndex:h.exports.number,cellRenderer:h.exports.func,headerRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),expandColumnKey:h.exports.string,expandIcon:h.exports.func,tagName:h.exports.elementType};var Bu=["isScrolling","className","style","columns","rowIndex","rowData","expandColumnKey","depth","rowEventHandlers","estimatedRowHeight","rowRenderer","cellRenderer","expandIconRenderer","tagName","rowKey","getIsResetting","onRowHover","onRowExpand","onRowHeightChange"],Ku=["height"],ci=function(t){ht(e,t);function e(i){var r;return r=t.call(this,i)||this,r.state={measured:!1},r._setRef=r._setRef.bind(P(r)),r._handleExpand=r._handleExpand.bind(P(r)),r}var n=e.prototype;return n.componentDidMount=function(){this.props.estimatedRowHeight&&this.props.rowIndex>=0&&this._measureHeight(!0)},n.componentDidUpdate=function(r,o){var a=this;this.props.estimatedRowHeight&&this.props.rowIndex>=0&&!this.props.getIsResetting()&&this.state.measured&&o.measured&&this.setState({measured:!1},function(){return a._measureHeight()})},n.render=function(){var r=this.props,o=r.isScrolling,a=r.className,s=r.style,l=r.columns,u=r.rowIndex,c=r.rowData,d=r.expandColumnKey,p=r.depth,g=r.rowEventHandlers,S=r.estimatedRowHeight,f=r.rowRenderer,b=r.cellRenderer,v=r.expandIconRenderer,T=r.tagName;r.rowKey,r.getIsResetting,r.onRowHover,r.onRowExpand,r.onRowHeightChange;var x=ze(r,Bu),y=v({rowData:c,rowIndex:u,depth:p,onExpand:this._handleExpand}),_=l.map(function(E,z){return b({isScrolling:o,columns:l,column:E,columnIndex:z,rowData:c,rowIndex:u,expandIcon:E.key===d&&y})});f&&(_=at(f,{isScrolling:o,cells:_,columns:l,rowData:c,rowIndex:u,depth:p}));var w=this._getEventHandlers(g);if(S&&u>=0){s.height;var R=ze(s,Ku);return m(T,{...x,ref:this._setRef,className:a,style:this.state.measured?s:R,...this.state.measured&&w,children:_})}return m(T,{...x,className:a,style:s,...w,children:_})},n._setRef=function(r){this.ref=r},n._handleExpand=function(r){var o=this.props,a=o.onRowExpand,s=o.rowData,l=o.rowIndex,u=o.rowKey;a&&a({expanded:r,rowData:s,rowIndex:l,rowKey:u})},n._measureHeight=function(r){if(!!this.ref){var o=this.props,a=o.style,s=o.rowKey,l=o.onRowHeightChange,u=o.rowIndex,c=o.columns,d=this.ref.getBoundingClientRect().height;this.setState({measured:!0},function(){(r||d!==a.height)&&l(s,d,u,c[0]&&!c[0].__placeholder__&&c[0].frozen)})}},n._getEventHandlers=function(r){r===void 0&&(r={});var o=this.props,a=o.rowData,s=o.rowIndex,l=o.rowKey,u=o.onRowHover,c={};if(Object.keys(r).forEach(function(g){var S=r[g];typeof S=="function"&&(c[g]=function(f){S({rowData:a,rowIndex:s,rowKey:l,event:f})})}),u){var d=c.onMouseEnter;c.onMouseEnter=function(g){u({hovered:!0,rowData:a,rowIndex:s,rowKey:l,event:g}),d&&d(g)};var p=c.onMouseLeave;c.onMouseLeave=function(g){u({hovered:!1,rowData:a,rowIndex:s,rowKey:l,event:g}),p&&p(g)}}return c},e}(K.PureComponent);ci.defaultProps={tagName:"div"};ci.propTypes={isScrolling:h.exports.bool,className:h.exports.string,style:h.exports.object,columns:h.exports.arrayOf(h.exports.object).isRequired,rowData:h.exports.object.isRequired,rowIndex:h.exports.number.isRequired,rowKey:h.exports.oneOfType([h.exports.string,h.exports.number]),expandColumnKey:h.exports.string,depth:h.exports.number,rowEventHandlers:h.exports.object,rowRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),cellRenderer:h.exports.func,expandIconRenderer:h.exports.func,estimatedRowHeight:h.exports.oneOfType([h.exports.number,h.exports.func]),getIsResetting:h.exports.func,onRowHover:h.exports.func,onRowExpand:h.exports.func,onRowHeightChange:h.exports.func,tagName:h.exports.elementType};var Ta=function(e){var n=e.className,i=e.column;return e.columnIndex,m("div",{className:n,children:i.title})};Ta.propTypes={className:h.exports.string,column:h.exports.object,columnIndex:h.exports.number};var Ca=function(e){var n=e.className,i=e.cellData;return e.column,e.columnIndex,e.rowData,e.rowIndex,m("div",{className:n,children:K.isValidElement(i)?i:Mu(i)})};Ca.propTypes={className:h.exports.string,cellData:h.exports.any,column:h.exports.object,columnIndex:h.exports.number,rowData:h.exports.object,rowIndex:h.exports.number};var kt={LEFT:"left",CENTER:"center",RIGHT:"right"},lt={LEFT:"left",RIGHT:"right",DEFAULT:!0,NONE:!1},de=function(t){ht(e,t);function e(){return t.apply(this,arguments)||this}return e}(K.Component);de.propTypes={className:h.exports.oneOfType([h.exports.string,h.exports.func]),headerClassName:h.exports.oneOfType([h.exports.string,h.exports.func]),style:h.exports.object,title:h.exports.string,dataKey:h.exports.string,dataGetter:h.exports.func,align:h.exports.oneOf(["left","center","right"]),flexGrow:h.exports.number,flexShrink:h.exports.number,width:h.exports.number.isRequired,maxWidth:h.exports.number,minWidth:h.exports.number,frozen:h.exports.oneOf(["left","right",!0,!1]),hidden:h.exports.bool,resizable:h.exports.bool,sortable:h.exports.bool,cellRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),headerRenderer:h.exports.oneOfType([h.exports.func,h.exports.element])};de.Alignment=kt;de.FrozenDirection=lt;var ie={ASC:"asc",DESC:"desc"},Uu=["expandable","expanded","indentSize","depth","onExpand"],di=function(t){ht(e,t);function e(i){var r;return r=t.call(this,i)||this,r._handleClick=r._handleClick.bind(P(r)),r}var n=e.prototype;return n.render=function(){var r=this.props,o=r.expandable,a=r.expanded,s=r.indentSize,l=r.depth,u=r.onExpand,c=ze(r,Uu);if(!o&&s===0)return null;var d=Ke("BaseTable__expand-icon",{"BaseTable__expand-icon--expanded":a});return m("div",{...c,className:d,onClick:o&&u?this._handleClick:null,style:{fontFamily:"initial",cursor:"pointer",userSelect:"none",width:"16px",minWidth:"16px",height:"16px",lineHeight:"16px",fontSize:"16px",textAlign:"center",transition:"transform 0.15s ease-out",transform:"rotate("+(o&&a?90:0)+"deg)",marginLeft:l*s},children:o&&"\u25B8"})},n._handleClick=function(r){r.stopPropagation(),r.preventDefault();var o=this.props,a=o.onExpand,s=o.expanded;a(!s)},e}(K.PureComponent);di.defaultProps={depth:0,indentSize:16};di.propTypes={expandable:h.exports.bool,expanded:h.exports.bool,indentSize:h.exports.number,depth:h.exports.number,onExpand:h.exports.func};function lo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lo(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Ia=function(e){var n=e.sortOrder,i=e.className,r=e.style,o=Ke("BaseTable__sort-indicator",i,{"BaseTable__sort-indicator--descending":n===ie.DESC});return m("div",{className:o,style:$u({userSelect:"none",width:"16px",height:"16px",lineHeight:"16px",textAlign:"center"},r),children:n===ie.DESC?"\u2193":"\u2191"})};Ia.propTypes={sortOrder:h.exports.oneOf([ie.ASC,ie.DESC]),className:h.exports.string,style:h.exports.object};var Yu=["style","column","onResizeStart","onResize","onResizeStop","minWidth"];function uo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Gu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uo(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var wn=null;function Xu(t){if(!!t){var e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&ku(t.body,"react-draggable-transparent-selection")}}function co(t){if(!!t)try{if(t.body&&Fu(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{var e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}var He={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Qe=He.mouse,hi=function(t){ht(e,t);function e(i){var r;return r=t.call(this,i)||this,r.isDragging=!1,r.lastX=wn,r.width=0,r._setHandleRef=r._setHandleRef.bind(P(r)),r._handleClick=r._handleClick.bind(P(r)),r._handleMouseDown=r._handleMouseDown.bind(P(r)),r._handleMouseUp=r._handleMouseUp.bind(P(r)),r._handleTouchStart=r._handleTouchStart.bind(P(r)),r._handleTouchEnd=r._handleTouchEnd.bind(P(r)),r._handleDragStart=r._handleDragStart.bind(P(r)),r._handleDragStop=r._handleDragStop.bind(P(r)),r._handleDrag=r._handleDrag.bind(P(r)),r}var n=e.prototype;return n.componentWillUnmount=function(){if(this.handleRef){var r=this.handleRef.ownerDocument;r.removeEventListener(He.mouse.move,this._handleDrag),r.removeEventListener(He.mouse.stop,this._handleDragStop),r.removeEventListener(He.touch.move,this._handleDrag),r.removeEventListener(He.touch.stop,this._handleDragStop),co(r)}},n.render=function(){var r=this.props,o=r.style;r.column,r.onResizeStart,r.onResize,r.onResizeStop,r.minWidth;var a=ze(r,Yu);return m("div",{...a,ref:this._setHandleRef,onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd,style:Gu({userSelect:"none",touchAction:"none",position:"absolute",top:0,bottom:0,right:0,cursor:"col-resize"},o)})},n._setHandleRef=function(r){this.handleRef=r},n._handleClick=function(r){r.stopPropagation()},n._handleMouseDown=function(r){Qe=He.mouse,this._handleDragStart(r)},n._handleMouseUp=function(r){Qe=He.mouse,this._handleDragStop(r)},n._handleTouchStart=function(r){Qe=He.touch,this._handleDragStart(r)},n._handleTouchEnd=function(r){Qe=He.touch,this._handleDragStop(r)},n._handleDragStart=function(r){if(!(typeof r.button=="number"&&r.button!==0)){this.isDragging=!0,this.lastX=wn,this.width=this.props.column.width,this.props.onResizeStart(this.props.column);var o=this.handleRef.ownerDocument;Xu(o),o.addEventListener(Qe.move,this._handleDrag),o.addEventListener(Qe.stop,this._handleDragStop)}},n._handleDragStop=function(r){if(!!this.isDragging){this.isDragging=!1,this.props.onResizeStop(this.props.column);var o=this.handleRef.ownerDocument;co(o),o.removeEventListener(Qe.move,this._handleDrag),o.removeEventListener(Qe.stop,this._handleDragStop)}},n._handleDrag=function(r){var o=r.clientX;r.type===He.touch.move&&(r.preventDefault(),r.targetTouches&&r.targetTouches[0]&&(o=r.targetTouches[0].clientX));var a=this.handleRef.offsetParent,s=a.getBoundingClientRect(),l=o+a.scrollLeft-s.left;if(this.lastX===wn){this.lastX=l;return}var u=this.props,c=u.column,d=u.minWidth,p=c.width,g=c.maxWidth,S=c.minWidth,f=S===void 0?d:S,b=l-this.lastX;if(!!b){this.width=this.width+b,this.lastX=l;var v=this.width;g&&v>g?v=g:v<f&&(v=f),v!==p&&this.props.onResize(c,v)}},e}(K.PureComponent);hi.defaultProps={onResizeStart:ge,onResize:ge,onResizeStop:ge,minWidth:30};hi.propTypes={style:h.exports.object,column:h.exports.object,onResizeStart:h.exports.func,onResize:h.exports.func,onResizeStop:h.exports.func,minWidth:h.exports.number};function ho(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ho(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var Kt=function(){function t(n,i){this._origColumns=[],this.reset(n,i)}var e=t.prototype;return e._cache=function(i,r){return i in this._cached?this._cached[i]:(this._cached[i]=r(),this._cached[i])},e.reset=function(i,r){var o=this;this._columns=i.map(function(a){var s=a.width;if(a.resizable){var l=o._origColumns.findIndex(function(u){return u.key===a.key});l>=0&&o._origColumns[l].width===a.width&&(s=o._columns[l].width)}return Je(Je({},a),{},{width:s})}),this._origColumns=i,this._fixed=r,this._cached={},this._columnStyles=this.recomputeColumnStyles()},e.resetCache=function(){this._cached={}},e.getOriginalColumns=function(){return this._origColumns},e.getColumns=function(){return this._columns},e.getVisibleColumns=function(){var i=this;return this._cache("visibleColumns",function(){return i._columns.filter(function(r){return!r.hidden})})},e.hasFrozenColumns=function(){var i=this;return this._cache("hasFrozenColumns",function(){return i._fixed&&i.getVisibleColumns().some(function(r){return!!r.frozen})})},e.hasLeftFrozenColumns=function(){var i=this;return this._cache("hasLeftFrozenColumns",function(){return i._fixed&&i.getVisibleColumns().some(function(r){return r.frozen===lt.LEFT||r.frozen===!0})})},e.hasRightFrozenColumns=function(){var i=this;return this._cache("hasRightFrozenColumns",function(){return i._fixed&&i.getVisibleColumns().some(function(r){return r.frozen===lt.RIGHT})})},e.getMainColumns=function(){var i=this;return this._cache("mainColumns",function(){var r=i.getVisibleColumns();if(!i.hasFrozenColumns())return r;var o=[];return i.getLeftFrozenColumns().forEach(function(a){var s;o.push(Je(Je({},a),{},(s={},s[t.PlaceholderKey]=!0,s)))}),i.getVisibleColumns().forEach(function(a){a.frozen||o.push(a)}),i.getRightFrozenColumns().forEach(function(a){var s;o.push(Je(Je({},a),{},(s={},s[t.PlaceholderKey]=!0,s)))}),o})},e.getLeftFrozenColumns=function(){var i=this;return this._cache("leftFrozenColumns",function(){return i._fixed?i.getVisibleColumns().filter(function(r){return r.frozen===lt.LEFT||r.frozen===!0}):[]})},e.getRightFrozenColumns=function(){var i=this;return this._cache("rightFrozenColumns",function(){return i._fixed?i.getVisibleColumns().filter(function(r){return r.frozen===lt.RIGHT}):[]})},e.getColumn=function(i){var r=this._columns.findIndex(function(o){return o.key===i});return this._columns[r]},e.getColumnsWidth=function(){var i=this;return this._cache("columnsWidth",function(){return i.recomputeColumnsWidth(i.getVisibleColumns())})},e.getLeftFrozenColumnsWidth=function(){var i=this;return this._cache("leftFrozenColumnsWidth",function(){return i.recomputeColumnsWidth(i.getLeftFrozenColumns())})},e.getRightFrozenColumnsWidth=function(){var i=this;return this._cache("rightFrozenColumnsWidth",function(){return i.recomputeColumnsWidth(i.getRightFrozenColumns())})},e.recomputeColumnsWidth=function(i){return i.reduce(function(r,o){return r+o.width},0)},e.setColumnWidth=function(i,r){var o=this.getColumn(i);o.width=r,this._cached={},this._columnStyles[o.key]=this.recomputeColumnStyle(o)},e.getColumnStyle=function(i){return this._columnStyles[i]},e.getColumnStyles=function(){return this._columnStyles},e.recomputeColumnStyle=function(i){var r=0,o=0;this._fixed||(r=typeof i.flexGrow=="number"?i.flexGrow:0,o=typeof i.flexShrink=="number"?i.flexShrink:1);var a=r+" "+o+" auto",s=Je(Je({},i.style),{},{flex:a,msFlex:a,WebkitFlex:a,width:i.width,overflow:"hidden"});return!this._fixed&&i.maxWidth&&(s.maxWidth=i.maxWidth),!this._fixed&&i.minWidth&&(s.minWidth=i.minWidth),s},e.recomputeColumnStyles=function(){var i=this;return this._columns.reduce(function(r,o){return r[o.key]=i.recomputeColumnStyle(o),r},{})},t}();Kt.PlaceholderKey="__placeholder__";var Qu=["tagName"],Ju=["tagName"],Zu=["width","headerHeight","rowHeight","fixed","estimatedRowHeight"],ec=["width","headerHeight","rowHeight","estimatedRowHeight"],tc=["width","headerHeight","rowHeight","estimatedRowHeight"];function fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fo(Object(n),!0).forEach(function(i){Ot(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var po=he(function(t,e){return t||Du(e)}),mo=function(e,n,i){return{width:e,maxWidth:n,height:i,overflow:"hidden"}},rc={TableCell:Ca,TableHeaderCell:Ta,ExpandIcon:di,SortIndicator:Ia},nc=50,ic=[],sr=function(t){ht(e,t);function e(i){var r;r=t.call(this,i)||this;var o=i.columns,a=i.children,s=i.defaultExpandedRowKeys;return r.state={scrollbarSize:0,hoveredRowKey:null,resizingKey:null,resizingWidth:0,expandedRowKeys:Sn(s)},r.columnManager=new Kt(po(o,a),i.fixed),r._setContainerRef=r._setContainerRef.bind(P(r)),r._setMainTableRef=r._setMainTableRef.bind(P(r)),r._setLeftTableRef=r._setLeftTableRef.bind(P(r)),r._setRightTableRef=r._setRightTableRef.bind(P(r)),r.renderExpandIcon=r.renderExpandIcon.bind(P(r)),r.renderRow=r.renderRow.bind(P(r)),r.renderRowCell=r.renderRowCell.bind(P(r)),r.renderHeader=r.renderHeader.bind(P(r)),r.renderHeaderCell=r.renderHeaderCell.bind(P(r)),r._handleScroll=r._handleScroll.bind(P(r)),r._handleVerticalScroll=r._handleVerticalScroll.bind(P(r)),r._handleRowsRendered=r._handleRowsRendered.bind(P(r)),r._handleRowHover=r._handleRowHover.bind(P(r)),r._handleRowExpand=r._handleRowExpand.bind(P(r)),r._handleColumnResize=Pu(r._handleColumnResize.bind(P(r)),nc),r._handleColumnResizeStart=r._handleColumnResizeStart.bind(P(r)),r._handleColumnResizeStop=r._handleColumnResizeStop.bind(P(r)),r._handleColumnSort=r._handleColumnSort.bind(P(r)),r._handleFrozenRowHeightChange=r._handleFrozenRowHeightChange.bind(P(r)),r._handleRowHeightChange=r._handleRowHeightChange.bind(P(r)),r._getLeftTableContainerStyle=he(mo),r._getRightTableContainerStyle=he(mo),r._flattenOnKeys=he(function(l,u,c){return r._depthMap={},Nu(l,u,r._depthMap,c)}),r._resetColumnManager=he(function(l,u){r.columnManager.reset(l,u),r.props.estimatedRowHeight&&u&&(r.columnManager.hasLeftFrozenColumns()||(r._leftRowHeightMap={}),r.columnManager.hasRightFrozenColumns()||(r._rightRowHeightMap={}))},function(l,u){return xa(l,u,r.props.ignoreFunctionInColumnCompare)}),r._isResetting=!1,r._resetIndex=null,r._rowHeightMap={},r._rowHeightMapBuffer={},r._mainRowHeightMap={},r._leftRowHeightMap={},r._rightRowHeightMap={},r._getEstimatedTotalRowsHeight=he(Ea),r._getRowHeight=r._getRowHeight.bind(P(r)),r._updateRowHeights=Hu(function(){r._isResetting=!0,r._rowHeightMap=Ze(Ze({},r._rowHeightMap),r._rowHeightMapBuffer),r.resetAfterRowIndex(r._resetIndex,!1),r._rowHeightMapBuffer={},r._resetIndex=null,r.forceUpdateTable(),r.forceUpdate(),r._isResetting=!1},0),r._scroll={scrollLeft:0,scrollTop:0},r._scrollHeight=0,r._lastScannedRowIndex=-1,r._hasDataChangedSinceEndReached=!0,r._data=i.data,r._depthMap={},r._horizontalScrollbarSize=0,r._verticalScrollbarSize=0,r._scrollbarPresenceChanged=!1,r}var n=e.prototype;return n.getDOMNode=function(){return this.tableNode},n.getColumnManager=function(){return this.columnManager},n.getExpandedRowKeys=function(){var r=this.props.expandedRowKeys;return r!==void 0?r||ic:this.state.expandedRowKeys},n.getExpandedState=function(){return{expandedData:this._data,expandedRowKeys:this.getExpandedRowKeys(),expandedDepthMap:this._depthMap}},n.getTotalRowsHeight=function(){var r=this.props,o=r.rowHeight,a=r.estimatedRowHeight;return a?this.table?this.table.getTotalRowsHeight():this._getEstimatedTotalRowsHeight(this._data,a):this._data.length*o},n.getTotalColumnsWidth=function(){return this.columnManager.getColumnsWidth()},n.forceUpdateTable=function(){this.table&&this.table.forceUpdateTable(),this.leftTable&&this.leftTable.forceUpdateTable(),this.rightTable&&this.rightTable.forceUpdateTable()},n.resetAfterRowIndex=function(r,o){r===void 0&&(r=0),o===void 0&&(o=!0),this.props.estimatedRowHeight&&(this.table&&this.table.resetAfterRowIndex(r,o),this.leftTable&&this.leftTable.resetAfterRowIndex(r,o),this.rightTable&&this.rightTable.resetAfterRowIndex(r,o))},n.resetRowHeightCache=function(){!this.props.estimatedRowHeight||(this._resetIndex=null,this._rowHeightMapBuffer={},this._rowHeightMap={},this._mainRowHeightMap={},this._leftRowHeightMap={},this._rightRowHeightMap={})},n.scrollToPosition=function(r){this._scroll=r,this.table&&this.table.scrollToPosition(r),this.leftTable&&this.leftTable.scrollToTop(r.scrollTop),this.rightTable&&this.rightTable.scrollToTop(r.scrollTop)},n.scrollToTop=function(r){this._scroll.scrollTop=r,this.table&&this.table.scrollToPosition(this._scroll),this.leftTable&&this.leftTable.scrollToTop(r),this.rightTable&&this.rightTable.scrollToTop(r)},n.scrollToLeft=function(r){this._scroll.scrollLeft=r,this.table&&this.table.scrollToPosition(this._scroll)},n.scrollToRow=function(r,o){r===void 0&&(r=0),o===void 0&&(o="auto"),this.table&&this.table.scrollToRow(r,o),this.leftTable&&this.leftTable.scrollToRow(r,o),this.rightTable&&this.rightTable.scrollToRow(r,o)},n.setExpandedRowKeys=function(r){this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:Sn(r)})},n.renderExpandIcon=function(r){var o=r.rowData,a=r.rowIndex,s=r.depth,l=r.onExpand,u=this.props,c=u.rowKey,d=u.expandColumnKey,p=u.expandIconProps;if(!d)return null;var g=a>=0&&Au(o),S=a>=0&&this.getExpandedRowKeys().indexOf(o[c])>=0,f=Le(p,{rowData:o,rowIndex:a,depth:s,expandable:g,expanded:S}),b=this._getComponent("ExpandIcon");return m(b,{depth:s,expandable:g,expanded:S,...f,onExpand:l})},n.renderRow=function(r){var o,a=r.isScrolling,s=r.columns,l=r.rowData,u=r.rowIndex,c=r.style,d=this.props,p=d.rowClassName,g=d.rowRenderer,S=d.rowEventHandlers,f=d.expandColumnKey,b=d.estimatedRowHeight,v=Le(p,{columns:s,rowData:l,rowIndex:u}),T=Le(this.props.rowProps,{columns:s,rowData:l,rowIndex:u}),x=l[this.props.rowKey],y=this._depthMap[x]||0,_=Ke(this._prefixClass("row"),v,(o={},o[this._prefixClass("row--depth-"+y)]=!!f&&u>=0,o[this._prefixClass("row--expanded")]=!!f&&this.getExpandedRowKeys().indexOf(x)>=0,o[this._prefixClass("row--hovered")]=!a&&x===this.state.hoveredRowKey,o[this._prefixClass("row--frozen")]=y===0&&u<0,o[this._prefixClass("row--customized")]=g,o)),w=this.columnManager.hasFrozenColumns(),R=Ze(Ze({},T),{},{role:"row",key:"row-"+x,isScrolling:a,className:_,style:c,columns:s,rowIndex:u,rowData:l,rowKey:x,expandColumnKey:f,depth:y,rowEventHandlers:S,rowRenderer:g,estimatedRowHeight:u>=0?b:void 0,getIsResetting:this._getIsResetting,cellRenderer:this.renderRowCell,expandIconRenderer:this.renderExpandIcon,onRowExpand:this._handleRowExpand,onRowHover:w?this._handleRowHover:null,onRowHeightChange:w?this._handleFrozenRowHeightChange:this._handleRowHeightChange});return m(ci,{...R})},n.renderRowCell=function(r){var o,a=r.isScrolling,s=r.columns,l=r.column,u=r.columnIndex,c=r.rowData,d=r.rowIndex,p=r.expandIcon;if(l[Kt.PlaceholderKey])return m("div",{className:this._prefixClass("row-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)},"row-"+c[this.props.rowKey]+"-cell-"+l.key+"-placeholder");var g=l.className,S=l.dataKey,f=l.dataGetter,b=l.cellRenderer,v=this._getComponent("TableCell"),T=f?f({columns:s,column:l,columnIndex:u,rowData:c,rowIndex:d}):Lu(c,S),x={isScrolling:a,cellData:T,columns:s,column:l,columnIndex:u,rowData:c,rowIndex:d,container:this},y=at(b||m(v,{className:this._prefixClass("row-cell-text")}),x),_=Le(g,{cellData:T,columns:s,column:l,columnIndex:u,rowData:c,rowIndex:d}),w=Ke(this._prefixClass("row-cell"),_,(o={},o[this._prefixClass("row-cell--align-center")]=l.align===kt.CENTER,o[this._prefixClass("row-cell--align-right")]=l.align===kt.RIGHT,o)),R=Le(this.props.cellProps,{columns:s,column:l,columnIndex:u,rowData:c,rowIndex:d}),E=R||{},z=E.tagName,O=ze(E,Qu),A=z||"div";return L(A,{role:"gridcell",...O,className:w,style:this.columnManager.getColumnStyle(l.key),children:[p,y]},"row-"+c[this.props.rowKey]+"-cell-"+l.key)},n.renderHeader=function(r){var o,a=r.columns,s=r.headerIndex,l=r.style,u=this.props,c=u.headerClassName,d=u.headerRenderer,p=Le(c,{columns:a,headerIndex:s}),g=Le(this.props.headerProps,{columns:a,headerIndex:s}),S=Ke(this._prefixClass("header-row"),p,(o={},o[this._prefixClass("header-row--resizing")]=!!this.state.resizingKey,o[this._prefixClass("header-row--customized")]=d,o)),f=Ze(Ze({},g),{},{role:"row",key:"header-"+s,className:S,style:l,columns:a,headerIndex:s,headerRenderer:d,cellRenderer:this.renderHeaderCell,expandColumnKey:this.props.expandColumnKey,expandIcon:this._getComponent("ExpandIcon")});return m(ui,{...f})},n.renderHeaderCell=function(r){var o,a,s=r.columns,l=r.column,u=r.columnIndex,c=r.headerIndex,d=r.expandIcon;if(l[Kt.PlaceholderKey])return m("div",{className:this._prefixClass("header-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)},"header-"+c+"-cell-"+l.key+"-placeholder");var p=l.headerClassName,g=l.headerRenderer,S=this.props,f=S.sortBy,b=S.sortState,v=S.headerCellProps,T=this._getComponent("TableHeaderCell"),x=this._getComponent("SortIndicator"),y={columns:s,column:l,columnIndex:u,headerIndex:c,container:this},_=at(g||m(T,{className:this._prefixClass("header-cell-text")}),y),w,R;if(b){var E=b[l.key];w=E===ie.ASC||E===ie.DESC,R=w?E:ie.ASC}else w=l.key===f.key,R=w?f.order:ie.ASC;var z=Le(p,{columns:s,column:l,columnIndex:u,headerIndex:c}),O=Ke(this._prefixClass("header-cell"),z,(o={},o[this._prefixClass("header-cell--align-center")]=l.align===kt.CENTER,o[this._prefixClass("header-cell--align-right")]=l.align===kt.RIGHT,o[this._prefixClass("header-cell--sortable")]=l.sortable,o[this._prefixClass("header-cell--sorting")]=w,o[this._prefixClass("header-cell--resizing")]=l.key===this.state.resizingKey,o)),A=Le(v,{columns:s,column:l,columnIndex:u,headerIndex:c}),H=A||{},F=H.tagName,q=ze(H,Ju),V=F||"div";return L(V,{role:"gridcell",onClick:l.sortable?this._handleColumnSort:null,...q,className:O,style:this.columnManager.getColumnStyle(l.key),"data-key":l.key,children:[d,_,l.sortable&&m(x,{sortOrder:R,className:Ke(this._prefixClass("sort-indicator"),(a={},a[this._prefixClass("sort-indicator--descending")]=R===ie.DESC,a))}),l.resizable&&m(hi,{className:this._prefixClass("column-resizer"),column:l,onResizeStart:this._handleColumnResizeStart,onResizeStop:this._handleColumnResizeStop,onResize:this._handleColumnResize})]},"header-"+c+"-cell-"+l.key)},n.renderMainTable=function(){var r=this.props,o=r.width,a=r.headerHeight,s=r.rowHeight,l=r.fixed,u=r.estimatedRowHeight,c=ze(r,Zu),d=this._getTableHeight(),p=o-this._verticalScrollbarSize;if(l){var g=this.columnManager.getColumnsWidth();p=Math.max(Math.round(g),p)}return m(Tr,{...c,...this.state,className:this._prefixClass("table-main"),ref:this._setMainTableRef,data:this._data,columns:this.columnManager.getMainColumns(),width:o,height:d,headerHeight:a,rowHeight:s,estimatedRowHeight:u,getRowHeight:u?this._getRowHeight:void 0,headerWidth:p+(l?this._verticalScrollbarSize:0),bodyWidth:p,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleScroll,onRowsRendered:this._handleRowsRendered})},n.renderLeftTable=function(){if(!this.columnManager.hasLeftFrozenColumns())return null;var r=this.props,o=r.width,a=r.headerHeight,s=r.rowHeight,l=r.estimatedRowHeight,u=ze(r,ec),c=this._getFrozenContainerHeight(),d=this._verticalScrollbarSize||20,p=this.columnManager.getLeftFrozenColumnsWidth();return m(Tr,{...u,...this.state,containerStyle:this._getLeftTableContainerStyle(p,o,c),className:this._prefixClass("table-frozen-left"),ref:this._setLeftTableRef,data:this._data,columns:this.columnManager.getLeftFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:p+d,height:c,headerHeight:a,rowHeight:s,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:p+d,bodyWidth:p+d,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:ge})},n.renderRightTable=function(){if(!this.columnManager.hasRightFrozenColumns())return null;var r=this.props,o=r.width,a=r.headerHeight,s=r.rowHeight,l=r.estimatedRowHeight,u=ze(r,tc),c=this._getFrozenContainerHeight(),d=this.columnManager.getRightFrozenColumnsWidth(),p=this._verticalScrollbarSize;return m(Tr,{...u,...this.state,containerStyle:this._getLeftTableContainerStyle(d+p,o,c),className:this._prefixClass("table-frozen-right"),ref:this._setRightTableRef,data:this._data,columns:this.columnManager.getRightFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:d+p,height:c,headerHeight:a,rowHeight:s,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:d+p,bodyWidth:d,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:ge})},n.renderResizingLine=function(){var r=this.props,o=r.width,a=r.fixed,s=this.state.resizingKey;if(!a||!s)return null;var l=this.columnManager.getMainColumns(),u=l.findIndex(function(v){return v.key===s}),c=l[u],d=c.width,p=c.frozen,g=this.columnManager.recomputeColumnsWidth(l.slice(0,u)),S=g+d;if(!p)S-=this._scroll.scrollLeft;else if(p===lt.RIGHT){var f=this.columnManager.recomputeColumnsWidth(l.slice(u+1));f+d>o-this._verticalScrollbarSize?S=d:S=o-this._verticalScrollbarSize-f}var b={left:S,height:this._getTableHeight()-this._horizontalScrollbarSize};return m("div",{className:this._prefixClass("resizing-line"),style:b})},n.renderFooter=function(){var r=this.props,o=r.footerHeight,a=r.footerRenderer;return o===0?null:m("div",{className:this._prefixClass("footer"),style:{height:o},children:at(a)})},n.renderEmptyLayer=function(){var r=this.props,o=r.data,a=r.frozenData,s=r.footerHeight,l=r.emptyRenderer;if(o&&o.length||a&&a.length)return null;var u=this._getHeaderHeight();return m("div",{className:this._prefixClass("empty-layer"),style:{top:u,bottom:s},children:at(l)})},n.renderOverlay=function(){var r=this.props.overlayRenderer;return m("div",{className:this._prefixClass("overlay"),children:!!r&&at(r)})},n.render=function(){var r,o=this.props,a=o.columns,s=o.children,l=o.width,u=o.fixed,c=o.data,d=o.frozenData,p=o.expandColumnKey,g=o.disabled,S=o.className,f=o.style,b=o.footerHeight,v=o.classPrefix,T=o.estimatedRowHeight;this._resetColumnManager(po(a,s),u);var x=p?this._flattenOnKeys(c,this.getExpandedRowKeys(),this.props.rowKey):c;this._data!==x&&(this.resetAfterRowIndex(0,!1),this._data=x),this._calcScrollbarSizes(),this._totalRowsHeight=this.getTotalRowsHeight();var y=Ze(Ze({},f),{},{width:l,height:this._getTableHeight()+b,position:"relative"}),_=Ke(v,S,(r={},r[v+"--fixed"]=u,r[v+"--expandable"]=!!p,r[v+"--empty"]=c.length===0,r[v+"--has-frozen-rows"]=d.length>0,r[v+"--has-frozen-columns"]=this.columnManager.hasFrozenColumns(),r[v+"--disabled"]=g,r[v+"--dynamic"]=!!T,r));return L("div",{ref:this._setContainerRef,className:_,style:y,children:[this.renderFooter(),this.renderMainTable(),this.renderLeftTable(),this.renderRightTable(),this.renderResizingLine(),this.renderEmptyLayer(),this.renderOverlay()]})},n.componentDidMount=function(){var r=this.props.getScrollbarSize();r>0&&this.setState({scrollbarSize:r})},n.componentDidUpdate=function(r,o){var a=this.props,s=a.data,l=a.height,u=a.maxHeight,c=a.estimatedRowHeight;s!==r.data&&(this._lastScannedRowIndex=-1,this._hasDataChangedSinceEndReached=!0),(u!==r.maxHeight||l!==r.height)&&this._maybeCallOnEndReached(),this._maybeScrollbarPresenceChange(),c&&this.getTotalRowsHeight()!==this._totalRowsHeight&&this.forceUpdate()},n._prefixClass=function(r){return this.props.classPrefix+"__"+r},n._setContainerRef=function(r){this.tableNode=r},n._setMainTableRef=function(r){this.table=r},n._setLeftTableRef=function(r){this.leftTable=r},n._setRightTableRef=function(r){this.rightTable=r},n._getComponent=function(r){return this.props.components&&this.props.components[r]?this.props.components[r]:rc[r]},n._getRowHeight=function(r){var o=this.props,a=o.estimatedRowHeight,s=o.rowKey;return this._rowHeightMap[this._data[r][s]]||Le(a,{rowData:this._data[r],rowIndex:r})},n._getIsResetting=function(){return this._isResetting},n._getHeaderHeight=function(){var r=this.props.headerHeight;return Array.isArray(r)?r.reduce(function(o,a){return o+a},0):r},n._getFrozenRowsHeight=function(){var r=this.props,o=r.frozenData,a=r.rowHeight;return o.length*a},n._getTableHeight=function(){var r=this.props,o=r.height,a=r.maxHeight,s=r.footerHeight,l=o-s;if(a>0){var u=this._getFrozenRowsHeight(),c=this.getTotalRowsHeight(),d=this._getHeaderHeight(),p=d+u+c+this._horizontalScrollbarSize;l=Math.min(p,a-s)}return l},n._getBodyHeight=function(){return this._getTableHeight()-this._getHeaderHeight()-this._getFrozenRowsHeight()},n._getFrozenContainerHeight=function(){var r=this.props.maxHeight,o=this._getTableHeight()-(this._data.length>0?this._horizontalScrollbarSize:0);if(r>0)return o;var a=this.getTotalRowsHeight()+this._getHeaderHeight()+this._getFrozenRowsHeight();return Math.min(o,a)},n._calcScrollbarSizes=function(){var r=this.props,o=r.fixed,a=r.width,s=this.state.scrollbarSize,l=this.getTotalRowsHeight(),u=this.getTotalColumnsWidth(),c=this._horizontalScrollbarSize,d=this._verticalScrollbarSize;s===0?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0):!o||u<=a-s?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=l>this._getBodyHeight()?s:0):u>a?(this._horizontalScrollbarSize=s,this._verticalScrollbarSize=l>this._getBodyHeight()-this._horizontalScrollbarSize?s:0):(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0,l>this._getBodyHeight()&&(this._horizontalScrollbarSize=s,this._verticalScrollbarSize=s)),(c!==this._horizontalScrollbarSize||d!==this._verticalScrollbarSize)&&(this._scrollbarPresenceChanged=!0)},n._maybeScrollbarPresenceChange=function(){if(this._scrollbarPresenceChanged){var r=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,r({size:this.state.scrollbarSize,horizontal:this._horizontalScrollbarSize>0,vertical:this._verticalScrollbarSize>0})}},n._maybeCallOnEndReached=function(){var r=this.props,o=r.onEndReached,a=r.onEndReachedThreshold,s=this._scroll.scrollTop,l=this.getTotalRowsHeight(),u=this._getBodyHeight();if(!(!o||!u||!l)){var c=l-s-u+this._horizontalScrollbarSize;this._lastScannedRowIndex>=0&&c<=a&&(this._hasDataChangedSinceEndReached||l!==this._scrollHeight)&&(this._hasDataChangedSinceEndReached=!1,this._scrollHeight=l,o({distanceFromEnd:c}))}},n._handleScroll=function(r){var o=this._scroll.scrollTop;this.scrollToPosition(r),this.props.onScroll(r),r.scrollTop>o&&this._maybeCallOnEndReached()},n._handleVerticalScroll=function(r){var o=r.scrollTop,a=this._scroll.scrollTop;o!==a&&this.scrollToTop(o),o>a&&this._maybeCallOnEndReached()},n._handleRowsRendered=function(r){this.props.onRowsRendered(r),r.overscanStopIndex>this._lastScannedRowIndex&&(this._lastScannedRowIndex=r.overscanStopIndex,this._maybeCallOnEndReached())},n._handleRowHover=function(r){var o=r.hovered,a=r.rowKey;this.setState({hoveredRowKey:o?a:null})},n._handleRowExpand=function(r){var o=r.expanded,a=r.rowData,s=r.rowIndex,l=r.rowKey,u=Sn(this.getExpandedRowKeys());if(o)!u.indexOf(l)>=0&&u.push(l);else{var c=u.indexOf(l);c>-1&&u.splice(c,1)}this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:u}),this.props.onRowExpand({expanded:o,rowData:a,rowIndex:s,rowKey:l}),this.props.onExpandedRowsChange(u)},n._handleColumnResize=function(r,o){var a=r.key;this.columnManager.setColumnWidth(a,o),this.setState({resizingWidth:o});var s=this.columnManager.getColumn(a);this.props.onColumnResize({column:s,width:o})},n._handleColumnResizeStart=function(r){var o=r.key;this.setState({resizingKey:o})},n._handleColumnResizeStop=function(){var r=this.state,o=r.resizingKey,a=r.resizingWidth;if(this.setState({resizingKey:null,resizingWidth:0}),!(!o||!a)){var s=this.columnManager.getColumn(o);this.props.onColumnResizeEnd({column:s,width:a})}},n._handleColumnSort=function(r){var o=r.currentTarget.dataset.key,a=this.props,s=a.sortBy,l=a.sortState,u=a.onColumnSort,c=ie.ASC;l?c=l[o]===ie.ASC?ie.DESC:ie.ASC:o===s.key&&(c=s.order===ie.ASC?ie.DESC:ie.ASC);var d=this.columnManager.getColumn(o);u({column:d,key:o,order:c})},n._handleFrozenRowHeightChange=function(r,o,a,s){s?s===lt.RIGHT?this._rightRowHeightMap[r]=o:this._leftRowHeightMap[r]=o:this._mainRowHeightMap[r]=o;var l=Math.max(this._mainRowHeightMap[r]||0,this._leftRowHeightMap[r]||0,this._rightRowHeightMap[r]||0);this._rowHeightMap[r]!==l&&this._handleRowHeightChange(r,l,a)},n._handleRowHeightChange=function(r,o,a){this._resetIndex===null?this._resetIndex=a:this._resetIndex>a&&(this._resetIndex=a),this._rowHeightMapBuffer[r]=o,this._updateRowHeights()},e}(K.PureComponent);sr.Column=de;sr.PlaceholderKey=Kt.PlaceholderKey;sr.defaultProps={classPrefix:"BaseTable",rowKey:"id",data:[],frozenData:[],fixed:!1,headerHeight:50,rowHeight:50,footerHeight:0,defaultExpandedRowKeys:[],sortBy:{},useIsScrolling:!1,overscanRowCount:1,onEndReachedThreshold:500,getScrollbarSize:qu,ignoreFunctionInColumnCompare:!0,onScroll:ge,onRowsRendered:ge,onScrollbarPresenceChange:ge,onRowExpand:ge,onExpandedRowsChange:ge,onColumnSort:ge,onColumnResize:ge,onColumnResizeEnd:ge};sr.propTypes={classPrefix:h.exports.string,className:h.exports.string,style:h.exports.object,children:h.exports.node,columns:h.exports.arrayOf(h.exports.shape(de.propTypes)),data:h.exports.array.isRequired,frozenData:h.exports.array,rowKey:h.exports.oneOfType([h.exports.string,h.exports.number]).isRequired,width:h.exports.number.isRequired,height:h.exports.number,maxHeight:h.exports.number,rowHeight:h.exports.number,estimatedRowHeight:h.exports.oneOfType([h.exports.number,h.exports.func]),headerHeight:h.exports.oneOfType([h.exports.number,h.exports.arrayOf(h.exports.number)]).isRequired,footerHeight:h.exports.number,fixed:h.exports.bool,disabled:h.exports.bool,overlayRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),emptyRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),footerRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),headerRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),rowRenderer:h.exports.oneOfType([h.exports.func,h.exports.element]),headerClassName:h.exports.oneOfType([h.exports.string,h.exports.func]),rowClassName:h.exports.oneOfType([h.exports.string,h.exports.func]),headerProps:h.exports.oneOfType([h.exports.object,h.exports.func]),headerCellProps:h.exports.oneOfType([h.exports.object,h.exports.func]),rowProps:h.exports.oneOfType([h.exports.object,h.exports.func]),cellProps:h.exports.oneOfType([h.exports.object,h.exports.func]),expandIconProps:h.exports.oneOfType([h.exports.object,h.exports.func]),expandColumnKey:h.exports.string,defaultExpandedRowKeys:h.exports.arrayOf(h.exports.oneOfType([h.exports.string,h.exports.number])),expandedRowKeys:h.exports.arrayOf(h.exports.oneOfType([h.exports.string,h.exports.number])),onRowExpand:h.exports.func,onExpandedRowsChange:h.exports.func,sortBy:h.exports.shape({key:h.exports.string,order:h.exports.oneOf([ie.ASC,ie.DESC])}),sortState:h.exports.object,onColumnSort:h.exports.func,onColumnResize:h.exports.func,onColumnResizeEnd:h.exports.func,useIsScrolling:h.exports.bool,overscanRowCount:h.exports.number,getScrollbarSize:h.exports.func,onScroll:h.exports.func,onEndReached:h.exports.func,onEndReachedThreshold:h.exports.number,onRowsRendered:h.exports.func,onScrollbarPresenceChange:h.exports.func,rowEventHandlers:h.exports.object,ignoreFunctionInColumnCompare:h.exports.bool,components:h.exports.shape({TableCell:h.exports.elementType,TableHeaderCell:h.exports.elementType,ExpandIcon:h.exports.elementType,SortIndicator:h.exports.elementType})};var oc=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ac=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),sc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lc=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},_o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},uc=function(){function t(e,n){var i=[],r=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(i.push(l.value),!(n&&i.length===n));r=!0);}catch(u){o=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ee=void 0;typeof window<"u"?Ee=window:typeof self<"u"?Ee=self:Ee=global;var Bn=null,Kn=null,go=20,bn=Ee.clearTimeout,yo=Ee.setTimeout,Rn=Ee.cancelAnimationFrame||Ee.mozCancelAnimationFrame||Ee.webkitCancelAnimationFrame,vo=Ee.requestAnimationFrame||Ee.mozRequestAnimationFrame||Ee.webkitRequestAnimationFrame;Rn==null||vo==null?(Bn=bn,Kn=function(e){return yo(e,go)}):(Bn=function(e){var n=uc(e,2),i=n[0],r=n[1];Rn(i),bn(r)},Kn=function(e){var n=vo(function(){bn(i),e()}),i=yo(function(){Rn(n),e()},go);return[n,i]});function cc(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=typeof document<"u"&&document.attachEvent;if(!l){a=function(y){var _=y.__resizeTriggers__,w=_.firstElementChild,R=_.lastElementChild,E=w.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,E.style.width=w.offsetWidth+1+"px",E.style.height=w.offsetHeight+1+"px",w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight},o=function(y){return y.offsetWidth!==y.__resizeLast__.width||y.offsetHeight!==y.__resizeLast__.height},s=function(y){if(!(y.target.className&&typeof y.target.className.indexOf=="function"&&y.target.className.indexOf("contract-trigger")<0&&y.target.className.indexOf("expand-trigger")<0)){var _=this;a(this),this.__resizeRAF__&&Bn(this.__resizeRAF__),this.__resizeRAF__=Kn(function(){o(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(E){E.call(_,y)}))})}};var u=!1,c="";i="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{var S=document.createElement("fakeelement");if(S.style.animationName!==void 0&&(u=!0),u===!1){for(var f=0;f<d.length;f++)if(S.style[d[f]+"AnimationName"]!==void 0){g=d[f],c="-"+g.toLowerCase()+"-",i=p[f],u=!0;break}}}n="resizeanim",e="@"+c+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",r=c+"animation: 1ms "+n+"; "}var b=function(y){if(!y.getElementById("detectElementResize")){var _=(e||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',w=y.head||y.getElementsByTagName("head")[0],R=y.createElement("style");R.id="detectElementResize",R.type="text/css",t!=null&&R.setAttribute("nonce",t),R.styleSheet?R.styleSheet.cssText=_:R.appendChild(y.createTextNode(_)),w.appendChild(R)}},v=function(y,_){if(l)y.attachEvent("onresize",_);else{if(!y.__resizeTriggers__){var w=y.ownerDocument,R=Ee.getComputedStyle(y);R&&R.position==="static"&&(y.style.position="relative"),b(w),y.__resizeLast__={},y.__resizeListeners__=[],(y.__resizeTriggers__=w.createElement("div")).className="resize-triggers";var E=w.createElement("div");E.className="expand-trigger",E.appendChild(w.createElement("div"));var z=w.createElement("div");z.className="contract-trigger",y.__resizeTriggers__.appendChild(E),y.__resizeTriggers__.appendChild(z),y.appendChild(y.__resizeTriggers__),a(y),y.addEventListener("scroll",s,!0),i&&(y.__resizeTriggers__.__animationListener__=function(A){A.animationName===n&&a(y)},y.__resizeTriggers__.addEventListener(i,y.__resizeTriggers__.__animationListener__))}y.__resizeListeners__.push(_)}},T=function(y,_){if(l)y.detachEvent("onresize",_);else if(y.__resizeListeners__.splice(y.__resizeListeners__.indexOf(_),1),!y.__resizeListeners__.length){y.removeEventListener("scroll",s,!0),y.__resizeTriggers__.__animationListener__&&(y.__resizeTriggers__.removeEventListener(i,y.__resizeTriggers__.__animationListener__),y.__resizeTriggers__.__animationListener__=null);try{y.__resizeTriggers__=!y.removeChild(y.__resizeTriggers__)}catch{}}};return{addResizeListener:v,removeResizeListener:T}}var fi=function(t){lc(e,t);function e(){var n,i,r,o;oc(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=(i=(r=_o(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(s))),r),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var u=r.props,c=u.disableHeight,d=u.disableWidth,p=u.onResize;if(r._parentNode){var g=r._parentNode.offsetHeight||0,S=r._parentNode.offsetWidth||0,f=window.getComputedStyle(r._parentNode)||{},b=parseInt(f.paddingLeft,10)||0,v=parseInt(f.paddingRight,10)||0,T=parseInt(f.paddingTop,10)||0,x=parseInt(f.paddingBottom,10)||0,y=g-T-x,_=S-b-v;(!c&&r.state.height!==y||!d&&r.state.width!==_)&&(r.setState({height:g-T-x,width:S-b-v}),p({height:g,width:S}))}},r._setRef=function(u){r._autoSizer=u},i),_o(r,o)}return ac(e,[{key:"componentDidMount",value:function(){var i=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=cc(i),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var i=this.props,r=i.children,o=i.className,a=i.disableHeight,s=i.disableWidth,l=i.style,u=this.state,c=u.height,d=u.width,p={overflow:"visible"},g={},S=!1;return a||(c===0&&(S=!0),p.height=0,g.height=c),s||(d===0&&(S=!0),p.width=0,g.width=d),C.exports.createElement("div",{className:o,ref:this._setRef,style:sc({},p,l)},!S&&r(g))}}]),e}(C.exports.PureComponent);fi.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Oa=function(e){var n=e.className,i=e.width,r=e.height,o=e.children,a=e.onResize,s=typeof i=="number",l=typeof r=="number";return s&&l?m("div",{className:n,style:{width:i,height:r,position:"relative"},children:o({width:i,height:r})}):m(fi,{className:n,disableWidth:s,disableHeight:l,onResize:a,children:function(u){return o({width:s?i:u.width,height:l?r:u.height})}})};Oa.propTypes={className:h.exports.string,width:h.exports.number,height:h.exports.number,children:h.exports.func.isRequired,onResize:h.exports.func};var fe=(t=>(t.DISALLOWED="DISALLOWED",t.REQUIRED="REQUIRED",t.TRACKED="TRACKED",t.UNTRACKED="UNTRACKED",t))(fe||{});function So(t){return t.benefactorAcl.resourceAccess.some(e=>e.principalId===il||e.principalId===ol||e.principalId===al)}const Ut=t=>{var D,M,B;const{entityId:e,versionNumber:n,flexWrap:i="nowrap",justifyContent:r="flex-start",showIsPublicPrivate:o=!0,showHasLocalSharingSettings:a=!0,showHasAnnotations:s=!0,showHasWiki:l=!0,showHasDiscussionThread:u=!0,showUnlink:c=!0,onUnlink:d=()=>{},onUnlinkError:p=()=>{},canOpenModal:g}=t;let S;(I=>{I.NO_SCHEMA="",I.VALID="Valid",I.INVALID="Invalid",I.ANNOTATIONS_MISSING="Missing"})(S||(S={}));const{ref:f,inView:b}=na(),{data:v}=it(e,n,ta,{enabled:b,staleTime:60*1e3}),[T,x]=C.exports.useState(!1),[y,_]=C.exports.useState(!1),[w,R]=C.exports.useState(""),{isInExperimentalMode:E}=ct(),{data:z}=ul(e,{enabled:E&&b,staleTime:60*1e3}),{data:O}=cl(e,{enabled:E&&b&&!!z,staleTime:60*1e3}),A=10,H=(v==null?void 0:v.annotations)&&!pl(v.annotations.annotations)?Object.keys(v.annotations.annotations).length:0;C.exports.useEffect(()=>{E&&O&&(O.isValid?R("Valid"):R(H?"Invalid":"Missing"))},[O,E,H,v,"Valid","Invalid","Missing"]);const{mutate:F}=ll({onSuccess:(I,$)=>{d($)},onError:p}),q=m(Q,{children:v?Object.entries((M=(D=v.annotations)==null?void 0:D.annotations)!=null?M:[]).reduce((I,$,k)=>k<A||k===A&&A===H?L(Q,{children:[I,L("tr",{children:[m("td",{children:m("b",{children:$[0]})}),m("td",{children:$[1].value.join(", ")})]})]}):I,m(Q,{})):""}),V=m(Q,{children:E&&z?L("tr",{children:[m("td",{children:m("b",{children:"Validation Schema"})}),m("td",{children:z.jsonSchemaVersionInfo.schemaName})]}):""}),N=L("div",{className:"EntityBadgeTooltip",children:[O?L("p",{children:[w," Annotations"]}):"",L("table",{children:[q||"",V]}),H>A?L("p",{children:["and ",H-A," more"]}):""]});return m("div",{className:"EntityBadge",ref:f,style:{flexWrap:i,justifyContent:r},children:v&&L(Q,{children:[m("div",{onClick:I=>I.stopPropagation(),children:m(dl,{entityId:e,show:T,showTabs:!1,onClose:()=>x(!1),initialTab:hl.ANNOTATIONS})}),o&&v.benefactorAcl&&So(v)?m(Pe,{title:"Public",enterNextDelay:100,placement:"right",children:m(Zs,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-public-icon"})}):null,o&&v.benefactorAcl&&!So(v)?m(Pe,{title:"Private",enterNextDelay:100,placement:"right",children:m(As,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-private-icon"})}):null,a&&v.benefactorAcl&&e===v.benefactorAcl.id?m(Pe,{title:"Sharing Settings have been set",enterNextDelay:100,placement:"right",children:m(Ns,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"sharing-settings-icon"})}):null,s&&!!(H||O)&&m(Pe,{title:N,enterNextDelay:100,placement:"right",children:m(xl,{"aria-hidden":!1,role:g?"button":"img",className:`EntityBadge__Badge ${w}`,style:g?{cursor:"pointer"}:void 0,onClick:g?()=>x(!0):void 0,"data-html":!0,"data-testid":"annotations-icon"})}),l&&v.rootWikiId&&m(Pe,{title:"Has a wiki",enterNextDelay:100,placement:"right",children:m(bl,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"wiki-icon"})}),u&&!!v.threadCount&&v.threadCount>0&&m(Pe,{title:"Has been mentioned in discussion",enterNextDelay:100,placement:"right",children:m(wl,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"discussion-icon"})}),c&&v.entityType===Ye.LINK&&((B=v.permissions)==null?void 0:B.canDelete)&&L(Q,{children:[m(fl,{show:y,title:"Confirm Unlink",modalBody:"Are you sure you want to remove this link? The original object will not be changed.",confirmButtonText:"Unlink",confirmButtonVariant:"danger",onConfirm:()=>{F(e),_(!1)},onCancel:()=>{_(!1)}}),m(Pe,{title:"Remove this link",enterNextDelay:100,placement:"right",children:m(Rl,{"aria-hidden":!1,role:"button",onClick:()=>_(!0),className:"EntityBadge__Badge Unlink","data-testid":"unlink-icon"})})]})]})})};try{Ut.displayName="EntityBadgeIcons",Ut.__docgenInfo={description:`Stateless component used to show icons that show an entity's status.
Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java`,displayName:"EntityBadgeIcons",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"initial"'},{value:'"wrap"'},{value:'"nowrap"'},{value:'"-moz-initial"'},{value:'"revert"'},{value:'"unset"'},{value:'"wrap-reverse"'}]}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},showIsPublicPrivate:{defaultValue:null,description:"Shows an icon indicating if the entity is 'public' or 'private'. Default true",name:"showIsPublicPrivate",required:!1,type:{name:"boolean"}},showHasLocalSharingSettings:{defaultValue:null,description:"Shows an icon if the entity has sharing settings set on itself. Default true",name:"showHasLocalSharingSettings",required:!1,type:{name:"boolean"}},showHasAnnotations:{defaultValue:null,description:"Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true",name:"showHasAnnotations",required:!1,type:{name:"boolean"}},showHasWiki:{defaultValue:null,description:"Shows an icon if the entity a wiki. Default true",name:"showHasWiki",required:!1,type:{name:"boolean"}},showHasDiscussionThread:{defaultValue:null,description:"Shows an icon if the entity has been mentioned in discussion threads. Default true",name:"showHasDiscussionThread",required:!1,type:{name:"boolean"}},showUnlink:{defaultValue:null,description:"",name:"showUnlink",required:!1,type:{name:"boolean"}},onUnlink:{defaultValue:null,description:"",name:"onUnlink",required:!1,type:{name:"((entityId: string) => void)"}},onUnlinkError:{defaultValue:null,description:"",name:"onUnlinkError",required:!1,type:{name:"((error: unknown) => void)"}},canOpenModal:{defaultValue:null,description:"Whether or not the badges (e.g. Annotations) can trigger opening a modal on click",name:"canOpenModal",required:!0,type:{name:"boolean"}},renderTooltipComponent:{defaultValue:null,description:"Whether this component should render a ReactTooltip or if an external component is managing it",name:"renderTooltipComponent",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"]={docgenInfo:Ut.__docgenInfo,name:"EntityBadgeIcons",path:"src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"})}catch{}const Cr=({className:t,sortOrder:e})=>m(vl,{className:t,active:!0,role:"button",style:{height:"20px",marginLeft:"auto"},direction:e});function Ir(t){return m(Ut,{entityId:t.rowData.entityId,versionNumber:t.rowData.versionNumber,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!1})}function $t({cellData:t}){var e;return m(Q,{children:(e=t&&ia(ra(t)))!=null?e:m(Q,{})})}function Or(t){const{data:e,isLoading:n}=it(t.rowData.entityId,t.rowData.versionNumber);return n?m(dt,{width:200}):m($t,{...t,cellData:e==null?void 0:e.entity.modifiedOn})}function zr(t){var i;const{data:e,isLoading:n}=it(t.rowData.entityId,t.rowData.versionNumber);return n?m(dt,{width:200}):m($t,{...t,cellData:(i=e==null?void 0:e.entity)==null?void 0:i.createdOn})}function xn(t){const{data:e,isLoading:n}=it(t.rowData.entityId,t.rowData.versionNumber);return n?m(dt,{width:200}):e?m(sa,{className:"EntityNameWithIconRenderer",entity:e.entity,link:!1}):m(Q,{})}function En(t){var o;const{data:e,isLoading:n}=it(t.rowData.entityId,t.rowData.versionNumber),{data:i,isLoading:r}=oa((o=e==null?void 0:e.path.path[1].id)!=null?o:"",void 0,{enabled:!!e});return n||r?m(dt,{width:200}):i?m(sa,{entity:i}):m(Q,{})}function Dr({cellData:t}){return m(ml,{ownerId:t,size:sl,openLinkInNewTab:!0})}function Ar(t){const{data:e,isLoading:n}=it(t.rowData.entityId,t.rowData.versionNumber);return n?m(dt,{width:200}):m(Dr,{...t,cellData:e==null?void 0:e.entity.modifiedBy})}function dc(){return m("div",{className:"EntityFinderDetailsViewPlaceholder",children:m(ri,{size:30})})}function Nr({rowData:t}){const{isSelected:e,isDisabled:n}=t;return!n&&m(ni,{label:`Select ${t.entityId}`,hideLabel:!0,className:"SRC-pointer-events-none",checked:e,onChange:()=>{}})}function Mr({cellData:t}){return m(ii,{className:"EntityFinderTableCellEntityIcon",type:t})}function Vr({noResultsPlaceholder:t}){return m("div",{className:"EntityFinderDetailsViewPlaceholder",children:t||m("div",{children:"Empty"})})}const Tn=({rowData:t,toggleSelection:e})=>{var d;const{entityId:n,versionNumber:i}=t,{data:r,isError:o,fetchNextPage:a,isFetchingNextPage:s,hasNextPage:l}=aa(n,{staleTime:60*1e3}),u=(d=r==null?void 0:r.pages.flatMap(p=>p.results))!=null?d:[],c=!!u.find(p=>p.versionNumber===i);return C.exports.useEffect(()=>{!c&&l&&!s&&a()},[c,l,s,a]),o?m(Q,{children:i}):m("div",{children:u&&u.length>0&&L(Go.Control,{role:"listbox",size:"sm",as:"select",value:i,onClick:p=>{p.stopPropagation()},onChange:p=>{p.stopPropagation();const g=parseInt(p.target.value);e({entityId:n,versionNumber:g})},children:[!c&&!l&&!s&&L("option",{disabled:!0,value:i,children:[i," (Not Found)"]},i),u.map(p=>L("option",{value:p.versionNumber,children:[p.versionNumber,p.isLatestVersion&&" (Latest)"]},p.versionNumber))]})})};function hc(t,e){let n="Latest",i="";return Xo(e)&&(e===Ye.DATASET?(n="Draft",i="Stable Version"):(n="Current",i="Snapshot")),t===fe.TRACKED?`Always ${n} Version`:t===fe.REQUIRED?L(Q,{children:[n,m(Bt,{icon:"helpOutlineTwoTone",label:`No ${i} exists. The ${n} version will be referenced until a new ${i} is created.`,sx:{width:"12px",paddingLeft:"0.2rem"}})]}):`${n} Version`}const Lr=({rowData:t,versionSelection:e,toggleSelection:n})=>{var p;const{id:i,entityType:r,isVersionableEntity:o,isSelected:a,currentSelectedVersion:s}=t,{data:l}=aa(i,{enabled:o,staleTime:60*1e3}),u=(p=l==null?void 0:l.pages.flatMap(g=>g.results))!=null?p:[];C.exports.useEffect(()=>{a&&e==fe.REQUIRED&&s===je&&u.length>0&&n({targetId:i,targetVersionNumber:u[0].versionNumber})},[s,i,a,e,n,u]);const c=e===fe.TRACKED||e===fe.UNTRACKED&&Xo(r),d=hc(e,r);return!a||!o?m(Q,{}):m("div",{children:u&&u.length>0?L(Go.Control,{role:"listbox",size:"sm",as:"select",value:s,onClick:g=>{g.stopPropagation()},onChange:g=>{g.stopPropagation();const S=parseInt(g.target.value);n({targetId:i,targetVersionNumber:S===je?void 0:S})},children:[c&&m("option",{value:je,children:d}),u.map(g=>L("option",{value:g.versionNumber,children:["Version ",g.versionNumber]},g.versionNumber))]}):d})};function Cn(t){const{isSelected:e,isDisabled:n,setSelected:i,entityId:r}=t.rowData;return!n&&m(ni,{"data-testid":`dataset-editor-checkbox-${r}`,disabled:n,label:`Select ${r}`,hideLabel:!0,checked:e,onChange:o=>{i(o)}})}const In=t=>{const{entityId:e,versionNumber:n}=t.rowData,{error:i,isError:r}=oa(e,n);let o=i==null?void 0:i.reason;return(i==null?void 0:i.status)===403?o="You don't have permission to view this entity.":(i==null?void 0:i.status)===404&&(o="The entity or version does not exist. It may have been deleted."),r?m(Pe,{title:o!=null?o:"",placement:"right",className:"EntityBadgeTooltip",children:m("div",{className:"EntityErrorRenderer",children:m(Bt,{icon:"warningOutlined"})})}):m(Q,{})};try{Ir.displayName="BadgeIconsRenderer",Ir.__docgenInfo={description:"Renders Entity Badges using the entity bundle.",displayName:"BadgeIconsRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"]={docgenInfo:Ir.__docgenInfo,name:"BadgeIconsRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"})}catch{}try{$t.displayName="DateRenderer",$t.__docgenInfo={description:"",displayName:"DateRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"]={docgenInfo:$t.__docgenInfo,name:"DateRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"})}catch{}try{Or.displayName="ModifiedOnRenderer",Or.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"]={docgenInfo:Or.__docgenInfo,name:"ModifiedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"})}catch{}try{zr.displayName="CreatedOnRenderer",zr.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"]={docgenInfo:zr.__docgenInfo,name:"CreatedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"})}catch{}try{xn.displayName="EntityNameRenderer",xn.__docgenInfo={description:"",displayName:"EntityNameRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"]={docgenInfo:xn.__docgenInfo,name:"EntityNameRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"})}catch{}try{En.displayName="ProjectRenderer",En.__docgenInfo={description:"",displayName:"ProjectRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"]={docgenInfo:En.__docgenInfo,name:"ProjectRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"})}catch{}try{Dr.displayName="UserCardRenderer",Dr.__docgenInfo={description:"",displayName:"UserCardRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"]={docgenInfo:Dr.__docgenInfo,name:"UserCardRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"})}catch{}try{Ar.displayName="ModifiedByRenderer",Ar.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"]={docgenInfo:Ar.__docgenInfo,name:"ModifiedByRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"})}catch{}try{Nr.displayName="DetailsViewCheckboxRenderer",Nr.__docgenInfo={description:"",displayName:"DetailsViewCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"]={docgenInfo:Nr.__docgenInfo,name:"DetailsViewCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"})}catch{}try{Mr.displayName="TypeIconRenderer",Mr.__docgenInfo={description:"",displayName:"TypeIconRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"]={docgenInfo:Mr.__docgenInfo,name:"TypeIconRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"})}catch{}try{Vr.displayName="EmptyRenderer",Vr.__docgenInfo={description:"",displayName:"EmptyRenderer",props:{noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!0,type:{name:"ReactNode"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"]={docgenInfo:Vr.__docgenInfo,name:"EmptyRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"})}catch{}try{Cn.displayName="DatasetEditorCheckboxRenderer",Cn.__docgenInfo={description:"",displayName:"DatasetEditorCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"]={docgenInfo:Cn.__docgenInfo,name:"DatasetEditorCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"})}catch{}try{Cr.displayName="CustomSortIndicator",Cr.__docgenInfo={description:"",displayName:"CustomSortIndicator",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!0,type:{name:"enum",value:[{value:'"desc"'},{value:'"asc"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"]={docgenInfo:Cr.__docgenInfo,name:"CustomSortIndicator",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"})}catch{}try{Tn.displayName="DatasetEditorVersionRenderer",Tn.__docgenInfo={description:"",displayName:"DatasetEditorVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"DatasetItemsEditorTableData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<DatasetItemsEditorTableData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: EntityRef) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"]={docgenInfo:Tn.__docgenInfo,name:"DatasetEditorVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"})}catch{}try{Lr.displayName="DetailsViewVersionRenderer",Lr.__docgenInfo={description:"",displayName:"DetailsViewVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"]={docgenInfo:Lr.__docgenInfo,name:"DetailsViewVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"})}catch{}try{In.displayName="EntityErrorRenderer",In.__docgenInfo={description:"",displayName:"EntityErrorRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"]={docgenInfo:In.__docgenInfo,name:"EntityErrorRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"})}catch{}const wo="Choose which version of this item you would like to reference.",fc="Choose which version of this item you would like to perform this action on.",pc='If you would like the selection to update as new versions are created, choose "Always Latest Version".';function Hr(t){const{versionSelection:e}=t;let n="";switch(e){case fe.REQUIRED:n=wo;break;case fe.TRACKED:n=wo+" "+pc;break;case fe.UNTRACKED:n=fc;break;case fe.DISALLOWED:}return L(Q,{children:["Version",m(Ms,{className:"SRC-margin-left-5",markdownText:n,placement:"right"})]})}try{Hr.displayName="VersionColumnHeader",Hr.__docgenInfo={description:"",displayName:"VersionColumnHeader",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx#VersionColumnHeader"]={docgenInfo:Hr.__docgenInfo,name:"VersionColumnHeader",path:"src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx#VersionColumnHeader"})}catch{}const bo=1200,mc=46,ke=({entities:t,isLoading:e,hasNextPage:n,fetchNextPage:i,isFetchingNextPage:r,versionSelection:o,selectColumnType:a,selected:s,visibleTypes:l,selectableTypes:u,toggleSelection:c,sort:d,setSort:p,noResultsPlaceholder:g,enableSelectAll:S,selectAllIsChecked:f=!1,getChildrenInfiniteRequestObject:b,totalEntities:v,setCurrentContainer:T})=>{const x=qs(),{accessToken:y}=ct(),_=a!=="none",[w,R]=C.exports.useState(!1),[E,z]=C.exports.useState(!1),O=()=>{x.cancelQueries(["entitychildren",b]),z(!1),R(!1)},A=N=>l.includes(Ie(N))?u.includes(Ie(N))?s.has(N.id)?"selected":"default":"disabled":"hidden";C.exports.useEffect(()=>{async function N(){w&&(n&&i?(z(!0),r||i()):(c(f?t.filter(D=>s.has(D.id)).map(D=>{const M=s.get(D.id);return{targetId:D.id,targetVersionNumber:M===je?void 0:M}}):await Promise.all(t.filter(D=>{const M=Ie(D);return!s.has(D.id)&&u.includes(M)&&l.includes(M)}).map(async D=>{var B;let M;return o===fe.REQUIRED&&Ki(Ie(D))&&(Object.prototype.hasOwnProperty.call(D,"versionNumber")&&(M=D.versionNumber),M||(z(!0),M=(B=(await x.fetchQuery(["entity",D.id,"versions",{offset:0,limit:1}],()=>ks(D.id,y,0,1))).results[0])==null?void 0:B.versionNumber)),{targetId:D.id,targetVersionNumber:M}}))),R(!1),z(!1)))}N()},[y,t,i,n,o,x,r,f,u,s,w,c,l]);const H=t.reduce((N,D)=>{const M=A(D);if(M!=="hidden"){const B=Ie(D);N.push({...D,entityId:D.id,versionNumber:"versionNumber"in D?D.versionNumber:void 0,entityType:B,isSelected:M==="selected",isDisabled:M==="disabled",isVersionableEntity:Ki(B),currentSelectedVersion:s.get(D.id)})}return N},[]),F=C.exports.useMemo(()=>{const N=n||t.filter(D=>u.includes(Ie(D))&&l.includes(Ie(D))).length>0;return S&&m("div",{"data-testid":"Select All",style:N?{cursor:"pointer"}:{cursor:"not-allowed"},onClick:()=>{N&&R(!0)},children:m(ni,{label:"Select All",hideLabel:!0,className:"SRC-pointer-events-none",checked:f,disabled:!N,onChange:()=>{}})})},[S,t,n,f,u,l]),q=C.exports.useCallback(N=>T&&Qo(N.rowData.entityType)?m("span",{role:"link",className:"EntityFinderTableCellContainerLink",onClick:D=>{D.stopPropagation(),T(N.rowData.id)},children:N.rowData.name}):N.rowData.name,[T]),V={};return d&&(V[d.sortBy]=d.sortDirection.toLowerCase()),L("div",{className:"EntityFinderDetailsView bootstrap-4-backport",children:[m(tl,{show:E,currentProgress:t.length,totalProgress:v,hintText:v?`${t.length.toLocaleString()} of ${v==null?void 0:v.toLocaleString()}`:`Fetching ${t.length.toLocaleString()}`,headlineText:"Fetching selected items",onCancel:O}),m(Oa,{className:"DetailsViewAutosizer",children:({height:N,width:D})=>L(sr,{classPrefix:"DetailsViewTable",data:H,height:N,width:D>bo?D:bo,rowHeight:mc,overscanRowCount:5,rowClassName:({rowIndex:M})=>{let B="EntityFinderDetailsViewRow";return M%2===0&&(B+=" isEven"),B},rowProps:({rowData:M})=>({"aria-selected":M.isSelected,"aria-disabled":M.isDisabled}),headerCellProps:{role:"columnheader"},sortState:V,components:{SortIndicator:Cr},onColumnSort:({key:M,order:B})=>{d&&p&&p(M,B==="asc"?Ln.ASC:Ln.DESC)},rowEventHandlers:{onClick:({rowData:M})=>{const{id:B,isDisabled:I,isVersionableEntity:$}=M;let{currentSelectedVersion:k}=M;I||($&&o===fe.REQUIRED&&k==null&&Object.prototype.hasOwnProperty.call(M,"versionNumber")&&(k=M.versionNumber),c({targetId:B,targetVersionNumber:k===je?void 0:k}))}},onEndReached:()=>{n&&i&&!r&&i()},emptyRenderer:e?dc:()=>m(Vr,{noResultsPlaceholder:g}),children:[_&&m(de,{title:"",minWidth:50,maxWidth:50,width:50,dataKey:"isSelected",headerRenderer:F,cellRenderer:Nr},"isSelected"),m(de,{title:"",minWidth:45,maxWidth:45,width:45,dataKey:"entityType",align:"center",cellRenderer:Mr},"type"),m(de,{title:"Name",width:800,sortable:d!=null,resizable:!0,cellRenderer:q},xr.NAME),m(de,{title:"",width:75,maxWidth:75,minWidth:75,cellRenderer:Ir},"badge"),m(de,{width:130,dataKey:"id",title:"ID",minWidth:130},"id"),o!==fe.DISALLOWED&&m(de,{minWidth:150,width:500,title:"Version",cellRenderer:M=>m(Lr,{versionSelection:o,toggleSelection:c,...M}),headerRenderer:m(Hr,{versionSelection:o})},"version"),m(de,{sortable:d!=null,title:"Created On",width:220,minWidth:170,cellRenderer:zr},xr.CREATED_ON),m(de,{title:"Modified On",width:220,minWidth:170,sortable:d!=null,cellRenderer:Or},xr.MODIFIED_ON),m(de,{title:"Modified By",width:500,resizable:!0,cellRenderer:Ar},"modifiedBy")]})})]})};try{ke.displayName="DetailsView",ke.__docgenInfo={description:'Displays a list of entities in a table.\n\nIf the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\nWhen the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\nan "infinite scroll" pattern, so entities should not be removed from the list when loading the next page.',displayName:"DetailsView",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},entities:{defaultValue:null,description:"",name:"entities",required:!0,type:{name:"EntityFinderHeader[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!1,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!1,type:{name:"(() => Promise<any>)"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"The current sort of the view. If the view cannot be sorted, set this to `undefined`",name:"sort",required:!1,type:{name:"{ sortBy: SortBy; sortDirection: Direction; }"}},setSort:{defaultValue:null,description:"If sortable, `setSort` will be invoked when the user tries to change the sort",name:"setSort",required:!1,type:{name:"((soryBy: SortBy, sortDirection: Direction) => void)"}},noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},selectAllIsChecked:{defaultValue:{value:"false"},description:"We defer to the configuration component to determine this",name:"selectAllIsChecked",required:!1,type:{name:"boolean"}},getChildrenInfiniteRequestObject:{defaultValue:null,description:"This request object is only used to tell react-query to cancel fetching all children at once.",name:"getChildrenInfiniteRequestObject",required:!1,type:{name:"EntityChildrenRequest"}},totalEntities:{defaultValue:null,description:"The total number of entities that can be retrieved",name:"totalEntities",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"]={docgenInfo:ke.__docgenInfo,name:"DetailsView",path:"src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"})}catch{}const Pr=({parentContainerId:t,...e})=>{var f;const[n,i]=C.exports.useState(xr.NAME),[r,o]=C.exports.useState(Ln.ASC),a={parentId:t,includeTotalChildCount:!0,includeTypes:e.visibleTypes,sortBy:n,sortDirection:r},{data:s,isLoading:l,isFetchingNextPage:u,hasNextPage:c,fetchNextPage:d}=Vs(a,{useErrorBoundary:!0}),p=(f=s==null?void 0:s.pages.flatMap(b=>b.page))!=null?f:[],g=s==null?void 0:s.pages[0].totalChildCount,S=li(p,e.selected.size,e.isIdSelected,e.isSelectable,c,d,u);return m(ke,{entities:p,isLoading:l,hasNextPage:c,fetchNextPage:d,isFetchingNextPage:u,sort:{sortBy:n,sortDirection:r},setSort:(b,v)=>{i(b),o(v)},selectAllIsChecked:S,getChildrenInfiniteRequestObject:a,totalEntities:g,...e})};try{Pr.displayName="EntityChildrenDetails",Pr.__docgenInfo={description:"",displayName:"EntityChildrenDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"]={docgenInfo:Pr.__docgenInfo,name:"EntityChildrenDetails",path:"src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"})}catch{}const qr=({...t})=>{var l;const{data:e,isLoading:n,hasNextPage:i,fetchNextPage:r,isFetchingNextPage:o}=Sl("NAME","ASC",{useErrorBoundary:!0}),a=(l=e==null?void 0:e.pages.flatMap(u=>u.results))!=null?l:[],s=li(a,t.selected.size,t.isIdSelected,t.isSelectable,i,r,o);return m(ke,{entities:a,isLoading:n,hasNextPage:i,fetchNextPage:r,isFetchingNextPage:o,selectAllIsChecked:s,...t})};try{qr.displayName="FavoritesDetails",qr.__docgenInfo={description:"",displayName:"FavoritesDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"]={docgenInfo:qr.__docgenInfo,name:"FavoritesDetails",path:"src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"})}catch{}function Yt(t){return{...t,type:"org.sagebionetworks.repo.model.Project"}}const kr=({projectsParams:t,...e})=>{var u;const{data:n,isLoading:i,isFetchingNextPage:r,hasNextPage:o,fetchNextPage:a}=la(t,{useErrorBoundary:!0}),s=(u=n==null?void 0:n.pages.flatMap(c=>c.results).map(Yt))!=null?u:[],l=li(s,e.selected.size,e.isIdSelected,e.isSelectable,o,a,r);return m(ke,{entities:s,isLoading:i,hasNextPage:o,fetchNextPage:a,isFetchingNextPage:r,selectAllIsChecked:l,...e})};try{Yt.displayName="toEntityHeader",Yt.__docgenInfo={description:"",displayName:"toEntityHeader",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},lastActivity:{defaultValue:null,description:"",name:"lastActivity",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#toEntityHeader"]={docgenInfo:Yt.__docgenInfo,name:"toEntityHeader",path:"src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#toEntityHeader"})}catch{}try{kr.displayName="ProjectListDetails",kr.__docgenInfo={description:"",displayName:"ProjectListDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},projectsParams:{defaultValue:null,description:"",name:"projectsParams",required:!0,type:{name:"GetProjectsParameters"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"]={docgenInfo:kr.__docgenInfo,name:"ProjectListDetails",path:"src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"})}catch{}function _c(t){return{name:t.name,id:t.id,type:Fs(t.node_type),createdOn:t.created_on.toString(),modifiedOn:t.modified_on.toString(),createdBy:t.created_by,modifiedBy:t.modified_by}}const Fr=({searchQuery:t,...e})=>{var s;const{data:n,isLoading:i,hasNextPage:r,fetchNextPage:o,isFetchingNextPage:a}=El(t,{enabled:!!t.queryTerm,useErrorBoundary:!0});return t.queryTerm?m(ke,{entities:(s=n==null?void 0:n.pages.flatMap(l=>l.hits).map(_c))!=null?s:[],isLoading:i,hasNextPage:r,fetchNextPage:o,isFetchingNextPage:a,noResultsPlaceholder:L(Q,{children:[m("img",{className:"SearchPlaceholderImage",alt:"No results found",src:"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg"}),L("p",{children:["No results for \u201C",t.queryTerm.join(" "),"\u201D"]})]}),...e,enableSelectAll:!1}):m(ke,{entities:[],isLoading:!1,hasNextPage:!1,noResultsPlaceholder:L(Q,{children:[m("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),m("p",{children:"Enter a term or Synapse ID to start searching"})]}),...e,enableSelectAll:!1})};try{Fr.displayName="SearchDetails",Fr.__docgenInfo={description:"",displayName:"SearchDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"SearchQuery"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"]={docgenInfo:Fr.__docgenInfo,name:"SearchDetails",path:"src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"})}catch{}var Oe=(t=>(t[t.HEADER_LIST=0]="HEADER_LIST",t[t.PARENT_CONTAINER=1]="PARENT_CONTAINER",t[t.USER_PROJECTS=2]="USER_PROJECTS",t[t.USER_FAVORITES=3]="USER_FAVORITES",t[t.ENTITY_SEARCH=4]="ENTITY_SEARCH",t[t.PROMPT=5]="PROMPT",t))(Oe||{});const Gt=({configuration:t,...e})=>{const[n,i]=C.exports.useState(m(Q,{}));return el(()=>{i((o=>{var a;switch(o.type){case 1:return m(Pr,{parentContainerId:o.parentContainerId,...e});case 0:return m(ke,{entities:o.headerList,isLoading:!1,hasNextPage:!1,...e,enableSelectAll:e.enableSelectAll,selectAllIsChecked:ma((a=o.headerList)!=null?a:[],e.selected.size,e.isIdSelected,e.isSelectable)});case 3:return m(qr,{...e});case 4:return m(Fr,{searchQuery:o.query,...e});case 2:return m(kr,{projectsParams:o.getProjectParams,...e});case 5:return m(ke,{entities:[],isLoading:!1,noResultsPlaceholder:m("div",{children:"Use the left panel to browse Synapse, then make a selection in this panel"}),...e,enableSelectAll:!1});default:return console.warn("The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ",o),m(Q,{})}})(t))},[t,e]),m(Jo,{children:n})};try{Gt.displayName="EntityDetailsList",Gt.__docgenInfo={description:"",displayName:"EntityDetailsList",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:"EntityDetailsListDataConfiguration"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"]={docgenInfo:Gt.__docgenInfo,name:"EntityDetailsList",path:"src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"})}catch{}const jr=({title:t,selectedEntities:e,toggleSelection:n})=>(typeof t=="function"&&(t=t(e.size)),L("div",{className:"EntityFinderSelectionPane alert alert-warning",children:[m(Hn,{variant:"headline3",display:"inline",children:t}),e.size<=200?m("div",{className:"EntityFinderSelectionPane__Items",children:Array.from(e.keys()).map(i=>{const r=e.get(i);return m("div",{children:m(gc,{entity:{targetId:i,targetVersionNumber:r!==je?r:void 0},toggleSelection:n})},`${i}${r!==je?`.${r}`:""}`)})}):m(Hn,{variant:"smallText1",children:"Too many items to show here"})]})),gc=({entity:t,toggleSelection:e})=>{const{data:n}=it(t.targetId,t.targetVersionNumber),[i,r]=C.exports.useState(""),[o,a]=C.exports.useState(""),[s,l]=C.exports.useState("");return C.exports.useEffect(()=>{var u;if((u=n==null?void 0:n.path)!=null&&u.path){r(n.path.path[n.path.path.length-1].name);const c=n.path.path.slice(1,n.path.path.length-1);a(c.map(d=>d.name).join("/")),c.length<4?l(o):l(c[0].name+"/\u2026/"+c.slice(c.length-1).map(d=>d.name).join("/"))}},[n,o]),L("div",{className:"EntityFinderSelectionPane__Row",children:[n&&m(ii,{className:"EntityIcon",type:n.entityType}),m(Pe,{title:`${o}/${i}`,enterNextDelay:rl,placement:"top",children:m("span",{children:s?s+"/":""})}),i?m("span",{className:"EntityFinderSelectionPane__Row__EntityName",children:i}):m(dt,{width:500}),t.targetVersionNumber&&L("span",{children:[" (Version ",t.targetVersionNumber,")"]}),m(nl,{className:"EntityFinderSelectionPane__Row__DeselectButton",onClick:()=>{e(t)}})]})};try{jr.displayName="SelectionPane",jr.__docgenInfo={description:"",displayName:"SelectionPane",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | ((count: number) => string)"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"]={docgenInfo:jr.__docgenInfo,name:"SelectionPane",path:"src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"})}catch{}function yc(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},tn.apply(this,arguments)}function Un(t,e){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Un(t,e)}function za(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Un(t,e)}function Xt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var On=function(){},Sc=function(e,n){return n===void 0&&(n=null),{child:null,isShown:n?n.public.isOpen&&n.isShown:!0,parent:n,public:e,sibling:null,visited:!1}},wc=function(e,n){var i=n.getRecordData,r=i(e),o=r.data.id;return o},bc=function(e){var n=e.index,i=e.data,r=i.component,o=i.getRecordData,a=i.treeData,s=e.style,l=e.isScrolling,u=o(n);return m(r,{...Object.assign({isScrolling:l,style:s,treeData:a},u)})},Rc=function(e,n,i){var r=e.createRecord,o=n.buildingTaskTimeout,a=n.placeholder,s=n.async,l=s===void 0?!1:s,u=n.treeWalker,c=l&&i.records!==void 0,d=i.records,p=[],g=new Map,S=o?{timeout:o}:void 0,f=new WeakMap,b=u(),v=b.next(),T=v.value,x=r(T.data,i,void 0,c?d.get(T.data.id):void 0);g.set(x.public.data.id,x),f.set(x,T);var y=x,_=!0,w=x,R=a!==void 0&&!(a===null&&!i.order),E=R?function(O){return O.timeRemaining()>0}:function(){return!0},z=function O(A){for(;y!==null;){if(!E(A)){requestIdleCallback(O,S);return}if(y.visited)y.visited=!1,y=y.sibling!==null?y.sibling:y.parent,w=y;else{var H=b.next(f.get(y)),F=H.value;if(F===void 0){_?_=!1:(y.isShown&&p.push(y.public.data.id),y.visited=y.child!==null,y=y.child!==null?y.child:y.sibling!==null?y.sibling:y.parent),w=y;continue}var q=r(F.data,i,_?void 0:y,c?d.get(F.data.id):void 0);g.set(q.public.data.id,q),f.set(q,F),!_&&w===y?w.child=q:w.sibling=q,w=q}}R&&i.setState({order:p,records:g,updateRequest:{}})};return R?requestIdleCallback(z,S):z(),a!==void 0&&l&&i.order?i:{order:p,records:g}},Ro=32768,xc=2,Ec=function(e,n){var i=e.order,r=e.records,o=n.opennessState;if(typeof o!="object")return null;for(var a in o)if(!!r.has(a)){var s=o[a],l=r.get(a),u=typeof s=="boolean"?{open:s}:s,c=u.open,d=u.subtreeCallback,p=d===void 0?On:d,g=On,S=On;l.isShown&&(c?function(){for(var b=i.indexOf(a),v=l;v!==null;){if(v.sibling!==null){v=v.sibling;break}v=v.parent}var T=v===null?i.length-1-b:i.indexOf(v.public.data.id)-1-b,x=[[b+1,T]];g=function(_){if(_.isShown=_.parent?_.parent.public.isOpen&&_.parent.isShown:!0,_.isShown){var w=x[x.length-1];w.push(_.public.data.id),w.length===Ro+xc&&x.push([b+1+Ro*x.length,0])}},S=function(){for(var _=0;_<x.length;_++){var w;(w=i).splice.apply(w,x[_])}}}():l.public.isOpen&&function(){var b=i.indexOf(a),v=0;g=function(x){x.isShown&&(v+=1),x.isShown=x.parent?x.parent.public.isOpen&&x.parent.isShown:!0},S=function(){i.splice(b+1,v)}}());for(var f=l;f!==null;)f.visited?(f.visited=!1,f=f===l?null:f.sibling!==null?f.sibling:f.parent):(f.public.isOpen=f===l?c:f.public.isOpen,p(f.public,l.public),f!==l&&g(f),f.visited=f.child!==null,f=f.child!==null?f.child:f===l?null:f.sibling!==null?f.sibling:f.parent);S()}return{order:i,records:r,updateRequest:{}}},Tc=function(e){return function(n,i,r){return r.refresh?Rc(e,n,i):Ec(i,r)}},Da=function(t){za(e,t),e.getDerivedStateFromProps=function(r,o){var a=r.listRef,s=a===void 0?null:a,l=r.treeWalker,u=o.computeTree,c=o.list,d=o.order,p=o.treeWalker;return tn({attachRefs:vc([c,s])},l!==p||!d?u(r,o,{refresh:!0}):null,{treeWalker:l})};function e(i,r){var o;return o=t.call(this,i,r)||this,o.getRecordData=o.getRecordData.bind(Xt(o)),o.state={list:C.exports.createRef(),recomputeTree:o.recomputeTree.bind(Xt(o)),setState:o.setState.bind(Xt(o))},o}var n=e.prototype;return n.getItemData=function(){var r=this.props,o=r.children,a=r.itemData;return{component:o,getRecordData:this.getRecordData,treeData:a}},n.getRecordData=function(r){var o=this.state,a=o.order,s=o.records;return s.get(a[r]).public},n.recomputeTree=function(r){var o=this;return new Promise(function(a){o.setState(function(s){return s.computeTree(o.props,s,{opennessState:r})},a)})},n.scrollTo=function(r){var o;(o=this.state.list.current)==null||o.scrollTo(r)},n.scrollToItem=function(r,o){var a;(a=this.state.list.current)==null||a.scrollToItem(this.state.order.indexOf(r),o)},e}(C.exports.PureComponent);Da.defaultProps={rowComponent:bc};var Cc=Tc({createRecord:function(e,n,i,r){var o=n.recomputeTree,a=n.resetAfterId,s=Sc({data:e,height:r?r.public.height:e.defaultHeight,isOpen:r?r.public.isOpen:e.isOpenByDefault,resize:function(u,c){s.public.height=u,a(s.public.data.id,c)},setOpen:function(u){var c;return o((c={},c[e.id]=u,c))}},i);return s}}),Ic=function(t){za(e,t);function e(i,r){var o;return o=t.call(this,i,r)||this,o.getItemSize=o.getItemSize.bind(Xt(o)),o.state=tn({},o.state,{computeTree:Cc,resetAfterId:o.resetAfterId.bind(Xt(o))}),o}var n=e.prototype;return n.resetAfterId=function(r,o){var a;o===void 0&&(o=!1);var s=this.state,l=s.list,u=s.order;(a=l.current)==null||a.resetAfterIndex(u.indexOf(r),o)},n.recomputeTree=function(r){var o=this;return t.prototype.recomputeTree.call(this,r).then(function(){var a;(a=o.state.list.current)==null||a.resetAfterIndex(0,!0)})},n.render=function(){var r=this.props;r.children;var o=r.placeholder,a=r.itemSize,s=r.rowComponent;r.treeWalker;var l=yc(r,["children","placeholder","itemSize","rowComponent","treeWalker"]),u=this.state,c=u.attachRefs,d=u.order;return o&&d.length===0?o:m(Ou,{...Object.assign({},l,{itemCount:d.length,itemData:this.getItemData(),itemKey:wc,itemSize:a!=null?a:this.getItemSize,ref:c}),children:s})},n.getItemSize=function(r){return this.getRecordData(r).height},e}(Da),Fe=(t=>(t[t.SINGLE_PANE=0]="SINGLE_PANE",t[t.DUAL_PANE=1]="DUAL_PANE",t))(Fe||{});function pi(t){return"__paginationNode"in t?"pagination":"id"in t?"entityHeader":"rootNodeConfiguration"}function lr(t){return pi(t)==="pagination"}function zn(t){return pi(t)==="entityHeader"}function er(t){return pi(t)==="rootNodeConfiguration"}function rn(t){return lr(t)?!0:er(t)?t.hasNextPage:t.children==null||t.childrenNextPageToken!=null}function Oc(t){return lr(t)?!0:er(t)?!1:!Qo(Ie(t))||t.children!=null&&t.children.length===0}const Qt=t=>{const{node:e,nestingLevel:n,getNextPageOfChildren:i,setSelectedId:r,treeNodeType:o,selected:a,selectableTypes:s,autoExpand:l,defaultHeight:u,currentContainer:c}=t;if(lr(e))throw new Error("Cannot create data for a pagination node");const d=er(e)?"root":e.id,p=o===0?a.has(d):c===d,g=!er(e)&&!s.includes(Ie(e)),S=l(d);return S&&e.children==null&&rn(e)&&i(),{data:{node:e,getNextPageOfChildren:i,id:d,isLeaf:Oc(e),isOpenByDefault:S,nestingLevel:n,setSelectedId:r,treeNodeType:o,isSelected:p,isDisabled:g,defaultHeight:u},nestingLevel:n,node:e}};function Wr(t){const{data:{node:e,getNextPageOfChildren:n,isLeaf:i,id:r,nestingLevel:o,setSelectedId:a,treeNodeType:s,isSelected:l,isDisabled:u},isOpen:c,style:d,setOpen:p}=t,[g,S]=C.exports.useState(!1),f=zn(e)?m("span",{children:e.name}):er(e)?m("span",{children:e.nodeText}):m(dt,{width:100}),{ref:b,inView:v}=na();C.exports.useEffect(()=>{lr(e)&&v&&n()},[e,v,n]);const T=C.exports.useCallback(async()=>{rn(e)?(S(!0),await n(),await p(!c),S(!1)):await p(!c)},[n,e,c,p]);if(C.exports.useEffect(()=>{s===1&&l&&!c&&T()},[l]),"height"in d&&d.height===0)return m(Q,{});let x="";return zn(e)&&(x=m("div",{style:{textAlign:"center"},children:L(Hn,{display:"inline",component:"span",variant:"smallText1",children:[e.name,m("br",{}),m("b",{children:"ID: "}),e.id,"modifiedBy"in e&&L(Q,{children:[m("br",{}),m("b",{children:"Modified By: "}),m(_l,{showFullName:!0,disableLink:!0,showCardOnHover:!1,size:"SMALL USER CARD",ownerId:e.modifiedBy.toString()})]}),"modifiedOn"in e&&L(Q,{children:[m("br",{}),m("b",{children:"Modified On: "}),ia(ra(e.modifiedOn))]})]})})),L("div",{className:`Node ${s===0?"SelectNode":"BrowseNode"}`,"aria-selected":l,"aria-disabled":u,onClick:y=>{y.stopPropagation(),u||a(r)},style:{...d,paddingLeft:`${20+o*20}px`},children:[!i&&m("button",{className:"ExpandButton",type:"button",onClick:y=>{y.stopPropagation(),T()},children:g?m(ri,{size:10}):c?"\u25BE":"\u25B8"}),s===0&&m("div",{className:"EntityIcon",children:zn(e)&&m(ii,{type:Ie(e)})}),m("div",{className:"EntityName",ref:b,children:m(Pe,{title:x,placement:"right",children:f})}),s===0&&m(Ut,{entityId:r,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!0})]})}function Br(t,e,n,i,r,o,a,s,l){return function*(){var c;for(yield Qt({node:t,nestingLevel:0,getNextPageOfChildren:t.fetchNextPage,setSelectedId:e,treeNodeType:n,selected:i,selectableTypes:r,autoExpand:o,defaultHeight:a(),currentContainer:s});;){const d=yield;if(!lr(d.node)&&(d.node.children||rn(d.node))){for(let p=0;p<((c=d.node.children)!=null?c:[]).length;p++){const g=d.node.children[p];yield Qt({node:g,nestingLevel:d.nestingLevel+1,getNextPageOfChildren:()=>l(g),setSelectedId:e,treeNodeType:n,selected:i,selectableTypes:r,autoExpand:o,defaultHeight:a(),currentContainer:s})}if(d.node.children!=null&&rn(d.node)){const p={__paginationNode:!0};yield{data:{id:d.data.id+"-pagination",node:p,isOpenByDefault:!1,getNextPageOfChildren:d.data.getNextPageOfChildren,isLeaf:!0,isSelected:!1,defaultHeight:a(),isDisabled:!0,nestingLevel:d.nestingLevel+1,setSelectedId:()=>{},treeNodeType:n},nestingLevel:d.nestingLevel+1,node:{__paginationNode:!0}}}}}}}const Kr=t=>{const{rootNodeConfiguration:e,setSelectedId:n,treeNodeType:i,selected:r,currentContainer:o,selectableTypes:a,visibleTypes:s,autoExpand:l}=t,{accessToken:u}=ct(),[c,d]=C.exports.useState(e);C.exports.useEffect(()=>{d(e)},[e,e.children]);const p=C.exports.useCallback(f=>f===0&&!e.show?0:i===1?30:60,[i,e.show]),g=C.exports.useCallback(async f=>{const b=await js({parentId:f.id,nextPageToken:f.childrenNextPageToken,includeTypes:s},u);f.children?f.children.push(...b.page):f.children=b.page,f.childrenNextPageToken=b.nextPageToken,d(gl(c))},[c,u,s]),S=C.exports.useCallback(Br(c,n,i,r,a,l,p,o,g),[c,n,i,r,a,l,o,g,p]);return m(fi,{disableWidth:!0,children:({height:f})=>m(Ic,{treeWalker:S,itemSize:p,height:f,async:!0,width:"100%",children:Wr})})};try{Wr.displayName="Node",Wr.__docgenInfo={description:"Node component for the react-vtree virtualized tree. Exported only for testing purposes",displayName:"Node",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"TreeData"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(state: boolean) => Promise<void>"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},resize:{defaultValue:null,description:"",name:"resize",required:!0,type:{name:"(height: number, shouldForceUpdate?: boolean | undefined) => void"}},treeData:{defaultValue:null,description:"The data provided by user via `itemData` Tree component property.",name:"treeData",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"]={docgenInfo:Wr.__docgenInfo,name:"Node",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"})}catch{}try{Br.displayName="getTreeWalkerFunction",Br.__docgenInfo={description:"Extracted from the React component for testing purposes",displayName:"getTreeWalkerFunction",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"]={docgenInfo:Br.__docgenInfo,name:"getTreeWalkerFunction",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"})}catch{}try{Fe.SINGLE_PANE.displayName="EntityTreeNodeType.SINGLE_PANE",Fe.SINGLE_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection",displayName:"EntityTreeNodeType.SINGLE_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"]={docgenInfo:Fe.SINGLE_PANE.__docgenInfo,name:"EntityTreeNodeType.SINGLE_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"})}catch{}try{Fe.DUAL_PANE.displayName="EntityTreeNodeType.DUAL_PANE",Fe.DUAL_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection",displayName:"EntityTreeNodeType.DUAL_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"]={docgenInfo:Fe.DUAL_PANE.__docgenInfo,name:"EntityTreeNodeType.DUAL_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"})}catch{}try{Qt.displayName="getNodeData",Qt.__docgenInfo={description:`Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.
Exported for testing purposes only.`,displayName:"getNodeData",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},nestingLevel:{defaultValue:null,description:"",name:"nestingLevel",required:!0,type:{name:"number"}},getNextPageOfChildren:{defaultValue:null,description:"",name:"getNextPageOfChildren",required:!0,type:{name:"() => Promise<void>"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},defaultHeight:{defaultValue:null,description:"",name:"defaultHeight",required:!0,type:{name:"number"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"]={docgenInfo:Qt.__docgenInfo,name:"getNodeData",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"})}catch{}try{Kr.displayName="VirtualizedTree",Kr.__docgenInfo={description:`Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window
to only render visible nodes, which eliminates performance issues as seen in SWC-5978.`,displayName:"VirtualizedTree",props:{treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},rootNodeConfiguration:{defaultValue:null,description:"",name:"rootNodeConfiguration",required:!0,type:{name:"RootNodeConfiguration"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"]={docgenInfo:Kr.__docgenInfo,name:"VirtualizedTree",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"})}catch{}const zc=(t,e)=>{for(const n of e.path)if(t===n.id)return!0;return!1};var Aa=(t=>(t.CURRENT_PROJECT="Current Project",t.ALL_PROJECTS="All Projects",t.CREATED_BY_ME="Projects Created By Me",t.FAVORITES="My Favorites",t))(Aa||{});function Dc(t){switch(t){case"My Favorites":return"root";case"Current Project":case"All Projects":case"Projects Created By Me":return null}}function Ac(t){switch(t){case"Current Project":case"All Projects":case"Projects Created By Me":return"Projects";case"My Favorites":return"Favorites"}}function Jt(t){const{initialScope:e="Current Project",projectId:n,initialContainer:i=null,currentContainer:r,setCurrentContainer:o,visibleTypes:a=[Ye.PROJECT,Ye.FOLDER],toggleSelection:s,selectedEntities:l,setDetailsViewConfiguration:u,setBreadcrumbItems:c,showScopeAsRootNode:d=!0,treeNodeType:p,selectableTypes:g}=t,S={type:Oe.PROMPT},{accessToken:f}=ct(),[b,v]=C.exports.useState(!1),[T,x]=C.exports.useState([]),[y,_]=C.exports.useState(e),[w,R]=C.exports.useState(),E=Zo();C.exports.useEffect(()=>{u&&u(S)},[]);const z=C.exports.useCallback(I=>{s&&s({targetId:I}),o(I)},[o,s]),O=y==="All Projects"||y==="Projects Created By Me",{data:A,isSuccess:H,fetchNextPage:F,hasNextPage:q,isLoading:V}=la(y==="Projects Created By Me"?{filter:"CREATED",sort:"PROJECT_NAME",sortDirection:"ASC"}:{sort:"PROJECT_NAME",sortDirection:"ASC"},{enabled:O,refetchInterval:1/0}),{data:N,isSuccess:D}=it(r,void 0,ta,{enabled:!!r&&r!=="root"});C.exports.useEffect(()=>{O&&H&&A!=null&&A.pages&&x(A.pages.flatMap(I=>I.results).map(Yt))},[O,H,A]),C.exports.useEffect(()=>{switch(v(!0),y){case"All Projects":case"Projects Created By Me":v(V);break;case"My Favorites":{Ks(f,void 0,void 0,"NAME","ASC").then(({results:I})=>{I=I.filter($=>a.includes(Us($.type))),x(I),v(!1)});break}case"Current Project":n?i!=null&&i.match(Qs)?Ws(i,f).then(I=>{I.path.map($=>$.id).includes(n)||E(new Error(`An initial container (${i}) was provided but is not within or the same as the provided project (${n})`)),R(I),x([I.path[1]]),v(!1)}).catch(I=>E(I)):Bs(n,f).then(I=>{x([I]),v(!1)}).catch(I=>E(I)):E(new Error("Cannot open current project because the current project is unknown"));break;default:E(new Error("No scope selected"))}},[f,y,i,E,a,V,n]),C.exports.useEffect(()=>{if(u||c){let I,$=[];if(r===null)I={type:Oe.PROMPT},$=[];else if(r==="root"){switch(y){case"All Projects":I={type:Oe.USER_PROJECTS};break;case"Projects Created By Me":I={type:Oe.USER_PROJECTS,getProjectParams:{filter:"CREATED"}};break;case"Current Project":I={type:Oe.HEADER_LIST,headerList:T};break;case"My Favorites":I={type:Oe.USER_FAVORITES};break}$=[{name:y,isCurrent:!0,action:()=>{o("root")}}]}else I={type:Oe.PARENT_CONTAINER,parentContainerId:r},D&&($=[{name:y,isCurrent:!1,action:()=>{o("root")}},...N.path.path.slice(1).map(k=>({name:k.name,isCurrent:k.id===r,action:()=>{o(k.id)}}))]);u&&u(I),c&&c($)}},[y,r,T,u,c,N,D,o]);const M=C.exports.useMemo(()=>({show:d,nodeText:Ac(y),children:T,fetchNextPage:async()=>{await F()},hasNextPage:O&&q&&!V}),[d,y,T,O,q,V,F]),B=C.exports.useCallback(I=>I==="root"?!0:!!(y==="Current Project"&&w&&zc(I,w)),[y,w]);return L("div",{className:`TreeView ${p===Fe.SINGLE_PANE?"SelectTree":"BrowseTree"}`,children:[L("div",{className:"Header",children:[m("div",{className:"Browse",children:"Browse:"}),m("div",{onClick:I=>I.stopPropagation(),children:L(gr,{children:[m(gr.Toggle,{variant:"gray-primary-500",id:"dropdown-basic",children:y}),m(gr.Menu,{role:"menu",children:Object.values(Aa).map(I=>I==="Current Project"&&n==null?m(K.Fragment,{},I):m(gr.Item,{role:"menuitem",onClick:$=>{$.stopPropagation(),y!==I&&(_(I),o(Dc(I)))},children:I},I))})]})})]}),b?m("div",{className:"Placeholder",children:m(ri,{size:30})}):m("div",{className:"Tree",role:"tree",children:m(Kr,{selected:l,visibleTypes:a,autoExpand:B,rootNodeConfiguration:M,treeNodeType:p,selectableTypes:g,currentContainer:r,setSelectedId:z})})]})}try{Jt.displayName="EntityTree",Jt.__docgenInfo={description:"The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n\nThe tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.",displayName:"EntityTree",props:{initialScope:{defaultValue:null,description:"",name:"initialScope",required:!1,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:"To show the current project, projectId must be defined",name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:null,description:"",name:"initialContainer",required:!0,type:{name:"EntityTreeContainer"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!0,type:{name:"EntityTreeContainer"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!0,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},showDropdown:{defaultValue:null,description:"",name:"showDropdown",required:!0,type:{name:"boolean"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!1,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!1,type:{name:"((entity: Reference) => void)"}},setDetailsViewConfiguration:{defaultValue:null,description:"",name:"setDetailsViewConfiguration",required:!1,type:{name:"((configuration: EntityDetailsListDataConfiguration) => void)"}},setBreadcrumbItems:{defaultValue:null,description:"",name:"setBreadcrumbItems",required:!1,type:{name:"((items: BreadcrumbItem[]) => void)"}},showScopeAsRootNode:{defaultValue:null,description:"Determines whether to show the root node corresponding to the selected scope",name:"showScopeAsRootNode",required:!1,type:{name:"boolean"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selectableTypes:{defaultValue:null,description:"The entity types that may be selected.",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"]={docgenInfo:Jt.__docgenInfo,name:"EntityTree",path:"src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"})}catch{}var ur="delete",X=5,be=1<<X,ue=be-1,j={};function $n(){return{value:!1}}function Re(t){t&&(t.value=!0)}function mi(){}function wt(t){return t.size===void 0&&(t.size=t.__iterate(Na)),t.size}function rt(t,e){if(typeof e!="number"){var n=e>>>0;if(""+n!==e||n===4294967295)return NaN;e=n}return e<0?wt(t)+e:e}function Na(){return!0}function un(t,e,n){return(t===0&&!Va(t)||n!==void 0&&t<=-n)&&(e===void 0||n!==void 0&&e>=n)}function cr(t,e){return Ma(t,e,0)}function cn(t,e){return Ma(t,e,e)}function Ma(t,e,n){return t===void 0?n:Va(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function Va(t){return t<0||t===0&&1/t===-1/0}var La="@@__IMMUTABLE_ITERABLE__@@";function me(t){return Boolean(t&&t[La])}var Ha="@@__IMMUTABLE_KEYED__@@";function ee(t){return Boolean(t&&t[Ha])}var Pa="@@__IMMUTABLE_INDEXED__@@";function pe(t){return Boolean(t&&t[Pa])}function dn(t){return ee(t)||pe(t)}var re=function(e){return me(e)?e:Se(e)},Ce=function(t){function e(n){return ee(n)?n:ot(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(re),ft=function(t){function e(n){return pe(n)?n:Me(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(re),zt=function(t){function e(n){return me(n)&&!dn(n)?n:Mt(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(re);re.Keyed=Ce;re.Indexed=ft;re.Set=zt;var qa="@@__IMMUTABLE_SEQ__@@";function _i(t){return Boolean(t&&t[qa])}var ka="@@__IMMUTABLE_RECORD__@@";function Dt(t){return Boolean(t&&t[ka])}function We(t){return me(t)||Dt(t)}var At="@@__IMMUTABLE_ORDERED__@@";function Ae(t){return Boolean(t&&t[At])}var dr=0,Ne=1,Te=2,Yn=typeof Symbol=="function"&&Symbol.iterator,Fa="@@iterator",hn=Yn||Fa,U=function(e){this.next=e};U.prototype.toString=function(){return"[Iterator]"};U.KEYS=dr;U.VALUES=Ne;U.ENTRIES=Te;U.prototype.inspect=U.prototype.toSource=function(){return this.toString()};U.prototype[hn]=function(){return this};function Z(t,e,n,i){var r=t===0?e:t===1?n:[e,n];return i?i.value=r:i={value:r,done:!1},i}function _e(){return{value:void 0,done:!0}}function ja(t){return Array.isArray(t)?!0:!!fn(t)}function xo(t){return t&&typeof t.next=="function"}function Gn(t){var e=fn(t);return e&&e.call(t)}function fn(t){var e=t&&(Yn&&t[Yn]||t[Fa]);if(typeof e=="function")return e}function Nc(t){var e=fn(t);return e&&e===t.entries}function Mc(t){var e=fn(t);return e&&e===t.keys}var Nt=Object.prototype.hasOwnProperty;function Wa(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Se=function(t){function e(n){return n==null?yi():We(n)?n.toSeq():Lc(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(i,r){var o=this._cache;if(o){for(var a=o.length,s=0;s!==a;){var l=o[r?a-++s:s++];if(i(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(i,r)},e.prototype.__iterator=function(i,r){var o=this._cache;if(o){var a=o.length,s=0;return new U(function(){if(s===a)return _e();var l=o[r?a-++s:s++];return Z(i,l[0],l[1])})}return this.__iteratorUncached(i,r)},e}(re),ot=function(t){function e(n){return n==null?yi().toKeyedSeq():me(n)?ee(n)?n.toSeq():n.fromEntrySeq():Dt(n)?n.toSeq():vi(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Se),Me=function(t){function e(n){return n==null?yi():me(n)?ee(n)?n.entrySeq():n.toIndexedSeq():Dt(n)?n.toSeq().entrySeq():Ba(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Se),Mt=function(t){function e(n){return(me(n)&&!dn(n)?n:Me(n)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Se);Se.isSeq=_i;Se.Keyed=ot;Se.Set=Mt;Se.Indexed=Me;Se.prototype[qa]=!0;var ut=function(t){function e(n){this._array=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(i,r){return this.has(i)?this._array[rt(this,i)]:r},e.prototype.__iterate=function(i,r){for(var o=this._array,a=o.length,s=0;s!==a;){var l=r?a-++s:s++;if(i(o[l],l,this)===!1)break}return s},e.prototype.__iterator=function(i,r){var o=this._array,a=o.length,s=0;return new U(function(){if(s===a)return _e();var l=r?a-++s:s++;return Z(i,l,o[l])})},e}(Me),gi=function(t){function e(n){var i=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=i,this.size=i.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(i,r){return r!==void 0&&!this.has(i)?r:this._object[i]},e.prototype.has=function(i){return Nt.call(this._object,i)},e.prototype.__iterate=function(i,r){for(var o=this._object,a=this._keys,s=a.length,l=0;l!==s;){var u=a[r?s-++l:l++];if(i(o[u],u,this)===!1)break}return l},e.prototype.__iterator=function(i,r){var o=this._object,a=this._keys,s=a.length,l=0;return new U(function(){if(l===s)return _e();var u=a[r?s-++l:l++];return Z(i,u,o[u])})},e}(ot);gi.prototype[At]=!0;var Vc=function(t){function e(n){this._collection=n,this.size=n.length||n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(i,r){if(r)return this.cacheResult().__iterate(i,r);var o=this._collection,a=Gn(o),s=0;if(xo(a))for(var l;!(l=a.next()).done&&i(l.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(i,r){if(r)return this.cacheResult().__iterator(i,r);var o=this._collection,a=Gn(o);if(!xo(a))return new U(_e);var s=0;return new U(function(){var l=a.next();return l.done?l:Z(i,s++,l.value)})},e}(Me),Eo;function yi(){return Eo||(Eo=new ut([]))}function vi(t){var e=Si(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new gi(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Ba(t){var e=Si(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Lc(t){var e=Si(t);if(e)return Nc(t)?e.fromEntrySeq():Mc(t)?e.toSetSeq():e;if(typeof t=="object")return new gi(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Si(t){return Wa(t)?new ut(t):ja(t)?new Vc(t):void 0}var Ka="@@__IMMUTABLE_MAP__@@";function wi(t){return Boolean(t&&t[Ka])}function Ua(t){return wi(t)&&Ae(t)}function To(t){return Boolean(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function ve(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(To(t)&&To(e)&&t.equals(e))}var qt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,n){e|=0,n|=0;var i=e&65535,r=n&65535;return i*r+((e>>>16)*r+i*(n>>>16)<<16>>>0)|0};function pn(t){return t>>>1&1073741824|t&3221225471}var Hc=Object.prototype.valueOf;function ye(t){if(t==null)return Co(t);if(typeof t.hashCode=="function")return pn(t.hashCode(t));var e=Wc(t);if(e==null)return Co(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return Pc(e);case"string":return e.length>Bc?qc(e):Xn(e);case"object":case"function":return Fc(e);case"symbol":return kc(e);default:if(typeof e.toString=="function")return Xn(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Co(t){return t===null?1108378658:1108378659}function Pc(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return pn(e)}function qc(t){var e=Nn[t];return e===void 0&&(e=Xn(t),An===Kc&&(An=0,Nn={}),An++,Nn[t]=e),e}function Xn(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return pn(e)}function kc(t){var e=zo[t];return e!==void 0||(e=$a(),zo[t]=e),e}function Fc(t){var e;if(Qn&&(e=Jn.get(t),e!==void 0)||(e=t[st],e!==void 0)||!Oo&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[st],e!==void 0||(e=jc(t),e!==void 0)))return e;if(e=$a(),Qn)Jn.set(t,e);else{if(Io!==void 0&&Io(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Oo)Object.defineProperty(t,st,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[st]=e;else if(t.nodeType!==void 0)t[st]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Io=Object.isExtensible,Oo=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function jc(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function Wc(t){return t.valueOf!==Hc&&typeof t.valueOf=="function"?t.valueOf(t):t}function $a(){var t=++Dn;return Dn&1073741824&&(Dn=0),t}var Qn=typeof WeakMap=="function",Jn;Qn&&(Jn=new WeakMap);var zo=Object.create(null),Dn=0,st="__immutablehash__";typeof Symbol=="function"&&(st=Symbol(st));var Bc=16,Kc=255,An=0,Nn={},mn=function(t){function e(n,i){this._iter=n,this._useKeys=i,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(i,r){return this._iter.get(i,r)},e.prototype.has=function(i){return this._iter.has(i)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var i=this,r=bi(this,!0);return this._useKeys||(r.valueSeq=function(){return i._iter.toSeq().reverse()}),r},e.prototype.map=function(i,r){var o=this,a=Ja(this,i,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(i,r)}),a},e.prototype.__iterate=function(i,r){var o=this;return this._iter.__iterate(function(a,s){return i(a,s,o)},r)},e.prototype.__iterator=function(i,r){return this._iter.__iterator(i,r)},e}(ot);mn.prototype[At]=!0;var Ya=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(i){return this._iter.includes(i)},e.prototype.__iterate=function(i,r){var o=this,a=0;return r&&wt(this),this._iter.__iterate(function(s){return i(s,r?o.size-++a:a++,o)},r)},e.prototype.__iterator=function(i,r){var o=this,a=this._iter.__iterator(Ne,r),s=0;return r&&wt(this),new U(function(){var l=a.next();return l.done?l:Z(i,r?o.size-++s:s++,l.value,l)})},e}(Me),Ga=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(i){return this._iter.includes(i)},e.prototype.__iterate=function(i,r){var o=this;return this._iter.__iterate(function(a){return i(a,a,o)},r)},e.prototype.__iterator=function(i,r){var o=this._iter.__iterator(Ne,r);return new U(function(){var a=o.next();return a.done?a:Z(i,a.value,a.value,a)})},e}(Mt),Xa=function(t){function e(n){this._iter=n,this.size=n.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(i,r){var o=this;return this._iter.__iterate(function(a){if(a){Ao(a);var s=me(a);return i(s?a.get(1):a[1],s?a.get(0):a[0],o)}},r)},e.prototype.__iterator=function(i,r){var o=this._iter.__iterator(Ne,r);return new U(function(){for(;;){var a=o.next();if(a.done)return a;var s=a.value;if(s){Ao(s);var l=me(s);return Z(i,l?s.get(0):s[0],l?s.get(1):s[1],a)}}})},e}(ot);Ya.prototype.cacheResult=mn.prototype.cacheResult=Ga.prototype.cacheResult=Xa.prototype.cacheResult=xi;function Qa(t){var e=Be(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var n=t.reverse.apply(this);return n.flip=function(){return t.reverse()},n},e.has=function(n){return t.includes(n)},e.includes=function(n){return t.has(n)},e.cacheResult=xi,e.__iterateUncached=function(n,i){var r=this;return t.__iterate(function(o,a){return n(a,o,r)!==!1},i)},e.__iteratorUncached=function(n,i){if(n===Te){var r=t.__iterator(n,i);return new U(function(){var o=r.next();if(!o.done){var a=o.value[0];o.value[0]=o.value[1],o.value[1]=a}return o})}return t.__iterator(n===Ne?dr:Ne,i)},e}function Ja(t,e,n){var i=Be(t);return i.size=t.size,i.has=function(r){return t.has(r)},i.get=function(r,o){var a=t.get(r,j);return a===j?o:e.call(n,a,r,t)},i.__iterateUncached=function(r,o){var a=this;return t.__iterate(function(s,l,u){return r(e.call(n,s,l,u),l,a)!==!1},o)},i.__iteratorUncached=function(r,o){var a=t.__iterator(Te,o);return new U(function(){var s=a.next();if(s.done)return s;var l=s.value,u=l[0];return Z(r,u,e.call(n,l[1],u,t),s)})},i}function bi(t,e){var n=this,i=Be(t);return i._iter=t,i.size=t.size,i.reverse=function(){return t},t.flip&&(i.flip=function(){var r=Qa(t);return r.reverse=function(){return t.flip()},r}),i.get=function(r,o){return t.get(e?r:-1-r,o)},i.has=function(r){return t.has(e?r:-1-r)},i.includes=function(r){return t.includes(r)},i.cacheResult=xi,i.__iterate=function(r,o){var a=this,s=0;return o&&wt(t),t.__iterate(function(l,u){return r(l,e?u:o?a.size-++s:s++,a)},!o)},i.__iterator=function(r,o){var a=0;o&&wt(t);var s=t.__iterator(Te,!o);return new U(function(){var l=s.next();if(l.done)return l;var u=l.value;return Z(r,e?u[0]:o?n.size-++a:a++,u[1],l)})},i}function Za(t,e,n,i){var r=Be(t);return i&&(r.has=function(o){var a=t.get(o,j);return a!==j&&!!e.call(n,a,o,t)},r.get=function(o,a){var s=t.get(o,j);return s!==j&&e.call(n,s,o,t)?s:a}),r.__iterateUncached=function(o,a){var s=this,l=0;return t.__iterate(function(u,c,d){if(e.call(n,u,c,d))return l++,o(u,i?c:l-1,s)},a),l},r.__iteratorUncached=function(o,a){var s=t.__iterator(Te,a),l=0;return new U(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,d=c[0],p=c[1];if(e.call(n,p,d,t))return Z(o,i?d:l++,p,u)}})},r}function Uc(t,e,n){var i=pt().asMutable();return t.__iterate(function(r,o){i.update(e.call(n,r,o,t),0,function(a){return a+1})}),i.asImmutable()}function $c(t,e,n){var i=ee(t),r=(Ae(t)?Xe():pt()).asMutable();t.__iterate(function(a,s){r.update(e.call(n,a,s,t),function(l){return l=l||[],l.push(i?[s,a]:a),l})});var o=rs(t);return r.map(function(a){return Y(t,o(a))}).asImmutable()}function Ri(t,e,n,i){var r=t.size;if(un(e,n,r))return t;var o=cr(e,r),a=cn(n,r);if(o!==o||a!==a)return Ri(t.toSeq().cacheResult(),e,n,i);var s=a-o,l;s===s&&(l=s<0?0:s);var u=Be(t);return u.size=l===0?l:t.size&&l||void 0,!i&&_i(t)&&l>=0&&(u.get=function(c,d){return c=rt(this,c),c>=0&&c<l?t.get(c+o,d):d}),u.__iterateUncached=function(c,d){var p=this;if(l===0)return 0;if(d)return this.cacheResult().__iterate(c,d);var g=0,S=!0,f=0;return t.__iterate(function(b,v){if(!(S&&(S=g++<o)))return f++,c(b,i?v:f-1,p)!==!1&&f!==l}),f},u.__iteratorUncached=function(c,d){if(l!==0&&d)return this.cacheResult().__iterator(c,d);if(l===0)return new U(_e);var p=t.__iterator(c,d),g=0,S=0;return new U(function(){for(;g++<o;)p.next();if(++S>l)return _e();var f=p.next();return i||c===Ne||f.done?f:c===dr?Z(c,S-1,void 0,f):Z(c,S-1,f.value[1],f)})},u}function Yc(t,e,n){var i=Be(t);return i.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var s=0;return t.__iterate(function(l,u,c){return e.call(n,l,u,c)&&++s&&r(l,u,a)}),s},i.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var s=t.__iterator(Te,o),l=!0;return new U(function(){if(!l)return _e();var u=s.next();if(u.done)return u;var c=u.value,d=c[0],p=c[1];return e.call(n,p,d,a)?r===Te?u:Z(r,d,p,u):(l=!1,_e())})},i}function es(t,e,n,i){var r=Be(t);return r.__iterateUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterate(o,a);var l=!0,u=0;return t.__iterate(function(c,d,p){if(!(l&&(l=e.call(n,c,d,p))))return u++,o(c,i?d:u-1,s)}),u},r.__iteratorUncached=function(o,a){var s=this;if(a)return this.cacheResult().__iterator(o,a);var l=t.__iterator(Te,a),u=!0,c=0;return new U(function(){var d,p,g;do{if(d=l.next(),d.done)return i||o===Ne?d:o===dr?Z(o,c++,void 0,d):Z(o,c++,d.value[1],d);var S=d.value;p=S[0],g=S[1],u&&(u=e.call(n,g,p,s))}while(u);return o===Te?d:Z(o,p,g,d)})},r}function Gc(t,e){var n=ee(t),i=[t].concat(e).map(function(a){return me(a)?n&&(a=Ce(a)):a=n?vi(a):Ba(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(i.length===0)return t;if(i.length===1){var r=i[0];if(r===t||n&&ee(r)||pe(t)&&pe(r))return r}var o=new ut(i);return n?o=o.toKeyedSeq():pe(t)||(o=o.toSetSeq()),o=o.flatten(!0),o.size=i.reduce(function(a,s){if(a!==void 0){var l=s.size;if(l!==void 0)return a+l}},0),o}function ts(t,e,n){var i=Be(t);return i.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var a=0,s=!1;function l(u,c){u.__iterate(function(d,p){return(!e||c<e)&&me(d)?l(d,c+1):(a++,r(d,n?p:a-1,i)===!1&&(s=!0)),!s},o)}return l(t,0),a},i.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(r,o),s=[],l=0;return new U(function(){for(;a;){var u=a.next();if(u.done!==!1){a=s.pop();continue}var c=u.value;if(r===Te&&(c=c[1]),(!e||s.length<e)&&me(c))s.push(a),a=c.__iterator(r,o);else return n?u:Z(r,l++,c,u)}return _e()})},i}function Xc(t,e,n){var i=rs(t);return t.toSeq().map(function(r,o){return i(e.call(n,r,o,t))}).flatten(!0)}function Qc(t,e){var n=Be(t);return n.size=t.size&&t.size*2-1,n.__iterateUncached=function(i,r){var o=this,a=0;return t.__iterate(function(s){return(!a||i(e,a++,o)!==!1)&&i(s,a++,o)!==!1},r),a},n.__iteratorUncached=function(i,r){var o=t.__iterator(Ne,r),a=0,s;return new U(function(){return(!s||a%2)&&(s=o.next(),s.done)?s:a%2?Z(i,a++,e):Z(i,a++,s.value,s)})},n}function bt(t,e,n){e||(e=ns);var i=ee(t),r=0,o=t.toSeq().map(function(a,s){return[s,a,r++,n?n(a,s,t):a]}).valueSeq().toArray();return o.sort(function(a,s){return e(a[3],s[3])||a[2]-s[2]}).forEach(i?function(a,s){o[s].length=2}:function(a,s){o[s]=a[1]}),i?ot(o):pe(t)?Me(o):Mt(o)}function vr(t,e,n){if(e||(e=ns),n){var i=t.toSeq().map(function(r,o){return[r,n(r,o,t)]}).reduce(function(r,o){return Do(e,r[1],o[1])?o:r});return i&&i[0]}return t.reduce(function(r,o){return Do(e,r,o)?o:r})}function Do(t,e,n){var i=t(n,e);return i===0&&n!==e&&(n==null||n!==n)||i>0}function Sr(t,e,n,i){var r=Be(t),o=new ut(n).map(function(a){return a.size});return r.size=i?o.max():o.min(),r.__iterate=function(a,s){for(var l=this.__iterator(Ne,s),u,c=0;!(u=l.next()).done&&a(u.value,c++,this)!==!1;);return c},r.__iteratorUncached=function(a,s){var l=n.map(function(d){return d=re(d),Gn(s?d.reverse():d)}),u=0,c=!1;return new U(function(){var d;return c||(d=l.map(function(p){return p.next()}),c=i?d.every(function(p){return p.done}):d.some(function(p){return p.done})),c?_e():Z(a,u++,e.apply(null,d.map(function(p){return p.value})))})},r}function Y(t,e){return t===e?t:_i(t)?e:t.constructor(e)}function Ao(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function rs(t){return ee(t)?Ce:pe(t)?ft:zt}function Be(t){return Object.create((ee(t)?ot:pe(t)?Me:Mt).prototype)}function xi(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Se.prototype.cacheResult.call(this)}function ns(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function qe(t,e){e=e||0;for(var n=Math.max(0,t.length-e),i=new Array(n),r=0;r<n;r++)i[r]=t[r+e];return i}function Ei(t,e){if(!t)throw new Error(e)}function xe(t){Ei(t!==1/0,"Cannot perform this action with an infinite size.")}function is(t){if(Wa(t)&&typeof t!="string")return t;if(Ae(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var Jc=Object.prototype.toString;function Zc(t){if(!t||typeof t!="object"||Jc.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e,i=Object.getPrototypeOf(e);i!==null;)n=i,i=Object.getPrototypeOf(n);return n===e}function nt(t){return typeof t=="object"&&(We(t)||Array.isArray(t)||Zc(t))}function tr(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function ed(t,e){return We(t)?t.has(e):nt(t)&&Nt.call(t,e)}function os(t,e,n){return We(t)?t.get(e,n):ed(t,e)?typeof t.get=="function"?t.get(e):t[e]:n}function nn(t){if(Array.isArray(t))return qe(t);var e={};for(var n in t)Nt.call(t,n)&&(e[n]=t[n]);return e}function td(t,e){if(!nt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(We(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Nt.call(t,e))return t;var n=nn(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function rd(t,e,n){if(!nt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(We(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Nt.call(t,e)&&n===t[e])return t;var i=nn(t);return i[e]=n,i}function Vt(t,e,n,i){i||(i=n,n=void 0);var r=as(We(t),t,is(e),0,n,i);return r===j?n:r}function as(t,e,n,i,r,o){var a=e===j;if(i===n.length){var s=a?r:e,l=o(s);return l===s?e:l}if(!a&&!nt(e))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,i).map(tr)+"]: "+e);var u=n[i],c=a?j:os(e,u,j),d=as(c===j?t:We(c),c,n,i+1,r,o);return d===c?e:d===j?td(e,u):rd(a?t?De():{}:e,u,d)}function nd(t,e,n){return Vt(t,e,j,function(){return n})}function Ti(t,e){return nd(this,t,e)}function id(t,e){return Vt(t,e,function(){return j})}function Ci(t){return id(this,t)}function ss(t,e,n,i){return Vt(t,[e],n,i)}function Ii(t,e,n){return arguments.length===1?t(this):ss(this,t,e,n)}function Oi(t,e,n){return Vt(this,t,e,n)}function ls(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return cs(this,t)}function us(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return cs(this,e,t)}function cs(t,e,n){for(var i=[],r=0;r<e.length;r++){var o=Ce(e[r]);o.size!==0&&i.push(o)}return i.length===0?t:t.toSeq().size===0&&!t.__ownerID&&i.length===1?t.constructor(i[0]):t.withMutations(function(a){for(var s=n?function(u,c){ss(a,c,j,function(d){return d===j?u:n(d,u,c)})}:function(u,c){a.set(c,u)},l=0;l<i.length;l++)i[l].forEach(s)})}function zi(t,e,n){return Di(t,e,od(n))}function Di(t,e,n){if(!nt(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(We(t))return typeof n=="function"&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var i=Array.isArray(t),r=t,o=i?ft:Ce,a=i?function(l){r===t&&(r=nn(r)),r.push(l)}:function(l,u){var c=Nt.call(r,u),d=c&&n?n(r[u],l,u):l;(!c||d!==r[u])&&(r===t&&(r=nn(r)),r[u]=d)},s=0;s<e.length;s++)o(e[s]).forEach(a);return r}function od(t){function e(n,i,r){return nt(n)&&nt(i)&&ad(n,i)?Di(n,[i],e):t?t(n,i,r):i}return e}function ad(t,e){var n=Se(t),i=Se(e);return pe(n)===pe(i)&&ee(n)===ee(i)}function ds(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return zi(this,t)}function hs(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return zi(this,e,t)}function Ai(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Vt(this,t,De(),function(i){return Di(i,e)})}function Ni(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Vt(this,t,De(),function(i){return zi(i,e)})}function hr(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function fr(){return this.__ownerID?this:this.__ensureOwner(new mi)}function pr(){return this.__ensureOwner()}function Mi(){return this.__altered}var pt=function(t){function e(n){return n==null?De():wi(n)&&!Ae(n)?n:De().withMutations(function(i){var r=t(n);xe(r.size),r.forEach(function(o,a){return i.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return De().withMutations(function(o){for(var a=0;a<i.length;a+=2){if(a+1>=i.length)throw new Error("Missing value for key: "+i[a]);o.set(i[a],i[a+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(i,r){return this._root?this._root.get(0,void 0,i,r):r},e.prototype.set=function(i,r){return Vo(this,i,r)},e.prototype.remove=function(i){return Vo(this,i,j)},e.prototype.deleteAll=function(i){var r=re(i);return r.size===0?this:this.withMutations(function(o){r.forEach(function(a){return o.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):De()},e.prototype.sort=function(i){return Xe(bt(this,i))},e.prototype.sortBy=function(i,r){return Xe(bt(this,r,i))},e.prototype.map=function(i,r){var o=this;return this.withMutations(function(a){a.forEach(function(s,l){a.set(l,i.call(r,s,l,o))})})},e.prototype.__iterator=function(i,r){return new sd(this,i,r)},e.prototype.__iterate=function(i,r){var o=this,a=0;return this._root&&this._root.iterate(function(s){return a++,i(s[1],s[0],o)},r),a},e.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?Vi(this.size,this._root,i,this.__hash):this.size===0?De():(this.__ownerID=i,this.__altered=!1,this)},e}(Ce);pt.isMap=wi;var J=pt.prototype;J[Ka]=!0;J[ur]=J.remove;J.removeAll=J.deleteAll;J.setIn=Ti;J.removeIn=J.deleteIn=Ci;J.update=Ii;J.updateIn=Oi;J.merge=J.concat=ls;J.mergeWith=us;J.mergeDeep=ds;J.mergeDeepWith=hs;J.mergeIn=Ai;J.mergeDeepIn=Ni;J.withMutations=hr;J.wasAltered=Mi;J.asImmutable=pr;J["@@transducer/init"]=J.asMutable=fr;J["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};J["@@transducer/result"]=function(t){return t.asImmutable()};var rr=function(e,n){this.ownerID=e,this.entries=n};rr.prototype.get=function(e,n,i,r){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ve(i,o[a][0]))return o[a][1];return r};rr.prototype.update=function(e,n,i,r,o,a,s){for(var l=o===j,u=this.entries,c=0,d=u.length;c<d&&!ve(r,u[c][0]);c++);var p=c<d;if(p?u[c][1]===o:l)return this;if(Re(s),(l||!p)&&Re(a),!(l&&u.length===1)){if(!p&&!l&&u.length>=fd)return ld(e,u,r,o);var g=e&&e===this.ownerID,S=g?u:qe(u);return p?l?c===d-1?S.pop():S[c]=S.pop():S[c]=[r,o]:S.push([r,o]),g?(this.entries=S,this):new rr(e,S)}};var Rt=function(e,n,i){this.ownerID=e,this.bitmap=n,this.nodes=i};Rt.prototype.get=function(e,n,i,r){n===void 0&&(n=ye(i));var o=1<<((e===0?n:n>>>e)&ue),a=this.bitmap;return(a&o)===0?r:this.nodes[fs(a&o-1)].get(e+X,n,i,r)};Rt.prototype.update=function(e,n,i,r,o,a,s){i===void 0&&(i=ye(r));var l=(n===0?i:i>>>n)&ue,u=1<<l,c=this.bitmap,d=(c&u)!==0;if(!d&&o===j)return this;var p=fs(c&u-1),g=this.nodes,S=d?g[p]:void 0,f=Li(S,e,n+X,i,r,o,a,s);if(f===S)return this;if(!d&&f&&g.length>=pd)return cd(e,g,c,l,f);if(d&&!f&&g.length===2&&Lo(g[p^1]))return g[p^1];if(d&&f&&g.length===1&&Lo(f))return f;var b=e&&e===this.ownerID,v=d?f?c:c^u:c|u,T=d?f?ps(g,p,f,b):hd(g,p,b):dd(g,p,f,b);return b?(this.bitmap=v,this.nodes=T,this):new Rt(e,v,T)};var nr=function(e,n,i){this.ownerID=e,this.count=n,this.nodes=i};nr.prototype.get=function(e,n,i,r){n===void 0&&(n=ye(i));var o=(e===0?n:n>>>e)&ue,a=this.nodes[o];return a?a.get(e+X,n,i,r):r};nr.prototype.update=function(e,n,i,r,o,a,s){i===void 0&&(i=ye(r));var l=(n===0?i:i>>>n)&ue,u=o===j,c=this.nodes,d=c[l];if(u&&!d)return this;var p=Li(d,e,n+X,i,r,o,a,s);if(p===d)return this;var g=this.count;if(!d)g++;else if(!p&&(g--,g<md))return ud(e,c,g,l);var S=e&&e===this.ownerID,f=ps(c,l,p,S);return S?(this.count=g,this.nodes=f,this):new nr(e,g,f)};var xt=function(e,n,i){this.ownerID=e,this.keyHash=n,this.entries=i};xt.prototype.get=function(e,n,i,r){for(var o=this.entries,a=0,s=o.length;a<s;a++)if(ve(i,o[a][0]))return o[a][1];return r};xt.prototype.update=function(e,n,i,r,o,a,s){i===void 0&&(i=ye(r));var l=o===j;if(i!==this.keyHash)return l?this:(Re(s),Re(a),Hi(this,e,n,i,[r,o]));for(var u=this.entries,c=0,d=u.length;c<d&&!ve(r,u[c][0]);c++);var p=c<d;if(p?u[c][1]===o:l)return this;if(Re(s),(l||!p)&&Re(a),l&&d===2)return new Ge(e,this.keyHash,u[c^1]);var g=e&&e===this.ownerID,S=g?u:qe(u);return p?l?c===d-1?S.pop():S[c]=S.pop():S[c]=[r,o]:S.push([r,o]),g?(this.entries=S,this):new xt(e,this.keyHash,S)};var Ge=function(e,n,i){this.ownerID=e,this.keyHash=n,this.entry=i};Ge.prototype.get=function(e,n,i,r){return ve(i,this.entry[0])?this.entry[1]:r};Ge.prototype.update=function(e,n,i,r,o,a,s){var l=o===j,u=ve(r,this.entry[0]);if(u?o===this.entry[1]:l)return this;if(Re(s),l){Re(a);return}return u?e&&e===this.ownerID?(this.entry[1]=o,this):new Ge(e,this.keyHash,[r,o]):(Re(a),Hi(this,e,n,ye(r),[r,o]))};rr.prototype.iterate=xt.prototype.iterate=function(t,e){for(var n=this.entries,i=0,r=n.length-1;i<=r;i++)if(t(n[e?r-i:i])===!1)return!1};Rt.prototype.iterate=nr.prototype.iterate=function(t,e){for(var n=this.nodes,i=0,r=n.length-1;i<=r;i++){var o=n[e?r-i:i];if(o&&o.iterate(t,e)===!1)return!1}};Ge.prototype.iterate=function(t,e){return t(this.entry)};var sd=function(t){function e(n,i,r){this._type=i,this._reverse=r,this._stack=n._root&&No(n._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var i=this._type,r=this._stack;r;){var o=r.node,a=r.index++,s=void 0;if(o.entry){if(a===0)return Mn(i,o.entry)}else if(o.entries){if(s=o.entries.length-1,a<=s)return Mn(i,o.entries[this._reverse?s-a:a])}else if(s=o.nodes.length-1,a<=s){var l=o.nodes[this._reverse?s-a:a];if(l){if(l.entry)return Mn(i,l.entry);r=this._stack=No(l,r)}continue}r=this._stack=this._stack.__prev}return _e()},e}(U);function Mn(t,e){return Z(t,e[0],e[1])}function No(t,e){return{node:t,index:0,__prev:e}}function Vi(t,e,n,i){var r=Object.create(J);return r.size=t,r._root=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}var Mo;function De(){return Mo||(Mo=Vi(0))}function Vo(t,e,n){var i,r;if(t._root){var o=$n(),a=$n();if(i=Li(t._root,t.__ownerID,0,void 0,e,n,o,a),!a.value)return t;r=t.size+(o.value?n===j?-1:1:0)}else{if(n===j)return t;r=1,i=new rr(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=r,t._root=i,t.__hash=void 0,t.__altered=!0,t):i?Vi(r,i):De()}function Li(t,e,n,i,r,o,a,s){return t?t.update(e,n,i,r,o,a,s):o===j?t:(Re(s),Re(a),new Ge(e,i,[r,o]))}function Lo(t){return t.constructor===Ge||t.constructor===xt}function Hi(t,e,n,i,r){if(t.keyHash===i)return new xt(e,i,[t.entry,r]);var o=(n===0?t.keyHash:t.keyHash>>>n)&ue,a=(n===0?i:i>>>n)&ue,s,l=o===a?[Hi(t,e,n+X,i,r)]:(s=new Ge(e,i,r),o<a?[t,s]:[s,t]);return new Rt(e,1<<o|1<<a,l)}function ld(t,e,n,i){t||(t=new mi);for(var r=new Ge(t,ye(n),[n,i]),o=0;o<e.length;o++){var a=e[o];r=r.update(t,0,void 0,a[0],a[1])}return r}function ud(t,e,n,i){for(var r=0,o=0,a=new Array(n),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];c!==void 0&&s!==i&&(r|=l,a[o++]=c)}return new Rt(t,r,a)}function cd(t,e,n,i,r){for(var o=0,a=new Array(be),s=0;n!==0;s++,n>>>=1)a[s]=n&1?e[o++]:void 0;return a[i]=r,new nr(t,o+1,a)}function fs(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function ps(t,e,n,i){var r=i?t:qe(t);return r[e]=n,r}function dd(t,e,n,i){var r=t.length+1;if(i&&e+1===r)return t[e]=n,t;for(var o=new Array(r),a=0,s=0;s<r;s++)s===e?(o[s]=n,a=-1):o[s]=t[s+a];return o}function hd(t,e,n){var i=t.length-1;if(n&&e===i)return t.pop(),t;for(var r=new Array(i),o=0,a=0;a<i;a++)a===e&&(o=1),r[a]=t[a+o];return r}var fd=be/4,pd=be/2,md=be/4,ms="@@__IMMUTABLE_LIST__@@";function _s(t){return Boolean(t&&t[ms])}var _n=function(t){function e(n){var i=Ur();if(n==null)return i;if(_s(n))return n;var r=t(n),o=r.size;return o===0?i:(xe(o),o>0&&o<be?ir(0,o,X,null,new tt(r.toArray())):i.withMutations(function(a){a.setSize(o),r.forEach(function(s,l){return a.set(l,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(i,r){if(i=rt(this,i),i>=0&&i<this.size){i+=this._origin;var o=gs(this,i);return o&&o.array[i&ue]}return r},e.prototype.set=function(i,r){return _d(this,i,r)},e.prototype.remove=function(i){return this.has(i)?i===0?this.shift():i===this.size-1?this.pop():this.splice(i,1):this},e.prototype.insert=function(i,r){return this.splice(i,0,r)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=X,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ur()},e.prototype.push=function(){var i=arguments,r=this.size;return this.withMutations(function(o){et(o,0,r+i.length);for(var a=0;a<i.length;a++)o.set(r+a,i[a])})},e.prototype.pop=function(){return et(this,0,-1)},e.prototype.unshift=function(){var i=arguments;return this.withMutations(function(r){et(r,-i.length);for(var o=0;o<i.length;o++)r.set(o,i[o])})},e.prototype.shift=function(){return et(this,1)},e.prototype.concat=function(){for(var i=arguments,r=[],o=0;o<arguments.length;o++){var a=i[o],s=t(typeof a!="string"&&ja(a)?a:[a]);s.size!==0&&r.push(s)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(l){r.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(i){return et(this,0,i)},e.prototype.map=function(i,r){var o=this;return this.withMutations(function(a){for(var s=0;s<o.size;s++)a.set(s,i.call(r,a.get(s),s,o))})},e.prototype.slice=function(i,r){var o=this.size;return un(i,r,o)?this:et(this,cr(i,o),cn(r,o))},e.prototype.__iterator=function(i,r){var o=r?this.size:0,a=Ho(this,r);return new U(function(){var s=a();return s===Zt?_e():Z(i,r?--o:o++,s)})},e.prototype.__iterate=function(i,r){for(var o=r?this.size:0,a=Ho(this,r),s;(s=a())!==Zt&&i(s,r?--o:o++,this)!==!1;);return o},e.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?ir(this._origin,this._capacity,this._level,this._root,this._tail,i,this.__hash):this.size===0?Ur():(this.__ownerID=i,this.__altered=!1,this)},e}(ft);_n.isList=_s;var ne=_n.prototype;ne[ms]=!0;ne[ur]=ne.remove;ne.merge=ne.concat;ne.setIn=Ti;ne.deleteIn=ne.removeIn=Ci;ne.update=Ii;ne.updateIn=Oi;ne.mergeIn=Ai;ne.mergeDeepIn=Ni;ne.withMutations=hr;ne.wasAltered=Mi;ne.asImmutable=pr;ne["@@transducer/init"]=ne.asMutable=fr;ne["@@transducer/step"]=function(t,e){return t.push(e)};ne["@@transducer/result"]=function(t){return t.asImmutable()};var tt=function(e,n){this.array=e,this.ownerID=n};tt.prototype.removeBefore=function(e,n,i){if(i===n?1<<n:this.array.length===0)return this;var r=i>>>n&ue;if(r>=this.array.length)return new tt([],e);var o=r===0,a;if(n>0){var s=this.array[r];if(a=s&&s.removeBefore(e,n-X,i),a===s&&o)return this}if(o&&!a)return this;var l=Et(this,e);if(!o)for(var u=0;u<r;u++)l.array[u]=void 0;return a&&(l.array[r]=a),l};tt.prototype.removeAfter=function(e,n,i){if(i===(n?1<<n:0)||this.array.length===0)return this;var r=i-1>>>n&ue;if(r>=this.array.length)return this;var o;if(n>0){var a=this.array[r];if(o=a&&a.removeAfter(e,n-X,i),o===a&&r===this.array.length-1)return this}var s=Et(this,e);return s.array.splice(r+1),o&&(s.array[r]=o),s};var Zt={};function Ho(t,e){var n=t._origin,i=t._capacity,r=or(i),o=t._tail;return a(t._root,t._level,0);function a(u,c,d){return c===0?s(u,d):l(u,c,d)}function s(u,c){var d=c===r?o&&o.array:u&&u.array,p=c>n?0:n-c,g=i-c;return g>be&&(g=be),function(){if(p===g)return Zt;var S=e?--g:p++;return d&&d[S]}}function l(u,c,d){var p,g=u&&u.array,S=d>n?0:n-d>>c,f=(i-d>>c)+1;return f>be&&(f=be),function(){for(;;){if(p){var b=p();if(b!==Zt)return b;p=null}if(S===f)return Zt;var v=e?--f:S++;p=a(g&&g[v],c-X,d+(v<<c))}}}}function ir(t,e,n,i,r,o,a){var s=Object.create(ne);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=i,s._tail=r,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}var Po;function Ur(){return Po||(Po=ir(0,0,X))}function _d(t,e,n){if(e=rt(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(a){e<0?et(a,e).set(0,n):et(a,0,e+1).set(e,n)});e+=t._origin;var i=t._tail,r=t._root,o=$n();return e>=or(t._capacity)?i=Zn(i,t.__ownerID,0,e,n,o):r=Zn(r,t.__ownerID,t._level,e,n,o),o.value?t.__ownerID?(t._root=r,t._tail=i,t.__hash=void 0,t.__altered=!0,t):ir(t._origin,t._capacity,t._level,r,i):t}function Zn(t,e,n,i,r,o){var a=i>>>n&ue,s=t&&a<t.array.length;if(!s&&r===void 0)return t;var l;if(n>0){var u=t&&t.array[a],c=Zn(u,e,n-X,i,r,o);return c===u?t:(l=Et(t,e),l.array[a]=c,l)}return s&&t.array[a]===r?t:(o&&Re(o),l=Et(t,e),r===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=r,l)}function Et(t,e){return e&&t&&e===t.ownerID?t:new tt(t?t.array.slice():[],e)}function gs(t,e){if(e>=or(t._capacity))return t._tail;if(e<1<<t._level+X){for(var n=t._root,i=t._level;n&&i>0;)n=n.array[e>>>i&ue],i-=X;return n}}function et(t,e,n){e!==void 0&&(e|=0),n!==void 0&&(n|=0);var i=t.__ownerID||new mi,r=t._origin,o=t._capacity,a=r+e,s=n===void 0?o:n<0?o+n:r+n;if(a===r&&s===o)return t;if(a>=s)return t.clear();for(var l=t._level,u=t._root,c=0;a+c<0;)u=new tt(u&&u.array.length?[void 0,u]:[],i),l+=X,c+=1<<l;c&&(a+=c,r+=c,s+=c,o+=c);for(var d=or(o),p=or(s);p>=1<<l+X;)u=new tt(u&&u.array.length?[u]:[],i),l+=X;var g=t._tail,S=p<d?gs(t,s-1):p>d?new tt([],i):g;if(g&&p>d&&a<o&&g.array.length){u=Et(u,i);for(var f=u,b=l;b>X;b-=X){var v=d>>>b&ue;f=f.array[v]=Et(f.array[v],i)}f.array[d>>>X&ue]=g}if(s<o&&(S=S&&S.removeAfter(i,0,s)),a>=p)a-=p,s-=p,l=X,u=null,S=S&&S.removeBefore(i,0,a);else if(a>r||p<d){for(c=0;u;){var T=a>>>l&ue;if(T!==p>>>l&ue)break;T&&(c+=(1<<l)*T),l-=X,u=u.array[T]}u&&a>r&&(u=u.removeBefore(i,l,a-c)),u&&p<d&&(u=u.removeAfter(i,l,p-c)),c&&(a-=c,s-=c)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=l,t._root=u,t._tail=S,t.__hash=void 0,t.__altered=!0,t):ir(a,s,l,u,S)}function or(t){return t<be?0:t-1>>>X<<X}var Xe=function(t){function e(n){return n==null?Ft():Ua(n)?n:Ft().withMutations(function(i){var r=Ce(n);xe(r.size),r.forEach(function(o,a){return i.set(a,o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(i,r){var o=this._map.get(i);return o!==void 0?this._list.get(o)[1]:r},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ft()},e.prototype.set=function(i,r){return ko(this,i,r)},e.prototype.remove=function(i){return ko(this,i,j)},e.prototype.__iterate=function(i,r){var o=this;return this._list.__iterate(function(a){return a&&i(a[1],a[0],o)},r)},e.prototype.__iterator=function(i,r){return this._list.fromEntrySeq().__iterator(i,r)},e.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var r=this._map.__ensureOwner(i),o=this._list.__ensureOwner(i);return i?Pi(r,o,i,this.__hash):this.size===0?Ft():(this.__ownerID=i,this.__altered=!1,this._map=r,this._list=o,this)},e}(pt);Xe.isOrderedMap=Ua;Xe.prototype[At]=!0;Xe.prototype[ur]=Xe.prototype.remove;function Pi(t,e,n,i){var r=Object.create(Xe.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}var qo;function Ft(){return qo||(qo=Pi(De(),Ur()))}function ko(t,e,n){var i=t._map,r=t._list,o=i.get(e),a=o!==void 0,s,l;if(n===j){if(!a)return t;r.size>=be&&r.size>=i.size*2?(l=r.filter(function(u,c){return u!==void 0&&o!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=l.__ownerID=t.__ownerID)):(s=i.remove(e),l=o===r.size-1?r.pop():r.set(o,void 0))}else if(a){if(n===r.get(o)[1])return t;s=i,l=r.set(o,[e,n])}else s=i.set(e,r.size),l=r.set(r.size,[e,n]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=l,t.__hash=void 0,t.__altered=!0,t):Pi(s,l)}var ys="@@__IMMUTABLE_STACK__@@";function ei(t){return Boolean(t&&t[ys])}var qi=function(t){function e(n){return n==null?wr():ei(n)?n:wr().pushAll(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(i,r){var o=this._head;for(i=rt(this,i);o&&i--;)o=o.next;return o?o.value:r},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var i=arguments;if(arguments.length===0)return this;for(var r=this.size+arguments.length,o=this._head,a=arguments.length-1;a>=0;a--)o={value:i[a],next:o};return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):jt(r,o)},e.prototype.pushAll=function(i){if(i=t(i),i.size===0)return this;if(this.size===0&&ei(i))return i;xe(i.size);var r=this.size,o=this._head;return i.__iterate(function(a){r++,o={value:a,next:o}},!0),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):jt(r,o)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):wr()},e.prototype.slice=function(i,r){if(un(i,r,this.size))return this;var o=cr(i,this.size),a=cn(r,this.size);if(a!==this.size)return t.prototype.slice.call(this,i,r);for(var s=this.size-o,l=this._head;o--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):jt(s,l)},e.prototype.__ensureOwner=function(i){return i===this.__ownerID?this:i?jt(this.size,this._head,i,this.__hash):this.size===0?wr():(this.__ownerID=i,this.__altered=!1,this)},e.prototype.__iterate=function(i,r){var o=this;if(r)return new ut(this.toArray()).__iterate(function(l,u){return i(l,u,o)},r);for(var a=0,s=this._head;s&&i(s.value,a++,this)!==!1;)s=s.next;return a},e.prototype.__iterator=function(i,r){if(r)return new ut(this.toArray()).__iterator(i,r);var o=0,a=this._head;return new U(function(){if(a){var s=a.value;return a=a.next,Z(i,o++,s)}return _e()})},e}(ft);qi.isStack=ei;var ce=qi.prototype;ce[ys]=!0;ce.shift=ce.pop;ce.unshift=ce.push;ce.unshiftAll=ce.pushAll;ce.withMutations=hr;ce.wasAltered=Mi;ce.asImmutable=pr;ce["@@transducer/init"]=ce.asMutable=fr;ce["@@transducer/step"]=function(t,e){return t.unshift(e)};ce["@@transducer/result"]=function(t){return t.asImmutable()};function jt(t,e,n,i){var r=Object.create(ce);return r.size=t,r._head=e,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}var Fo;function wr(){return Fo||(Fo=jt(0))}var vs="@@__IMMUTABLE_SET__@@";function ki(t){return Boolean(t&&t[vs])}function Ss(t){return ki(t)&&Ae(t)}function ws(t,e){if(t===e)return!0;if(!me(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||ee(t)!==ee(e)||pe(t)!==pe(e)||Ae(t)!==Ae(e))return!1;if(t.size===0&&e.size===0)return!0;var n=!dn(t);if(Ae(t)){var i=t.entries();return e.every(function(l,u){var c=i.next().value;return c&&ve(c[1],l)&&(n||ve(c[0],u))})&&i.next().done}var r=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{r=!0;var o=t;t=e,e=o}var a=!0,s=e.__iterate(function(l,u){if(n?!t.has(l):r?!ve(l,t.get(u,j)):!ve(t.get(u,j),l))return a=!1,!1});return a&&t.size===s}function mt(t,e){var n=function(i){t.prototype[i]=e[i]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function on(t){if(!t||typeof t!="object")return t;if(!me(t)){if(!nt(t))return t;t=Se(t)}if(ee(t)){var e={};return t.__iterate(function(i,r){e[r]=on(i)}),e}var n=[];return t.__iterate(function(i){n.push(on(i))}),n}var gn=function(t){function e(n){return n==null?Wt():ki(n)&&!Ae(n)?n:Wt().withMutations(function(i){var r=t(n);xe(r.size),r.forEach(function(o){return i.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(i){return this(Ce(i).keySeq())},e.intersect=function(i){return i=re(i).toArray(),i.length?ae.intersect.apply(e(i.pop()),i):Wt()},e.union=function(i){return i=re(i).toArray(),i.length?ae.union.apply(e(i.pop()),i):Wt()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(i){return this._map.has(i)},e.prototype.add=function(i){return br(this,this._map.set(i,i))},e.prototype.remove=function(i){return br(this,this._map.remove(i))},e.prototype.clear=function(){return br(this,this._map.clear())},e.prototype.map=function(i,r){var o=this,a=!1,s=br(this,this._map.mapEntries(function(l){var u=l[1],c=i.call(r,u,u,o);return c!==u&&(a=!0),[c,c]},r));return a?s:this},e.prototype.union=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];return i=i.filter(function(o){return o.size!==0}),i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(o){for(var a=0;a<i.length;a++)t(i[a]).forEach(function(s){return o.add(s)})})},e.prototype.intersect=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];if(i.length===0)return this;i=i.map(function(a){return t(a)});var o=[];return this.forEach(function(a){i.every(function(s){return s.includes(a)})||o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.subtract=function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];if(i.length===0)return this;i=i.map(function(a){return t(a)});var o=[];return this.forEach(function(a){i.some(function(s){return s.includes(a)})&&o.push(a)}),this.withMutations(function(a){o.forEach(function(s){a.remove(s)})})},e.prototype.sort=function(i){return ar(bt(this,i))},e.prototype.sortBy=function(i,r){return ar(bt(this,r,i))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(i,r){var o=this;return this._map.__iterate(function(a){return i(a,a,o)},r)},e.prototype.__iterator=function(i,r){return this._map.__iterator(i,r)},e.prototype.__ensureOwner=function(i){if(i===this.__ownerID)return this;var r=this._map.__ensureOwner(i);return i?this.__make(r,i):this.size===0?this.__empty():(this.__ownerID=i,this._map=r,this)},e}(zt);gn.isSet=ki;var ae=gn.prototype;ae[vs]=!0;ae[ur]=ae.remove;ae.merge=ae.concat=ae.union;ae.withMutations=hr;ae.asImmutable=pr;ae["@@transducer/init"]=ae.asMutable=fr;ae["@@transducer/step"]=function(t,e){return t.add(e)};ae["@@transducer/result"]=function(t){return t.asImmutable()};ae.__empty=Wt;ae.__make=bs;function br(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function bs(t,e){var n=Object.create(ae);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var jo;function Wt(){return jo||(jo=bs(De()))}var gd=function(t){function e(n,i,r){if(!(this instanceof e))return new e(n,i,r);if(Ei(r!==0,"Cannot step a Range by 0"),n=n||0,i===void 0&&(i=1/0),r=r===void 0?1:Math.abs(r),i<n&&(r=-r),this._start=n,this._end=i,this._step=r,this.size=Math.max(0,Math.ceil((i-n)/r-1)+1),this.size===0){if(Vn)return Vn;Vn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(i,r){return this.has(i)?this._start+rt(this,i)*this._step:r},e.prototype.includes=function(i){var r=(i-this._start)/this._step;return r>=0&&r<this.size&&r===Math.floor(r)},e.prototype.slice=function(i,r){return un(i,r,this.size)?this:(i=cr(i,this.size),r=cn(r,this.size),r<=i?new e(0,0):new e(this.get(i,this._end),this.get(r,this._end),this._step))},e.prototype.indexOf=function(i){var r=i-this._start;if(r%this._step===0){var o=r/this._step;if(o>=0&&o<this.size)return o}return-1},e.prototype.lastIndexOf=function(i){return this.indexOf(i)},e.prototype.__iterate=function(i,r){for(var o=this.size,a=this._step,s=r?this._start+(o-1)*a:this._start,l=0;l!==o&&i(s,r?o-++l:l++,this)!==!1;)s+=r?-a:a;return l},e.prototype.__iterator=function(i,r){var o=this.size,a=this._step,s=r?this._start+(o-1)*a:this._start,l=0;return new U(function(){if(l===o)return _e();var u=s;return s+=r?-a:a,Z(i,r?o-++l:l++,u)})},e.prototype.equals=function(i){return i instanceof e?this._start===i._start&&this._end===i._end&&this._step===i._step:ws(this,i)},e}(Me),Vn;function Rs(t,e,n){for(var i=is(e),r=0;r!==i.length;)if(t=os(t,i[r++],j),t===j)return n;return t}function xs(t,e){return Rs(this,t,e)}function yd(t,e){return Rs(t,e,j)!==j}function vd(t){return yd(this,t)}function Es(){xe(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t}re.isIterable=me;re.isKeyed=ee;re.isIndexed=pe;re.isAssociative=dn;re.isOrdered=Ae;re.Iterator=U;mt(re,{toArray:function(){xe(this.size);var e=new Array(this.size||0),n=ee(this),i=0;return this.__iterate(function(r,o){e[i++]=n?[o,r]:r}),e},toIndexedSeq:function(){return new Ya(this)},toJS:function(){return on(this)},toKeyedSeq:function(){return new mn(this,!0)},toMap:function(){return pt(this.toKeyedSeq())},toObject:Es,toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return ar(ee(this)?this.valueSeq():this)},toSet:function(){return gn(ee(this)?this.valueSeq():this)},toSetSeq:function(){return new Ga(this)},toSeq:function(){return pe(this)?this.toIndexedSeq():ee(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qi(ee(this)?this.valueSeq():this)},toList:function(){return _n(ee(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,n){return this.size===0?e+n:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Y(this,Gc(this,e))},includes:function(e){return this.some(function(n){return ve(n,e)})},entries:function(){return this.__iterator(Te)},every:function(e,n){xe(this.size);var i=!0;return this.__iterate(function(r,o,a){if(!e.call(n,r,o,a))return i=!1,!1}),i},filter:function(e,n){return Y(this,Za(this,e,n,!0))},find:function(e,n,i){var r=this.findEntry(e,n);return r?r[1]:i},forEach:function(e,n){return xe(this.size),this.__iterate(n?e.bind(n):e)},join:function(e){xe(this.size),e=e!==void 0?""+e:",";var n="",i=!0;return this.__iterate(function(r){i?i=!1:n+=e,n+=r!=null?r.toString():""}),n},keys:function(){return this.__iterator(dr)},map:function(e,n){return Y(this,Ja(this,e,n))},reduce:function(e,n,i){return Wo(this,e,n,i,arguments.length<2,!1)},reduceRight:function(e,n,i){return Wo(this,e,n,i,arguments.length<2,!0)},reverse:function(){return Y(this,bi(this,!0))},slice:function(e,n){return Y(this,Ri(this,e,n,!0))},some:function(e,n){return!this.every(Rr(e),n)},sort:function(e){return Y(this,bt(this,e))},values:function(){return this.__iterator(Ne)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,n){return wt(e?this.toSeq().filter(e,n):this)},countBy:function(e,n){return Uc(this,e,n)},equals:function(e){return ws(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ut(e._cache);var n=e.toSeq().map(wd).toIndexedSeq();return n.fromEntrySeq=function(){return e.toSeq()},n},filterNot:function(e,n){return this.filter(Rr(e),n)},findEntry:function(e,n,i){var r=i;return this.__iterate(function(o,a,s){if(e.call(n,o,a,s))return r=[a,o],!1}),r},findKey:function(e,n){var i=this.findEntry(e,n);return i&&i[0]},findLast:function(e,n,i){return this.toKeyedSeq().reverse().find(e,n,i)},findLastEntry:function(e,n,i){return this.toKeyedSeq().reverse().findEntry(e,n,i)},findLastKey:function(e,n){return this.toKeyedSeq().reverse().findKey(e,n)},first:function(e){return this.find(Na,null,e)},flatMap:function(e,n){return Y(this,Xc(this,e,n))},flatten:function(e){return Y(this,ts(this,e,!0))},fromEntrySeq:function(){return new Xa(this)},get:function(e,n){return this.find(function(i,r){return ve(r,e)},void 0,n)},getIn:xs,groupBy:function(e,n){return $c(this,e,n)},has:function(e){return this.get(e,j)!==j},hasIn:vd,isSubset:function(e){return e=typeof e.includes=="function"?e:re(e),this.every(function(n){return e.includes(n)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:re(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(n){return ve(n,e)})},keySeq:function(){return this.toSeq().map(Sd).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return vr(this,e)},maxBy:function(e,n){return vr(this,n,e)},min:function(e){return vr(this,e?Bo(e):Uo)},minBy:function(e,n){return vr(this,n?Bo(n):Uo,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,n){return Y(this,es(this,e,n,!0))},skipUntil:function(e,n){return this.skipWhile(Rr(e),n)},sortBy:function(e,n){return Y(this,bt(this,n,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,n){return Y(this,Yc(this,e,n))},takeUntil:function(e,n){return this.takeWhile(Rr(e),n)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=bd(this))}});var le=re.prototype;le[La]=!0;le[hn]=le.values;le.toJSON=le.toArray;le.__toStringMapper=tr;le.inspect=le.toSource=function(){return this.toString()};le.chain=le.flatMap;le.contains=le.includes;mt(Ce,{flip:function(){return Y(this,Qa(this))},mapEntries:function(e,n){var i=this,r=0;return Y(this,this.toSeq().map(function(o,a){return e.call(n,[a,o],r++,i)}).fromEntrySeq())},mapKeys:function(e,n){var i=this;return Y(this,this.toSeq().flip().map(function(r,o){return e.call(n,r,o,i)}).flip())}});var mr=Ce.prototype;mr[Ha]=!0;mr[hn]=le.entries;mr.toJSON=Es;mr.__toStringMapper=function(t,e){return tr(e)+": "+tr(t)};mt(ft,{toKeyedSeq:function(){return new mn(this,!1)},filter:function(e,n){return Y(this,Za(this,e,n,!1))},findIndex:function(e,n){var i=this.findEntry(e,n);return i?i[0]:-1},indexOf:function(e){var n=this.keyOf(e);return n===void 0?-1:n},lastIndexOf:function(e){var n=this.lastKeyOf(e);return n===void 0?-1:n},reverse:function(){return Y(this,bi(this,!1))},slice:function(e,n){return Y(this,Ri(this,e,n,!1))},splice:function(e,n){var i=arguments.length;if(n=Math.max(n||0,0),i===0||i===2&&!n)return this;e=cr(e,e<0?this.count():this.size);var r=this.slice(0,e);return Y(this,i===1?r:r.concat(qe(arguments,2),this.slice(e+n)))},findLastIndex:function(e,n){var i=this.findLastEntry(e,n);return i?i[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Y(this,ts(this,e,!1))},get:function(e,n){return e=rt(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?n:this.find(function(i,r){return r===e},void 0,n)},has:function(e){return e=rt(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Y(this,Qc(this,e))},interleave:function(){var e=[this].concat(qe(arguments)),n=Sr(this.toSeq(),Me.of,e),i=n.flatten(!0);return n.size&&(i.size=n.size*e.length),Y(this,i)},keySeq:function(){return gd(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,n){return Y(this,es(this,e,n,!1))},zip:function(){var e=[this].concat(qe(arguments));return Y(this,Sr(this,Ko,e))},zipAll:function(){var e=[this].concat(qe(arguments));return Y(this,Sr(this,Ko,e,!0))},zipWith:function(e){var n=qe(arguments);return n[0]=this,Y(this,Sr(this,e,n))}});var Lt=ft.prototype;Lt[Pa]=!0;Lt[At]=!0;mt(zt,{get:function(e,n){return this.has(e)?e:n},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Tt=zt.prototype;Tt.has=le.includes;Tt.contains=Tt.includes;Tt.keys=Tt.values;mt(ot,mr);mt(Me,Lt);mt(Mt,Tt);function Wo(t,e,n,i,r,o){return xe(t.size),t.__iterate(function(a,s,l){r?(r=!1,n=a):n=e.call(i,n,a,s,l)},o),n}function Sd(t,e){return e}function wd(t,e){return[e,t]}function Rr(t){return function(){return!t.apply(this,arguments)}}function Bo(t){return function(){return-t.apply(this,arguments)}}function Ko(){return qe(arguments)}function Uo(t,e){return t<e?1:t>e?-1:0}function bd(t){if(t.size===1/0)return 0;var e=Ae(t),n=ee(t),i=e?1:0,r=t.__iterate(n?e?function(o,a){i=31*i+$o(ye(o),ye(a))|0}:function(o,a){i=i+$o(ye(o),ye(a))|0}:e?function(o){i=31*i+ye(o)|0}:function(o){i=i+ye(o)|0});return Rd(r,i)}function Rd(t,e){return e=qt(e,3432918353),e=qt(e<<15|e>>>-15,461845907),e=qt(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=qt(e^e>>>16,2246822507),e=qt(e^e>>>13,3266489909),e=pn(e^e>>>16),e}function $o(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var ar=function(t){function e(n){return n==null?ti():Ss(n)?n:ti().withMutations(function(i){var r=zt(n);xe(r.size),r.forEach(function(o){return i.add(o)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(i){return this(Ce(i).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(gn);ar.isOrderedSet=Ss;var _t=ar.prototype;_t[At]=!0;_t.zip=Lt.zip;_t.zipWith=Lt.zipWith;_t.zipAll=Lt.zipAll;_t.__empty=ti;_t.__make=Ts;function Ts(t,e){var n=Object.create(_t);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}var Yo;function ti(){return Yo||(Yo=Ts(Ft()))}function xd(t){if(Dt(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(We(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var oe=function(e,n){var i;xd(e);var r=function(s){var l=this;if(s instanceof r)return s;if(!(this instanceof r))return new r(s);if(!i){i=!0;var u=Object.keys(e),c=o._indices={};o._name=n,o._keys=u,o._defaultValues=e;for(var d=0;d<u.length;d++){var p=u[d];c[p]=d,o[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ji(this)+' with property "'+p+'" since that property name is part of the Record API.'):Ed(o,p)}}return this.__ownerID=void 0,this._values=_n().withMutations(function(g){g.setSize(l._keys.length),Ce(s).forEach(function(S,f){g.set(l._indices[f],S===l._defaultValues[f]?void 0:S)})}),this},o=r.prototype=Object.create(G);return o.constructor=r,n&&(r.displayName=n),r};oe.prototype.toString=function(){for(var e=ji(this)+" { ",n=this._keys,i,r=0,o=n.length;r!==o;r++)i=n[r],e+=(r?", ":"")+i+": "+tr(this.get(i));return e+" }"};oe.prototype.equals=function(e){return this===e||Dt(e)&&Ct(this).equals(Ct(e))};oe.prototype.hashCode=function(){return Ct(this).hashCode()};oe.prototype.has=function(e){return this._indices.hasOwnProperty(e)};oe.prototype.get=function(e,n){if(!this.has(e))return n;var i=this._indices[e],r=this._values.get(i);return r===void 0?this._defaultValues[e]:r};oe.prototype.set=function(e,n){if(this.has(e)){var i=this._values.set(this._indices[e],n===this._defaultValues[e]?void 0:n);if(i!==this._values&&!this.__ownerID)return Fi(this,i)}return this};oe.prototype.remove=function(e){return this.set(e)};oe.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Fi(this,e)};oe.prototype.wasAltered=function(){return this._values.wasAltered()};oe.prototype.toSeq=function(){return Ct(this)};oe.prototype.toJS=function(){return on(this)};oe.prototype.entries=function(){return this.__iterator(Te)};oe.prototype.__iterator=function(e,n){return Ct(this).__iterator(e,n)};oe.prototype.__iterate=function(e,n){return Ct(this).__iterate(e,n)};oe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var n=this._values.__ensureOwner(e);return e?Fi(this,n,e):(this.__ownerID=e,this._values=n,this)};oe.isRecord=Dt;oe.getDescriptiveName=ji;var G=oe.prototype;G[ka]=!0;G[ur]=G.remove;G.deleteIn=G.removeIn=Ci;G.getIn=xs;G.hasIn=le.hasIn;G.merge=ls;G.mergeWith=us;G.mergeIn=Ai;G.mergeDeep=ds;G.mergeDeepWith=hs;G.mergeDeepIn=Ni;G.setIn=Ti;G.update=Ii;G.updateIn=Oi;G.withMutations=hr;G.asMutable=fr;G.asImmutable=pr;G[hn]=G.entries;G.toJSON=G.toObject=le.toObject;G.inspect=G.toSource=function(){return this.toString()};function Fi(t,e,n){var i=Object.create(Object.getPrototypeOf(t));return i._values=e,i.__ownerID=n,i}function ji(t){return t.constructor.displayName||t.constructor.name||"Record"}function Ct(t){return vi(t._keys.map(function(e){return[e,t.get(e)]}))}function Ed(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(n){Ei(this.__ownerID,"Cannot set on an immutable record."),this.set(e,n)}})}catch{}}function Td(t){const e=C.exports.useCallback((i,r)=>{const o=r.get(i.targetId);return o==null?!1:o===je?i.targetVersionNumber===void 0:o===i.targetVersionNumber},[]),n=C.exports.useCallback((i,r)=>i.withMutations(a=>{Array.isArray(r)||(r=[r]),r.forEach(s=>{var l;e(s,i)?a.delete(s.targetId):(t||a.clear(),a.set(s.targetId,(l=s.targetVersionNumber)!=null?l:je))})}),[e,t]);return C.exports.useReducer(n,pt())}const Cd=Object.values(Ye),Id=Object.values(Ye),Od=[Ye.PROJECT,Ye.FOLDER],je=-1,zd=t=>Object.values(Ye).filter(i=>!t.includes(i)).map(i=>({key:"node_type",value:i.toString(),not:!0})),$r=({initialScope:t,projectId:e,initialContainer:n=null,selectMultiple:i,onSelectedChange:r,versionSelection:o=fe.TRACKED,selectableTypes:a=Cd,visibleTypesInList:s=Id,visibleTypesInTree:l=Od,selectedCopy:u=i?d=>`Selected (${d})`:"Selected",treeOnly:c=!1})=>{const{accessToken:d}=ct(),[p,g]=C.exports.useState(!1),[S,f]=C.exports.useState(),[b,v]=C.exports.useState(),[T,x]=C.exports.useState({items:[]}),[y,_]=C.exports.useState([]),[w,R]=C.exports.useState({type:Oe.PROMPT}),E=C.exports.useRef(null),z=C.exports.useMemo(()=>[...l,...a],[l,a]),O=C.exports.useMemo(()=>[...s,...a],[s,a]),[A,H]=C.exports.useState(n),F=Zo(),q=C.exports.useCallback(k=>{x({items:k})},[x]),[V,N]=Td(i),D=C.exports.useCallback(k=>V.has(k.id),[V]),M=C.exports.useCallback(k=>{const se=Ie(k);return a.includes(se)},[a]);C.exports.useEffect(()=>{r(V.toArray().map(([k,se])=>({targetId:k,targetVersionNumber:se===je?void 0:se})))},[V,r]),C.exports.useEffect(()=>{if((b==null?void 0:b.length)===1){const k=Js(b[0]);k&&$s([k],d).then(se=>{_(se.results)}).catch(se=>F(se))}else _([])},[d,b,F]);const B=p?"MainPanelSearch":c?"MainPanelSinglePane":"MainPanelDualPane";let I;const $=["table","entityview","materializedview","submissionview","dataset","datasetcollection"];return a.length===1?I=`Search for ${Ls(Ys(a[0]))}`:a.every(k=>$.includes(k))?I="Search for Tables":I="Search all of Synapse",m(Jo,{children:L("div",{className:"bootstrap-4-backport EntityFinder",children:[m("div",{className:"EntityFinder__Search","data-active":p,children:L(Q,{children:[p?L(Ui,{variant:"gray-primary-500",onClick:()=>{g(!1),f(""),v(void 0)},children:[m(Xs,{arrowDirection:"left",style:{height:"16px"}}),"Back to Browse"]}):L(Ui,{variant:"sds-primary",className:"EntityFinder__Search__SearchButton",onClick:()=>{g(!0),E.current.focus()},children:[m(Bt,{icon:"search"}),I]}),m("span",{className:"SearchIcon",children:m(Bt,{icon:"search"})}),m(yl,{role:"textbox",ref:E,"aria-hidden":!p,className:"EntityFinder__Search__Input",type:"search",placeholder:"Search by name, Wiki contents, or Synapse ID",value:S,onChange:k=>{f(k.target.value)},onKeyDown:k=>{k.key==="Enter"&&(k.target.value===""?v(void 0):v(k.target.value.trim().split(" ")))}}),S&&m("span",{className:"ClearSearchIcon",onClick:()=>{f(""),v(void 0)},children:m(Bt,{icon:"close",label:"Clear Search"})})]})}),L("div",{className:`EntityFinder__MainPanel ${B}`,children:[p&&m(Gt,{configuration:y&&y.length>0?{type:Oe.HEADER_LIST,headerList:y}:{type:Oe.ENTITY_SEARCH,query:{queryTerm:b,booleanQuery:zd(a)}},versionSelection:o,selectColumnType:i?"checkbox":"none",selected:V,isIdSelected:D,isSelectable:M,visibleTypes:a,selectableTypes:a,toggleSelection:N,enableSelectAll:i,setCurrentContainer:void 0}),m("div",{style:p?{display:"none"}:{},children:c?m("div",{children:m(Jt,{toggleSelection:N,showDropdown:!0,visibleTypes:z,initialScope:t,selectedEntities:V,projectId:e,initialContainer:n,currentContainer:A,setCurrentContainer:H,showScopeAsRootNode:!1,treeNodeType:Fe.SINGLE_PANE,selectableTypes:a})}):m("div",{className:"EntityFinderReflexContainer",children:m(Gs.SizeMe,{children:({size:k})=>L(oi,{orientation:"vertical",windowResizeAware:!0,children:[m(Ji,{className:"TreeViewReflexElement",flex:.24,children:m(Jt,{selectedEntities:V,setDetailsViewConfiguration:R,showDropdown:!0,visibleTypes:l,initialScope:t,projectId:e,initialContainer:n,currentContainer:A,setCurrentContainer:H,treeNodeType:Fe.DUAL_PANE,setBreadcrumbItems:q,selectableTypes:l})}),m(we,{}),L(Ji,{className:"DetailsViewReflexElement",children:[m(Gt,{configuration:w,versionSelection:o,selected:V,isIdSelected:D,isSelectable:M,visibleTypes:O,selectableTypes:a,selectColumnType:i?"checkbox":"none",toggleSelection:N,enableSelectAll:i,setCurrentContainer:H}),m(Er,{...T})]})]},(!!k.width).toString())})})})]}),V.size>0&&m(jr,{title:u,selectedEntities:V,toggleSelection:N})]})})},mh=$r;try{$r.displayName="EntityFinder",$r.__docgenInfo={description:"",displayName:"EntityFinder",props:{selectMultiple:{defaultValue:null,description:"Whether or not it is possible to select multiple entities",name:"selectMultiple",required:!0,type:{name:"boolean"}},onSelectedChange:{defaultValue:null,description:"Callback invoked when the selection changes",name:"onSelectedChange",required:!0,type:{name:"(selected: Reference[]) => void"}},initialScope:{defaultValue:null,description:'The initial appearance of the entity finder. Possible values include "Current Project", "All Projects", "Projects Created By Me", "My Favorites"',name:"initialScope",required:!0,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:`The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be "Current Project"`,name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:{value:"null"},description:"The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId`",name:"initialContainer",required:!1,type:{name:"string | null"}},versionSelection:{defaultValue:{value:"VersionSelectionType.TRACKED"},description:'Determines if versions are selectable, and if so, how they should be shown. Default is "TRACKED"',name:"versionSelection",required:!1,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},visibleTypesInList:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInList",required:!1,type:{name:"EntityType[]"}},selectableTypes:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search",name:"selectableTypes",required:!1,type:{name:"EntityType[]"}},visibleTypesInTree:{defaultValue:{value:"[EntityType.PROJECT, EntityType.FOLDER]"},description:"The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInTree",required:!1,type:{name:"EntityType[]"}},selectedCopy:{defaultValue:{value:"selectMultiple ? count => `Selected (${count})` : 'Selected'"},description:"The text to show before the list of selected entities",name:"selectedCopy",required:!1,type:{name:"string | ((count: number) => string)"}},treeOnly:{defaultValue:{value:"false"},description:"Whether to show only the tree. If `true`, the tree will be used to make selections",name:"treeOnly",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"]={docgenInfo:$r.__docgenInfo,name:"EntityFinder",path:"src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"})}catch{}export{Oa as A,sr as B,zr as C,Cn as D,mh as E,Aa as F,Or as M,En as P,fe as V,In as a,xn as b,Ir as c,Ar as d,Tn as e};
