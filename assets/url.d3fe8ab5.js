import{r as xe,a as _t,b as St,c as Rt,d as Et,e as ae}from"./inherits_browser.8fad6dd3.js";import{c as de,h as At}from"./iframe.d32e0f35.js";import{b as ve}from"./index.66e0b57e.js";var Re,Ke;function pt(){return Ke||(Ke=1,Re=xe().EventEmitter),Re}var He={},yt={};(function(t){var S=_t(),n=St(),E=Rt(),O=Et();function d(_){return _.call.bind(_)}var p=typeof BigInt<"u",o=typeof Symbol<"u",s=d(Object.prototype.toString),y=d(Number.prototype.valueOf),A=d(String.prototype.valueOf),C=d(Boolean.prototype.valueOf);if(p)var g=d(BigInt.prototype.valueOf);if(o)var v=d(Symbol.prototype.valueOf);function b(_,be){if(typeof _!="object")return!1;try{return be(_),!0}catch{return!1}}t.isArgumentsObject=S,t.isGeneratorFunction=n,t.isTypedArray=O;function M(_){return typeof Promise<"u"&&_ instanceof Promise||_!==null&&typeof _=="object"&&typeof _.then=="function"&&typeof _.catch=="function"}t.isPromise=M;function N(_){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(_):O(_)||h(_)}t.isArrayBufferView=N;function l(_){return E(_)==="Uint8Array"}t.isUint8Array=l;function u(_){return E(_)==="Uint8ClampedArray"}t.isUint8ClampedArray=u;function R(_){return E(_)==="Uint16Array"}t.isUint16Array=R;function P(_){return E(_)==="Uint32Array"}t.isUint32Array=P;function L(_){return E(_)==="Int8Array"}t.isInt8Array=L;function F(_){return E(_)==="Int16Array"}t.isInt16Array=F;function H(_){return E(_)==="Int32Array"}t.isInt32Array=H;function q(_){return E(_)==="Float32Array"}t.isFloat32Array=q;function k(_){return E(_)==="Float64Array"}t.isFloat64Array=k;function G(_){return E(_)==="BigInt64Array"}t.isBigInt64Array=G;function $(_){return E(_)==="BigUint64Array"}t.isBigUint64Array=$;function K(_){return s(_)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function Y(_){return typeof Map>"u"?!1:K.working?K(_):_ instanceof Map}t.isMap=Y;function z(_){return s(_)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function X(_){return typeof Set>"u"?!1:z.working?z(_):_ instanceof Set}t.isSet=X;function J(_){return s(_)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function Q(_){return typeof WeakMap>"u"?!1:J.working?J(_):_ instanceof WeakMap}t.isWeakMap=Q;function ee(_){return s(_)==="[object WeakSet]"}ee.working=typeof WeakSet<"u"&&ee(new WeakSet);function Z(_){return ee(_)}t.isWeakSet=Z;function I(_){return s(_)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function U(_){return typeof ArrayBuffer>"u"?!1:I.working?I(_):_ instanceof ArrayBuffer}t.isArrayBuffer=U;function f(_){return s(_)==="[object DataView]"}f.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&f(new DataView(new ArrayBuffer(1),0,1));function h(_){return typeof DataView>"u"?!1:f.working?f(_):_ instanceof DataView}t.isDataView=h;var m=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function B(_){return s(_)==="[object SharedArrayBuffer]"}function i(_){return typeof m>"u"?!1:(typeof B.working>"u"&&(B.working=B(new m)),B.working?B(_):_ instanceof m)}t.isSharedArrayBuffer=i;function a(_){return s(_)==="[object AsyncFunction]"}t.isAsyncFunction=a;function c(_){return s(_)==="[object Map Iterator]"}t.isMapIterator=c;function T(_){return s(_)==="[object Set Iterator]"}t.isSetIterator=T;function D(_){return s(_)==="[object Generator]"}t.isGeneratorObject=D;function e(_){return s(_)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=e;function r(_){return b(_,y)}t.isNumberObject=r;function w(_){return b(_,A)}t.isStringObject=w;function j(_){return b(_,C)}t.isBooleanObject=j;function x(_){return p&&b(_,g)}t.isBigIntObject=x;function W(_){return o&&b(_,v)}t.isSymbolObject=W;function V(_){return r(_)||w(_)||j(_)||x(_)||W(_)}t.isBoxedPrimitive=V;function ie(_){return typeof Uint8Array<"u"&&(U(_)||i(_))}t.isAnyArrayBuffer=ie,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(_){Object.defineProperty(t,_,{enumerable:!1,value:function(){throw new Error(_+" is not supported in userland")}})})})(yt);var Ot=function(S){return S&&typeof S=="object"&&typeof S.copy=="function"&&typeof S.fill=="function"&&typeof S.readUInt8=="function"};(function(t){var S=Object.getOwnPropertyDescriptors||function(h){for(var m=Object.keys(h),B={},i=0;i<m.length;i++)B[m[i]]=Object.getOwnPropertyDescriptor(h,m[i]);return B},n=/%[sdj%]/g;t.format=function(f){if(!L(f)){for(var h=[],m=0;m<arguments.length;m++)h.push(p(arguments[m]));return h.join(" ")}for(var m=1,B=arguments,i=B.length,a=String(f).replace(n,function(T){if(T==="%%")return"%";if(m>=i)return T;switch(T){case"%s":return String(B[m++]);case"%d":return Number(B[m++]);case"%j":try{return JSON.stringify(B[m++])}catch{return"[Circular]"}default:return T}}),c=B[m];m<i;c=B[++m])u(c)||!k(c)?a+=" "+c:a+=" "+p(c);return a},t.deprecate=function(f,h){if(typeof process<"u"&&process.noDeprecation===!0)return f;if(typeof process>"u")return function(){return t.deprecate(f,h).apply(this,arguments)};var m=!1;function B(){if(!m){if(process.throwDeprecation)throw new Error(h);process.traceDeprecation?console.trace(h):console.error(h),m=!0}return f.apply(this,arguments)}return B};var E={},O=/^$/;if(process.env.NODE_DEBUG){var d=process.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),O=new RegExp("^"+d+"$","i")}t.debuglog=function(f){if(f=f.toUpperCase(),!E[f])if(O.test(f)){var h=process.pid;E[f]=function(){var m=t.format.apply(t,arguments);console.error("%s %d: %s",f,h,m)}}else E[f]=function(){};return E[f]};function p(f,h){var m={seen:[],stylize:s};return arguments.length>=3&&(m.depth=arguments[2]),arguments.length>=4&&(m.colors=arguments[3]),l(h)?m.showHidden=h:h&&t._extend(m,h),H(m.showHidden)&&(m.showHidden=!1),H(m.depth)&&(m.depth=2),H(m.colors)&&(m.colors=!1),H(m.customInspect)&&(m.customInspect=!0),m.colors&&(m.stylize=o),A(m,f,m.depth)}t.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(f,h){var m=p.styles[h];return m?"\x1B["+p.colors[m][0]+"m"+f+"\x1B["+p.colors[m][1]+"m":f}function s(f,h){return f}function y(f){var h={};return f.forEach(function(m,B){h[m]=!0}),h}function A(f,h,m){if(f.customInspect&&h&&K(h.inspect)&&h.inspect!==t.inspect&&!(h.constructor&&h.constructor.prototype===h)){var B=h.inspect(m,f);return L(B)||(B=A(f,B,m)),B}var i=C(f,h);if(i)return i;var a=Object.keys(h),c=y(a);if(f.showHidden&&(a=Object.getOwnPropertyNames(h)),$(h)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return g(h);if(a.length===0){if(K(h)){var T=h.name?": "+h.name:"";return f.stylize("[Function"+T+"]","special")}if(q(h))return f.stylize(RegExp.prototype.toString.call(h),"regexp");if(G(h))return f.stylize(Date.prototype.toString.call(h),"date");if($(h))return g(h)}var D="",e=!1,r=["{","}"];if(N(h)&&(e=!0,r=["[","]"]),K(h)){var w=h.name?": "+h.name:"";D=" [Function"+w+"]"}if(q(h)&&(D=" "+RegExp.prototype.toString.call(h)),G(h)&&(D=" "+Date.prototype.toUTCString.call(h)),$(h)&&(D=" "+g(h)),a.length===0&&(!e||h.length==0))return r[0]+D+r[1];if(m<0)return q(h)?f.stylize(RegExp.prototype.toString.call(h),"regexp"):f.stylize("[Object]","special");f.seen.push(h);var j;return e?j=v(f,h,m,c,a):j=a.map(function(x){return b(f,h,m,c,x,e)}),f.seen.pop(),M(j,D,r)}function C(f,h){if(H(h))return f.stylize("undefined","undefined");if(L(h)){var m="'"+JSON.stringify(h).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(m,"string")}if(P(h))return f.stylize(""+h,"number");if(l(h))return f.stylize(""+h,"boolean");if(u(h))return f.stylize("null","null")}function g(f){return"["+Error.prototype.toString.call(f)+"]"}function v(f,h,m,B,i){for(var a=[],c=0,T=h.length;c<T;++c)ee(h,String(c))?a.push(b(f,h,m,B,String(c),!0)):a.push("");return i.forEach(function(D){D.match(/^\d+$/)||a.push(b(f,h,m,B,D,!0))}),a}function b(f,h,m,B,i,a){var c,T,D;if(D=Object.getOwnPropertyDescriptor(h,i)||{value:h[i]},D.get?D.set?T=f.stylize("[Getter/Setter]","special"):T=f.stylize("[Getter]","special"):D.set&&(T=f.stylize("[Setter]","special")),ee(B,i)||(c="["+i+"]"),T||(f.seen.indexOf(D.value)<0?(u(m)?T=A(f,D.value,null):T=A(f,D.value,m-1),T.indexOf(`
`)>-1&&(a?T=T.split(`
`).map(function(e){return"  "+e}).join(`
`).substr(2):T=`
`+T.split(`
`).map(function(e){return"   "+e}).join(`
`))):T=f.stylize("[Circular]","special")),H(c)){if(a&&i.match(/^\d+$/))return T;c=JSON.stringify(""+i),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=f.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=f.stylize(c,"string"))}return c+": "+T}function M(f,h,m){var B=f.reduce(function(i,a){return a.indexOf(`
`)>=0,i+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return B>60?m[0]+(h===""?"":h+`
 `)+" "+f.join(`,
  `)+" "+m[1]:m[0]+h+" "+f.join(", ")+" "+m[1]}t.types=yt;function N(f){return Array.isArray(f)}t.isArray=N;function l(f){return typeof f=="boolean"}t.isBoolean=l;function u(f){return f===null}t.isNull=u;function R(f){return f==null}t.isNullOrUndefined=R;function P(f){return typeof f=="number"}t.isNumber=P;function L(f){return typeof f=="string"}t.isString=L;function F(f){return typeof f=="symbol"}t.isSymbol=F;function H(f){return f===void 0}t.isUndefined=H;function q(f){return k(f)&&z(f)==="[object RegExp]"}t.isRegExp=q,t.types.isRegExp=q;function k(f){return typeof f=="object"&&f!==null}t.isObject=k;function G(f){return k(f)&&z(f)==="[object Date]"}t.isDate=G,t.types.isDate=G;function $(f){return k(f)&&(z(f)==="[object Error]"||f instanceof Error)}t.isError=$,t.types.isNativeError=$;function K(f){return typeof f=="function"}t.isFunction=K;function Y(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||typeof f>"u"}t.isPrimitive=Y,t.isBuffer=Ot;function z(f){return Object.prototype.toString.call(f)}function X(f){return f<10?"0"+f.toString(10):f.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Q(){var f=new Date,h=[X(f.getHours()),X(f.getMinutes()),X(f.getSeconds())].join(":");return[f.getDate(),J[f.getMonth()],h].join(" ")}t.log=function(){console.log("%s - %s",Q(),t.format.apply(t,arguments))},t.inherits=ae(),t._extend=function(f,h){if(!h||!k(h))return f;for(var m=Object.keys(h),B=m.length;B--;)f[m[B]]=h[m[B]];return f};function ee(f,h){return Object.prototype.hasOwnProperty.call(f,h)}var Z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(h){if(typeof h!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&h[Z]){var m=h[Z];if(typeof m!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(m,Z,{value:m,enumerable:!1,writable:!1,configurable:!0}),m}function m(){for(var B,i,a=new Promise(function(D,e){B=D,i=e}),c=[],T=0;T<arguments.length;T++)c.push(arguments[T]);c.push(function(D,e){D?i(D):B(e)});try{h.apply(this,c)}catch(D){i(D)}return a}return Object.setPrototypeOf(m,Object.getPrototypeOf(h)),Z&&Object.defineProperty(m,Z,{value:m,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(m,S(h))},t.promisify.custom=Z;function I(f,h){if(!f){var m=new Error("Promise was rejected with a falsy value");m.reason=f,f=m}return h(f)}function U(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');function h(){for(var m=[],B=0;B<arguments.length;B++)m.push(arguments[B]);var i=m.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var a=this,c=function(){return i.apply(a,arguments)};f.apply(this,m).then(function(T){process.nextTick(c.bind(null,null,T))},function(T){process.nextTick(I.bind(null,T,c))})}return Object.setPrototypeOf(h,Object.getPrototypeOf(f)),Object.defineProperties(h,S(f)),h}t.callbackify=U})(He);var Ee,Ye;function Tt(){if(Ye)return Ee;Ye=1;function t(g,v){var b=Object.keys(g);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(g);v&&(M=M.filter(function(N){return Object.getOwnPropertyDescriptor(g,N).enumerable})),b.push.apply(b,M)}return b}function S(g){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?t(Object(b),!0).forEach(function(M){n(g,M,b[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):t(Object(b)).forEach(function(M){Object.defineProperty(g,M,Object.getOwnPropertyDescriptor(b,M))})}return g}function n(g,v,b){return v in g?Object.defineProperty(g,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[v]=b,g}function E(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function O(g,v){for(var b=0;b<v.length;b++){var M=v[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(g,M.key,M)}}function d(g,v,b){return v&&O(g.prototype,v),b&&O(g,b),g}var p=ve,o=p.Buffer,s=He,y=s.inspect,A=y&&y.custom||"inspect";function C(g,v,b){o.prototype.copy.call(g,v,b)}return Ee=function(){function g(){E(this,g),this.head=null,this.tail=null,this.length=0}return d(g,[{key:"push",value:function(b){var M={data:b,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(b){var M={data:b,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var M=this.head,N=""+M.data;M=M.next;)N+=b+M.data;return N}},{key:"concat",value:function(b){if(this.length===0)return o.alloc(0);for(var M=o.allocUnsafe(b>>>0),N=this.head,l=0;N;)C(N.data,M,l),l+=N.data.length,N=N.next;return M}},{key:"consume",value:function(b,M){var N;return b<this.head.data.length?(N=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?N=this.shift():N=M?this._getString(b):this._getBuffer(b),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var M=this.head,N=1,l=M.data;for(b-=l.length;M=M.next;){var u=M.data,R=b>u.length?u.length:b;if(R===u.length?l+=u:l+=u.slice(0,b),b-=R,b===0){R===u.length?(++N,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=u.slice(R));break}++N}return this.length-=N,l}},{key:"_getBuffer",value:function(b){var M=o.allocUnsafe(b),N=this.head,l=1;for(N.data.copy(M),b-=N.data.length;N=N.next;){var u=N.data,R=b>u.length?u.length:b;if(u.copy(M,M.length-b,0,R),b-=R,b===0){R===u.length?(++l,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=u.slice(R));break}++l}return this.length-=l,M}},{key:A,value:function(b,M){return y(this,S({},M,{depth:0,customInspect:!1}))}}]),g}(),Ee}var Ae,Je;function gt(){if(Je)return Ae;Je=1;function t(p,o){var s=this,y=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return y||A?(o?o(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(O,this,p)):process.nextTick(O,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(C){!o&&C?s._writableState?s._writableState.errorEmitted?process.nextTick(n,s):(s._writableState.errorEmitted=!0,process.nextTick(S,s,C)):process.nextTick(S,s,C):o?(process.nextTick(n,s),o(C)):process.nextTick(n,s)}),this)}function S(p,o){O(p,o),n(p)}function n(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function E(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function O(p,o){p.emit("error",o)}function d(p,o){var s=p._readableState,y=p._writableState;s&&s.autoDestroy||y&&y.autoDestroy?p.destroy(o):p.emit("error",o)}return Ae={destroy:t,undestroy:E,errorOrDestroy:d},Ae}var Oe={},Ze;function le(){if(Ze)return Oe;Ze=1;function t(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s}var S={};function n(o,s,y){y||(y=Error);function A(g,v,b){return typeof s=="string"?s:s(g,v,b)}var C=function(g){t(v,g);function v(b,M,N){return g.call(this,A(b,M,N))||this}return v}(y);C.prototype.name=y.name,C.prototype.code=o,S[o]=C}function E(o,s){if(Array.isArray(o)){var y=o.length;return o=o.map(function(A){return String(A)}),y>2?"one of ".concat(s," ").concat(o.slice(0,y-1).join(", "),", or ")+o[y-1]:y===2?"one of ".concat(s," ").concat(o[0]," or ").concat(o[1]):"of ".concat(s," ").concat(o[0])}else return"of ".concat(s," ").concat(String(o))}function O(o,s,y){return o.substr(!y||y<0?0:+y,s.length)===s}function d(o,s,y){return(y===void 0||y>o.length)&&(y=o.length),o.substring(y-s.length,y)===s}function p(o,s,y){return typeof y!="number"&&(y=0),y+s.length>o.length?!1:o.indexOf(s,y)!==-1}return n("ERR_INVALID_OPT_VALUE",function(o,s){return'The value "'+s+'" is invalid for option "'+o+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(o,s,y){var A;typeof s=="string"&&O(s,"not ")?(A="must not be",s=s.replace(/^not /,"")):A="must be";var C;if(d(o," argument"))C="The ".concat(o," ").concat(A," ").concat(E(s,"type"));else{var g=p(o,".")?"property":"argument";C='The "'.concat(o,'" ').concat(g," ").concat(A," ").concat(E(s,"type"))}return C+=". Received type ".concat(typeof y),C},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Oe.codes=S,Oe}var Te,Xe;function bt(){if(Xe)return Te;Xe=1;var t=le().codes.ERR_INVALID_OPT_VALUE;function S(E,O,d){return E.highWaterMark!=null?E.highWaterMark:O?E[d]:null}function n(E,O,d,p){var o=S(O,p,d);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var s=p?d:"highWaterMark";throw new t(s,o)}return Math.floor(o)}return E.objectMode?16:16*1024}return Te={getHighWaterMark:n},Te}var Me,Qe;function mt(){if(Qe)return Me;Qe=1,Me=q;function t(i){var a=this;this.next=null,this.entry=null,this.finish=function(){B(a,i)}}var S;q.WritableState=F;var n={deprecate:At},E=pt(),O=ve.Buffer,d=de.Uint8Array||function(){};function p(i){return O.from(i)}function o(i){return O.isBuffer(i)||i instanceof d}var s=gt(),y=bt(),A=y.getHighWaterMark,C=le().codes,g=C.ERR_INVALID_ARG_TYPE,v=C.ERR_METHOD_NOT_IMPLEMENTED,b=C.ERR_MULTIPLE_CALLBACK,M=C.ERR_STREAM_CANNOT_PIPE,N=C.ERR_STREAM_DESTROYED,l=C.ERR_STREAM_NULL_VALUES,u=C.ERR_STREAM_WRITE_AFTER_END,R=C.ERR_UNKNOWN_ENCODING,P=s.errorOrDestroy;ae()(q,E);function L(){}function F(i,a,c){S=S||ue(),i=i||{},typeof c!="boolean"&&(c=a instanceof S),this.objectMode=!!i.objectMode,c&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=A(this,i,"writableHighWaterMark",c),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=i.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){J(a,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}F.prototype.getBuffer=function(){for(var a=this.bufferedRequest,c=[];a;)c.push(a),a=a.next;return c},function(){try{Object.defineProperty(F.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(a){return H.call(this,a)?!0:this!==q?!1:a&&a._writableState instanceof F}})):H=function(a){return a instanceof this};function q(i){S=S||ue();var a=this instanceof S;if(!a&&!H.call(q,this))return new q(i);this._writableState=new F(i,this,a),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),E.call(this)}q.prototype.pipe=function(){P(this,new M)};function k(i,a){var c=new u;P(i,c),process.nextTick(a,c)}function G(i,a,c,T){var D;return c===null?D=new l:typeof c!="string"&&!a.objectMode&&(D=new g("chunk",["string","Buffer"],c)),D?(P(i,D),process.nextTick(T,D),!1):!0}q.prototype.write=function(i,a,c){var T=this._writableState,D=!1,e=!T.objectMode&&o(i);return e&&!O.isBuffer(i)&&(i=p(i)),typeof a=="function"&&(c=a,a=null),e?a="buffer":a||(a=T.defaultEncoding),typeof c!="function"&&(c=L),T.ending?k(this,c):(e||G(this,T,i,c))&&(T.pendingcb++,D=K(this,T,e,i,a,c)),D},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&Z(this,i))},q.prototype.setDefaultEncoding=function(a){if(typeof a=="string"&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new R(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(i,a,c){return!i.objectMode&&i.decodeStrings!==!1&&typeof a=="string"&&(a=O.from(a,c)),a}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(i,a,c,T,D,e){if(!c){var r=$(a,T,D);T!==r&&(c=!0,D="buffer",T=r)}var w=a.objectMode?1:T.length;a.length+=w;var j=a.length<a.highWaterMark;if(j||(a.needDrain=!0),a.writing||a.corked){var x=a.lastBufferedRequest;a.lastBufferedRequest={chunk:T,encoding:D,isBuf:c,callback:e,next:null},x?x.next=a.lastBufferedRequest:a.bufferedRequest=a.lastBufferedRequest,a.bufferedRequestCount+=1}else Y(i,a,!1,w,T,D,e);return j}function Y(i,a,c,T,D,e,r){a.writelen=T,a.writecb=r,a.writing=!0,a.sync=!0,a.destroyed?a.onwrite(new N("write")):c?i._writev(D,a.onwrite):i._write(D,e,a.onwrite),a.sync=!1}function z(i,a,c,T,D){--a.pendingcb,c?(process.nextTick(D,T),process.nextTick(h,i,a),i._writableState.errorEmitted=!0,P(i,T)):(D(T),i._writableState.errorEmitted=!0,P(i,T),h(i,a))}function X(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function J(i,a){var c=i._writableState,T=c.sync,D=c.writecb;if(typeof D!="function")throw new b;if(X(c),a)z(i,c,T,a,D);else{var e=I(c)||i.destroyed;!e&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&Z(i,c),T?process.nextTick(Q,i,c,e,D):Q(i,c,e,D)}}function Q(i,a,c,T){c||ee(i,a),a.pendingcb--,T(),h(i,a)}function ee(i,a){a.length===0&&a.needDrain&&(a.needDrain=!1,i.emit("drain"))}function Z(i,a){a.bufferProcessing=!0;var c=a.bufferedRequest;if(i._writev&&c&&c.next){var T=a.bufferedRequestCount,D=new Array(T),e=a.corkedRequestsFree;e.entry=c;for(var r=0,w=!0;c;)D[r]=c,c.isBuf||(w=!1),c=c.next,r+=1;D.allBuffers=w,Y(i,a,!0,a.length,D,"",e.finish),a.pendingcb++,a.lastBufferedRequest=null,e.next?(a.corkedRequestsFree=e.next,e.next=null):a.corkedRequestsFree=new t(a),a.bufferedRequestCount=0}else{for(;c;){var j=c.chunk,x=c.encoding,W=c.callback,V=a.objectMode?1:j.length;if(Y(i,a,!1,V,j,x,W),c=c.next,a.bufferedRequestCount--,a.writing)break}c===null&&(a.lastBufferedRequest=null)}a.bufferedRequest=c,a.bufferProcessing=!1}q.prototype._write=function(i,a,c){c(new v("_write()"))},q.prototype._writev=null,q.prototype.end=function(i,a,c){var T=this._writableState;return typeof i=="function"?(c=i,i=null,a=null):typeof a=="function"&&(c=a,a=null),i!=null&&this.write(i,a),T.corked&&(T.corked=1,this.uncork()),T.ending||m(this,T,c),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function U(i,a){i._final(function(c){a.pendingcb--,c&&P(i,c),a.prefinished=!0,i.emit("prefinish"),h(i,a)})}function f(i,a){!a.prefinished&&!a.finalCalled&&(typeof i._final=="function"&&!a.destroyed?(a.pendingcb++,a.finalCalled=!0,process.nextTick(U,i,a)):(a.prefinished=!0,i.emit("prefinish")))}function h(i,a){var c=I(a);if(c&&(f(i,a),a.pendingcb===0&&(a.finished=!0,i.emit("finish"),a.autoDestroy))){var T=i._readableState;(!T||T.autoDestroy&&T.endEmitted)&&i.destroy()}return c}function m(i,a,c){a.ending=!0,h(i,a),c&&(a.finished?process.nextTick(c):i.once("finish",c)),a.ended=!0,i.writable=!1}function B(i,a,c){var T=i.entry;for(i.entry=null;T;){var D=T.callback;a.pendingcb--,D(c),T=T.next}a.corkedRequestsFree.next=i}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(a){!this._writableState||(this._writableState.destroyed=a)}}),q.prototype.destroy=s.destroy,q.prototype._undestroy=s.undestroy,q.prototype._destroy=function(i,a){a(i)},Me}var je,et;function ue(){if(et)return je;et=1;var t=Object.keys||function(y){var A=[];for(var C in y)A.push(C);return A};je=p;var S=vt(),n=mt();ae()(p,S);for(var E=t(n.prototype),O=0;O<E.length;O++){var d=E[O];p.prototype[d]||(p.prototype[d]=n.prototype[d])}function p(y){if(!(this instanceof p))return new p(y);S.call(this,y),n.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(s,this)}function s(y){y.end()}return Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),je}var Ce={},me={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var tt;function Mt(){return tt||(tt=1,function(t,S){var n=ve,E=n.Buffer;function O(p,o){for(var s in p)o[s]=p[s]}E.from&&E.alloc&&E.allocUnsafe&&E.allocUnsafeSlow?t.exports=n:(O(n,S),S.Buffer=d);function d(p,o,s){return E(p,o,s)}d.prototype=Object.create(E.prototype),O(E,d),d.from=function(p,o,s){if(typeof p=="number")throw new TypeError("Argument must not be a number");return E(p,o,s)},d.alloc=function(p,o,s){if(typeof p!="number")throw new TypeError("Argument must be a number");var y=E(p);return o!==void 0?typeof s=="string"?y.fill(o,s):y.fill(o):y.fill(0),y},d.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return E(p)},d.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(p)}}(me,me.exports)),me.exports}var rt;function nt(){if(rt)return Ce;rt=1;var t=Mt().Buffer,S=t.isEncoding||function(l){switch(l=""+l,l&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(l){if(!l)return"utf8";for(var u;;)switch(l){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return l;default:if(u)return;l=(""+l).toLowerCase(),u=!0}}function E(l){var u=n(l);if(typeof u!="string"&&(t.isEncoding===S||!S(l)))throw new Error("Unknown encoding: "+l);return u||l}Ce.StringDecoder=O;function O(l){this.encoding=E(l);var u;switch(this.encoding){case"utf16le":this.text=C,this.end=g,u=4;break;case"utf8":this.fillLast=s,u=4;break;case"base64":this.text=v,this.end=b,u=3;break;default:this.write=M,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(u)}O.prototype.write=function(l){if(l.length===0)return"";var u,R;if(this.lastNeed){if(u=this.fillLast(l),u===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<l.length?u?u+this.text(l,R):this.text(l,R):u||""},O.prototype.end=A,O.prototype.text=y,O.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length};function d(l){return l<=127?0:l>>5===6?2:l>>4===14?3:l>>3===30?4:l>>6===2?-1:-2}function p(l,u,R){var P=u.length-1;if(P<R)return 0;var L=d(u[P]);return L>=0?(L>0&&(l.lastNeed=L-1),L):--P<R||L===-2?0:(L=d(u[P]),L>=0?(L>0&&(l.lastNeed=L-2),L):--P<R||L===-2?0:(L=d(u[P]),L>=0?(L>0&&(L===2?L=0:l.lastNeed=L-3),L):0))}function o(l,u,R){if((u[0]&192)!==128)return l.lastNeed=0,"\uFFFD";if(l.lastNeed>1&&u.length>1){if((u[1]&192)!==128)return l.lastNeed=1,"\uFFFD";if(l.lastNeed>2&&u.length>2&&(u[2]&192)!==128)return l.lastNeed=2,"\uFFFD"}}function s(l){var u=this.lastTotal-this.lastNeed,R=o(this,l);if(R!==void 0)return R;if(this.lastNeed<=l.length)return l.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,u,0,l.length),this.lastNeed-=l.length}function y(l,u){var R=p(this,l,u);if(!this.lastNeed)return l.toString("utf8",u);this.lastTotal=R;var P=l.length-(R-this.lastNeed);return l.copy(this.lastChar,0,P),l.toString("utf8",u,P)}function A(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+"\uFFFD":u}function C(l,u){if((l.length-u)%2===0){var R=l.toString("utf16le",u);if(R){var P=R.charCodeAt(R.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",u,l.length-1)}function g(l){var u=l&&l.length?this.write(l):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return u+this.lastChar.toString("utf16le",0,R)}return u}function v(l,u){var R=(l.length-u)%3;return R===0?l.toString("base64",u):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",u,l.length-R))}function b(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function M(l){return l.toString(this.encoding)}function N(l){return l&&l.length?this.write(l):""}return Ce}var Ne,it;function Ve(){if(it)return Ne;it=1;var t=le().codes.ERR_STREAM_PREMATURE_CLOSE;function S(d){var p=!1;return function(){if(!p){p=!0;for(var o=arguments.length,s=new Array(o),y=0;y<o;y++)s[y]=arguments[y];d.apply(this,s)}}}function n(){}function E(d){return d.setHeader&&typeof d.abort=="function"}function O(d,p,o){if(typeof p=="function")return O(d,null,p);p||(p={}),o=S(o||n);var s=p.readable||p.readable!==!1&&d.readable,y=p.writable||p.writable!==!1&&d.writable,A=function(){d.writable||g()},C=d._writableState&&d._writableState.finished,g=function(){y=!1,C=!0,s||o.call(d)},v=d._readableState&&d._readableState.endEmitted,b=function(){s=!1,v=!0,y||o.call(d)},M=function(R){o.call(d,R)},N=function(){var R;if(s&&!v)return(!d._readableState||!d._readableState.ended)&&(R=new t),o.call(d,R);if(y&&!C)return(!d._writableState||!d._writableState.ended)&&(R=new t),o.call(d,R)},l=function(){d.req.on("finish",g)};return E(d)?(d.on("complete",g),d.on("abort",N),d.req?l():d.on("request",l)):y&&!d._writableState&&(d.on("end",A),d.on("close",A)),d.on("end",b),d.on("finish",g),p.error!==!1&&d.on("error",M),d.on("close",N),function(){d.removeListener("complete",g),d.removeListener("abort",N),d.removeListener("request",l),d.req&&d.req.removeListener("finish",g),d.removeListener("end",A),d.removeListener("close",A),d.removeListener("finish",g),d.removeListener("end",b),d.removeListener("error",M),d.removeListener("close",N)}}return Ne=O,Ne}var Pe,at;function jt(){if(at)return Pe;at=1;var t;function S(l,u,R){return u in l?Object.defineProperty(l,u,{value:R,enumerable:!0,configurable:!0,writable:!0}):l[u]=R,l}var n=Ve(),E=Symbol("lastResolve"),O=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),o=Symbol("lastPromise"),s=Symbol("handlePromise"),y=Symbol("stream");function A(l,u){return{value:l,done:u}}function C(l){var u=l[E];if(u!==null){var R=l[y].read();R!==null&&(l[o]=null,l[E]=null,l[O]=null,u(A(R,!1)))}}function g(l){process.nextTick(C,l)}function v(l,u){return function(R,P){l.then(function(){if(u[p]){R(A(void 0,!0));return}u[s](R,P)},P)}}var b=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var u=this,R=this[d];if(R!==null)return Promise.reject(R);if(this[p])return Promise.resolve(A(void 0,!0));if(this[y].destroyed)return new Promise(function(H,q){process.nextTick(function(){u[d]?q(u[d]):H(A(void 0,!0))})});var P=this[o],L;if(P)L=new Promise(v(P,this));else{var F=this[y].read();if(F!==null)return Promise.resolve(A(F,!1));L=new Promise(this[s])}return this[o]=L,L}},S(t,Symbol.asyncIterator,function(){return this}),S(t,"return",function(){var u=this;return new Promise(function(R,P){u[y].destroy(null,function(L){if(L){P(L);return}R(A(void 0,!0))})})}),t),b),N=function(u){var R,P=Object.create(M,(R={},S(R,y,{value:u,writable:!0}),S(R,E,{value:null,writable:!0}),S(R,O,{value:null,writable:!0}),S(R,d,{value:null,writable:!0}),S(R,p,{value:u._readableState.endEmitted,writable:!0}),S(R,s,{value:function(F,H){var q=P[y].read();q?(P[o]=null,P[E]=null,P[O]=null,F(A(q,!1))):(P[E]=F,P[O]=H)},writable:!0}),R));return P[o]=null,n(u,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=P[O];F!==null&&(P[o]=null,P[E]=null,P[O]=null,F(L)),P[d]=L;return}var H=P[E];H!==null&&(P[o]=null,P[E]=null,P[O]=null,H(A(void 0,!0))),P[p]=!0}),u.on("readable",g.bind(null,P)),P};return Pe=N,Pe}var De,ot;function Ct(){return ot||(ot=1,De=function(){throw new Error("Readable.from is not available in the browser")}),De}var Le,ft;function vt(){if(ft)return Le;ft=1,Le=k;var t;k.ReadableState=q,xe().EventEmitter;var S=function(r,w){return r.listeners(w).length},n=pt(),E=ve.Buffer,O=de.Uint8Array||function(){};function d(e){return E.from(e)}function p(e){return E.isBuffer(e)||e instanceof O}var o=He,s;o&&o.debuglog?s=o.debuglog("stream"):s=function(){};var y=Tt(),A=gt(),C=bt(),g=C.getHighWaterMark,v=le().codes,b=v.ERR_INVALID_ARG_TYPE,M=v.ERR_STREAM_PUSH_AFTER_EOF,N=v.ERR_METHOD_NOT_IMPLEMENTED,l=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,u,R,P;ae()(k,n);var L=A.errorOrDestroy,F=["error","close","destroy","pause","resume"];function H(e,r,w){if(typeof e.prependListener=="function")return e.prependListener(r,w);!e._events||!e._events[r]?e.on(r,w):Array.isArray(e._events[r])?e._events[r].unshift(w):e._events[r]=[w,e._events[r]]}function q(e,r,w){t=t||ue(),e=e||{},typeof w!="boolean"&&(w=r instanceof t),this.objectMode=!!e.objectMode,w&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",w),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=nt().StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function k(e){if(t=t||ue(),!(this instanceof k))return new k(e);var r=this instanceof t;this._readableState=new q(e,this,r),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),n.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(r){!this._readableState||(this._readableState.destroyed=r)}}),k.prototype.destroy=A.destroy,k.prototype._undestroy=A.undestroy,k.prototype._destroy=function(e,r){r(e)},k.prototype.push=function(e,r){var w=this._readableState,j;return w.objectMode?j=!0:typeof e=="string"&&(r=r||w.defaultEncoding,r!==w.encoding&&(e=E.from(e,r),r=""),j=!0),G(this,e,r,!1,j)},k.prototype.unshift=function(e){return G(this,e,null,!0,!1)};function G(e,r,w,j,x){s("readableAddChunk",r);var W=e._readableState;if(r===null)W.reading=!1,J(e,W);else{var V;if(x||(V=K(W,r)),V)L(e,V);else if(W.objectMode||r&&r.length>0)if(typeof r!="string"&&!W.objectMode&&Object.getPrototypeOf(r)!==E.prototype&&(r=d(r)),j)W.endEmitted?L(e,new l):$(e,W,r,!0);else if(W.ended)L(e,new M);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!w?(r=W.decoder.write(r),W.objectMode||r.length!==0?$(e,W,r,!1):Z(e,W)):$(e,W,r,!1)}else j||(W.reading=!1,Z(e,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function $(e,r,w,j){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,e.emit("data",w)):(r.length+=r.objectMode?1:w.length,j?r.buffer.unshift(w):r.buffer.push(w),r.needReadable&&Q(e)),Z(e,r)}function K(e,r){var w;return!p(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(w=new b("chunk",["string","Buffer","Uint8Array"],r)),w}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(e){u||(u=nt().StringDecoder);var r=new u(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,j="";w!==null;)j+=r.write(w.data),w=w.next;return this._readableState.buffer.clear(),j!==""&&this._readableState.buffer.push(j),this._readableState.length=j.length,this};var Y=1073741824;function z(e){return e>=Y?e=Y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function X(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=z(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var r=this._readableState,w=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended))return s("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?c(this):Q(this),null;if(e=X(e,r),e===0&&r.ended)return r.length===0&&c(this),null;var j=r.needReadable;s("need readable",j),(r.length===0||r.length-e<r.highWaterMark)&&(j=!0,s("length less than watermark",j)),r.ended||r.reading?(j=!1,s("reading or ended",j)):j&&(s("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=X(w,r)));var x;return e>0?x=a(e,r):x=null,x===null?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),r.length===0&&(r.ended||(r.needReadable=!0),w!==e&&r.ended&&c(this)),x!==null&&this.emit("data",x),x};function J(e,r){if(s("onEofChunk"),!r.ended){if(r.decoder){var w=r.decoder.end();w&&w.length&&(r.buffer.push(w),r.length+=r.objectMode?1:w.length)}r.ended=!0,r.sync?Q(e):(r.needReadable=!1,r.emittedReadable||(r.emittedReadable=!0,ee(e)))}}function Q(e){var r=e._readableState;s("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(s("emitReadable",r.flowing),r.emittedReadable=!0,process.nextTick(ee,e))}function ee(e){var r=e._readableState;s("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,i(e)}function Z(e,r){r.readingMore||(r.readingMore=!0,process.nextTick(I,e,r))}function I(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var w=r.length;if(s("maybeReadMore read 0"),e.read(0),w===r.length)break}r.readingMore=!1}k.prototype._read=function(e){L(this,new N("_read()"))},k.prototype.pipe=function(e,r){var w=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=e;break;case 1:j.pipes=[j.pipes,e];break;default:j.pipes.push(e);break}j.pipesCount+=1,s("pipe count=%d opts=%j",j.pipesCount,r);var x=(!r||r.end!==!1)&&e!==process.stdout&&e!==process.stderr,W=x?ie:he;j.endEmitted?process.nextTick(W):w.once("end",W),e.on("unpipe",V);function V(oe,fe){s("onunpipe"),oe===w&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,$e())}function ie(){s("onend"),e.end()}var _=U(w);e.on("drain",_);var be=!1;function $e(){s("cleanup"),e.removeListener("close",_e),e.removeListener("finish",Se),e.removeListener("drain",_),e.removeListener("error",we),e.removeListener("unpipe",V),w.removeListener("end",ie),w.removeListener("end",he),w.removeListener("data",ze),be=!0,j.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&_()}w.on("data",ze);function ze(oe){s("ondata");var fe=e.write(oe);s("dest.write",fe),fe===!1&&((j.pipesCount===1&&j.pipes===e||j.pipesCount>1&&D(j.pipes,e)!==-1)&&!be&&(s("false write response, pause",j.awaitDrain),j.awaitDrain++),w.pause())}function we(oe){s("onerror",oe),he(),e.removeListener("error",we),S(e,"error")===0&&L(e,oe)}H(e,"error",we);function _e(){e.removeListener("finish",Se),he()}e.once("close",_e);function Se(){s("onfinish"),e.removeListener("close",_e),he()}e.once("finish",Se);function he(){s("unpipe"),w.unpipe(e)}return e.emit("pipe",w),j.flowing||(s("pipe resume"),w.resume()),e};function U(e){return function(){var w=e._readableState;s("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&S(e,"data")&&(w.flowing=!0,i(e))}}k.prototype.unpipe=function(e){var r=this._readableState,w={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,w),this);if(!e){var j=r.pipes,x=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var W=0;W<x;W++)j[W].emit("unpipe",this,{hasUnpiped:!1});return this}var V=D(r.pipes,e);return V===-1?this:(r.pipes.splice(V,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,w),this)},k.prototype.on=function(e,r){var w=n.prototype.on.call(this,e,r),j=this._readableState;return e==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):e==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,s("on readable",j.length,j.reading),j.length?Q(this):j.reading||process.nextTick(h,this)),w},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,r){var w=n.prototype.removeListener.call(this,e,r);return e==="readable"&&process.nextTick(f,this),w},k.prototype.removeAllListeners=function(e){var r=n.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(f,this),r};function f(e){var r=e._readableState;r.readableListening=e.listenerCount("readable")>0,r.resumeScheduled&&!r.paused?r.flowing=!0:e.listenerCount("data")>0&&e.resume()}function h(e){s("readable nexttick read 0"),e.read(0)}k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,m(this,e)),e.paused=!1,this};function m(e,r){r.resumeScheduled||(r.resumeScheduled=!0,process.nextTick(B,e,r))}function B(e,r){s("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),i(e),r.flowing&&!r.reading&&e.read(0)}k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var r=e._readableState;for(s("flow",r.flowing);r.flowing&&e.read()!==null;);}k.prototype.wrap=function(e){var r=this,w=this._readableState,j=!1;e.on("end",function(){if(s("wrapped end"),w.decoder&&!w.ended){var V=w.decoder.end();V&&V.length&&r.push(V)}r.push(null)}),e.on("data",function(V){if(s("wrapped data"),w.decoder&&(V=w.decoder.write(V)),!(w.objectMode&&V==null)&&!(!w.objectMode&&(!V||!V.length))){var ie=r.push(V);ie||(j=!0,e.pause())}});for(var x in e)this[x]===void 0&&typeof e[x]=="function"&&(this[x]=function(ie){return function(){return e[ie].apply(e,arguments)}}(x));for(var W=0;W<F.length;W++)e.on(F[W],this.emit.bind(this,F[W]));return this._read=function(V){s("wrapped _read",V),j&&(j=!1,e.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=jt()),R(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(r){this._readableState&&(this._readableState.flowing=r)}}),k._fromList=a,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function a(e,r){if(r.length===0)return null;var w;return r.objectMode?w=r.buffer.shift():!e||e>=r.length?(r.decoder?w=r.buffer.join(""):r.buffer.length===1?w=r.buffer.first():w=r.buffer.concat(r.length),r.buffer.clear()):w=r.buffer.consume(e,r.decoder),w}function c(e){var r=e._readableState;s("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,process.nextTick(T,r,e))}function T(e,r){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var w=r._writableState;(!w||w.autoDestroy&&w.finished)&&r.destroy()}}typeof Symbol=="function"&&(k.from=function(e,r){return P===void 0&&(P=Ct()),P(k,e,r)});function D(e,r){for(var w=0,j=e.length;w<j;w++)if(e[w]===r)return w;return-1}return Le}var Ie,st;function wt(){if(st)return Ie;st=1,Ie=o;var t=le().codes,S=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,E=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=t.ERR_TRANSFORM_WITH_LENGTH_0,d=ue();ae()(o,d);function p(A,C){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new n);g.writechunk=null,g.writecb=null,C!=null&&this.push(C),v(A);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function o(A){if(!(this instanceof o))return new o(A);d.call(this,A),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&(typeof A.transform=="function"&&(this._transform=A.transform),typeof A.flush=="function"&&(this._flush=A.flush)),this.on("prefinish",s)}function s(){var A=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(C,g){y(A,C,g)}):y(this,null,null)}o.prototype.push=function(A,C){return this._transformState.needTransform=!1,d.prototype.push.call(this,A,C)},o.prototype._transform=function(A,C,g){g(new S("_transform()"))},o.prototype._write=function(A,C,g){var v=this._transformState;if(v.writecb=g,v.writechunk=A,v.writeencoding=C,!v.transforming){var b=this._readableState;(v.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},o.prototype._read=function(A){var C=this._transformState;C.writechunk!==null&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},o.prototype._destroy=function(A,C){d.prototype._destroy.call(this,A,function(g){C(g)})};function y(A,C,g){if(C)return A.emit("error",C);if(g!=null&&A.push(g),A._writableState.length)throw new O;if(A._transformState.transforming)throw new E;return A.push(null)}return Ie}var Be,ut;function Nt(){if(ut)return Be;ut=1,Be=S;var t=wt();ae()(S,t);function S(n){if(!(this instanceof S))return new S(n);t.call(this,n)}return S.prototype._transform=function(n,E,O){O(null,n)},Be}var ke,lt;function Pt(){if(lt)return ke;lt=1;var t;function S(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var n=le().codes,E=n.ERR_MISSING_ARGS,O=n.ERR_STREAM_DESTROYED;function d(g){if(g)throw g}function p(g){return g.setHeader&&typeof g.abort=="function"}function o(g,v,b,M){M=S(M);var N=!1;g.on("close",function(){N=!0}),t===void 0&&(t=Ve()),t(g,{readable:v,writable:b},function(u){if(u)return M(u);N=!0,M()});var l=!1;return function(u){if(!N&&!l){if(l=!0,p(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();M(u||new O("pipe"))}}}function s(g){g()}function y(g,v){return g.pipe(v)}function A(g){return!g.length||typeof g[g.length-1]!="function"?d:g.pop()}function C(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];var M=A(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new E("streams");var N,l=v.map(function(u,R){var P=R<v.length-1,L=R>0;return o(u,P,L,function(F){N||(N=F),F&&l.forEach(s),!P&&(l.forEach(s),M(N))})});return v.reduce(y)}return ke=C,ke}var Qt=re,Ge=xe().EventEmitter,Dt=ae();Dt(re,Ge);re.Readable=vt();re.Writable=mt();re.Duplex=ue();re.Transform=wt();re.PassThrough=Nt();re.finished=Ve();re.pipeline=Pt();re.Stream=re;function re(){Ge.call(this)}re.prototype.pipe=function(t,S){var n=this;function E(A){t.writable&&t.write(A)===!1&&n.pause&&n.pause()}n.on("data",E);function O(){n.readable&&n.resume&&n.resume()}t.on("drain",O),!t._isStdio&&(!S||S.end!==!1)&&(n.on("end",p),n.on("close",o));var d=!1;function p(){d||(d=!0,t.end())}function o(){d||(d=!0,typeof t.destroy=="function"&&t.destroy())}function s(A){if(y(),Ge.listenerCount(this,"error")===0)throw A}n.on("error",s),t.on("error",s);function y(){n.removeListener("data",E),t.removeListener("drain",O),n.removeListener("end",p),n.removeListener("close",o),n.removeListener("error",s),t.removeListener("error",s),n.removeListener("end",y),n.removeListener("close",y),t.removeListener("close",y)}return n.on("end",y),n.on("close",y),t.on("close",y),t.emit("pipe",n),t};var ye={},qe={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,S){(function(n){var E=S&&!S.nodeType&&S,O=t&&!t.nodeType&&t,d=typeof de=="object"&&de;(d.global===d||d.window===d||d.self===d)&&(n=d);var p,o=2147483647,s=36,y=1,A=26,C=38,g=700,v=72,b=128,M="-",N=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=s-y,L=Math.floor,F=String.fromCharCode,H;function q(I){throw RangeError(R[I])}function k(I,U){for(var f=I.length,h=[];f--;)h[f]=U(I[f]);return h}function G(I,U){var f=I.split("@"),h="";f.length>1&&(h=f[0]+"@",I=f[1]),I=I.replace(u,".");var m=I.split("."),B=k(m,U).join(".");return h+B}function $(I){for(var U=[],f=0,h=I.length,m,B;f<h;)m=I.charCodeAt(f++),m>=55296&&m<=56319&&f<h?(B=I.charCodeAt(f++),(B&64512)==56320?U.push(((m&1023)<<10)+(B&1023)+65536):(U.push(m),f--)):U.push(m);return U}function K(I){return k(I,function(U){var f="";return U>65535&&(U-=65536,f+=F(U>>>10&1023|55296),U=56320|U&1023),f+=F(U),f}).join("")}function Y(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:s}function z(I,U){return I+22+75*(I<26)-((U!=0)<<5)}function X(I,U,f){var h=0;for(I=f?L(I/g):I>>1,I+=L(I/U);I>P*A>>1;h+=s)I=L(I/P);return L(h+(P+1)*I/(I+C))}function J(I){var U=[],f=I.length,h,m=0,B=b,i=v,a,c,T,D,e,r,w,j,x;for(a=I.lastIndexOf(M),a<0&&(a=0),c=0;c<a;++c)I.charCodeAt(c)>=128&&q("not-basic"),U.push(I.charCodeAt(c));for(T=a>0?a+1:0;T<f;){for(D=m,e=1,r=s;T>=f&&q("invalid-input"),w=Y(I.charCodeAt(T++)),(w>=s||w>L((o-m)/e))&&q("overflow"),m+=w*e,j=r<=i?y:r>=i+A?A:r-i,!(w<j);r+=s)x=s-j,e>L(o/x)&&q("overflow"),e*=x;h=U.length+1,i=X(m-D,h,D==0),L(m/h)>o-B&&q("overflow"),B+=L(m/h),m%=h,U.splice(m++,0,B)}return K(U)}function Q(I){var U,f,h,m,B,i,a,c,T,D,e,r=[],w,j,x,W;for(I=$(I),w=I.length,U=b,f=0,B=v,i=0;i<w;++i)e=I[i],e<128&&r.push(F(e));for(h=m=r.length,m&&r.push(M);h<w;){for(a=o,i=0;i<w;++i)e=I[i],e>=U&&e<a&&(a=e);for(j=h+1,a-U>L((o-f)/j)&&q("overflow"),f+=(a-U)*j,U=a,i=0;i<w;++i)if(e=I[i],e<U&&++f>o&&q("overflow"),e==U){for(c=f,T=s;D=T<=B?y:T>=B+A?A:T-B,!(c<D);T+=s)W=c-D,x=s-D,r.push(F(z(D+W%x,0))),c=L(W/x);r.push(F(z(c,0))),B=X(f,j,h==m),f=0,++h}++f,++U}return r.join("")}function ee(I){return G(I,function(U){return N.test(U)?J(U.slice(4).toLowerCase()):U})}function Z(I){return G(I,function(U){return l.test(U)?"xn--"+Q(U):U})}if(p={version:"1.3.2",ucs2:{decode:$,encode:K},decode:J,encode:Q,toASCII:Z,toUnicode:ee},E&&O)if(t.exports==E)O.exports=p;else for(H in p)p.hasOwnProperty(H)&&(E[H]=p[H]);else n.punycode=p})(de)})(qe,qe.exports);var Lt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},pe={};function It(t,S){return Object.prototype.hasOwnProperty.call(t,S)}var Bt=function(t,S,n,E){S=S||"&",n=n||"=";var O={};if(typeof t!="string"||t.length===0)return O;var d=/\+/g;t=t.split(S);var p=1e3;E&&typeof E.maxKeys=="number"&&(p=E.maxKeys);var o=t.length;p>0&&o>p&&(o=p);for(var s=0;s<o;++s){var y=t[s].replace(d,"%20"),A=y.indexOf(n),C,g,v,b;A>=0?(C=y.substr(0,A),g=y.substr(A+1)):(C=y,g=""),v=decodeURIComponent(C),b=decodeURIComponent(g),It(O,v)?Array.isArray(O[v])?O[v].push(b):O[v]=[O[v],b]:O[v]=b}return O},ce=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},kt=function(t,S,n,E){return S=S||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(O){var d=encodeURIComponent(ce(O))+n;return Array.isArray(t[O])?t[O].map(function(p){return d+encodeURIComponent(ce(p))}).join(S):d+encodeURIComponent(ce(t[O]))}).join(S):E?encodeURIComponent(ce(E))+n+encodeURIComponent(ce(t)):""};pe.decode=pe.parse=Bt;pe.encode=pe.stringify=kt;var qt=qe.exports,ne=Lt;ye.parse=ge;ye.resolve=Kt;ye.resolveObject=Yt;ye.format=zt;ye.Url=te;function te(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ut=/^([a-z0-9.+-]+:)/i,Ft=/:[0-9]*$/,Wt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xt=["<",">",'"',"`"," ","\r",`
`,"	"],Ht=["{","}","|","\\","^","`"].concat(xt),Ue=["'"].concat(Ht),ht=["%","/","?",";","#"].concat(Ue),ct=["/","?","#"],Vt=255,dt=/^[+a-z0-9A-Z_-]{0,63}$/,Gt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$t={javascript:!0,"javascript:":!0},Fe={javascript:!0,"javascript:":!0},se={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},We=pe;function ge(t,S,n){if(t&&ne.isObject(t)&&t instanceof te)return t;var E=new te;return E.parse(t,S,n),E}te.prototype.parse=function(t,S,n){if(!ne.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var E=t.indexOf("?"),O=E!==-1&&E<t.indexOf("#")?"?":"#",d=t.split(O),p=/\\/g;d[0]=d[0].replace(p,"/"),t=d.join(O);var o=t;if(o=o.trim(),!n&&t.split("#").length===1){var s=Wt.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],S?this.query=We.parse(this.search.substr(1)):this.query=this.search.substr(1)):S&&(this.search="",this.query={}),this}var y=Ut.exec(o);if(y){y=y[0];var A=y.toLowerCase();this.protocol=A,o=o.substr(y.length)}if(n||y||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var C=o.substr(0,2)==="//";C&&!(y&&Fe[y])&&(o=o.substr(2),this.slashes=!0)}if(!Fe[y]&&(C||y&&!se[y])){for(var g=-1,v=0;v<ct.length;v++){var b=o.indexOf(ct[v]);b!==-1&&(g===-1||b<g)&&(g=b)}var M,N;g===-1?N=o.lastIndexOf("@"):N=o.lastIndexOf("@",g),N!==-1&&(M=o.slice(0,N),o=o.slice(N+1),this.auth=decodeURIComponent(M)),g=-1;for(var v=0;v<ht.length;v++){var b=o.indexOf(ht[v]);b!==-1&&(g===-1||b<g)&&(g=b)}g===-1&&(g=o.length),this.host=o.slice(0,g),o=o.slice(g),this.parseHost(),this.hostname=this.hostname||"";var l=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!l)for(var u=this.hostname.split(/\./),v=0,R=u.length;v<R;v++){var P=u[v];if(!!P&&!P.match(dt)){for(var L="",F=0,H=P.length;F<H;F++)P.charCodeAt(F)>127?L+="x":L+=P[F];if(!L.match(dt)){var q=u.slice(0,v),k=u.slice(v+1),G=P.match(Gt);G&&(q.push(G[1]),k.unshift(G[2])),k.length&&(o="/"+k.join(".")+o),this.hostname=q.join(".");break}}}this.hostname.length>Vt?this.hostname="":this.hostname=this.hostname.toLowerCase(),l||(this.hostname=qt.toASCII(this.hostname));var $=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+$,this.href+=this.host,l&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!$t[A])for(var v=0,R=Ue.length;v<R;v++){var Y=Ue[v];if(o.indexOf(Y)!==-1){var z=encodeURIComponent(Y);z===Y&&(z=escape(Y)),o=o.split(Y).join(z)}}var X=o.indexOf("#");X!==-1&&(this.hash=o.substr(X),o=o.slice(0,X));var J=o.indexOf("?");if(J!==-1?(this.search=o.substr(J),this.query=o.substr(J+1),S&&(this.query=We.parse(this.query)),o=o.slice(0,J)):S&&(this.search="",this.query={}),o&&(this.pathname=o),se[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",Q=this.search||"";this.path=$+Q}return this.href=this.format(),this};function zt(t){return ne.isString(t)&&(t=ge(t)),t instanceof te?t.format():te.prototype.format.call(t)}te.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var S=this.protocol||"",n=this.pathname||"",E=this.hash||"",O=!1,d="";this.host?O=t+this.host:this.hostname&&(O=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&ne.isObject(this.query)&&Object.keys(this.query).length&&(d=We.stringify(this.query));var p=this.search||d&&"?"+d||"";return S&&S.substr(-1)!==":"&&(S+=":"),this.slashes||(!S||se[S])&&O!==!1?(O="//"+(O||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):O||(O=""),E&&E.charAt(0)!=="#"&&(E="#"+E),p&&p.charAt(0)!=="?"&&(p="?"+p),n=n.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),p=p.replace("#","%23"),S+O+n+p+E};function Kt(t,S){return ge(t,!1,!0).resolve(S)}te.prototype.resolve=function(t){return this.resolveObject(ge(t,!1,!0)).format()};function Yt(t,S){return t?ge(t,!1,!0).resolveObject(S):S}te.prototype.resolveObject=function(t){if(ne.isString(t)){var S=new te;S.parse(t,!1,!0),t=S}for(var n=new te,E=Object.keys(this),O=0;O<E.length;O++){var d=E[O];n[d]=this[d]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var p=Object.keys(t),o=0;o<p.length;o++){var s=p[o];s!=="protocol"&&(n[s]=t[s])}return se[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!se[t.protocol]){for(var y=Object.keys(t),A=0;A<y.length;A++){var C=y[A];n[C]=t[C]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Fe[t.protocol]){for(var R=(t.pathname||"").split("/");R.length&&!(t.host=R.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),R[0]!==""&&R.unshift(""),R.length<2&&R.unshift(""),n.pathname=R.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",v=n.search||"";n.path=g+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&n.pathname.charAt(0)==="/",M=t.host||t.pathname&&t.pathname.charAt(0)==="/",N=M||b||n.host&&t.pathname,l=N,u=n.pathname&&n.pathname.split("/")||[],R=t.pathname&&t.pathname.split("/")||[],P=n.protocol&&!se[n.protocol];if(P&&(n.hostname="",n.port=null,n.host&&(u[0]===""?u[0]=n.host:u.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(R[0]===""?R[0]=t.host:R.unshift(t.host)),t.host=null),N=N&&(R[0]===""||u[0]==="")),M)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,u=R;else if(R.length)u||(u=[]),u.pop(),u=u.concat(R),n.search=t.search,n.query=t.query;else if(!ne.isNullOrUndefined(t.search)){if(P){n.hostname=n.host=u.shift();var L=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return n.search=t.search,n.query=t.query,(!ne.isNull(n.pathname)||!ne.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!u.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var F=u.slice(-1)[0],H=(n.host||t.host||u.length>1)&&(F==="."||F==="..")||F==="",q=0,k=u.length;k>=0;k--)F=u[k],F==="."?u.splice(k,1):F===".."?(u.splice(k,1),q++):q&&(u.splice(k,1),q--);if(!N&&!l)for(;q--;q)u.unshift("..");N&&u[0]!==""&&(!u[0]||u[0].charAt(0)!=="/")&&u.unshift(""),H&&u.join("/").substr(-1)!=="/"&&u.push("");var G=u[0]===""||u[0]&&u[0].charAt(0)==="/";if(P){n.hostname=n.host=G?"":u.length?u.shift():"";var L=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return N=N||n.host&&u.length,N&&!G&&u.unshift(""),u.length?n.pathname=u.join("/"):(n.pathname=null,n.path=null),(!ne.isNull(n.pathname)||!ne.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};te.prototype.parseHost=function(){var t=this.host,S=Ft.exec(t);S&&(S=S[0],S!==":"&&(this.port=S.substr(1)),t=t.substr(0,t.length-S.length)),t&&(this.hostname=t)};export{He as a,nt as r,Qt as s,ye as u};
