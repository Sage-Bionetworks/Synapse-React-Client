import{r as n,j as l}from"./jsx-runtime.ed0bc2e8.js";import{S as O}from"./react-select.esm.cd0b6178.js";import"./index.444e3572.js";import{u as b,U as V}from"./UserOrTeamBadge.1f67599d.js";import{u as B}from"./useGetInfoFromIds.fc63d11c.js";import{S as C}from"./Skeleton.d97a08a6.js";import{e as f}from"./Select-54ac8379.esm.d5f59070.js";const E=(e,r,t)=>{n.exports.useEffect(()=>{const o=setTimeout(()=>e(),t);return()=>clearTimeout(o)},[...r||[],t])},N={Control:e=>{var r;return l(f.Control,{...e,className:`form-control ${(r=e.className)!=null?r:""}`})},SingleValue:e=>{const{data:r}=e;return n.exports.createElement(f.SingleValue,{...e,key:r.id},l(V,{userGroupHeader:r.header,disableHref:!0,showFullName:!0},r.header.ownerId))},Option:e=>{const{data:r}=e;return n.exports.createElement(f.Option,{...e,key:r.id},l(V,{userGroupHeader:r.header,disableHref:!0,showFullName:!0}))}},d=e=>{const{inputId:r,defaultValue:t=null,onChange:o,filterPredicate:i,typeFilter:g,placeholder:x}=e,[s,U]=n.exports.useState(""),[c,y]=n.exports.useState("");E(()=>{y(s)},[s],500);const[p=void 0]=B({ids:t?[t]:[],type:"USER_PROFILE"}),{data:m,isLoading:u}=b(c,g),I=n.exports.useMemo(()=>u||s!==c?()=>"Loading\u2026":void 0,[u,c,s]),_=(m!=null?m:[]).filter(i!=null?i:()=>!0).map(a=>({id:a.ownerId.toString(),value:a.ownerId.toString(),label:a.userName,header:a}));return t&&p==null?l(C,{width:"100%"}):l(O,{className:"bootstrap-4-backport UserSearchBoxV2",inputValue:s,onInputChange:U,filterOption:()=>!0,isLoading:u,options:!u&&_||[],noOptionsMessage:I,defaultValue:t?{id:t,value:t,label:p.userName,header:p}:void 0,inputId:r,isClearable:!0,styles:{control:a=>({...a,display:"flex !important"})},components:N,onChange:a=>{var S,h;o&&o((S=a==null?void 0:a.id)!=null?S:null,(h=a==null?void 0:a.header)!=null?h:null)},placeholder:x})},q=d;try{d.displayName="UserSearchBoxV2",d.__docgenInfo={description:"",displayName:"UserSearchBoxV2",props:{inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((principalId: string | null, header: UserGroupHeader | null) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterPredicate:{defaultValue:null,description:"",name:"filterPredicate",required:!1,type:{name:"((item: UserGroupHeader) => boolean)"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/UserSearchBoxV2.tsx#UserSearchBoxV2"]={docgenInfo:d.__docgenInfo,name:"UserSearchBoxV2",path:"src/lib/containers/UserSearchBoxV2.tsx#UserSearchBoxV2"})}catch{}export{q as U,E as u};
