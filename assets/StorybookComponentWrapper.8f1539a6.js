import{r as n,R as d,j as s,a as u}from"./jsx-runtime.cae1efce.js";import{Q as m,n as y,o as f,p as C,S as P,q as S,r as h,s as g,t as k,u as x,v as b,w as _,x as w,y as E,z as T,A as R,B as O,C as v,D as A,G as Q,H as I,I as W,J as M,K as B}from"./EntityTypeUtils.02efa7e4.js";import{S as D}from"./ToastMessage.8e99f4ca.js";import{d as K}from"./dayjs.min.12a0da3a.js";import{S as N}from"./getEndpoint.f1f195f5.js";import{M as j}from"./react-router.10eaa14c.js";var c={exports:{}};c.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function q(){h();let e=await g(),t;try{t=await k(e)}catch(o){throw o instanceof x&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await b(()=>{}),e=void 0),o}let a;return e&&_(e).then(o=>{a=K(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new m(y);function H(e){const t=N[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const L={default:w,sageBionetworks:E,mtb:T,arkPortal:R,adKnowledgePortal:O,nfPortal:v,bsmnPortal:A,psychEncodePortal:Q,stopAdPortal:I,digitalHealthPortal:W,crcResearcherPortal:M,cancerComplexityPortal:B};function i(e){const{storybookContext:t}=e;n.exports.useEffect(()=>{H(t.globals.stack)},[t.globals.stack]);const[a,o]=d.useState(void 0);n.exports.useEffect(()=>{q().then(l=>{o(l.accessToken)})}),n.exports.useEffect(()=>{async function l(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}l()},[a]);const p=n.exports.useMemo(()=>({accessToken:a,isInExperimentalMode:f(),utcTime:C(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]);return s(P,{queryClient:r,synapseContext:p,theme:{...S,palette:L[t.globals.palette]},children:u(j,{children:[s(c.exports.ReactQueryDevtools,{}),s(D,{}),s("main",{children:e.children})]})},a)}try{i.displayName="StorybookComponentWrapper",i.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"]={docgenInfo:i.__docgenInfo,name:"StorybookComponentWrapper",path:"src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"})}catch{}export{i as S,q as s};
