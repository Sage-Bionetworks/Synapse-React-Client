import{r as xe,a as _t,b as St,c as Rt,d as Et,e as ie}from"./inherits_browser.85c59d9f.js";import{c as ce,h as At}from"./iframe.99e068ca.js";import{b as me}from"./index.66e0b57e.js";var Se,ze;function pt(){return ze||(ze=1,Se=xe().EventEmitter),Se}var He={},yt={};(function(t){var R=_t(),n=St(),_=Rt(),O=Et();function h(S){return S.call.bind(S)}var y=typeof BigInt<"u",o=typeof Symbol<"u",s=h(Object.prototype.toString),g=h(Number.prototype.valueOf),A=h(String.prototype.valueOf),j=h(Boolean.prototype.valueOf);if(y)var p=h(BigInt.prototype.valueOf);if(o)var b=h(Symbol.prototype.valueOf);function m(S,ge){if(typeof S!="object")return!1;try{return ge(S),!0}catch{return!1}}t.isArgumentsObject=R,t.isGeneratorFunction=n,t.isTypedArray=O;function M(S){return typeof Promise<"u"&&S instanceof Promise||S!==null&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"}t.isPromise=M;function N(S){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S):O(S)||c(S)}t.isArrayBufferView=N;function l(S){return _(S)==="Uint8Array"}t.isUint8Array=l;function u(S){return _(S)==="Uint8ClampedArray"}t.isUint8ClampedArray=u;function E(S){return _(S)==="Uint16Array"}t.isUint16Array=E;function P(S){return _(S)==="Uint32Array"}t.isUint32Array=P;function L(S){return _(S)==="Int8Array"}t.isInt8Array=L;function F(S){return _(S)==="Int16Array"}t.isInt16Array=F;function H(S){return _(S)==="Int32Array"}t.isInt32Array=H;function q(S){return _(S)==="Float32Array"}t.isFloat32Array=q;function k(S){return _(S)==="Float64Array"}t.isFloat64Array=k;function G(S){return _(S)==="BigInt64Array"}t.isBigInt64Array=G;function $(S){return _(S)==="BigUint64Array"}t.isBigUint64Array=$;function K(S){return s(S)==="[object Map]"}K.working=typeof Map<"u"&&K(new Map);function Y(S){return typeof Map>"u"?!1:K.working?K(S):S instanceof Map}t.isMap=Y;function z(S){return s(S)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function X(S){return typeof Set>"u"?!1:z.working?z(S):S instanceof Set}t.isSet=X;function J(S){return s(S)==="[object WeakMap]"}J.working=typeof WeakMap<"u"&&J(new WeakMap);function Q(S){return typeof WeakMap>"u"?!1:J.working?J(S):S instanceof WeakMap}t.isWeakMap=Q;function ee(S){return s(S)==="[object WeakSet]"}ee.working=typeof WeakSet<"u"&&ee(new WeakSet);function Z(S){return ee(S)}t.isWeakSet=Z;function I(S){return s(S)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function U(S){return typeof ArrayBuffer>"u"?!1:I.working?I(S):S instanceof ArrayBuffer}t.isArrayBuffer=U;function f(S){return s(S)==="[object DataView]"}f.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&f(new DataView(new ArrayBuffer(1),0,1));function c(S){return typeof DataView>"u"?!1:f.working?f(S):S instanceof DataView}t.isDataView=c;var v=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function B(S){return s(S)==="[object SharedArrayBuffer]"}function i(S){return typeof v>"u"?!1:(typeof B.working>"u"&&(B.working=B(new v)),B.working?B(S):S instanceof v)}t.isSharedArrayBuffer=i;function a(S){return s(S)==="[object AsyncFunction]"}t.isAsyncFunction=a;function d(S){return s(S)==="[object Map Iterator]"}t.isMapIterator=d;function T(S){return s(S)==="[object Set Iterator]"}t.isSetIterator=T;function D(S){return s(S)==="[object Generator]"}t.isGeneratorObject=D;function e(S){return s(S)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=e;function r(S){return m(S,g)}t.isNumberObject=r;function w(S){return m(S,A)}t.isStringObject=w;function C(S){return m(S,j)}t.isBooleanObject=C;function x(S){return y&&m(S,p)}t.isBigIntObject=x;function W(S){return o&&m(S,b)}t.isSymbolObject=W;function V(S){return r(S)||w(S)||C(S)||x(S)||W(S)}t.isBoxedPrimitive=V;function ne(S){return typeof Uint8Array<"u"&&(U(S)||i(S))}t.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S){Object.defineProperty(t,S,{enumerable:!1,value:function(){throw new Error(S+" is not supported in userland")}})})})(yt);var Ot=function(R){return R&&typeof R=="object"&&typeof R.copy=="function"&&typeof R.fill=="function"&&typeof R.readUInt8=="function"};(function(t){var R=Object.getOwnPropertyDescriptors||function(c){for(var v=Object.keys(c),B={},i=0;i<v.length;i++)B[v[i]]=Object.getOwnPropertyDescriptor(c,v[i]);return B},n=/%[sdj%]/g;t.format=function(f){if(!L(f)){for(var c=[],v=0;v<arguments.length;v++)c.push(y(arguments[v]));return c.join(" ")}for(var v=1,B=arguments,i=B.length,a=String(f).replace(n,function(T){if(T==="%%")return"%";if(v>=i)return T;switch(T){case"%s":return String(B[v++]);case"%d":return Number(B[v++]);case"%j":try{return JSON.stringify(B[v++])}catch{return"[Circular]"}default:return T}}),d=B[v];v<i;d=B[++v])u(d)||!k(d)?a+=" "+d:a+=" "+y(d);return a},t.deprecate=function(f,c){if(typeof process<"u"&&process.noDeprecation===!0)return f;if(typeof process>"u")return function(){return t.deprecate(f,c).apply(this,arguments)};var v=!1;function B(){if(!v){if(process.throwDeprecation)throw new Error(c);process.traceDeprecation?console.trace(c):console.error(c),v=!0}return f.apply(this,arguments)}return B};var _={},O=/^$/;if(process.env.NODE_DEBUG){var h=process.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),O=new RegExp("^"+h+"$","i")}t.debuglog=function(f){if(f=f.toUpperCase(),!_[f])if(O.test(f)){var c=process.pid;_[f]=function(){var v=t.format.apply(t,arguments);console.error("%s %d: %s",f,c,v)}}else _[f]=function(){};return _[f]};function y(f,c){var v={seen:[],stylize:s};return arguments.length>=3&&(v.depth=arguments[2]),arguments.length>=4&&(v.colors=arguments[3]),l(c)?v.showHidden=c:c&&t._extend(v,c),H(v.showHidden)&&(v.showHidden=!1),H(v.depth)&&(v.depth=2),H(v.colors)&&(v.colors=!1),H(v.customInspect)&&(v.customInspect=!0),v.colors&&(v.stylize=o),A(v,f,v.depth)}t.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(f,c){var v=y.styles[c];return v?"\x1B["+y.colors[v][0]+"m"+f+"\x1B["+y.colors[v][1]+"m":f}function s(f,c){return f}function g(f){var c={};return f.forEach(function(v,B){c[v]=!0}),c}function A(f,c,v){if(f.customInspect&&c&&K(c.inspect)&&c.inspect!==t.inspect&&!(c.constructor&&c.constructor.prototype===c)){var B=c.inspect(v,f);return L(B)||(B=A(f,B,v)),B}var i=j(f,c);if(i)return i;var a=Object.keys(c),d=g(a);if(f.showHidden&&(a=Object.getOwnPropertyNames(c)),$(c)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(c);if(a.length===0){if(K(c)){var T=c.name?": "+c.name:"";return f.stylize("[Function"+T+"]","special")}if(q(c))return f.stylize(RegExp.prototype.toString.call(c),"regexp");if(G(c))return f.stylize(Date.prototype.toString.call(c),"date");if($(c))return p(c)}var D="",e=!1,r=["{","}"];if(N(c)&&(e=!0,r=["[","]"]),K(c)){var w=c.name?": "+c.name:"";D=" [Function"+w+"]"}if(q(c)&&(D=" "+RegExp.prototype.toString.call(c)),G(c)&&(D=" "+Date.prototype.toUTCString.call(c)),$(c)&&(D=" "+p(c)),a.length===0&&(!e||c.length==0))return r[0]+D+r[1];if(v<0)return q(c)?f.stylize(RegExp.prototype.toString.call(c),"regexp"):f.stylize("[Object]","special");f.seen.push(c);var C;return e?C=b(f,c,v,d,a):C=a.map(function(x){return m(f,c,v,d,x,e)}),f.seen.pop(),M(C,D,r)}function j(f,c){if(H(c))return f.stylize("undefined","undefined");if(L(c)){var v="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(v,"string")}if(P(c))return f.stylize(""+c,"number");if(l(c))return f.stylize(""+c,"boolean");if(u(c))return f.stylize("null","null")}function p(f){return"["+Error.prototype.toString.call(f)+"]"}function b(f,c,v,B,i){for(var a=[],d=0,T=c.length;d<T;++d)ee(c,String(d))?a.push(m(f,c,v,B,String(d),!0)):a.push("");return i.forEach(function(D){D.match(/^\d+$/)||a.push(m(f,c,v,B,D,!0))}),a}function m(f,c,v,B,i,a){var d,T,D;if(D=Object.getOwnPropertyDescriptor(c,i)||{value:c[i]},D.get?D.set?T=f.stylize("[Getter/Setter]","special"):T=f.stylize("[Getter]","special"):D.set&&(T=f.stylize("[Setter]","special")),ee(B,i)||(d="["+i+"]"),T||(f.seen.indexOf(D.value)<0?(u(v)?T=A(f,D.value,null):T=A(f,D.value,v-1),T.indexOf(`
`)>-1&&(a?T=T.split(`
`).map(function(e){return"  "+e}).join(`
`).substr(2):T=`
`+T.split(`
`).map(function(e){return"   "+e}).join(`
`))):T=f.stylize("[Circular]","special")),H(d)){if(a&&i.match(/^\d+$/))return T;d=JSON.stringify(""+i),d.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(d=d.substr(1,d.length-2),d=f.stylize(d,"name")):(d=d.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),d=f.stylize(d,"string"))}return d+": "+T}function M(f,c,v){var B=f.reduce(function(i,a){return a.indexOf(`
`)>=0,i+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return B>60?v[0]+(c===""?"":c+`
 `)+" "+f.join(`,
  `)+" "+v[1]:v[0]+c+" "+f.join(", ")+" "+v[1]}t.types=yt;function N(f){return Array.isArray(f)}t.isArray=N;function l(f){return typeof f=="boolean"}t.isBoolean=l;function u(f){return f===null}t.isNull=u;function E(f){return f==null}t.isNullOrUndefined=E;function P(f){return typeof f=="number"}t.isNumber=P;function L(f){return typeof f=="string"}t.isString=L;function F(f){return typeof f=="symbol"}t.isSymbol=F;function H(f){return f===void 0}t.isUndefined=H;function q(f){return k(f)&&z(f)==="[object RegExp]"}t.isRegExp=q,t.types.isRegExp=q;function k(f){return typeof f=="object"&&f!==null}t.isObject=k;function G(f){return k(f)&&z(f)==="[object Date]"}t.isDate=G,t.types.isDate=G;function $(f){return k(f)&&(z(f)==="[object Error]"||f instanceof Error)}t.isError=$,t.types.isNativeError=$;function K(f){return typeof f=="function"}t.isFunction=K;function Y(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||typeof f>"u"}t.isPrimitive=Y,t.isBuffer=Ot;function z(f){return Object.prototype.toString.call(f)}function X(f){return f<10?"0"+f.toString(10):f.toString(10)}var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Q(){var f=new Date,c=[X(f.getHours()),X(f.getMinutes()),X(f.getSeconds())].join(":");return[f.getDate(),J[f.getMonth()],c].join(" ")}t.log=function(){console.log("%s - %s",Q(),t.format.apply(t,arguments))},t.inherits=ie(),t._extend=function(f,c){if(!c||!k(c))return f;for(var v=Object.keys(c),B=v.length;B--;)f[v[B]]=c[v[B]];return f};function ee(f,c){return Object.prototype.hasOwnProperty.call(f,c)}var Z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');if(Z&&c[Z]){var v=c[Z];if(typeof v!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(v,Z,{value:v,enumerable:!1,writable:!1,configurable:!0}),v}function v(){for(var B,i,a=new Promise(function(D,e){B=D,i=e}),d=[],T=0;T<arguments.length;T++)d.push(arguments[T]);d.push(function(D,e){D?i(D):B(e)});try{c.apply(this,d)}catch(D){i(D)}return a}return Object.setPrototypeOf(v,Object.getPrototypeOf(c)),Z&&Object.defineProperty(v,Z,{value:v,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(v,R(c))},t.promisify.custom=Z;function I(f,c){if(!f){var v=new Error("Promise was rejected with a falsy value");v.reason=f,f=v}return c(f)}function U(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');function c(){for(var v=[],B=0;B<arguments.length;B++)v.push(arguments[B]);var i=v.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var a=this,d=function(){return i.apply(a,arguments)};f.apply(this,v).then(function(T){process.nextTick(d.bind(null,null,T))},function(T){process.nextTick(I.bind(null,T,d))})}return Object.setPrototypeOf(c,Object.getPrototypeOf(f)),Object.defineProperties(c,R(f)),c}t.callbackify=U})(He);var Re,Ke;function Tt(){if(Ke)return Re;Ke=1;function t(p,b){var m=Object.keys(p);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(p);b&&(M=M.filter(function(N){return Object.getOwnPropertyDescriptor(p,N).enumerable})),m.push.apply(m,M)}return m}function R(p){for(var b=1;b<arguments.length;b++){var m=arguments[b]!=null?arguments[b]:{};b%2?t(Object(m),!0).forEach(function(M){n(p,M,m[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(M){Object.defineProperty(p,M,Object.getOwnPropertyDescriptor(m,M))})}return p}function n(p,b,m){return b in p?Object.defineProperty(p,b,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[b]=m,p}function _(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function O(p,b){for(var m=0;m<b.length;m++){var M=b[m];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(p,M.key,M)}}function h(p,b,m){return b&&O(p.prototype,b),m&&O(p,m),p}var y=me,o=y.Buffer,s=He,g=s.inspect,A=g&&g.custom||"inspect";function j(p,b,m){o.prototype.copy.call(p,b,m)}return Re=function(){function p(){_(this,p),this.head=null,this.tail=null,this.length=0}return h(p,[{key:"push",value:function(m){var M={data:m,next:null};this.length>0?this.tail.next=M:this.head=M,this.tail=M,++this.length}},{key:"unshift",value:function(m){var M={data:m,next:this.head};this.length===0&&(this.tail=M),this.head=M,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var M=this.head,N=""+M.data;M=M.next;)N+=m+M.data;return N}},{key:"concat",value:function(m){if(this.length===0)return o.alloc(0);for(var M=o.allocUnsafe(m>>>0),N=this.head,l=0;N;)j(N.data,M,l),l+=N.data.length,N=N.next;return M}},{key:"consume",value:function(m,M){var N;return m<this.head.data.length?(N=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?N=this.shift():N=M?this._getString(m):this._getBuffer(m),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var M=this.head,N=1,l=M.data;for(m-=l.length;M=M.next;){var u=M.data,E=m>u.length?u.length:m;if(E===u.length?l+=u:l+=u.slice(0,m),m-=E,m===0){E===u.length?(++N,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=u.slice(E));break}++N}return this.length-=N,l}},{key:"_getBuffer",value:function(m){var M=o.allocUnsafe(m),N=this.head,l=1;for(N.data.copy(M),m-=N.data.length;N=N.next;){var u=N.data,E=m>u.length?u.length:m;if(u.copy(M,M.length-m,0,E),m-=E,m===0){E===u.length?(++l,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=u.slice(E));break}++l}return this.length-=l,M}},{key:A,value:function(m,M){return g(this,R({},M,{depth:0,customInspect:!1}))}}]),p}(),Re}var Ee,Ye;function gt(){if(Ye)return Ee;Ye=1;function t(y,o){var s=this,g=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return g||A?(o?o(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(O,this,y)):process.nextTick(O,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(j){!o&&j?s._writableState?s._writableState.errorEmitted?process.nextTick(n,s):(s._writableState.errorEmitted=!0,process.nextTick(R,s,j)):process.nextTick(R,s,j):o?(process.nextTick(n,s),o(j)):process.nextTick(n,s)}),this)}function R(y,o){O(y,o),n(y)}function n(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function _(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function O(y,o){y.emit("error",o)}function h(y,o){var s=y._readableState,g=y._writableState;s&&s.autoDestroy||g&&g.autoDestroy?y.destroy(o):y.emit("error",o)}return Ee={destroy:t,undestroy:_,errorOrDestroy:h},Ee}var Ae={},Je;function ue(){if(Je)return Ae;Je=1;function t(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s}var R={};function n(o,s,g){g||(g=Error);function A(p,b,m){return typeof s=="string"?s:s(p,b,m)}var j=function(p){t(b,p);function b(m,M,N){return p.call(this,A(m,M,N))||this}return b}(g);j.prototype.name=g.name,j.prototype.code=o,R[o]=j}function _(o,s){if(Array.isArray(o)){var g=o.length;return o=o.map(function(A){return String(A)}),g>2?"one of ".concat(s," ").concat(o.slice(0,g-1).join(", "),", or ")+o[g-1]:g===2?"one of ".concat(s," ").concat(o[0]," or ").concat(o[1]):"of ".concat(s," ").concat(o[0])}else return"of ".concat(s," ").concat(String(o))}function O(o,s,g){return o.substr(!g||g<0?0:+g,s.length)===s}function h(o,s,g){return(g===void 0||g>o.length)&&(g=o.length),o.substring(g-s.length,g)===s}function y(o,s,g){return typeof g!="number"&&(g=0),g+s.length>o.length?!1:o.indexOf(s,g)!==-1}return n("ERR_INVALID_OPT_VALUE",function(o,s){return'The value "'+s+'" is invalid for option "'+o+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(o,s,g){var A;typeof s=="string"&&O(s,"not ")?(A="must not be",s=s.replace(/^not /,"")):A="must be";var j;if(h(o," argument"))j="The ".concat(o," ").concat(A," ").concat(_(s,"type"));else{var p=y(o,".")?"property":"argument";j='The "'.concat(o,'" ').concat(p," ").concat(A," ").concat(_(s,"type"))}return j+=". Received type ".concat(typeof g),j},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ae.codes=R,Ae}var Oe,Ze;function bt(){if(Ze)return Oe;Ze=1;var t=ue().codes.ERR_INVALID_OPT_VALUE;function R(_,O,h){return _.highWaterMark!=null?_.highWaterMark:O?_[h]:null}function n(_,O,h,y){var o=R(O,y,h);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var s=y?h:"highWaterMark";throw new t(s,o)}return Math.floor(o)}return _.objectMode?16:16*1024}return Oe={getHighWaterMark:n},Oe}var Te,Xe;function mt(){if(Xe)return Te;Xe=1,Te=q;function t(i){var a=this;this.next=null,this.entry=null,this.finish=function(){B(a,i)}}var R;q.WritableState=F;var n={deprecate:At},_=pt(),O=me.Buffer,h=ce.Uint8Array||function(){};function y(i){return O.from(i)}function o(i){return O.isBuffer(i)||i instanceof h}var s=gt(),g=bt(),A=g.getHighWaterMark,j=ue().codes,p=j.ERR_INVALID_ARG_TYPE,b=j.ERR_METHOD_NOT_IMPLEMENTED,m=j.ERR_MULTIPLE_CALLBACK,M=j.ERR_STREAM_CANNOT_PIPE,N=j.ERR_STREAM_DESTROYED,l=j.ERR_STREAM_NULL_VALUES,u=j.ERR_STREAM_WRITE_AFTER_END,E=j.ERR_UNKNOWN_ENCODING,P=s.errorOrDestroy;ie()(q,_);function L(){}function F(i,a,d){R=R||se(),i=i||{},typeof d!="boolean"&&(d=a instanceof R),this.objectMode=!!i.objectMode,d&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=A(this,i,"writableHighWaterMark",d),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=i.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(D){J(a,D)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}F.prototype.getBuffer=function(){for(var a=this.bufferedRequest,d=[];a;)d.push(a),a=a.next;return d},function(){try{Object.defineProperty(F.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(a){return H.call(this,a)?!0:this!==q?!1:a&&a._writableState instanceof F}})):H=function(a){return a instanceof this};function q(i){R=R||se();var a=this instanceof R;if(!a&&!H.call(q,this))return new q(i);this._writableState=new F(i,this,a),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),_.call(this)}q.prototype.pipe=function(){P(this,new M)};function k(i,a){var d=new u;P(i,d),process.nextTick(a,d)}function G(i,a,d,T){var D;return d===null?D=new l:typeof d!="string"&&!a.objectMode&&(D=new p("chunk",["string","Buffer"],d)),D?(P(i,D),process.nextTick(T,D),!1):!0}q.prototype.write=function(i,a,d){var T=this._writableState,D=!1,e=!T.objectMode&&o(i);return e&&!O.isBuffer(i)&&(i=y(i)),typeof a=="function"&&(d=a,a=null),e?a="buffer":a||(a=T.defaultEncoding),typeof d!="function"&&(d=L),T.ending?k(this,d):(e||G(this,T,i,d))&&(T.pendingcb++,D=K(this,T,e,i,a,d)),D},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&Z(this,i))},q.prototype.setDefaultEncoding=function(a){if(typeof a=="string"&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new E(a);return this._writableState.defaultEncoding=a,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(i,a,d){return!i.objectMode&&i.decodeStrings!==!1&&typeof a=="string"&&(a=O.from(a,d)),a}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(i,a,d,T,D,e){if(!d){var r=$(a,T,D);T!==r&&(d=!0,D="buffer",T=r)}var w=a.objectMode?1:T.length;a.length+=w;var C=a.length<a.highWaterMark;if(C||(a.needDrain=!0),a.writing||a.corked){var x=a.lastBufferedRequest;a.lastBufferedRequest={chunk:T,encoding:D,isBuf:d,callback:e,next:null},x?x.next=a.lastBufferedRequest:a.bufferedRequest=a.lastBufferedRequest,a.bufferedRequestCount+=1}else Y(i,a,!1,w,T,D,e);return C}function Y(i,a,d,T,D,e,r){a.writelen=T,a.writecb=r,a.writing=!0,a.sync=!0,a.destroyed?a.onwrite(new N("write")):d?i._writev(D,a.onwrite):i._write(D,e,a.onwrite),a.sync=!1}function z(i,a,d,T,D){--a.pendingcb,d?(process.nextTick(D,T),process.nextTick(c,i,a),i._writableState.errorEmitted=!0,P(i,T)):(D(T),i._writableState.errorEmitted=!0,P(i,T),c(i,a))}function X(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function J(i,a){var d=i._writableState,T=d.sync,D=d.writecb;if(typeof D!="function")throw new m;if(X(d),a)z(i,d,T,a,D);else{var e=I(d)||i.destroyed;!e&&!d.corked&&!d.bufferProcessing&&d.bufferedRequest&&Z(i,d),T?process.nextTick(Q,i,d,e,D):Q(i,d,e,D)}}function Q(i,a,d,T){d||ee(i,a),a.pendingcb--,T(),c(i,a)}function ee(i,a){a.length===0&&a.needDrain&&(a.needDrain=!1,i.emit("drain"))}function Z(i,a){a.bufferProcessing=!0;var d=a.bufferedRequest;if(i._writev&&d&&d.next){var T=a.bufferedRequestCount,D=new Array(T),e=a.corkedRequestsFree;e.entry=d;for(var r=0,w=!0;d;)D[r]=d,d.isBuf||(w=!1),d=d.next,r+=1;D.allBuffers=w,Y(i,a,!0,a.length,D,"",e.finish),a.pendingcb++,a.lastBufferedRequest=null,e.next?(a.corkedRequestsFree=e.next,e.next=null):a.corkedRequestsFree=new t(a),a.bufferedRequestCount=0}else{for(;d;){var C=d.chunk,x=d.encoding,W=d.callback,V=a.objectMode?1:C.length;if(Y(i,a,!1,V,C,x,W),d=d.next,a.bufferedRequestCount--,a.writing)break}d===null&&(a.lastBufferedRequest=null)}a.bufferedRequest=d,a.bufferProcessing=!1}q.prototype._write=function(i,a,d){d(new b("_write()"))},q.prototype._writev=null,q.prototype.end=function(i,a,d){var T=this._writableState;return typeof i=="function"?(d=i,i=null,a=null):typeof a=="function"&&(d=a,a=null),i!=null&&this.write(i,a),T.corked&&(T.corked=1,this.uncork()),T.ending||v(this,T,d),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function U(i,a){i._final(function(d){a.pendingcb--,d&&P(i,d),a.prefinished=!0,i.emit("prefinish"),c(i,a)})}function f(i,a){!a.prefinished&&!a.finalCalled&&(typeof i._final=="function"&&!a.destroyed?(a.pendingcb++,a.finalCalled=!0,process.nextTick(U,i,a)):(a.prefinished=!0,i.emit("prefinish")))}function c(i,a){var d=I(a);if(d&&(f(i,a),a.pendingcb===0&&(a.finished=!0,i.emit("finish"),a.autoDestroy))){var T=i._readableState;(!T||T.autoDestroy&&T.endEmitted)&&i.destroy()}return d}function v(i,a,d){a.ending=!0,c(i,a),d&&(a.finished?process.nextTick(d):i.once("finish",d)),a.ended=!0,i.writable=!1}function B(i,a,d){var T=i.entry;for(i.entry=null;T;){var D=T.callback;a.pendingcb--,D(d),T=T.next}a.corkedRequestsFree.next=i}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(a){!this._writableState||(this._writableState.destroyed=a)}}),q.prototype.destroy=s.destroy,q.prototype._undestroy=s.undestroy,q.prototype._destroy=function(i,a){a(i)},Te}var Me,Qe;function se(){if(Qe)return Me;Qe=1;var t=Object.keys||function(g){var A=[];for(var j in g)A.push(j);return A};Me=y;var R=vt(),n=mt();ie()(y,R);for(var _=t(n.prototype),O=0;O<_.length;O++){var h=_[O];y.prototype[h]||(y.prototype[h]=n.prototype[h])}function y(g){if(!(this instanceof y))return new y(g);R.call(this,g),n.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(s,this)}function s(g){g.end()}return Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),Me}var je={},be={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var et;function Mt(){return et||(et=1,function(t,R){var n=me,_=n.Buffer;function O(y,o){for(var s in y)o[s]=y[s]}_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?t.exports=n:(O(n,R),R.Buffer=h);function h(y,o,s){return _(y,o,s)}h.prototype=Object.create(_.prototype),O(_,h),h.from=function(y,o,s){if(typeof y=="number")throw new TypeError("Argument must not be a number");return _(y,o,s)},h.alloc=function(y,o,s){if(typeof y!="number")throw new TypeError("Argument must be a number");var g=_(y);return o!==void 0?typeof s=="string"?g.fill(o,s):g.fill(o):g.fill(0),g},h.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return _(y)},h.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(y)}}(be,be.exports)),be.exports}var tt;function rt(){if(tt)return je;tt=1;var t=Mt().Buffer,R=t.isEncoding||function(l){switch(l=""+l,l&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(l){if(!l)return"utf8";for(var u;;)switch(l){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return l;default:if(u)return;l=(""+l).toLowerCase(),u=!0}}function _(l){var u=n(l);if(typeof u!="string"&&(t.isEncoding===R||!R(l)))throw new Error("Unknown encoding: "+l);return u||l}je.StringDecoder=O;function O(l){this.encoding=_(l);var u;switch(this.encoding){case"utf16le":this.text=j,this.end=p,u=4;break;case"utf8":this.fillLast=s,u=4;break;case"base64":this.text=b,this.end=m,u=3;break;default:this.write=M,this.end=N;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(u)}O.prototype.write=function(l){if(l.length===0)return"";var u,E;if(this.lastNeed){if(u=this.fillLast(l),u===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<l.length?u?u+this.text(l,E):this.text(l,E):u||""},O.prototype.end=A,O.prototype.text=g,O.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length};function h(l){return l<=127?0:l>>5===6?2:l>>4===14?3:l>>3===30?4:l>>6===2?-1:-2}function y(l,u,E){var P=u.length-1;if(P<E)return 0;var L=h(u[P]);return L>=0?(L>0&&(l.lastNeed=L-1),L):--P<E||L===-2?0:(L=h(u[P]),L>=0?(L>0&&(l.lastNeed=L-2),L):--P<E||L===-2?0:(L=h(u[P]),L>=0?(L>0&&(L===2?L=0:l.lastNeed=L-3),L):0))}function o(l,u,E){if((u[0]&192)!==128)return l.lastNeed=0,"\uFFFD";if(l.lastNeed>1&&u.length>1){if((u[1]&192)!==128)return l.lastNeed=1,"\uFFFD";if(l.lastNeed>2&&u.length>2&&(u[2]&192)!==128)return l.lastNeed=2,"\uFFFD"}}function s(l){var u=this.lastTotal-this.lastNeed,E=o(this,l);if(E!==void 0)return E;if(this.lastNeed<=l.length)return l.copy(this.lastChar,u,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,u,0,l.length),this.lastNeed-=l.length}function g(l,u){var E=y(this,l,u);if(!this.lastNeed)return l.toString("utf8",u);this.lastTotal=E;var P=l.length-(E-this.lastNeed);return l.copy(this.lastChar,0,P),l.toString("utf8",u,P)}function A(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+"\uFFFD":u}function j(l,u){if((l.length-u)%2===0){var E=l.toString("utf16le",u);if(E){var P=E.charCodeAt(E.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",u,l.length-1)}function p(l){var u=l&&l.length?this.write(l):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return u+this.lastChar.toString("utf16le",0,E)}return u}function b(l,u){var E=(l.length-u)%3;return E===0?l.toString("base64",u):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",u,l.length-E))}function m(l){var u=l&&l.length?this.write(l):"";return this.lastNeed?u+this.lastChar.toString("base64",0,3-this.lastNeed):u}function M(l){return l.toString(this.encoding)}function N(l){return l&&l.length?this.write(l):""}return je}var Ce,nt;function Ve(){if(nt)return Ce;nt=1;var t=ue().codes.ERR_STREAM_PREMATURE_CLOSE;function R(h){var y=!1;return function(){if(!y){y=!0;for(var o=arguments.length,s=new Array(o),g=0;g<o;g++)s[g]=arguments[g];h.apply(this,s)}}}function n(){}function _(h){return h.setHeader&&typeof h.abort=="function"}function O(h,y,o){if(typeof y=="function")return O(h,null,y);y||(y={}),o=R(o||n);var s=y.readable||y.readable!==!1&&h.readable,g=y.writable||y.writable!==!1&&h.writable,A=function(){h.writable||p()},j=h._writableState&&h._writableState.finished,p=function(){g=!1,j=!0,s||o.call(h)},b=h._readableState&&h._readableState.endEmitted,m=function(){s=!1,b=!0,g||o.call(h)},M=function(E){o.call(h,E)},N=function(){var E;if(s&&!b)return(!h._readableState||!h._readableState.ended)&&(E=new t),o.call(h,E);if(g&&!j)return(!h._writableState||!h._writableState.ended)&&(E=new t),o.call(h,E)},l=function(){h.req.on("finish",p)};return _(h)?(h.on("complete",p),h.on("abort",N),h.req?l():h.on("request",l)):g&&!h._writableState&&(h.on("end",A),h.on("close",A)),h.on("end",m),h.on("finish",p),y.error!==!1&&h.on("error",M),h.on("close",N),function(){h.removeListener("complete",p),h.removeListener("abort",N),h.removeListener("request",l),h.req&&h.req.removeListener("finish",p),h.removeListener("end",A),h.removeListener("close",A),h.removeListener("finish",p),h.removeListener("end",m),h.removeListener("error",M),h.removeListener("close",N)}}return Ce=O,Ce}var Ne,it;function jt(){if(it)return Ne;it=1;var t;function R(l,u,E){return u in l?Object.defineProperty(l,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):l[u]=E,l}var n=Ve(),_=Symbol("lastResolve"),O=Symbol("lastReject"),h=Symbol("error"),y=Symbol("ended"),o=Symbol("lastPromise"),s=Symbol("handlePromise"),g=Symbol("stream");function A(l,u){return{value:l,done:u}}function j(l){var u=l[_];if(u!==null){var E=l[g].read();E!==null&&(l[o]=null,l[_]=null,l[O]=null,u(A(E,!1)))}}function p(l){process.nextTick(j,l)}function b(l,u){return function(E,P){l.then(function(){if(u[y]){E(A(void 0,!0));return}u[s](E,P)},P)}}var m=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((t={get stream(){return this[g]},next:function(){var u=this,E=this[h];if(E!==null)return Promise.reject(E);if(this[y])return Promise.resolve(A(void 0,!0));if(this[g].destroyed)return new Promise(function(H,q){process.nextTick(function(){u[h]?q(u[h]):H(A(void 0,!0))})});var P=this[o],L;if(P)L=new Promise(b(P,this));else{var F=this[g].read();if(F!==null)return Promise.resolve(A(F,!1));L=new Promise(this[s])}return this[o]=L,L}},R(t,Symbol.asyncIterator,function(){return this}),R(t,"return",function(){var u=this;return new Promise(function(E,P){u[g].destroy(null,function(L){if(L){P(L);return}E(A(void 0,!0))})})}),t),m),N=function(u){var E,P=Object.create(M,(E={},R(E,g,{value:u,writable:!0}),R(E,_,{value:null,writable:!0}),R(E,O,{value:null,writable:!0}),R(E,h,{value:null,writable:!0}),R(E,y,{value:u._readableState.endEmitted,writable:!0}),R(E,s,{value:function(F,H){var q=P[g].read();q?(P[o]=null,P[_]=null,P[O]=null,F(A(q,!1))):(P[_]=F,P[O]=H)},writable:!0}),E));return P[o]=null,n(u,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=P[O];F!==null&&(P[o]=null,P[_]=null,P[O]=null,F(L)),P[h]=L;return}var H=P[_];H!==null&&(P[o]=null,P[_]=null,P[O]=null,H(A(void 0,!0))),P[y]=!0}),u.on("readable",p.bind(null,P)),P};return Ne=N,Ne}var Pe,at;function Ct(){return at||(at=1,Pe=function(){throw new Error("Readable.from is not available in the browser")}),Pe}var De,ot;function vt(){if(ot)return De;ot=1,De=k;var t;k.ReadableState=q,xe().EventEmitter;var R=function(r,w){return r.listeners(w).length},n=pt(),_=me.Buffer,O=ce.Uint8Array||function(){};function h(e){return _.from(e)}function y(e){return _.isBuffer(e)||e instanceof O}var o=He,s;o&&o.debuglog?s=o.debuglog("stream"):s=function(){};var g=Tt(),A=gt(),j=bt(),p=j.getHighWaterMark,b=ue().codes,m=b.ERR_INVALID_ARG_TYPE,M=b.ERR_STREAM_PUSH_AFTER_EOF,N=b.ERR_METHOD_NOT_IMPLEMENTED,l=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,u,E,P;ie()(k,n);var L=A.errorOrDestroy,F=["error","close","destroy","pause","resume"];function H(e,r,w){if(typeof e.prependListener=="function")return e.prependListener(r,w);!e._events||!e._events[r]?e.on(r,w):Array.isArray(e._events[r])?e._events[r].unshift(w):e._events[r]=[w,e._events[r]]}function q(e,r,w){t=t||se(),e=e||{},typeof w!="boolean"&&(w=r instanceof t),this.objectMode=!!e.objectMode,w&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",w),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=rt().StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function k(e){if(t=t||se(),!(this instanceof k))return new k(e);var r=this instanceof t;this._readableState=new q(e,this,r),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),n.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(r){!this._readableState||(this._readableState.destroyed=r)}}),k.prototype.destroy=A.destroy,k.prototype._undestroy=A.undestroy,k.prototype._destroy=function(e,r){r(e)},k.prototype.push=function(e,r){var w=this._readableState,C;return w.objectMode?C=!0:typeof e=="string"&&(r=r||w.defaultEncoding,r!==w.encoding&&(e=_.from(e,r),r=""),C=!0),G(this,e,r,!1,C)},k.prototype.unshift=function(e){return G(this,e,null,!0,!1)};function G(e,r,w,C,x){s("readableAddChunk",r);var W=e._readableState;if(r===null)W.reading=!1,J(e,W);else{var V;if(x||(V=K(W,r)),V)L(e,V);else if(W.objectMode||r&&r.length>0)if(typeof r!="string"&&!W.objectMode&&Object.getPrototypeOf(r)!==_.prototype&&(r=h(r)),C)W.endEmitted?L(e,new l):$(e,W,r,!0);else if(W.ended)L(e,new M);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!w?(r=W.decoder.write(r),W.objectMode||r.length!==0?$(e,W,r,!1):Z(e,W)):$(e,W,r,!1)}else C||(W.reading=!1,Z(e,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function $(e,r,w,C){r.flowing&&r.length===0&&!r.sync?(r.awaitDrain=0,e.emit("data",w)):(r.length+=r.objectMode?1:w.length,C?r.buffer.unshift(w):r.buffer.push(w),r.needReadable&&Q(e)),Z(e,r)}function K(e,r){var w;return!y(r)&&typeof r!="string"&&r!==void 0&&!e.objectMode&&(w=new m("chunk",["string","Buffer","Uint8Array"],r)),w}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(e){u||(u=rt().StringDecoder);var r=new u(e);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,C="";w!==null;)C+=r.write(w.data),w=w.next;return this._readableState.buffer.clear(),C!==""&&this._readableState.buffer.push(C),this._readableState.length=C.length,this};var Y=1073741824;function z(e){return e>=Y?e=Y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function X(e,r){return e<=0||r.length===0&&r.ended?0:r.objectMode?1:e!==e?r.flowing&&r.length?r.buffer.head.data.length:r.length:(e>r.highWaterMark&&(r.highWaterMark=z(e)),e<=r.length?e:r.ended?r.length:(r.needReadable=!0,0))}k.prototype.read=function(e){s("read",e),e=parseInt(e,10);var r=this._readableState,w=e;if(e!==0&&(r.emittedReadable=!1),e===0&&r.needReadable&&((r.highWaterMark!==0?r.length>=r.highWaterMark:r.length>0)||r.ended))return s("read: emitReadable",r.length,r.ended),r.length===0&&r.ended?d(this):Q(this),null;if(e=X(e,r),e===0&&r.ended)return r.length===0&&d(this),null;var C=r.needReadable;s("need readable",C),(r.length===0||r.length-e<r.highWaterMark)&&(C=!0,s("length less than watermark",C)),r.ended||r.reading?(C=!1,s("reading or ended",C)):C&&(s("do read"),r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=X(w,r)));var x;return e>0?x=a(e,r):x=null,x===null?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),r.length===0&&(r.ended||(r.needReadable=!0),w!==e&&r.ended&&d(this)),x!==null&&this.emit("data",x),x};function J(e,r){if(s("onEofChunk"),!r.ended){if(r.decoder){var w=r.decoder.end();w&&w.length&&(r.buffer.push(w),r.length+=r.objectMode?1:w.length)}r.ended=!0,r.sync?Q(e):(r.needReadable=!1,r.emittedReadable||(r.emittedReadable=!0,ee(e)))}}function Q(e){var r=e._readableState;s("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(s("emitReadable",r.flowing),r.emittedReadable=!0,process.nextTick(ee,e))}function ee(e){var r=e._readableState;s("emitReadable_",r.destroyed,r.length,r.ended),!r.destroyed&&(r.length||r.ended)&&(e.emit("readable"),r.emittedReadable=!1),r.needReadable=!r.flowing&&!r.ended&&r.length<=r.highWaterMark,i(e)}function Z(e,r){r.readingMore||(r.readingMore=!0,process.nextTick(I,e,r))}function I(e,r){for(;!r.reading&&!r.ended&&(r.length<r.highWaterMark||r.flowing&&r.length===0);){var w=r.length;if(s("maybeReadMore read 0"),e.read(0),w===r.length)break}r.readingMore=!1}k.prototype._read=function(e){L(this,new N("_read()"))},k.prototype.pipe=function(e,r){var w=this,C=this._readableState;switch(C.pipesCount){case 0:C.pipes=e;break;case 1:C.pipes=[C.pipes,e];break;default:C.pipes.push(e);break}C.pipesCount+=1,s("pipe count=%d opts=%j",C.pipesCount,r);var x=(!r||r.end!==!1)&&e!==process.stdout&&e!==process.stderr,W=x?ne:le;C.endEmitted?process.nextTick(W):w.once("end",W),e.on("unpipe",V);function V(ae,oe){s("onunpipe"),ae===w&&oe&&oe.hasUnpiped===!1&&(oe.hasUnpiped=!0,Ge())}function ne(){s("onend"),e.end()}var S=U(w);e.on("drain",S);var ge=!1;function Ge(){s("cleanup"),e.removeListener("close",we),e.removeListener("finish",_e),e.removeListener("drain",S),e.removeListener("error",ve),e.removeListener("unpipe",V),w.removeListener("end",ne),w.removeListener("end",le),w.removeListener("data",$e),ge=!0,C.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&S()}w.on("data",$e);function $e(ae){s("ondata");var oe=e.write(ae);s("dest.write",oe),oe===!1&&((C.pipesCount===1&&C.pipes===e||C.pipesCount>1&&D(C.pipes,e)!==-1)&&!ge&&(s("false write response, pause",C.awaitDrain),C.awaitDrain++),w.pause())}function ve(ae){s("onerror",ae),le(),e.removeListener("error",ve),R(e,"error")===0&&L(e,ae)}H(e,"error",ve);function we(){e.removeListener("finish",_e),le()}e.once("close",we);function _e(){s("onfinish"),e.removeListener("close",we),le()}e.once("finish",_e);function le(){s("unpipe"),w.unpipe(e)}return e.emit("pipe",w),C.flowing||(s("pipe resume"),w.resume()),e};function U(e){return function(){var w=e._readableState;s("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&R(e,"data")&&(w.flowing=!0,i(e))}}k.prototype.unpipe=function(e){var r=this._readableState,w={hasUnpiped:!1};if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,r.flowing=!1,e&&e.emit("unpipe",this,w),this);if(!e){var C=r.pipes,x=r.pipesCount;r.pipes=null,r.pipesCount=0,r.flowing=!1;for(var W=0;W<x;W++)C[W].emit("unpipe",this,{hasUnpiped:!1});return this}var V=D(r.pipes,e);return V===-1?this:(r.pipes.splice(V,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this,w),this)},k.prototype.on=function(e,r){var w=n.prototype.on.call(this,e,r),C=this._readableState;return e==="data"?(C.readableListening=this.listenerCount("readable")>0,C.flowing!==!1&&this.resume()):e==="readable"&&!C.endEmitted&&!C.readableListening&&(C.readableListening=C.needReadable=!0,C.flowing=!1,C.emittedReadable=!1,s("on readable",C.length,C.reading),C.length?Q(this):C.reading||process.nextTick(c,this)),w},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,r){var w=n.prototype.removeListener.call(this,e,r);return e==="readable"&&process.nextTick(f,this),w},k.prototype.removeAllListeners=function(e){var r=n.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(f,this),r};function f(e){var r=e._readableState;r.readableListening=e.listenerCount("readable")>0,r.resumeScheduled&&!r.paused?r.flowing=!0:e.listenerCount("data")>0&&e.resume()}function c(e){s("readable nexttick read 0"),e.read(0)}k.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!e.readableListening,v(this,e)),e.paused=!1,this};function v(e,r){r.resumeScheduled||(r.resumeScheduled=!0,process.nextTick(B,e,r))}function B(e,r){s("resume",r.reading),r.reading||e.read(0),r.resumeScheduled=!1,e.emit("resume"),i(e),r.flowing&&!r.reading&&e.read(0)}k.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var r=e._readableState;for(s("flow",r.flowing);r.flowing&&e.read()!==null;);}k.prototype.wrap=function(e){var r=this,w=this._readableState,C=!1;e.on("end",function(){if(s("wrapped end"),w.decoder&&!w.ended){var V=w.decoder.end();V&&V.length&&r.push(V)}r.push(null)}),e.on("data",function(V){if(s("wrapped data"),w.decoder&&(V=w.decoder.write(V)),!(w.objectMode&&V==null)&&!(!w.objectMode&&(!V||!V.length))){var ne=r.push(V);ne||(C=!0,e.pause())}});for(var x in e)this[x]===void 0&&typeof e[x]=="function"&&(this[x]=function(ne){return function(){return e[ne].apply(e,arguments)}}(x));for(var W=0;W<F.length;W++)e.on(F[W],this.emit.bind(this,F[W]));return this._read=function(V){s("wrapped _read",V),C&&(C=!1,e.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=jt()),E(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(r){this._readableState&&(this._readableState.flowing=r)}}),k._fromList=a,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function a(e,r){if(r.length===0)return null;var w;return r.objectMode?w=r.buffer.shift():!e||e>=r.length?(r.decoder?w=r.buffer.join(""):r.buffer.length===1?w=r.buffer.first():w=r.buffer.concat(r.length),r.buffer.clear()):w=r.buffer.consume(e,r.decoder),w}function d(e){var r=e._readableState;s("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,process.nextTick(T,r,e))}function T(e,r){if(s("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,r.readable=!1,r.emit("end"),e.autoDestroy)){var w=r._writableState;(!w||w.autoDestroy&&w.finished)&&r.destroy()}}typeof Symbol=="function"&&(k.from=function(e,r){return P===void 0&&(P=Ct()),P(k,e,r)});function D(e,r){for(var w=0,C=e.length;w<C;w++)if(e[w]===r)return w;return-1}return De}var Le,ft;function wt(){if(ft)return Le;ft=1,Le=o;var t=ue().codes,R=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,_=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=t.ERR_TRANSFORM_WITH_LENGTH_0,h=se();ie()(o,h);function y(A,j){var p=this._transformState;p.transforming=!1;var b=p.writecb;if(b===null)return this.emit("error",new n);p.writechunk=null,p.writecb=null,j!=null&&this.push(j),b(A);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function o(A){if(!(this instanceof o))return new o(A);h.call(this,A),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&(typeof A.transform=="function"&&(this._transform=A.transform),typeof A.flush=="function"&&(this._flush=A.flush)),this.on("prefinish",s)}function s(){var A=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(j,p){g(A,j,p)}):g(this,null,null)}o.prototype.push=function(A,j){return this._transformState.needTransform=!1,h.prototype.push.call(this,A,j)},o.prototype._transform=function(A,j,p){p(new R("_transform()"))},o.prototype._write=function(A,j,p){var b=this._transformState;if(b.writecb=p,b.writechunk=A,b.writeencoding=j,!b.transforming){var m=this._readableState;(b.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},o.prototype._read=function(A){var j=this._transformState;j.writechunk!==null&&!j.transforming?(j.transforming=!0,this._transform(j.writechunk,j.writeencoding,j.afterTransform)):j.needTransform=!0},o.prototype._destroy=function(A,j){h.prototype._destroy.call(this,A,function(p){j(p)})};function g(A,j,p){if(j)return A.emit("error",j);if(p!=null&&A.push(p),A._writableState.length)throw new O;if(A._transformState.transforming)throw new _;return A.push(null)}return Le}var Ie,st;function Nt(){if(st)return Ie;st=1,Ie=R;var t=wt();ie()(R,t);function R(n){if(!(this instanceof R))return new R(n);t.call(this,n)}return R.prototype._transform=function(n,_,O){O(null,n)},Ie}var Be,ut;function Pt(){if(ut)return Be;ut=1;var t;function R(p){var b=!1;return function(){b||(b=!0,p.apply(void 0,arguments))}}var n=ue().codes,_=n.ERR_MISSING_ARGS,O=n.ERR_STREAM_DESTROYED;function h(p){if(p)throw p}function y(p){return p.setHeader&&typeof p.abort=="function"}function o(p,b,m,M){M=R(M);var N=!1;p.on("close",function(){N=!0}),t===void 0&&(t=Ve()),t(p,{readable:b,writable:m},function(u){if(u)return M(u);N=!0,M()});var l=!1;return function(u){if(!N&&!l){if(l=!0,y(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();M(u||new O("pipe"))}}}function s(p){p()}function g(p,b){return p.pipe(b)}function A(p){return!p.length||typeof p[p.length-1]!="function"?h:p.pop()}function j(){for(var p=arguments.length,b=new Array(p),m=0;m<p;m++)b[m]=arguments[m];var M=A(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new _("streams");var N,l=b.map(function(u,E){var P=E<b.length-1,L=E>0;return o(u,P,L,function(F){N||(N=F),F&&l.forEach(s),!P&&(l.forEach(s),M(N))})});return b.reduce(g)}return Be=j,Be}var ke,lt;function Xt(){if(lt)return ke;lt=1,ke=n;var t=xe().EventEmitter,R=ie();R(n,t),n.Readable=vt(),n.Writable=mt(),n.Duplex=se(),n.Transform=wt(),n.PassThrough=Nt(),n.finished=Ve(),n.pipeline=Pt(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(_,O){var h=this;function y(b){_.writable&&_.write(b)===!1&&h.pause&&h.pause()}h.on("data",y);function o(){h.readable&&h.resume&&h.resume()}_.on("drain",o),!_._isStdio&&(!O||O.end!==!1)&&(h.on("end",g),h.on("close",A));var s=!1;function g(){s||(s=!0,_.end())}function A(){s||(s=!0,typeof _.destroy=="function"&&_.destroy())}function j(b){if(p(),t.listenerCount(this,"error")===0)throw b}h.on("error",j),_.on("error",j);function p(){h.removeListener("data",y),_.removeListener("drain",o),h.removeListener("end",g),h.removeListener("close",A),h.removeListener("error",j),_.removeListener("error",j),h.removeListener("end",p),h.removeListener("close",p),_.removeListener("close",p)}return h.on("end",p),h.on("close",p),_.on("close",p),_.emit("pipe",h),_},ke}var pe={},qe={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,R){(function(n){var _=R&&!R.nodeType&&R,O=t&&!t.nodeType&&t,h=typeof ce=="object"&&ce;(h.global===h||h.window===h||h.self===h)&&(n=h);var y,o=2147483647,s=36,g=1,A=26,j=38,p=700,b=72,m=128,M="-",N=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=s-g,L=Math.floor,F=String.fromCharCode,H;function q(I){throw RangeError(E[I])}function k(I,U){for(var f=I.length,c=[];f--;)c[f]=U(I[f]);return c}function G(I,U){var f=I.split("@"),c="";f.length>1&&(c=f[0]+"@",I=f[1]),I=I.replace(u,".");var v=I.split("."),B=k(v,U).join(".");return c+B}function $(I){for(var U=[],f=0,c=I.length,v,B;f<c;)v=I.charCodeAt(f++),v>=55296&&v<=56319&&f<c?(B=I.charCodeAt(f++),(B&64512)==56320?U.push(((v&1023)<<10)+(B&1023)+65536):(U.push(v),f--)):U.push(v);return U}function K(I){return k(I,function(U){var f="";return U>65535&&(U-=65536,f+=F(U>>>10&1023|55296),U=56320|U&1023),f+=F(U),f}).join("")}function Y(I){return I-48<10?I-22:I-65<26?I-65:I-97<26?I-97:s}function z(I,U){return I+22+75*(I<26)-((U!=0)<<5)}function X(I,U,f){var c=0;for(I=f?L(I/p):I>>1,I+=L(I/U);I>P*A>>1;c+=s)I=L(I/P);return L(c+(P+1)*I/(I+j))}function J(I){var U=[],f=I.length,c,v=0,B=m,i=b,a,d,T,D,e,r,w,C,x;for(a=I.lastIndexOf(M),a<0&&(a=0),d=0;d<a;++d)I.charCodeAt(d)>=128&&q("not-basic"),U.push(I.charCodeAt(d));for(T=a>0?a+1:0;T<f;){for(D=v,e=1,r=s;T>=f&&q("invalid-input"),w=Y(I.charCodeAt(T++)),(w>=s||w>L((o-v)/e))&&q("overflow"),v+=w*e,C=r<=i?g:r>=i+A?A:r-i,!(w<C);r+=s)x=s-C,e>L(o/x)&&q("overflow"),e*=x;c=U.length+1,i=X(v-D,c,D==0),L(v/c)>o-B&&q("overflow"),B+=L(v/c),v%=c,U.splice(v++,0,B)}return K(U)}function Q(I){var U,f,c,v,B,i,a,d,T,D,e,r=[],w,C,x,W;for(I=$(I),w=I.length,U=m,f=0,B=b,i=0;i<w;++i)e=I[i],e<128&&r.push(F(e));for(c=v=r.length,v&&r.push(M);c<w;){for(a=o,i=0;i<w;++i)e=I[i],e>=U&&e<a&&(a=e);for(C=c+1,a-U>L((o-f)/C)&&q("overflow"),f+=(a-U)*C,U=a,i=0;i<w;++i)if(e=I[i],e<U&&++f>o&&q("overflow"),e==U){for(d=f,T=s;D=T<=B?g:T>=B+A?A:T-B,!(d<D);T+=s)W=d-D,x=s-D,r.push(F(z(D+W%x,0))),d=L(W/x);r.push(F(z(d,0))),B=X(f,C,c==v),f=0,++c}++f,++U}return r.join("")}function ee(I){return G(I,function(U){return N.test(U)?J(U.slice(4).toLowerCase()):U})}function Z(I){return G(I,function(U){return l.test(U)?"xn--"+Q(U):U})}if(y={version:"1.3.2",ucs2:{decode:$,encode:K},decode:J,encode:Q,toASCII:Z,toUnicode:ee},_&&O)if(t.exports==_)O.exports=y;else for(H in y)y.hasOwnProperty(H)&&(_[H]=y[H]);else n.punycode=y})(ce)})(qe,qe.exports);var Dt={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},de={};function Lt(t,R){return Object.prototype.hasOwnProperty.call(t,R)}var It=function(t,R,n,_){R=R||"&",n=n||"=";var O={};if(typeof t!="string"||t.length===0)return O;var h=/\+/g;t=t.split(R);var y=1e3;_&&typeof _.maxKeys=="number"&&(y=_.maxKeys);var o=t.length;y>0&&o>y&&(o=y);for(var s=0;s<o;++s){var g=t[s].replace(h,"%20"),A=g.indexOf(n),j,p,b,m;A>=0?(j=g.substr(0,A),p=g.substr(A+1)):(j=g,p=""),b=decodeURIComponent(j),m=decodeURIComponent(p),Lt(O,b)?Array.isArray(O[b])?O[b].push(m):O[b]=[O[b],m]:O[b]=m}return O},he=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Bt=function(t,R,n,_){return R=R||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(O){var h=encodeURIComponent(he(O))+n;return Array.isArray(t[O])?t[O].map(function(y){return h+encodeURIComponent(he(y))}).join(R):h+encodeURIComponent(he(t[O]))}).join(R):_?encodeURIComponent(he(_))+n+encodeURIComponent(he(t)):""};de.decode=de.parse=It;de.encode=de.stringify=Bt;var kt=qe.exports,re=Dt;pe.parse=ye;pe.resolve=zt;pe.resolveObject=Kt;pe.format=$t;pe.Url=te;function te(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var qt=/^([a-z0-9.+-]+:)/i,Ut=/:[0-9]*$/,Ft=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Wt=["<",">",'"',"`"," ","\r",`
`,"	"],xt=["{","}","|","\\","^","`"].concat(Wt),Ue=["'"].concat(xt),ht=["%","/","?",";","#"].concat(Ue),ct=["/","?","#"],Ht=255,dt=/^[+a-z0-9A-Z_-]{0,63}$/,Vt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gt={javascript:!0,"javascript:":!0},Fe={javascript:!0,"javascript:":!0},fe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},We=de;function ye(t,R,n){if(t&&re.isObject(t)&&t instanceof te)return t;var _=new te;return _.parse(t,R,n),_}te.prototype.parse=function(t,R,n){if(!re.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var _=t.indexOf("?"),O=_!==-1&&_<t.indexOf("#")?"?":"#",h=t.split(O),y=/\\/g;h[0]=h[0].replace(y,"/"),t=h.join(O);var o=t;if(o=o.trim(),!n&&t.split("#").length===1){var s=Ft.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],R?this.query=We.parse(this.search.substr(1)):this.query=this.search.substr(1)):R&&(this.search="",this.query={}),this}var g=qt.exec(o);if(g){g=g[0];var A=g.toLowerCase();this.protocol=A,o=o.substr(g.length)}if(n||g||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var j=o.substr(0,2)==="//";j&&!(g&&Fe[g])&&(o=o.substr(2),this.slashes=!0)}if(!Fe[g]&&(j||g&&!fe[g])){for(var p=-1,b=0;b<ct.length;b++){var m=o.indexOf(ct[b]);m!==-1&&(p===-1||m<p)&&(p=m)}var M,N;p===-1?N=o.lastIndexOf("@"):N=o.lastIndexOf("@",p),N!==-1&&(M=o.slice(0,N),o=o.slice(N+1),this.auth=decodeURIComponent(M)),p=-1;for(var b=0;b<ht.length;b++){var m=o.indexOf(ht[b]);m!==-1&&(p===-1||m<p)&&(p=m)}p===-1&&(p=o.length),this.host=o.slice(0,p),o=o.slice(p),this.parseHost(),this.hostname=this.hostname||"";var l=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!l)for(var u=this.hostname.split(/\./),b=0,E=u.length;b<E;b++){var P=u[b];if(!!P&&!P.match(dt)){for(var L="",F=0,H=P.length;F<H;F++)P.charCodeAt(F)>127?L+="x":L+=P[F];if(!L.match(dt)){var q=u.slice(0,b),k=u.slice(b+1),G=P.match(Vt);G&&(q.push(G[1]),k.unshift(G[2])),k.length&&(o="/"+k.join(".")+o),this.hostname=q.join(".");break}}}this.hostname.length>Ht?this.hostname="":this.hostname=this.hostname.toLowerCase(),l||(this.hostname=kt.toASCII(this.hostname));var $=this.port?":"+this.port:"",K=this.hostname||"";this.host=K+$,this.href+=this.host,l&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!Gt[A])for(var b=0,E=Ue.length;b<E;b++){var Y=Ue[b];if(o.indexOf(Y)!==-1){var z=encodeURIComponent(Y);z===Y&&(z=escape(Y)),o=o.split(Y).join(z)}}var X=o.indexOf("#");X!==-1&&(this.hash=o.substr(X),o=o.slice(0,X));var J=o.indexOf("?");if(J!==-1?(this.search=o.substr(J),this.query=o.substr(J+1),R&&(this.query=We.parse(this.query)),o=o.slice(0,J)):R&&(this.search="",this.query={}),o&&(this.pathname=o),fe[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",Q=this.search||"";this.path=$+Q}return this.href=this.format(),this};function $t(t){return re.isString(t)&&(t=ye(t)),t instanceof te?t.format():te.prototype.format.call(t)}te.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var R=this.protocol||"",n=this.pathname||"",_=this.hash||"",O=!1,h="";this.host?O=t+this.host:this.hostname&&(O=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&re.isObject(this.query)&&Object.keys(this.query).length&&(h=We.stringify(this.query));var y=this.search||h&&"?"+h||"";return R&&R.substr(-1)!==":"&&(R+=":"),this.slashes||(!R||fe[R])&&O!==!1?(O="//"+(O||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):O||(O=""),_&&_.charAt(0)!=="#"&&(_="#"+_),y&&y.charAt(0)!=="?"&&(y="?"+y),n=n.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),y=y.replace("#","%23"),R+O+n+y+_};function zt(t,R){return ye(t,!1,!0).resolve(R)}te.prototype.resolve=function(t){return this.resolveObject(ye(t,!1,!0)).format()};function Kt(t,R){return t?ye(t,!1,!0).resolveObject(R):R}te.prototype.resolveObject=function(t){if(re.isString(t)){var R=new te;R.parse(t,!1,!0),t=R}for(var n=new te,_=Object.keys(this),O=0;O<_.length;O++){var h=_[O];n[h]=this[h]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var y=Object.keys(t),o=0;o<y.length;o++){var s=y[o];s!=="protocol"&&(n[s]=t[s])}return fe[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!fe[t.protocol]){for(var g=Object.keys(t),A=0;A<g.length;A++){var j=g[A];n[j]=t[j]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!Fe[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),n.pathname=E.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",b=n.search||"";n.path=p+b}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var m=n.pathname&&n.pathname.charAt(0)==="/",M=t.host||t.pathname&&t.pathname.charAt(0)==="/",N=M||m||n.host&&t.pathname,l=N,u=n.pathname&&n.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],P=n.protocol&&!fe[n.protocol];if(P&&(n.hostname="",n.port=null,n.host&&(u[0]===""?u[0]=n.host:u.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),N=N&&(E[0]===""||u[0]==="")),M)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,u=E;else if(E.length)u||(u=[]),u.pop(),u=u.concat(E),n.search=t.search,n.query=t.query;else if(!re.isNullOrUndefined(t.search)){if(P){n.hostname=n.host=u.shift();var L=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return n.search=t.search,n.query=t.query,(!re.isNull(n.pathname)||!re.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!u.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var F=u.slice(-1)[0],H=(n.host||t.host||u.length>1)&&(F==="."||F==="..")||F==="",q=0,k=u.length;k>=0;k--)F=u[k],F==="."?u.splice(k,1):F===".."?(u.splice(k,1),q++):q&&(u.splice(k,1),q--);if(!N&&!l)for(;q--;q)u.unshift("..");N&&u[0]!==""&&(!u[0]||u[0].charAt(0)!=="/")&&u.unshift(""),H&&u.join("/").substr(-1)!=="/"&&u.push("");var G=u[0]===""||u[0]&&u[0].charAt(0)==="/";if(P){n.hostname=n.host=G?"":u.length?u.shift():"";var L=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;L&&(n.auth=L.shift(),n.host=n.hostname=L.shift())}return N=N||n.host&&u.length,N&&!G&&u.unshift(""),u.length?n.pathname=u.join("/"):(n.pathname=null,n.path=null),(!re.isNull(n.pathname)||!re.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};te.prototype.parseHost=function(){var t=this.host,R=Ut.exec(t);R&&(R=R[0],R!==":"&&(this.port=R.substr(1)),t=t.substr(0,t.length-R.length)),t&&(this.hostname=t)};export{rt as a,He as b,Xt as r,pe as u};
