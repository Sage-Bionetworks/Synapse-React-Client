import{r as y}from"./jsx-runtime.f7cf66fc.js";import{h as i,k as d,o as g,W as f,aF as T,aG as E,aH as k,aI as I,aJ as w,aK as M}from"./index.a7b4e4df.js";import{u as l}from"./useMutation.d27d3a67.js";import{u as Q}from"./useInfiniteQuery.9ecf2d2e.js";import{e as r,i as m}from"./queryKeys.e0d3085f.js";import{_ as C,o as h}from"./pick.193b483e.js";const S=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType","versionNumber","versionLabel","versionComment","isLatestVersion","dataFileHandleId","fileNameOverride","columnIds","scopeIds","linksTo","linksToClassName","repositoryName","isManaged","viewTypeMask","type","alias","items","definingSQL"];function q(e,s,n){const{accessToken:t}=i();return d(r.version(e,s),()=>g(t,e,s==null?void 0:s.toString()),n)}function V(e){const s=f(),{accessToken:n}=i();return l(t=>T(t,n),{...e,onSuccess:async(t,a,c)=>{await m(s,t.id),s.setQueryData(r.entity(t.id),t),e!=null&&e.onSuccess&&await e.onSuccess(t,a,c)}})}function D(e){const s=f(),{accessToken:n}=i();return l(t=>w(n,t),{...e,onSuccess:async(t,a,c)=>{await m(s,a),e!=null&&e.onSuccess&&await e.onSuccess(t,a,c)}})}function K(e,s){const{accessToken:t}=i();return Q(r.versions(e),async a=>await M(e,t,a.pageParam,200),{...s,getNextPageParam:(a,c)=>{if(a.results.length>0)return c.length*200}})}function x(e){return C(e,S)}function J(e){return h(e,S)}function O(e,s){const[n,t]=y.exports.useState(),[a,c]=y.exports.useState(),{accessToken:o}=i(),u=d(r.json(e),()=>E(e,o),s);return y.exports.useEffect(()=>{u.data&&(t(x(u.data)),c(J(u.data)))},[u.data]),{...u,entityMetadata:n,annotations:a}}function A(e){const s=f(),{accessToken:n}=i();return l(t=>{const a=t.id;return k(a,t,n)},{...e,onSuccess:async(t,a,c)=>{const o=t.id;await m(s,o),s.setQueryData(r.json(o),t),e!=null&&e.onSuccess&&await e.onSuccess(t,a,c)}})}function B(e,s){const{accessToken:n}=i();return d(r.path(e),()=>I(e,n),s)}export{D as a,K as b,O as c,A as d,S as e,B as f,V as g,q as u};
