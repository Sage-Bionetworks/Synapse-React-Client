import{g as xt,A as zn,J as At,a as Gt}from"./iframe.dedbd728.js";import{u as Jt,e as Gn}from"./url.efb16f18.js";import{W as io,bg as oo,bQ as ao,bY as so,bZ as lo,br as uo,b_ as co,b$ as fo,S as ho}from"./index.cdf98c81.js";import{j as g,a as P,F as j,b as po}from"./jsx-runtime.2e925369.js";import{I as Ir}from"./IconSvg.d5022c82.js";import{c as Jn}from"./cloneDeep.14fe87ca.js";import{k as mo}from"./_getTag.260cb500.js";import{f as go,h as yo,i as Kt,a as vo,l as F,b as So}from"./lodash.default.f0bab0e3.js";import{g as je}from"./_baseMap.f7bcde20.js";import{i as Xt}from"./isArray.949e1480.js";import{i as Qt}from"./isObject.7e2c8eb3.js";import{W as bo}from"./WarningModal.14601faa.js";import{P as Eo}from"./react-router.2274575a.js";import{A as Zt}from"./Alert.ad748791.js";import{B as wo}from"./Button.77571428.js";import{U as _o}from"./useUserBundle.1e187889.js";import"./getEndpoint.0de7fccf.js";import"./SvgIcon.1f1b3522.js";import"./objectWithoutPropertiesLoose.d29fb19f.js";import"./toConsumableArray.5f669646.js";import"./withStyles.4f64abe1.js";import"./index.f252d424.js";import"./FormLabel.a635baa2.js";import"./index.06f4a415.js";import"./createWithBsPrefix.f7715523.js";import"./assert.45ccb9fa.js";import"./index.8cde812d.js";import"./utils.ebacc06c.js";import"./useTheme.735ed160.js";import"./Transition.f54f11c8.js";import"./makeStyles.5f6bad01.js";import"./createSvgIcon.53013205.js";import"./InfoOutlined.748401db.js";import"./Clear.53a62cf5.js";import"./pick.85350d17.js";import"./uniqueId.4eca3697.js";import"./isSymbol.a6e5b306.js";import"./_Uint8Array.692793fe.js";import"./hasIn.d2b152d7.js";import"./_baseSlice.50189bc5.js";import"./_setToArray.78d992a5.js";import"./uniq.8580a5da.js";import"./toInteger.9c26e41e.js";import"./toNumber.81238efb.js";import"./_cacheHas.e524ea96.js";import"./without.3d8723b5.js";import"./toLower.32a0870b.js";import"./debounce.6a99f8f3.js";import"./times.0a9ef28a.js";import"./_baseIsEqual.38511a1d.js";import"./isEmpty.12a3904b.js";import"./isEqual.ed82a077.js";import"./sortBy.9c93c6a0.js";import"./groupBy.4164eb23.js";import"./Modal.739750b1.js";import"./Fade.7bfbed49.js";import"./useWaitForDOMRef.088a2ede.js";import"./useWillUnmount.4a16e5cd.js";import"./removeClass.27874bcb.js";import"./hasClass.56fd144a.js";var de={exports:{}};const xo=!1,Ao=/\r?\n/,Oo=/\bono[ @]/;function Ro(e){return Boolean(e&&e.configurable&&typeof e.get=="function")}function Co(e){return Boolean(!e||e.writable||typeof e.set=="function")}function Kn(e,r){let t=Xn(e.stack),i=r?r.stack:void 0;return t&&i?t+`

`+i:t||i}function To(e,r,t){t?Object.defineProperty(r,"stack",{get:()=>{let i=e.get.apply(r);return Kn({stack:i},t)},enumerable:!1,configurable:!0}):Fo(r,e)}function Xn(e){if(e){let r=e.split(Ao),t;for(let i=0;i<r.length;i++){let n=r[i];if(Oo.test(n))t===void 0&&(t=i);else if(t!==void 0){r.splice(t,i-t);break}}if(r.length>0)return r.join(`
`)}return e}function Fo(e,r){Object.defineProperty(e,"stack",{get:()=>Xn(r.get.apply(e)),enumerable:!1,configurable:!0})}const Po=["function","symbol","undefined"],No=["constructor","prototype","__proto__"],$o=Object.getPrototypeOf({});function Qn(){let e={},r=this;for(let t of Zn(r))if(typeof t=="string"){let i=r[t],n=typeof i;Po.includes(n)||(e[t]=i)}return e}function Zn(e,r=[]){let t=[];for(;e&&e!==$o;)t=t.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)),e=Object.getPrototypeOf(e);let i=new Set(t);for(let n of r.concat(No))i.delete(n);return i}const ko=["name","message","stack"];function _r(e,r,t){let i=e;return Io(i,r),r&&typeof r=="object"&&Do(i,r),i.toJSON=Qn,t&&typeof t=="object"&&Object.assign(i,t),i}function Io(e,r){let t=Object.getOwnPropertyDescriptor(e,"stack");Ro(t)?To(t,e,r):Co(t)&&(e.stack=Kn(e,r))}function Do(e,r){let t=Zn(r,ko),i=e,n=r;for(let o of t)if(i[o]===void 0)try{i[o]=n[o]}catch{}}function Mo(e){return e=e||{},{concatMessages:e.concatMessages===void 0?!0:Boolean(e.concatMessages),format:e.format===void 0?xo:typeof e.format=="function"?e.format:!1}}function Lo(e,r){let t,i,n,o="";return typeof e[0]=="string"?n=e:typeof e[1]=="string"?(e[0]instanceof Error?t=e[0]:i=e[0],n=e.slice(1)):(t=e[0],i=e[1],n=e.slice(2)),n.length>0&&(r.format?o=r.format.apply(void 0,n):o=n.join(" ")),r.concatMessages&&t&&t.message&&(o+=(o?` 
`:"")+t.message),{originalError:t,props:i,message:o}}const Ae=Ot;function Ot(e,r){r=Mo(r);function t(...i){let{originalError:n,props:o,message:a}=Lo(i,r),s=new e(a);return _r(s,n,o)}return t[Symbol.species]=e,t}Ot.toJSON=function(r){return Qn.call(r)};Ot.extend=function(r,t,i){return i||t instanceof Error?_r(r,t,i):t?_r(r,void 0,t):_r(r)};const en=he;he.error=new Ae(Error);he.eval=new Ae(EvalError);he.range=new Ae(RangeError);he.reference=new Ae(ReferenceError);he.syntax=new Ae(SyntaxError);he.type=new Ae(TypeError);he.uri=new Ae(URIError);const Uo=he;function he(...e){let r=e[0];if(typeof r=="object"&&typeof r.name=="string"){for(let t of Object.values(Uo))if(typeof t=="function"&&t.name==="ono"){let i=t[Symbol.species];if(i&&i!==Error&&(r instanceof i||r.name===i.name))return t.apply(void 0,e)}}return he.error.apply(void 0,e)}var jo={},Bo=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"},dt={exports:{}};typeof Object.create=="function"?dt.exports=function(r,t){r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:dt.exports=function(r,t){r.super_=t;var i=function(){};i.prototype=t.prototype,r.prototype=new i,r.prototype.constructor=r};(function(e){var r=Object.getOwnPropertyDescriptors||function(m){for(var v=Object.keys(m),x={},C=0;C<v.length;C++)x[v[C]]=Object.getOwnPropertyDescriptor(m,v[C]);return x},t=/%[sdj%]/g;e.format=function(p){if(!M(p)){for(var m=[],v=0;v<arguments.length;v++)m.push(o(arguments[v]));return m.join(" ")}for(var v=1,x=arguments,C=x.length,T=String(p).replace(t,function(R){if(R==="%%")return"%";if(v>=C)return R;switch(R){case"%s":return String(x[v++]);case"%d":return Number(x[v++]);case"%j":try{return JSON.stringify(x[v++])}catch{return"[Circular]"}default:return R}}),A=x[v];v<C;A=x[++v])O(A)||!V(A)?T+=" "+A:T+=" "+o(A);return T},e.deprecate=function(p,m){if(typeof process!="undefined"&&process.noDeprecation===!0)return p;if(typeof process=="undefined")return function(){return e.deprecate(p,m).apply(this,arguments)};var v=!1;function x(){if(!v){if(process.throwDeprecation)throw new Error(m);process.traceDeprecation?console.trace(m):console.error(m),v=!0}return p.apply(this,arguments)}return x};var i={},n;e.debuglog=function(p){if(I(n)&&(n={}.NODE_DEBUG||""),p=p.toUpperCase(),!i[p])if(new RegExp("\\b"+p+"\\b","i").test(n)){var m=process.pid;i[p]=function(){var v=e.format.apply(e,arguments);console.error("%s %d: %s",p,m,v)}}else i[p]=function(){};return i[p]};function o(p,m){var v={seen:[],stylize:s};return arguments.length>=3&&(v.depth=arguments[2]),arguments.length>=4&&(v.colors=arguments[3]),S(m)?v.showHidden=m:m&&e._extend(v,m),I(v.showHidden)&&(v.showHidden=!1),I(v.depth)&&(v.depth=2),I(v.colors)&&(v.colors=!1),I(v.customInspect)&&(v.customInspect=!0),v.colors&&(v.stylize=a),u(v,p,v.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(p,m){var v=o.styles[m];return v?"\x1B["+o.colors[v][0]+"m"+p+"\x1B["+o.colors[v][1]+"m":p}function s(p,m){return p}function l(p){var m={};return p.forEach(function(v,x){m[v]=!0}),m}function u(p,m,v){if(p.customInspect&&m&&ye(m.inspect)&&m.inspect!==e.inspect&&!(m.constructor&&m.constructor.prototype===m)){var x=m.inspect(v,p);return M(x)||(x=u(p,x,v)),x}var C=f(p,m);if(C)return C;var T=Object.keys(m),A=l(T);if(p.showHidden&&(T=Object.getOwnPropertyNames(m)),W(m)&&(T.indexOf("message")>=0||T.indexOf("description")>=0))return c(m);if(T.length===0){if(ye(m)){var R=m.name?": "+m.name:"";return p.stylize("[Function"+R+"]","special")}if(_(m))return p.stylize(RegExp.prototype.toString.call(m),"regexp");if(se(m))return p.stylize(Date.prototype.toString.call(m),"date");if(W(m))return c(m)}var $="",Q=!1,gr=["{","}"];if(b(m)&&(Q=!0,gr=["[","]"]),ye(m)){var to=m.name?": "+m.name:"";$=" [Function"+to+"]"}if(_(m)&&($=" "+RegExp.prototype.toString.call(m)),se(m)&&($=" "+Date.prototype.toUTCString.call(m)),W(m)&&($=" "+c(m)),T.length===0&&(!Q||m.length==0))return gr[0]+$+gr[1];if(v<0)return _(m)?p.stylize(RegExp.prototype.toString.call(m),"regexp"):p.stylize("[Object]","special");p.seen.push(m);var rt;return Q?rt=d(p,m,v,A,T):rt=T.map(function(no){return h(p,m,v,A,no,Q)}),p.seen.pop(),y(rt,$,gr)}function f(p,m){if(I(m))return p.stylize("undefined","undefined");if(M(m)){var v="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(v,"string")}if(X(m))return p.stylize(""+m,"number");if(S(m))return p.stylize(""+m,"boolean");if(O(m))return p.stylize("null","null")}function c(p){return"["+Error.prototype.toString.call(p)+"]"}function d(p,m,v,x,C){for(var T=[],A=0,R=m.length;A<R;++A)Se(m,String(A))?T.push(h(p,m,v,x,String(A),!0)):T.push("");return C.forEach(function($){$.match(/^\d+$/)||T.push(h(p,m,v,x,$,!0))}),T}function h(p,m,v,x,C,T){var A,R,$;if($=Object.getOwnPropertyDescriptor(m,C)||{value:m[C]},$.get?$.set?R=p.stylize("[Getter/Setter]","special"):R=p.stylize("[Getter]","special"):$.set&&(R=p.stylize("[Setter]","special")),Se(x,C)||(A="["+C+"]"),R||(p.seen.indexOf($.value)<0?(O(v)?R=u(p,$.value,null):R=u(p,$.value,v-1),R.indexOf(`
`)>-1&&(T?R=R.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):R=`
`+R.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):R=p.stylize("[Circular]","special")),I(A)){if(T&&C.match(/^\d+$/))return R;A=JSON.stringify(""+C),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.substr(1,A.length-2),A=p.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=p.stylize(A,"string"))}return A+": "+R}function y(p,m,v){var x=p.reduce(function(C,T){return T.indexOf(`
`)>=0,C+T.replace(/\u001b\[\d\d?m/g,"").length+1},0);return x>60?v[0]+(m===""?"":m+`
 `)+" "+p.join(`,
  `)+" "+v[1]:v[0]+m+" "+p.join(", ")+" "+v[1]}function b(p){return Array.isArray(p)}e.isArray=b;function S(p){return typeof p=="boolean"}e.isBoolean=S;function O(p){return p===null}e.isNull=O;function k(p){return p==null}e.isNullOrUndefined=k;function X(p){return typeof p=="number"}e.isNumber=X;function M(p){return typeof p=="string"}e.isString=M;function w(p){return typeof p=="symbol"}e.isSymbol=w;function I(p){return p===void 0}e.isUndefined=I;function _(p){return V(p)&&ve(p)==="[object RegExp]"}e.isRegExp=_;function V(p){return typeof p=="object"&&p!==null}e.isObject=V;function se(p){return V(p)&&ve(p)==="[object Date]"}e.isDate=se;function W(p){return V(p)&&(ve(p)==="[object Error]"||p instanceof Error)}e.isError=W;function ye(p){return typeof p=="function"}e.isFunction=ye;function pr(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||typeof p=="undefined"}e.isPrimitive=pr,e.isBuffer=Bo;function ve(p){return Object.prototype.toString.call(p)}function le(p){return p<10?"0"+p.toString(10):p.toString(10)}var mr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function De(){var p=new Date,m=[le(p.getHours()),le(p.getMinutes()),le(p.getSeconds())].join(":");return[p.getDate(),mr[p.getMonth()],m].join(" ")}e.log=function(){console.log("%s - %s",De(),e.format.apply(e,arguments))},e.inherits=dt.exports,e._extend=function(p,m){if(!m||!V(m))return p;for(var v=Object.keys(m),x=v.length;x--;)p[v[x]]=m[v[x]];return p};function Se(p,m){return Object.prototype.hasOwnProperty.call(p,m)}var J=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(m){if(typeof m!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&m[J]){var v=m[J];if(typeof v!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(v,J,{value:v,enumerable:!1,writable:!1,configurable:!0}),v}function v(){for(var x,C,T=new Promise(function($,Q){x=$,C=Q}),A=[],R=0;R<arguments.length;R++)A.push(arguments[R]);A.push(function($,Q){$?C($):x(Q)});try{m.apply(this,A)}catch($){C($)}return T}return Object.setPrototypeOf(v,Object.getPrototypeOf(m)),J&&Object.defineProperty(v,J,{value:v,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(v,r(m))},e.promisify.custom=J;function Ce(p,m){if(!p){var v=new Error("Promise was rejected with a falsy value");v.reason=p,p=v}return m(p)}function et(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');function m(){for(var v=[],x=0;x<arguments.length;x++)v.push(arguments[x]);var C=v.pop();if(typeof C!="function")throw new TypeError("The last argument must be of type Function");var T=this,A=function(){return C.apply(T,arguments)};p.apply(this,v).then(function(R){process.nextTick(A,null,R)},function(R){process.nextTick(Ce,R,A)})}return Object.setPrototypeOf(m,Object.getPrototypeOf(p)),Object.defineProperties(m,r(p)),m}e.callbackify=et})(jo);typeof module=="object"&&typeof module.exports=="object"&&(module.exports=Object.assign(module.exports.default,module.exports));var Ho=Object.freeze(Object.defineProperty({__proto__:null,ono:en,default:en,Ono:Ae},Symbol.toStringTag,{value:"Module"})),ke=xt(Ho),K={exports:{}};(function(e,r){let t=/^win/.test(process.platform),i=/\//g,n=/^(\w{2,}):\/\//i,o=e.exports,a=/~1/g,s=/~0/g,l=[/\?/g,"%3F",/\#/g,"%23"],u=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];r.parse=Jt.parse,r.resolve=Jt.resolve,r.cwd=function(){if(process.browser)return location.href;let c=process.cwd(),d=c.slice(-1);return d==="/"||d==="\\"?c:c+"/"},r.getProtocol=function(c){let d=n.exec(c);if(d)return d[1].toLowerCase()},r.getExtension=function(c){let d=c.lastIndexOf(".");return d>=0?o.stripQuery(c.substr(d).toLowerCase()):""},r.stripQuery=function(c){let d=c.indexOf("?");return d>=0&&(c=c.substr(0,d)),c},r.getHash=function(c){let d=c.indexOf("#");return d>=0?c.substr(d):"#"},r.stripHash=function(c){let d=c.indexOf("#");return d>=0&&(c=c.substr(0,d)),c},r.isHttp=function(c){let d=o.getProtocol(c);return d==="http"||d==="https"?!0:d===void 0?process.browser:!1},r.isFileSystemPath=function(c){if(process.browser)return!1;let d=o.getProtocol(c);return d===void 0||d==="file"},r.fromFileSystemPath=function(c){t&&(c=c.replace(/\\/g,"/")),c=encodeURI(c);for(let d=0;d<l.length;d+=2)c=c.replace(l[d],l[d+1]);return c},r.toFileSystemPath=function(c,d){c=decodeURI(c);for(let y=0;y<u.length;y+=2)c=c.replace(u[y],u[y+1]);let h=c.substr(0,7).toLowerCase()==="file://";return h&&(c=c[7]==="/"?c.substr(8):c.substr(7),t&&c[1]==="/"&&(c=c[0]+":"+c.substr(1)),d?c="file:///"+c:(h=!1,c=t?c:"/"+c)),t&&!h&&(c=c.replace(i,"\\"),c.substr(1,2)===":\\"&&(c=c[0].toUpperCase()+c.substr(1))),c},r.safePointerToPath=function(c){return c.length<=1||c[0]!=="#"||c[1]!=="/"?[]:c.slice(2).split("/").map(d=>decodeURIComponent(d).replace(a,"/").replace(s,"~"))}})(K,K.exports);var U={};const{Ono:ei}=ke,{stripHash:ri,toFileSystemPath:Vo}=K.exports,Oe=U.JSONParserError=class extends Error{constructor(r,t){super(),this.code="EUNKNOWN",this.message=r,this.source=t,this.path=null,ei.extend(this)}get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}};Re(Oe);const ti=U.JSONParserErrorGroup=class ni extends Error{constructor(r){super(),this.files=r,this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${Vo(r.$refs._root$Ref.path)}'`,ei.extend(this)}static getParserErrors(r){const t=[];for(const i of Object.values(r.$refs._$refs))i.errors&&t.push(...i.errors);return t}get errors(){return ni.getParserErrors(this.files)}};Re(ti);const Yo=U.ParserError=class extends Oe{constructor(r,t){super(`Error parsing ${t}: ${r}`,t),this.code="EPARSER"}};Re(Yo);const Wo=U.UnmatchedParserError=class extends Oe{constructor(r){super(`Could not find parser for "${r}"`,r),this.code="EUNMATCHEDPARSER"}};Re(Wo);const qo=U.ResolverError=class extends Oe{constructor(r,t){super(r.message||`Error reading file "${t}"`,t),this.code="ERESOLVER","code"in r&&(this.ioErrorCode=String(r.code))}};Re(qo);const zo=U.UnmatchedResolverError=class extends Oe{constructor(r){super(`Could not find resolver for "${r}"`,r),this.code="EUNMATCHEDRESOLVER"}};Re(zo);const Go=U.MissingPointerError=class extends Oe{constructor(r,t){super(`Token "${r}" does not exist.`,ri(t)),this.code="EMISSINGPOINTER"}};Re(Go);const Jo=U.InvalidPointerError=class extends Oe{constructor(r,t){super(`Invalid $ref pointer "${r}". Pointers must begin with "#/"`,ri(t)),this.code="EINVALIDPOINTER"}};Re(Jo);function Re(e){Object.defineProperty(e.prototype,"name",{value:e.name,enumerable:!0})}U.isHandledError=function(e){return e instanceof Oe||e instanceof ti};U.normalizeError=function(e){return e.path===null&&(e.path=[]),e};var Yr=we;const tt=or,Rt=K.exports,{JSONParserError:Ko,InvalidPointerError:Xo,MissingPointerError:Qo,isHandledError:Zo}=U,ea=/\//g,ra=/~/g,ta=/~1/g,na=/~0/g;function we(e,r,t){this.$ref=e,this.path=r,this.originalPath=t||r,this.value=void 0,this.circular=!1,this.indirections=0}we.prototype.resolve=function(e,r,t){let i=we.parse(this.path,this.originalPath);this.value=ii(e);for(let n=0;n<i.length;n++){if(Dr(this,r)&&(this.path=we.join(this.path,i.slice(n))),typeof this.value=="object"&&this.value!==null&&"$ref"in this.value)return this;let o=i[n];if(this.value[o]===void 0||this.value[o]===null)throw this.value=null,new Qo(o,this.originalPath);this.value=this.value[o]}return(!this.value||this.value.$ref&&Rt.resolve(this.path,this.value.$ref)!==t)&&Dr(this,r),this};we.prototype.set=function(e,r,t){let i=we.parse(this.path),n;if(i.length===0)return this.value=r,r;this.value=ii(e);for(let o=0;o<i.length-1;o++)Dr(this,t),n=i[o],this.value&&this.value[n]!==void 0?this.value=this.value[n]:this.value=rn(this,n,{});return Dr(this,t),n=i[i.length-1],rn(this,n,r),e};we.parse=function(e,r){let t=Rt.getHash(e).substr(1);if(!t)return[];t=t.split("/");for(let i=0;i<t.length;i++)t[i]=decodeURIComponent(t[i].replace(ta,"/").replace(na,"~"));if(t[0]!=="")throw new Xo(t,r===void 0?e:r);return t.slice(1)};we.join=function(e,r){e.indexOf("#")===-1&&(e+="#"),r=Array.isArray(r)?r:[r];for(let t=0;t<r.length;t++){let i=r[t];e+="/"+encodeURIComponent(i.replace(ra,"~0").replace(ea,"~1"))}return e};function Dr(e,r){if(tt.isAllowed$Ref(e.value,r)){let t=Rt.resolve(e.path,e.value.$ref);if(t===e.path)e.circular=!0;else{let i=e.$ref.$refs._resolve(t,e.path,r);return i===null?!1:(e.indirections+=i.indirections+1,tt.isExtended$Ref(e.value)?(e.value=tt.dereference(e.value,i.value),!1):(e.$ref=i.$ref,e.path=i.path,e.value=i.value,!0))}}}function rn(e,r,t){if(e.value&&typeof e.value=="object")r==="-"&&Array.isArray(e.value)?e.value.push(t):e.value[r]=t;else throw new Ko(`Error assigning $ref pointer "${e.path}". 
Cannot set "${r}" of a non-object.`);return t}function ii(e){if(Zo(e))throw e;return e}var or=z;const oi=Yr,{InvalidPointerError:ia,isHandledError:oa,normalizeError:tn}=U,{safePointerToPath:aa,stripHash:sa,getHash:la}=K.exports;function z(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0,this.errors=void 0}z.prototype.addError=function(e){this.errors===void 0&&(this.errors=[]);const r=this.errors.map(({footprint:t})=>t);Array.isArray(e.errors)?this.errors.push(...e.errors.map(tn).filter(({footprint:t})=>!r.includes(t))):r.includes(e.footprint)||this.errors.push(tn(e))};z.prototype.exists=function(e,r){try{return this.resolve(e,r),!0}catch{return!1}};z.prototype.get=function(e,r){return this.resolve(e,r).value};z.prototype.resolve=function(e,r,t,i){let n=new oi(this,e,t);try{return n.resolve(this.value,r,i)}catch(o){if(!r||!r.continueOnError||!oa(o))throw o;return o.path===null&&(o.path=aa(la(i))),o instanceof ia&&(o.source=sa(i)),this.addError(o),null}};z.prototype.set=function(e,r){let t=new oi(this,e);this.value=t.set(this.value,r)};z.is$Ref=function(e){return e&&typeof e=="object"&&typeof e.$ref=="string"&&e.$ref.length>0};z.isExternal$Ref=function(e){return z.is$Ref(e)&&e.$ref[0]!=="#"};z.isAllowed$Ref=function(e,r){if(z.is$Ref(e)){if(e.$ref.substr(0,2)==="#/"||e.$ref==="#")return!0;if(e.$ref[0]!=="#"&&(!r||r.resolve.external))return!0}};z.isExtended$Ref=function(e){return z.is$Ref(e)&&Object.keys(e).length>1};z.dereference=function(e,r){if(r&&typeof r=="object"&&z.isExtended$Ref(e)){let t={};for(let i of Object.keys(e))i!=="$ref"&&(t[i]=e[i]);for(let i of Object.keys(r))i in t||(t[i]=r[i]);return t}else return r};const{ono:ai}=ke,ua=or,xe=K.exports;var ca=oe;function oe(){this.circular=!1,this._$refs={},this._root$Ref=null}oe.prototype.paths=function(e){return si(this._$refs,arguments).map(t=>t.decoded)};oe.prototype.values=function(e){let r=this._$refs;return si(r,arguments).reduce((i,n)=>(i[n.decoded]=r[n.encoded].value,i),{})};oe.prototype.toJSON=oe.prototype.values;oe.prototype.exists=function(e,r){try{return this._resolve(e,"",r),!0}catch{return!1}};oe.prototype.get=function(e,r){return this._resolve(e,"",r).value};oe.prototype.set=function(e,r){let t=xe.resolve(this._root$Ref.path,e),i=xe.stripHash(t),n=this._$refs[i];if(!n)throw ai(`Error resolving $ref pointer "${e}". 
"${i}" not found.`);n.set(t,r)};oe.prototype._add=function(e){let r=xe.stripHash(e),t=new ua;return t.path=r,t.$refs=this,this._$refs[r]=t,this._root$Ref=this._root$Ref||t,t};oe.prototype._resolve=function(e,r,t){let i=xe.resolve(this._root$Ref.path,e),n=xe.stripHash(i),o=this._$refs[n];if(!o)throw ai(`Error resolving $ref pointer "${e}". 
"${n}" not found.`);return o.resolve(i,t,e,r)};oe.prototype._get$Ref=function(e){e=xe.resolve(this._root$Ref.path,e);let r=xe.stripHash(e);return this._$refs[r]};function si(e,r){let t=Object.keys(e);return r=Array.isArray(r[0])?r[0]:Array.prototype.slice.call(r),r.length>0&&r[0]&&(t=t.filter(i=>r.indexOf(e[i].pathType)!==-1)),t.map(i=>({encoded:i,decoded:e[i].pathType==="file"?xe.toFileSystemPath(i,!0):i}))}var ar={};ar.all=function(e){return Object.keys(e).filter(r=>typeof e[r]=="object").map(r=>(e[r].name=r,e[r]))};ar.filter=function(e,r,t){return e.filter(i=>!!li(i,r,t))};ar.sort=function(e){for(let r of e)r.order=r.order||Number.MAX_SAFE_INTEGER;return e.sort((r,t)=>r.order-t.order)};ar.run=function(e,r,t,i){let n,o,a=0;return new Promise((s,l)=>{u();function u(){if(n=e[a++],!n)return l(o);try{let h=li(n,r,t,f,i);if(h&&typeof h.then=="function")h.then(c,d);else if(h!==void 0)c(h);else if(a===e.length)throw new Error("No promise has been returned or callback has been called.")}catch(h){d(h)}}function f(h,y){h?d(h):c(y)}function c(h){s({plugin:n,result:h})}function d(h){o={plugin:n,error:h},u()}})};function li(e,r,t,i,n){let o=e[r];if(typeof o=="function")return o.apply(e,[t,i,n]);if(!i){if(o instanceof RegExp)return o.test(t.url);if(typeof o=="string")return o===t.extension;if(Array.isArray(o))return o.indexOf(t.extension)!==-1}return o}const{ono:ht}=ke,nn=K.exports,be=ar,{ResolverError:on,ParserError:an,UnmatchedParserError:fa,UnmatchedResolverError:da,isHandledError:ha}=U;var ui=pa;async function pa(e,r,t){e=nn.stripHash(e);let i=r._add(e),n={url:e,extension:nn.getExtension(e)};try{const o=await ma(n,t,r);i.pathType=o.plugin.name,n.data=o.result;const a=await ga(n,t,r);return i.value=a.result,a.result}catch(o){throw ha(o)&&(i.value=o),o}}function ma(e,r,t){return new Promise((i,n)=>{let o=be.all(r.resolve);o=be.filter(o,"canRead",e),be.sort(o),be.run(o,"read",e,t).then(i,a);function a(s){!s&&r.continueOnError?n(new da(e.url)):!s||!("error"in s)?n(ht.syntax(`Unable to resolve $ref pointer "${e.url}"`)):s.error instanceof on?n(s.error):n(new on(s,e.url))}})}function ga(e,r,t){return new Promise((i,n)=>{let o=be.all(r.parse),a=be.filter(o,"canParse",e),s=a.length>0?a:o;be.sort(s),be.run(s,"parse",e,t).then(l,u);function l(f){!f.plugin.allowEmpty&&ya(f.result)?n(ht.syntax(`Error parsing "${e.url}" as ${f.plugin.name}. 
Parsed value is empty`)):i(f)}function u(f){!f&&r.continueOnError?n(new fa(e.url)):!f||!("error"in f)?n(ht.syntax(`Unable to parse ${e.url}`)):f.error instanceof an?n(f.error):n(new an(f.error.message,e.url))}})}function ya(e){return e===void 0||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0||Buffer.isBuffer(e)&&e.length===0}const{ParserError:va}=U;var Sa={order:100,allowEmpty:!0,canParse:".json",async parse(e){let r=e.data;if(Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string"){if(r.trim().length===0)return;try{return JSON.parse(r)}catch(t){throw new va(t.message,e.url)}}else return r}},D={},sr={},re={};function ci(e){return typeof e=="undefined"||e===null}function ba(e){return typeof e=="object"&&e!==null}function Ea(e){return Array.isArray(e)?e:ci(e)?[]:[e]}function wa(e,r){var t,i,n,o;if(r)for(o=Object.keys(r),t=0,i=o.length;t<i;t+=1)n=o[t],e[n]=r[n];return e}function _a(e,r){var t="",i;for(i=0;i<r;i+=1)t+=e;return t}function xa(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}re.isNothing=ci;re.isObject=ba;re.toArray=Ea;re.repeat=_a;re.isNegativeZero=xa;re.extend=wa;function Qe(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Qe.prototype=Object.create(Error.prototype);Qe.prototype.constructor=Qe;Qe.prototype.toString=function(r){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!r&&this.mark&&(t+=" "+this.mark.toString()),t};var lr=Qe,sn=re;function Ct(e,r,t,i,n){this.name=e,this.buffer=r,this.position=t,this.line=i,this.column=n}Ct.prototype.getSnippet=function(r,t){var i,n,o,a,s;if(!this.buffer)return null;for(r=r||4,t=t||75,i="",n=this.position;n>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(n-1))===-1;)if(n-=1,this.position-n>t/2-1){i=" ... ",n+=5;break}for(o="",a=this.position;a<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(a))===-1;)if(a+=1,a-this.position>t/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(n,a),sn.repeat(" ",r)+i+s+o+`
`+sn.repeat(" ",r+this.position-n+i.length)+"^"};Ct.prototype.toString=function(r){var t,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),r||(t=this.getSnippet(),t&&(i+=`:
`+t)),i};var Aa=Ct,ln=lr,Oa=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Ra=["scalar","sequence","mapping"];function Ca(e){var r={};return e!==null&&Object.keys(e).forEach(function(t){e[t].forEach(function(i){r[String(i)]=t})}),r}function Ta(e,r){if(r=r||{},Object.keys(r).forEach(function(t){if(Oa.indexOf(t)===-1)throw new ln('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(t){return t},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.defaultStyle=r.defaultStyle||null,this.styleAliases=Ca(r.styleAliases||null),Ra.indexOf(this.kind)===-1)throw new ln('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var H=Ta,un=re,xr=lr,Fa=H;function pt(e,r,t){var i=[];return e.include.forEach(function(n){t=pt(n,r,t)}),e[r].forEach(function(n){t.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&i.push(a)}),t.push(n)}),t.filter(function(n,o){return i.indexOf(o)===-1})}function Pa(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},r,t;function i(n){e[n.kind][n.tag]=e.fallback[n.tag]=n}for(r=0,t=arguments.length;r<t;r+=1)arguments[r].forEach(i);return e}function Be(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(r){if(r.loadKind&&r.loadKind!=="scalar")throw new xr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=pt(this,"implicit",[]),this.compiledExplicit=pt(this,"explicit",[]),this.compiledTypeMap=Pa(this.compiledImplicit,this.compiledExplicit)}Be.DEFAULT=null;Be.create=function(){var r,t;switch(arguments.length){case 1:r=Be.DEFAULT,t=arguments[0];break;case 2:r=arguments[0],t=arguments[1];break;default:throw new xr("Wrong number of arguments for Schema.create function")}if(r=un.toArray(r),t=un.toArray(t),!r.every(function(i){return i instanceof Be}))throw new xr("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(i){return i instanceof Fa}))throw new xr("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Be({include:r,explicit:t})};var We=Be,Na=H,$a=new Na("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),ka=H,Ia=new ka("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Da=H,Ma=new Da("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),La=We,Tt=new La({explicit:[$a,Ia,Ma]}),Ua=H;function ja(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function Ba(){return null}function Ha(e){return e===null}var Va=new Ua("tag:yaml.org,2002:null",{kind:"scalar",resolve:ja,construct:Ba,predicate:Ha,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Ya=H;function Wa(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function qa(e){return e==="true"||e==="True"||e==="TRUE"}function za(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ga=new Ya("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Wa,construct:qa,predicate:za,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),Ja=re,Ka=H;function Xa(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Qa(e){return 48<=e&&e<=55}function Za(e){return 48<=e&&e<=57}function es(e){if(e===null)return!1;var r=e.length,t=0,i=!1,n;if(!r)return!1;if(n=e[t],(n==="-"||n==="+")&&(n=e[++t]),n==="0"){if(t+1===r)return!0;if(n=e[++t],n==="b"){for(t++;t<r;t++)if(n=e[t],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(t++;t<r;t++)if(n=e[t],n!=="_"){if(!Xa(e.charCodeAt(t)))return!1;i=!0}return i&&n!=="_"}for(;t<r;t++)if(n=e[t],n!=="_"){if(!Qa(e.charCodeAt(t)))return!1;i=!0}return i&&n!=="_"}if(n==="_")return!1;for(;t<r;t++)if(n=e[t],n!=="_"){if(n===":")break;if(!Za(e.charCodeAt(t)))return!1;i=!0}return!i||n==="_"?!1:n!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(t))}function rs(e){var r=e,t=1,i,n,o=[];return r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),i=r[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),r=r.slice(1),i=r[0]),r==="0"?0:i==="0"?r[1]==="b"?t*parseInt(r.slice(2),2):r[1]==="x"?t*parseInt(r,16):t*parseInt(r,8):r.indexOf(":")!==-1?(r.split(":").forEach(function(a){o.unshift(parseInt(a,10))}),r=0,n=1,o.forEach(function(a){r+=a*n,n*=60}),t*r):t*parseInt(r,10)}function ts(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ja.isNegativeZero(e)}var ns=new Ka("tag:yaml.org,2002:int",{kind:"scalar",resolve:es,construct:rs,predicate:ts,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),fi=re,is=H,os=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function as(e){return!(e===null||!os.test(e)||e[e.length-1]==="_")}function ss(e){var r,t,i,n;return r=e.replace(/_/g,"").toLowerCase(),t=r[0]==="-"?-1:1,n=[],"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:r.indexOf(":")>=0?(r.split(":").forEach(function(o){n.unshift(parseFloat(o,10))}),r=0,i=1,n.forEach(function(o){r+=o*i,i*=60}),t*r):t*parseFloat(r,10)}var ls=/^[-+]?[0-9]+e/;function us(e,r){var t;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fi.isNegativeZero(e))return"-0.0";return t=e.toString(10),ls.test(t)?t.replace("e",".e"):t}function cs(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||fi.isNegativeZero(e))}var fs=new is("tag:yaml.org,2002:float",{kind:"scalar",resolve:as,construct:ss,predicate:cs,represent:us,defaultStyle:"lowercase"}),ds=We,di=new ds({include:[Tt],implicit:[Va,Ga,ns,fs]}),hs=We,hi=new hs({include:[di]}),ps=H,pi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function ms(e){return e===null?!1:pi.exec(e)!==null||mi.exec(e)!==null}function gs(e){var r,t,i,n,o,a,s,l=0,u=null,f,c,d;if(r=pi.exec(e),r===null&&(r=mi.exec(e)),r===null)throw new Error("Date resolve error");if(t=+r[1],i=+r[2]-1,n=+r[3],!r[4])return new Date(Date.UTC(t,i,n));if(o=+r[4],a=+r[5],s=+r[6],r[7]){for(l=r[7].slice(0,3);l.length<3;)l+="0";l=+l}return r[9]&&(f=+r[10],c=+(r[11]||0),u=(f*60+c)*6e4,r[9]==="-"&&(u=-u)),d=new Date(Date.UTC(t,i,n,o,a,s,l)),u&&d.setTime(d.getTime()-u),d}function ys(e){return e.toISOString()}var vs=new ps("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:ms,construct:gs,instanceOf:Date,represent:ys}),Ss=H;function bs(e){return e==="<<"||e===null}var Es=new Ss("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bs}),Fe;try{var ws=zn;Fe=ws("buffer").Buffer}catch{}var _s=H,Ft=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function xs(e){if(e===null)return!1;var r,t,i=0,n=e.length,o=Ft;for(t=0;t<n;t++)if(r=o.indexOf(e.charAt(t)),!(r>64)){if(r<0)return!1;i+=6}return i%8===0}function As(e){var r,t,i=e.replace(/[\r\n=]/g,""),n=i.length,o=Ft,a=0,s=[];for(r=0;r<n;r++)r%4===0&&r&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(i.charAt(r));return t=n%4*6,t===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):t===18?(s.push(a>>10&255),s.push(a>>2&255)):t===12&&s.push(a>>4&255),Fe?Fe.from?Fe.from(s):new Fe(s):s}function Os(e){var r="",t=0,i,n,o=e.length,a=Ft;for(i=0;i<o;i++)i%3===0&&i&&(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]),t=(t<<8)+e[i];return n=o%3,n===0?(r+=a[t>>18&63],r+=a[t>>12&63],r+=a[t>>6&63],r+=a[t&63]):n===2?(r+=a[t>>10&63],r+=a[t>>4&63],r+=a[t<<2&63],r+=a[64]):n===1&&(r+=a[t>>2&63],r+=a[t<<4&63],r+=a[64],r+=a[64]),r}function Rs(e){return Fe&&Fe.isBuffer(e)}var Cs=new _s("tag:yaml.org,2002:binary",{kind:"scalar",resolve:xs,construct:As,predicate:Rs,represent:Os}),Ts=H,Fs=Object.prototype.hasOwnProperty,Ps=Object.prototype.toString;function Ns(e){if(e===null)return!0;var r=[],t,i,n,o,a,s=e;for(t=0,i=s.length;t<i;t+=1){if(n=s[t],a=!1,Ps.call(n)!=="[object Object]")return!1;for(o in n)if(Fs.call(n,o))if(!a)a=!0;else return!1;if(!a)return!1;if(r.indexOf(o)===-1)r.push(o);else return!1}return!0}function $s(e){return e!==null?e:[]}var ks=new Ts("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ns,construct:$s}),Is=H,Ds=Object.prototype.toString;function Ms(e){if(e===null)return!0;var r,t,i,n,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1){if(i=a[r],Ds.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;o[r]=[n[0],i[n[0]]]}return!0}function Ls(e){if(e===null)return[];var r,t,i,n,o,a=e;for(o=new Array(a.length),r=0,t=a.length;r<t;r+=1)i=a[r],n=Object.keys(i),o[r]=[n[0],i[n[0]]];return o}var Us=new Is("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Ms,construct:Ls}),js=H,Bs=Object.prototype.hasOwnProperty;function Hs(e){if(e===null)return!0;var r,t=e;for(r in t)if(Bs.call(t,r)&&t[r]!==null)return!1;return!0}function Vs(e){return e!==null?e:{}}var Ys=new js("tag:yaml.org,2002:set",{kind:"mapping",resolve:Hs,construct:Vs}),Ws=We,ur=new Ws({include:[hi],implicit:[vs,Es],explicit:[Cs,ks,Us,Ys]}),qs=H;function zs(){return!0}function Gs(){}function Js(){return""}function Ks(e){return typeof e=="undefined"}var Xs=new qs("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:zs,construct:Gs,predicate:Ks,represent:Js}),Qs=H;function Zs(e){if(e===null||e.length===0)return!1;var r=e,t=/\/([gim]*)$/.exec(e),i="";return!(r[0]==="/"&&(t&&(i=t[1]),i.length>3||r[r.length-i.length-1]!=="/"))}function el(e){var r=e,t=/\/([gim]*)$/.exec(e),i="";return r[0]==="/"&&(t&&(i=t[1]),r=r.slice(1,r.length-i.length-1)),new RegExp(r,i)}function rl(e){var r="/"+e.source+"/";return e.global&&(r+="g"),e.multiline&&(r+="m"),e.ignoreCase&&(r+="i"),r}function tl(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var nl=new Qs("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:Zs,construct:el,predicate:tl,represent:rl}),Mr;try{var il=zn;Mr=il("esprima")}catch{typeof window!="undefined"&&(Mr=window.esprima)}var ol=H;function al(e){if(e===null)return!1;try{var r="("+e+")",t=Mr.parse(r,{range:!0});return!(t.type!=="Program"||t.body.length!==1||t.body[0].type!=="ExpressionStatement"||t.body[0].expression.type!=="ArrowFunctionExpression"&&t.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function sl(e){var r="("+e+")",t=Mr.parse(r,{range:!0}),i=[],n;if(t.type!=="Program"||t.body.length!==1||t.body[0].type!=="ExpressionStatement"||t.body[0].expression.type!=="ArrowFunctionExpression"&&t.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return t.body[0].expression.params.forEach(function(o){i.push(o.name)}),n=t.body[0].expression.body.range,t.body[0].expression.body.type==="BlockStatement"?new Function(i,r.slice(n[0]+1,n[1]-1)):new Function(i,"return "+r.slice(n[0],n[1]))}function ll(e){return e.toString()}function ul(e){return Object.prototype.toString.call(e)==="[object Function]"}var cl=new ol("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:al,construct:sl,predicate:ul,represent:ll}),cn=We,Wr=cn.DEFAULT=new cn({include:[ur],explicit:[Xs,nl,cl]}),ce=re,gi=lr,fl=Aa,mt=ur,dl=Wr,Ne=Object.prototype.hasOwnProperty,Lr=1,yi=2,vi=3,Ur=4,nt=1,hl=2,fn=3,pl=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ml=/[\x85\u2028\u2029]/,gl=/[,\[\]\{\}]/,Si=/^(?:!|!!|![a-z\-]+!)$/i,bi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dn(e){return Object.prototype.toString.call(e)}function fe(e){return e===10||e===13}function Pe(e){return e===9||e===32}function G(e){return e===9||e===32||e===10||e===13}function He(e){return e===44||e===91||e===93||e===123||e===125}function yl(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function vl(e){return e===120?2:e===117?4:e===85?8:0}function Sl(e){return 48<=e&&e<=57?e-48:-1}function hn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function bl(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ei=new Array(256),wi=new Array(256);for(var Me=0;Me<256;Me++)Ei[Me]=hn(Me)?1:0,wi[Me]=hn(Me);function El(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||dl,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function _i(e,r){return new gi(r,new fl(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function E(e,r){throw _i(e,r)}function jr(e,r){e.onWarning&&e.onWarning.call(null,_i(e,r))}var pn={YAML:function(r,t,i){var n,o,a;r.version!==null&&E(r,"duplication of %YAML directive"),i.length!==1&&E(r,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&E(r,"ill-formed argument of the YAML directive"),o=parseInt(n[1],10),a=parseInt(n[2],10),o!==1&&E(r,"unacceptable YAML version of the document"),r.version=i[0],r.checkLineBreaks=a<2,a!==1&&a!==2&&jr(r,"unsupported YAML version of the document")},TAG:function(r,t,i){var n,o;i.length!==2&&E(r,"TAG directive accepts exactly two arguments"),n=i[0],o=i[1],Si.test(n)||E(r,"ill-formed tag handle (first argument) of the TAG directive"),Ne.call(r.tagMap,n)&&E(r,'there is a previously declared suffix for "'+n+'" tag handle'),bi.test(o)||E(r,"ill-formed tag prefix (second argument) of the TAG directive"),r.tagMap[n]=o}};function _e(e,r,t,i){var n,o,a,s;if(r<t){if(s=e.input.slice(r,t),i)for(n=0,o=s.length;n<o;n+=1)a=s.charCodeAt(n),a===9||32<=a&&a<=1114111||E(e,"expected valid JSON character");else pl.test(s)&&E(e,"the stream contains non-printable characters");e.result+=s}}function mn(e,r,t,i){var n,o,a,s;for(ce.isObject(t)||E(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(t),a=0,s=n.length;a<s;a+=1)o=n[a],Ne.call(r,o)||(r[o]=t[o],i[o]=!0)}function Ve(e,r,t,i,n,o,a,s){var l,u;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),l=0,u=n.length;l<u;l+=1)Array.isArray(n[l])&&E(e,"nested arrays are not supported inside keys"),typeof n=="object"&&dn(n[l])==="[object Object]"&&(n[l]="[object Object]");if(typeof n=="object"&&dn(n)==="[object Object]"&&(n="[object Object]"),n=String(n),r===null&&(r={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)mn(e,r,o[l],t);else mn(e,r,o,t);else!e.json&&!Ne.call(t,n)&&Ne.call(r,n)&&(e.line=a||e.line,e.position=s||e.position,E(e,"duplicated mapping key")),r[n]=o,delete t[n];return r}function Pt(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):E(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function L(e,r,t){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;Pe(n);)n=e.input.charCodeAt(++e.position);if(r&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(fe(n))for(Pt(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return t!==-1&&i!==0&&e.lineIndent<t&&jr(e,"deficient indentation"),i}function qr(e){var r=e.position,t;return t=e.input.charCodeAt(r),!!((t===45||t===46)&&t===e.input.charCodeAt(r+1)&&t===e.input.charCodeAt(r+2)&&(r+=3,t=e.input.charCodeAt(r),t===0||G(t)))}function Nt(e,r){r===1?e.result+=" ":r>1&&(e.result+=ce.repeat(`
`,r-1))}function wl(e,r,t){var i,n,o,a,s,l,u,f,c=e.kind,d=e.result,h;if(h=e.input.charCodeAt(e.position),G(h)||He(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(n=e.input.charCodeAt(e.position+1),G(n)||t&&He(n)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,s=!1;h!==0;){if(h===58){if(n=e.input.charCodeAt(e.position+1),G(n)||t&&He(n))break}else if(h===35){if(i=e.input.charCodeAt(e.position-1),G(i))break}else{if(e.position===e.lineStart&&qr(e)||t&&He(h))break;if(fe(h))if(l=e.line,u=e.lineStart,f=e.lineIndent,L(e,!1,-1),e.lineIndent>=r){s=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=u,e.lineIndent=f;break}}s&&(_e(e,o,a,!1),Nt(e,e.line-l),o=a=e.position,s=!1),Pe(h)||(a=e.position+1),h=e.input.charCodeAt(++e.position)}return _e(e,o,a,!1),e.result?!0:(e.kind=c,e.result=d,!1)}function _l(e,r){var t,i,n;if(t=e.input.charCodeAt(e.position),t!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(t=e.input.charCodeAt(e.position))!==0;)if(t===39)if(_e(e,i,e.position,!0),t=e.input.charCodeAt(++e.position),t===39)i=e.position,e.position++,n=e.position;else return!0;else fe(t)?(_e(e,i,n,!0),Nt(e,L(e,!1,r)),i=n=e.position):e.position===e.lineStart&&qr(e)?E(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);E(e,"unexpected end of the stream within a single quoted scalar")}function xl(e,r){var t,i,n,o,a,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,t=i=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return _e(e,t,e.position,!0),e.position++,!0;if(s===92){if(_e(e,t,e.position,!0),s=e.input.charCodeAt(++e.position),fe(s))L(e,!1,r);else if(s<256&&Ei[s])e.result+=wi[s],e.position++;else if((a=vl(s))>0){for(n=a,o=0;n>0;n--)s=e.input.charCodeAt(++e.position),(a=yl(s))>=0?o=(o<<4)+a:E(e,"expected hexadecimal character");e.result+=bl(o),e.position++}else E(e,"unknown escape sequence");t=i=e.position}else fe(s)?(_e(e,t,i,!0),Nt(e,L(e,!1,r)),t=i=e.position):e.position===e.lineStart&&qr(e)?E(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}E(e,"unexpected end of the stream within a double quoted scalar")}function Al(e,r){var t=!0,i,n=e.tag,o,a=e.anchor,s,l,u,f,c,d={},h,y,b,S;if(S=e.input.charCodeAt(e.position),S===91)l=93,c=!1,o=[];else if(S===123)l=125,c=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),S=e.input.charCodeAt(++e.position);S!==0;){if(L(e,!0,r),S=e.input.charCodeAt(e.position),S===l)return e.position++,e.tag=n,e.anchor=a,e.kind=c?"mapping":"sequence",e.result=o,!0;t||E(e,"missed comma between flow collection entries"),y=h=b=null,u=f=!1,S===63&&(s=e.input.charCodeAt(e.position+1),G(s)&&(u=f=!0,e.position++,L(e,!0,r))),i=e.line,Ye(e,r,Lr,!1,!0),y=e.tag,h=e.result,L(e,!0,r),S=e.input.charCodeAt(e.position),(f||e.line===i)&&S===58&&(u=!0,S=e.input.charCodeAt(++e.position),L(e,!0,r),Ye(e,r,Lr,!1,!0),b=e.result),c?Ve(e,o,d,y,h,b):u?o.push(Ve(e,null,d,y,h,b)):o.push(h),L(e,!0,r),S=e.input.charCodeAt(e.position),S===44?(t=!0,S=e.input.charCodeAt(++e.position)):t=!1}E(e,"unexpected end of the stream within a flow collection")}function Ol(e,r){var t,i,n=nt,o=!1,a=!1,s=r,l=0,u=!1,f,c;if(c=e.input.charCodeAt(e.position),c===124)i=!1;else if(c===62)i=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)nt===n?n=c===43?fn:hl:E(e,"repeat of a chomping mode identifier");else if((f=Sl(c))>=0)f===0?E(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?E(e,"repeat of an indentation width identifier"):(s=r+f-1,a=!0);else break;if(Pe(c)){do c=e.input.charCodeAt(++e.position);while(Pe(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!fe(c)&&c!==0)}for(;c!==0;){for(Pt(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!a||e.lineIndent<s)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>s&&(s=e.lineIndent),fe(c)){l++;continue}if(e.lineIndent<s){n===fn?e.result+=ce.repeat(`
`,o?1+l:l):n===nt&&o&&(e.result+=`
`);break}for(i?Pe(c)?(u=!0,e.result+=ce.repeat(`
`,o?1+l:l)):u?(u=!1,e.result+=ce.repeat(`
`,l+1)):l===0?o&&(e.result+=" "):e.result+=ce.repeat(`
`,l):e.result+=ce.repeat(`
`,o?1+l:l),o=!0,a=!0,l=0,t=e.position;!fe(c)&&c!==0;)c=e.input.charCodeAt(++e.position);_e(e,t,e.position,!1)}return!0}function gn(e,r){var t,i=e.tag,n=e.anchor,o=[],a,s=!1,l;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),l=e.input.charCodeAt(e.position);l!==0&&!(l!==45||(a=e.input.charCodeAt(e.position+1),!G(a)));){if(s=!0,e.position++,L(e,!0,-1)&&e.lineIndent<=r){o.push(null),l=e.input.charCodeAt(e.position);continue}if(t=e.line,Ye(e,r,vi,!1,!0),o.push(e.result),L(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>r)&&l!==0)E(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return s?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=o,!0):!1}function Rl(e,r,t){var i,n,o,a,s=e.tag,l=e.anchor,u={},f={},c=null,d=null,h=null,y=!1,b=!1,S;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),S=e.input.charCodeAt(e.position);S!==0;){if(i=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,(S===63||S===58)&&G(i))S===63?(y&&(Ve(e,u,f,c,d,null),c=d=h=null),b=!0,y=!0,n=!0):y?(y=!1,n=!0):E(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,S=i;else if(Ye(e,t,yi,!1,!0))if(e.line===o){for(S=e.input.charCodeAt(e.position);Pe(S);)S=e.input.charCodeAt(++e.position);if(S===58)S=e.input.charCodeAt(++e.position),G(S)||E(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ve(e,u,f,c,d,null),c=d=h=null),b=!0,y=!1,n=!1,c=e.tag,d=e.result;else if(b)E(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=s,e.anchor=l,!0}else if(b)E(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=s,e.anchor=l,!0;else break;if((e.line===o||e.lineIndent>r)&&(Ye(e,r,Ur,!0,n)&&(y?d=e.result:h=e.result),y||(Ve(e,u,f,c,d,h,o,a),c=d=h=null),L(e,!0,-1),S=e.input.charCodeAt(e.position)),e.lineIndent>r&&S!==0)E(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return y&&Ve(e,u,f,c,d,null),b&&(e.tag=s,e.anchor=l,e.kind="mapping",e.result=u),b}function Cl(e){var r,t=!1,i=!1,n,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&E(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(t=!0,a=e.input.charCodeAt(++e.position)):a===33?(i=!0,n="!!",a=e.input.charCodeAt(++e.position)):n="!",r=e.position,t){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(r,e.position),a=e.input.charCodeAt(++e.position)):E(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!G(a);)a===33&&(i?E(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(r-1,e.position+1),Si.test(n)||E(e,"named tag handle cannot contain such characters"),i=!0,r=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(r,e.position),gl.test(o)&&E(e,"tag suffix cannot contain flow indicator characters")}return o&&!bi.test(o)&&E(e,"tag name cannot contain such characters: "+o),t?e.tag=o:Ne.call(e.tagMap,n)?e.tag=e.tagMap[n]+o:n==="!"?e.tag="!"+o:n==="!!"?e.tag="tag:yaml.org,2002:"+o:E(e,'undeclared tag handle "'+n+'"'),!0}function Tl(e){var r,t;if(t=e.input.charCodeAt(e.position),t!==38)return!1;for(e.anchor!==null&&E(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!G(t)&&!He(t);)t=e.input.charCodeAt(++e.position);return e.position===r&&E(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function Fl(e){var r,t,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),r=e.position;i!==0&&!G(i)&&!He(i);)i=e.input.charCodeAt(++e.position);return e.position===r&&E(e,"name of an alias node must contain at least one character"),t=e.input.slice(r,e.position),e.anchorMap.hasOwnProperty(t)||E(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],L(e,!0,-1),!0}function Ye(e,r,t,i,n){var o,a,s,l=1,u=!1,f=!1,c,d,h,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=Ur===t||vi===t,i&&L(e,!0,-1)&&(u=!0,e.lineIndent>r?l=1:e.lineIndent===r?l=0:e.lineIndent<r&&(l=-1)),l===1)for(;Cl(e)||Tl(e);)L(e,!0,-1)?(u=!0,s=o,e.lineIndent>r?l=1:e.lineIndent===r?l=0:e.lineIndent<r&&(l=-1)):s=!1;if(s&&(s=u||n),(l===1||Ur===t)&&(Lr===t||yi===t?y=r:y=r+1,b=e.position-e.lineStart,l===1?s&&(gn(e,b)||Rl(e,b,y))||Al(e,y)?f=!0:(a&&Ol(e,y)||_l(e,y)||xl(e,y)?f=!0:Fl(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&E(e,"alias node should not have any properties")):wl(e,y,Lr===t)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=s&&gn(e,b))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(c=0,d=e.implicitTypes.length;c<d;c+=1)if(h=e.implicitTypes[c],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else Ne.call(e.typeMap[e.kind||"fallback"],e.tag)?(h=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&h.kind!==e.kind&&E(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result)?(e.result=h.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):E(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):E(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Pl(e){var r=e.position,t,i,n,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(a=e.input.charCodeAt(e.position))!==0&&(L(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),t=e.position;a!==0&&!G(a);)a=e.input.charCodeAt(++e.position);for(i=e.input.slice(t,e.position),n=[],i.length<1&&E(e,"directive name must not be less than one character in length");a!==0;){for(;Pe(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!fe(a));break}if(fe(a))break;for(t=e.position;a!==0&&!G(a);)a=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}a!==0&&Pt(e),Ne.call(pn,i)?pn[i](e,i,n):jr(e,'unknown document directive "'+i+'"')}if(L(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,L(e,!0,-1)):o&&E(e,"directives end mark is expected"),Ye(e,e.lineIndent-1,Ur,!1,!0),L(e,!0,-1),e.checkLineBreaks&&ml.test(e.input.slice(r,e.position))&&jr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&qr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,L(e,!0,-1));return}if(e.position<e.length-1)E(e,"end of the stream or a document separator is expected");else return}function xi(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var t=new El(e,r);for(t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)Pl(t);return t.documents}function gt(e,r,t){var i=xi(e,t),n,o;if(typeof r!="function")return i;for(n=0,o=i.length;n<o;n+=1)r(i[n])}function Ai(e,r){var t=xi(e,r);if(t.length!==0){if(t.length===1)return t[0];throw new gi("expected a single document in the stream, but found more")}}function Nl(e,r,t){if(typeof r=="function")gt(e,r,ce.extend({schema:mt},t));else return gt(e,ce.extend({schema:mt},t))}function $l(e,r){return Ai(e,ce.extend({schema:mt},r))}sr.loadAll=gt;sr.load=Ai;sr.safeLoadAll=Nl;sr.safeLoad=$l;var $t={},cr=re,fr=lr,kl=Wr,Il=ur,Oi=Object.prototype.toString,Ri=Object.prototype.hasOwnProperty,Dl=9,Br=10,Ml=32,Ll=33,Ul=34,Ci=35,jl=37,Bl=38,Hl=39,Vl=42,Ti=44,Yl=45,Fi=58,Wl=62,ql=63,zl=64,Pi=91,Ni=93,Gl=96,$i=123,Jl=124,ki=125,q={};q[0]="\\0";q[7]="\\a";q[8]="\\b";q[9]="\\t";q[10]="\\n";q[11]="\\v";q[12]="\\f";q[13]="\\r";q[27]="\\e";q[34]='\\"';q[92]="\\\\";q[133]="\\N";q[160]="\\_";q[8232]="\\L";q[8233]="\\P";var Kl=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Xl(e,r){var t,i,n,o,a,s,l;if(r===null)return{};for(t={},i=Object.keys(r),n=0,o=i.length;n<o;n+=1)a=i[n],s=String(r[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=e.compiledTypeMap.fallback[a],l&&Ri.call(l.styleAliases,s)&&(s=l.styleAliases[s]),t[a]=s;return t}function yn(e){var r,t,i;if(r=e.toString(16).toUpperCase(),e<=255)t="x",i=2;else if(e<=65535)t="u",i=4;else if(e<=4294967295)t="U",i=8;else throw new fr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+cr.repeat("0",i-r.length)+r}function Ql(e){this.schema=e.schema||kl,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=cr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Xl(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vn(e,r){for(var t=cr.repeat(" ",r),i=0,n=-1,o="",a,s=e.length;i<s;)n=e.indexOf(`
`,i),n===-1?(a=e.slice(i),i=s):(a=e.slice(i,n+1),i=n+1),a.length&&a!==`
`&&(o+=t),o+=a;return o}function yt(e,r){return`
`+cr.repeat(" ",e.indent*r)}function Zl(e,r){var t,i,n;for(t=0,i=e.implicitTypes.length;t<i;t+=1)if(n=e.implicitTypes[t],n.resolve(r))return!0;return!1}function Ii(e){return e===Ml||e===Dl}function Ze(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function Sn(e){return Ze(e)&&e!==65279&&e!==Ti&&e!==Pi&&e!==Ni&&e!==$i&&e!==ki&&e!==Fi&&e!==Ci}function eu(e){return Ze(e)&&e!==65279&&!Ii(e)&&e!==Yl&&e!==ql&&e!==Fi&&e!==Ti&&e!==Pi&&e!==Ni&&e!==$i&&e!==ki&&e!==Ci&&e!==Bl&&e!==Vl&&e!==Ll&&e!==Jl&&e!==Wl&&e!==Hl&&e!==Ul&&e!==jl&&e!==zl&&e!==Gl}function Di(e){var r=/^\n* /;return r.test(e)}var Mi=1,Li=2,Ui=3,ji=4,Ar=5;function ru(e,r,t,i,n){var o,a,s=!1,l=!1,u=i!==-1,f=-1,c=eu(e.charCodeAt(0))&&!Ii(e.charCodeAt(e.length-1));if(r)for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),!Ze(a))return Ar;c=c&&Sn(a)}else{for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),a===Br)s=!0,u&&(l=l||o-f-1>i&&e[f+1]!==" ",f=o);else if(!Ze(a))return Ar;c=c&&Sn(a)}l=l||u&&o-f-1>i&&e[f+1]!==" "}return!s&&!l?c&&!n(e)?Mi:Li:t>9&&Di(e)?Ar:l?ji:Ui}function tu(e,r,t,i){e.dump=function(){if(r.length===0)return"''";if(!e.noCompatMode&&Kl.indexOf(r)!==-1)return"'"+r+"'";var n=e.indent*Math.max(1,t),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n),a=i||e.flowLevel>-1&&t>=e.flowLevel;function s(l){return Zl(e,l)}switch(ru(r,a,e.indent,o,s)){case Mi:return r;case Li:return"'"+r.replace(/'/g,"''")+"'";case Ui:return"|"+bn(r,e.indent)+En(vn(r,n));case ji:return">"+bn(r,e.indent)+En(vn(nu(r,o),n));case Ar:return'"'+iu(r)+'"';default:throw new fr("impossible error: invalid scalar style")}}()}function bn(e,r){var t=Di(e)?String(r):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),o=n?"+":i?"":"-";return t+o+`
`}function En(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function nu(e,r){for(var t=/(\n+)([^\n]*)/g,i=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,t.lastIndex=u,wn(e.slice(0,u),r)}(),n=e[0]===`
`||e[0]===" ",o,a;a=t.exec(e);){var s=a[1],l=a[2];o=l[0]===" ",i+=s+(!n&&!o&&l!==""?`
`:"")+wn(l,r),n=o}return i}function wn(e,r){if(e===""||e[0]===" ")return e;for(var t=/ [^ ]/g,i,n=0,o,a=0,s=0,l="";i=t.exec(e);)s=i.index,s-n>r&&(o=a>n?a:s,l+=`
`+e.slice(n,o),n=o+1),a=s;return l+=`
`,e.length-n>r&&a>n?l+=e.slice(n,a)+`
`+e.slice(a+1):l+=e.slice(n),l.slice(1)}function iu(e){for(var r="",t,i,n,o=0;o<e.length;o++){if(t=e.charCodeAt(o),t>=55296&&t<=56319&&(i=e.charCodeAt(o+1),i>=56320&&i<=57343)){r+=yn((t-55296)*1024+i-56320+65536),o++;continue}n=q[t],r+=!n&&Ze(t)?e[o]:n||yn(t)}return r}function ou(e,r,t){var i="",n=e.tag,o,a;for(o=0,a=t.length;o<a;o+=1)$e(e,r,t[o],!1,!1)&&(o!==0&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function au(e,r,t,i){var n="",o=e.tag,a,s;for(a=0,s=t.length;a<s;a+=1)$e(e,r+1,t[a],!0,!0)&&((!i||a!==0)&&(n+=yt(e,r)),e.dump&&Br===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=o,e.dump=n||"[]"}function su(e,r,t){var i="",n=e.tag,o=Object.keys(t),a,s,l,u,f;for(a=0,s=o.length;a<s;a+=1)f=e.condenseFlow?'"':"",a!==0&&(f+=", "),l=o[a],u=t[l],$e(e,r,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),$e(e,r,u,!1,!1)&&(f+=e.dump,i+=f));e.tag=n,e.dump="{"+i+"}"}function lu(e,r,t,i){var n="",o=e.tag,a=Object.keys(t),s,l,u,f,c,d;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new fr("sortKeys must be a boolean or a function");for(s=0,l=a.length;s<l;s+=1)d="",(!i||s!==0)&&(d+=yt(e,r)),u=a[s],f=t[u],$e(e,r+1,u,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&Br===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,c&&(d+=yt(e,r)),$e(e,r+1,f,!0,c)&&(e.dump&&Br===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,n+=d));e.tag=o,e.dump=n||"{}"}function _n(e,r,t){var i,n,o,a,s,l;for(n=t?e.explicitTypes:e.implicitTypes,o=0,a=n.length;o<a;o+=1)if(s=n[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof r=="object"&&r instanceof s.instanceOf)&&(!s.predicate||s.predicate(r))){if(e.tag=t?s.tag:"?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,Oi.call(s.represent)==="[object Function]")i=s.represent(r,l);else if(Ri.call(s.represent,l))i=s.represent[l](r,l);else throw new fr("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');e.dump=i}return!0}return!1}function $e(e,r,t,i,n,o){e.tag=null,e.dump=t,_n(e,t,!1)||_n(e,t,!0);var a=Oi.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>r);var s=a==="[object Object]"||a==="[object Array]",l,u;if(s&&(l=e.duplicates.indexOf(t),u=l!==-1),(e.tag!==null&&e.tag!=="?"||u||e.indent!==2&&r>0)&&(n=!1),u&&e.usedDuplicates[l])e.dump="*ref_"+l;else{if(s&&u&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(lu(e,r,e.dump,n),u&&(e.dump="&ref_"+l+e.dump)):(su(e,r,e.dump),u&&(e.dump="&ref_"+l+" "+e.dump));else if(a==="[object Array]"){var f=e.noArrayIndent&&r>0?r-1:r;i&&e.dump.length!==0?(au(e,f,e.dump,n),u&&(e.dump="&ref_"+l+e.dump)):(ou(e,f,e.dump),u&&(e.dump="&ref_"+l+" "+e.dump))}else if(a==="[object String]")e.tag!=="?"&&tu(e,e.dump,r,o);else{if(e.skipInvalid)return!1;throw new fr("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function uu(e,r){var t=[],i=[],n,o;for(vt(e,t,i),n=0,o=i.length;n<o;n+=1)r.duplicates.push(t[i[n]]);r.usedDuplicates=new Array(o)}function vt(e,r,t){var i,n,o;if(e!==null&&typeof e=="object")if(n=r.indexOf(e),n!==-1)t.indexOf(n)===-1&&t.push(n);else if(r.push(e),Array.isArray(e))for(n=0,o=e.length;n<o;n+=1)vt(e[n],r,t);else for(i=Object.keys(e),n=0,o=i.length;n<o;n+=1)vt(e[i[n]],r,t)}function Bi(e,r){r=r||{};var t=new Ql(r);return t.noRefs||uu(e,t),$e(t,0,e,!0,!0)?t.dump+`
`:""}function cu(e,r){return Bi(e,cr.extend({schema:Il},r))}$t.dump=Bi;$t.safeDump=cu;var zr=sr,Hi=$t;function Gr(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}D.Type=H;D.Schema=We;D.FAILSAFE_SCHEMA=Tt;D.JSON_SCHEMA=di;D.CORE_SCHEMA=hi;D.DEFAULT_SAFE_SCHEMA=ur;D.DEFAULT_FULL_SCHEMA=Wr;D.load=zr.load;D.loadAll=zr.loadAll;D.safeLoad=zr.safeLoad;D.safeLoadAll=zr.safeLoadAll;D.dump=Hi.dump;D.safeDump=Hi.safeDump;D.YAMLException=lr;D.MINIMAL_SCHEMA=Tt;D.SAFE_SCHEMA=ur;D.DEFAULT_SCHEMA=Wr;D.scan=Gr("scan");D.parse=Gr("parse");D.compose=Gr("compose");D.addConstructor=Gr("addConstructor");var fu=D,du=fu;const{ParserError:hu}=U,pu=du;var mu={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(e){let r=e.data;if(Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")try{return pu.load(r)}catch(t){throw new hu(t.message,e.url)}else return r}};const{ParserError:gu}=U;let yu=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;var vu={order:300,allowEmpty:!0,encoding:"utf8",canParse(e){return(typeof e.data=="string"||Buffer.isBuffer(e.data))&&yu.test(e.url)},parse(e){if(typeof e.data=="string")return e.data;if(Buffer.isBuffer(e.data))return e.data.toString(this.encoding);throw new gu("data is not text",e.url)}};let Su=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;var bu={order:400,allowEmpty:!0,canParse(e){return Buffer.isBuffer(e.data)&&Su.test(e.url)},parse(e){return Buffer.isBuffer(e.data)?e.data:Buffer.from(e.data)}};const Eu=At,{ono:it}=ke,xn=K.exports,{ResolverError:ot}=U;var wu={order:100,canRead(e){return xn.isFileSystemPath(e.url)},read(e){return new Promise((r,t)=>{let i;try{i=xn.toFileSystemPath(e.url)}catch(n){t(new ot(it.uri(n,`Malformed URI: ${e.url}`),e.url))}try{Eu.readFile(i,(n,o)=>{n?t(new ot(it(n,`Error opening file "${i}"`),i)):r(o)})}catch(n){t(new ot(it(n,`Error opening file "${i}"`),i))}})}};const _u=At,xu=At,{ono:yr}=ke,Ke=K.exports,{ResolverError:An}=U;var Au={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead(e){return Ke.isHttp(e.url)},read(e){let r=Ke.parse(e.url);return process.browser&&!r.protocol&&(r.protocol=Ke.parse(location.href).protocol),Vi(r,this)}};function Vi(e,r,t){return new Promise((i,n)=>{e=Ke.parse(e),t=t||[],t.push(e.href),Ou(e,r).then(o=>{if(o.statusCode>=400)throw yr({status:o.statusCode},`HTTP ERROR ${o.statusCode}`);if(o.statusCode>=300)if(t.length>r.redirects)n(new An(yr({status:o.statusCode},`Error downloading ${t[0]}. 
Too many redirects: 
  ${t.join(` 
  `)}`)));else if(o.headers.location){let a=Ke.resolve(e,o.headers.location);Vi(a,r,t).then(i,n)}else throw yr({status:o.statusCode},`HTTP ${o.statusCode} redirect with no location header`);else i(o.body||Buffer.alloc(0))}).catch(o=>{n(new An(yr(o,`Error downloading ${e.href}`),e.href))})})}function Ou(e,r){return new Promise((t,i)=>{let o=(e.protocol==="https:"?xu:_u).get({hostname:e.hostname,port:e.port,path:e.path,auth:e.auth,protocol:e.protocol,headers:r.headers||{},withCredentials:r.withCredentials});typeof o.setTimeout=="function"&&o.setTimeout(r.timeout),o.on("timeout",()=>{o.abort()}),o.on("error",i),o.once("response",a=>{a.body=Buffer.alloc(0),a.on("data",s=>{a.body=Buffer.concat([a.body,Buffer.from(s)])}),a.on("error",i),a.on("end",()=>{t(a)})})})}const Ru=Sa,Cu=mu,Tu=vu,Fu=bu,Pu=wu,Nu=Au;var $u=kt;function kt(e){St(this,kt.defaults),St(this,e)}kt.defaults={parse:{json:Ru,yaml:Cu,text:Tu,binary:Fu},resolve:{file:Pu,http:Nu,external:!0},continueOnError:!1,dereference:{circular:!0}};function St(e,r){if(On(r)){let t=Object.keys(r);for(let i=0;i<t.length;i++){let n=t[i],o=r[n],a=e[n];On(o)?e[n]=St(a||{},o):o!==void 0&&(e[n]=o)}}return e}function On(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}const Rn=$u;var ku=Iu;function Iu(e){let r,t,i,n;return e=Array.prototype.slice.call(e),typeof e[e.length-1]=="function"&&(n=e.pop()),typeof e[0]=="string"?(r=e[0],typeof e[2]=="object"?(t=e[1],i=e[2]):(t=void 0,i=e[1])):(r="",t=e[0],i=e[1]),i instanceof Rn||(i=new Rn(i)),{path:r,schema:t,options:i,callback:n}}const Cn=or,Du=Yr,Mu=ui,Ge=K.exports,{isHandledError:Lu}=U;var Uu=ju;function ju(e,r){if(!r.resolve.external)return Promise.resolve();try{let t=It(e.schema,e.$refs._root$Ref.path+"#",e.$refs,r);return Promise.all(t)}catch(t){return Promise.reject(t)}}function It(e,r,t,i,n){n=n||new Set;let o=[];if(e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!n.has(e))if(n.add(e),Cn.isExternal$Ref(e))o.push(Tn(e,r,t,i));else for(let a of Object.keys(e)){let s=Du.join(r,a),l=e[a];Cn.isExternal$Ref(l)?o.push(Tn(l,s,t,i)):o=o.concat(It(l,s,t,i,n))}return o}async function Tn(e,r,t,i){let n=Ge.resolve(r,e.$ref),o=Ge.stripHash(n);if(e=t._$refs[o],e)return Promise.resolve(e.value);try{const a=await Mu(n,t,i);let s=It(a,o+"#",t,i);return Promise.all(s)}catch(a){if(!i.continueOnError||!Lu(a))throw a;return t._$refs[o]&&(a.source=Ge.stripHash(r),a.path=Ge.safePointerToPath(Ge.getHash(r))),[]}}const Hr=or,er=Yr,at=K.exports;var Bu=Hu;function Hu(e,r){let t=[];Dt(e,"schema",e.$refs._root$Ref.path+"#","#",0,t,e.$refs,r),Vu(t)}function Dt(e,r,t,i,n,o,a,s){let l=r===null?e:e[r];if(l&&typeof l=="object"&&!ArrayBuffer.isView(l))if(Hr.isAllowed$Ref(l))Fn(e,r,t,i,n,o,a,s);else{let u=Object.keys(l).sort((f,c)=>f==="definitions"?-1:c==="definitions"?1:f.length-c.length);for(let f of u){let c=er.join(t,f),d=er.join(i,f),h=l[f];Hr.isAllowed$Ref(h)?Fn(l,f,t,d,n,o,a,s):Dt(l,f,c,d,n,o,a,s)}}}function Fn(e,r,t,i,n,o,a,s){let l=r===null?e:e[r],u=at.resolve(t,l.$ref),f=a._resolve(u,i,s);if(f===null)return;let c=er.parse(i).length,d=at.stripHash(f.path),h=at.getHash(f.path),y=d!==a._root$Ref.path,b=Hr.isExtended$Ref(l);n+=f.indirections;let S=Yu(o,e,r);if(S)if(c<S.depth||n<S.indirections)Wu(o,S);else return;o.push({$ref:l,parent:e,key:r,pathFromRoot:i,depth:c,file:d,hash:h,value:f.value,circular:f.circular,extended:b,external:y,indirections:n}),S||Dt(f.value,null,f.path,i,n+1,o,a,s)}function Vu(e){e.sort((n,o)=>{if(n.file!==o.file)return n.file<o.file?-1:1;if(n.hash!==o.hash)return n.hash<o.hash?-1:1;if(n.circular!==o.circular)return n.circular?-1:1;if(n.extended!==o.extended)return n.extended?1:-1;if(n.indirections!==o.indirections)return n.indirections-o.indirections;if(n.depth!==o.depth)return n.depth-o.depth;{let a=n.pathFromRoot.lastIndexOf("/definitions"),s=o.pathFromRoot.lastIndexOf("/definitions");return a!==s?s-a:n.pathFromRoot.length-o.pathFromRoot.length}});let r,t,i;for(let n of e)n.external?n.file===r&&n.hash===t?n.$ref.$ref=i:n.file===r&&n.hash.indexOf(t+"/")===0?n.$ref.$ref=er.join(i,er.parse(n.hash.replace(t,"#"))):(r=n.file,t=n.hash,i=n.pathFromRoot,n.$ref=n.parent[n.key]=Hr.dereference(n.$ref,n.value),n.circular&&(n.$ref.$ref=n.pathFromRoot)):n.$ref.$ref=n.hash}function Yu(e,r,t){for(let i=0;i<e.length;i++){let n=e[i];if(n.parent===r&&n.key===t)return n}}function Wu(e,r){let t=e.indexOf(r);e.splice(t,1)}const bt=or,Pn=Yr,{ono:qu}=ke,zu=K.exports;var Gu=Ju;function Ju(e,r){let t=Mt(e.schema,e.$refs._root$Ref.path,"#",new Set,new Set,new Map,e.$refs,r);e.$refs.circular=t.circular,e.schema=t.value}function Mt(e,r,t,i,n,o,a,s){let l,u={value:e,circular:!1};if((s.dereference.circular==="ignore"||!n.has(e))&&e&&typeof e=="object"&&!ArrayBuffer.isView(e)){if(i.add(e),n.add(e),bt.isAllowed$Ref(e,s))l=Nn(e,r,t,i,n,o,a,s),u.circular=l.circular,u.value=l.value;else for(const f of Object.keys(e)){let c=Pn.join(r,f),d=Pn.join(t,f),h=e[f],y=!1;bt.isAllowed$Ref(h,s)?(l=Nn(h,c,d,i,n,o,a,s),y=l.circular,e[f]!==l.value&&(e[f]=l.value)):i.has(h)?y=Yi(c,a,s):(l=Mt(h,c,d,i,n,o,a,s),y=l.circular,e[f]!==l.value&&(e[f]=l.value)),u.circular=u.circular||y}i.delete(e)}return u}function Nn(e,r,t,i,n,o,a,s){let l=zu.resolve(r,e.$ref);const u=o.get(l);if(u){const b=Object.keys(e);if(b.length>1){const S={};for(let O of b)O!=="$ref"&&!(O in u.value)&&(S[O]=e[O]);return{circular:u.circular,value:Object.assign({},u.value,S)}}return u}let f=a._resolve(l,r,s);if(f===null)return{circular:!1,value:null};let c=f.circular,d=c||i.has(f.value);d&&Yi(r,a,s);let h=bt.dereference(e,f.value);if(!d){let b=Mt(h,f.path,t,i,n,o,a,s);d=b.circular,h=b.value}d&&!c&&s.dereference.circular==="ignore"&&(h=e),c&&(h.$ref=t);const y={circular:d,value:h};return Object.keys(e).length===1&&o.set(l,y),y}function Yi(e,r,t){if(r.circular=!0,!t.dereference.circular)throw qu.reference(`Circular $ref pointer found at ${e}`);return!0}var $n=Gt.process&&process.nextTick||Gt.setImmediate||function(e){setTimeout(e,0)},Ku=function(r,t){if(r){t.then(function(i){$n(function(){r(null,i)})},function(i){$n(function(){r(i)})});return}else return t};const Wi=ca,Xu=ui,Jr=ku,Qu=Uu,Zu=Bu,ec=Gu,Le=K.exports,{JSONParserError:rc,InvalidPointerError:tc,MissingPointerError:nc,ResolverError:ic,ParserError:oc,UnmatchedParserError:ac,UnmatchedResolverError:sc,isHandledError:lc,JSONParserErrorGroup:kn}=U,ne=Ku,{ono:In}=ke;de.exports=pe;de.exports.default=pe;de.exports.JSONParserError=rc;de.exports.InvalidPointerError=tc;de.exports.MissingPointerError=nc;de.exports.ResolverError=ic;de.exports.ParserError=oc;de.exports.UnmatchedParserError=ac;de.exports.UnmatchedResolverError=sc;function pe(){this.schema=null,this.$refs=new Wi}pe.parse=function(r,t,i,n){let o=this,a=new o;return a.parse.apply(a,arguments)};pe.prototype.parse=async function(r,t,i,n){let o=Jr(arguments),a;if(!o.path&&!o.schema){let u=In(`Expected a file path, URL, or object. Got ${o.path||o.schema}`);return ne(o.callback,Promise.reject(u))}this.schema=null,this.$refs=new Wi;let s="http";if(Le.isFileSystemPath(o.path)&&(o.path=Le.fromFileSystemPath(o.path),s="file"),o.path=Le.resolve(Le.cwd(),o.path),o.schema&&typeof o.schema=="object"){let u=this.$refs._add(o.path);u.value=o.schema,u.pathType=s,a=Promise.resolve(o.schema)}else a=Xu(o.path,this.$refs,o.options);let l=this;try{let u=await a;if(u!==null&&typeof u=="object"&&!Buffer.isBuffer(u))return l.schema=u,ne(o.callback,Promise.resolve(l.schema));if(o.options.continueOnError)return l.schema=null,ne(o.callback,Promise.resolve(l.schema));throw In.syntax(`"${l.$refs._root$Ref.path||u}" is not a valid JSON Schema`)}catch(u){return!o.options.continueOnError||!lc(u)?ne(o.callback,Promise.reject(u)):(this.$refs._$refs[Le.stripHash(o.path)]&&this.$refs._$refs[Le.stripHash(o.path)].addError(u),ne(o.callback,Promise.resolve(null)))}};pe.resolve=function(r,t,i,n){let o=this,a=new o;return a.resolve.apply(a,arguments)};pe.prototype.resolve=async function(r,t,i,n){let o=this,a=Jr(arguments);try{return await this.parse(a.path,a.schema,a.options),await Qu(o,a.options),Lt(o),ne(a.callback,Promise.resolve(o.$refs))}catch(s){return ne(a.callback,Promise.reject(s))}};pe.bundle=function(r,t,i,n){let o=this,a=new o;return a.bundle.apply(a,arguments)};pe.prototype.bundle=async function(r,t,i,n){let o=this,a=Jr(arguments);try{return await this.resolve(a.path,a.schema,a.options),Zu(o,a.options),Lt(o),ne(a.callback,Promise.resolve(o.schema))}catch(s){return ne(a.callback,Promise.reject(s))}};pe.dereference=function(r,t,i,n){let o=this,a=new o;return a.dereference.apply(a,arguments)};pe.prototype.dereference=async function(r,t,i,n){let o=this,a=Jr(arguments);try{return await this.resolve(a.path,a.schema,a.options),ec(o,a.options),Lt(o),ne(a.callback,Promise.resolve(o.schema))}catch(s){return ne(a.callback,Promise.reject(s))}};function Lt(e){if(kn.getParserErrors(e).length>0)throw new kn(e)}var uc=de.exports,ie={},ge={},dr={},Xe=typeof Symbol=="function"?Symbol("curriable placeholder"):60881;function cc(e,r){function t(i){return function(){var n=i.length,o=arguments,a=o.length,s=[],l=0,u=r,f;if(n)for(var c=-1;++c<n;)s[c]=f=i[c]===Xe&&l<a?o[l++]:i[c],f!==Xe&&--u;if(l<a)for(;l<a;)s[s.length]=f=o[l],f!==Xe&&l<r&&--u,++l;return u>0?t(s):e.apply(this,s)}}return t([])}function Ie(e,r){var t=typeof r=="number"?r:e.length,i=cc(e,t);return i.arity=t,i.fn=e,i}Ie.__=Xe;function fc(e){return e===Xe}Ie.isPlaceholder=fc;function dc(e){return e.fn}Ie.uncurry=dc;var vr,Sr,te,Ue,hc=typeof Buffer!="undefined"&&typeof Buffer.from=="function",pc=typeof Uint16Array=="function",mc=/\[object (HTML(.*)Element)\]/,gc=/\[object (SVG(.*)Element)\]/,yc=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"],ue=yc.reduce(function(e,r){return e["[object "+r+"]"]=r,e},{}),N=Object.keys(ue).reduce(function(e,r){return e[ue[r].toUpperCase()]=r,e},{}),vc={"[object Map]":!0,"[object Set]":!0},Sc={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},bc=(vr={},vr[N.ARGUMENTS]=!0,vr[N.ARRAY]=!0,vr),Ec=(Sr={},Sr[N.REGEXP]=!0,Sr[N.SYMBOL]=!0,Sr),wc=(te={},te[N.FLOAT32ARRAY]=!0,te[N.FLOAT64ARRAY]=!0,te[N.INT8ARRAY]=!0,te[N.INT16ARRAY]=!0,te[N.INT32ARRAY]=!0,te[N.UINT8ARRAY]=!0,te[N.UINT8CLAMPEDARRAY]=!0,te[N.UINT16ARRAY]=!0,te[N.UINT32ARRAY]=!0,te),_c=(Ue={},Ue[N.GENERATOR]=!0,Ue[N.PROMISE]=!0,Ue[N.WEAKMAP]=!0,Ue[N.WEAKSET]=!0,Ue),xc=/^\s*function\s*([^(]*)/i,qi=Object.prototype.toString,Ac=Object.keys;function Oc(e){return e.name||(e.toString().match(xc)||[])[1]||"anonymous"}function Rc(e){for(var r=e.length,t=5381,i=52711,n;r--;)n=e.charCodeAt(r),t=t*33^n,i=i*33^n;return(t>>>0)*4096+(i>>>0)}function Cc(e){return{bubbles:e.bubbles,cancelBubble:e.cancelBubble,cancelable:e.cancelable,composed:e.composed,currentTarget:e.currentTarget,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isTrusted:e.isTrusted,returnValue:e.returnValue,target:e.target,type:e.type}}function zi(e,r){return e>r}function Tc(e,r){return e[0]>r[0]}function Et(e,r){for(var t,i,n=0;n<e.length;++n){for(i=e[n],t=n-1;~t&&r(e[t],i);--t)e[t+1]=e[t];e[t+1]=i}return e}function Fc(e,r,t){var i=typeof e.get=="function",n=[];i?(e.forEach(function(u,f){n.push([Or(f,r,t),Or(u,r,t)])}),Et(n,Tc)):(e.forEach(function(u){n.push(Or(u,r,t))}),Et(n,zi));for(var o=Oc(e.constructor)+"|[",a=0,s=n.length,l;a<s;++a)l=n[a],o+=(a?",":"")+(i?"["+l[0]+","+l[1]+"]":l);return o+"]"}function Pc(e){for(var r=Et(Ac(e),zi),t={},i,n=0;n<r.length;++n)i=r[n],t[i]=e[i];return t}function Nc(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function $c(e){return Buffer.from(e).toString("utf8")}function kc(){return""}var Dn=function(){return hc?$c:pc?Nc:kc}();function Ic(e){for(var r=e.children,t="",i=0;i<r.length;++i)t+=r[i].outerHTML;return t}function Mn(e,r){for(var t=0;t<e.length;++t)if(e[t]===r)return t+1;return 0}function Vr(e,r,t,i){if(i===void 0){var n=typeof e;if(n==="string"||Sc[n])return n+"|"+e;if(e===null)return"null|"+e}var o=i||qi.call(e);return bc[o]?e:o===N.OBJECT?Pc(e):Ec[o]?ue[o]+"|"+e.toString():vc[o]?Fc(e,r,t):o===N.DATE?ue[o]+"|"+e.getTime():o===N.ERROR?ue[o]+"|"+e.stack:o===N.EVENT?Cc(e):_c[o]?ue[o]+"|NOT_ENUMERABLE":mc.test(o)||gc.test(o)?o.slice(8,-1)+"|"+e.outerHTML:o===N.DOCUMENTFRAGMENT?ue[o]+"|"+Ic(e):wc[o]?ue[o]+"|"+e.join(","):o===N.ARRAYBUFFER?ue[o]+"|"+Dn(e):o===N.DATAVIEW?ue[o]+"|"+Dn(e.buffer):e}function Dc(e,r){return e===void 0&&(e=[]),r===void 0&&(r=[]),function(t,i){if(typeof i=="object")if(e.length){var n=Mn(e,this);n===0?e.push(this):(e.splice(n),r.splice(n)),r.push(t);var o=Mn(e,i);if(o!==0)return"[~"+(r.slice(0,o).join(".")||".")+"]";e.push(i)}else e[0]=i,r[0]=t;return t&&this[t]instanceof Date?Vr(this[t],e,r,N.DATE):Vr(i,e,r)}}function Or(e,r,t){if(!e||typeof e!="object")return Vr(e,r,t);var i=qi.call(e);return i===N.DATE||i===N.REGEXP?Vr(e,r,t,i):JSON.stringify(e,Dc(r,t))}function ee(e){return Rc(Or(e))}ee.is=Ie(function(e,r){return ee(e)===ee(r)});ee.is.all=Ie(function(e){for(var r=ee.is(e),t=1;t<arguments.length;++t)if(!r(arguments[t]))return!1;return!0},2);ee.is.any=Ie(function(e){for(var r=ee.is(e),t=1;t<arguments.length;t++)if(r(arguments[t]))return!0;return!1},2);ee.is.not=Ie(function(e,r){return ee(e)!==ee(r)});var Mc=Object.freeze(Object.defineProperty({__proto__:null,hash:ee,default:ee},Symbol.toStringTag,{value:"Module"})),Lc=xt(Mc);Object.defineProperty(dr,"__esModule",{value:!0});var Uc=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),jc=Lc,Bc=Hc(jc);function Hc(e){return e&&e.__esModule?e:{default:e}}function Vc(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Ut=function(){function e(r,t,i){Vc(this,e),this.id=r;var n={cache:!0};if(typeof i=="undefined"&&(i=n),typeof t!="function"?(this.value=t,this.type=this.constructor.CONSTANT):(this.calculationMethod=t,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");if(typeof this.value=="undefined"&&typeof this.calculationMethod=="undefined")throw new Error("facts must have a value or method");return this.priority=parseInt(i.priority||1,10),this.options=Object.assign({},n,i),this.cacheKeyMethod=this.defaultCacheKeys,this}return Uc(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(t,i){return this.hasOwnProperty("value")?this.value:this.calculationMethod(t,i)}},{key:"defaultCacheKeys",value:function(t,i){return{params:i,id:t}}},{key:"getCacheKey",value:function(t){if(this.options.cache===!0){var i=this.cacheKeyMethod(this.id,t),n=e.hashFromObject(i);return n}}}],[{key:"hashFromObject",value:function(t){return(0,Bc.default)(t)}}]),e}();Ut.CONSTANT="CONSTANT";Ut.DYNAMIC="DYNAMIC";dr.default=Ut;var Kr={},jt={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.default=Yc;function Yc(e){(typeof process!="undefined"&&process.env&&{}.DEBUG&&{}.DEBUG.match(/json-rules-engine/)||typeof window!="undefined"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}function Wc(e){return!!e&&typeof e=="object"}var Gi=Wc;Object.defineProperty(jt,"__esModule",{value:!0});var qc=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),zc=qe,Gc=Ji(zc),Jc=Gi,Kc=Ji(Jc);function Ji(e){return e&&e.__esModule?e:{default:e}}function Xc(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var Qc=function(){function e(r){if(Xc(this,e),!r)throw new Error("Condition: constructor options required");var t=e.booleanOperator(r);if(Object.assign(this,r),t){var i=r[t];if(!Array.isArray(i))throw new Error('"'+t+'" must be an array');this.operator=t,this.priority=parseInt(r.priority,10)||1,this[t]=i.map(function(n){return new e(n)})}else{if(!r.hasOwnProperty("fact"))throw new Error('Condition: constructor "fact" property required');if(!r.hasOwnProperty("operator"))throw new Error('Condition: constructor "operator" property required');if(!r.hasOwnProperty("value"))throw new Error('Condition: constructor "value" property required');r.hasOwnProperty("priority")&&(r.priority=parseInt(r.priority,10))}}return qc(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={};this.priority&&(i.priority=this.priority);var n=e.booleanOperator(this);return n?i[n]=this[n].map(function(o){return o.toJSON(t)}):(i.operator=this.operator,i.value=this.value,i.fact=this.fact,this.factResult!==void 0&&(i.factResult=this.factResult),this.result!==void 0&&(i.result=this.result),this.params&&(i.params=this.params),this.path&&(i.path=this.path)),t?JSON.stringify(i):i}},{key:"_getValue",value:function(t){var i=this.value;return(0,Kc.default)(i)&&i.hasOwnProperty("fact")?t.factValue(i.fact,i.params,i.path):Promise.resolve(i)}},{key:"evaluate",value:function(t,i){var n=this;if(!t)return Promise.reject(new Error("almanac required"));if(!i)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var o=i.get(this.operator);return o?this._getValue(t).then(function(a){return t.factValue(n.fact,n.params,n.path).then(function(s){var l=o.evaluate(s,a);return(0,Gc.default)("condition::evaluate <"+s+" "+n.operator+" "+a+"?> ("+l+")"),{result:l,leftHandSideValue:s,rightHandSideValue:a,operator:n.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return e.booleanOperator(this)!==void 0}}],[{key:"booleanOperator",value:function(t){if(t.hasOwnProperty("any"))return"any";if(t.hasOwnProperty("all"))return"all"}}]),e}();jt.default=Qc;var Bt={},Ki={exports:{}};(function(e){var r=function(){function t(d,h){return h!=null&&d instanceof h}var i;try{i=Map}catch{i=function(){}}var n;try{n=Set}catch{n=function(){}}var o;try{o=Promise}catch{o=function(){}}function a(d,h,y,b,S){typeof h=="object"&&(y=h.depth,b=h.prototype,S=h.includeNonEnumerable,h=h.circular);var O=[],k=[],X=typeof Buffer!="undefined";typeof h=="undefined"&&(h=!0),typeof y=="undefined"&&(y=1/0);function M(w,I){if(w===null)return null;if(I===0)return w;var _,V;if(typeof w!="object")return w;if(t(w,i))_=new i;else if(t(w,n))_=new n;else if(t(w,o))_=new o(function(Se,J){w.then(function(Ce){Se(M(Ce,I-1))},function(Ce){J(M(Ce,I-1))})});else if(a.__isArray(w))_=[];else if(a.__isRegExp(w))_=new RegExp(w.source,c(w)),w.lastIndex&&(_.lastIndex=w.lastIndex);else if(a.__isDate(w))_=new Date(w.getTime());else{if(X&&Buffer.isBuffer(w))return Buffer.allocUnsafe?_=Buffer.allocUnsafe(w.length):_=new Buffer(w.length),w.copy(_),_;t(w,Error)?_=Object.create(w):typeof b=="undefined"?(V=Object.getPrototypeOf(w),_=Object.create(V)):(_=Object.create(b),V=b)}if(h){var se=O.indexOf(w);if(se!=-1)return k[se];O.push(w),k.push(_)}t(w,i)&&w.forEach(function(Se,J){var Ce=M(J,I-1),et=M(Se,I-1);_.set(Ce,et)}),t(w,n)&&w.forEach(function(Se){var J=M(Se,I-1);_.add(J)});for(var W in w){var ye;V&&(ye=Object.getOwnPropertyDescriptor(V,W)),!(ye&&ye.set==null)&&(_[W]=M(w[W],I-1))}if(Object.getOwnPropertySymbols)for(var pr=Object.getOwnPropertySymbols(w),W=0;W<pr.length;W++){var ve=pr[W],le=Object.getOwnPropertyDescriptor(w,ve);le&&!le.enumerable&&!S||(_[ve]=M(w[ve],I-1),le.enumerable||Object.defineProperty(_,ve,{enumerable:!1}))}if(S)for(var mr=Object.getOwnPropertyNames(w),W=0;W<mr.length;W++){var De=mr[W],le=Object.getOwnPropertyDescriptor(w,De);le&&le.enumerable||(_[De]=M(w[De],I-1),Object.defineProperty(_,De,{enumerable:!1}))}return _}return M(d,y)}a.clonePrototype=function(h){if(h===null)return null;var y=function(){};return y.prototype=h,new y};function s(d){return Object.prototype.toString.call(d)}a.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}a.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}a.__isArray=u;function f(d){return typeof d=="object"&&s(d)==="[object RegExp]"}a.__isRegExp=f;function c(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return a.__getRegExpFlags=c,a}();e.exports&&(e.exports=r)})(Ki);Object.defineProperty(Bt,"__esModule",{value:!0});var Zc=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),ef=Ki.exports,br=rf(ef);function rf(e){return e&&e.__esModule?e:{default:e}}function tf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var nf=function(){function e(r,t,i,n){tf(this,e),this.conditions=(0,br.default)(r),this.event=(0,br.default)(t),this.priority=(0,br.default)(i),this.name=(0,br.default)(n),this.result=null}return Zc(e,[{key:"setResult",value:function(t){this.result=t}},{key:"toJSON",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return t?JSON.stringify(i):i}}]),e}();Bt.default=nf;Object.defineProperty(Kr,"__esModule",{value:!0});var of=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),af=jt,sf=Ht(af),lf=Bt,uf=Ht(lf),cf=Gn.exports,ff=qe,st=Ht(ff);function Ht(e){return e&&e.__esModule?e:{default:e}}function df(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hf(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:e}function pf(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var mf=function(e){pf(r,e);function r(t){df(this,r);var i=hf(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));typeof t=="string"&&(t=JSON.parse(t)),t&&t.conditions&&i.setConditions(t.conditions),t&&t.onSuccess&&i.on("success",t.onSuccess),t&&t.onFailure&&i.on("failure",t.onFailure),t&&(t.name||t.name===0)&&i.setName(t.name);var n=t&&t.priority||1;i.setPriority(n);var o=t&&t.event||{type:"unknown"};return i.setEvent(o),i}return of(r,[{key:"setPriority",value:function(i){if(i=parseInt(i,10),i<=0)throw new Error("Priority must be greater than zero");return this.priority=i,this}},{key:"setName",value:function(i){if(!i&&i!==0)throw new Error('Rule "name" must be defined');return this.name=i,this}},{key:"setConditions",value:function(i){if(!i.hasOwnProperty("all")&&!i.hasOwnProperty("any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new sf.default(i),this}},{key:"setEvent",value:function(i){if(!i)throw new Error("Rule: setEvent() requires event object");if(!i.hasOwnProperty("type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:i.type},i.params&&(this.event.params=i.params),this}},{key:"setEngine",value:function(i){return this.engine=i,this}},{key:"toJSON",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return i?JSON.stringify(n):n}},{key:"prioritizeConditions",value:function(i){var n=this,o=i.reduce(function(a,s){var l=s.priority;if(!l){var u=n.engine.getFact(s.fact);l=u&&u.priority||1}return a[l]||(a[l]=[]),a[l].push(s),a},{});return Object.keys(o).sort(function(a,s){return Number(a)>Number(s)?-1:1}).map(function(a){return o[a]})}},{key:"evaluate",value:function(i){var n=this,o=new uf.default(this.conditions,this.event,this.priority,this.name),a=function(h){if(h.isBooleanOperator()){var y=h[h.operator],b=void 0;return h.operator==="all"?b=f(y):b=u(y),b.then(function(S){var O=S===!0;return h.result=O,O})}else return h.evaluate(i,n.engine.operators).then(function(S){var O=S.result;return h.factResult=S.leftHandSideValue,h.result=O,O})},s=function(h,y){return Array.isArray(h)||(h=[h]),Promise.all(h.map(function(b){return a(b)})).then(function(b){return(0,st.default)("rule::evaluateConditions results",b),y.call(b,function(S){return S===!0})})},l=function(h,y){if(h.length===0)return Promise.resolve(!0);var b=Array.prototype.some;y==="all"&&(b=Array.prototype.every);for(var S=n.prioritizeConditions(h),O=Promise.resolve(),k=function(w){var I=S[w],_=!1;O=O.then(function(V){return y==="any"&&V===!0||_?((0,st.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),_=!0,!0):y==="all"&&V===!1||_?((0,st.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),_=!0,!1):s(I,b)})},X=0;X<S.length;X++)k(X);return O},u=function(h){return l(h,"any")},f=function(h){return l(h,"all")},c=function(h){return o.setResult(h),h?n.emit("success",o.event,i,o):n.emit("failure",o.event,i,o),o};return o.conditions.any?u(o.conditions.any).then(function(d){return c(d)}):f(o.conditions.all).then(function(d){return c(d)})}}]),r}(cf.EventEmitter);Kr.default=mf;var hr={};Object.defineProperty(hr,"__esModule",{value:!0});var gf=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}();function yf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var vf=function(){function e(r,t,i){if(yf(this,e),this.name=String(r),!r)throw new Error("Missing operator name");if(typeof t!="function")throw new Error("Missing operator callback");this.cb=t,this.factValueValidator=i,this.factValueValidator||(this.factValueValidator=function(){return!0})}return gf(e,[{key:"evaluate",value:function(t,i){return this.factValueValidator(t)&&this.cb(t,i)}}]),e}();hr.default=vf;var Vt={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});function Sf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bf(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:e}function Ef(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Yt.UndefinedFactError=function(e){Ef(r,e);function r(){var t;Sf(this,r);for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];var a=bf(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(n)));return a.code="UNDEFINED_FACT",a}return r}(Error);var wf=function(e){var r=this,t;if(arguments.length<2)t=function(){if(this instanceof t){var o=r.apply(this,arguments);return Object(o)===o?o:this}else return r.apply(e,arguments)};else{for(var i=new Array(arguments.length-1),n=1;n<arguments.length;n++)i[n-1]=arguments[n];t=function(){var o=i.length,a=new Array(o+arguments.length),s;for(s=0;s<o;s++)a[s]=i[s];for(s=0;s<arguments.length;s++)a[o+s]=arguments[s];if(this instanceof t){var l=r.apply(this,a);return Object(l)===l?l:this}else return r.apply(e,a)}}return t.prototype=r.prototype,t};/*!
 * imports.
 */var _f=Function.prototype.bind||wf;/*!
 * exports.
 */var xf=Af;function Af(e,r){var t=function(){return arguments.length===0?t:arguments.length>1?e.apply(r,arguments):_f.call(e,r,arguments[0])};return t.uncurry=function(){return e},t}var wt={exports:{}},_t={exports:{}},rr=1e3,tr=rr*60,nr=tr*60,ir=nr*24,Of=ir*365.25,Rf=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return Cf(e);if(t==="number"&&isNaN(e)===!1)return r.long?Ff(e):Tf(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Cf(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!r){var t=parseFloat(r[1]),i=(r[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*Of;case"days":case"day":case"d":return t*ir;case"hours":case"hour":case"hrs":case"hr":case"h":return t*nr;case"minutes":case"minute":case"mins":case"min":case"m":return t*tr;case"seconds":case"second":case"secs":case"sec":case"s":return t*rr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Tf(e){return e>=ir?Math.round(e/ir)+"d":e>=nr?Math.round(e/nr)+"h":e>=tr?Math.round(e/tr)+"m":e>=rr?Math.round(e/rr)+"s":e+"ms"}function Ff(e){return Er(e,ir,"day")||Er(e,nr,"hour")||Er(e,tr,"minute")||Er(e,rr,"second")||e+" ms"}function Er(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}(function(e,r){r=e.exports=n.debug=n.default=n,r.coerce=l,r.disable=a,r.enable=o,r.enabled=s,r.humanize=Rf,r.names=[],r.skips=[],r.formatters={};var t;function i(u){var f=0,c;for(c in u)f=(f<<5)-f+u.charCodeAt(c),f|=0;return r.colors[Math.abs(f)%r.colors.length]}function n(u){function f(){if(!!f.enabled){var c=f,d=+new Date,h=d-(t||d);c.diff=h,c.prev=t,c.curr=d,t=d;for(var y=new Array(arguments.length),b=0;b<y.length;b++)y[b]=arguments[b];y[0]=r.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var S=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(k,X){if(k==="%%")return k;S++;var M=r.formatters[X];if(typeof M=="function"){var w=y[S];k=M.call(c,w),y.splice(S,1),S--}return k}),r.formatArgs.call(c,y);var O=f.log||r.log||console.log.bind(console);O.apply(c,y)}}return f.namespace=u,f.enabled=r.enabled(u),f.useColors=r.useColors(),f.color=i(u),typeof r.init=="function"&&r.init(f),f}function o(u){r.save(u),r.names=[],r.skips=[];for(var f=(typeof u=="string"?u:"").split(/[\s,]+/),c=f.length,d=0;d<c;d++)!f[d]||(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function a(){r.enable("")}function s(u){var f,c;for(f=0,c=r.skips.length;f<c;f++)if(r.skips[f].test(u))return!1;for(f=0,c=r.names.length;f<c;f++)if(r.names[f].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(_t,_t.exports);(function(e,r){r=e.exports=_t.exports,r.log=n,r.formatArgs=i,r.save=o,r.load=a,r.useColors=t,r.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:s(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function t(){return typeof window!="undefined"&&window.process&&window.process.type==="renderer"?!0:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function i(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+r.humanize(this.diff),!!u){var f="color: "+this.color;l.splice(1,0,f,"color: inherit");var c=0,d=0;l[0].replace(/%[a-zA-Z%]/g,function(h){h!=="%%"&&(c++,h==="%c"&&(d=c))}),l.splice(d,0,f)}}function n(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(l){try{l==null?r.storage.removeItem("debug"):r.storage.debug=l}catch{}}function a(){var l;try{l=r.storage.debug}catch{}return!l&&typeof process!="undefined"&&"env"in process&&(l={}.DEBUG),l}r.enable(a());function s(){try{return window.localStorage}catch{}}})(wt,wt.exports);/*!
 * exports.
 */var Pf=kf;/*!
 * regexp patterns.
 */var Nf=/\[([^\[\]]+)\]/g,$f=/^[.]*|[.]*$/g;function kf(e){return{}.toString.call(e)=="[object String]"?e.replace(Nf,".$1").replace($f,""):""}var If=Object.prototype.toString;function Df(e){for(var r=-1,t=Lf(Mf(e).split(".")),i=t.length,n=[];++r<i;)n.push(Uf(t[r]));return n}function Mf(e){return(If.call(e)==="[object String]"?e:"").replace(/\\\./g,"\uFFFF")}function Lf(e){for(var r=-1,t=e.length,i=[];++r<t;)e[r]&&i.push(e[r]);return i}function Uf(e){return e.replace(/\uffff/g,".")}/*!
 * exports.
 */var jf=Df,Bf=xf,Ln=wt.exports("selectn"),Hf=Pf,Vf=jf,Yf=Object.prototype.toString,Wf=Bf(qf);function qf(e,r){Ln("arguments:",{path:e,object:r});for(var t=-1,i=Yf.call(e)==="[object Array]"?e:Vf(Hf(e)),n=i.length,o=n?r:void 0;++t<n;){if(Object(o)!==o)return;o=o[i[t]]}return Ln("ref:",o),typeof o=="function"?o():o}Object.defineProperty(Vt,"__esModule",{value:!0});var Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),Gf=dr,lt=Xr(Gf),Jf=Yt,Kf=qe,Je=Xr(Kf),Xf=Wf,Qf=Xr(Xf),Zf=Gi,ed=Xr(Zf);function Xr(e){return e&&e.__esModule?e:{default:e}}function rd(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var td=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};rd(this,e),this.factMap=new Map(r),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(i.allowUndefinedFacts);for(var n in t){var o=void 0;t[n]instanceof lt.default?o=t[n]:o=new lt.default(n,t[n]),this._addConstantFact(o),(0,Je.default)("almanac::constructor initialized runtime fact:"+o.id+" with "+o.value+"<"+Un(o.value)+">")}}return zf(e,[{key:"_getFact",value:function(t){return this.factMap.get(t)}},{key:"_addConstantFact",value:function(t){this.factMap.set(t.id,t),this._setFactValue(t,{},t.value)}},{key:"_setFactValue",value:function(t,i,n){var o=t.getCacheKey(i),a=Promise.resolve(n);return o&&this.factResultsCache.set(o,a),a}},{key:"addRuntimeFact",value:function(t,i){var n=new lt.default(t,i);return this._addConstantFact(n)}},{key:"factValue",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=void 0,a=this._getFact(t);if(a===void 0)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new Jf.UndefinedFactError("Undefined fact: "+t));if(a.isConstant())o=Promise.resolve(a.calculate(i,this));else{var s=a.getCacheKey(i),l=s&&this.factResultsCache.get(s);l?(o=Promise.resolve(l),(0,Je.default)("almanac::factValue cache hit for fact:"+t)):((0,Je.default)("almanac::factValue cache miss for fact:"+t+"; calculating"),o=this._setFactValue(a,i,a.calculate(i,this)))}return n?o.then(function(u){if((0,ed.default)(u)){var f=(0,Qf.default)(n)(u);return(0,Je.default)("condition::evaluate extracting object property "+n+", received: "+f),f}else return(0,Je.default)("condition::evaluate could not compute object path("+n+") of non-object: "+u+" <"+(typeof u=="undefined"?"undefined":Un(u))+">; continuing with "+u),u}):o}}]),e}();Vt.default=td;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});var nd=function(){var r=[];return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.event&&r.push(t.event),r}};Wt.SuccessEventFact=nd;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});var id=hr,me=od(id);function od(e){return e&&e.__esModule?e:{default:e}}var ae=[];ae.push(new me.default("equal",function(e,r){return e===r}));ae.push(new me.default("notEqual",function(e,r){return e!==r}));ae.push(new me.default("in",function(e,r){return r.indexOf(e)>-1}));ae.push(new me.default("notIn",function(e,r){return r.indexOf(e)===-1}));ae.push(new me.default("contains",function(e,r){return e.indexOf(r)>-1},Array.isArray));ae.push(new me.default("doesNotContain",function(e,r){return e.indexOf(r)===-1},Array.isArray));function Qr(e){return Number.parseFloat(e).toString()!=="NaN"}ae.push(new me.default("lessThan",function(e,r){return e<r},Qr));ae.push(new me.default("lessThanInclusive",function(e,r){return e<=r},Qr));ae.push(new me.default("greaterThan",function(e,r){return e>r},Qr));ae.push(new me.default("greaterThanInclusive",function(e,r){return e>=r},Qr));qt.default=ae;Object.defineProperty(ge,"__esModule",{value:!0});ge.FINISHED=ge.RUNNING=ge.READY=void 0;var ad=function(){function e(r,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),sd=dr,wr=ze(sd),ld=Kr,ut=ze(ld),ud=hr,ct=ze(ud),cd=Vt,fd=ze(cd),dd=Gn.exports,hd=Wt,pd=qt,md=ze(pd),gd=qe,Te=ze(gd);function ze(e){return e&&e.__esModule?e:{default:e}}function yd(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vd(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:e}function Sd(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var bd=ge.READY="READY",jn=ge.RUNNING="RUNNING",Bn=ge.FINISHED="FINISHED",Ed=function(e){Sd(r,e);function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yd(this,r);var n=vd(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.rules=[],n.allowUndefinedFacts=i.allowUndefinedFacts||!1,n.operators=new Map,n.facts=new Map,n.status=bd,t.map(function(o){return n.addRule(o)}),md.default.map(function(o){return n.addOperator(o)}),n}return ad(r,[{key:"addRule",value:function(i){if(!i)throw new Error("Engine: addRule() requires options");if(!i.hasOwnProperty("conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!i.hasOwnProperty("event"))throw new Error('Engine: addRule() argument requires "event" property');var n=void 0;return i instanceof ut.default?n=i:n=new ut.default(i),n.setEngine(this),this.rules.push(n),this.prioritizedRules=null,this}},{key:"removeRule",value:function(i){if(!(i instanceof ut.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var n=this.rules.indexOf(i);return n===-1?!1:(this.prioritizedRules=null,Boolean(this.rules.splice(n,1).length))}},{key:"addOperator",value:function(i,n){var o=void 0;i instanceof ct.default?o=i:o=new ct.default(i,n),(0,Te.default)("engine::addOperator name:"+o.name),this.operators.set(o.name,o)}},{key:"removeOperator",value:function(i){var n=void 0;return i instanceof ct.default?n=i.name:n=i,this.operators.delete(n)}},{key:"addFact",value:function(i,n,o){var a=i,s=void 0;return i instanceof wr.default?(a=i.id,s=i):s=new wr.default(i,n,o),(0,Te.default)("engine::addFact id:"+a),this.facts.set(a,s),this}},{key:"removeFact",value:function(i){var n=void 0;return i instanceof wr.default?n=i.id:n=i,this.facts.delete(n)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var i=this.rules.reduce(function(n,o){var a=o.priority;return n[a]||(n[a]=[]),n[a].push(o),n},{});this.prioritizedRules=Object.keys(i).sort(function(n,o){return Number(n)>Number(o)?-1:1}).map(function(n){return i[n]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=Bn,this}},{key:"getFact",value:function(i){return this.facts.get(i)}},{key:"evaluateRules",value:function(i,n){var o=this;return Promise.all(i.map(function(a){if(o.status!==jn){(0,Te.default)("engine::run status:"+o.status+"; skipping remaining rules");return}return a.evaluate(n).then(function(s){(0,Te.default)("engine::run ruleResult:"+s.result),s.result?(o.emit("success",a.event,n,s),o.emit(a.event.type,a.event.params,n,s),n.factValue("success-events",{event:a.event})):o.emit("failure",a.event,n,s)})}))}},{key:"run",value:function(){var i=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,Te.default)("engine::run started"),(0,Te.default)("engine::run runtimeFacts:",n),n["success-events"]=new wr.default("success-events",(0,hd.SuccessEventFact)(),{cache:!1}),this.status=jn;var o=new fd.default(this.facts,n,{allowUndefinedFacts:this.allowUndefinedFacts}),a=this.prioritizeRules(),s=Promise.resolve();return new Promise(function(l,u){a.map(function(f){return s=s.then(function(){return i.evaluateRules(f,o)}).catch(u),s}),s.then(function(){return i.status=Bn,(0,Te.default)("engine::run completed"),o.factValue("success-events")}).then(function(f){l({events:f,almanac:o})}).catch(u)})}}]),r}(dd.EventEmitter);ge.default=Ed;Object.defineProperty(ie,"__esModule",{value:!0});ie.Engine=ie.Operator=ie.Rule=ie.Fact=void 0;ie.default=function(e,r){return new Xi.default(e,r)};var wd=ge,Xi=Zr(wd),_d=dr,xd=Zr(_d),Ad=Kr,Od=Zr(Ad),Rd=hr,Cd=Zr(Rd);function Zr(e){return e&&e.__esModule?e:{default:e}}ie.Fact=xd.default;ie.Rule=Od.default;ie.Operator=Cd.default;ie.Engine=Xi.default;var Hn=ie,Z=(e=>(e[e.TODO=0]="TODO",e[e.PROGRESS=1]="PROGRESS",e[e.COMPLETED=2]="COMPLETED",e[e.EXCLUDED=3]="EXCLUDED",e[e.ERROR=4]="ERROR",e))(Z||{}),B=(e=>(e[e.PREVIOUS=0]="PREVIOUS",e[e.NEXT=1]="NEXT",e[e.GO_TO_STEP=2]="GO_TO_STEP",e[e.SAVE=3]="SAVE",e[e.SUBMIT=4]="SUBMIT",e[e.VALIDATE=5]="VALIDATE",e[e.NONE=6]="NONE",e))(B||{}),Y=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.ERROR=1]="ERROR",e[e.SAVE_SUCCESS=2]="SAVE_SUCCESS",e[e.SUBMIT_SUCCESS=3]="SUBMIT_SUCCESS",e[e.ERROR_CRITICAL=4]="ERROR_CRITICAL",e))(Y||{});function Rr(e){let r=g(j,{});return e.isSubmitted?r=g("div",{children:"Your information has been submitted"}):e.bodyText&&(r=g("div",{dangerouslySetInnerHTML:{__html:e.bodyText}})),P("div",{className:`submission-header${e.isSubmitted?" submitted":""}`,children:[g("h2",{children:e.title}),r,g("hr",{})]})}try{Rr.displayName="Header",Rr.__docgenInfo={description:"",displayName:"Header",props:{isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}},bodyText:{defaultValue:null,description:"",name:"bodyText",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/Header.tsx#Header"]={docgenInfo:Rr.__docgenInfo,name:"Header",path:"src/lib/containers/synapse_form_wrapper/Header.tsx#Header"})}catch{}function Cr(e){const r=e.stepList.filter(o=>o.child!==!0),t=(o,a,s,l)=>{let u="circle";return s||l?{iconDef:u}:(a?u="block":o===Z.COMPLETED?u="checkCircle":o===Z.ERROR&&(u="errorOutlined"),{iconDef:u})},i=(o,a=!1)=>{let s="item";return o&&(s=`${s} pointed `),a&&(s=`${s} static`),s},n=(o,a,s=!1)=>{if(!o||o.child&&!s)return g(j,{});const l=(c,d,h)=>!c.inProgress&&(!d||!!c.final)?g("button",{className:"btn btn-link",onClick:()=>h(c),children:c.title}):g("span",{children:c.title}),u=t(o.state,o.excluded,o.static,o.final),f=i(o.inProgress,o.static);return P("div",{className:f,children:[g(Ir,{options:{icon:u.iconDef}}),l(o,a,e.onStepChange)]})};return g("div",{className:"SRC-menuLayout json-forms-menu",style:{flex:"1"},children:g("ul",{children:r.map((o,a)=>P("li",{className:"item-wrap",children:[n(o,!!e.isWizardMode),o.children&&o.children.length>0&&g("div",{className:"subMenu",children:g("ul",{children:o.children&&o.children.map((s,l)=>{const u=e.stepList.find(f=>f.id===s);return typeof u=="undefined"?g(j,{}):g("li",{className:"item-wrap",children:n(u,!!e.isWizardMode,!0)},l+s)})})})]},a+o.id))})})}try{Cr.displayName="StepsSideNav",Cr.__docgenInfo={description:"",displayName:"StepsSideNav",props:{stepList:{defaultValue:null,description:"",name:"stepList",required:!0,type:{name:"Step[]"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"Function"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/StepsSideNav.tsx#StepsSideNav"]={docgenInfo:Cr.__docgenInfo,name:"StepsSideNav",path:"src/lib/containers/synapse_form_wrapper/StepsSideNav.tsx#StepsSideNav"})}catch{}function Tr(e){const t=(o=>o.isWizardMode?o.previousStepIds&&o.previousStepIds.length>0:o.steps.findIndex(a=>a.id===o.currentStep.id)>0)(e)?g("button",{type:"button",onClick:o=>e.onNavAction(B.PREVIOUS),className:"btn btn-link nav-link prev",children:g(Ir,{options:{icon:"chevronLeft"}})}):g(j,{}),i=e.currentStep.final?g(j,{}):g("button",{type:"button",onClick:o=>e.onNavAction(B.NEXT),className:"btn btn-link nav-link next",children:g(Ir,{options:{icon:"chevronRight"}})}),n=g("button",{type:"button",className:"btn btn-action save",disabled:e.isFormSubmitted,onClick:o=>e.onNavAction(B.SAVE),children:"SAVE"});return P("div",{children:[g("hr",{}),P("div",{className:"buttonWrapper pull-right",children:[t," ",i," ",n]})]})}function Fr(e){const r=e.steps.find(t=>t.id===e.nextStepId);return typeof r=="undefined"?g(j,{}):P("span",{className:"nav-link",children:[g("a",{onClick:t=>e.onNavAction(r),children:r.title}),g(Ir,{options:{icon:"chevronRight"}})]})}try{Tr.displayName="NavButtons",Tr.__docgenInfo={description:"",displayName:"NavButtons",props:{isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},previousStepIds:{defaultValue:null,description:"",name:"previousStepIds",required:!0,type:{name:"string[]"}},onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"Step"}},isFormSubmitted:{defaultValue:null,description:"",name:"isFormSubmitted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NavButtons"]={docgenInfo:Tr.__docgenInfo,name:"NavButtons",path:"src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NavButtons"})}catch{}try{Fr.displayName="NextStepLink",Fr.__docgenInfo={description:"",displayName:"NextStepLink",props:{onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},nextStepId:{defaultValue:null,description:"",name:"nextStepId",required:!0,type:{name:"string | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NextStepLink"]={docgenInfo:Fr.__docgenInfo,name:"NextStepLink",path:"src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NextStepLink"})}catch{}function Pr(e){const r=P("div",{children:[g("h6",{children:"Data"}),g("pre",{children:JSON.stringify(e.formData,null,2)})]});return g(j,{children:!e.hidden&&r})}try{Pr.displayName="DataDebug",Pr.__docgenInfo={description:"",displayName:"DataDebug",props:{formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/DataDebug.tsx#DataDebug"]={docgenInfo:Pr.__docgenInfo,name:"DataDebug",path:"src/lib/containers/synapse_form_wrapper/DataDebug.tsx#DataDebug"})}catch{}function Td(e,r,t){const i=/\[\d+\]\./g,n=/\.(\d)+/g;e=e.replace(n,"[$1]");const a=`${e.split(".").join(".properties.")}.title`,s=`${e}.ui:title`,l=a.replace(i,".items."),u=s.replace(i,".items."),f=a.match(i);let c=yo(f);c&&(c=c.substring(1,c.length-2),c=isNaN(parseInt(c))?"":parseInt(c)+1+"");const d=je(t,s)||je(r.properties,a)||je(t,u)||je(r.properties,l)||`${l}`;return`${c?"["+c+"] ":""}${d}`}function Fd(e,r,t,i){function n(l,u,f){const c=".";return Object.keys(l).forEach(d=>{if(l[d]===null)u[f+d]="";else if(Xt(l[d])&&!Kt(l[d]))for(const h in l[d])if(Xt(l[d][h])||Qt(l[d])&&!Kt(l[d][h]))n(l[d][h],u,`${f}${d}[${h}]${c}`);else{let y=u[`${f}${d}`];y=y?y+", ":"",u[`${f}${d}`]=y+l[d][h]}else Qt(l[d])&&!vo(l[d])?n(l[d],u,`${f}${d}${c}`):u[f+d]=l[d]}),u}const o=n(Jn(e),[],"");return mo(o).map(l=>{let u=o[l];o[l]===!1&&(u="false"),o[l]===!0&&(u="true");const f=l.indexOf(".");return{screen:go(r,{id:l.substring(0,f)}),label:Td(l,t,i),value:u}}).filter(l=>l.label.indexOf(".properties.included.title")===-1).filter(l=>l.screen&&typeof l.value!="undefined").map(l=>({label:l.label,value:l.value,screen:l.screen})).sort((l,u)=>l.screen.order-u.screen.order)}function Nr(e){let r=[];r=Fd(Jn(e.formData),e.steps,e.schema,e.uiSchema);let t="";const i=P(j,{children:[g("table",{className:"table summary-table-header",children:g("thead",{children:P("tr",{children:[g("th",{children:"Step"}),g("th",{children:"Label"}),g("th",{children:"Value"})]})})}),g("div",{className:"scroll-area table-body",children:g("table",{className:"table summary-table",children:g("tbody",{children:r.map((n,o)=>P("tr",{children:[g("td",{children:t!==n.screen.id&&(t=n.screen.id)&&g("span",{children:n.screen.title})}),g("td",{children:n.label}),g("td",{children:n.value})]},o+n.screen.id+n.label))})})})]});return P(j,{children:[g("p",{className:"step-exclude-directions",children:"Below is all of the data you have entered. Before submitting, click 'Validate' to ensure that all of the required data has been entered."}),g("button",{className:"nav-link pull-right",onClick:()=>window.print(),children:"Print this data"}),g("div",{className:"panel panel-default padding-full wrap",children:g("div",{className:"summary scroll-area",children:i})})]})}try{Nr.displayName="SummaryTable",Nr.__docgenInfo={description:"",displayName:"SummaryTable",props:{isWizard:{defaultValue:null,description:"",name:"isWizard",required:!1,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SummaryTable.tsx#SummaryTable"]={docgenInfo:Nr.__docgenInfo,name:"SummaryTable",path:"src/lib/containers/synapse_form_wrapper/SummaryTable.tsx#SummaryTable"})}catch{}var Qi={exports:{}},zt={},Zi=xt(po),Ee=Zi.jsx,Vn=Zi.jsxs;Object.defineProperty(zt,"__esModule",{value:!0});var Pd=window.React,Nd=Ee("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0},children:Ee("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})}),$d=Ee("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0},children:Ee("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"})});function kd(e,r,t,i,n){var o=(e-t)/(r-t);if(o===0)return i;if(o===1)return n;for(var a="#",s=1;s<6;s+=2){var l=parseInt(i.substr(s,2),16),u=parseInt(n.substr(s,2),16),f=Math.round((1-o)*l+o*u).toString(16);f.length===1&&(f="0"+f),a+=f}return a}function Yn(e){if(e.length===7)return e;for(var r="#",t=1;t<4;t+=1)r+=e[t]+e[t];return r}function Wn(e,r,t,i,n){return kd(e,r,t,Yn(i),Yn(n))}function Id(e,r){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)===-1&&(t[i]=e[i]);return t}var qn=function(e){function r(t){e.call(this,t);var i=t.height,n=t.width,o=t.checked;this.t=t.handleDiameter||i-2,this.i=Math.max(n-i,n-(i+this.t)/2),this.o=Math.max(0,(i-this.t)/2),this.state={s:o?this.i:this.o},this.n=0,this.e=0,this.h=this.h.bind(this),this.r=this.r.bind(this),this.a=this.a.bind(this),this.c=this.c.bind(this),this.l=this.l.bind(this),this.u=this.u.bind(this),this.f=this.f.bind(this),this.p=this.p.bind(this),this.b=this.b.bind(this),this.g=this.g.bind(this),this.v=this.v.bind(this),this.w=this.w.bind(this)}return e&&(r.__proto__=e),((r.prototype=Object.create(e&&e.prototype)).constructor=r).prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({s:this.props.checked?this.i:this.o})},r.prototype.k=function(t){this.y.focus(),this.setState({C:t,M:!0,m:Date.now()})},r.prototype.x=function(t){var i=this.state,n=i.C,o=i.s,a=(this.props.checked?this.i:this.o)+t-n;i.R||t===n||this.setState({R:!0});var s=Math.min(this.i,Math.max(this.o,a));s!==o&&this.setState({s})},r.prototype.S=function(t){var i=this.state,n=i.s,o=i.R,a=i.m,s=this.props.checked,l=(this.i+this.o)/2,u=Date.now()-a;!o||u<250?this.T(t):s?l<n?this.setState({s:this.i}):this.T(t):n<l?this.setState({s:this.o}):this.T(t),this.setState({R:!1,M:!1}),this.n=Date.now()},r.prototype.h=function(t){t.preventDefault(),typeof t.button=="number"&&t.button!==0||(this.k(t.clientX),window.addEventListener("mousemove",this.r),window.addEventListener("mouseup",this.a))},r.prototype.r=function(t){t.preventDefault(),this.x(t.clientX)},r.prototype.a=function(t){this.S(t),window.removeEventListener("mousemove",this.r),window.removeEventListener("mouseup",this.a)},r.prototype.c=function(t){this.$=null,this.k(t.touches[0].clientX)},r.prototype.l=function(t){this.x(t.touches[0].clientX)},r.prototype.u=function(t){t.preventDefault(),this.S(t)},r.prototype.p=function(t){50<Date.now()-this.n&&(this.T(t),50<Date.now()-this.e&&this.setState({M:!1}))},r.prototype.b=function(){this.e=Date.now()},r.prototype.g=function(){this.setState({M:!0})},r.prototype.v=function(){this.setState({M:!1})},r.prototype.w=function(t){this.y=t},r.prototype.f=function(t){t.preventDefault(),this.y.focus(),this.T(t),this.setState({M:!1})},r.prototype.T=function(t){var i=this.props;(0,i.onChange)(!i.checked,t,i.id)},r.prototype.render=function(){var t=this.props,i=t.disabled,n=t.className,o=t.offColor,a=t.onColor,s=t.offHandleColor,l=t.onHandleColor,u=t.checkedIcon,f=t.uncheckedIcon,c=t.boxShadow,d=t.activeBoxShadow,h=t.height,y=t.width,b=Id(t,["disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","boxShadow","activeBoxShadow","height","width","handleDiameter"]),S=this.state,O=S.s,k=S.R,X=S.M,M={position:"relative",display:"inline-block",textAlign:"left",opacity:i?.5:1,direction:"ltr",borderRadius:h/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},w={height:h,width:y,margin:Math.max(0,(this.t-h)/2),position:"relative",background:Wn(O,this.i,this.o,o,a),borderRadius:h/2,cursor:i?"default":"pointer",WebkitTransition:k?null:"background 0.25s",MozTransition:k?null:"background 0.25s",transition:k?null:"background 0.25s"},I={height:h,width:Math.min(1.5*h,y-(this.t+h)/2+1),position:"relative",opacity:(O-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},_={height:h,width:Math.min(1.5*h,y-(this.t+h)/2+1),position:"absolute",opacity:1-(O-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},V={height:this.t,width:this.t,background:Wn(O,this.i,this.o,s,l),display:"inline-block",cursor:i?"default":"pointer",borderRadius:"50%",position:"absolute",transform:"translateX("+O+"px)",top:Math.max(0,(h-this.t)/2),outline:0,boxShadow:X?d:c,border:0,WebkitTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};return Vn("div",{className:n,style:M,children:[Vn("div",{className:"react-switch-bg",style:w,onClick:i?null:this.f,onMouseDown:function(se){return se.preventDefault()},children:[u&&Ee("div",{style:I,children:u}),f&&Ee("div",{style:_,children:f})]}),Ee("div",{className:"react-switch-handle",style:V,onClick:function(se){return se.preventDefault()},onMouseDown:i?null:this.h,onTouchStart:i?null:this.c,onTouchMove:i?null:this.l,onTouchEnd:i?null:this.u,onTouchCancel:i?null:this.v}),Ee("input",{type:"checkbox",role:"switch",disabled:i,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},...b,ref:this.w,onFocus:this.g,onBlur:this.v,onKeyUp:this.b,onChange:this.p})]})},r}(Pd.Component);qn.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:Nd,checkedIcon:$d,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},zt.default=qn;Qi.exports=zt;var Dd=Qi.exports;const ft=window.React,Md=window.JSONSchemaForm.default;class $r extends ft.Component{constructor(r){super(r),this.excludeWarningText=P("div",{children:[g("p",{children:"This action will clear any entered data on this page and remove this form from your submission. You can include it again at anytime. Only this page will be affected."}),g("p",{children:"Are you sure you want to skip this step and clear any entered data?"})]}),this.excludeWarningHeader="Skip This Step?",this.unsavedDataWarning="You might have some unsaved data. Are you sure you want to leave?",this.navAction=B.NONE,this.extraErrors=[],this.isNewForm=n=>Object.keys(n).length==1&&Object.keys(n)[0]==="metadata"||Object.keys(n).length==0,this.getFirstStep=(n,o)=>this.isNewForm(o)?n[0]:n.find(a=>a.final===!0)||n[0],this.onUnload=n=>this.state.hasUnsavedChanges?(n.preventDefault(),n.returnValue=this.unsavedDataWarning):void 0,this.setupBeforeUnloadListener=()=>{window.addEventListener("beforeunload",this.onUnload)},this._setIncludedPropInFormDataNonWizard=(n,o)=>{const a={},s=n.formData;return Object.keys(o).forEach(l=>{F.get(o[l],"properties.included")&&F.set(a,`${l}.included`,!0)}),{...s,...a}},this._setIncludedPropInFormDataWizard=n=>{const o=n.currentStep.id,a=F.cloneDeep(n.formData);return F.set(a,`${o}.included`,!0),a},this.getSchema=({id:n,final:o})=>o?this.props.schema:F.pick(this.props.schema,["title","type",`properties.${n}`]),this.getNextStepId=async(n,o,a)=>{if(a)return a;if(!n.rules||n.rules.length===0)return n.default;const s=new Hn.Engine(n.rules);try{const l=await s.run(o);return l.events.length>0?l.events[0].params.next:n.default}catch{return n.default}},this.moveStep=async(n,o,a,s=[...this.state.previousStepIds])=>{const l=this.state.currentStep;let u;this.formRef.current.setState({errorSchema:{}});const f=this.props.isWizardMode&&!o;f&&s.push(l.id),a?u=Z.ERROR:(u=Z.COMPLETED,!f&&this.props.isWizardMode&&(u=Z.TODO)),o=await this.getNextStepId(l,n,o);const c=this.state.steps.map(h=>h.id===l.id?{...h,state:u,inProgress:!1}:h.id===o?{...h,inProgress:!0}:h);f&&F.set(n,`${o}.included`,!0);const d=this.state.steps.find(h=>h.id===o);this.props.isWizardMode&&d.final&&Object.keys(n).forEach(h=>{n[h].included===void 0&&(n[h]={})}),this.saveStepState(s,c,d,n)},this.saveStepState=(n,o,a,s)=>{this.setState({previousStepIds:n,steps:o,currentStep:a,formData:s,hasValidated:!1,doShowErrors:!1})},this.goPrevious=async(n,o)=>{let a;const s=[...this.state.previousStepIds];if(this.props.isWizardMode)a=s.pop(),this.isSubmitScreen()||F.set(n,`${this.state.currentStep.id}.included`,void 0);else{const l=F.findIndex(this.state.steps,{id:this.state.currentStep.id});l>0&&(a=this.state.steps[l-1].id)}if(!F.isUndefined(a))return this.moveStep(n,a,o,s)},this.triggerAction=async n=>{if(n===B.SAVE)return this.props.onSave(this.state.formData);this.navAction=n,this.extraErrors=await this.runCustomValidation(this.state.formData,this.state.currentStep,this.state.steps),this.formRef.current&&this.formRef.current.submit()},this.triggerStepChange=n=>{this.nextStep=n,this.triggerAction(B.GO_TO_STEP)},this.onError=n=>{if(this.setState({doShowErrors:!0,hasValidated:!1}),this.navAction===B.VALIDATE){const o=this.setStepStatusForFailedValidation(n.props,this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep));this.setState({steps:o}),this.formDivRef.current.scrollTo(0,0),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,o[0].id,!0),this.setState({isLoadingSaved:!1}))}},this.setStepStatusForFailedValidation=(n,o,a,s,l)=>{const u=n.map(d=>F.trimStart(d.property,".").split(".")[0]),f=Object.keys(l);return o.map(d=>{if(u.indexOf(d.id)>-1)return{...d,state:Z.ERROR};if(f.indexOf(d.id)>-1){let h=Z.COMPLETED;return a&&!F.get(s[d.id],"included")&&(h=d.state),{...d,state:h}}else return d})},this.onSubmit=()=>{this.performAction(this.navAction,this.state.currentStep.state===Z.ERROR)},this.isSubmitScreen=()=>this.state.currentStep.final===!0&&!this.state.isLoadingSaved,this.showExcludeStateWarningModal=(n,o=!1)=>{this.setState({modalContext:{action:this.toggleExcludeStep,arguments:[n,!0,o]}})},this.toggleExcludeStep=(n,o)=>{this.setState((a,s)=>{const l=a.steps.map(c=>c.id===n?{...c,excluded:o}:c),u=F.cloneDeep(a.formData),f=F.cloneDeep(a.currentStep);return f.id===n&&(f.excluded=o),o?u[n]={}:F.set(u,`${n}.included`,!0),{steps:l,formData:u,modalContext:void 0,currentStep:f}})},this.renderNotification=n=>n===Y.SAVE_SUCCESS?g("div",{className:"notification-area",children:" Successfully saved "}):n===Y.SUBMIT_SUCCESS?g("div",{className:"notification-area",children:" Successfully submitted "}):n===Y.PROGRESS?g("div",{className:"notification-area",children:" working on it ...."}):g(j,{}),this.renderTextForStaticScreen=()=>{if(!this.state.currentStep.copy)return g(j,{});const n=this.state.currentStep.copy;return g("div",{className:"static-screen",dangerouslySetInnerHTML:{__html:n}})},this.renderOptionalFormSubheader=(n=!1)=>{if(n)return g(j,{});const o=this.state.currentStep;return o.excluded===!0?P("div",{className:"step-exclude-directions",children:["This form is currently not included in the submission.",g("button",{className:"btn btn-link",onClick:()=>this.toggleExcludeStep(o.id,!1),children:"INCLUDE"})]}):o.excluded===!1?P("div",{className:"step-exclude-directions",children:['This form is currently included in the submission. Enter some data if you have it, or click "Skip".',g("button",{className:"btn btn-link",onClick:()=>this.showExcludeStateWarningModal(this.state.currentStep.id),children:"SKIP"})]}):g(j,{})},this.renderHelpToggle=(n,o,a)=>n.static||n.final?g(j,{}):g(j,{children:P("label",{className:"pull-right toggle-help-label",children:[g("span",{children:"Hide help"}),g(Dd,{checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,className:"toggle-help",offColor:"#ccc",onChange:()=>a(),checked:o}),g("span",{children:"Show help"})]})}),this.runCustomValidation=async(n,o,a)=>{const s=[];let l=o.validationRules||[],u={[o.id]:n[o.id]};if(o.final&&(l=a.reduce((d,h)=>h.validationRules&&h.validationRules.length>0?d.concat(h.validationRules):d,[]),u=F.cloneDeep(n)),l.length===0)return[];const f=[];l.forEach(d=>{const h=d.event.params.property;if(h.indexOf("[*]")===-1)f.push(d);else{const y=h.split("[*]")[0].substring(1),b=F.get(n,y);if(Array.isArray(b)&&typeof b!="string")for(let S=0;S<b.length;S++){const O=JSON.parse(JSON.stringify(d).replace(/\[\*\]/g,`[${S}]`));f.push(O)}else f.push(d)}});const c=new Hn.Engine(f,{allowUndefinedFacts:!0});try{(await c.run(u)).events.forEach(y=>{const b={...y.params,params:{},stack:`${y.params.property} ${y.params.message}`};s.push(b)})}catch(d){console.log(d)}return s},this.transformErrors=n=>{if(this.extraErrors.forEach(a=>{n.find(s=>s.stack===a.stack)||n.push(a)}),this.navAction!==B.SUBMIT&&this.navAction!==B.VALIDATE&&(!this.props.isWizardMode||this.state.currentStep.final)){const a={...this.state.currentStep};return n.length>0?a.state=Z.ERROR:a.state=Z.COMPLETED,this.setState({currentStep:a}),[]}return n.filter(a=>a.name==="required").forEach(a=>{const s=a.property.substring(0,a.property.lastIndexOf("."));F.remove(n,l=>l.property.indexOf(s)>-1&&(l.name==="enum"||l.name==="oneOf"))}),n.map(a=>(a.message=a.message.replace("property","field"),a))},this.renderErrorListTemplate=n=>{const{errors:o}=n,a=o.map((s,l)=>Ld(this.state.steps,s,this.uiSchema,l,this.props.schema)).sort((s,l)=>s.order-l.order).map(s=>s.element);return g("div",{className:"form-error-summary",children:g("ul",{className:"error-detail",children:a})})},this.uiSchema=eo(F.cloneDeep(r.uiSchema),"ui:help");const t=r.navSchema.steps.map((n,o)=>({...n,inProgress:o===0})).sort((n,o)=>n.order-o.order);this.formRef=ft.createRef(),this.formDivRef=ft.createRef();const i=this.getFirstStep(t,r.formData);this.state={currentStep:i,steps:t,previousStepIds:[],formData:r.formData,doShowErrors:!1,doShowHelp:!0,hasUnsavedChanges:!1,isSubmitted:r.isSubmitted,isLoadingSaved:!this.isNewForm(this.props.formData)}}componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnload)}componentDidUpdate(r){const t=this.props.callbackStatus!==r.callbackStatus,i=this.props.callbackStatus===Y.SAVE_SUCCESS||this.props.callbackStatus===Y.SUBMIT_SUCCESS;t&&i&&(this.setState({hasUnsavedChanges:!1}),this.props.callbackStatus===Y.SUBMIT_SUCCESS&&(this.setState({isSubmitted:!0}),window.history.back()))}componentDidMount(){this.setupBeforeUnloadListener(),this.isNewForm(this.state.formData)?this.setState(t=>({formData:this.props.isWizardMode?this._setIncludedPropInFormDataWizard(t):this._setIncludedPropInFormDataNonWizard(t,this.props.schema)})):this.triggerAction(B.VALIDATE)}handleOnChange({formData:r}){if(!this.isSubmitScreen()&&!this.state.currentStep.excluded){const t=!F.isEqual(this.state.formData,r);this.setState({formData:r,hasUnsavedChanges:t})}}performAction(r,t){const i=this.state.formData;switch(r){case B.NEXT:return this.moveStep(i,void 0,t);case B.PREVIOUS:return this.goPrevious(i,t);case B.GO_TO_STEP:return this.nextStep?this.moveStep(i,this.nextStep.id,t):void 0;case B.SUBMIT:{this.props.onSubmit(i);return}case B.VALIDATE:{const n=this.setStepStatusForFailedValidation([],this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep)),o={...this.state.currentStep,state:Z.COMPLETED};this.setState({hasValidated:!0,currentStep:o,steps:n}),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,n[0].id,!1),this.setState({isLoadingSaved:!1}));return}default:return}}render(){return P("div",{className:"outter-wrap",children:[g(Eo,{when:this.state.hasUnsavedChanges,message:this.unsavedDataWarning}),g(Rr,{isSubmitted:this.state.isSubmitted,bodyText:this.state.currentStep.description,title:this.props.formTitle}),g("div",{children:P("div",{className:"inner-wrap",children:[g(Cr,{stepList:this.state.steps,isWizardMode:this.props.isWizardMode,onStepChange:this.triggerStepChange}),this.state.isLoadingSaved&&g("div",{className:"text-center",children:g("span",{className:"spinner"})}),P("div",{className:"form-wrap",children:[g("div",{className:"form-title",children:this.state.currentStep.title}),this.renderNotification(this.props.callbackStatus),P("div",{className:`right-top-actions ${this.state.isSubmitted?"hide":""}`,children:[!this.state.currentStep.static&&g("button",{type:"button",className:"btn btn-action save pull-right",onClick:()=>this.triggerAction(B.VALIDATE),children:"VALIDATE"}),this.renderHelpToggle(this.state.currentStep,this.state.doShowHelp,()=>this.setState({doShowHelp:!this.state.doShowHelp})),this.isSubmitScreen()&&g("button",{type:"button",className:"btn btn-action save pull-right",disabled:this.state.isSubmitted,onClick:()=>this.triggerAction(B.SUBMIT),children:"SUBMIT"})]}),this.renderOptionalFormSubheader(this.props.isWizardMode),P("div",{className:this.isSubmitScreen()||this.state.currentStep.static?"hide-form-only":"wrap",children:[this.state.hasValidated&&g("div",{className:"notification-area",children:"Great! All required data on this form has been entered."}),P("div",{ref:this.formDivRef,className:`scroll-area ${this.state.currentStep.excluded?"disabled":" "} `,children:[g(Md,{className:this.state.doShowHelp?"submissionInputForm":"submissionInputForm no-help",liveValidate:!1,formData:this.state.formData,schema:this.getSchema(this.state.currentStep),uiSchema:this.uiSchema,onSubmit:this.onSubmit,onChange:r=>this.handleOnChange(r),onError:r=>this.onError({props:r,form:this.formRef}),showErrorList:!!this.state.doShowErrors||!!this.props.isWizardMode,ErrorList:this.renderErrorListTemplate,transformErrors:this.transformErrors,ref:this.formRef,disabled:this.state.currentStep.excluded||this.state.isSubmitted,children:g("div",{style:{display:"none"},children:g("button",{type:"submit"})})}),this.renderTextForStaticScreen(),!this.props.isWizardMode&&g(Fr,{steps:this.state.steps,nextStepId:this.state.currentStep.default,onNavAction:r=>this.triggerStepChange(r)})]})]}),this.isSubmitScreen()&&g(Nr,{formData:this.state.formData,steps:this.state.steps,callbackFn:r=>this.showExcludeStateWarningModal(r,!0),uiSchema:this.props.uiSchema,schema:this.props.schema}),g(Tr,{currentStep:this.state.currentStep,steps:this.state.steps,previousStepIds:this.state.previousStepIds,isFormSubmitted:this.state.isSubmitted,onNavAction:r=>this.triggerAction(r)})]})]})}),this.state.modalContext&&g(bo,{show:!0,title:this.excludeWarningHeader,modalBody:this.excludeWarningText,className:`theme-${this.props.formClass}`,onConfirmCallbackArgs:this.state.modalContext.arguments,onCancel:()=>this.setState({modalContext:void 0}),onConfirm:(r,t)=>this.toggleExcludeStep(r,t)}),g(Pr,{formData:this.state.formData,hidden:!0})]})}}function Ld(e,r,t,i,n){const o=F.trimStart(r.property,"."),a=o.split("."),s=`${a.join(".properties.")}.title`,l=`${o}.ui:title`,u=s.replace(/\[.*?\]/,".items"),f=l.replace(/\[.*?\]/,".items"),c=s.match(/\[.*?\]/);let d=F.first(c);d&&(d=d.substring(1,d.length-1),d=isNaN(parseInt(d))?"":` [${parseInt(d)+1}]`);const h=F.get(t,l)||F.get(n.properties,s)||F.get(t,f)||F.get(n.properties,u)||r.property,y=F.find(e,{id:a[0]})||{title:a[0],order:0},b=g("li",{className:"",children:P("span",{children:[P("strong",{children:[y.title,d,":"]}),h,"\xA0 ",r.message]})},i);return{order:y.order,element:b}}function eo(e,r){return F.keys(e).some(t=>{if(t===r){const i=e[t];return e[t]=g("span",{dangerouslySetInnerHTML:{__html:i}}),e}e[t]&&typeof e[t]=="object"&&eo(e[t],r)}),e}try{$r.displayName="SynapseForm",$r.__docgenInfo={description:"",displayName:"SynapseForm",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},navSchema:{defaultValue:null,description:"",name:"navSchema",required:!0,type:{name:"{ steps: any[]; }"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"IFormData"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Function"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"Function"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},callbackStatus:{defaultValue:null,description:"",name:"callbackStatus",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"}]}},isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SynapseForm.tsx#SynapseForm"]={docgenInfo:$r.__docgenInfo,name:"SynapseForm",path:"src/lib/containers/synapse_form_wrapper/SynapseForm.tsx#SynapseForm"})}catch{}const Ud=window.React;class kr extends Ud.Component{constructor(r){var t,i;super(r),this.getFileEntityData=async(n,o,a)=>{try{const s=await io(n,o,a),l=await oo(s,n,!0,!0),u=await ao(l.fileHandle,l.preSignedURL),f=JSON.parse(u);return{version:s.versionNumber,content:f}}catch(s){const l={message:`${s.message}:  configuration data for ${o} failed to load`};return this.onError(l),Promise.reject(l)}},this.getFileEntityDataDereferenced=async(n,o,a)=>{const{version:s,content:l}=await this.getFileEntityData(n,o,a),u=await uc.dereference(l);return{version:s,content:u}},this.getData=async n=>{if(!!n)try{let o={},a,s,l,u,f;const{searchParams:c}=this.props;if(c&&({dataFileHandleId:a,submitted:s}=c),a){const y=await so(a,n);o=JSON.parse(y),s&&o&&o.metadata&&({formSchemaVersion:l,uiSchemaVersion:u,navSchemaVersion:f}=o.metadata)}const d=[this.getFileEntityDataDereferenced(n,this.props.formSchemaEntityId,l),this.getFileEntityData(n,this.props.formUiSchemaEntityId,u),this.getFileEntityData(n,this.props.formNavSchemaEntityId,f)],h=await Promise.all(d);a||(o={metadata:{formSchemaVersion:h[0].version,uiSchemaVersion:h[1].version,navSchemaVersion:h[2].version}}),this.setState({formData:o,formSchema:h[0].content,formUiSchema:h[1].content,formNavSchema:h[2].content,isLoading:!1})}catch(o){this.onError({message:o})}finally{this.setState({isLoading:!1})}},this.finishedProcessing=(n,o)=>{this.setState({isLoading:!1,notification:{type:n,message:o},status:n}),setTimeout(()=>{this.setState({status:void 0})},7e3)},this.onError=n=>{this.setState({notification:{type:Y.ERROR,message:n.message,name:n.name},status:Y.ERROR,isLoading:!1})},this.submitForm=async n=>{await this.saveToFile(n),this.setState({isLoading:!0}),await lo(this.state.formDataId,this.props.token),this.finishedProcessing(Y.SUBMIT_SUCCESS,"File Submitted")},this.createOrUpdateFormDataFile=async(n,o)=>{n=`${n}.json`;const a=await uo(this.props.token,n,o),{searchParams:s}=this.props,l=s&&s.formGroupId;if(!l)throw console.error("formGroupId must be defined"),"formGroupId must be defined";try{const u=a.fileHandleId;let f;return this.state.formDataId?f=await co(this.state.formDataId,n,u,this.props.token):f=await fo(l,n,u,this.props.token),f}catch(u){throw this.onError(u),u}},this.saveToFile=async n=>{const o=je(n,this.props.fileNamePath);if(this.setState({status:Y.PROGRESS,notification:{type:Y.PROGRESS,message:"Progress"},isLoading:!0}),!o){let a="File Name";try{const s=`${this.props.fileNamePath.replace(".",".properties.")}.title`;a=je(this.state.formSchema.properties,s,a)}finally{const s=`Please Provide the ${a} before saving`;this.onError({message:s})}return}try{const a=new Blob([JSON.stringify(n)],{type:"text/json"}),s=await this.createOrUpdateFormDataFile(o,a);this.setState({formDataId:s.formDataId}),this.finishedProcessing(Y.SAVE_SUCCESS,"File Saved")}catch(a){this.onError({message:a})}},this.isReadyToDisplayForm=n=>this.state.status!==Y.ERROR_CRITICAL&&n.formSchema&&n.formUiSchema&&n.formNavSchema&&n.formData,this.renderLoader=(n,o)=>So([Y.ERROR,Y.ERROR_CRITICAL],n.status)&&o.token&&n.isLoading?g("div",{className:"text-center",children:g("span",{className:"spinner"})}):g(j,{}),this.renderNotification=n=>n?n.type===Y.ERROR?P(Zt,{variant:"danger",onClose:()=>this.setState({status:void 0}),children:[g(Zt.Heading,{children:"Error"}),P("p",{children:[n.name," ",n.message]})]}):g(j,{}):g(j,{}),this.renderUnauthenticatedView=n=>n?g(j,{}):P("div",{className:"panel padding-full unauthenticated text-center bootstrap-4-backport",children:["Please",g(wo,{variant:"light-primary-base",style:{margin:"10px"},className:`pill ${ho}`,children:"sign in"}),"to initiate or continue your submission"]}),this.state={isLoading:!0,formDataId:(i=(t=this.props)==null?void 0:t.searchParams)==null?void 0:i.formDataId}}async componentDidMount(){await this.getData(this.props.token)}async componentDidUpdate(r){this.props.token!==r.token&&await this.getData(this.props.token)}render(){return g("div",{className:`theme-${this.props.formClass}`,children:P("div",{className:"SRC-ReactJsonForm",children:[this.renderNotification(this.state.notification),this.renderLoader(this.state,this.props),this.renderUnauthenticatedView(this.props.token),this.isReadyToDisplayForm(this.state)&&g("div",{children:g($r,{schema:this.state.formSchema,uiSchema:this.state.formUiSchema,formData:this.state.formData,navSchema:this.state.formNavSchema,isWizardMode:this.props.isWizardMode,formTitle:this.props.formTitle,formClass:this.props.formClass,callbackStatus:this.state.status,onSave:r=>this.saveToFile(r),onSubmit:r=>this.submitForm(r),isSubmitted:this.props.searchParams&&!!this.props.searchParams.submitted})})]})})}}var ro=kr;try{kr.displayName="SynapseFormWrapper",kr.__docgenInfo={description:"",displayName:"SynapseFormWrapper",props:{formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},formNavSchemaEntityId:{defaultValue:null,description:"",name:"formNavSchemaEntityId",required:!0,type:{name:"string"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"UploadToolSearchParams"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},fileNamePath:{defaultValue:null,description:"",name:"fileNamePath",required:!0,type:{name:"string"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SynapseFormWrapper.tsx#SynapseFormWrapper"]={docgenInfo:kr.__docgenInfo,name:"SynapseFormWrapper",path:"src/lib/containers/synapse_form_wrapper/SynapseFormWrapper.tsx#SynapseFormWrapper"})}catch{}var rp={parameters:{storySource:{source:`import React from 'react'
import { ComponentStory, ComponentMeta } from '@storybook/react'
import SynapseFormWrapper from './SynapseFormWrapper'
import { SynapseContextConsumer } from '../../utils/SynapseContext'

export default {
  title: 'Synapse/AccessTokenPage',
  component: SynapseFormWrapper,
} as ComponentMeta<typeof SynapseFormWrapper>

const Template: ComponentStory<typeof SynapseFormWrapper> = args => (
  <SynapseContextConsumer>
    {synapseContext => (
      <SynapseFormWrapper {...args} token={synapseContext?.accessToken} />
    )}
  </SynapseContextConsumer>
)

export const Demo = Template.bind({})
Demo.args = {
  formTitle: 'Your Contribution Request',
  formClass: 'contribution-request',
  formSchemaEntityId: 'syn20692910',
  fileNamePath: 'study.submission_name',
  formUiSchemaEntityId: 'syn20692911',
  formNavSchemaEntityId: 'syn20968007',
  isWizardMode: true,
}
`,locationsMap:{demo:{startLoc:{col:60,line:11},endLoc:{col:1,line:17},startBody:{col:60,line:11},endBody:{col:1,line:17}}}}},title:"Synapse/AccessTokenPage",component:ro};const jd=e=>g(_o,{children:r=>g(ro,{...e,token:r==null?void 0:r.accessToken})}),Bd=jd.bind({});Bd.args={formTitle:"Your Contribution Request",formClass:"contribution-request",formSchemaEntityId:"syn20692910",fileNamePath:"study.submission_name",formUiSchemaEntityId:"syn20692911",formNavSchemaEntityId:"syn20968007",isWizardMode:!0};const tp=["Demo"];export{Bd as Demo,tp as __namedExportsOrder,rp as default};
//# sourceMappingURL=SynapseFormWrapper.stories.7477a159.js.map
