import{t as o,H as M,I as k,J as i,K as E,r as b,L as h,B as f,N as p,V as T}from"./index.05abe325.js";const y={refetchOnWindowFocus:!1};function B(s,t){const{accessToken:n}=o();return M(i.tableQueryResult(s,!1),()=>k(s,n),{...y,...t})}function R(s,t,n){const{accessToken:r}=o();return M(i.tableQueryResultWithAsyncStatus(s,!1),()=>h(s,r,n),{...y,...t})}function v(s,t,n){const r=s.partMask&f,e={...s,partMask:r},u=r>0?t==null?void 0:t.enabled:!1;return R(e,{...t,enabled:u},n)}function A(s,t,n){const r=s.partMask&~f,e={...s,query:{...s.query,offset:void 0,limit:void 0,sort:void 0},partMask:r},u=r>0?t==null?void 0:t.enabled:!1;return R(e,{...t,enabled:u},n)}function I(s,t,n){const r=v(s,t,n),e=A(s,t,n);return r.status==="error"?r:e.status==="error"?e:r.status==="loading"?r:e.status==="loading"?e:r.status==="idle"?p({},r,e):p({},e,r)}function L(s,t,n){const{accessToken:r}=o();return E(i.tableQueryResult(s,!0),e=>{const u=e.pageParam?parseInt(e.pageParam):0;return h({...s,query:{...s.query,offset:u},partMask:u!==0?s.partMask&f:s.partMask},r,n)},{...y,...t,select:e=>{const u=e==null?void 0:e.pages[0];if(u.responseBody)for(let a=0;a<e.pages.length;a++){const l=e.pages[a];l.responseBody!=null&&(e.pages[a].responseBody={...u.responseBody,queryResult:l.responseBody.queryResult})}return e},getPreviousPageParam:e=>{var l;if(e.jobState!=="COMPLETE")return;const u=e.requestBody;if(u.query.offset==null||u.query.offset===0)return;const a=(l=u.query.limit)!=null?l:b;return Math.max(u.query.offset-a,0)},getNextPageParam:(e,u)=>{var g,d,Q,m,S;if(e.jobState!=="COMPLETE")return;const a=e.requestBody,l=(g=a.query.limit)!=null?g:b,c=(d=u[0].responseBody)==null?void 0:d.queryCount;if(!(c!=null&&((Q=a.query.offset)!=null?Q:0)+l>=c))return((m=e.responseBody.queryResult)==null?void 0:m.queryResults.rows.length)===l?((S=a.query.offset)!=null?S:0)+l:void 0}})}const V=(s,t)=>{var n,r;return(r=(n=t==null?void 0:t.selectColumns)==null?void 0:n.findIndex(e=>e.name===s))!=null?r:-1},q=(s,t)=>s==null||t==null||s.length===0||t.length===0?!1:s.filter(r=>!P(r)&&t.find(e=>e.name===r.columnName)).length>0,P=s=>s.facetType==="enumeration"&&s.facetValues.length==1&&s.facetValues[0].value==T;export{I as a,P as b,B as c,V as g,q as i,L as u};
//# sourceMappingURL=queryUtils.df9babdd.js.map
