import{c as Fr,H as En,h as fl,J as cf,K as hf,L as pf,M as lt,O as ul,P as sl,Q as ll,R as dl,T as cl,U as Pr,V as hl,W as pl,X as Pi,k as Ii,Y as vf,Z as Ir,$ as gf,a0 as mf,a1 as vl,a2 as gl,j as Kt,a3 as ji,a4 as ml,a5 as yl,a6 as jr,a7 as bl,a8 as yf,a9 as wl,aa as ki,ab as _l,ac as bf,ad as wf,ae as _f,_ as El,af as Ef,i as Li,ag as Sl,e as xl,ah as Ol,ai as Al,aj as $l,ak as Cl}from"./iframe.e4e9a55c.js";import{u as Ie,e as Ve,r as xe,a as tr,i as ue}from"./index.b80570eb.js";import{b as We}from"./index.66e0b57e.js";import{i as Ht}from"./index.440cefe9.js";import{p as Q}from"./index.35ce73ec.js";import{bz as Tl}from"./index.219651a3.js";import{g as Rl,i as Bl}from"./isEmpty.dc101a1c.js";import{_ as Wi,a as br,b as Sf,c as xf,d as Of,i as Ui,e as Dl,f as Ml,g as Nl,h as Fl,n as Pl}from"./index.browser.675248f7.js";import{t as Il,u as jl}from"./union.e1f32037.js";import{j as F,a as ie,F as kl}from"./jsx-runtime.00d70968.js";function Ue(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Da(e,r){for(var t="",n=0,i=-1,a=0,o,f=0;f<=e.length;++f){if(f<e.length)o=e.charCodeAt(f);else{if(o===47)break;o=47}if(o===47){if(!(i===f-1||a===1))if(i!==f-1&&a===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var u=t.lastIndexOf("/");if(u!==t.length-1){u===-1?(t="",n=0):(t=t.slice(0,u),n=t.length-1-t.lastIndexOf("/")),i=f,a=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=f,a=0;continue}}r&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+e.slice(i+1,f):t=e.slice(i+1,f),n=f-i-1;i=f,a=0}else o===46&&a!==-1?++a:a=-1}return t}function Ll(e,r){var t=r.dir||r.root,n=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+n:t+e+n:n}var xr={resolve:function(){for(var r="",t=!1,n,i=arguments.length-1;i>=-1&&!t;i--){var a;i>=0?a=arguments[i]:(n===void 0&&(n=process.cwd()),a=n),Ue(a),a.length!==0&&(r=a+"/"+r,t=a.charCodeAt(0)===47)}return r=Da(r,!t),t?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(Ue(r),r.length===0)return".";var t=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=Da(r,!t),r.length===0&&!t&&(r="."),r.length>0&&n&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return Ue(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,t=0;t<arguments.length;++t){var n=arguments[t];Ue(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":xr.normalize(r)},relative:function(r,t){if(Ue(r),Ue(t),r===t||(r=xr.resolve(r),t=xr.resolve(t),r===t))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var i=r.length,a=i-n,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var f=t.length,u=f-o,s=a<u?a:u,l=-1,c=0;c<=s;++c){if(c===s){if(u>s){if(t.charCodeAt(o+c)===47)return t.slice(o+c+1);if(c===0)return t.slice(o+c)}else a>s&&(r.charCodeAt(n+c)===47?l=c:c===0&&(l=0));break}var v=r.charCodeAt(n+c),h=t.charCodeAt(o+c);if(v!==h)break;v===47&&(l=c)}var d="";for(c=n+l+1;c<=i;++c)(c===i||r.charCodeAt(c)===47)&&(d.length===0?d+="..":d+="/..");return d.length>0?d+t.slice(o+l):(o+=l,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(r){return r},dirname:function(r){if(Ue(r),r.length===0)return".";for(var t=r.charCodeAt(0),n=t===47,i=-1,a=!0,o=r.length-1;o>=1;--o)if(t=r.charCodeAt(o),t===47){if(!a){i=o;break}}else a=!1;return i===-1?n?"/":".":n&&i===1?"//":r.slice(0,i)},basename:function(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ue(r);var n=0,i=-1,a=!0,o;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var f=t.length-1,u=-1;for(o=r.length-1;o>=0;--o){var s=r.charCodeAt(o);if(s===47){if(!a){n=o+1;break}}else u===-1&&(a=!1,u=o+1),f>=0&&(s===t.charCodeAt(f)?--f===-1&&(i=o):(f=-1,i=u))}return n===i?i=u:i===-1&&(i=r.length),r.slice(n,i)}else{for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!a){n=o+1;break}}else i===-1&&(a=!1,i=o+1);return i===-1?"":r.slice(n,i)}},extname:function(r){Ue(r);for(var t=-1,n=0,i=-1,a=!0,o=0,f=r.length-1;f>=0;--f){var u=r.charCodeAt(f);if(u===47){if(!a){n=f+1;break}continue}i===-1&&(a=!1,i=f+1),u===46?t===-1?t=f:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===n+1?"":r.slice(t,i)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return Ll("/",r)},parse:function(r){Ue(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;var n=r.charCodeAt(0),i=n===47,a;i?(t.root="/",a=1):a=0;for(var o=-1,f=0,u=-1,s=!0,l=r.length-1,c=0;l>=a;--l){if(n=r.charCodeAt(l),n===47){if(!s){f=l+1;break}continue}u===-1&&(s=!1,u=l+1),n===46?o===-1?o=l:c!==1&&(c=1):o!==-1&&(c=-1)}return o===-1||u===-1||c===0||c===1&&o===u-1&&o===f+1?u!==-1&&(f===0&&i?t.base=t.name=r.slice(1,u):t.base=t.name=r.slice(f,u)):(f===0&&i?(t.name=r.slice(1,o),t.base=r.slice(1,u)):(t.name=r.slice(f,o),t.base=r.slice(f,u)),t.ext=r.slice(o,u)),f>0?t.dir=r.slice(0,f-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};xr.posix=xr;var Wl=xr,Af={exports:{}};(function(e){/**
 * @license IDBWrapper - A cross-browser wrapper for IndexedDB
 * Version 1.7.2
 * Copyright (c) 2011 - 2017 Jens Arps
 * http://jensarps.de/
 *
 * Licensed under the MIT license
 */(function(r,t,n){e.exports?e.exports=t():n[r]=t()})("IDBStore",function(){var r=function(s){throw s},t=function(){},n={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:r,indexes:[],implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},i=function(s,l){typeof l>"u"&&typeof s=="function"&&(l=s),Object.prototype.toString.call(s)!="[object Object]"&&(s={});for(var c in n)this[c]=typeof s[c]<"u"?s[c]:n[c];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,l&&(this.onStoreReady=l);var v=typeof window=="object"?window:self,h=this.implementationPreference.filter(function(d){return d in v});this.implementation=h[0],this.idb=v[this.implementation],this.keyRange=v.IDBKeyRange||v.webkitIDBKeyRange||v.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},a={constructor:i,version:"1.7.2",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){var s=this.idb.open(this.dbName,this.dbVersion),l=!1;s.onerror=function(c){if(u(c))this.onError(new Error("The version number provided is lower than the existing one."));else{var v;if(c.target.error)v=c.target.error;else{var h="IndexedDB unknown error occurred when opening DB "+this.dbName+" version "+this.dbVersion;"errorCode"in c.target&&(h+=" with error code "+c.target.errorCode),v=new Error(h)}this.onError(v)}}.bind(this),s.onsuccess=function(c){if(!l){if(this.db){this.onStoreReady();return}if(this.db=c.target.result,typeof this.db.version=="string"){this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."));return}if(!this.db.objectStoreNames.contains(this.storeName)){this.onError(new Error("Object store couldn't be created."));return}var v=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=v.objectStore(this.storeName);var h=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(d){var g=d.name;if(!g){l=!0,this.onError(new Error("Cannot create index: No index name given."));return}if(this.normalizeIndexData(d),this.hasIndex(g)){var w=this.store.index(g),y=this.indexComplies(w,d);y||(l=!0,this.onError(new Error('Cannot modify index "'+g+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),h.splice(h.indexOf(g),1)}else l=!0,this.onError(new Error('Cannot create new index "'+g+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),h.length&&(l=!0,this.onError(new Error('Cannot delete index(es) "'+h.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),l||this.onStoreReady()}}.bind(this),s.onupgradeneeded=function(c){if(this.db=c.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=c.target.transaction.objectStore(this.storeName);else{var v={autoIncrement:this.autoIncrement};this.keyPath!==null&&(v.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,v)}var h=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(d){var g=d.name;if(g||(l=!0,this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(d),this.hasIndex(g)){var w=this.store.index(g),y=this.indexComplies(w,d);y||(this.store.deleteIndex(g),this.store.createIndex(g,d.keyPath,{unique:d.unique,multiEntry:d.multiEntry})),h.splice(h.indexOf(g),1)}else this.store.createIndex(g,d.keyPath,{unique:d.unique,multiEntry:d.multiEntry})},this),h.length&&h.forEach(function(d){this.store.deleteIndex(d)},this)}.bind(this)},deleteDatabase:function(s,l){if(this.idb.deleteDatabase){this.db.close();var c=this.idb.deleteDatabase(this.dbName);c.onsuccess=s,c.onerror=l}else l(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(s,l,c,v){this.keyPath!==null&&(v=c,c=l,l=s),v||(v=r),c||(c=t);var h=!1,d=null,g,w=this.db.transaction([this.storeName],this.consts.READ_WRITE);return w.oncomplete=function(){var y=h?c:v;y(d)},w.onabort=v,w.onerror=v,this.keyPath!==null?(this._addIdPropertyIfNeeded(l),g=w.objectStore(this.storeName).put(l)):g=w.objectStore(this.storeName).put(l,s),g.onsuccess=function(y){h=!0,d=y.target.result},g.onerror=v,w},get:function(s,l,c){c||(c=r),l||(l=t);var v=!1,h=null,d=this.db.transaction([this.storeName],this.consts.READ_ONLY);d.oncomplete=function(){var w=v?l:c;w(h)},d.onabort=c,d.onerror=c;var g=d.objectStore(this.storeName).get(s);return g.onsuccess=function(w){v=!0,h=w.target.result},g.onerror=c,d},remove:function(s,l,c){c||(c=r),l||(l=t);var v=!1,h=null,d=this.db.transaction([this.storeName],this.consts.READ_WRITE);d.oncomplete=function(){var w=v?l:c;w(h)},d.onabort=c,d.onerror=c;var g=d.objectStore(this.storeName).delete(s);return g.onsuccess=function(w){v=!0,h=w.target.result},g.onerror=c,d},batch:function(s,l,c){if(c||(c=r),l||(l=t),Object.prototype.toString.call(s)!="[object Array]")c(new Error("dataArray argument must be of type Array."));else if(s.length===0)return l(!0);var v=s.length,h=!1,d=!1,g=this.db.transaction([this.storeName],this.consts.READ_WRITE);g.oncomplete=function(){var y=d?l:c;y(d)},g.onabort=c,g.onerror=c;var w=function(){v--,v===0&&!h&&(h=!0,d=!0)};return s.forEach(function(y){var _=y.type,O=y.key,b=y.value,p=function(T){g.abort(),h||(h=!0,c(T,_,O))};if(_=="remove"){var m=g.objectStore(this.storeName).delete(O);m.onsuccess=w,m.onerror=p}else if(_=="put"){var S;this.keyPath!==null?(this._addIdPropertyIfNeeded(b),S=g.objectStore(this.storeName).put(b)):S=g.objectStore(this.storeName).put(b,O),S.onsuccess=w,S.onerror=p}},this),g},putBatch:function(s,l,c){var v=s.map(function(h){return{type:"put",value:h}});return this.batch(v,l,c)},upsertBatch:function(s,l,c,v){typeof l=="function"&&(c=l,v=c,l={}),v||(v=r),c||(c=t),l||(l={}),Object.prototype.toString.call(s)!="[object Array]"&&v(new Error("dataArray argument must be of type Array."));var h=l.keyField||this.keyPath,d=s.length,g=!1,w=!1,y=0,_=this.db.transaction([this.storeName],this.consts.READ_WRITE);_.oncomplete=function(){w?c(s):v(!1)},_.onabort=v,_.onerror=v;var O=function(b){var p=s[y++];p[h]=b.target.result,d--,d===0&&!g&&(g=!0,w=!0)};return s.forEach(function(b){var p=b.key,m=function(T){_.abort(),g||(g=!0,v(T))},S;this.keyPath!==null?(this._addIdPropertyIfNeeded(b),S=_.objectStore(this.storeName).put(b)):S=_.objectStore(this.storeName).put(b,p),S.onsuccess=O,S.onerror=m},this),_},removeBatch:function(s,l,c){var v=s.map(function(h){return{type:"remove",key:h}});return this.batch(v,l,c)},getBatch:function(s,l,c,v){if(c||(c=r),l||(l=t),v||(v="sparse"),Object.prototype.toString.call(s)!="[object Array]")c(new Error("keyArray argument must be of type Array."));else if(s.length===0)return l([]);var h=[],d=s.length,g=!1,w=null,y=this.db.transaction([this.storeName],this.consts.READ_ONLY);y.oncomplete=function(){var O=g?l:c;O(w)},y.onabort=c,y.onerror=c;var _=function(O){O.target.result||v=="dense"?h.push(O.target.result):v=="sparse"&&h.length++,d--,d===0&&(g=!0,w=h)};return s.forEach(function(O){var b=function(m){w=m,c(m),y.abort()},p=y.objectStore(this.storeName).get(O);p.onsuccess=_,p.onerror=b},this),y},getAll:function(s,l){l||(l=r),s||(s=t);var c=this.db.transaction([this.storeName],this.consts.READ_ONLY),v=c.objectStore(this.storeName);return v.getAll?this._getAllNative(c,v,s,l):this._getAllCursor(c,v,s,l),c},_getAllNative:function(s,l,c,v){var h=!1,d=null;s.oncomplete=function(){var w=h?c:v;w(d)},s.onabort=v,s.onerror=v;var g=l.getAll();g.onsuccess=function(w){h=!0,d=w.target.result},g.onerror=v},_getAllCursor:function(s,l,c,v){var h=[],d=!1,g=null;s.oncomplete=function(){var y=d?c:v;y(g)},s.onabort=v,s.onerror=v;var w=l.openCursor();w.onsuccess=function(y){var _=y.target.result;_?(h.push(_.value),_.continue()):(d=!0,g=h)},w.onError=v},clear:function(s,l){l||(l=r),s||(s=t);var c=!1,v=null,h=this.db.transaction([this.storeName],this.consts.READ_WRITE);h.oncomplete=function(){var g=c?s:l;g(v)},h.onabort=l,h.onerror=l;var d=h.objectStore(this.storeName).clear();return d.onsuccess=function(g){c=!0,v=g.target.result},d.onerror=l,h},_addIdPropertyIfNeeded:function(s){typeof s[this.keyPath]>"u"&&(s[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},hasIndex:function(s){return this.store.indexNames.contains(s)},normalizeIndexData:function(s){s.keyPath=s.keyPath||s.name,s.unique=!!s.unique,s.multiEntry=!!s.multiEntry},indexComplies:function(s,l){var c=["keyPath","unique","multiEntry"].every(function(v){if(v=="multiEntry"&&s[v]===void 0&&l[v]===!1)return!0;if(v=="keyPath"&&Object.prototype.toString.call(l[v])=="[object Array]"){var h=l.keyPath,d=s.keyPath;if(typeof d=="string")return h.toString()==d;if(!(typeof d.contains=="function"||typeof d.indexOf=="function")||d.length!==h.length)return!1;for(var g=0,w=h.length;g<w;g++)if(!(d.contains&&d.contains(h[g])||d.indexOf(h[g]!==-1)))return!1;return!0}return l[v]==s[v]});return c},iterate:function(s,l){l=f({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:r,limit:1/0,offset:0,allowItemRejection:!1},l||{});var c=l.order.toLowerCase()=="desc"?"PREV":"NEXT";l.filterDuplicates&&(c+="_NO_DUPLICATE");var v=!1,h=this.db.transaction([this.storeName],this.consts[l.writeAccess?"READ_WRITE":"READ_ONLY"]),d=h.objectStore(this.storeName);l.index&&(d=d.index(l.index));var g=0;h.oncomplete=function(){if(!v){l.onError(null);return}l.onEnd?l.onEnd():s(null)},h.onabort=l.onError,h.onerror=l.onError;var w=d.openCursor(l.keyRange,this.consts[c]);return w.onerror=l.onError,w.onsuccess=function(y){var _=y.target.result;if(_)if(l.offset)_.advance(l.offset),l.offset=0;else{var O=s(_.value,_,h);(!l.allowItemRejection||O!==!1)&&g++,l.autoContinue&&(g+l.offset<l.limit?_.continue():v=!0)}else v=!0},h},query:function(s,l){var c=[],v=0;return l=l||{},l.autoContinue=!0,l.writeAccess=!1,l.allowItemRejection=!!l.filter,l.onEnd=function(){s(c,v)},this.iterate(function(h){v++;var d=l.filter?l.filter(h):!0;return d!==!1&&c.push(h),d},l)},count:function(s,l){l=f({index:null,keyRange:null},l||{});var c=l.onError||r,v=!1,h=null,d=this.db.transaction([this.storeName],this.consts.READ_ONLY);d.oncomplete=function(){var y=v?s:c;y(h)},d.onabort=c,d.onerror=c;var g=d.objectStore(this.storeName);l.index&&(g=g.index(l.index));var w=g.count(l.keyRange);return w.onsuccess=function(y){v=!0,h=y.target.result},w.onError=c,d},makeKeyRange:function(s){var l,c=typeof s.lower<"u",v=typeof s.upper<"u",h=typeof s.only<"u";switch(!0){case h:l=this.keyRange.only(s.only);break;case(c&&v):l=this.keyRange.bound(s.lower,s.upper,s.excludeLower,s.excludeUpper);break;case c:l=this.keyRange.lowerBound(s.lower,s.excludeLower);break;case v:l=this.keyRange.upperBound(s.upper,s.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return l}},o={};function f(s,l){var c,v;for(c in l)v=l[c],v!==o[c]&&v!==s[c]&&(s[c]=v);return s}function u(s){return"error"in s.target?s.target.error.name=="VersionError":"errorCode"in s.target?s.target.errorCode==12:!1}return i.prototype=a,i.version=a.version,i},Fr)})(Af);var kr={},Ul=ql;function ql(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}return e}function qi(e){this.db=e,this._ended=!1,this._nexting=!1}qi.prototype.next=function(e){var r=this;if(typeof e!="function")throw new Error("next() requires a callback argument");if(r._ended)return e(new Error("cannot call next() after end()"));if(r._nexting)return e(new Error("cannot call next() before previous next() has completed"));if(r._nexting=!0,typeof r._next=="function")return r._next(function(){r._nexting=!1,e.apply(null,arguments)});process.nextTick(function(){r._nexting=!1,e()})};qi.prototype.end=function(e){if(typeof e!="function")throw new Error("end() requires a callback argument");if(this._ended)return e(new Error("end() already called on iterator"));if(this._ended=!0,typeof this._end=="function")return this._end(e);process.nextTick(e)};var Vl=qi;function Lr(e){this._db=e,this._operations=[],this._written=!1}Lr.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")};Lr.prototype.put=function(e,r){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t||(t=this._db._checkKeyValue(r,"value",this._db._isBuffer),t))throw t;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(r)||(r=String(r)),typeof this._put=="function"?this._put(e,r):this._operations.push({type:"put",key:e,value:r}),this};Lr.prototype.del=function(e){this._checkWritten();var r=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(r)throw r;return this._db._isBuffer(e)||(e=String(e)),typeof this._del=="function"?this._del(e):this._operations.push({type:"del",key:e}),this};Lr.prototype.clear=function(){return this._checkWritten(),this._operations=[],typeof this._clear=="function"&&this._clear(),this};Lr.prototype.write=function(e,r){if(this._checkWritten(),typeof e=="function"&&(r=e),typeof r!="function")throw new Error("write() requires a callback argument");if(typeof e!="object"&&(e={}),this._written=!0,typeof this._write=="function")return this._write(r);if(typeof this._db._batch=="function")return this._db._batch(this._operations,e,r);process.nextTick(r)};var Kl=Lr,Hl=Ul,$f=Vl,Cf=Kl;function Ne(e){if(!arguments.length||e===void 0)throw new Error("constructor requires at least a location argument");if(typeof e!="string")throw new Error("constructor requires a location string argument");this.location=e}Ne.prototype.open=function(e,r){if(typeof e=="function"&&(r=e),typeof r!="function")throw new Error("open() requires a callback argument");if(typeof e!="object"&&(e={}),typeof this._open=="function")return this._open(e,r);process.nextTick(r)};Ne.prototype.close=function(e){if(typeof e!="function")throw new Error("close() requires a callback argument");if(typeof this._close=="function")return this._close(e);process.nextTick(e)};Ne.prototype.get=function(e,r,t){var n;if(typeof r=="function"&&(t=r),typeof t!="function")throw new Error("get() requires a callback argument");if(n=this._checkKeyValue(e,"key",this._isBuffer))return t(n);if(this._isBuffer(e)||(e=String(e)),typeof r!="object"&&(r={}),typeof this._get=="function")return this._get(e,r,t);process.nextTick(function(){t(new Error("NotFound"))})};Ne.prototype.put=function(e,r,t,n){var i;if(typeof t=="function"&&(n=t),typeof n!="function")throw new Error("put() requires a callback argument");if((i=this._checkKeyValue(e,"key",this._isBuffer))||(i=this._checkKeyValue(r,"value",this._isBuffer)))return n(i);if(this._isBuffer(e)||(e=String(e)),!this._isBuffer(r)&&!process.browser&&(r=String(r)),typeof t!="object"&&(t={}),typeof this._put=="function")return this._put(e,r,t,n);process.nextTick(n)};Ne.prototype.del=function(e,r,t){var n;if(typeof r=="function"&&(t=r),typeof t!="function")throw new Error("del() requires a callback argument");if(n=this._checkKeyValue(e,"key",this._isBuffer))return t(n);if(this._isBuffer(e)||(e=String(e)),typeof r!="object"&&(r={}),typeof this._del=="function")return this._del(e,r,t);process.nextTick(t)};Ne.prototype.batch=function(e,r,t){if(!arguments.length)return this._chainedBatch();if(typeof r=="function"&&(t=r),typeof t!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return t(new Error("batch(array) requires an array argument"));typeof r!="object"&&(r={});for(var n=0,i=e.length,a,o;n<i;n++)if(a=e[n],typeof a=="object"&&((o=this._checkKeyValue(a.type,"type",this._isBuffer))||(o=this._checkKeyValue(a.key,"key",this._isBuffer))||a.type=="put"&&(o=this._checkKeyValue(a.value,"value",this._isBuffer))))return t(o);if(typeof this._batch=="function")return this._batch(e,r,t);process.nextTick(t)};Ne.prototype.approximateSize=function(e,r,t){if(e==null||r==null||typeof e=="function"||typeof r=="function")throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if(typeof t!="function")throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(r)||(r=String(r)),typeof this._approximateSize=="function")return this._approximateSize(e,r,t);process.nextTick(function(){t(null,0)})};Ne.prototype._setupIteratorOptions=function(e){var r=this;return e=Hl(e),["start","end","gt","gte","lt","lte"].forEach(function(t){e[t]&&r._isBuffer(e[t])&&e[t].length===0&&delete e[t]}),e.reverse=!!e.reverse,e.reverse&&e.lt&&(e.start=e.lt),e.reverse&&e.lte&&(e.start=e.lte),!e.reverse&&e.gt&&(e.start=e.gt),!e.reverse&&e.gte&&(e.start=e.gte),(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)&&(e.exclusiveStart=!0),e};Ne.prototype.iterator=function(e){return typeof e!="object"&&(e={}),e=this._setupIteratorOptions(e),typeof this._iterator=="function"?this._iterator(e):new $f(this)};Ne.prototype._chainedBatch=function(){return new Cf(this)};Ne.prototype._isBuffer=function(e){return Buffer.isBuffer(e)};Ne.prototype._checkKeyValue=function(e,r){if(e==null)return new Error(r+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(e.length===0)return new Error(r+" cannot be an empty Buffer")}else if(String(e)==="")return new Error(r+" cannot be an empty String")};kr.AbstractLevelDOWN=Ne;kr.AbstractIterator=$f;kr.AbstractChainedBatch=Cf;var Tf={};(function(e){e.compare=function(h,d){if(Buffer.isBuffer(h)){for(var g=Math.min(h.length,d.length),w=0;w<g;w++){var y=h[w]-d[w];if(y)return y}return h.length-d.length}return h<d?-1:h>d?1:0};function r(h){return h!==void 0&&h!==""}function t(h,d){return Object.hasOwnProperty.call(h,d)}function n(h,d){return Object.hasOwnProperty.call(h,d)&&d}var i=e.lowerBoundKey=function(h){return n(h,"gt")||n(h,"gte")||n(h,"min")||(h.reverse?n(h,"end"):n(h,"start"))||void 0},a=e.lowerBound=function(h,d){var g=i(h);return g?h[g]:d},o=e.lowerBoundInclusive=function(h){return!t(h,"gt")},f=e.upperBoundInclusive=function(h){return!t(h,"lt")},u=e.lowerBoundExclusive=function(h){return!o(h)},s=e.upperBoundExclusive=function(h){return!f(h)},l=e.upperBoundKey=function(h){return n(h,"lt")||n(h,"lte")||n(h,"max")||(h.reverse?n(h,"start"):n(h,"end"))||void 0},c=e.upperBound=function(h,d){var g=l(h);return g?h[g]:d};e.start=function(h,d){return h.reverse?c(h,d):a(h,d)},e.end=function(h,d){return h.reverse?a(h,d):c(h,d)},e.startInclusive=function(h){return h.reverse?f(h):o(h)},e.endInclusive=function(h){return h.reverse?o(h):f(h)};function v(h){return h}e.toLtgt=function(h,d,g,w,y){d=d||{},g=g||v;var _=arguments.length>3,O=e.lowerBoundKey(h),b=e.upperBoundKey(h);return O?O==="gt"?d.gt=g(h.gt,!1):d.gte=g(h[O],!1):_&&(d.gte=g(w,!1)),b?b==="lt"?d.lt=g(h.lt,!0):d.lte=g(h[b],!0):_&&(d.lte=g(y,!0)),h.reverse!=null&&(d.reverse=!!h.reverse),t(d,"max")&&delete d.max,t(d,"min")&&delete d.min,t(d,"start")&&delete d.start,t(d,"end")&&delete d.end,d},e.contains=function(h,d,g){g=g||e.compare;var w=a(h);if(r(w)){var y=g(d,w);if(y<0||y===0&&u(h))return!1}var _=c(h);if(r(_)){var y=g(d,_);if(y>0||y===0&&s(h))return!1}return!0},e.filter=function(h,d){return function(g){return e.contains(h,g,d)}}})(Tf);var Yl=Ie,Rf=kr.AbstractIterator,_t=Tf,zl=dt;function dt(e,r){r||(r={}),this.options=r,Rf.call(this,e),this._order=r.reverse?"DESC":"ASC",this._limit=r.limit,this._count=0,this._done=!1;var t=_t.lowerBound(r),n=_t.upperBound(r);try{this._keyRange=t||n?this.db.makeKeyRange({lower:t,upper:n,excludeLower:_t.lowerBoundExclusive(r),excludeUpper:_t.upperBoundExclusive(r)}):null}catch{this._keyRangeError=!0}this.callback=null}Yl.inherits(dt,Rf);dt.prototype.createIterator=function(){var e=this;e.iterator=e.db.iterate(function(){e.onItem.apply(e,arguments)},{keyRange:e._keyRange,autoContinue:!1,order:e._order,onError:function(r){console.log("horrible error",r)}})};dt.prototype.onItem=function(e,r,t){if(!r&&this.callback){this.callback(),this.callback=!1;return}var n=!0;!!this._limit&&this._limit>0&&this._count++>=this._limit&&(n=!1),n&&this.callback(!1,r.key,r.value),r&&r.continue()};dt.prototype._next=function(e){if(!e)return new Error("next() requires a callback argument");if(this._keyRangeError)return e();this._started||(this.createIterator(),this._started=!0),this.callback=e};var Gl=We.Buffer,Jl=Xl;function Xl(e){return Gl.isBuffer(e)||/\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(e))}var Sn={exports:{}},xn,Ma;function Zl(){if(Ma)return xn;Ma=1;var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,t=function(n){var i=typeof n=="function"&&!(n instanceof RegExp)||r.call(n)==="[object Function]";return!i&&typeof window<"u"&&(i=n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt),i};return xn=function(i,a){if(!t(a))throw new TypeError("iterator must be a function");var o,f,u=typeof i=="string",s=i.length,l=arguments.length>2?arguments[2]:null;if(s===+s)for(o=0;o<s;o++)l===null?a(u?i.charAt(o):i[o],o,i):a.call(l,u?i.charAt(o):i[o],o,i);else for(f in i)e.call(i,f)&&(l===null?a(i[f],f,i):a.call(l,i[f],f,i))},xn}var On,Na;function Ql(){if(Na)return On;Na=1;var e=Object.prototype.toString;return On=function(t){var n=e.call(t),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&e.call(t.callee)==="[object Function]"),i},On}var Fa;function ed(){return Fa||(Fa=1,function(){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,t=Zl(),n=Ql(),i=!{toString:null}.propertyIsEnumerable("toString"),a=function(){}.propertyIsEnumerable("prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f;f=function(s){var l=s!==null&&typeof s=="object",c=r.call(s)==="[object Function]",v=n(s),h=[];if(!l&&!c&&!v)throw new TypeError("Object.keys called on a non-object");if(v)t(s,function(_){h.push(_)});else{var d,g=a&&c;for(d in s)!(g&&d==="prototype")&&e.call(s,d)&&h.push(d)}if(i){var w=s.constructor,y=w&&w.prototype===s;t(o,function(_){!(y&&_==="constructor")&&e.call(s,_)&&h.push(_)})}return h},Sn.exports=f}()),Sn.exports}var rd=Object.keys||ed(),td=nd;function nd(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var id=rd,ad=td,od=fd;function fd(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];if(!!ad(t))for(var n=id(t),i=0;i<n.length;i++){var a=n[i];e[a]=t[a]}}return e}var ud=function(e){return typeof Buffer._augment=="function"&&Buffer.TYPED_ARRAY_SUPPORT?Buffer._augment(e):new Buffer(e)},sd=$e,ld=Af.exports,dd=kr.AbstractLevelDOWN,cd=Ie,hd=zl,pd=Jl,vd=od,Bf=ud;function $e(e){if(!(this instanceof $e))return new $e(e);if(!e)throw new Error("constructor requires at least a location argument");this.IDBOptions={},this.location=e}cd.inherits($e,dd);$e.prototype._open=function(e,r){var t=this,n={storeName:this.location,autoIncrement:!1,keyPath:null,onStoreReady:function(){r&&r(null,t.idb)},onError:function(i){r&&r(i)}};vd(n,e),this.IDBOptions=n,this.idb=new ld(n)};$e.prototype._get=function(e,r,t){this.idb.get(e,function(n){if(n===void 0)return t(new Error("NotFound"));var i=!0;return r.asBuffer===!1&&(i=!1),r.raw&&(i=!1),i&&(n instanceof Uint8Array?n=Bf(n):n=new Buffer(String(n))),t(null,n,e)},t)};$e.prototype._del=function(e,r,t){this.idb.remove(e,t,t)};$e.prototype._put=function(e,r,t,n){r instanceof ArrayBuffer&&(r=Bf(new Uint8Array(r)));var i=this.convertEncoding(e,r,t);Buffer.isBuffer(i.value)&&(typeof r.toArrayBuffer=="function"?i.value=new Uint8Array(r.toArrayBuffer()):i.value=new Uint8Array(r)),this.idb.put(i.key,i.value,function(){n()},n)};$e.prototype.convertEncoding=function(e,r,t){if(t.raw)return{key:e,value:r};if(r){var n=r.toString();n==="NaN"&&(r="NaN")}var i=t.valueEncoding,a={key:e,value:r};return r&&(!i||i!=="binary")&&typeof a.value!="object"&&(a.value=n),a};$e.prototype.iterator=function(e){return typeof e!="object"&&(e={}),new hd(this.idb,e)};$e.prototype._batch=function(e,r,t){var n,i,a,o,f=[];if(e.length===0)return setTimeout(t,0);for(n=0;n<e.length;n++){a={},o=e[n],f[n]=a;var u=this.convertEncoding(o.key,o.value,r);o.key=u.key,o.value=u.value;for(i in o)i==="type"&&o[i]=="del"?a[i]="remove":a[i]=o[i]}return this.idb.batch(f,function(){t()},t)};$e.prototype._close=function(e){this.idb.db.close(),e()};$e.prototype._approximateSize=function(e,r,t){var n=new Error("Not implemented");if(t)return t(n);throw n};$e.prototype._isBuffer=function(e){return Buffer.isBuffer(e)};$e.destroy=function(e,r){if(typeof e=="object")var t=e.IDBOptions.storePrefix||"IDBWrapper-",n=e.location;else var t="IDBWrapper-",n=e;var i=indexedDB.deleteDatabase(t+n);i.onsuccess=function(){r()},i.onerror=function(a){r(a)}};$e.prototype._checkKeyValue=function(e,r){if(e==null)return new Error(r+" cannot be `null` or `undefined`");if(e==null)return new Error(r+" cannot be `null` or `undefined`");if(pd(e)&&e.byteLength===0)return new Error(r+" cannot be an empty ArrayBuffer");if(String(e)==="")return new Error(r+" cannot be an empty String");if(e.length===0)return new Error(r+" cannot be an empty Array")};var ct={exports:{}},Yt=gd;function gd(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}return e}var Df={exports:{}};/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */(function(e){(function(r,t,n){e.exports?e.exports=n():t[r]=n()})("prr",Fr,function(){var r=typeof Object.defineProperty=="function"?function(i,a,o){return Object.defineProperty(i,a,o),i}:function(i,a,o){return i[a]=o.value,i},t=function(i,a){var o=typeof a=="object",f=!o&&typeof a=="string",u=function(s){return o?!!a[s]:f?a.indexOf(s[0])>-1:!1};return{enumerable:u("enumerable"),configurable:u("configurable"),writable:u("writable"),value:i}},n=function(i,a,o,f){var u;if(f=t(o,f),typeof a=="object"){for(u in a)Object.hasOwnProperty.call(a,u)&&(f.value=a[u],r(i,u,f));return i}return r(i,a,f)};return n})})(Df);var md=Ie,Mf=kr.AbstractLevelDOWN;function sr(e){Mf.call(this,typeof e=="string"?e:""),this._db=void 0,this._operations=[]}md.inherits(sr,Mf);sr.prototype.setDb=function(e){this._db=e,this._operations.forEach(function(r){e[r.method].apply(e,r.args)})};sr.prototype._open=function(e,r){return process.nextTick(r)};sr.prototype._operation=function(e,r){if(this._db)return this._db[e].apply(this._db,r);this._operations.push({method:e,args:r})};"put get del batch approximateSize".split(" ").forEach(function(e){sr.prototype["_"+e]=function(){this._operation(e,arguments)}});sr.prototype._isBuffer=function(e){return Buffer.isBuffer(e)};sr.prototype._iterator=function(){throw new TypeError("not implemented")};var yd=sr,Vi={exports:{}},Nf={exports:{}};/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */(function(e){(function(r,t,n){e.exports?e.exports=n():t[r]=n()})("prr",Fr,function(){var r=typeof Object.defineProperty=="function"?function(i,a,o){return Object.defineProperty(i,a,o),i}:function(i,a,o){return i[a]=o.value,i},t=function(i,a){var o=typeof a=="object",f=!o&&typeof a=="string",u=function(s){return o?!!a[s]:f?a.indexOf(s[0])>-1:!1};return{enumerable:u("enumerable"),configurable:u("configurable"),writable:u("writable"),value:i}},n=function(i,a,o,f){var u;if(f=t(o,f),typeof a=="object"){for(u in a)Object.hasOwnProperty.call(a,u)&&(f.value=a[u],r(i,u,f));return i}return r(i,a,f)};return n})})(Nf);var bd=Nf.exports;function Ff(e,r,t){!!r&&typeof r!="string"&&(r=r.message||r.name),bd(this,{type:e,name:e,cause:typeof r!="string"?r:t,message:r},"ewr")}function Ki(e,r){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),Ff.call(this,"CustomError",e,r)}Ki.prototype=new Error;function wd(e,r,t){var n=function(i,a){Ff.call(this,r,i,a),r=="FilesystemError"&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=t?new t:new Ki,n}var _d=function(e){var r=function(t,n){return wd(e,t,n)};return{CustomError:Ki,FilesystemError:r("FilesystemError"),createError:r}};(function(e){var r=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},r.forEach(function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t}),e.exports.custom=_d(e.exports),e.exports.create=e.exports.custom.createError})(Vi);var cr=Vi.exports.create,dr=cr("LevelUPError"),Hi=cr("NotFoundError",dr);Hi.prototype.notFound=!0;Hi.prototype.status=404;var Ge={LevelUPError:dr,InitializationError:cr("InitializationError",dr),OpenError:cr("OpenError",dr),ReadError:cr("ReadError",dr),WriteError:cr("WriteError",dr),NotFoundError:Hi,EncodingError:cr("EncodingError",dr)},ai={exports:{}},X={};function Ed(e){return Array.isArray?Array.isArray(e):zt(e)==="[object Array]"}X.isArray=Ed;function Sd(e){return typeof e=="boolean"}X.isBoolean=Sd;function xd(e){return e===null}X.isNull=xd;function Od(e){return e==null}X.isNullOrUndefined=Od;function Ad(e){return typeof e=="number"}X.isNumber=Ad;function $d(e){return typeof e=="string"}X.isString=$d;function Cd(e){return typeof e=="symbol"}X.isSymbol=Cd;function Td(e){return e===void 0}X.isUndefined=Td;function Rd(e){return zt(e)==="[object RegExp]"}X.isRegExp=Rd;function Bd(e){return typeof e=="object"&&e!==null}X.isObject=Bd;function Dd(e){return zt(e)==="[object Date]"}X.isDate=Dd;function Md(e){return zt(e)==="[object Error]"||e instanceof Error}X.isError=Md;function Nd(e){return typeof e=="function"}X.isFunction=Nd;function Fd(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}X.isPrimitive=Fd;X.isBuffer=We.Buffer.isBuffer;function zt(e){return Object.prototype.toString.call(e)}var Pf=ye,Pd=Ht,Nt=We.Buffer;ye.ReadableState=jf;var Ft=Ve.exports.EventEmitter;Ft.listenerCount||(Ft.listenerCount=function(e,r){return e.listeners(r).length});var Gr=xe(),If=X;If.inherits=ue.exports;var Or;If.inherits(ye,Gr);function jf(e,r){e=e||{};var t=e.highWaterMark;this.highWaterMark=t||t===0?t:16*1024,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Or||(Or=tr().StringDecoder),this.decoder=new Or(e.encoding),this.encoding=e.encoding)}function ye(e){if(!(this instanceof ye))return new ye(e);this._readableState=new jf(e),this.readable=!0,Gr.call(this)}ye.prototype.push=function(e,r){var t=this._readableState;return typeof e=="string"&&!t.objectMode&&(r=r||t.defaultEncoding,r!==t.encoding&&(e=new Nt(e,r),r="")),kf(this,t,e,r,!1)};ye.prototype.unshift=function(e){var r=this._readableState;return kf(this,r,e,"",!0)};function kf(e,r,t,n,i){var a=kd(r,t);if(a)e.emit("error",a);else if(t==null)r.reading=!1,r.ended||Ld(e,r);else if(r.objectMode||t&&t.length>0)if(r.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(r.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else r.decoder&&!i&&!n&&(t=r.decoder.write(t)),r.length+=r.objectMode?1:t.length,i?r.buffer.unshift(t):(r.reading=!1,r.buffer.push(t)),r.needReadable&&Gt(e),Wd(e,r);else i||(r.reading=!1);return Id(r)}function Id(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ye.prototype.setEncoding=function(e){Or||(Or=tr().StringDecoder),this._readableState.decoder=new Or(e),this._readableState.encoding=e};var Pa=8388608;function jd(e){if(e>=Pa)e=Pa;else{e--;for(var r=1;r<32;r<<=1)e|=e>>r;e++}return e}function Ia(e,r){return r.length===0&&r.ended?0:r.objectMode?e===0?0:1:e===null||isNaN(e)?r.flowing&&r.buffer.length?r.buffer[0].length:r.length:e<=0?0:(e>r.highWaterMark&&(r.highWaterMark=jd(e)),e>r.length?r.ended?r.length:(r.needReadable=!0,0):e)}ye.prototype.read=function(e){var r=this._readableState;r.calledRead=!0;var t=e,n;if((typeof e!="number"||e>0)&&(r.emittedReadable=!1),e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return Gt(this),null;if(e=Ia(e,r),e===0&&r.ended)return n=null,r.length>0&&r.decoder&&(n=fi(e,r),r.length-=n.length),r.length===0&&ui(this),n;var i=r.needReadable;return r.length-e<=r.highWaterMark&&(i=!0),(r.ended||r.reading)&&(i=!1),i&&(r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1),i&&!r.reading&&(e=Ia(t,r)),e>0?n=fi(e,r):n=null,n===null&&(r.needReadable=!0,e=0),r.length-=e,r.length===0&&!r.ended&&(r.needReadable=!0),r.ended&&!r.endEmitted&&r.length===0&&ui(this),n};function kd(e,r){var t=null;return!Nt.isBuffer(r)&&typeof r!="string"&&r!==null&&r!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function Ld(e,r){if(r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&(r.buffer.push(t),r.length+=r.objectMode?1:t.length)}r.ended=!0,r.length>0?Gt(e):ui(e)}function Gt(e){var r=e._readableState;r.needReadable=!1,!r.emittedReadable&&(r.emittedReadable=!0,r.sync?process.nextTick(function(){ja(e)}):ja(e))}function ja(e){e.emit("readable")}function Wd(e,r){r.readingMore||(r.readingMore=!0,process.nextTick(function(){Ud(e,r)}))}function Ud(e,r){for(var t=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(e.read(0),t!==r.length);)t=r.length;r.readingMore=!1}ye.prototype._read=function(e){this.emit("error",new Error("not implemented"))};ye.prototype.pipe=function(e,r){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;var i=(!r||r.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=i?f:s;n.endEmitted?process.nextTick(a):t.once("end",a),e.on("unpipe",o);function o(d){d===t&&s()}function f(){e.end()}var u=qd(t);e.on("drain",u);function s(){e.removeListener("close",c),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",o),t.removeListener("end",f),t.removeListener("end",s),(!e._writableState||e._writableState.needDrain)&&u()}function l(d){h(),e.removeListener("error",l),Ft.listenerCount(e,"error")===0&&e.emit("error",d)}!e._events||!e._events.error?e.on("error",l):Pd(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error];function c(){e.removeListener("finish",v),h()}e.once("close",c);function v(){e.removeListener("close",c),h()}e.once("finish",v);function h(){t.unpipe(e)}return e.emit("pipe",t),n.flowing||(this.on("readable",oi),n.flowing=!0,process.nextTick(function(){Yi(t)})),e};function qd(e){return function(){var r=e._readableState;r.awaitDrain--,r.awaitDrain===0&&Yi(e)}}function Yi(e){var r=e._readableState,t;r.awaitDrain=0;function n(i,a,o){var f=i.write(t);f===!1&&r.awaitDrain++}for(;r.pipesCount&&(t=e.read())!==null;)if(r.pipesCount===1?n(r.pipes):Lf(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(r.pipesCount===0){r.flowing=!1,Ft.listenerCount(e,"data")>0&&Jt(e);return}r.ranOut=!0}function oi(){this._readableState.ranOut&&(this._readableState.ranOut=!1,Yi(this))}ye.prototype.unpipe=function(e){var r=this._readableState;if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,this.removeListener("readable",oi),r.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=r.pipes,n=r.pipesCount;r.pipes=null,r.pipesCount=0,this.removeListener("readable",oi),r.flowing=!1;for(var i=0;i<n;i++)t[i].emit("unpipe",this);return this}var i=Vd(r.pipes,e);return i===-1?this:(r.pipes.splice(i,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this),this)};ye.prototype.on=function(e,r){var t=Gr.prototype.on.call(this,e,r);if(e==="data"&&!this._readableState.flowing&&Jt(this),e==="readable"&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&Gt(this):this.read(0))}return t};ye.prototype.addListener=ye.prototype.on;ye.prototype.resume=function(){Jt(this),this.read(0),this.emit("resume")};ye.prototype.pause=function(){Jt(this,!0),this.emit("pause")};function Jt(e,r){var t=e._readableState;if(t.flowing)throw new Error("Cannot switch to old mode now.");var n=r||!1,i=!1;e.readable=!0,e.pipe=Gr.prototype.pipe,e.on=e.addListener=Gr.prototype.on,e.on("readable",function(){i=!0;for(var a;!n&&(a=e.read())!==null;)e.emit("data",a);a===null&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){n=!0,this.emit("pause")},e.resume=function(){n=!1,i?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}ye.prototype.wrap=function(e){var r=this._readableState,t=!1,n=this;e.on("end",function(){if(r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var f=n.push(o);f||(t=!0,e.pause())}});for(var i in e)typeof e[i]=="function"&&typeof this[i]>"u"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return Lf(a,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){t&&(t=!1,e.resume())},n};ye._fromList=fi;function fi(e,r){var t=r.buffer,n=r.length,i=!!r.decoder,a=!!r.objectMode,o;if(t.length===0)return null;if(n===0)o=null;else if(a)o=t.shift();else if(!e||e>=n)i?o=t.join(""):o=Nt.concat(t,n),t.length=0;else if(e<t[0].length){var f=t[0];o=f.slice(0,e),t[0]=f.slice(e)}else if(e===t[0].length)o=t.shift();else{i?o="":o=new Nt(e);for(var u=0,s=0,l=t.length;s<l&&u<e;s++){var f=t[0],c=Math.min(e-u,f.length);i?o+=f.slice(0,c):f.copy(o,u,0,c),c<f.length?t[0]=f.slice(c):t.shift(),u+=c}}return o}function ui(e){var r=e._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");!r.endEmitted&&r.calledRead&&(r.ended=!0,process.nextTick(function(){!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function Lf(e,r){for(var t=0,n=e.length;t<n;t++)r(e[t],t)}function Vd(e,r){for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1}var An,ka;function zi(){if(ka)return An;ka=1,An=i;var e=Object.keys||function(f){var u=[];for(var s in f)u.push(s);return u},r=X;r.inherits=ue.exports;var t=Pf,n=Wf();r.inherits(i,t),o(e(n.prototype),function(f){i.prototype[f]||(i.prototype[f]=n.prototype[f])});function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),n.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function o(f,u){for(var s=0,l=f.length;s<l;s++)u(f[s],s)}return An}var $n,La;function Wf(){if(La)return $n;La=1,$n=a;var e=We.Buffer;a.WritableState=i;var r=X;r.inherits=ue.exports;var t=xe();r.inherits(a,t);function n(b,p,m){this.chunk=b,this.encoding=p,this.callback=m}function i(b,p){b=b||{};var m=b.highWaterMark;this.highWaterMark=m||m===0?m:16*1024,this.objectMode=!!b.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var S=b.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){h(p,T)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function a(b){var p=zi();if(!(this instanceof a)&&!(this instanceof p))return new a(b);this._writableState=new i(b,this),this.writable=!0,t.call(this)}a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function o(b,p,m){var S=new Error("write after end");b.emit("error",S),process.nextTick(function(){m(S)})}function f(b,p,m,S){var T=!0;if(!e.isBuffer(m)&&typeof m!="string"&&m!==null&&m!==void 0&&!p.objectMode){var M=new TypeError("Invalid non-string/buffer chunk");b.emit("error",M),process.nextTick(function(){S(M)}),T=!1}return T}a.prototype.write=function(b,p,m){var S=this._writableState,T=!1;return typeof p=="function"&&(m=p,p=null),e.isBuffer(b)?p="buffer":p||(p=S.defaultEncoding),typeof m!="function"&&(m=function(){}),S.ended?o(this,S,m):f(this,S,b,m)&&(T=s(this,S,b,p,m)),T};function u(b,p,m){return!b.objectMode&&b.decodeStrings!==!1&&typeof p=="string"&&(p=new e(p,m)),p}function s(b,p,m,S,T){m=u(p,m,S),e.isBuffer(m)&&(S="buffer");var M=p.objectMode?1:m.length;p.length+=M;var L=p.length<p.highWaterMark;return L||(p.needDrain=!0),p.writing?p.buffer.push(new n(m,S,T)):l(b,p,M,m,S,T),L}function l(b,p,m,S,T,M){p.writelen=m,p.writecb=M,p.writing=!0,p.sync=!0,b._write(S,T,p.onwrite),p.sync=!1}function c(b,p,m,S,T){m?process.nextTick(function(){T(S)}):T(S),b._writableState.errorEmitted=!0,b.emit("error",S)}function v(b){b.writing=!1,b.writecb=null,b.length-=b.writelen,b.writelen=0}function h(b,p){var m=b._writableState,S=m.sync,T=m.writecb;if(v(m),p)c(b,m,S,p,T);else{var M=y(b,m);!M&&!m.bufferProcessing&&m.buffer.length&&w(b,m),S?process.nextTick(function(){d(b,m,M,T)}):d(b,m,M,T)}}function d(b,p,m,S){m||g(b,p),S(),m&&_(b,p)}function g(b,p){p.length===0&&p.needDrain&&(p.needDrain=!1,b.emit("drain"))}function w(b,p){p.bufferProcessing=!0;for(var m=0;m<p.buffer.length;m++){var S=p.buffer[m],T=S.chunk,M=S.encoding,L=S.callback,z=p.objectMode?1:T.length;if(l(b,p,z,T,M,L),p.writing){m++;break}}p.bufferProcessing=!1,m<p.buffer.length?p.buffer=p.buffer.slice(m):p.buffer.length=0}a.prototype._write=function(b,p,m){m(new Error("not implemented"))},a.prototype.end=function(b,p,m){var S=this._writableState;typeof b=="function"?(m=b,b=null,p=null):typeof p=="function"&&(m=p,p=null),typeof b<"u"&&b!==null&&this.write(b,p),!S.ending&&!S.finished&&O(this,S,m)};function y(b,p){return p.ending&&p.length===0&&!p.finished&&!p.writing}function _(b,p){var m=y(b,p);return m&&(p.finished=!0,b.emit("finish")),m}function O(b,p,m){p.ending=!0,_(b,p),m&&(p.finished?process.nextTick(m):b.once("finish",m)),p.ended=!0}return $n}var Uf=nr,Gi=zi(),qf=X;qf.inherits=ue.exports;qf.inherits(nr,Gi);function Kd(e,r){this.afterTransform=function(t,n){return Hd(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function Hd(e,r,t){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,t!=null&&e.push(t),i&&i(r);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function nr(e){if(!(this instanceof nr))return new nr(e);Gi.call(this,e),this._transformState=new Kd(e,this);var r=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){typeof this._flush=="function"?this._flush(function(t){Wa(r,t)}):Wa(r)})}nr.prototype.push=function(e,r){return this._transformState.needTransform=!1,Gi.prototype.push.call(this,e,r)};nr.prototype._transform=function(e,r,t){throw new Error("not implemented")};nr.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};nr.prototype._read=function(e){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};function Wa(e,r){if(r)return e.emit("error",r);var t=e._writableState;e._readableState;var n=e._transformState;if(t.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}var Yd=Jr,Vf=Uf,Kf=X;Kf.inherits=ue.exports;Kf.inherits(Jr,Vf);function Jr(e){if(!(this instanceof Jr))return new Jr(e);Vf.call(this,e)}Jr.prototype._transform=function(e,r,t){t(null,e)};(function(e,r){var t=xe();r=e.exports=Pf,r.Stream=t,r.Readable=r,r.Writable=Wf(),r.Duplex=zi(),r.Transform=Uf,r.PassThrough=Yd,!process.browser&&process.env.READABLE_STREAM==="disable"&&(e.exports=xe())})(ai,ai.exports);const zd="levelup",Gd="Fast & simple storage - a Node.js-style LevelDB wrapper",Jd="0.18.6",Xd=["Rod Vagg <r@va.gg> (https://github.com/rvagg)","John Chesley <john@chesl.es> (https://github.com/chesles/)","Jake Verbaten <raynos2@gmail.com> (https://github.com/raynos)","Dominic Tarr <dominic.tarr@gmail.com> (https://github.com/dominictarr)","Max Ogden <max@maxogden.com> (https://github.com/maxogden)","Lars-Magnus Skog <lars.magnus.skog@gmail.com> (https://github.com/ralphtheninja)","David Bj\xF6rklund <david.bjorklund@gmail.com> (https://github.com/kesla)","Julian Gruber <julian@juliangruber.com> (https://github.com/juliangruber)","Paolo Fragomeni <paolo@async.ly> (https://github.com/hij1nx)","Anton Whalley <anton.whalley@nearform.com> (https://github.com/No9)","Matteo Collina <matteo.collina@gmail.com> (https://github.com/mcollina)","Pedro Teixeira <pedro.teixeira@gmail.com> (https://github.com/pgte)","James Halliday <mail@substack.net> (https://github.com/substack)"],Zd={type:"git",url:"https://github.com/rvagg/node-levelup.git"},Qd="https://github.com/rvagg/node-levelup",ec=["leveldb","stream","database","db","store","storage","json"],rc="lib/levelup.js",tc={bl:"~0.8.1","deferred-leveldown":"~0.2.0",errno:"~0.1.1",prr:"~0.0.0","readable-stream":"~1.0.26",semver:"~2.3.1",xtend:"~3.0.0"},nc={leveldown:"~0.10.0",bustermove:"*",tap:"*",referee:"*",rimraf:"*",async:"*",fstream:"*",tar:"*",mkfiletree:"*",readfiletree:"*","slow-stream":">=0.0.4",delayed:"*",boganipsum:"*",du:"*",memdown:"*","msgpack-js":"*"},ic={leveldown:!1,"leveldown/package":!1,semver:!1},ac={test:"tap test/*-test.js --stderr",functionaltests:"node ./test/functional/fstream-test.js && node ./test/functional/binary-data-test.js && node ./test/functional/compat-test.js",alltests:"npm test && npm run-script functionaltests"},oc="MIT",fc={name:zd,description:Gd,version:Jd,contributors:Xd,repository:Zd,homepage:Qd,keywords:ec,main:rc,dependencies:tc,devDependencies:nc,browser:ic,scripts:ac,license:oc};var uc=Yt,Cn=Ge.LevelUPError,Hf=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le"],Yf={createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},Tn,zf=function(){function e(t){return t==null||Buffer.isBuffer(t)}var r={};return r.utf8=r["utf-8"]={encode:function(t){return e(t)?t:String(t)},decode:function(t){return t},buffer:!1,type:"utf8"},r.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},Hf.forEach(function(t){r[t]||(r[t]={encode:function(n){return e(n)?n:new Buffer(n,t)},decode:function(n){return process.browser?n.toString(t):n},buffer:!0,type:t})}),r}(),Ua=function(){var e={};return Hf.forEach(function(r){e[r]={valueEncoding:r}}),e}();function sc(e,r,t){e.readStream().pipe(r.writeStream()).on("close",t||function(){}).on("error",t||function(n){throw n})}function lc(e,r){var t=typeof r=="string";return!t&&r&&r.encoding&&!r.valueEncoding&&(r.valueEncoding=r.encoding),uc(e&&e.options||{},t?Ua[r]||Ua[Yf.valueEncoding]:r)}function dc(){if(Tn)return Tn;var e=fc.devDependencies.leveldown,r="Could not locate LevelDOWN, try `npm install leveldown`",t;try{t=En.version}catch{throw new Cn(r)}if(!En.satisfies(t,e))throw new Cn("Installed version of LevelDOWN ("+t+") does not match required version ("+e+")");try{return Tn=En}catch{throw new Cn(r)}}function cc(e,r,t){return typeof t=="function"?t(r):e.emit("error",r)}function Ji(e,r){var t=r&&r.keyEncoding||e.keyEncoding||"utf8";return zf[t]||t}function Xi(e,r){var t=r&&(r.valueEncoding||r.encoding)||e.valueEncoding||e.encoding||"utf8";return zf[t]||t}function hc(e,r,t){return Ji(r,t).encode(e)}function pc(e,r,t){return Xi(r,t).encode(e)}function vc(e,r){return Ji(r).decode(e)}function gc(e,r){return Xi(r).decode(e)}function mc(e,r){return Xi(e,r).buffer}function yc(e,r){return Ji(e,r).buffer}var Xt={defaultOptions:Yf,copy:sc,getOptions:lc,getLevelDOWN:dc,dispatchError:cc,encodeKey:hc,encodeValue:pc,isValueAsBuffer:mc,isKeyAsBuffer:yc,decodeValue:gc,decodeKey:vc},Gf=ai.exports.Readable,bc=Ie.inherits,wc=Yt,_c=Ge.EncodingError,er=Xt,Ec={keys:!0,values:!0},Sc=function(e,r){return{key:er.decodeKey(e,this._options),value:er.decodeValue(r,this._options)}},xc=function(e){return er.decodeKey(e,this._options)},Oc=function(e,r){return er.decodeValue(r,this._options)},Ac=function(){return null};function ir(e,r,t){if(!(this instanceof ir))return new ir(e,r,t);Gf.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._db=r,e=this._options=wc(Ec,e),this._keyEncoding=e.keyEncoding||e.encoding,this._valueEncoding=e.valueEncoding||e.encoding,typeof this._options.start<"u"&&(this._options.start=er.encodeKey(this._options.start,this._options)),typeof this._options.end<"u"&&(this._options.end=er.encodeKey(this._options.end,this._options)),typeof this._options.limit!="number"&&(this._options.limit=-1),this._options.keyAsBuffer=er.isKeyAsBuffer(this._options),this._options.valueAsBuffer=er.isValueAsBuffer(this._options),this._makeData=this._options.keys&&this._options.values?Sc:this._options.keys?xc:this._options.values?Oc:Ac;var n=this;this._db.isOpen()?this._iterator=t(this._options):this._db.once("ready",function(){n._destroyed||(n._iterator=t(n._options))})}bc(ir,Gf);ir.prototype._read=function e(){var r=this;if(!r._db.isOpen())return r._db.once("ready",function(){e.call(r)});r._destroyed||r._iterator.next(function(t,n,i){if(t||n===void 0&&i===void 0)return!t&&!r._destroyed&&r.push(null),r._cleanup(t);try{i=r._makeData(n,i)}catch(a){return r._cleanup(new _c(a))}r._destroyed||r.push(i)})};ir.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var r=this;e&&r.emit("error",e),r._iterator?r._iterator.end(function(){r._iterator=null,r.emit("close")}):r.emit("close")}};ir.prototype.destroy=function(){this._cleanup()};ir.prototype.toString=function(){return"LevelUP.ReadStream"};var $c=ir,si={exports:{}},Jf=be,Cc=Ht,Pt=We.Buffer;be.ReadableState=Zf;var It=Ve.exports.EventEmitter;It.listenerCount||(It.listenerCount=function(e,r){return e.listeners(r).length});var Xr=xe(),Xf=X;Xf.inherits=ue.exports;var Ar;Xf.inherits(be,Xr);function Zf(e,r){e=e||{};var t=e.highWaterMark;this.highWaterMark=t||t===0?t:16*1024,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ar||(Ar=tr().StringDecoder),this.decoder=new Ar(e.encoding),this.encoding=e.encoding)}function be(e){if(!(this instanceof be))return new be(e);this._readableState=new Zf(e),this.readable=!0,Xr.call(this)}be.prototype.push=function(e,r){var t=this._readableState;return typeof e=="string"&&!t.objectMode&&(r=r||t.defaultEncoding,r!==t.encoding&&(e=new Pt(e,r),r="")),Qf(this,t,e,r,!1)};be.prototype.unshift=function(e){var r=this._readableState;return Qf(this,r,e,"",!0)};function Qf(e,r,t,n,i){var a=Bc(r,t);if(a)e.emit("error",a);else if(t==null)r.reading=!1,r.ended||Dc(e,r);else if(r.objectMode||t&&t.length>0)if(r.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(r.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else r.decoder&&!i&&!n&&(t=r.decoder.write(t)),r.length+=r.objectMode?1:t.length,i?r.buffer.unshift(t):(r.reading=!1,r.buffer.push(t)),r.needReadable&&Zt(e),Mc(e,r);else i||(r.reading=!1);return Tc(r)}function Tc(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}be.prototype.setEncoding=function(e){Ar||(Ar=tr().StringDecoder),this._readableState.decoder=new Ar(e),this._readableState.encoding=e};var qa=8388608;function Rc(e){if(e>=qa)e=qa;else{e--;for(var r=1;r<32;r<<=1)e|=e>>r;e++}return e}function Va(e,r){return r.length===0&&r.ended?0:r.objectMode?e===0?0:1:e===null||isNaN(e)?r.flowing&&r.buffer.length?r.buffer[0].length:r.length:e<=0?0:(e>r.highWaterMark&&(r.highWaterMark=Rc(e)),e>r.length?r.ended?r.length:(r.needReadable=!0,0):e)}be.prototype.read=function(e){var r=this._readableState;r.calledRead=!0;var t=e,n;if((typeof e!="number"||e>0)&&(r.emittedReadable=!1),e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return Zt(this),null;if(e=Va(e,r),e===0&&r.ended)return n=null,r.length>0&&r.decoder&&(n=di(e,r),r.length-=n.length),r.length===0&&ci(this),n;var i=r.needReadable;return r.length-e<=r.highWaterMark&&(i=!0),(r.ended||r.reading)&&(i=!1),i&&(r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1),i&&!r.reading&&(e=Va(t,r)),e>0?n=di(e,r):n=null,n===null&&(r.needReadable=!0,e=0),r.length-=e,r.length===0&&!r.ended&&(r.needReadable=!0),r.ended&&!r.endEmitted&&r.length===0&&ci(this),n};function Bc(e,r){var t=null;return!Pt.isBuffer(r)&&typeof r!="string"&&r!==null&&r!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function Dc(e,r){if(r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&(r.buffer.push(t),r.length+=r.objectMode?1:t.length)}r.ended=!0,r.length>0?Zt(e):ci(e)}function Zt(e){var r=e._readableState;r.needReadable=!1,!r.emittedReadable&&(r.emittedReadable=!0,r.sync?process.nextTick(function(){Ka(e)}):Ka(e))}function Ka(e){e.emit("readable")}function Mc(e,r){r.readingMore||(r.readingMore=!0,process.nextTick(function(){Nc(e,r)}))}function Nc(e,r){for(var t=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(e.read(0),t!==r.length);)t=r.length;r.readingMore=!1}be.prototype._read=function(e){this.emit("error",new Error("not implemented"))};be.prototype.pipe=function(e,r){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;var i=(!r||r.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=i?f:s;n.endEmitted?process.nextTick(a):t.once("end",a),e.on("unpipe",o);function o(d){d===t&&s()}function f(){e.end()}var u=Fc(t);e.on("drain",u);function s(){e.removeListener("close",c),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",o),t.removeListener("end",f),t.removeListener("end",s),(!e._writableState||e._writableState.needDrain)&&u()}function l(d){h(),e.removeListener("error",l),It.listenerCount(e,"error")===0&&e.emit("error",d)}!e._events||!e._events.error?e.on("error",l):Cc(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error];function c(){e.removeListener("finish",v),h()}e.once("close",c);function v(){e.removeListener("close",c),h()}e.once("finish",v);function h(){t.unpipe(e)}return e.emit("pipe",t),n.flowing||(this.on("readable",li),n.flowing=!0,process.nextTick(function(){Zi(t)})),e};function Fc(e){return function(){var r=e._readableState;r.awaitDrain--,r.awaitDrain===0&&Zi(e)}}function Zi(e){var r=e._readableState,t;r.awaitDrain=0;function n(i,a,o){var f=i.write(t);f===!1&&r.awaitDrain++}for(;r.pipesCount&&(t=e.read())!==null;)if(r.pipesCount===1?n(r.pipes):eu(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(r.pipesCount===0){r.flowing=!1,It.listenerCount(e,"data")>0&&Qt(e);return}r.ranOut=!0}function li(){this._readableState.ranOut&&(this._readableState.ranOut=!1,Zi(this))}be.prototype.unpipe=function(e){var r=this._readableState;if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,this.removeListener("readable",li),r.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=r.pipes,n=r.pipesCount;r.pipes=null,r.pipesCount=0,this.removeListener("readable",li),r.flowing=!1;for(var i=0;i<n;i++)t[i].emit("unpipe",this);return this}var i=Pc(r.pipes,e);return i===-1?this:(r.pipes.splice(i,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this),this)};be.prototype.on=function(e,r){var t=Xr.prototype.on.call(this,e,r);if(e==="data"&&!this._readableState.flowing&&Qt(this),e==="readable"&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&Zt(this):this.read(0))}return t};be.prototype.addListener=be.prototype.on;be.prototype.resume=function(){Qt(this),this.read(0),this.emit("resume")};be.prototype.pause=function(){Qt(this,!0),this.emit("pause")};function Qt(e,r){var t=e._readableState;if(t.flowing)throw new Error("Cannot switch to old mode now.");var n=r||!1,i=!1;e.readable=!0,e.pipe=Xr.prototype.pipe,e.on=e.addListener=Xr.prototype.on,e.on("readable",function(){i=!0;for(var a;!n&&(a=e.read())!==null;)e.emit("data",a);a===null&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){n=!0,this.emit("pause")},e.resume=function(){n=!1,i?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}be.prototype.wrap=function(e){var r=this._readableState,t=!1,n=this;e.on("end",function(){if(r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var f=n.push(o);f||(t=!0,e.pause())}});for(var i in e)typeof e[i]=="function"&&typeof this[i]>"u"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return eu(a,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){t&&(t=!1,e.resume())},n};be._fromList=di;function di(e,r){var t=r.buffer,n=r.length,i=!!r.decoder,a=!!r.objectMode,o;if(t.length===0)return null;if(n===0)o=null;else if(a)o=t.shift();else if(!e||e>=n)i?o=t.join(""):o=Pt.concat(t,n),t.length=0;else if(e<t[0].length){var f=t[0];o=f.slice(0,e),t[0]=f.slice(e)}else if(e===t[0].length)o=t.shift();else{i?o="":o=new Pt(e);for(var u=0,s=0,l=t.length;s<l&&u<e;s++){var f=t[0],c=Math.min(e-u,f.length);i?o+=f.slice(0,c):f.copy(o,u,0,c),c<f.length?t[0]=f.slice(c):t.shift(),u+=c}}return o}function ci(e){var r=e._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");!r.endEmitted&&r.calledRead&&(r.ended=!0,process.nextTick(function(){!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function eu(e,r){for(var t=0,n=e.length;t<n;t++)r(e[t],t)}function Pc(e,r){for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1}var Rn,Ha;function Qi(){if(Ha)return Rn;Ha=1,Rn=i;var e=Object.keys||function(f){var u=[];for(var s in f)u.push(s);return u},r=X;r.inherits=ue.exports;var t=Jf,n=ru();r.inherits(i,t),o(e(n.prototype),function(f){i.prototype[f]||(i.prototype[f]=n.prototype[f])});function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),n.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function o(f,u){for(var s=0,l=f.length;s<l;s++)u(f[s],s)}return Rn}var Bn,Ya;function ru(){if(Ya)return Bn;Ya=1,Bn=a;var e=We.Buffer;a.WritableState=i;var r=X;r.inherits=ue.exports;var t=xe();r.inherits(a,t);function n(b,p,m){this.chunk=b,this.encoding=p,this.callback=m}function i(b,p){b=b||{};var m=b.highWaterMark;this.highWaterMark=m||m===0?m:16*1024,this.objectMode=!!b.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var S=b.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){h(p,T)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function a(b){var p=Qi();if(!(this instanceof a)&&!(this instanceof p))return new a(b);this._writableState=new i(b,this),this.writable=!0,t.call(this)}a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function o(b,p,m){var S=new Error("write after end");b.emit("error",S),process.nextTick(function(){m(S)})}function f(b,p,m,S){var T=!0;if(!e.isBuffer(m)&&typeof m!="string"&&m!==null&&m!==void 0&&!p.objectMode){var M=new TypeError("Invalid non-string/buffer chunk");b.emit("error",M),process.nextTick(function(){S(M)}),T=!1}return T}a.prototype.write=function(b,p,m){var S=this._writableState,T=!1;return typeof p=="function"&&(m=p,p=null),e.isBuffer(b)?p="buffer":p||(p=S.defaultEncoding),typeof m!="function"&&(m=function(){}),S.ended?o(this,S,m):f(this,S,b,m)&&(T=s(this,S,b,p,m)),T};function u(b,p,m){return!b.objectMode&&b.decodeStrings!==!1&&typeof p=="string"&&(p=new e(p,m)),p}function s(b,p,m,S,T){m=u(p,m,S),e.isBuffer(m)&&(S="buffer");var M=p.objectMode?1:m.length;p.length+=M;var L=p.length<p.highWaterMark;return L||(p.needDrain=!0),p.writing?p.buffer.push(new n(m,S,T)):l(b,p,M,m,S,T),L}function l(b,p,m,S,T,M){p.writelen=m,p.writecb=M,p.writing=!0,p.sync=!0,b._write(S,T,p.onwrite),p.sync=!1}function c(b,p,m,S,T){m?process.nextTick(function(){T(S)}):T(S),b._writableState.errorEmitted=!0,b.emit("error",S)}function v(b){b.writing=!1,b.writecb=null,b.length-=b.writelen,b.writelen=0}function h(b,p){var m=b._writableState,S=m.sync,T=m.writecb;if(v(m),p)c(b,m,S,p,T);else{var M=y(b,m);!M&&!m.bufferProcessing&&m.buffer.length&&w(b,m),S?process.nextTick(function(){d(b,m,M,T)}):d(b,m,M,T)}}function d(b,p,m,S){m||g(b,p),S(),m&&_(b,p)}function g(b,p){p.length===0&&p.needDrain&&(p.needDrain=!1,b.emit("drain"))}function w(b,p){p.bufferProcessing=!0;for(var m=0;m<p.buffer.length;m++){var S=p.buffer[m],T=S.chunk,M=S.encoding,L=S.callback,z=p.objectMode?1:T.length;if(l(b,p,z,T,M,L),p.writing){m++;break}}p.bufferProcessing=!1,m<p.buffer.length?p.buffer=p.buffer.slice(m):p.buffer.length=0}a.prototype._write=function(b,p,m){m(new Error("not implemented"))},a.prototype.end=function(b,p,m){var S=this._writableState;typeof b=="function"?(m=b,b=null,p=null):typeof p=="function"&&(m=p,p=null),typeof b<"u"&&b!==null&&this.write(b,p),!S.ending&&!S.finished&&O(this,S,m)};function y(b,p){return p.ending&&p.length===0&&!p.finished&&!p.writing}function _(b,p){var m=y(b,p);return m&&(p.finished=!0,b.emit("finish")),m}function O(b,p,m){p.ending=!0,_(b,p),m&&(p.finished?process.nextTick(m):b.once("finish",m)),p.ended=!0}return Bn}var tu=ar,ea=Qi(),nu=X;nu.inherits=ue.exports;nu.inherits(ar,ea);function Ic(e,r){this.afterTransform=function(t,n){return jc(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function jc(e,r,t){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,t!=null&&e.push(t),i&&i(r);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function ar(e){if(!(this instanceof ar))return new ar(e);ea.call(this,e),this._transformState=new Ic(e,this);var r=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){typeof this._flush=="function"?this._flush(function(t){za(r,t)}):za(r)})}ar.prototype.push=function(e,r){return this._transformState.needTransform=!1,ea.prototype.push.call(this,e,r)};ar.prototype._transform=function(e,r,t){throw new Error("not implemented")};ar.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ar.prototype._read=function(e){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};function za(e,r){if(r)return e.emit("error",r);var t=e._writableState;e._readableState;var n=e._transformState;if(t.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}var kc=Zr,iu=tu,au=X;au.inherits=ue.exports;au.inherits(Zr,iu);function Zr(e){if(!(this instanceof Zr))return new Zr(e);iu.call(this,e)}Zr.prototype._transform=function(e,r,t){t(null,e)};(function(e,r){var t=xe();r=e.exports=Jf,r.Stream=t,r.Readable=r,r.Writable=ru(),r.Duplex=Qi(),r.Transform=tu,r.PassThrough=kc,!process.browser&&process.env.READABLE_STREAM==="disable"&&(e.exports=xe())})(si,si.exports);var ra=si.exports.Duplex,Lc=Ie;function Ee(e){if(!(this instanceof Ee))return new Ee(e);if(this._bufs=[],this.length=0,typeof e=="function"){this._callback=e;var r=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",r)}),this.on("unpipe",function(t){t.removeListener("error",r)})}else Buffer.isBuffer(e)?this.append(e):Array.isArray(e)&&e.forEach(function(t){Buffer.isBuffer(t)&&this.append(t)}.bind(this));ra.call(this)}Lc.inherits(Ee,ra);Ee.prototype._offset=function(e){for(var r=0,t=0,n;t<this._bufs.length;t++){if(n=r+this._bufs[t].length,e<n)return[t,e-r];r=n}};Ee.prototype.append=function(e){return this._bufs.push(Buffer.isBuffer(e)?e:new Buffer(e)),this.length+=e.length,this};Ee.prototype._write=function(e,r,t){this.append(e),t&&t()};Ee.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)};Ee.prototype.end=function(e){ra.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)};Ee.prototype.get=function(e){return this.slice(e,e+1)[0]};Ee.prototype.slice=function(e,r){return this.copy(null,0,e,r)};Ee.prototype.copy=function(e,r,t,n){if((typeof t!="number"||t<0)&&(t=0),(typeof n!="number"||n>this.length)&&(n=this.length),t>=this.length)return e||new Buffer(0);if(n<=0)return e||new Buffer(0);var i=!!e,a=this._offset(t),o=n-t,f=o,u=i&&r||0,s=a[1],l,c;if(t===0&&n==this.length){if(!i)return Buffer.concat(this._bufs);for(c=0;c<this._bufs.length;c++)this._bufs[c].copy(e,u),u+=this._bufs[c].length;return e}if(f<=this._bufs[a[0]].length-s)return i?this._bufs[a[0]].copy(e,r,s,s+f):this._bufs[a[0]].slice(s,s+f);for(i||(e=new Buffer(o)),c=a[0];c<this._bufs.length;c++){if(l=this._bufs[c].length-s,f>l)this._bufs[c].copy(e,u,s);else{this._bufs[c].copy(e,u,s,s+f);break}u+=l,f-=l,s&&(s=0)}return e};Ee.prototype.toString=function(e,r,t){return this.slice(r,t).toString(e)};Ee.prototype.consume=function(e){for(;this._bufs.length;)if(e>this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};Ee.prototype.duplicate=function(){for(var e=0,r=new Ee;e<this._bufs.length;e++)r.append(this._bufs[e]);return r};Ee.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)};(function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var r in e)(function(t){Ee.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}})(r)})();var Wc=Ee,ou=xe().Stream,Uc=Ie.inherits,qc=Yt,Vc=Wc,ta=Fr.setImmediate||process.nextTick,Kc=Xt.getOptions,Hc={type:"put"};function Me(e,r){if(!(this instanceof Me))return new Me(e,r);ou.call(this),this._options=qc(Hc,Kc(r,e)),this._db=r,this._buffer=[],this._status="init",this._end=!1,this.writable=!0,this.readable=!1;var t=this,n=function(){!t.writable||(t._status="ready",t.emit("ready"),t._process())};r.isOpen()?ta(n):r.once("ready",n)}Uc(Me,ou);Me.prototype.write=function(e){return this.writable?(this._buffer.push(e),this._status!="init"&&this._processDelayed(),this._options.maxBufferLength&&this._buffer.length>this._options.maxBufferLength?(this._writeBlock=!0,!1):!0):!1};Me.prototype.end=function(e){var r=this;e&&this.write(e),ta(function(){r._end=!0,r._process()})};Me.prototype.destroy=function(){this.writable=!1,this.end()};Me.prototype.destroySoon=function(){this.end()};Me.prototype.add=function(e){if(!!e.props)return e.props.Directory?e.pipe(this._db.writeStream(this._options)):(e.props.File||e.File||e.type=="File")&&this._write(e),!0};Me.prototype._processDelayed=function(){var e=this;ta(function(){e._process()})};Me.prototype._process=function(){var e,r=this,t=function(n){if(!!r.writable){if(r._status!="closed"&&(r._status="ready"),n)return r.writable=!1,r.emit("error",n);r._process()}};if(r._status!="ready"&&r.writable){r._buffer.length&&r._status!="closed"&&r._processDelayed();return}if(r._buffer.length&&r.writable){r._status="writing",e=r._buffer,r._buffer=[],r._db.batch(e.map(function(n){return{type:n.type||r._options.type,key:n.key,value:n.value,keyEncoding:n.keyEncoding||r._options.keyEncoding,valueEncoding:n.valueEncoding||n.encoding||r._options.valueEncoding}}),t),r._writeBlock&&(r._writeBlock=!1,r.emit("drain"));return}r._end&&r._status!="closed"&&(r._status="closed",r.writable=!1,r.emit("close"))};Me.prototype._write=function(e){var r=e.path||e.props.path,t=this;!r||e.pipe(Vc(function(n,i){if(n)return t.writable=!1,t.emit("error",n);t._options.fstreamRoot&&r.indexOf(t._options.fstreamRoot)>-1&&(r=r.substr(t._options.fstreamRoot.length+1)),t.write({key:r,value:i.slice(0)})}))};Me.prototype.toString=function(){return"LevelUP.WriteStream"};var Yc=Me,Qr=Xt,et=Ge.WriteError,fu=Qr.getOptions,zc=Qr.dispatchError;function ht(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[]}ht.prototype.put=function(e,r,t){t=fu(this._levelup,t);var n=Qr.encodeKey(e,t),i=Qr.encodeValue(r,t);try{this.batch.put(n,i)}catch(a){throw new et(a)}return this.ops.push({type:"put",key:n,value:i}),this};ht.prototype.del=function(e,r){r=fu(this._levelup,r);var t=Qr.encodeKey(e,r);try{this.batch.del(t)}catch(n){throw new et(n)}return this.ops.push({type:"del",key:t}),this};ht.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new et(e)}return this.ops=[],this};ht.prototype.write=function(e){var r=this._levelup,t=this.ops;try{this.batch.write(function(n){if(n)return zc(r,new et(n),e);r.emit("batch",t),e&&e()})}catch(n){throw new et(n)}};var Gc=ht,uu=Ve.exports.EventEmitter,Jc=Ie.inherits,pt=Yt,Xc=Df.exports,Zc=yd,qe=Ge.WriteError,Ct=Ge.ReadError,Qc=Ge.NotFoundError,su=Ge.OpenError,eh=Ge.EncodingError,rh=Ge.InitializationError,th=$c,nh=Yc,Oe=Xt,ih=Gc,en=Oe.getOptions,ah=Oe.defaultOptions,lu=Oe.getLevelDOWN,Ae=Oe.dispatchError;function rn(e,r){return typeof e=="function"?e:r}function de(e,r,t){if(!(this instanceof de))return new de(e,r,t);var n;if(uu.call(this),this.setMaxListeners(1/0),typeof e=="function"?(r=typeof r=="object"?r:{},r.db=e,e=null):typeof e=="object"&&typeof e.db=="function"&&(r=e,e=null),typeof r=="function"&&(t=r,r={}),(!r||typeof r.db!="function")&&typeof e!="string"){if(n=new rh("Must provide a location for the database"),t)return process.nextTick(function(){t(n)});throw n}r=en(this,r),this.options=pt(ah,r),this._status="new",Xc(this,"location",e,"e"),this.open(t)}Jc(de,uu);de.prototype.open=function(e){var r=this,t,n;if(this.isOpen())return e&&process.nextTick(function(){e(null,r)}),this;if(this._isOpening())return e&&this.once("open",function(){e(null,r)});this.emit("opening"),this._status="opening",this.db=new Zc(this.location),t=this.options.db||lu(),n=t(this.location),n.open(this.options,function(i){if(i)return Ae(r,new su(i),e);r.db.setDb(n),r.db=n,r._status="open",e&&e(null,r),r.emit("open"),r.emit("ready")})};de.prototype.close=function(e){var r=this;if(this.isOpen())this._status="closing",this.db.close(function(){r._status="closed",r.emit("closed"),e&&e.apply(null,arguments)}),this.emit("closing"),this.db=null;else{if(this._status=="closed"&&e)return process.nextTick(e);this._status=="closing"&&e?this.once("closed",e):this._isOpening()&&this.once("open",function(){r.close(e)})}};de.prototype.isOpen=function(){return this._status=="open"};de.prototype._isOpening=function(){return this._status=="opening"};de.prototype.isClosed=function(){return/^clos/.test(this._status)};de.prototype.get=function(e,r,t){var n=this,i;if(t=rn(r,t),typeof t!="function")return Ae(this,new Ct("get() requires key and callback arguments"));if(!this._isOpening()&&!this.isOpen())return Ae(this,new Ct("Database is not open"),t);r=Oe.getOptions(this,r),i=Oe.encodeKey(e,r),r.asBuffer=Oe.isValueAsBuffer(r),this.db.get(i,r,function(a,o){if(a)return/notfound/i.test(a)?a=new Qc("Key not found in database ["+e+"]",a):a=new Ct(a),Ae(n,a,t);if(t){try{o=Oe.decodeValue(o,r)}catch(f){return t(new eh(f))}t(null,o)}})};de.prototype.put=function(e,r,t,n){var i=this,a,o;if(n=rn(t,n),e==null||r===null||r===void 0)return Ae(this,new qe("put() requires key and value arguments"),n);if(!this._isOpening()&&!this.isOpen())return Ae(this,new qe("Database is not open"),n);t=en(this,t),a=Oe.encodeKey(e,t),o=Oe.encodeValue(r,t),this.db.put(a,o,t,function(f){if(f)return Ae(i,new qe(f),n);i.emit("put",e,r),n&&n()})};de.prototype.del=function(e,r,t){var n=this,i;if(t=rn(r,t),e==null)return Ae(this,new qe("del() requires a key argument"),t);if(!this._isOpening()&&!this.isOpen())return Ae(this,new qe("Database is not open"),t);r=en(this,r),i=Oe.encodeKey(e,r),this.db.del(i,r,function(a){if(a)return Ae(n,new qe(a),t);n.emit("del",e),t&&t()})};de.prototype.batch=function(e,r,t){var n=this,i,a,o;if(!arguments.length)return new ih(this);if(t=rn(r,t),!Array.isArray(e))return Ae(this,new qe("batch() requires an array argument"),t);if(!this._isOpening()&&!this.isOpen())return Ae(this,new qe("Database is not open"),t);r=en(this,r),i=r.keyEncoding,a=r.valueEncoding,o=e.map(function(f){if(f.type===void 0||f.key===void 0)return{};var u=f.keyEncoding||i,s=f.valueEncoding||f.encoding||a,l;return u!="utf8"&&u!="binary"||s!="utf8"&&s!="binary"?(l={type:f.type,key:Oe.encodeKey(f.key,r,f)},f.value!==void 0&&(l.value=Oe.encodeValue(f.value,r,f)),l):f}),this.db.batch(o,r,function(f){if(f)return Ae(n,new qe(f),t);n.emit("batch",e),t&&t()})};de.prototype.approximateSize=function(e,r,t){var n=this,i,a;if(e==null||r===null||r===void 0||typeof t!="function")return Ae(this,new Ct("approximateSize() requires start, end and callback arguments"),t);if(i=Oe.encodeKey(e,this.options),a=Oe.encodeKey(r,this.options),!this._isOpening()&&!this.isOpen())return Ae(this,new qe("Database is not open"),t);this.db.approximateSize(i,a,function(o,f){if(o)return Ae(n,new su(o),t);t&&t(null,f)})};de.prototype.readStream=de.prototype.createReadStream=function(e){var r=this;return e=pt(this.options,e),new th(e,this,function(t){return r.db.iterator(t)})};de.prototype.keyStream=de.prototype.createKeyStream=function(e){return this.createReadStream(pt(e,{keys:!0,values:!1}))};de.prototype.valueStream=de.prototype.createValueStream=function(e){return this.createReadStream(pt(e,{keys:!1,values:!0}))};de.prototype.writeStream=de.prototype.createWriteStream=function(e){return new nh(pt(e),this)};de.prototype.toString=function(){return"LevelUP"};function du(e){return function(r,t){lu()[e](r,t||function(){})}}ct.exports=de;ct.exports.copy=Oe.copy;ct.exports.destroy=du("destroy");ct.exports.repair=du("repair");var cu={},hu={exports:{}},pu=we,oh=Ht,jt=We.Buffer;we.ReadableState=gu;var kt=Ve.exports.EventEmitter;kt.listenerCount||(kt.listenerCount=function(e,r){return e.listeners(r).length});var rt=xe(),vu=X;vu.inherits=ue.exports;var $r;vu.inherits(we,rt);function gu(e,r){e=e||{};var t=e.highWaterMark;this.highWaterMark=t||t===0?t:16*1024,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($r||($r=tr().StringDecoder),this.decoder=new $r(e.encoding),this.encoding=e.encoding)}function we(e){if(!(this instanceof we))return new we(e);this._readableState=new gu(e),this.readable=!0,rt.call(this)}we.prototype.push=function(e,r){var t=this._readableState;return typeof e=="string"&&!t.objectMode&&(r=r||t.defaultEncoding,r!==t.encoding&&(e=new jt(e,r),r="")),mu(this,t,e,r,!1)};we.prototype.unshift=function(e){var r=this._readableState;return mu(this,r,e,"",!0)};function mu(e,r,t,n,i){var a=sh(r,t);if(a)e.emit("error",a);else if(t==null)r.reading=!1,r.ended||lh(e,r);else if(r.objectMode||t&&t.length>0)if(r.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(r.endEmitted&&i){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else r.decoder&&!i&&!n&&(t=r.decoder.write(t)),r.length+=r.objectMode?1:t.length,i?r.buffer.unshift(t):(r.reading=!1,r.buffer.push(t)),r.needReadable&&tn(e),dh(e,r);else i||(r.reading=!1);return fh(r)}function fh(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}we.prototype.setEncoding=function(e){$r||($r=tr().StringDecoder),this._readableState.decoder=new $r(e),this._readableState.encoding=e};var Ga=8388608;function uh(e){if(e>=Ga)e=Ga;else{e--;for(var r=1;r<32;r<<=1)e|=e>>r;e++}return e}function Ja(e,r){return r.length===0&&r.ended?0:r.objectMode?e===0?0:1:e===null||isNaN(e)?r.flowing&&r.buffer.length?r.buffer[0].length:r.length:e<=0?0:(e>r.highWaterMark&&(r.highWaterMark=uh(e)),e>r.length?r.ended?r.length:(r.needReadable=!0,0):e)}we.prototype.read=function(e){var r=this._readableState;r.calledRead=!0;var t=e,n;if((typeof e!="number"||e>0)&&(r.emittedReadable=!1),e===0&&r.needReadable&&(r.length>=r.highWaterMark||r.ended))return tn(this),null;if(e=Ja(e,r),e===0&&r.ended)return n=null,r.length>0&&r.decoder&&(n=pi(e,r),r.length-=n.length),r.length===0&&vi(this),n;var i=r.needReadable;return r.length-e<=r.highWaterMark&&(i=!0),(r.ended||r.reading)&&(i=!1),i&&(r.reading=!0,r.sync=!0,r.length===0&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1),i&&!r.reading&&(e=Ja(t,r)),e>0?n=pi(e,r):n=null,n===null&&(r.needReadable=!0,e=0),r.length-=e,r.length===0&&!r.ended&&(r.needReadable=!0),r.ended&&!r.endEmitted&&r.length===0&&vi(this),n};function sh(e,r){var t=null;return!jt.isBuffer(r)&&typeof r!="string"&&r!==null&&r!==void 0&&!e.objectMode&&(t=new TypeError("Invalid non-string/buffer chunk")),t}function lh(e,r){if(r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&(r.buffer.push(t),r.length+=r.objectMode?1:t.length)}r.ended=!0,r.length>0?tn(e):vi(e)}function tn(e){var r=e._readableState;r.needReadable=!1,!r.emittedReadable&&(r.emittedReadable=!0,r.sync?process.nextTick(function(){Xa(e)}):Xa(e))}function Xa(e){e.emit("readable")}function dh(e,r){r.readingMore||(r.readingMore=!0,process.nextTick(function(){ch(e,r)}))}function ch(e,r){for(var t=r.length;!r.reading&&!r.flowing&&!r.ended&&r.length<r.highWaterMark&&(e.read(0),t!==r.length);)t=r.length;r.readingMore=!1}we.prototype._read=function(e){this.emit("error",new Error("not implemented"))};we.prototype.pipe=function(e,r){var t=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;var i=(!r||r.end!==!1)&&e!==process.stdout&&e!==process.stderr,a=i?f:s;n.endEmitted?process.nextTick(a):t.once("end",a),e.on("unpipe",o);function o(d){d===t&&s()}function f(){e.end()}var u=hh(t);e.on("drain",u);function s(){e.removeListener("close",c),e.removeListener("finish",v),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",o),t.removeListener("end",f),t.removeListener("end",s),(!e._writableState||e._writableState.needDrain)&&u()}function l(d){h(),e.removeListener("error",l),kt.listenerCount(e,"error")===0&&e.emit("error",d)}!e._events||!e._events.error?e.on("error",l):oh(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error];function c(){e.removeListener("finish",v),h()}e.once("close",c);function v(){e.removeListener("close",c),h()}e.once("finish",v);function h(){t.unpipe(e)}return e.emit("pipe",t),n.flowing||(this.on("readable",hi),n.flowing=!0,process.nextTick(function(){na(t)})),e};function hh(e){return function(){var r=e._readableState;r.awaitDrain--,r.awaitDrain===0&&na(e)}}function na(e){var r=e._readableState,t;r.awaitDrain=0;function n(i,a,o){var f=i.write(t);f===!1&&r.awaitDrain++}for(;r.pipesCount&&(t=e.read())!==null;)if(r.pipesCount===1?n(r.pipes):yu(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(r.pipesCount===0){r.flowing=!1,kt.listenerCount(e,"data")>0&&nn(e);return}r.ranOut=!0}function hi(){this._readableState.ranOut&&(this._readableState.ranOut=!1,na(this))}we.prototype.unpipe=function(e){var r=this._readableState;if(r.pipesCount===0)return this;if(r.pipesCount===1)return e&&e!==r.pipes?this:(e||(e=r.pipes),r.pipes=null,r.pipesCount=0,this.removeListener("readable",hi),r.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var t=r.pipes,n=r.pipesCount;r.pipes=null,r.pipesCount=0,this.removeListener("readable",hi),r.flowing=!1;for(var i=0;i<n;i++)t[i].emit("unpipe",this);return this}var i=ph(r.pipes,e);return i===-1?this:(r.pipes.splice(i,1),r.pipesCount-=1,r.pipesCount===1&&(r.pipes=r.pipes[0]),e.emit("unpipe",this),this)};we.prototype.on=function(e,r){var t=rt.prototype.on.call(this,e,r);if(e==="data"&&!this._readableState.flowing&&nn(this),e==="readable"&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&tn(this):this.read(0))}return t};we.prototype.addListener=we.prototype.on;we.prototype.resume=function(){nn(this),this.read(0),this.emit("resume")};we.prototype.pause=function(){nn(this,!0),this.emit("pause")};function nn(e,r){var t=e._readableState;if(t.flowing)throw new Error("Cannot switch to old mode now.");var n=r||!1,i=!1;e.readable=!0,e.pipe=rt.prototype.pipe,e.on=e.addListener=rt.prototype.on,e.on("readable",function(){i=!0;for(var a;!n&&(a=e.read())!==null;)e.emit("data",a);a===null&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){n=!0,this.emit("pause")},e.resume=function(){n=!1,i?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}we.prototype.wrap=function(e){var r=this._readableState,t=!1,n=this;e.on("end",function(){if(r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&n.push(o)}n.push(null)}),e.on("data",function(o){if(r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var f=n.push(o);f||(t=!0,e.pause())}});for(var i in e)typeof e[i]=="function"&&typeof this[i]>"u"&&(this[i]=function(o){return function(){return e[o].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return yu(a,function(o){e.on(o,n.emit.bind(n,o))}),n._read=function(o){t&&(t=!1,e.resume())},n};we._fromList=pi;function pi(e,r){var t=r.buffer,n=r.length,i=!!r.decoder,a=!!r.objectMode,o;if(t.length===0)return null;if(n===0)o=null;else if(a)o=t.shift();else if(!e||e>=n)i?o=t.join(""):o=jt.concat(t,n),t.length=0;else if(e<t[0].length){var f=t[0];o=f.slice(0,e),t[0]=f.slice(e)}else if(e===t[0].length)o=t.shift();else{i?o="":o=new jt(e);for(var u=0,s=0,l=t.length;s<l&&u<e;s++){var f=t[0],c=Math.min(e-u,f.length);i?o+=f.slice(0,c):f.copy(o,u,0,c),c<f.length?t[0]=f.slice(c):t.shift(),u+=c}}return o}function vi(e){var r=e._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");!r.endEmitted&&r.calledRead&&(r.ended=!0,process.nextTick(function(){!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function yu(e,r){for(var t=0,n=e.length;t<n;t++)r(e[t],t)}function ph(e,r){for(var t=0,n=e.length;t<n;t++)if(e[t]===r)return t;return-1}var Dn,Za;function an(){if(Za)return Dn;Za=1,Dn=i;var e=Object.keys||function(f){var u=[];for(var s in f)u.push(s);return u},r=X;r.inherits=ue.exports;var t=pu,n=ia();r.inherits(i,t),o(e(n.prototype),function(f){i.prototype[f]||(i.prototype[f]=n.prototype[f])});function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),n.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function o(f,u){for(var s=0,l=f.length;s<l;s++)u(f[s],s)}return Dn}var Mn,Qa;function ia(){if(Qa)return Mn;Qa=1,Mn=a;var e=We.Buffer;a.WritableState=i;var r=X;r.inherits=ue.exports;var t=xe();r.inherits(a,t);function n(b,p,m){this.chunk=b,this.encoding=p,this.callback=m}function i(b,p){b=b||{};var m=b.highWaterMark;this.highWaterMark=m||m===0?m:16*1024,this.objectMode=!!b.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var S=b.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){h(p,T)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function a(b){var p=an();if(!(this instanceof a)&&!(this instanceof p))return new a(b);this._writableState=new i(b,this),this.writable=!0,t.call(this)}a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function o(b,p,m){var S=new Error("write after end");b.emit("error",S),process.nextTick(function(){m(S)})}function f(b,p,m,S){var T=!0;if(!e.isBuffer(m)&&typeof m!="string"&&m!==null&&m!==void 0&&!p.objectMode){var M=new TypeError("Invalid non-string/buffer chunk");b.emit("error",M),process.nextTick(function(){S(M)}),T=!1}return T}a.prototype.write=function(b,p,m){var S=this._writableState,T=!1;return typeof p=="function"&&(m=p,p=null),e.isBuffer(b)?p="buffer":p||(p=S.defaultEncoding),typeof m!="function"&&(m=function(){}),S.ended?o(this,S,m):f(this,S,b,m)&&(T=s(this,S,b,p,m)),T};function u(b,p,m){return!b.objectMode&&b.decodeStrings!==!1&&typeof p=="string"&&(p=new e(p,m)),p}function s(b,p,m,S,T){m=u(p,m,S),e.isBuffer(m)&&(S="buffer");var M=p.objectMode?1:m.length;p.length+=M;var L=p.length<p.highWaterMark;return L||(p.needDrain=!0),p.writing?p.buffer.push(new n(m,S,T)):l(b,p,M,m,S,T),L}function l(b,p,m,S,T,M){p.writelen=m,p.writecb=M,p.writing=!0,p.sync=!0,b._write(S,T,p.onwrite),p.sync=!1}function c(b,p,m,S,T){m?process.nextTick(function(){T(S)}):T(S),b._writableState.errorEmitted=!0,b.emit("error",S)}function v(b){b.writing=!1,b.writecb=null,b.length-=b.writelen,b.writelen=0}function h(b,p){var m=b._writableState,S=m.sync,T=m.writecb;if(v(m),p)c(b,m,S,p,T);else{var M=y(b,m);!M&&!m.bufferProcessing&&m.buffer.length&&w(b,m),S?process.nextTick(function(){d(b,m,M,T)}):d(b,m,M,T)}}function d(b,p,m,S){m||g(b,p),S(),m&&_(b,p)}function g(b,p){p.length===0&&p.needDrain&&(p.needDrain=!1,b.emit("drain"))}function w(b,p){p.bufferProcessing=!0;for(var m=0;m<p.buffer.length;m++){var S=p.buffer[m],T=S.chunk,M=S.encoding,L=S.callback,z=p.objectMode?1:T.length;if(l(b,p,z,T,M,L),p.writing){m++;break}}p.bufferProcessing=!1,m<p.buffer.length?p.buffer=p.buffer.slice(m):p.buffer.length=0}a.prototype._write=function(b,p,m){m(new Error("not implemented"))},a.prototype.end=function(b,p,m){var S=this._writableState;typeof b=="function"?(m=b,b=null,p=null):typeof p=="function"&&(m=p,p=null),typeof b<"u"&&b!==null&&this.write(b,p),!S.ending&&!S.finished&&O(this,S,m)};function y(b,p){return p.ending&&p.length===0&&!p.finished&&!p.writing}function _(b,p){var m=y(b,p);return m&&(p.finished=!0,b.emit("finish")),m}function O(b,p,m){p.ending=!0,_(b,p),m&&(p.finished?process.nextTick(m):b.once("finish",m)),p.ended=!0}return Mn}(function(e){e.exports=ia()})(hu);var gi={exports:{}},bu=or,aa=an(),wu=X;wu.inherits=ue.exports;wu.inherits(or,aa);function vh(e,r){this.afterTransform=function(t,n){return gh(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function gh(e,r,t){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,t!=null&&e.push(t),i&&i(r);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function or(e){if(!(this instanceof or))return new or(e);aa.call(this,e),this._transformState=new vh(e,this);var r=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){typeof this._flush=="function"?this._flush(function(t){eo(r,t)}):eo(r)})}or.prototype.push=function(e,r){return this._transformState.needTransform=!1,aa.prototype.push.call(this,e,r)};or.prototype._transform=function(e,r,t){throw new Error("not implemented")};or.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};or.prototype._read=function(e){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};function eo(e,r){if(r)return e.emit("error",r);var t=e._writableState;e._readableState;var n=e._transformState;if(t.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}var mh=tt,_u=bu,Eu=X;Eu.inherits=ue.exports;Eu.inherits(tt,_u);function tt(e){if(!(this instanceof tt))return new tt(e);_u.call(this,e)}tt.prototype._transform=function(e,r,t){t(null,e)};(function(e,r){var t=xe();r=e.exports=pu,r.Stream=t,r.Readable=r,r.Writable=ia(),r.Duplex=an(),r.Transform=bu,r.PassThrough=mh,!process.browser&&process.env.READABLE_STREAM==="disable"&&(e.exports=xe())})(gi,gi.exports);var Su={exports:{}};(function(e){e.exports=an()})(Su);(function(e){var r=hu.exports,t=gi.exports,n=Su.exports,i=new Buffer(0),a=function(){},o=function(s){return typeof s=="function"?s:function(l){l(null,s)}},f=function(s,l){var c=!1,v=!1;return s._read=function(){c=!0},s.destroy=function(){v=!0},l(function(h,d){if(h)return s.emit("error",h);var g=function(){for(var w;(w=d.read())!==null;)c=!1,s.push(w)};if(d.on("readable",function(){c&&g()}),d.on("end",function(){g(),s.push(null)}),d.on("error",function(w){s.emit("error",w)}),d.on("close",function(){g(),process.nextTick(function(){s.emit("close")})}),s._read=function(){c=!0,g()},s.destroy=function(){v||(v=!0,d.destroy&&d.destroy())},v){v=!1,s.destroy();return}c&&g()}),s},u=function(s,l){var c=a,v=!1;return s._write=function(h,d,g){c=g},s.destroy=function(){v=!0},s.write(i),l(function(h,d){if(h)return s.emit("error",h);d.on("close",function(){s.emit("close")}),d.on("error",function(w){s.emit("error",w)}),s._write=function(w,y,_){if(w===i)return _();d.write(w,y,_)};var g=s.emit;if(d.on("finish",function(){g.call(s,"finish")}),s.destroy=function(){v||(v=!0,d.destroy&&d.destroy())},s.emit=function(w){if(w!=="finish")return g.apply(s,arguments);d.end()},v){v=!1,s.destroy();return}c()}),s};e.readable=function(s,l){return arguments.length===1?e.readable(null,s):(s||(s={}),f(new t(s),o(l)))},e.writable=function(s,l){return arguments.length===1?e.writable(null,s):(s||(s={}),u(new r(s),o(l)))},e.duplex=function(s,l,c){if(arguments.length===2)return e.duplex(null,s,l);s||(s={});var v=new n(s);return u(v,o(l)),f(v,o(c)),v}})(cu);var xu={exports:{}},oa={};(function(e){var r=e.range=function(n){return n==null?{}:typeof r=="string"?{min:r,max:r+"\xFF"}:n};e.prefix=function(n,i,a){n=e.range(n);var o={};return a=a||"\xFF",n instanceof RegExp||typeof n=="function"?(o.min=i,o.max=i+a,o.inner=function(f){var u=f.substring(i.length);return n.test?n.test(u):n(u)}):typeof n=="object"&&(o.min=i+(n.min||n.start||""),o.max=i+(n.max||n.end||a||"~"),o.reverse=!!n.reverse),o};var t=e.checker=function(n){if(n||(n={}),typeof n=="string")return function(i){return i.indexOf(n)==0};if(n instanceof RegExp)return function(i){return n.test(i)};if(typeof n=="object")return function(i){var a=n.min||n.start,o=n.max||n.end;return i=String(i),(!a||i>=a)&&(!o||i<=o)&&(!n.inner||(n.inner.test?n.inner.test(i):n.inner(i)))};if(typeof n=="function")return n};e.satisfies=function(n,i){return t(i)(n)}})(oa);var Ou={exports:{}};(function(e){function r(i){return Object.prototype.toString.call(i)}var t={isArray:function(i){return Array.isArray(i)||typeof i=="object"&&r(i)==="[object Array]"},isDate:function(i){return typeof i=="object"&&r(i)==="[object Date]"},isRegExp:function(i){return typeof i=="object"&&r(i)==="[object RegExp]"},getRegExpFlags:function(i){var a="";return i.global&&(a+="g"),i.ignoreCase&&(a+="i"),i.multiline&&(a+="m"),a}};e.exports=n;function n(i,a,o,f){var u=[],s=[],l=typeof Buffer<"u";typeof a>"u"&&(a=!0),typeof o>"u"&&(o=1/0);function c(v,h){if(v===null)return null;if(h==0)return v;var d,g;if(typeof v!="object")return v;if(t.isArray(v))d=[];else if(t.isRegExp(v))d=new RegExp(v.source,t.getRegExpFlags(v)),v.lastIndex&&(d.lastIndex=v.lastIndex);else if(t.isDate(v))d=new Date(v.getTime());else{if(l&&Buffer.isBuffer(v))return d=new Buffer(v.length),v.copy(d),d;typeof f>"u"?(g=Object.getPrototypeOf(v),d=Object.create(g)):(d=Object.create(f),g=f)}if(a){var w=u.indexOf(v);if(w!=-1)return s[w];u.push(v),s.push(d)}for(var y in v){var _;g&&(_=Object.getOwnPropertyDescriptor(g,y)),!(_&&_.set==null)&&(d[y]=c(v[y],h-1))}return d}return c(i,o)}n.clonePrototype=function(i){if(i===null)return null;var a=function(){};return a.prototype=i,new a}})(Ou);var yh=Ou.exports,Au=function(r){r=yh(r);var t=r.reverse,n=r.max||r.end,i=r.min||r.start,a=[i,n];return i!=null&&n!=null&&a.sort(),t&&(a=a.reverse()),r.start=a[0],r.end=a[1],delete r.min,delete r.max,r},Nn={exports:{}},Fn={exports:{}},ro;function bh(){if(ro)return Fn.exports;ro=1;/**!
 * is
 * the definitive JavaScript type testing library
 * 
 * @copyright 2013 Enrico Marino
 * @license MIT
 */var e=Object.prototype,r=e.hasOwnProperty,t=e.toString,n=function(o){return o!==o},i={boolean:1,number:1,string:1,undefined:1},a=Fn.exports={};return a.a=a.type=function(o,f){return typeof o===f},a.defined=function(o){return o!==void 0},a.empty=function(o){var f=t.call(o),u;if(f==="[object Array]"||f==="[object Arguments]")return o.length===0;if(f==="[object Object]"){for(u in o)if(r.call(o,u))return!1;return!0}return f==="[object String]"?o==="":!1},a.equal=function(o,f){var u=t.call(o),s;if(u!==t.call(f))return!1;if(u==="[object Object]"){for(s in o)if(!a.equal(o[s],f[s]))return!1;return!0}if(u==="[object Array]"){if(s=o.length,s!==f.length)return!1;for(;--s;)if(!a.equal(o[s],f[s]))return!1;return!0}return u==="[object Function]"?o.prototype===f.prototype:u==="[object Date]"?o.getTime()===f.getTime():o===f},a.hosted=function(o,f){var u=typeof f[o];return u==="object"?!!f[o]:!i[u]},a.instance=a.instanceof=function(o,f){return o instanceof f},a.null=function(o){return o===null},a.undefined=function(o){return o===void 0},a.arguments=function(o){var f=t.call(o)==="[object Arguments]",u=!a.array(o)&&a.arraylike(o)&&a.object(o)&&a.fn(o.callee);return f||u},a.array=function(o){return t.call(o)==="[object Array]"},a.arguments.empty=function(o){return a.arguments(o)&&o.length===0},a.array.empty=function(o){return a.array(o)&&o.length===0},a.arraylike=function(o){return!!o&&!a.boolean(o)&&r.call(o,"length")&&isFinite(o.length)&&a.number(o.length)&&o.length>=0},a.boolean=function(o){return t.call(o)==="[object Boolean]"},a.false=function(o){return a.boolean(o)&&(o===!1||o.valueOf()===!1)},a.true=function(o){return a.boolean(o)&&(o===!0||o.valueOf()===!0)},a.date=function(o){return t.call(o)==="[object Date]"},a.element=function(o){return o!==void 0&&typeof HTMLElement<"u"&&o instanceof HTMLElement&&o.nodeType===1},a.error=function(o){return t.call(o)==="[object Error]"},a.fn=a.function=function(o){var f=typeof window<"u"&&o===window.alert;return f||t.call(o)==="[object Function]"},a.number=function(o){return t.call(o)==="[object Number]"},a.infinite=function(o){return o===1/0||o===-1/0},a.decimal=function(o){return a.number(o)&&!n(o)&&!a.infinite(o)&&o%1!==0},a.divisibleBy=function(o,f){var u=a.infinite(o),s=a.infinite(f),l=a.number(o)&&!n(o)&&a.number(f)&&!n(f)&&f!==0;return u||s||l&&o%f===0},a.int=function(o){return a.number(o)&&!n(o)&&o%1===0},a.maximum=function(o,f){if(n(o))throw new TypeError("NaN is not a valid value");if(!a.arraylike(f))throw new TypeError("second argument must be array-like");for(var u=f.length;--u>=0;)if(o<f[u])return!1;return!0},a.minimum=function(o,f){if(n(o))throw new TypeError("NaN is not a valid value");if(!a.arraylike(f))throw new TypeError("second argument must be array-like");for(var u=f.length;--u>=0;)if(o>f[u])return!1;return!0},a.nan=function(o){return!a.number(o)||o!==o},a.even=function(o){return a.infinite(o)||a.number(o)&&o===o&&o%2===0},a.odd=function(o){return a.infinite(o)||a.number(o)&&o===o&&o%2!==0},a.ge=function(o,f){if(n(o)||n(f))throw new TypeError("NaN is not a valid value");return!a.infinite(o)&&!a.infinite(f)&&o>=f},a.gt=function(o,f){if(n(o)||n(f))throw new TypeError("NaN is not a valid value");return!a.infinite(o)&&!a.infinite(f)&&o>f},a.le=function(o,f){if(n(o)||n(f))throw new TypeError("NaN is not a valid value");return!a.infinite(o)&&!a.infinite(f)&&o<=f},a.lt=function(o,f){if(n(o)||n(f))throw new TypeError("NaN is not a valid value");return!a.infinite(o)&&!a.infinite(f)&&o<f},a.within=function(o,f,u){if(n(o)||n(f)||n(u))throw new TypeError("NaN is not a valid value");if(!a.number(o)||!a.number(f)||!a.number(u))throw new TypeError("all arguments must be numbers");var s=a.infinite(o)||a.infinite(f)||a.infinite(u);return s||o>=f&&o<=u},a.object=function(o){return o&&t.call(o)==="[object Object]"},a.hash=function(o){return a.object(o)&&o.constructor===Object&&!o.nodeType&&!o.setInterval},a.regexp=function(o){return t.call(o)==="[object RegExp]"},a.string=function(o){return t.call(o)==="[object String]"},Fn.exports}var Pn,to;function wh(){if(to)return Pn;to=1;var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString;return Pn=function(n,i,a){if(r.call(i)!=="[object Function]")throw new TypeError("iterator must be a function");var o=n.length;if(o===+o)for(var f=0;f<o;f++)i.call(a,n[f],f,n);else for(var u in n)e.call(n,u)&&i.call(a,n[u],u,n)},Pn}var no;function _h(){return no||(no=1,function(){var e=Object.prototype.hasOwnProperty,r=bh(),t=wh(),n=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a;a=function(f){if(!r.object(f)&&!r.array(f))throw new TypeError("Object.keys called on a non-object");var u,s=[];for(u in f)e.call(f,u)&&s.push(u);return n&&t(i,function(l){e.call(f,l)&&s.push(l)}),s},Nn.exports=a}()),Nn.exports}var Eh=Object.keys||_h(),Sh=xh;function xh(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var Oh=Eh,Ah=Sh,$h=Ch;function Ch(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];if(!!Ah(t))for(var n=Oh(t),i=0;i<n.length;i++){var a=n[i];e[a]=t[a]}}return e}function io(e,r,t,n){var i={type:e,key:r,value:t,options:n};return n&&n.prefix&&(i.prefix=n.prefix,delete n.prefix),this._operations.push(i),this}function $u(e){this._operations=[],this._sdb=e,this.put=io.bind(this,"put"),this.del=io.bind(this,"del")}var Cu=$u.prototype;Cu.clear=function(){this._operations=[]};Cu.write=function(e){this._sdb.batch(this._operations,e)};var Tu=$u,Th=Ve.exports.EventEmitter,Rh=Ie.inherits,fa=oa,Ru=Au,Bu=$h,Bh=Tu;Rh(Cr,Th);function Cr(e,r,t){if(typeof t=="string"&&(console.error("db.sublevel(name, seperator<string>) is depreciated"),console.error("use db.sublevel(name, {sep: separator})) if you must"),t={sep:t}),!(this instanceof Cr))return new Cr(e,r,t);if(!e)throw new Error("must provide db");if(!r)throw new Error("must provide prefix");t=t||{},t.sep=t.sep||"\xFF",this._parent=e,this._options=t,this.options=t,this._prefix=r,this._root=wr(this),e.sublevels[r]=this,this.sublevels={},this.methods={};var n=this;this.hooks={pre:function(){return n.pre.apply(n,arguments)},post:function(){return n.post.apply(n,arguments)}}}var ve=Cr.prototype;ve._key=function(e){var r=this._options.sep;return r+this._prefix+r+e};ve._getOptsAndCb=function(e,r){return typeof e=="function"&&(r=e,e={}),{opts:Bu(e,this._options),cb:r}};ve.sublevel=function(e,r){return this.sublevels[e]?this.sublevels[e]:new Cr(this,e,r||this._options)};ve.put=function(e,r,t,n){var i=this._getOptsAndCb(t,n);this._root.put(this.prefix(e),r,i.opts,i.cb)};ve.get=function(e,r,t){var n=this._getOptsAndCb(r,t);this._root.get(this.prefix(e),n.opts,n.cb)};ve.del=function(e,r,t){var n=this._getOptsAndCb(r,t);this._root.del(this.prefix(e),n.opts,n.cb)};ve.batch=function(e,r,t){if(!Array.isArray(e))return new Bh(this);var n=this,i=this._getOptsAndCb(r,t);e.forEach(function(a){typeof a.prefix=="string"?a.key=a.prefix+a.key:a.key=(a.prefix||n).prefix(a.key),a.prefix&&(a.prefix=null)}),this._root.batch(e,i.opts,i.cb)};ve._getKeyEncoding=function(){if(this.options.keyEncoding)return this.options.keyEncoding;if(this._parent&&this._parent._getKeyEncoding)return this._parent._getKeyEncoding()};ve._getValueEncoding=function(){if(this.options.valueEncoding)return this.options.valueEncoding;if(this._parent&&this._parent._getValueEncoding)return this._parent._getValueEncoding()};ve.prefix=function(e){var r=this._options.sep;return this._parent.prefix()+r+this._prefix+r+(e||"")};ve.keyStream=ve.createKeyStream=function(e){return e=e||{},e.keys=!0,e.values=!1,this.createReadStream(e)};ve.valueStream=ve.createValueStream=function(e){return e=e||{},e.keys=!1,e.values=!0,e.keys=!1,this.createReadStream(e)};function Dh(e,r){["valueEncoding","encoding","keyEncoding","reverse","values","keys","limit","fillCache"].forEach(function(t){r.hasOwnProperty(t)&&(e[t]=r[t])})}ve.readStream=ve.createReadStream=function(e){e=e||{};var r=wr(this),t=this.prefix(),n=fa.prefix(e,t);Dh(n,Bu(e,this._options));var i=r.createReadStream(n);if(n.values===!1){var a=i.read;if(a)i.read=function(f){var u=a.call(this,f);return u&&(u=u.substring(t.length)),u};else{var o=i.emit;i.emit=function(f,u){f==="data"?o.call(this,"data",u.substring(t.length)):o.call(this,f,u)}}return i}else{if(n.keys===!1)return i;var a=i.read;return a?i.read=function(u){var s=a.call(this,u);return s&&(s.key=s.key.substring(t.length)),s}:i.on("data",function(u){u.key=u.key.substring(t.length)}),i}};ve.writeStream=ve.createWriteStream=function(){var e=wr(this),r=this.prefix(),t=e.createWriteStream.apply(e,arguments),n=t.write,i=this._options.encoding,a=this._options.valueEncoding,o=this._options.keyEncoding,f=!i&&!a&&!o;return t.write=f?function(u){return u.key=r+u.key,n.call(t,u)}:function(u){return u.key=r+u.key,i&&typeof u.encoding>"u"&&(u.encoding=i),a&&typeof u.valueEncoding>"u"&&(u.valueEncoding=a),o&&typeof u.keyEncoding>"u"&&(u.keyEncoding=o),n.call(t,u)},t};ve.approximateSize=function(){var e=wr(db);return e.approximateSize.apply(e,arguments)};function wr(e){return e._parent?wr(e._parent):e}ve.pre=function(e,r){r||(r=e,e=null),e=fa.prefix(e,this.prefix(),this._options.sep);var t=wr(this._parent),n=this.prefix();return t.hooks.pre(Ru(e),function(i,a,o){r({key:i.key.substring(n.length),value:i.value,type:i.type},function(f,u){a(f,f.prefix?u:u||n)},o)})};ve.post=function(e,r){r||(r=e,e=null);var t=wr(this._parent),n=this.prefix();return e=fa.prefix(e,n,this._options.sep),t.hooks.post(Ru(e),function(i){r({key:i.key.substring(n.length),value:i.value,type:i.type})})};xu.exports=Cr;var ao=oa,Mh=function(e){if(e.hooks)return;var r=[],t=[];function n(v){return v&&(typeof v=="string"?v:typeof v.prefix=="string"?v.prefix:typeof v.prefix=="function"?v.prefix():"")}function i(v){if(v&&v._getKeyEncoding)return v._getKeyEncoding(v)}function a(v){if(v&&v._getValueEncoding)return v._getValueEncoding(v)}function o(v,h){return function(){var d=v.indexOf(h);return~d?(v.splice(d,1),!0):!1}}e.hooks={post:function(v,h){h||(h=v,v="");var d={test:ao.checker(v),hook:h};return r.push(d),o(r,d)},pre:function(v,h){h||(h=v,v="");var d={test:ao.checker(v),hook:h,safe:v.safe!==!1};return t.push(d),o(t,d)},posthooks:r,prehooks:t};function f(v){v&&v.type&&r.forEach(function(h){h.test(v.key)&&h.hook(v)})}e.on("put",function(v,h){f({type:"put",key:v,value:h})}),e.on("del",function(v,h){f({type:"del",key:v,value:h})}),e.on("batch",function(h){h.forEach(f)});var u=e.put,s=e.del,l=e.batch;function c(v,h,d,g){try{h.forEach(function y(_,O){t.forEach(function(b){if(b.test(String(_.key))){var p={add:function(m,S){if(typeof m>"u")return this;if(m===!1)return delete h[O];var T=n(m.prefix)||n(S)||b.prefix||"";if(T&&(m.prefix=T),m.key=T+m.key,b.safe&&b.test(String(m.key)))throw new Error("prehook cannot insert into own range");var M=m.keyEncoding||i(m.prefix),L=m.valueEncoding||a(m.prefix);return M&&(m.keyEncoding=M),L&&(m.valueEncoding=L),h.push(m),y(m,h.length-1),this},put:function(m,S){return typeof m=="object"&&(m.type="put"),this.add(m,S)},del:function(m,S){return typeof m=="object"&&(m.type="del"),this.add(m,S)},veto:function(){return this.add(!1)}};b.hook.call(p,_,p.add,h)}})})}catch(y){return(g||d)(y)}if(h=h.filter(function(y){return y&&y.type}),h.length==1&&!v){var w=h[0];return w.type=="put"?u.call(e,w.key,w.value,d,g):s.call(e,w.key,d,g)}return l.call(e,h,d,g)}e.put=function(v,h,d,g){var w=[{key:v,value:h,type:"put"}];return c(!1,w,d,g)},e.del=function(v,h,d){var g=[{key:v,type:"del"}];return c(!1,g,h,d)},e.batch=function(v,h,d){return c(!0,v,h,d)}};Ve.exports.EventEmitter;process.nextTick;var Nh=xu.exports,Fh=Tu,Ph=Au,Ih=Mh,jh=function(e,r){function t(){}t.prototype=e;var n=new t;if(n.sublevel)return n;r=r||{};var i=r.sep=r.sep||"\xFF";n._options=r,Ih(n),n.sublevels={},n.sublevel=function(f,u){return n.sublevels[f]?n.sublevels[f]:new Nh(n,f,u||this._options)},n.methods={},n.prefix=function(f){return""+(f||"")},n.pre=function(f,u){return u||(u=f,f={max:i}),n.hooks.pre(f,u)},n.post=function(f,u){return u||(u=f,f={max:i}),n.hooks.post(f,u)};function a(f){return function(u){return u=u||{},u=Ph(u),u.reverse?u.start=u.start||i:u.end=u.end||i,f.call(n,u)}}n.readStream=n.createReadStream=a(n.createReadStream),n.keyStream=n.createKeyStream=a(n.createKeyStream),n.valuesStream=n.createValueStream=a(n.createValueStream);var o=n.batch;return n.batch=function(f,u,s){if(!Array.isArray(f))return new Fh(n);f.forEach(function(l){l.prefix&&(typeof l.prefix.prefix=="function"?l.key=l.prefix.prefix(l.key):typeof l.prefix=="string"&&(l.key=l.prefix+l.key))}),o.call(n,f,u,s)},n},Du={exports:{}},In,oo;function Mu(){if(oo)return In;oo=1,In=u;var e=Ht,r=We.Buffer;u.ReadableState=f;var t=Ve.exports.EventEmitter;t.listenerCount||(t.listenerCount=function($,A){return $.listeners(A).length});var n=xe(),i=X;i.inherits=ue.exports;var a,o=Ie;o&&o.debuglog?o=o.debuglog("stream"):o=function(){},i.inherits(u,n);function f($,A){var P=Tr();$=$||{};var W=$.highWaterMark,K=$.objectMode?16:16*1024;this.highWaterMark=W||W===0?W:K,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!$.objectMode,A instanceof P&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.defaultEncoding=$.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(a||(a=tr().StringDecoder),this.decoder=new a($.encoding),this.encoding=$.encoding)}function u($){if(Tr(),!(this instanceof u))return new u($);this._readableState=new f($,this),this.readable=!0,n.call(this)}u.prototype.push=function($,A){var P=this._readableState;return i.isString($)&&!P.objectMode&&(A=A||P.defaultEncoding,A!==P.encoding&&($=new r($,A),A="")),s(this,P,$,A,!1)},u.prototype.unshift=function($){var A=this._readableState;return s(this,A,$,"",!0)};function s($,A,P,W,K){var R=d(A,P);if(R)$.emit("error",R);else if(i.isNullOrUndefined(P))A.reading=!1,A.ended||g($,A);else if(A.objectMode||P&&P.length>0)if(A.ended&&!K){var C=new Error("stream.push() after EOF");$.emit("error",C)}else if(A.endEmitted&&K){var C=new Error("stream.unshift() after end event");$.emit("error",C)}else A.decoder&&!K&&!W&&(P=A.decoder.write(P)),K||(A.reading=!1),A.flowing&&A.length===0&&!A.sync?($.emit("data",P),$.read(0)):(A.length+=A.objectMode?1:P.length,K?A.buffer.unshift(P):A.buffer.push(P),A.needReadable&&w($)),_($,A);else K||(A.reading=!1);return l(A)}function l($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)}u.prototype.setEncoding=function($){return a||(a=tr().StringDecoder),this._readableState.decoder=new a($),this._readableState.encoding=$,this};var c=8388608;function v($){if($>=c)$=c;else{$--;for(var A=1;A<32;A<<=1)$|=$>>A;$++}return $}function h($,A){return A.length===0&&A.ended?0:A.objectMode?$===0?0:1:isNaN($)||i.isNull($)?A.flowing&&A.buffer.length?A.buffer[0].length:A.length:$<=0?0:($>A.highWaterMark&&(A.highWaterMark=v($)),$>A.length?A.ended?A.length:(A.needReadable=!0,0):$)}u.prototype.read=function($){o("read",$);var A=this._readableState,P=$;if((!i.isNumber($)||$>0)&&(A.emittedReadable=!1),$===0&&A.needReadable&&(A.length>=A.highWaterMark||A.ended))return o("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?M(this):w(this),null;if($=h($,A),$===0&&A.ended)return A.length===0&&M(this),null;var W=A.needReadable;o("need readable",W),(A.length===0||A.length-$<A.highWaterMark)&&(W=!0,o("length less than watermark",W)),(A.ended||A.reading)&&(W=!1,o("reading or ended",W)),W&&(o("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1),W&&!A.reading&&($=h(P,A));var K;return $>0?K=T($,A):K=null,i.isNull(K)&&(A.needReadable=!0,$=0),A.length-=$,A.length===0&&!A.ended&&(A.needReadable=!0),P!==$&&A.ended&&A.length===0&&M(this),i.isNull(K)||this.emit("data",K),K};function d($,A){var P=null;return!i.isBuffer(A)&&!i.isString(A)&&!i.isNullOrUndefined(A)&&!$.objectMode&&(P=new TypeError("Invalid non-string/buffer chunk")),P}function g($,A){if(A.decoder&&!A.ended){var P=A.decoder.end();P&&P.length&&(A.buffer.push(P),A.length+=A.objectMode?1:P.length)}A.ended=!0,w($)}function w($){var A=$._readableState;A.needReadable=!1,A.emittedReadable||(o("emitReadable",A.flowing),A.emittedReadable=!0,A.sync?process.nextTick(function(){y($)}):y($))}function y($){o("emit readable"),$.emit("readable"),S($)}function _($,A){A.readingMore||(A.readingMore=!0,process.nextTick(function(){O($,A)}))}function O($,A){for(var P=A.length;!A.reading&&!A.flowing&&!A.ended&&A.length<A.highWaterMark&&(o("maybeReadMore read 0"),$.read(0),P!==A.length);)P=A.length;A.readingMore=!1}u.prototype._read=function($){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function($,A){var P=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=$;break;case 1:W.pipes=[W.pipes,$];break;default:W.pipes.push($);break}W.pipesCount+=1,o("pipe count=%d opts=%j",W.pipesCount,A);var K=(!A||A.end!==!1)&&$!==process.stdout&&$!==process.stderr,R=K?D:j;W.endEmitted?process.nextTick(R):P.once("end",R),$.on("unpipe",C);function C(E){o("onunpipe"),E===P&&j()}function D(){o("onend"),$.end()}var B=b(P);$.on("drain",B);function j(){o("cleanup"),$.removeListener("close",G),$.removeListener("finish",q),$.removeListener("drain",B),$.removeListener("error",U),$.removeListener("unpipe",C),P.removeListener("end",D),P.removeListener("end",j),P.removeListener("data",N),W.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&B()}P.on("data",N);function N(E){o("ondata");var x=$.write(E);x===!1&&(o("false write response, pause",P._readableState.awaitDrain),P._readableState.awaitDrain++,P.pause())}function U(E){o("onerror",E),H(),$.removeListener("error",U),t.listenerCount($,"error")===0&&$.emit("error",E)}!$._events||!$._events.error?$.on("error",U):e($._events.error)?$._events.error.unshift(U):$._events.error=[U,$._events.error];function G(){$.removeListener("finish",q),H()}$.once("close",G);function q(){o("onfinish"),$.removeListener("close",G),H()}$.once("finish",q);function H(){o("unpipe"),P.unpipe($)}return $.emit("pipe",P),W.flowing||(o("pipe resume"),P.resume()),$};function b($){return function(){var A=$._readableState;o("pipeOnDrain",A.awaitDrain),A.awaitDrain&&A.awaitDrain--,A.awaitDrain===0&&t.listenerCount($,"data")&&(A.flowing=!0,S($))}}u.prototype.unpipe=function($){var A=this._readableState;if(A.pipesCount===0)return this;if(A.pipesCount===1)return $&&$!==A.pipes?this:($||($=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,$&&$.emit("unpipe",this),this);if(!$){var P=A.pipes,W=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var K=0;K<W;K++)P[K].emit("unpipe",this);return this}var K=z(A.pipes,$);return K===-1?this:(A.pipes.splice(K,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),$.emit("unpipe",this),this)},u.prototype.on=function($,A){var P=n.prototype.on.call(this,$,A);if($==="data"&&this._readableState.flowing!==!1&&this.resume(),$==="readable"&&this.readable){var W=this._readableState;if(!W.readableListening)if(W.readableListening=!0,W.emittedReadable=!1,W.needReadable=!0,W.reading)W.length&&w(this);else{var K=this;process.nextTick(function(){o("readable nexttick read 0"),K.read(0)})}}return P},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var $=this._readableState;return $.flowing||(o("resume"),$.flowing=!0,$.reading||(o("resume read 0"),this.read(0)),p(this,$)),this};function p($,A){A.resumeScheduled||(A.resumeScheduled=!0,process.nextTick(function(){m($,A)}))}function m($,A){A.resumeScheduled=!1,$.emit("resume"),S($),A.flowing&&!A.reading&&$.read(0)}u.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function S($){var A=$._readableState;if(o("flow",A.flowing),A.flowing)do var P=$.read();while(P!==null&&A.flowing)}u.prototype.wrap=function($){var A=this._readableState,P=!1,W=this;$.on("end",function(){if(o("wrapped end"),A.decoder&&!A.ended){var C=A.decoder.end();C&&C.length&&W.push(C)}W.push(null)}),$.on("data",function(C){if(o("wrapped data"),A.decoder&&(C=A.decoder.write(C)),!(!C||!A.objectMode&&!C.length)){var D=W.push(C);D||(P=!0,$.pause())}});for(var K in $)i.isFunction($[K])&&i.isUndefined(this[K])&&(this[K]=function(C){return function(){return $[C].apply($,arguments)}}(K));var R=["error","close","destroy","pause","resume"];return L(R,function(C){$.on(C,W.emit.bind(W,C))}),W._read=function(C){o("wrapped _read",C),P&&(P=!1,$.resume())},W},u._fromList=T;function T($,A){var P=A.buffer,W=A.length,K=!!A.decoder,R=!!A.objectMode,C;if(P.length===0)return null;if(W===0)C=null;else if(R)C=P.shift();else if(!$||$>=W)K?C=P.join(""):C=r.concat(P,W),P.length=0;else if($<P[0].length){var D=P[0];C=D.slice(0,$),P[0]=D.slice($)}else if($===P[0].length)C=P.shift();else{K?C="":C=new r($);for(var B=0,j=0,N=P.length;j<N&&B<$;j++){var D=P[0],U=Math.min($-B,D.length);K?C+=D.slice(0,U):D.copy(C,B,0,U),U<D.length?P[0]=D.slice(U):P.shift(),B+=U}}return C}function M($){var A=$._readableState;if(A.length>0)throw new Error("endReadable called on non-empty stream");A.endEmitted||(A.ended=!0,process.nextTick(function(){!A.endEmitted&&A.length===0&&(A.endEmitted=!0,$.readable=!1,$.emit("end"))}))}function L($,A){for(var P=0,W=$.length;P<W;P++)A($[P],P)}function z($,A){for(var P=0,W=$.length;P<W;P++)if($[P]===A)return P;return-1}return In}var jn,fo;function Tr(){if(fo)return jn;fo=1,jn=i;var e=Object.keys||function(f){var u=[];for(var s in f)u.push(s);return u},r=X;r.inherits=ue.exports;var t=Mu(),n=ua();r.inherits(i,t),o(e(n.prototype),function(f){i.prototype[f]||(i.prototype[f]=n.prototype[f])});function i(f){if(!(this instanceof i))return new i(f);t.call(this,f),n.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function o(f,u){for(var s=0,l=f.length;s<l;s++)u(f[s],s)}return jn}var kn,uo;function ua(){if(uo)return kn;uo=1,kn=a;var e=We.Buffer;a.WritableState=i;var r=X;r.inherits=ue.exports;var t=xe();r.inherits(a,t);function n(p,m,S){this.chunk=p,this.encoding=m,this.callback=S}function i(p,m){var S=Tr();p=p||{};var T=p.highWaterMark,M=p.objectMode?16:16*1024;this.highWaterMark=T||T===0?T:M,this.objectMode=!!p.objectMode,m instanceof S&&(this.objectMode=this.objectMode||!!p.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var L=p.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=p.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){h(m,z)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(p){var m=Tr();if(!(this instanceof a)&&!(this instanceof m))return new a(p);this._writableState=new i(p,this),this.writable=!0,t.call(this)}a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function o(p,m,S){var T=new Error("write after end");p.emit("error",T),process.nextTick(function(){S(T)})}function f(p,m,S,T){var M=!0;if(!r.isBuffer(S)&&!r.isString(S)&&!r.isNullOrUndefined(S)&&!m.objectMode){var L=new TypeError("Invalid non-string/buffer chunk");p.emit("error",L),process.nextTick(function(){T(L)}),M=!1}return M}a.prototype.write=function(p,m,S){var T=this._writableState,M=!1;return r.isFunction(m)&&(S=m,m=null),r.isBuffer(p)?m="buffer":m||(m=T.defaultEncoding),r.isFunction(S)||(S=function(){}),T.ended?o(this,T,S):f(this,T,p,S)&&(T.pendingcb++,M=s(this,T,p,m,S)),M},a.prototype.cork=function(){var p=this._writableState;p.corked++},a.prototype.uncork=function(){var p=this._writableState;p.corked&&(p.corked--,!p.writing&&!p.corked&&!p.finished&&!p.bufferProcessing&&p.buffer.length&&w(this,p))};function u(p,m,S){return!p.objectMode&&p.decodeStrings!==!1&&r.isString(m)&&(m=new e(m,S)),m}function s(p,m,S,T,M){S=u(m,S,T),r.isBuffer(S)&&(T="buffer");var L=m.objectMode?1:S.length;m.length+=L;var z=m.length<m.highWaterMark;return z||(m.needDrain=!0),m.writing||m.corked?m.buffer.push(new n(S,T,M)):l(p,m,!1,L,S,T,M),z}function l(p,m,S,T,M,L,z){m.writelen=T,m.writecb=z,m.writing=!0,m.sync=!0,S?p._writev(M,m.onwrite):p._write(M,L,m.onwrite),m.sync=!1}function c(p,m,S,T,M){S?process.nextTick(function(){m.pendingcb--,M(T)}):(m.pendingcb--,M(T)),p._writableState.errorEmitted=!0,p.emit("error",T)}function v(p){p.writing=!1,p.writecb=null,p.length-=p.writelen,p.writelen=0}function h(p,m){var S=p._writableState,T=S.sync,M=S.writecb;if(v(S),m)c(p,S,T,m,M);else{var L=y(p,S);!L&&!S.corked&&!S.bufferProcessing&&S.buffer.length&&w(p,S),T?process.nextTick(function(){d(p,S,L,M)}):d(p,S,L,M)}}function d(p,m,S,T){S||g(p,m),m.pendingcb--,T(),O(p,m)}function g(p,m){m.length===0&&m.needDrain&&(m.needDrain=!1,p.emit("drain"))}function w(p,m){if(m.bufferProcessing=!0,p._writev&&m.buffer.length>1){for(var S=[],T=0;T<m.buffer.length;T++)S.push(m.buffer[T].callback);m.pendingcb++,l(p,m,!0,m.length,m.buffer,"",function(P){for(var W=0;W<S.length;W++)m.pendingcb--,S[W](P)}),m.buffer=[]}else{for(var T=0;T<m.buffer.length;T++){var M=m.buffer[T],L=M.chunk,z=M.encoding,$=M.callback,A=m.objectMode?1:L.length;if(l(p,m,!1,A,L,z,$),m.writing){T++;break}}T<m.buffer.length?m.buffer=m.buffer.slice(T):m.buffer.length=0}m.bufferProcessing=!1}a.prototype._write=function(p,m,S){S(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(p,m,S){var T=this._writableState;r.isFunction(p)?(S=p,p=null,m=null):r.isFunction(m)&&(S=m,m=null),r.isNullOrUndefined(p)||this.write(p,m),T.corked&&(T.corked=1,this.uncork()),!T.ending&&!T.finished&&b(this,T,S)};function y(p,m){return m.ending&&m.length===0&&!m.finished&&!m.writing}function _(p,m){m.prefinished||(m.prefinished=!0,p.emit("prefinish"))}function O(p,m){var S=y(p,m);return S&&(m.pendingcb===0?(_(p,m),m.finished=!0,p.emit("finish")):_(p,m)),S}function b(p,m,S){m.ending=!0,O(p,m),S&&(m.finished?process.nextTick(S):p.once("finish",S)),m.ended=!0}return kn}(function(e){e.exports=ua()})(Du);var mi={exports:{}},Nu=fr,sa=Tr(),vt=X;vt.inherits=ue.exports;vt.inherits(fr,sa);function kh(e,r){this.afterTransform=function(t,n){return Lh(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function Lh(e,r,t){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,vt.isNullOrUndefined(t)||e.push(t),i&&i(r);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}function fr(e){if(!(this instanceof fr))return new fr(e);sa.call(this,e),this._transformState=new kh(e,this);var r=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){vt.isFunction(this._flush)?this._flush(function(t){so(r,t)}):so(r)})}fr.prototype.push=function(e,r){return this._transformState.needTransform=!1,sa.prototype.push.call(this,e,r)};fr.prototype._transform=function(e,r,t){throw new Error("not implemented")};fr.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};fr.prototype._read=function(e){var r=this._transformState;!vt.isNull(r.writechunk)&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};function so(e,r){if(r)return e.emit("error",r);var t=e._writableState,n=e._transformState;if(t.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}var Wh=nt,Fu=Nu,Pu=X;Pu.inherits=ue.exports;Pu.inherits(nt,Fu);function nt(e){if(!(this instanceof nt))return new nt(e);Fu.call(this,e)}nt.prototype._transform=function(e,r,t){t(null,e)};(function(e,r){r=e.exports=Mu(),r.Stream=xe(),r.Readable=r,r.Writable=ua(),r.Duplex=Tr(),r.Transform=Nu,r.PassThrough=Wh,!process.browser&&process.env.READABLE_STREAM==="disable"&&(e.exports=xe())})(mi,mi.exports);var Lt={exports:{}},Uh=function(r){var t=r.reverse,n=r.end,i=r.start,a=[i,n];return i!=null&&n!=null&&a.sort(),t&&(a=a.reverse()),r.start=a[0],r.end=a[1],r};(function(e,r){var t=Uh;r=e.exports=i,r.first=a,r.last=o;function n(f,u,s){var l=[];return u.forEach(function(c){function v(h){s(c,h)!==!1&&l.forEach(function(d){d()})}f.on(c,v),l.push(function(){f.removeListener(c,v)})}),f}function i(f,u,s){u.limit=u.reverse?2:1,n(f.createReadStream(u),["data","error","end"],function(l,c){if(u.reverse&&c&&u.start&&c.key.toString()>u.start)return!1;l=="error"?s(c):l=="end"?s(new Error("range not found"),null,null):s(null,c.key,c.value)})}function a(f,u,s){return s||(s=u,u={}),u.reverse=!1,i(f,t(u),s)}function o(f,u,s){return s||(s=u,u={}),u.start,u.reverse=!0,i(f,t(u),function(l,c,v){if(l){var h=u.start;u.start=null,i(f,u,function(d,g,w){if(!g)return s(l,null,null);var y=g.toString();y<=h&&(!u.end||y>=u.end)?s(d,g,w):s(l,null,null)})}else s(l,c,v)})}})(Lt,Lt.exports);var gt={exports:{}},qh=Iu;function Iu(e,r){if(e&&r)return Iu(e)(r);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=e.apply(this,n),o=n[n.length-1];return typeof a=="function"&&a!==o&&Object.keys(o).forEach(function(f){a[f]=o[f]}),a}}var ju=qh;gt.exports=ju(Tt);gt.exports.strict=ju(ku);Tt.proto=Tt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Tt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ku(this)},configurable:!0})});function Tt(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function ku(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},t=e.name||"Function wrapped with `once`";return r.onceError=t+" shouldn't be called more than once",r.called=!1,r}var Ln=Du.exports,lo=mi.exports,Vh=Lt.exports,co=Ie,ho=gt.exports,po=new Buffer(0),Et={encode:function(e){return typeof e=="string"?e=new Buffer(e):e},decode:function(e){return Buffer.isBuffer(e)?e:new Buffer(e)},buffer:!0,type:"raw"},Wn=function(){},Un=function(e){return e=e.toString(16),"00000000".slice(0,-e.length)+e},Kh=function(e,r){var t=new Buffer(r);return e.copy(t),t},Hh=function(e,r){r||(r={});var t={},n=r.blockSize||65536,i=r.batch||100,a=new Buffer(n);e.put("\0","ignore",Wn);var o={},f=function(l,c,v,h,d){var g=function(){--o[l].locks||delete o[l]},w=function(y){if(y.locks++,!y.block&&!c){y.block=v,d(null,y.block,g);return}y.block||(y.block=new Buffer(n)),y.block.length<c+v.length&&(y.block=Kh(y.block,c+v.length)),v.copy(y.block,c),!h&&c+v.length<y.block.length&&(y.block=y.block.slice(0,c+v.length)),d(null,y.block,g)};if(o[l])return w(o[l]);e.get(l,{valueEncoding:Et},function(y,_){if(y&&!y.notFound)return d(y);o[l]||(o[l]={locks:0,block:_}),w(o[l])})},u=function(l,c){if(!(this instanceof u))return new u(l,c);c||(c={}),this.name=l,this.blocks=[],this.batch=[],this.bytesWritten=0,this.truncate=!c.append,this.append=c.append,this._shouldInitAppend=this.append&&c.start===void 0,this._destroyed=!1,this._init(c.start||0),Ln.call(this)};co.inherits(u,Ln),u.prototype._init=function(l){this.blockIndex=l/n|0,this.blockOffset=l-this.blockIndex*n,this.blockLength=this.blockOffset},u.prototype._flush=function(l){if(!this.batch.length)return l();var c=this.batch[this.batch.length-1].key,v=this.batch;if(this.batch=[],!this.truncate)return e.batch(v,l);this.truncate=!1,this._truncate(v,c,l)},u.prototype._truncate=function(l,c,v){v=ho(v);var h=[],d=e.createKeyStream({start:c,end:this.name+"\xFF\xFF"});d.on("error",v),d.on("data",function(g){h.push({type:"del",key:g})}),d.on("end",function(){h.push.apply(h,l),e.batch(h,v)})},u.prototype._writeBlock=function(l){var c=this.blocks.length===1?this.blocks[0]:Buffer.concat(this.blocks,this.blockLength-this.blockOffset),v=this.blockIndex,h=this.blockOffset,d=this;this.blockOffset=0,this.blockLength=0,this.blockIndex++,this.blocks=[];var g=this.name+"\xFF"+Un(v),w=function(y,_,O){return y.length&&d.batch.push({type:"put",key:g,value:y,valueEncoding:Et}),!_&&d.batch.length<i?O():d._flush(O)};if(!h&&c.length===n||!h&&!this.append)return w(c,!1,l);f(g,h,c,this.append,function(y,_,O){if(y)return l(y);w(_,!0,function(b){O(),l(b)})})},u.prototype._initAppend=function(l,c,v){var h=this;this._shouldInitAppend=!1,t.size(this.name,function(d,g){if(d)return v(d);h._init(g),h._write(l,c,v)})},u.prototype._write=function(l,c,v){if(!l.length||this._destroyed)return v();if(this._shouldInitAppend)return this._initAppend(l,c,v);var h=this,d,g=n-this.blockLength,w=function(y){if(y)return v(y);if(d)return h._write(d,c,v);v()};if(l.length>g&&(d=l.slice(g),l=l.slice(0,g)),this.bytesWritten+=l.length,this.blockLength+=l.length,this.blocks.push(l),l.length<g)return w();this._writeBlock(w)},u.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,process.nextTick(this.emit.bind(this,"close")))},u.prototype.end=function(l){var c=this,v=arguments;l&&typeof l!="function"&&(this.write(l),l=po),this.write(po,function(){c._writeBlock(function(h){if(h)return c.emit("error",h);c._flush(function(d){if(d)return c.emit("error",d);Ln.prototype.end.apply(c,v)})})})};var s=function(l,c){c||(c={});var v=this,h=c.start||0,d=h/n|0,g=h-d*n,w=l+"\xFF"+Un(d);this.name=l,this._missing=(typeof c.end=="number"?c.end:1/0)-h+1,this._paused=!1,this._destroyed=!1,this._reader=e.createReadStream({start:w,end:l+"\xFF\xFF",valueEncoding:Et});var y=function(_){return w=l+"\xFF"+Un(++d),v._missing?g&&(_=_.slice(g),g=0,!_.length)?!0:(_.length>v._missing&&(_=_.slice(0,v._missing)),v._missing-=_.length,v._pause(!v.push(_)),!!v._missing):!1};this._reader.on("data",function(_){for(;_.key>w;)if(!y(a))return;y(_.value)}),this._reader.on("error",function(_){v.emit("error",_)}),this._reader.on("end",function(){v.push(null)}),lo.call(this)};return co.inherits(s,lo),s.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._reader.destroy(),process.nextTick(this.emit.bind(this,"close")))},s.prototype._pause=function(l){this._paused!==l&&(this._paused=l,this._paused?this._reader.pause():this._reader.resume())},s.prototype._read=function(){this._pause(!1)},t.remove=function(l,c){c=ho(c||Wn);var v=[],h=e.createKeyStream({start:l+"\xFF",end:l+"\xFF\xFF"});h.on("error",c),h.on("data",function(d){v.push({type:"del",key:d})}),h.on("end",function(){e.batch(v,c)})},t.size=function(l,c){Vh.last(e,{start:l+"\xFF",end:l+"\xFF\xFF",valueEncoding:Et},function(v,h,d){if(v&&v.message==="range not found")return c(null,0);if(v)return c(v);if(h.slice(0,l.length+1)!==l+"\xFF")return c(null,0);c(null,parseInt(h.toString().slice(l.length+1),16)*n+d.length)})},t.write=function(l,c,v,h){if(typeof v=="function")return t.write(l,c,null,v);v||(v={}),h||(h=Wn);var d=t.createWriteStream(l,v);d.on("error",h),d.on("finish",function(){h()}),d.write(c),d.end()},t.read=function(l,c,v){if(typeof c=="function")return t.read(l,null,c);c||(c={});var h=t.createReadStream(l,c),d=[];h.on("error",v),h.on("data",function(g){d.push(g)}),h.on("end",function(){v(null,d.length===1?d[0]:Buffer.concat(d))})},t.createReadStream=function(l,c){return new s(l,c)},t.createWriteStream=function(l,c){return new u(l,c)},t},Lu=function(e,r){return parseInt(e.toString(),r||8)},la={};(function(e){var r=Vi.exports;Object.keys(r.code).forEach(function(t){var n=r.code[t];e[t]=function(i){var a=new Error(t+", "+n.description+(i?" '"+i+"'":""));return a.errno=n.errno,a.code=t,a.path=i,a}})})(la);var yi={exports:{}},Rr={exports:{}};typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Rr.exports={nextTick:Yh}:Rr.exports=process;function Yh(e,r,t,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,a,o;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,r)});case 3:return process.nextTick(function(){e.call(null,r,t)});case 4:return process.nextTick(function(){e.call(null,r,t,n)});default:for(a=new Array(i-1),o=0;o<a.length;)a[o++]=arguments[o];return process.nextTick(function(){e.apply(null,a)})}}var zh={}.toString,Gh=Array.isArray||function(e){return zh.call(e)=="[object Array]"},Wu=Ve.exports.EventEmitter,Br={exports:{}};(function(e,r){var t=We,n=t.Buffer;function i(o,f){for(var u in o)f[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(i(t,r),r.Buffer=a);function a(o,f,u){return n(o,f,u)}i(n,a),a.from=function(o,f,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,f,u)},a.alloc=function(o,f,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var s=n(o);return f!==void 0?typeof u=="string"?s.fill(f,u):s.fill(f):s.fill(0),s},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(Br,Br.exports);var qn={exports:{}},vo;function Jh(){return vo||(vo=1,function(e){function r(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var t=Br.exports.Buffer,n=Ie;function i(a,o,f){a.copy(o,f)}e.exports=function(){function a(){r(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(f){var u={data:f,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},a.prototype.unshift=function(f){var u={data:f,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},a.prototype.shift=function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(f){if(this.length===0)return"";for(var u=this.head,s=""+u.data;u=u.next;)s+=f+u.data;return s},a.prototype.concat=function(f){if(this.length===0)return t.alloc(0);if(this.length===1)return this.head.data;for(var u=t.allocUnsafe(f>>>0),s=this.head,l=0;s;)i(s.data,u,l),l+=s.data.length,s=s.next;return u},a}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var a=n.inspect({length:this.length});return this.constructor.name+" "+a})}(qn)),qn.exports}var go=Rr.exports;function Xh(e,r){var t=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(r?r(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&go.nextTick(mo,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!r&&a?(go.nextTick(mo,t,a),t._writableState&&(t._writableState.errorEmitted=!0)):r&&r(a)}),this)}function Zh(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mo(e,r){e.emit("error",r)}var Uu={destroy:Xh,undestroy:Zh},Vn,yo;function qu(){if(yo)return Vn;yo=1;var e=Rr.exports;Vn=g;function r(R){var C=this;this.next=null,this.entry=null,this.finish=function(){K(C,R)}}var t=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:e.nextTick,n;g.WritableState=h;var i=Object.create(X);i.inherits=ue.exports;var a={deprecate:fl},o=Wu,f=Br.exports.Buffer,u=Fr.Uint8Array||function(){};function s(R){return f.from(R)}function l(R){return f.isBuffer(R)||R instanceof u}var c=Uu;i.inherits(g,o);function v(){}function h(R,C){n=n||Dr(),R=R||{};var D=C instanceof n;this.objectMode=!!R.objectMode,D&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var B=R.highWaterMark,j=R.writableHighWaterMark,N=this.objectMode?16:16*1024;B||B===0?this.highWaterMark=B:D&&(j||j===0)?this.highWaterMark=j:this.highWaterMark=N,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=R.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){S(C,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}h.prototype.getBuffer=function(){for(var C=this.bufferedRequest,D=[];C;)D.push(C),C=C.next;return D},function(){try{Object.defineProperty(h.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var d;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(R){return d.call(this,R)?!0:this!==g?!1:R&&R._writableState instanceof h}})):d=function(R){return R instanceof this};function g(R){if(n=n||Dr(),!d.call(g,this)&&!(this instanceof n))return new g(R);this._writableState=new h(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),o.call(this)}g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function w(R,C){var D=new Error("write after end");R.emit("error",D),e.nextTick(C,D)}function y(R,C,D,B){var j=!0,N=!1;return D===null?N=new TypeError("May not write null values to stream"):typeof D!="string"&&D!==void 0&&!C.objectMode&&(N=new TypeError("Invalid non-string/buffer chunk")),N&&(R.emit("error",N),e.nextTick(B,N),j=!1),j}g.prototype.write=function(R,C,D){var B=this._writableState,j=!1,N=!B.objectMode&&l(R);return N&&!f.isBuffer(R)&&(R=s(R)),typeof C=="function"&&(D=C,C=null),N?C="buffer":C||(C=B.defaultEncoding),typeof D!="function"&&(D=v),B.ended?w(this,D):(N||y(this,B,R,D))&&(B.pendingcb++,j=O(this,B,N,R,C,D)),j},g.prototype.cork=function(){var R=this._writableState;R.corked++},g.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.finished&&!R.bufferProcessing&&R.bufferedRequest&&L(this,R))},g.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+C);return this._writableState.defaultEncoding=C,this};function _(R,C,D){return!R.objectMode&&R.decodeStrings!==!1&&typeof C=="string"&&(C=f.from(C,D)),C}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(R,C,D,B,j,N){if(!D){var U=_(C,B,j);B!==U&&(D=!0,j="buffer",B=U)}var G=C.objectMode?1:B.length;C.length+=G;var q=C.length<C.highWaterMark;if(q||(C.needDrain=!0),C.writing||C.corked){var H=C.lastBufferedRequest;C.lastBufferedRequest={chunk:B,encoding:j,isBuf:D,callback:N,next:null},H?H.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else b(R,C,!1,G,B,j,N);return q}function b(R,C,D,B,j,N,U){C.writelen=B,C.writecb=U,C.writing=!0,C.sync=!0,D?R._writev(j,C.onwrite):R._write(j,N,C.onwrite),C.sync=!1}function p(R,C,D,B,j){--C.pendingcb,D?(e.nextTick(j,B),e.nextTick(P,R,C),R._writableState.errorEmitted=!0,R.emit("error",B)):(j(B),R._writableState.errorEmitted=!0,R.emit("error",B),P(R,C))}function m(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function S(R,C){var D=R._writableState,B=D.sync,j=D.writecb;if(m(D),C)p(R,D,B,C,j);else{var N=z(D);!N&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&L(R,D),B?t(T,R,D,N,j):T(R,D,N,j)}}function T(R,C,D,B){D||M(R,C),C.pendingcb--,B(),P(R,C)}function M(R,C){C.length===0&&C.needDrain&&(C.needDrain=!1,R.emit("drain"))}function L(R,C){C.bufferProcessing=!0;var D=C.bufferedRequest;if(R._writev&&D&&D.next){var B=C.bufferedRequestCount,j=new Array(B),N=C.corkedRequestsFree;N.entry=D;for(var U=0,G=!0;D;)j[U]=D,D.isBuf||(G=!1),D=D.next,U+=1;j.allBuffers=G,b(R,C,!0,C.length,j,"",N.finish),C.pendingcb++,C.lastBufferedRequest=null,N.next?(C.corkedRequestsFree=N.next,N.next=null):C.corkedRequestsFree=new r(C),C.bufferedRequestCount=0}else{for(;D;){var q=D.chunk,H=D.encoding,E=D.callback,x=C.objectMode?1:q.length;if(b(R,C,!1,x,q,H,E),D=D.next,C.bufferedRequestCount--,C.writing)break}D===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=D,C.bufferProcessing=!1}g.prototype._write=function(R,C,D){D(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(R,C,D){var B=this._writableState;typeof R=="function"?(D=R,R=null,C=null):typeof C=="function"&&(D=C,C=null),R!=null&&this.write(R,C),B.corked&&(B.corked=1,this.uncork()),!B.ending&&!B.finished&&W(this,B,D)};function z(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function $(R,C){R._final(function(D){C.pendingcb--,D&&R.emit("error",D),C.prefinished=!0,R.emit("prefinish"),P(R,C)})}function A(R,C){!C.prefinished&&!C.finalCalled&&(typeof R._final=="function"?(C.pendingcb++,C.finalCalled=!0,e.nextTick($,R,C)):(C.prefinished=!0,R.emit("prefinish")))}function P(R,C){var D=z(C);return D&&(A(R,C),C.pendingcb===0&&(C.finished=!0,R.emit("finish"))),D}function W(R,C,D){C.ending=!0,P(R,C),D&&(C.finished?e.nextTick(D):R.once("finish",D)),C.ended=!0,R.writable=!1}function K(R,C,D){var B=R.entry;for(R.entry=null;B;){var j=B.callback;C.pendingcb--,j(D),B=B.next}C.corkedRequestsFree?C.corkedRequestsFree.next=R:C.corkedRequestsFree=R}return Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){!this._writableState||(this._writableState.destroyed=R)}}),g.prototype.destroy=c.destroy,g.prototype._undestroy=c.undestroy,g.prototype._destroy=function(R,C){this.end(),C(R)},Vn}var Kn,bo;function Dr(){if(bo)return Kn;bo=1;var e=Rr.exports,r=Object.keys||function(c){var v=[];for(var h in c)v.push(h);return v};Kn=u;var t=Object.create(X);t.inherits=ue.exports;var n=Vu(),i=qu();t.inherits(u,n);for(var a=r(i.prototype),o=0;o<a.length;o++){var f=a[o];u.prototype[f]||(u.prototype[f]=i.prototype[f])}function u(c){if(!(this instanceof u))return new u(c);n.call(this,c),i.call(this,c),c&&c.readable===!1&&(this.readable=!1),c&&c.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,c&&c.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",s)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function s(){this.allowHalfOpen||this._writableState.ended||e.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),u.prototype._destroy=function(c,v){this.push(null),this.end(),e.nextTick(v,c)},Kn}var Hn={},wo;function _o(){if(wo)return Hn;wo=1;var e=Br.exports.Buffer,r=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(y){if(!y)return"utf8";for(var _;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(_)return;y=(""+y).toLowerCase(),_=!0}}function n(y){var _=t(y);if(typeof _!="string"&&(e.isEncoding===r||!r(y)))throw new Error("Unknown encoding: "+y);return _||y}Hn.StringDecoder=i;function i(y){this.encoding=n(y);var _;switch(this.encoding){case"utf16le":this.text=c,this.end=v,_=4;break;case"utf8":this.fillLast=u,_=4;break;case"base64":this.text=h,this.end=d,_=3;break;default:this.write=g,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(_)}i.prototype.write=function(y){if(y.length===0)return"";var _,O;if(this.lastNeed){if(_=this.fillLast(y),_===void 0)return"";O=this.lastNeed,this.lastNeed=0}else O=0;return O<y.length?_?_+this.text(y,O):this.text(y,O):_||""},i.prototype.end=l,i.prototype.text=s,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,_,O){var b=_.length-1;if(b<O)return 0;var p=a(_[b]);return p>=0?(p>0&&(y.lastNeed=p-1),p):--b<O||p===-2?0:(p=a(_[b]),p>=0?(p>0&&(y.lastNeed=p-2),p):--b<O||p===-2?0:(p=a(_[b]),p>=0?(p>0&&(p===2?p=0:y.lastNeed=p-3),p):0))}function f(y,_,O){if((_[0]&192)!==128)return y.lastNeed=0,"\uFFFD";if(y.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return y.lastNeed=1,"\uFFFD";if(y.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return y.lastNeed=2,"\uFFFD"}}function u(y){var _=this.lastTotal-this.lastNeed,O=f(this,y);if(O!==void 0)return O;if(this.lastNeed<=y.length)return y.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,_,0,y.length),this.lastNeed-=y.length}function s(y,_){var O=o(this,y,_);if(!this.lastNeed)return y.toString("utf8",_);this.lastTotal=O;var b=y.length-(O-this.lastNeed);return y.copy(this.lastChar,0,b),y.toString("utf8",_,b)}function l(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+"\uFFFD":_}function c(y,_){if((y.length-_)%2===0){var O=y.toString("utf16le",_);if(O){var b=O.charCodeAt(O.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],O.slice(0,-1)}return O}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",_,y.length-1)}function v(y){var _=y&&y.length?this.write(y):"";if(this.lastNeed){var O=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,O)}return _}function h(y,_){var O=(y.length-_)%3;return O===0?y.toString("base64",_):(this.lastNeed=3-O,this.lastTotal=3,O===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",_,y.length-O))}function d(y){var _=y&&y.length?this.write(y):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function g(y){return y.toString(this.encoding)}function w(y){return y&&y.length?this.write(y):""}return Hn}var Yn,Eo;function Vu(){if(Eo)return Yn;Eo=1;var e=Rr.exports;Yn=_;var r=Gh,t;_.ReadableState=y,Ve.exports.EventEmitter;var n=function(E,x){return E.listeners(x).length},i=Wu,a=Br.exports.Buffer,o=Fr.Uint8Array||function(){};function f(E){return a.from(E)}function u(E){return a.isBuffer(E)||E instanceof o}var s=Object.create(X);s.inherits=ue.exports;var l=Ie,c=void 0;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var v=Jh(),h=Uu,d;s.inherits(_,i);var g=["error","close","destroy","pause","resume"];function w(E,x,I){if(typeof E.prependListener=="function")return E.prependListener(x,I);!E._events||!E._events[x]?E.on(x,I):r(E._events[x])?E._events[x].unshift(I):E._events[x]=[I,E._events[x]]}function y(E,x){t=t||Dr(),E=E||{};var I=x instanceof t;this.objectMode=!!E.objectMode,I&&(this.objectMode=this.objectMode||!!E.readableObjectMode);var k=E.highWaterMark,J=E.readableHighWaterMark,V=this.objectMode?16:16*1024;k||k===0?this.highWaterMark=k:I&&(J||J===0)?this.highWaterMark=J:this.highWaterMark=V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(d||(d=_o().StringDecoder),this.decoder=new d(E.encoding),this.encoding=E.encoding)}function _(E){if(t=t||Dr(),!(this instanceof _))return new _(E);this._readableState=new y(E,this),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),i.call(this)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(E){!this._readableState||(this._readableState.destroyed=E)}}),_.prototype.destroy=h.destroy,_.prototype._undestroy=h.undestroy,_.prototype._destroy=function(E,x){this.push(null),x(E)},_.prototype.push=function(E,x){var I=this._readableState,k;return I.objectMode?k=!0:typeof E=="string"&&(x=x||I.defaultEncoding,x!==I.encoding&&(E=a.from(E,x),x=""),k=!0),O(this,E,x,!1,k)},_.prototype.unshift=function(E){return O(this,E,null,!0,!1)};function O(E,x,I,k,J){var V=E._readableState;if(x===null)V.reading=!1,L(E,V);else{var Y;J||(Y=p(V,x)),Y?E.emit("error",Y):V.objectMode||x&&x.length>0?(typeof x!="string"&&!V.objectMode&&Object.getPrototypeOf(x)!==a.prototype&&(x=f(x)),k?V.endEmitted?E.emit("error",new Error("stream.unshift() after end event")):b(E,V,x,!0):V.ended?E.emit("error",new Error("stream.push() after EOF")):(V.reading=!1,V.decoder&&!I?(x=V.decoder.write(x),V.objectMode||x.length!==0?b(E,V,x,!1):A(E,V)):b(E,V,x,!1))):k||(V.reading=!1)}return m(V)}function b(E,x,I,k){x.flowing&&x.length===0&&!x.sync?(E.emit("data",I),E.read(0)):(x.length+=x.objectMode?1:I.length,k?x.buffer.unshift(I):x.buffer.push(I),x.needReadable&&z(E)),A(E,x)}function p(E,x){var I;return!u(x)&&typeof x!="string"&&x!==void 0&&!E.objectMode&&(I=new TypeError("Invalid non-string/buffer chunk")),I}function m(E){return!E.ended&&(E.needReadable||E.length<E.highWaterMark||E.length===0)}_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(E){return d||(d=_o().StringDecoder),this._readableState.decoder=new d(E),this._readableState.encoding=E,this};var S=8388608;function T(E){return E>=S?E=S:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function M(E,x){return E<=0||x.length===0&&x.ended?0:x.objectMode?1:E!==E?x.flowing&&x.length?x.buffer.head.data.length:x.length:(E>x.highWaterMark&&(x.highWaterMark=T(E)),E<=x.length?E:x.ended?x.length:(x.needReadable=!0,0))}_.prototype.read=function(E){c("read",E),E=parseInt(E,10);var x=this._readableState,I=E;if(E!==0&&(x.emittedReadable=!1),E===0&&x.needReadable&&(x.length>=x.highWaterMark||x.ended))return c("read: emitReadable",x.length,x.ended),x.length===0&&x.ended?G(this):z(this),null;if(E=M(E,x),E===0&&x.ended)return x.length===0&&G(this),null;var k=x.needReadable;c("need readable",k),(x.length===0||x.length-E<x.highWaterMark)&&(k=!0,c("length less than watermark",k)),x.ended||x.reading?(k=!1,c("reading or ended",k)):k&&(c("do read"),x.reading=!0,x.sync=!0,x.length===0&&(x.needReadable=!0),this._read(x.highWaterMark),x.sync=!1,x.reading||(E=M(I,x)));var J;return E>0?J=B(E,x):J=null,J===null?(x.needReadable=!0,E=0):x.length-=E,x.length===0&&(x.ended||(x.needReadable=!0),I!==E&&x.ended&&G(this)),J!==null&&this.emit("data",J),J};function L(E,x){if(!x.ended){if(x.decoder){var I=x.decoder.end();I&&I.length&&(x.buffer.push(I),x.length+=x.objectMode?1:I.length)}x.ended=!0,z(E)}}function z(E){var x=E._readableState;x.needReadable=!1,x.emittedReadable||(c("emitReadable",x.flowing),x.emittedReadable=!0,x.sync?e.nextTick($,E):$(E))}function $(E){c("emit readable"),E.emit("readable"),D(E)}function A(E,x){x.readingMore||(x.readingMore=!0,e.nextTick(P,E,x))}function P(E,x){for(var I=x.length;!x.reading&&!x.flowing&&!x.ended&&x.length<x.highWaterMark&&(c("maybeReadMore read 0"),E.read(0),I!==x.length);)I=x.length;x.readingMore=!1}_.prototype._read=function(E){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(E,x){var I=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=E;break;case 1:k.pipes=[k.pipes,E];break;default:k.pipes.push(E);break}k.pipesCount+=1,c("pipe count=%d opts=%j",k.pipesCount,x);var J=(!x||x.end!==!1)&&E!==process.stdout&&E!==process.stderr,V=J?Te:Re;k.endEmitted?e.nextTick(V):I.once("end",V),E.on("unpipe",Y);function Y(Be,Ke){c("onunpipe"),Be===I&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,me())}function Te(){c("onend"),E.end()}var ge=W(I);E.on("drain",ge);var ae=!1;function me(){c("cleanup"),E.removeListener("close",he),E.removeListener("finish",oe),E.removeListener("drain",ge),E.removeListener("error",ce),E.removeListener("unpipe",Y),I.removeListener("end",Te),I.removeListener("end",Re),I.removeListener("data",le),ae=!0,k.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&ge()}var se=!1;I.on("data",le);function le(Be){c("ondata"),se=!1;var Ke=E.write(Be);Ke===!1&&!se&&((k.pipesCount===1&&k.pipes===E||k.pipesCount>1&&H(k.pipes,E)!==-1)&&!ae&&(c("false write response, pause",I._readableState.awaitDrain),I._readableState.awaitDrain++,se=!0),I.pause())}function ce(Be){c("onerror",Be),Re(),E.removeListener("error",ce),n(E,"error")===0&&E.emit("error",Be)}w(E,"error",ce);function he(){E.removeListener("finish",oe),Re()}E.once("close",he);function oe(){c("onfinish"),E.removeListener("close",he),Re()}E.once("finish",oe);function Re(){c("unpipe"),I.unpipe(E)}return E.emit("pipe",I),k.flowing||(c("pipe resume"),I.resume()),E};function W(E){return function(){var x=E._readableState;c("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&n(E,"data")&&(x.flowing=!0,D(E))}}_.prototype.unpipe=function(E){var x=this._readableState,I={hasUnpiped:!1};if(x.pipesCount===0)return this;if(x.pipesCount===1)return E&&E!==x.pipes?this:(E||(E=x.pipes),x.pipes=null,x.pipesCount=0,x.flowing=!1,E&&E.emit("unpipe",this,I),this);if(!E){var k=x.pipes,J=x.pipesCount;x.pipes=null,x.pipesCount=0,x.flowing=!1;for(var V=0;V<J;V++)k[V].emit("unpipe",this,I);return this}var Y=H(x.pipes,E);return Y===-1?this:(x.pipes.splice(Y,1),x.pipesCount-=1,x.pipesCount===1&&(x.pipes=x.pipes[0]),E.emit("unpipe",this,I),this)},_.prototype.on=function(E,x){var I=i.prototype.on.call(this,E,x);if(E==="data")this._readableState.flowing!==!1&&this.resume();else if(E==="readable"){var k=this._readableState;!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.emittedReadable=!1,k.reading?k.length&&z(this):e.nextTick(K,this))}return I},_.prototype.addListener=_.prototype.on;function K(E){c("readable nexttick read 0"),E.read(0)}_.prototype.resume=function(){var E=this._readableState;return E.flowing||(c("resume"),E.flowing=!0,R(this,E)),this};function R(E,x){x.resumeScheduled||(x.resumeScheduled=!0,e.nextTick(C,E,x))}function C(E,x){x.reading||(c("resume read 0"),E.read(0)),x.resumeScheduled=!1,x.awaitDrain=0,E.emit("resume"),D(E),x.flowing&&!x.reading&&E.read(0)}_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function D(E){var x=E._readableState;for(c("flow",x.flowing);x.flowing&&E.read()!==null;);}_.prototype.wrap=function(E){var x=this,I=this._readableState,k=!1;E.on("end",function(){if(c("wrapped end"),I.decoder&&!I.ended){var Y=I.decoder.end();Y&&Y.length&&x.push(Y)}x.push(null)}),E.on("data",function(Y){if(c("wrapped data"),I.decoder&&(Y=I.decoder.write(Y)),!(I.objectMode&&Y==null)&&!(!I.objectMode&&(!Y||!Y.length))){var Te=x.push(Y);Te||(k=!0,E.pause())}});for(var J in E)this[J]===void 0&&typeof E[J]=="function"&&(this[J]=function(Y){return function(){return E[Y].apply(E,arguments)}}(J));for(var V=0;V<g.length;V++)E.on(g[V],this.emit.bind(this,g[V]));return this._read=function(Y){c("wrapped _read",Y),k&&(k=!1,E.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=B;function B(E,x){if(x.length===0)return null;var I;return x.objectMode?I=x.buffer.shift():!E||E>=x.length?(x.decoder?I=x.buffer.join(""):x.buffer.length===1?I=x.buffer.head.data:I=x.buffer.concat(x.length),x.buffer.clear()):I=j(E,x.buffer,x.decoder),I}function j(E,x,I){var k;return E<x.head.data.length?(k=x.head.data.slice(0,E),x.head.data=x.head.data.slice(E)):E===x.head.data.length?k=x.shift():k=I?N(E,x):U(E,x),k}function N(E,x){var I=x.head,k=1,J=I.data;for(E-=J.length;I=I.next;){var V=I.data,Y=E>V.length?V.length:E;if(Y===V.length?J+=V:J+=V.slice(0,E),E-=Y,E===0){Y===V.length?(++k,I.next?x.head=I.next:x.head=x.tail=null):(x.head=I,I.data=V.slice(Y));break}++k}return x.length-=k,J}function U(E,x){var I=a.allocUnsafe(E),k=x.head,J=1;for(k.data.copy(I),E-=k.data.length;k=k.next;){var V=k.data,Y=E>V.length?V.length:E;if(V.copy(I,I.length-E,0,Y),E-=Y,E===0){Y===V.length?(++J,k.next?x.head=k.next:x.head=x.tail=null):(x.head=k,k.data=V.slice(Y));break}++J}return x.length-=J,I}function G(E){var x=E._readableState;if(x.length>0)throw new Error('"endReadable()" called on non-empty stream');x.endEmitted||(x.ended=!0,e.nextTick(q,x,E))}function q(E,x){!E.endEmitted&&E.length===0&&(E.endEmitted=!0,x.readable=!1,x.emit("end"))}function H(E,x){for(var I=0,k=E.length;I<k;I++)if(E[I]===x)return I;return-1}return Yn}var Ku=ze,on=Dr(),Hu=Object.create(X);Hu.inherits=ue.exports;Hu.inherits(ze,on);function Qh(e,r){var t=this._transformState;t.transforming=!1;var n=t.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));t.writechunk=null,t.writecb=null,r!=null&&this.push(r),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ze(e){if(!(this instanceof ze))return new ze(e);on.call(this,e),this._transformState={afterTransform:Qh.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",ep)}function ep(){var e=this;typeof this._flush=="function"?this._flush(function(r,t){So(e,r,t)}):So(this,null,null)}ze.prototype.push=function(e,r){return this._transformState.needTransform=!1,on.prototype.push.call(this,e,r)};ze.prototype._transform=function(e,r,t){throw new Error("_transform() is not implemented")};ze.prototype._write=function(e,r,t){var n=this._transformState;if(n.writecb=t,n.writechunk=e,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ze.prototype._read=function(e){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0};ze.prototype._destroy=function(e,r){var t=this;on.prototype._destroy.call(this,e,function(n){r(n),t.emit("close")})};function So(e,r,t){if(r)return e.emit("error",r);if(t!=null&&e.push(t),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var rp=it,Yu=Ku,zu=Object.create(X);zu.inherits=ue.exports;zu.inherits(it,Yu);function it(e){if(!(this instanceof it))return new it(e);Yu.call(this,e)}it.prototype._transform=function(e,r,t){t(null,e)};(function(e,r){r=e.exports=Vu(),r.Stream=r,r.Readable=r,r.Writable=qu(),r.Duplex=Dr(),r.Transform=Ku,r.PassThrough=rp})(yi,yi.exports);var tp=Object.prototype.toString,da=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function np(e){return tp.call(e).slice(8,-1)==="ArrayBuffer"}function ip(e,r,t){r>>>=0;var n=e.byteLength-r;if(n<0)throw new RangeError("'offset' is out of bounds");if(t===void 0)t=n;else if(t>>>=0,t>n)throw new RangeError("'length' is out of bounds");return da?Buffer.from(e.slice(r,r+t)):new Buffer(new Uint8Array(e.slice(r,r+t)))}function ap(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return da?Buffer.from(e,r):new Buffer(e,r)}function op(e,r,t){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return np(e)?ip(e,r,t):typeof e=="string"?ap(e,r):da?Buffer.from(e):new Buffer(e)}var fp=op,zn={},xo;function up(){return xo||(xo=1,function(e){var r=void 0,t=1e5,n=function(){var B=Object.prototype.toString,j=Object.prototype.hasOwnProperty;return{Class:function(N){return B.call(N).replace(/^\[object *|\]$/g,"")},HasProperty:function(N,U){return U in N},HasOwnProperty:function(N,U){return j.call(N,U)},IsCallable:function(N){return typeof N=="function"},ToInt32:function(N){return N>>0},ToUint32:function(N){return N>>>0}}}(),i=Math.LN2,a=Math.abs,o=Math.floor,f=Math.log,u=Math.min,s=Math.pow,l=Math.round;function c(B){if(h&&v){var j=h(B),N;for(N=0;N<j.length;N+=1)v(B,j[N],{value:B[j[N]],writable:!1,enumerable:!1,configurable:!1})}}var v;Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}()?v=Object.defineProperty:v=function(B,j,N){if(!B===Object(B))throw new TypeError("Object.defineProperty called on non-object");return n.HasProperty(N,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(B,j,N.get),n.HasProperty(N,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(B,j,N.set),n.HasProperty(N,"value")&&(B[j]=N.value),B};var h=Object.getOwnPropertyNames||function(B){if(B!==Object(B))throw new TypeError("Object.getOwnPropertyNames called on non-object");var j=[],N;for(N in B)n.HasOwnProperty(B,N)&&j.push(N);return j};function d(B){if(!v)return;if(B.length>t)throw new RangeError("Array too large for polyfill");function j(U){v(B,U,{get:function(){return B._getter(U)},set:function(G){B._setter(U,G)},enumerable:!0,configurable:!1})}var N;for(N=0;N<B.length;N+=1)j(N)}function g(B,j){var N=32-j;return B<<N>>N}function w(B,j){var N=32-j;return B<<N>>>N}function y(B){return[B&255]}function _(B){return g(B[0],8)}function O(B){return[B&255]}function b(B){return w(B[0],8)}function p(B){return B=l(Number(B)),[B<0?0:B>255?255:B&255]}function m(B){return[B>>8&255,B&255]}function S(B){return g(B[0]<<8|B[1],16)}function T(B){return[B>>8&255,B&255]}function M(B){return w(B[0]<<8|B[1],16)}function L(B){return[B>>24&255,B>>16&255,B>>8&255,B&255]}function z(B){return g(B[0]<<24|B[1]<<16|B[2]<<8|B[3],32)}function $(B){return[B>>24&255,B>>16&255,B>>8&255,B&255]}function A(B){return w(B[0]<<24|B[1]<<16|B[2]<<8|B[3],32)}function P(B,j,N){var U=(1<<j-1)-1,G,q,H,E,x,I,k;function J(V){var Y=o(V),Te=V-Y;return Te<.5?Y:Te>.5||Y%2?Y+1:Y}for(B!==B?(q=(1<<j)-1,H=s(2,N-1),G=0):B===1/0||B===-1/0?(q=(1<<j)-1,H=0,G=B<0?1:0):B===0?(q=0,H=0,G=1/B===-1/0?1:0):(G=B<0,B=a(B),B>=s(2,1-U)?(q=u(o(f(B)/i),1023),H=J(B/s(2,q)*s(2,N)),H/s(2,N)>=2&&(q=q+1,H=1),q>U?(q=(1<<j)-1,H=0):(q=q+U,H=H-s(2,N))):(q=0,H=J(B/s(2,1-U-N)))),x=[],E=N;E;E-=1)x.push(H%2?1:0),H=o(H/2);for(E=j;E;E-=1)x.push(q%2?1:0),q=o(q/2);for(x.push(G?1:0),x.reverse(),I=x.join(""),k=[];I.length;)k.push(parseInt(I.substring(0,8),2)),I=I.substring(8);return k}function W(B,j,N){var U=[],G,q,H,E,x,I,k,J;for(G=B.length;G;G-=1)for(H=B[G-1],q=8;q;q-=1)U.push(H%2?1:0),H=H>>1;return U.reverse(),E=U.join(""),x=(1<<j-1)-1,I=parseInt(E.substring(0,1),2)?-1:1,k=parseInt(E.substring(1,1+j),2),J=parseInt(E.substring(1+j),2),k===(1<<j)-1?J!==0?NaN:I*(1/0):k>0?I*s(2,k-x)*(1+J/s(2,N)):J!==0?I*s(2,-(x-1))*(J/s(2,N)):I<0?-0:0}function K(B){return W(B,11,52)}function R(B){return P(B,11,52)}function C(B){return W(B,8,23)}function D(B){return P(B,8,23)}(function(){var B=function(Y){if(Y=n.ToInt32(Y),Y<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=Y,this._bytes=[],this._bytes.length=Y;var Te;for(Te=0;Te<this.byteLength;Te+=1)this._bytes[Te]=0;c(this)};e.ArrayBuffer=e.ArrayBuffer||B;var j=function(){};function N(V,Y,Te){var ge;return ge=function(ae,me,se){var le,ce,he,oe;if(!arguments.length||typeof arguments[0]=="number"){if(this.length=n.ToInt32(arguments[0]),se<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new B(this.byteLength),this.byteOffset=0}else if(typeof arguments[0]=="object"&&arguments[0].constructor===ge)for(le=arguments[0],this.length=le.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new B(this.byteLength),this.byteOffset=0,he=0;he<this.length;he+=1)this._setter(he,le._getter(he));else if(typeof arguments[0]=="object"&&!(arguments[0]instanceof B||n.Class(arguments[0])==="ArrayBuffer"))for(ce=arguments[0],this.length=n.ToUint32(ce.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new B(this.byteLength),this.byteOffset=0,he=0;he<this.length;he+=1)oe=ce[he],this._setter(he,Number(oe));else if(typeof arguments[0]=="object"&&(arguments[0]instanceof B||n.Class(arguments[0])==="ArrayBuffer")){if(this.buffer=ae,this.byteOffset=n.ToUint32(me),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=n.ToUint32(se),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else throw new TypeError("Unexpected argument type(s)");this.constructor=ge,c(this),d(this)},ge.prototype=new j,ge.prototype.BYTES_PER_ELEMENT=V,ge.prototype._pack=Y,ge.prototype._unpack=Te,ge.BYTES_PER_ELEMENT=V,ge.prototype._getter=function(ae){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(ae=n.ToUint32(ae),ae>=this.length)return r;var me=[],se,le;for(se=0,le=this.byteOffset+ae*this.BYTES_PER_ELEMENT;se<this.BYTES_PER_ELEMENT;se+=1,le+=1)me.push(this.buffer._bytes[le]);return this._unpack(me)},ge.prototype.get=ge.prototype._getter,ge.prototype._setter=function(ae,me){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(ae=n.ToUint32(ae),ae>=this.length)return r;var se=this._pack(me),le,ce;for(le=0,ce=this.byteOffset+ae*this.BYTES_PER_ELEMENT;le<this.BYTES_PER_ELEMENT;le+=1,ce+=1)this.buffer._bytes[ce]=se[le]},ge.prototype.set=function(ae,me){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var se,le,ce,he,oe,Re,Be,Ke,wt,_n;if(typeof arguments[0]=="object"&&arguments[0].constructor===this.constructor){if(se=arguments[0],ce=n.ToUint32(arguments[1]),ce+se.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(Ke=this.byteOffset+ce*this.BYTES_PER_ELEMENT,wt=se.length*this.BYTES_PER_ELEMENT,se.buffer===this.buffer){for(_n=[],oe=0,Re=se.byteOffset;oe<wt;oe+=1,Re+=1)_n[oe]=se.buffer._bytes[Re];for(oe=0,Be=Ke;oe<wt;oe+=1,Be+=1)this.buffer._bytes[Be]=_n[oe]}else for(oe=0,Re=se.byteOffset,Be=Ke;oe<wt;oe+=1,Re+=1,Be+=1)this.buffer._bytes[Be]=se.buffer._bytes[Re]}else if(typeof arguments[0]=="object"&&typeof arguments[0].length<"u"){if(le=arguments[0],he=n.ToUint32(le.length),ce=n.ToUint32(arguments[1]),ce+he>this.length)throw new RangeError("Offset plus length of array is out of range");for(oe=0;oe<he;oe+=1)Re=le[oe],this._setter(ce+oe,Number(Re))}else throw new TypeError("Unexpected argument type(s)")},ge.prototype.subarray=function(ae,me){function se(ce,he,oe){return ce<he?he:ce>oe?oe:ce}ae=n.ToInt32(ae),me=n.ToInt32(me),arguments.length<1&&(ae=0),arguments.length<2&&(me=this.length),ae<0&&(ae=this.length+ae),me<0&&(me=this.length+me),ae=se(ae,0,this.length),me=se(me,0,this.length);var le=me-ae;return le<0&&(le=0),new this.constructor(this.buffer,this.byteOffset+ae*this.BYTES_PER_ELEMENT,le)},ge}var U=N(1,y,_),G=N(1,O,b),q=N(1,p,b),H=N(2,m,S),E=N(2,T,M),x=N(4,L,z),I=N(4,$,A),k=N(4,D,C),J=N(8,R,K);e.Int8Array=e.Int8Array||U,e.Uint8Array=e.Uint8Array||G,e.Uint8ClampedArray=e.Uint8ClampedArray||q,e.Int16Array=e.Int16Array||H,e.Uint16Array=e.Uint16Array||E,e.Int32Array=e.Int32Array||x,e.Uint32Array=e.Uint32Array||I,e.Float32Array=e.Float32Array||k,e.Float64Array=e.Float64Array||J})(),function(){function B(q,H){return n.IsCallable(q.get)?q.get(H):q[H]}var j=function(){var q=new e.Uint16Array([4660]),H=new e.Uint8Array(q.buffer);return B(H,0)===18}(),N=function(H,E,x){if(arguments.length===0)H=new e.ArrayBuffer(0);else if(!(H instanceof e.ArrayBuffer||n.Class(H)==="ArrayBuffer"))throw new TypeError("TypeError");if(this.buffer=H||new e.ArrayBuffer(0),this.byteOffset=n.ToUint32(E),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=n.ToUint32(x),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");c(this)};function U(q){return function(H,E){if(H=n.ToUint32(H),H+q.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");H+=this.byteOffset;var x=new e.Uint8Array(this.buffer,H,q.BYTES_PER_ELEMENT),I=[],k;for(k=0;k<q.BYTES_PER_ELEMENT;k+=1)I.push(B(x,k));return Boolean(E)===Boolean(j)&&I.reverse(),B(new q(new e.Uint8Array(I).buffer),0)}}N.prototype.getUint8=U(e.Uint8Array),N.prototype.getInt8=U(e.Int8Array),N.prototype.getUint16=U(e.Uint16Array),N.prototype.getInt16=U(e.Int16Array),N.prototype.getUint32=U(e.Uint32Array),N.prototype.getInt32=U(e.Int32Array),N.prototype.getFloat32=U(e.Float32Array),N.prototype.getFloat64=U(e.Float64Array);function G(q){return function(H,E,x){if(H=n.ToUint32(H),H+q.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var I=new q([E]),k=new e.Uint8Array(I.buffer),J=[],V,Y;for(V=0;V<q.BYTES_PER_ELEMENT;V+=1)J.push(B(k,V));Boolean(x)===Boolean(j)&&J.reverse(),Y=new e.Uint8Array(this.buffer,H,q.BYTES_PER_ELEMENT),Y.set(J)}}N.prototype.setUint8=G(e.Uint8Array),N.prototype.setInt8=G(e.Int8Array),N.prototype.setUint16=G(e.Uint16Array),N.prototype.setInt16=G(e.Int16Array),N.prototype.setUint32=G(e.Uint32Array),N.prototype.setInt32=G(e.Int32Array),N.prototype.setFloat32=G(e.Float32Array),N.prototype.setFloat64=G(e.Float64Array),e.DataView=e.DataView||N}()}(zn)),zn}var Gu=yi.exports.Writable,sp=ue.exports,at=fp;if(typeof Uint8Array>"u")var Ju=up().Uint8Array;else var Ju=Uint8Array;function mr(e,r){if(!(this instanceof mr))return new mr(e,r);typeof e=="function"&&(r=e,e={}),e||(e={});var t=e.encoding,n=!1;t?(t=String(t).toLowerCase(),(t==="u8"||t==="uint8")&&(t="uint8array")):n=!0,Gu.call(this,{objectMode:!0}),this.encoding=t,this.shouldInferEncoding=n,r&&this.on("finish",function(){r(this.getBody())}),this.body=[]}var lp=mr;sp(mr,Gu);mr.prototype._write=function(e,r,t){this.body.push(e),t()};mr.prototype.inferEncoding=function(e){var r=e===void 0?this.body[0]:e;return Buffer.isBuffer(r)?"buffer":typeof Uint8Array<"u"&&r instanceof Uint8Array?"uint8array":Array.isArray(r)?"array":typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Object]"?"object":"buffer"};mr.prototype.getBody=function(){return!this.encoding&&this.body.length===0?[]:(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),this.encoding==="array"?pp(this.body):this.encoding==="string"?cp(this.body):this.encoding==="buffer"?hp(this.body):this.encoding==="uint8array"?vp(this.body):this.body)};function dp(e){return/Array\]$/.test(Object.prototype.toString.call(e))}function Xu(e){return typeof e=="string"||dp(e)||e&&typeof e.subarray=="function"}function cp(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];typeof n=="string"||Buffer.isBuffer(n)?r.push(n):Xu(n)?r.push(at(n)):r.push(at(String(n)))}return Buffer.isBuffer(e[0])?(r=Buffer.concat(r),r=r.toString("utf8")):r=r.join(""),r}function hp(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];Buffer.isBuffer(n)?r.push(n):Xu(n)?r.push(at(n)):r.push(at(String(n)))}return Buffer.concat(r)}function pp(e){for(var r=[],t=0;t<e.length;t++)r.push.apply(r,e[t]);return r}function vp(e){for(var r=0,t=0;t<e.length;t++)typeof e[t]=="string"&&(e[t]=at(e[t])),r+=e[t].length;for(var n=new Ju(r),t=0,i=0;t<e.length;t++)for(var a=e[t],o=0;o<a.length;o++)n[i++]=a[o];return n}var Gn=function(e){return e?typeof e=="string"?new Date(e):e:new Date},lr=function(e){this.uid=e.uid||0,this.gid=e.gid||0,this.mode=e.mode||0,this.size=e.size||0,this.mtime=Gn(e.mtime),this.atime=Gn(e.atime),this.ctime=Gn(e.ctime),this.type=e.type,this.target=e.target,this.link=e.link,this.blob=e.blob};lr.prototype.isDirectory=function(){return this.type==="directory"};lr.prototype.isFile=function(){return this.type==="file"};lr.prototype.isBlockDevice=function(){return!1};lr.prototype.isCharacterDevice=function(){return!1};lr.prototype.isSymbolicLink=function(){return this.type==="symlink"};lr.prototype.isFIFO=function(){return!1};lr.prototype.isSocket=function(){return!1};var gp=function(e){return new lr(e)},mp=yp;function yp(e){return e!==null&&(typeof e=="object"||typeof e=="function")}var bp=mp,wp=_p;function _p(){for(var e={},r=0;r<arguments.length;r++){var t=arguments[r];if(!!bp(t))for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}return e}var bi=Wl,Ep=gt.exports,Sp=lp,xp=Lu,Rt=gp,Op=wp,Ur=la,Ap=Rt({type:"directory",mode:xp(777),size:4096}),Er=function(e){return e=e[0]==="/"?e:"/"+e,e=bi.normalize(e),e==="/"?e:e[e.length-1]==="/"?e.slice(0,-1):e},St=function(e){var r=e.split("/").length.toString(36);return"0000000000".slice(r.length)+r+e},$p=function(e){var r={};r.normalize=Er,r.get=function(n,i){if(n=Er(n),n==="/")return process.nextTick(i.bind(null,null,Ap,"/"));e.get(St(n),{valueEncoding:"json"},function(a,o){if(a&&a.notFound)return i(Ur.ENOENT(n),null,n);if(a)return i(a,null,n);i(null,Rt(o),n)})},r.writable=function(n,i){if(n=Er(n),n==="/")return process.nextTick(i.bind(null,Ur.EPERM(n)));r.follow(bi.dirname(n),function(a,o){if(a)return i(a);if(!o.isDirectory())return i(Ur.ENOTDIR(n));i(null,n)})},r.list=function(n,i){n=Er(n);var a=St(n==="/"?n:n+"/"),o=e.createKeyStream({start:a,end:a+"\xFF"});i=Ep(i),o.on("error",i),o.pipe(Sp({encoding:"object"},function(f){f=f.map(function(u){return u.split("/").pop()}),i(null,f)}))};var t=function(n,i){var a="/",o=n.split("/").slice(1),f=function(){r.get(bi.join(a,o.shift()),function(u,s,l){if(u)return i(u,s,n);if(a=s.target||l,!o.length)return i(null,s,l);f()})};f()};return r.follow=function(n,i){t(Er(n),function a(o,f,u){if(o)return i(o,null,u);if(f.target)return r.get(f.target,a);i(null,Rt(f),u)})},r.update=function(n,i,a){r.get(n,function(o,f,u){if(o)return a(o);if(u==="/")return a(Ur.EPERM(u));r.put(u,Op(f,i),a)})},r.put=function(n,i,a){r.writable(n,function(o,f){if(o)return a(o);e.put(St(f),Rt(i),{valueEncoding:"json"},a)})},r.del=function(n,i){if(n=Er(n),n==="/")return process.nextTick(i.bind(null,Ur.EPERM(n)));e.del(St(n),i)},r},Jn=Ve.exports,Cp=function(){var e={},r=new Jn.EventEmitter;return r.watch=function(t,n){return e[t]||(e[t]=new Jn.EventEmitter,e[t].setMaxListeners(0)),n&&e[t].on("change",n),e[t]},r.watcher=function(t,n){var i=new Jn.EventEmitter,a=function(){i.emit("change","change",t)};return r.watch(t,a),n&&i.on("change",n),i.close=function(){r.unwatch(t,a)},i},r.unwatch=function(t,n){!e[t]||(n?e[t].removeListener("change",n):e[t].removeAllListeners("change"),e[t].listeners("change").length||delete e[t])},r.change=function(t){e[t]&&e[t].emit("change"),r.emit("change",t)},r.cb=function(t,n){return function(i,a){t&&r.change(t),n&&n(i,a)}},r},Oo=cu,Tp=jh,Rp=Hh,Bp=Lt.exports,Dp=gt.exports,qr=Lu,ne=la,Mp=$p,Np=Cp,je=function(e,r,t){process.nextTick(function(){e(r,t)})},Se=function(){},Fp=function(e,r){var t={};e=Tp(e);var n=Rp(e.sublevel("blobs"),r),i=Mp(e.sublevel("stats")),a=e.sublevel("links"),o=Np(),f=[],u=Date.now(),s=function(){return++u};t.mkdir=function(h,d,g){if(typeof d=="function")return t.mkdir(h,null,d);d||(d=qr(777)),g||(g=Se),i.follow(h,function(w,y,_){if(w&&w.code!=="ENOENT")return g(w);if(y)return g(ne.EEXIST(_));i.put(_,{type:"directory",mode:d,size:4096},o.cb(_,g))})},t.rmdir=function(h,d){d||(d=Se),i.follow(h,function(g,w,y){if(g)return d(g);t.readdir(y,function(_,O){if(_)return d(_);if(O.length)return d(ne.ENOTEMPTY(y));i.del(y,o.cb(y,d))})})},t.readdir=function(h,d){i.follow(h,function(g,w,y){if(g)return d(g);if(!w)return d(ne.ENOENT(y));if(!w.isDirectory())return d(ne.ENOTDIR(y));i.list(y,d)})};var l=function(h,d,g){d(h,function(w,y,_){if(w)return g(w);if(!y.isFile())return g(null,y);var O=y&&y.blob||_;n.size(O,function(b,p){if(b)return g(b);y.size=p,g(null,y)})})};t.stat=function(h,d){l(h,i.follow,d)},t.lstat=function(h,d){l(h,i.get,d)},t.exists=function(h,d){i.follow(h,function(g){d(!g)})};var c=function(h,d,g,w){w||(w=Se),d(h,function(y,_,O){if(y)return w(y);i.update(O,{mode:g},o.cb(O,w))})};t.chmod=function(h,d,g){c(h,i.follow,d,g)},t.lchmod=function(h,d,g){c(h,i.get,d,g)};var v=function(h,d,g,w,y){y||(y=Se),d(h,function(_,O,b){if(_)return y(_);i.update(b,{uid:g,gid:w},o.cb(b,y))})};return t.chown=function(h,d,g,w){v(h,i.follow,d,g,w)},t.lchown=function(h,d,g,w){v(h,i.get,d,g,w)},t.utimes=function(h,d,g,w){w||(w=Se),i.follow(h,function(y,_,O){if(y)return w(y);var b={};d&&(b.atime=d),g&&(b.mtime=g),i.update(O,b,o.cb(O,w))})},t.rename=function(h,d,g){g||(g=Se),i.follow(h,function(w,y,_){if(w)return g(w);var O=function(){g=o.cb(d,o.cb(_,g)),i.put(d,y,function(b){if(b)return g(b);i.del(_,g)})};i.follow(d,function(b,p,m){if(b&&b.code!=="ENOENT")return g(b);if(!p)return O();if(y.isDirectory()!==p.isDirectory())return g(ne.EISDIR(_));if(p.isDirectory()){t.readdir(m,function(S,T){if(S)return g(S);if(T.length)return g(ne.ENOTEMPTY(_));O()});return}O()})})},t.realpath=function(h,d,g){if(typeof d=="function")return t.realpath(h,null,d);i.follow(h,function(w,y,_){if(w)return g(w);g(null,_)})},t.writeFile=function(h,d,g,w){if(typeof g=="function")return t.writeFile(h,d,null,g);typeof g=="string"&&(g={encoding:g}),g||(g={}),w||(w=Se),Buffer.isBuffer(d)||(d=new Buffer(d,g.encoding||"utf-8"));var y=g.flags||"w";g.append=y[0]!=="w",i.follow(h,function(_,O,b){if(_&&_.code!=="ENOENT")return w(_);if(O&&O.isDirectory())return w(ne.EISDIR(b));if(O&&y[1]==="x")return w(ne.EEXIST(b));var p=O&&O.blob||b;i.writable(b,function(m){if(m)return w(m);n.write(p,d,g,function(S){if(S)return w(S);i.put(b,{ctime:O&&O.ctime,mtime:new Date,mode:g.mode||qr(666),type:"file"},o.cb(b,w))})})})},t.appendFile=function(h,d,g,w){if(typeof g=="function")return t.appendFile(h,d,null,g);typeof g=="string"&&(g={encoding:g}),g||(g={}),g.flags="a",t.writeFile(h,d,g,w)},t.unlink=function(h,d){d||(d=Se),i.get(h,function(g,w,y){if(g)return d(g);if(w.isDirectory())return d(ne.EISDIR(y));var _=function(b){Bp(a,{start:b+"\xFF",end:b+"\xFF\xFF"},function(p){if(p)return n.remove(b,d);d()})},O=function(){var b=w.link.slice(0,w.link.indexOf("\xFF"));a.del(w.link,function(p){if(p)return d(p);_(b)})};i.del(y,o.cb(y,function(b){if(b)return d(b);if(w.link)return O();a.del(y+"\xFF",function(p){if(p)return d(p);_(y)})}))})},t.readFile=function(h,d,g){if(typeof d=="function")return t.readFile(h,null,d);typeof d=="string"&&(d={encoding:d}),d||(d={}),d.encoding,d.flag,i.follow(h,function(w,y,_){if(w)return g(w);if(y.isDirectory())return g(ne.EISDIR(_));var O=y&&y.blob||_;n.read(O,function(b,p){if(b)return g(b);g(null,d.encoding?p.toString(d.encoding):p)})})},t.createReadStream=function(h,d){d||(d={});var g=!1,w=Oo.readable(function(y){i.follow(h,function(_,O,b){if(_)return y(_);if(O.isDirectory())return y(ne.EISDIR(b));var p=O&&O.blob||b,m=n.createReadStream(p,d);w.emit("open"),m.on("end",function(){process.nextTick(function(){g||w.emit("close")})}),y(null,m)})});return w.on("close",function(){g=!0}),w},t.createWriteStream=function(h,d){d||(d={});var g=d.flags||"w",w=!1,y=d.mode||qr(666);d.append=g[0]==="a";var _=Oo.writable(function(O){i.follow(h,function(b,p,m){if(b&&b.code!=="ENOENT")return O(b);if(p&&p.isDirectory())return O(ne.EISDIR(m));if(p&&g[1]==="x")return O(ne.EEXIST(m));var S=p&&p.blob||m;i.writable(S,function(T){if(T)return O(T);var M=p?p.ctime:new Date,L={ctime:M,mtime:new Date,mode:y,type:"file"};i.put(m,L,function(z){if(z)return O(z);var $=n.createWriteStream(S,d);_.emit("open"),$.on("finish",function(){L.mtime=new Date,i.put(m,L,function(){o.change(m),w||_.emit("close")})}),O(null,$)})})})});return _.on("close",function(){w=!0}),_},t.truncate=function(h,d,g){i.follow(h,function(w,y,_){if(w)return g(w);var O=y&&y.blob||_;n.size(O,function(b,p){if(b)return g(b);i.writable(_,function(m){if(m)return g(m);if(g=Dp(o.cb(_,g)),!d)return n.remove(O,g);var S=n.createWriteStream(O,{start:p<d?d-1:d});S.on("error",g),S.on("finish",g),p<d&&S.write(new Buffer([0])),S.end()})})})},t.watchFile=function(h,d,g){return typeof d=="function"?t.watchFile(h,null,d):o.watch(i.normalize(h),g)},t.unwatchFile=function(h,d){o.unwatch(i.normalize(h),d)},t.watch=function(h,d,g){return typeof d=="function"?t.watch(h,null,d):o.watcher(i.normalize(h),g)},t.notify=function(h){o.on("change",h)},t.open=function(h,d,g,w){if(typeof g=="function")return t.open(h,d,null,g);i.follow(h,function(y,_,O){if(y&&y.code!=="ENOENT")return w(y);var b=d[0],p=d[1]==="+"||d[2]==="+",m=_&&_.blob||O,S={key:O,blob:m,mode:g||qr(666),readable:b==="r"||(b==="w"||b==="a")&&p,writable:b==="w"||b==="a"||b==="r"&&p,append:b==="a"};if(b==="r"&&y)return w(y);if(d[1]==="x"&&_)return w(ne.EEXIST(O));if(_&&_.isDirectory())return w(ne.EISDIR(O));n.size(m,function(T,M){if(T)return w(T);S.append&&(S.writePos=M),i.writable(O,function(L){if(L)return w(L);var z=function(A){if(A)return w(A);var P=f.indexOf(null);P===-1&&(P=10+f.push(f.length+10)-1),S.fd=P,f[P]=S,o.change(O),w(null,S.fd)},$=function(A){if(A)return w(A);if(_)return z();i.put(m,{ctime:_&&_.ctime,type:"file"},z)};if(!S.append&&S.writable)return n.remove(m,$);$()})})})},t.close=function(h,d){var g=f[h];if(!g)return je(d,ne.EBADF());f[h]=null,je(o.cb(g.key,d))},t.write=function(h,d,g,w,y,_){var O=f[h];if(_||(_=Se),!O||!O.writable)return je(_,ne.EBADF());y===null&&(y=O.writePos||0);var b=d.slice(g,g+w);O.writePos=y+b.length,n.write(O.blob,b,{start:y,append:!0},function(p){if(p)return _(p);_(null,w,d)})},t.read=function(h,d,g,w,y,_){var O=f[h];if(_||(_=Se),!O||!O.readable)return je(_,ne.EBADF());y===null&&(y=t.readPos||0),n.read(O.blob,{start:y,end:y+w-1},function(b,p){if(b)return _(b);var m=p.slice(0,w);m.copy(d,g),t.readPos=y+m.length,_(null,m.length,d)})},t.fsync=function(h,d){var g=f[h];if(d||(d=Se),!g||!g.writable)return je(d,ne.EBADF());je(d)},t.ftruncate=function(h,d,g){var w=f[h];if(g||(g=Se),!w)return je(g,ne.EBADF());t.truncate(w.blob,d,g)},t.fchown=function(h,d,g,w){var y=f[h];if(w||(w=Se),!y)return je(w,ne.EBADF());t.chown(y.key,d,g,w)},t.fchmod=function(h,d,g){var w=f[h];if(g||(g=Se),!w)return je(g,ne.EBADF());t.chmod(w.key,d,g)},t.futimes=function(h,d,g,w){var y=f[h];if(w||(w=Se),!y)return je(w,ne.EBADF());t.utimes(y.key,d,g,w)},t.fstat=function(h,d){var g=f[h];if(!g)return je(d,ne.EBADF());t.stat(g.key,d)},t.symlink=function(h,d,g){g||(g=Se),i.follow(h,function(w,y,_){if(w)return g(w);i.get(d,function(O,b){if(O&&O.code!=="ENOENT")return g(O);if(b)return g(ne.EEXIST(d));i.put(d,{type:"symlink",target:_,mode:qr(777)},g)})})},t.readlink=function(h,d){i.get(h,function(g,w){if(g)return d(g);if(!w.target)return d(ne.EINVAL(h));d(null,w.target)})},t.link=function(h,d,g){g||(g=Se),i.follow(h,function(w,y,_){if(w)return g(w);if(!y.isFile())return g(ne.EINVAL(_));i.get(d,function(O,b){if(O&&O.code!=="ENOENT")return g(O);if(b)return g(ne.EEXIST(d));var p=_+"\xFF"+s();a.put(_+"\xFF",_,function(m){if(m)return g(m);a.put(p,_,function(S){if(S)return g(S);i.put(d,{type:"file",link:p,blob:_,mode:y.mode},g)})})})})},t},Pp=sd,Ip=ct.exports,jp=Fp,kp=Ip("level-filesystem",{db:Pp}),VE=jp(kp),wi={exports:{}},re={};/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(re,"__esModule",{value:!0});var Ce=typeof Symbol=="function"&&Symbol.for,ca=Ce?Symbol.for("react.element"):60103,ha=Ce?Symbol.for("react.portal"):60106,fn=Ce?Symbol.for("react.fragment"):60107,un=Ce?Symbol.for("react.strict_mode"):60108,sn=Ce?Symbol.for("react.profiler"):60114,ln=Ce?Symbol.for("react.provider"):60109,dn=Ce?Symbol.for("react.context"):60110,pa=Ce?Symbol.for("react.async_mode"):60111,cn=Ce?Symbol.for("react.concurrent_mode"):60111,hn=Ce?Symbol.for("react.forward_ref"):60112,pn=Ce?Symbol.for("react.suspense"):60113,Lp=Ce?Symbol.for("react.suspense_list"):60120,vn=Ce?Symbol.for("react.memo"):60115,gn=Ce?Symbol.for("react.lazy"):60116,Wp=Ce?Symbol.for("react.fundamental"):60117,Up=Ce?Symbol.for("react.responder"):60118;function Fe(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case ca:switch(e=e.type,e){case pa:case cn:case fn:case sn:case un:case pn:return e;default:switch(e=e&&e.$$typeof,e){case dn:case hn:case ln:return e;default:return r}}case gn:case vn:case ha:return r}}}function Zu(e){return Fe(e)===cn}re.typeOf=Fe;re.AsyncMode=pa;re.ConcurrentMode=cn;re.ContextConsumer=dn;re.ContextProvider=ln;re.Element=ca;re.ForwardRef=hn;re.Fragment=fn;re.Lazy=gn;re.Memo=vn;re.Portal=ha;re.Profiler=sn;re.StrictMode=un;re.Suspense=pn;re.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fn||e===cn||e===sn||e===un||e===pn||e===Lp||typeof e=="object"&&e!==null&&(e.$$typeof===gn||e.$$typeof===vn||e.$$typeof===ln||e.$$typeof===dn||e.$$typeof===hn||e.$$typeof===Wp||e.$$typeof===Up)};re.isAsyncMode=function(e){return Zu(e)||Fe(e)===pa};re.isConcurrentMode=Zu;re.isContextConsumer=function(e){return Fe(e)===dn};re.isContextProvider=function(e){return Fe(e)===ln};re.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca};re.isForwardRef=function(e){return Fe(e)===hn};re.isFragment=function(e){return Fe(e)===fn};re.isLazy=function(e){return Fe(e)===gn};re.isMemo=function(e){return Fe(e)===vn};re.isPortal=function(e){return Fe(e)===ha};re.isProfiler=function(e){return Fe(e)===sn};re.isStrictMode=function(e){return Fe(e)===un};re.isSuspense=function(e){return Fe(e)===pn};(function(e){e.exports=re})(wi);function qp(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Qu=qp,Vp=cf,Kp=hf;function Hp(e,r,t,n){var i=!t;t||(t={});for(var a=-1,o=r.length;++a<o;){var f=r[a],u=n?n(t[f],e[f],f,t,e):void 0;u===void 0&&(u=e[f]),i?Kp(t,f,u):Vp(t,f,u)}return t}var mt=Hp,Yp=mt,zp=pf;function Gp(e,r){return e&&Yp(r,zp(r),e)}var Jp=Gp,Xp=mt,Zp=lt;function Qp(e,r){return e&&Xp(r,Zp(r),e)}var ev=Qp,Wt={exports:{}};(function(e,r){var t=ul,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a?t.Buffer:void 0,f=o?o.allocUnsafe:void 0;function u(s,l){if(l)return s.slice();var c=s.length,v=f?f(c):new s.constructor(c);return s.copy(v),v}e.exports=u})(Wt,Wt.exports);var rv=mt,tv=sl;function nv(e,r){return rv(e,tv(e),r)}var iv=nv,av=mt,ov=ll;function fv(e,r){return av(e,ov(e),r)}var uv=fv,sv=Object.prototype,lv=sv.hasOwnProperty;function dv(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&lv.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var cv=dv,Ao=dl;function hv(e){var r=new e.constructor(e.byteLength);return new Ao(r).set(new Ao(e)),r}var va=hv,pv=va;function vv(e,r){var t=r?pv(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var gv=vv,mv=/\w*$/;function yv(e){var r=new e.constructor(e.source,mv.exec(e));return r.lastIndex=e.lastIndex,r}var bv=yv,$o=cl,Co=$o?$o.prototype:void 0,To=Co?Co.valueOf:void 0;function wv(e){return To?Object(To.call(e)):{}}var _v=wv,Ev=va;function Sv(e,r){var t=r?Ev(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var es=Sv,xv=va,Ov=gv,Av=bv,$v=_v,Cv=es,Tv="[object Boolean]",Rv="[object Date]",Bv="[object Map]",Dv="[object Number]",Mv="[object RegExp]",Nv="[object Set]",Fv="[object String]",Pv="[object Symbol]",Iv="[object ArrayBuffer]",jv="[object DataView]",kv="[object Float32Array]",Lv="[object Float64Array]",Wv="[object Int8Array]",Uv="[object Int16Array]",qv="[object Int32Array]",Vv="[object Uint8Array]",Kv="[object Uint8ClampedArray]",Hv="[object Uint16Array]",Yv="[object Uint32Array]";function zv(e,r,t){var n=e.constructor;switch(r){case Iv:return xv(e);case Tv:case Rv:return new n(+e);case jv:return Ov(e,t);case kv:case Lv:case Wv:case Uv:case qv:case Vv:case Kv:case Hv:case Yv:return Cv(e,t);case Bv:return new n;case Dv:case Fv:return new n(e);case Mv:return Av(e);case Nv:return new n;case Pv:return $v(e)}}var Gv=zv,Jv=Pr,Ro=Object.create,Xv=function(){function e(){}return function(r){if(!Jv(r))return{};if(Ro)return Ro(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Zv=Xv,Qv=Zv,eg=hl,rg=pl;function tg(e){return typeof e.constructor=="function"&&!rg(e)?Qv(eg(e)):{}}var rs=tg,ng=Pi,ig=Ii,ag="[object Map]";function og(e){return ig(e)&&ng(e)==ag}var fg=og,ug=fg,sg=Ir,Bo=vf.exports,Do=Bo&&Bo.isMap,lg=Do?sg(Do):ug,dg=lg,cg=Pi,hg=Ii,pg="[object Set]";function vg(e){return hg(e)&&cg(e)==pg}var gg=vg,mg=gg,yg=Ir,Mo=vf.exports,No=Mo&&Mo.isSet,bg=No?yg(No):mg,wg=bg,_g=gf,Eg=Qu,Sg=cf,xg=Jp,Og=ev,Ag=Wt.exports,$g=Wi,Cg=iv,Tg=uv,Rg=vl,Bg=gl,Dg=Pi,Mg=cv,Ng=Gv,Fg=rs,Pg=Kt,Ig=mf.exports,jg=dg,kg=Pr,Lg=wg,Wg=pf,Ug=lt,qg=1,Vg=2,Kg=4,ts="[object Arguments]",Hg="[object Array]",Yg="[object Boolean]",zg="[object Date]",Gg="[object Error]",ns="[object Function]",Jg="[object GeneratorFunction]",Xg="[object Map]",Zg="[object Number]",is="[object Object]",Qg="[object RegExp]",em="[object Set]",rm="[object String]",tm="[object Symbol]",nm="[object WeakMap]",im="[object ArrayBuffer]",am="[object DataView]",om="[object Float32Array]",fm="[object Float64Array]",um="[object Int8Array]",sm="[object Int16Array]",lm="[object Int32Array]",dm="[object Uint8Array]",cm="[object Uint8ClampedArray]",hm="[object Uint16Array]",pm="[object Uint32Array]",fe={};fe[ts]=fe[Hg]=fe[im]=fe[am]=fe[Yg]=fe[zg]=fe[om]=fe[fm]=fe[um]=fe[sm]=fe[lm]=fe[Xg]=fe[Zg]=fe[is]=fe[Qg]=fe[em]=fe[rm]=fe[tm]=fe[dm]=fe[cm]=fe[hm]=fe[pm]=!0;fe[Gg]=fe[ns]=fe[nm]=!1;function Bt(e,r,t,n,i,a){var o,f=r&qg,u=r&Vg,s=r&Kg;if(t&&(o=i?t(e,n,i,a):t(e)),o!==void 0)return o;if(!kg(e))return e;var l=Pg(e);if(l){if(o=Mg(e),!f)return $g(e,o)}else{var c=Dg(e),v=c==ns||c==Jg;if(Ig(e))return Ag(e,f);if(c==is||c==ts||v&&!i){if(o=u||v?{}:Fg(e),!f)return u?Tg(e,Og(o,e)):Cg(e,xg(o,e))}else{if(!fe[c])return i?e:{};o=Ng(e,c,f)}}a||(a=new _g);var h=a.get(e);if(h)return h;a.set(e,o),Lg(e)?e.forEach(function(w){o.add(Bt(w,r,t,w,e,a))}):jg(e)&&e.forEach(function(w,y){o.set(y,Bt(w,r,t,y,e,a))});var d=s?u?Bg:Rg:u?Ug:Wg,g=l?void 0:d(e);return Eg(g||e,function(w,y){g&&(y=w,w=e[y]),Sg(o,y,Bt(w,r,t,y,e,a))}),o}var vm=Bt,gm=vm,mm=1,ym=4;function bm(e){return gm(e,mm|ym)}var wm=bm,_m=ji;function Em(e,r){return function(t,n){if(t==null)return t;if(!_m(t))return e(t,n);for(var i=t.length,a=r?i:-1,o=Object(t);(r?a--:++a<i)&&n(o[a],a,o)!==!1;);return t}}var Sm=Em,xm=ml,Om=Sm,Am=Om(xm),as=Am,$m=as,Cm=ji;function Tm(e,r){var t=-1,n=Cm(e)?Array(e.length):[];return $m(e,function(i,a,o){n[++t]=r(i,a,o)}),n}var Rm=Tm;function Bm(e,r){var t=e.length;for(e.sort(r);t--;)e[t]=e[t].value;return e}var Dm=Bm,Fo=yl;function Mm(e,r){if(e!==r){var t=e!==void 0,n=e===null,i=e===e,a=Fo(e),o=r!==void 0,f=r===null,u=r===r,s=Fo(r);if(!f&&!s&&!a&&e>r||a&&o&&u&&!f&&!s||n&&o&&u||!t&&u||!i)return 1;if(!n&&!a&&!s&&e<r||s&&t&&i&&!n&&!a||f&&t&&i||!o&&i||!u)return-1}return 0}var Nm=Mm,Fm=Nm;function Pm(e,r,t){for(var n=-1,i=e.criteria,a=r.criteria,o=i.length,f=t.length;++n<o;){var u=Fm(i[n],a[n]);if(u){if(n>=f)return u;var s=t[n];return u*(s=="desc"?-1:1)}}return e.index-r.index}var Im=Pm,Xn=jr,jm=bl,km=wl,Lm=Rm,Wm=Dm,Um=Ir,qm=Im,Vm=yf,Km=Kt;function Hm(e,r,t){r.length?r=Xn(r,function(a){return Km(a)?function(o){return jm(o,a.length===1?a[0]:a)}:a}):r=[Vm];var n=-1;r=Xn(r,Um(km));var i=Lm(e,function(a,o,f){var u=Xn(r,function(s){return s(a)});return{criteria:u,index:++n,value:a}});return Wm(i,function(a,o){return qm(a,o,t)})}var Ym=Hm,zm=ki,Gm=ji,Jm=_l,Xm=Pr;function Zm(e,r,t){if(!Xm(t))return!1;var n=typeof r;return(n=="number"?Gm(t)&&Jm(r,t.length):n=="string"&&r in t)?zm(t[r],e):!1}var ga=Zm,Qm=bf,ey=Ym,ry=br,Po=ga,ty=ry(function(e,r){if(e==null)return[];var t=r.length;return t>1&&Po(e,r[0],r[1])?r=[]:t>2&&Po(r[0],r[1],r[2])&&(r=[r[0]]),ey(e,Qm(r,1),[])}),os=ty,ny=Sf;function iy(e){return e&&e.length?ny(e):[]}var fs=iy,ay=Sf;function oy(e,r){return r=typeof r=="function"?r:void 0,e&&e.length?ay(e,void 0,r):[]}var us=oy,fy=br,uy=ki,sy=ga,ly=lt,ss=Object.prototype,dy=ss.hasOwnProperty,cy=fy(function(e,r){e=Object(e);var t=-1,n=r.length,i=n>2?r[2]:void 0;for(i&&sy(r[0],r[1],i)&&(n=1);++t<n;)for(var a=r[t],o=ly(a),f=-1,u=o.length;++f<u;){var s=o[f],l=e[s];(l===void 0||uy(l,ss[s])&&!dy.call(e,s))&&(e[s]=a[s])}return e}),hy=cy,py=wf,vy=xf,gy=Of,my=jr,yy=Ir,Io=_f,by=Math.min;function wy(e,r,t){for(var n=t?gy:vy,i=e[0].length,a=e.length,o=a,f=Array(a),u=1/0,s=[];o--;){var l=e[o];o&&r&&(l=my(l,yy(r))),u=by(l.length,u),f[o]=!t&&(r||i>=120&&l.length>=120)?new py(o&&l):void 0}l=e[0];var c=-1,v=f[0];e:for(;++c<i&&s.length<u;){var h=l[c],d=r?r(h):h;if(h=t||h!==0?h:0,!(v?Io(v,d):n(s,d,t))){for(o=a;--o;){var g=f[o];if(!(g?Io(g,d):n(e[o],d,t)))continue e}v&&v.push(d),s.push(h)}}return s}var ls=wy,_y=Ui;function Ey(e){return _y(e)?e:[]}var ds=Ey;function Sy(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var xy=Sy,Oy=jr,Ay=ls,$y=br,Cy=ds,Ty=xy,Ry=$y(function(e){var r=Ty(e),t=Oy(e,Cy);return r=typeof r=="function"?r:void 0,r&&t.pop(),t.length&&t[0]===e[0]?Ay(t,void 0,r):[]}),cs=Ry,By=El,Dy=Ii,My="[object Boolean]";function Ny(e){return e===!0||e===!1||Dy(e)&&By(e)==My}var Fy=Ny,Le=Ef,Py=os,ma=fs,jo=us,Iy=hy,jy=cs,Ut=Li,Zn=Fy,ko=e=>Array.isArray(e)?e:[e],Pe=e=>e===void 0,xt=e=>Ut(e)||Array.isArray(e)?Object.keys(e):[],Sr=(e,r)=>e.hasOwnProperty(r),Mr=e=>Py(ma(e)),Lo=e=>Pe(e)||Array.isArray(e)&&e.length===0,ky=(e,r,t,n)=>r&&Sr(r,t)&&e&&Sr(e,t)&&n(e[t],r[t]),Qn=(e,r)=>Pe(e)&&r===0||Pe(r)&&e===0||Le(e,r),Ly=(e,r)=>Pe(e)&&r===!1||Pe(r)&&e===!1||Le(e,r),Wo=e=>Pe(e)||Le(e,{})||e===!0,Ot=e=>Pe(e)||Le(e,{}),Uo=e=>Pe(e)||Ut(e)||e===!0||e===!1;function qo(e,r){return Lo(e)&&Lo(r)?!0:Le(Mr(e),Mr(r))}function Wy(e,r){return e=ko(e),r=ko(r),Le(Mr(e),Mr(r))}function Dt(e,r,t,n){var i=ma(xt(e).concat(xt(r)));return Ot(e)&&Ot(r)?!0:Ot(e)&&xt(r).length||Ot(r)&&xt(e).length?!1:i.every(function(a){var o=e[a],f=r[a];return Array.isArray(o)&&Array.isArray(f)?Le(Mr(e),Mr(r)):Array.isArray(o)&&!Array.isArray(f)||Array.isArray(f)&&!Array.isArray(o)?!1:ky(e,r,a,n)})}function Uy(e,r,t,n){return Ut(e)&&Ut(r)?n(e,r):Array.isArray(e)&&Array.isArray(r)?Dt(e,r,t,n):Le(e,r)}function ei(e,r,t,n){var i=jo(e,n),a=jo(r,n),o=jy(i,a,n);return o.length===Math.max(i.length,a.length)}var qy={title:Le,uniqueItems:Ly,minLength:Qn,minItems:Qn,minProperties:Qn,required:qo,enum:qo,type:Wy,items:Uy,anyOf:ei,allOf:ei,oneOf:ei,properties:Dt,patternProperties:Dt,dependencies:Dt},Vy=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],Ky=["additionalProperties","additionalItems","contains","propertyNames","not"];function _i(e,r,t){if(t=Iy(t,{ignore:[]}),Wo(e)&&Wo(r))return!0;if(!Uo(e)||!Uo(r))throw new Error("Either of the values are not a JSON schema.");if(e===r)return!0;if(Zn(e)&&Zn(r))return e===r;if(e===void 0&&r===!1||r===void 0&&e===!1||Pe(e)&&!Pe(r)||!Pe(e)&&Pe(r))return!1;var n=ma(Object.keys(e).concat(Object.keys(r)));if(t.ignore.length&&(n=n.filter(a=>t.ignore.indexOf(a)===-1)),!n.length)return!0;function i(a,o){return _i(a,o,t)}return n.every(function(a){var o=e[a],f=r[a];if(Ky.indexOf(a)!==-1)return _i(o,f,t);var u=qy[a];if(u||(u=Le),Le(o,f))return!0;if(Vy.indexOf(a)===-1&&(!Sr(e,a)&&Sr(r,a)||Sr(e,a)&&!Sr(r,a)))return o===f;var s=u(o,f,a,i);if(!Zn(s))throw new Error("Comparer must return true or false");return s})}var Hy=_i;function Yy(e){return Object.prototype.toString.call(e)==="[object Array]"}var ya=Array.isArray||Yy;function zy(e){return(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")&&e.valueOf()===e.valueOf()}var Gy=zy,Jy=Gy;function Xy(e){return Jy(e)&&e%1===0}var Zy=Xy,Qy=ya,eb=Zy;function rb(e){var r;if(!Qy(e)||(r=e.length,!r))return!1;for(var t=0;t<r;t++)if(!eb(e[t]))return!1;return!0}var hs=rb;function tb(e){return typeof e=="function"}var ps=tb,nb=ya,Vo=hs,ib=ps,At=Math.pow(2,31)-1;function Ko(e,r){var t=1,n;if(e===0)return r;if(r===0)return e;for(;e%2===0&&r%2===0;)e=e/2,r=r/2,t=t*2;for(;e%2===0;)e=e/2;for(;r;){for(;r%2===0;)r=r/2;e>r&&(n=r,r=e,e=n),r=r-e}return t*e}function Ho(e,r){var t=0,n;if(e===0)return r;if(r===0)return e;for(;(e&1)===0&&(r&1)===0;)e>>>=1,r>>>=1,t++;for(;(e&1)===0;)e>>>=1;for(;r;){for(;(r&1)===0;)r>>>=1;e>r&&(n=r,r=e,e=n),r=r-e}return e<<t}function ab(){var e=arguments.length,r,t,n,i,a,o,f;for(r=new Array(e),f=0;f<e;f++)r[f]=arguments[f];if(Vo(r)){if(e===2)return a=r[0],o=r[1],a<0&&(a=-a),o<0&&(o=-o),a<=At&&o<=At?Ho(a,o):Ko(a,o);n=r}else if(nb(r[0]))if(e>1){if(n=r[0],t=r[1],!ib(t))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else n=r[0];else throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+r[0]+"`.");if(i=n.length,i<2)return null;if(t){for(a=new Array(i),f=0;f<i;f++)a[f]=t(n[f],f);n=a}if(e<3&&!Vo(n))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(f=0;f<i;f++)a=n[f],a<0&&(n[f]=-a);for(a=n[0],f=1;f<i;f++)o=n[f],o<=At&&a<=At?a=Ho(a,o):a=Ko(a,o);return a}var ob=ab,Yo=ob,fb=ya,zo=hs,ub=ps;function sb(){var e=arguments.length,r,t,n,i,a,o,f;for(r=new Array(e),f=0;f<e;f++)r[f]=arguments[f];if(zo(r)){if(e===2)return a=r[0],o=r[1],a<0&&(a=-a),o<0&&(o=-o),a===0||o===0?0:a/Yo(a,o)*o;n=r}else if(fb(r[0]))if(e>1){if(n=r[0],t=r[1],!ub(t))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else n=r[0];else throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+r[0]+"`.");if(i=n.length,i<2)return null;if(t){for(a=new Array(i),f=0;f<i;f++)a[f]=t(n[f],f);n=a}if(e<3&&!zo(n))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+n+"`.");for(f=0;f<i;f++)a=n[f],a<0&&(n[f]=-a);for(a=n[0],f=1;f<i;f++){if(o=n[f],a===0||o===0)return 0;a=a/Yo(a,o)*o}return a}var lb=sb,cb=hf,hb=ki;function pb(e,r,t){(t!==void 0&&!hb(e[r],t)||t===void 0&&!(r in e))&&cb(e,r,t)}var vs=pb;function vb(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var gs=vb,gb=mt,mb=lt;function yb(e){return gb(e,mb(e))}var bb=yb,Go=vs,wb=Wt.exports,_b=es,Eb=Wi,Sb=rs,Jo=Sl,Xo=Kt,xb=Ui,Ob=mf.exports,Ab=xl,$b=Pr,Cb=Li,Tb=Ol,Zo=gs,Rb=bb;function Bb(e,r,t,n,i,a,o){var f=Zo(e,t),u=Zo(r,t),s=o.get(u);if(s){Go(e,t,s);return}var l=a?a(f,u,t+"",e,r,o):void 0,c=l===void 0;if(c){var v=Xo(u),h=!v&&Ob(u),d=!v&&!h&&Tb(u);l=u,v||h||d?Xo(f)?l=f:xb(f)?l=Eb(f):h?(c=!1,l=wb(u,!0)):d?(c=!1,l=_b(u,!0)):l=[]:Cb(u)||Jo(u)?(l=f,Jo(f)?l=Rb(f):(!$b(f)||Ab(f))&&(l=Sb(u))):c=!1}c&&(o.set(u,l),i(l,u,n,a,o),o.delete(u)),Go(e,t,l)}var Db=Bb,Mb=gf,Nb=vs,Fb=Al,Pb=Db,Ib=Pr,jb=lt,kb=gs;function ms(e,r,t,n,i){e!==r&&Fb(r,function(a,o){if(i||(i=new Mb),Ib(a))Pb(e,r,o,t,ms,n,i);else{var f=n?n(kb(e,o),a,o+"",e,r,i):void 0;f===void 0&&(f=a),Nb(e,o,f)}},jb)}var ys=ms,Lb=ys,Qo=Pr;function bs(e,r,t,n,i,a){return Qo(e)&&Qo(r)&&(a.set(r,e),Lb(e,r,void 0,bs,a),a.delete(r)),e}var Wb=bs,Ub=br,qb=ga;function Vb(e){return Ub(function(r,t){var n=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&qb(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),r=Object(r);++n<i;){var f=t[n];f&&e(r,f,n,a)}return r})}var Kb=Vb,Hb=ys,Yb=Kb,zb=Yb(function(e,r,t,n){Hb(e,r,t,n)}),Gb=zb,Jb=$l,Xb=br,Zb=Wb,Qb=Gb,ew=Xb(function(e){return e.push(void 0,Zb),Jb(Qb,void 0,e)}),rw=ew,tw=bf,nw=1/0;function iw(e){var r=e==null?0:e.length;return r?tw(e,nw):[]}var aw=iw,ow=jr,fw=ls,uw=br,sw=ds,lw=uw(function(e){var r=ow(e,sw);return r.length&&r[0]===e[0]?fw(r):[]}),dw=lw;function cw(e,r,t,n){for(var i=t-1,a=e.length;++i<a;)if(n(e[i],r))return i;return-1}var hw=cw,pw=jr,vw=Dl,gw=hw,mw=Ir,yw=Wi,bw=Array.prototype,ef=bw.splice;function ww(e,r,t,n){var i=n?gw:vw,a=-1,o=r.length,f=e;for(e===r&&(r=yw(r)),t&&(f=pw(e,mw(t)));++a<o;)for(var u=0,s=r[a],l=t?t(s):s;(u=i(f,l,u,n))>-1;)f!==e&&ef.call(f,u,1),ef.call(e,u,1);return e}var _w=ww,Ew=_w;function Sw(e,r){return e&&e.length&&r&&r.length?Ew(e,r):e}var xw=Sw,Ow=yf;function Aw(e){return typeof e=="function"?e:Ow}var $w=Aw,Cw=Qu,Tw=as,Rw=$w,Bw=Kt;function Dw(e,r){var t=Bw(e)?Cw:Tw;return t(e,Rw(r))}var Mw=Dw,Nw=wf,Fw=xf,Pw=Of,Iw=jr,jw=Ir,kw=_f,Lw=200;function Ww(e,r,t,n){var i=-1,a=Fw,o=!0,f=e.length,u=[],s=r.length;if(!f)return u;t&&(r=Iw(r,jw(t))),n?(a=Pw,o=!1):r.length>=Lw&&(a=kw,o=!1,r=new Nw(r));e:for(;++i<f;){var l=e[i],c=t==null?l:t(l);if(l=n||l!==0?l:0,o&&c===c){for(var v=s;v--;)if(r[v]===c)continue e;u.push(l)}else a(r,c,n)||u.push(l)}return u}var Uw=Ww,qw=Uw,Vw=br,Kw=Ui,Hw=Vw(function(e,r){return Kw(e)?qw(e,r):[]}),Yw=Hw,ws=wm,ot=Hy,zw=lb,Gw=rw,ba=Cl,wa=aw,Jw=dw,Xw=cs,Ei=Ef,ft=Li,rf=xw,_s=os,Es=Mw,_a=fs,vr=us,Zw=Yw,tf=(e,...r)=>Zw.apply(null,[e].concat(ba(r))),Qw=e=>He($s,e),e_=e=>He(Cs,e),He=(e,r)=>e.indexOf(r)!==-1,r_=e=>!hr(e).length&&e!==!1&&e!==!0,Si=e=>ft(e)||e===!0||e===!1,t_=e=>e===!1,Ss=e=>e===!0,mn=(e,r,t)=>t(e),xs=e=>_s(_a(wa(e))),yr=e=>e!==void 0,Ea=e=>_a(wa(e.map(hr))),Wr=e=>e[0],n_=e=>xs(e),yt=e=>Math.max.apply(Math,e),bt=e=>Math.min.apply(Math,e),i_=e=>e.some(Ss),a_=e=>vr(ba(e),Ei);function o_(e){return function(r,t){return ot({[e]:r},{[e]:t})}}function Os(e){if(Array.isArray(e.allOf)){var r=e.allOf;return delete e.allOf,[e].concat(r.map(function(t){return Os(t)}))}else return[e]}function Sa(e,r){return e.map(function(t){return t&&t[r]})}function f_(e,r){return e.map(function(t){if(!!t)if(Array.isArray(t.items)){var n=t.items[r];if(Si(n))return n;if(t.hasOwnProperty("additionalItems"))return t.additionalItems}else return t.items})}function u_(e,r){return e.map(function(t,n){try{return r(t,n)}catch{return}}).filter(yr)}function s_(e){return e.map(function(r){if(!!r)return Array.isArray(r.items)?r.additionalItems:r.items})}function hr(e){return ft(e)||Array.isArray(e)?Object.keys(e):[]}function xi(e,r){if(r=r||[],!e.length)return r;var t=e.slice(0).shift(),n=e.slice(1);return r.length?xi(n,ba(r.map(i=>t.map(a=>[a].concat(i))))):xi(n,t.map(i=>i))}function l_(e,r){return Array.isArray(e)?(e.splice.apply(e,[0,0].concat(r)),e):r}function As(e,r){var t;try{t=e.map(function(n){return JSON.stringify(n,null,2)}).join(`
`)}catch{t=e.join(", ")}throw new Error('Could not resolve values for path:"'+r.join(".")+`". They are probably incompatible. Values: 
`+t)}function d_(e){for(var r in e)e.hasOwnProperty(r)&&r_(e[r])&&delete e[r];return e}function Oi(e,r,t){return function(n,i){if(i===void 0)throw new Error("You need to call merger with a key for the property name or index if array.");return i=String(i),e(n,null,t.concat(r,i))}}function nf(e,r,t,n,i,a){if(e.length){var o=i.resolvers[r];if(!o)throw new Error("No resolver found for "+r);var f=vr(t.map(function(c){return e.reduce(function(v,h){return c[h]!==void 0&&(v[h]=c[h]),v},{})}).filter(yr),ot),u=r==="properties"?$s:Cs,s=u.reduce(function(c,v){return He(Ai,v)?c[v]=Oi(n,v,a):c[v]=function(h){return n(h,null,a.concat(v))},c},{});r==="items"&&(s.itemsArray=Oi(n,"items",a),s.items=function(c){return n(c,null,a.concat("items"))});var l=o(f,a.concat(r),s,i);return ft(l)||As(f,a.concat(r)),d_(l)}}function ri(e,r,t){var n=Ea(t||e),i=t?f_:Sa;return n.reduce(function(a,o){var f=i(e,o),u=vr(f.filter(yr),ot);return a[o]=r(u,o),a},t?[]:{})}function c_(e){Es(e,function(r,t){r===!1&&delete e[t]})}function h_(e){Es(e,function(r,t){r===!1&&e.splice(t,1)})}function p_(e){return{required:e}}var $s=["properties","patternProperties","additionalProperties"],Cs=["items","additionalItems"],Ai=["properties","patternProperties","definitions","dependencies"],af=["anyOf","oneOf"],v_=["additionalProperties","additionalItems","contains","propertyNames","not","items"],te={type(e){if(e.some(Array.isArray)){var r=e.map(function(n){return Array.isArray(n)?n:[n]}),t=Jw.apply(null,r);if(t.length===1)return t[0];if(t.length>1)return _a(t)}},properties(e,r,t,n){n.ignoreAdditionalProperties||(e.forEach(function(a){var o=e.filter(l=>l!==a),f=hr(a.properties),u=hr(a.patternProperties),s=u.map(l=>new RegExp(l));o.forEach(function(l){var c=hr(l.properties),v=c.filter(d=>s.some(g=>g.test(d))),h=tf(c,f,v);h.forEach(function(d){l.properties[d]=t.properties([l.properties[d],a.additionalProperties],d)})})}),e.forEach(function(a){var o=e.filter(u=>u!==a),f=hr(a.patternProperties);a.additionalProperties===!1&&o.forEach(function(u){var s=hr(u.patternProperties),l=tf(s,f);l.forEach(c=>delete u.patternProperties[c])})}));var i={additionalProperties:t.additionalProperties(e.map(a=>a.additionalProperties)),patternProperties:ri(e.map(a=>a.patternProperties),t.patternProperties),properties:ri(e.map(a=>a.properties),t.properties)};return i.additionalProperties===!1&&c_(i.properties),i},dependencies(e,r,t){var n=Ea(e);return n.reduce(function(i,a){var o=Sa(e,a),f=vr(o.filter(yr),Ei),u=f.filter(Array.isArray);if(u.length){if(u.length===f.length)i[a]=xs(f);else{var s=f.filter(Si),l=u.map(p_);i[a]=t(s.concat(l),a)}return i}return f=vr(f,ot),i[a]=t(f,a),i},{})},items(e,r,t){var n=e.map(f=>f.items),i=n.filter(yr),a={};i.every(Si)?a.items=t.items(n):a.items=ri(e,t.itemsArray,n);var o;return i.every(Array.isArray)?o=e.map(f=>f.additionalItems):i.some(Array.isArray)&&(o=s_(e)),o&&(a.additionalItems=t.additionalItems(o)),a.additionalItems===!1&&Array.isArray(a.items)&&h_(a.items),a},oneOf(e,r,t){var n=xi(ws(e)),i=u_(n,t),a=vr(i,ot);if(a.length)return a},not(e){return{anyOf:e}},pattern(e,r,t,n,i){var a=r.pop();i(e.map(function(o){return{[a]:o}}))},multipleOf(e){for(var r=e.slice(0),t=1;r.some(n=>!Number.isInteger(n));)r=r.map(n=>n*10),t=t*10;return zw(r)/t},enum(e){var r=Xw.apply(null,e.concat(Ei));if(r.length)return _s(r)}};te.$id=Wr;te.$ref=Wr;te.$schema=Wr;te.additionalItems=mn;te.additionalProperties=mn;te.anyOf=te.oneOf;te.contains=mn;te.default=Wr;te.definitions=te.dependencies;te.description=Wr;te.examples=a_;te.exclusiveMaximum=bt;te.exclusiveMinimum=yt;te.maximum=bt;te.maxItems=bt;te.maxLength=bt;te.maxProperties=bt;te.minimum=yt;te.minItems=yt;te.minLength=yt;te.minProperties=yt;te.propertyNames=mn;te.required=n_;te.title=Wr;te.uniqueItems=i_;function xa(e,r,t){r=Gw(r,{ignoreAdditionalProperties:!1,resolvers:te});function n(o,f,u){o=ws(o.filter(yr)),u=u||[];var s=ft(f)?f:{};if(!o.length)return;if(o.some(t_))return!1;if(o.every(Ss))return!0;o=o.filter(ft);var l=Ea(o);if(He(l,"allOf"))return xa({allOf:o},r);var c=l.filter(Qw);rf(l,c);var v=l.filter(e_);rf(l,v),l.forEach(function(d){var g=Sa(o,d),w=vr(g.filter(yr),o_(d));if(w.length===1&&He(af,d))s[d]=w[0].map(function(b){return n([b],b)});else if(w.length===1&&!He(Ai,d)&&!He(v_,d))s[d]=w[0];else{var y=r.resolvers[d]||r.resolvers.defaultResolver;if(!y)throw new Error("No resolver found for key "+d+". You can provide a resolver for this keyword in the options, or provide a default resolver.");var _;He(Ai,d)||He(af,d)?_=Oi(n,d,u):_=function(b){return n(b,null,u.concat(d))};var O=!1;s[d]=y(w,u.concat(d),_,r,function(b){return O=Array.isArray(b),h(b)}),s[d]===void 0&&!O?As(w,u.concat(d)):s[d]===void 0&&delete s[d]}}),Object.assign(s,nf(c,"properties",o,n,r,u)),Object.assign(s,nf(v,"items",o,n,r,u));function h(d){s.allOf=l_(s.allOf,d)}return s}var i=wa(Os(e)),a=n(i,e);return a}xa.options={resolvers:te};var g_=xa,yn={},m_=/~/,y_=/~[01]/g;function b_(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function Ts(e){return m_.test(e)?e.replace(y_,b_):e}function w_(e,r,t){for(var n,i,a=1,o=r.length;a<o;){if(r[a]==="constructor"||r[a]==="prototype"||r[a]==="__proto__")return e;if(n=Ts(r[a++]),i=o>a,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),i&&(r[a]!==""&&r[a]<1/0||r[a]==="-"?e[n]=[]:e[n]={})),!i)break;e=e[n]}var f=e[n];return t===void 0?delete e[n]:e[n]=t,f}function Oa(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const r of e)if(typeof r!="string"&&typeof r!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function Rs(e,r){if(typeof e!="object")throw new Error("Invalid input object.");r=Oa(r);var t=r.length;if(t===1)return e;for(var n=1;n<t;){if(e=e[Ts(r[n++])],t===n)return e;if(typeof e!="object")return}}function Bs(e,r,t){if(typeof e!="object")throw new Error("Invalid input object.");if(r=Oa(r),r.length===0)throw new Error("Invalid JSON pointer for set.");return w_(e,r,t)}function __(e){var r=Oa(e);return{get:function(t){return Rs(t,r)},set:function(t,n){return Bs(t,r,n)}}}yn.get=Rs;yn.set=Bs;yn.compile=__;const ur=window.React,_r=window.React.Component;window.React.forwardRef;function of(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ds(e,r,t){return r&&of(e.prototype,r),t&&of(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(){return Z=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Z.apply(this,arguments)}function Je(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,$i(e,r)}function $i(e,r){return $i=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$i(e,r)}function _e(e,r){if(e==null)return{};var t={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(r.indexOf(i)>=0)&&(t[i]=e[i]);return t}function E_(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ms(e){var r=E_(e,"string");return typeof r=="symbol"?r:String(r)}function Hr(e){var r=e.type,t=r===void 0?"default":r,n=e.icon,i=e.className,a=_e(e,["type","icon","className"]);return F("button",{type:"button",className:"btn btn-"+t+" "+i,...a,children:F("i",{className:"glyphicon glyphicon-"+n})})}function Aa(e){var r=e.className,t=e.onClick,n=e.disabled;return F("div",{className:"row",children:F("p",{className:"col-xs-3 col-xs-offset-9 text-right "+r,children:F(Hr,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:t,disabled:n})})})}var S_=Q.exports.shape({ArrayFieldTemplate:Q.exports.elementType,FieldTemplate:Q.exports.elementType,ObjectFieldTemplate:Q.exports.elementType,definitions:Q.exports.object.isRequired,rootSchema:Q.exports.object,fields:Q.exports.objectOf(Q.exports.elementType).isRequired,formContext:Q.exports.object.isRequired,widgets:Q.exports.objectOf(Q.exports.oneOfType([Q.exports.func,Q.exports.object])).isRequired});Q.exports.bool,Q.exports.bool,Q.exports.object,Q.exports.any,Q.exports.object,Q.exports.func,Q.exports.func.isRequired,Q.exports.func,Q.exports.string,Q.exports.bool,S_.isRequired,Q.exports.bool,Q.exports.object.isRequired,Q.exports.bool,Q.exports.bool,Q.exports.bool;var Qe=Ns(),ff=null,uf=null,Ci="__rjsf_rootSchema";function Ns(){var e=new Nl({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function x_(e){return e.length?e.reduce(function(r,t){var n=t.property,i=t.message,a=Il(n),o=r;a.length>0&&a[0]===""&&a.splice(0,1);for(var s=a.slice(0),f=Array.isArray(s),u=0,s=f?s:s[Symbol.iterator]();;){var l;if(f){if(u>=s.length)break;l=s[u++]}else{if(u=s.next(),u.done)break;l=u.value}var c=l;c in o||(o[c]={}),o=o[c]}return Array.isArray(o.__errors)?o.__errors=o.__errors.concat(i):i&&(o.__errors=[i]),r},{}):{}}function pr(e,r){r===void 0&&(r="root");var t=[];return"__errors"in e&&(t=t.concat(e.__errors.map(function(n){return{stack:r+": "+n}}))),Object.keys(e).reduce(function(n,i){return i!=="__errors"&&(n=n.concat(pr(e[i],i))),n},t)}function Ti(e){var r={__errors:[],addError:function(n){this.__errors.push(n)}};return pe(e)?Object.keys(e).reduce(function(t,n){var i;return Z({},t,(i={},i[n]=Ti(e[n]),i))},r):Array.isArray(e)?e.reduce(function(t,n,i){var a;return Z({},t,(a={},a[i]=Ti(n),a))},r):r}function Fs(e){return Object.keys(e).reduce(function(r,t){var n;if(t==="addError")return r;if(t==="__errors"){var i;return Z({},r,(i={},i[t]=e[t],i))}return Z({},r,(n={},n[t]=Fs(e[t]),n))},{})}function O_(e){return e===void 0&&(e=[]),e===null?[]:e.map(function(r){var t=r.dataPath,n=r.keyword,i=r.message,a=r.params,o=r.schemaPath,f=""+t;return{name:n,property:f,message:i,params:a,stack:(f+" "+i).trim(),schemaPath:o}})}function Ps(e,r,t,n,i,a){i===void 0&&(i=[]),a===void 0&&(a={});var o=r;e=bn(r,e,o,!0);var f=!ke(uf,i),u=!ke(ff,a);(f||u)&&(Qe=Ns()),i&&f&&Array.isArray(i)&&(Qe.addMetaSchema(i),uf=i),a&&u&&pe(a)&&(Object.keys(a).forEach(function(y){Qe.addFormat(y,a[y])}),ff=a);var s=null;try{Qe.validate(r,e)}catch(y){s=y}var l=O_(Qe.errors);Qe.errors=null;var c=s&&s.message&&typeof s.message=="string"&&s.message.includes("no schema with key or ref ");c&&(l=[].concat(l,[{stack:s.message}])),typeof n=="function"&&(l=n(l));var v=x_(l);if(c&&(v=Z({},v,{$schema:{__errors:[s.message]}})),typeof t!="function")return{errors:l,errorSchema:v};var h=t(e,Ti(e)),d=Fs(h),g=rr(v,d,!0),w=pr(g);return{errors:w,errorSchema:g}}function Ri(e){var r=e;if(e.constructor===Object){r=Z({},e);for(var t in r){var n=r[t];t==="$ref"&&typeof n=="string"&&n.startsWith("#")?r[t]=Ci+n:r[t]=Ri(n)}}else if(Array.isArray(e)){r=[].concat(e);for(var i=0;i<r.length;i++)r[i]=Ri(r[i])}return r}function Bi(e,r,t){try{return Qe.addSchema(t,Ci).validate(Ri(e),r)}catch{return!1}finally{Qe.removeSchema(Ci)}}var $a="__additional_property",ti={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function A_(e,r,t){if(!e.additionalProperties)return!1;var n=De(r),i=n.expandable;return i===!1?i:e.maxProperties!==void 0?Object.keys(t).length<e.maxProperties:!0}function Nr(e){var r=e.type;return!r&&e.const?ut(e.const):!r&&e.enum?"string":!r&&(e.properties||e.additionalProperties)?"object":r instanceof Array&&r.length===2&&r.includes("null")?r.find(function(t){return t!=="null"}):r}function Ye(e,r,t){t===void 0&&(t={});var n=Nr(e);function i(f){if(!f.MergedWidget){var u=f.defaultProps&&f.defaultProps.options||{};f.MergedWidget=function(s){var l=s.options,c=l===void 0?{}:l,v=_e(s,["options"]);return F(f,{options:Z({},u,c),...v})}}return f.MergedWidget}if(typeof r=="function"||wi.exports.isForwardRef(ur.createElement(r))||wi.exports.isMemo(r))return i(r);if(typeof r!="string")throw new Error("Unsupported widget definition: "+typeof r);if(t.hasOwnProperty(r)){var a=t[r];return Ye(e,a,t)}if(!ti.hasOwnProperty(n))throw new Error('No widget for type "'+n+'"');if(ti[n].hasOwnProperty(r)){var o=t[ti[n][r]];return Ye(e,o,t)}throw new Error('No widget "'+r+'" for type "'+n+'"')}function $_(e,r,t){t===void 0&&(t={});try{return Ye(e,r,t),!0}catch(n){if(n.message&&(n.message.startsWith("No widget")||n.message.startsWith("Unsupported widget")))return!1;throw n}}function Xe(e,r,t,n,i){n===void 0&&(n={}),i===void 0&&(i=!1);var a=pe(e)?e:{},o=pe(n)?n:{},f=r;if(pe(f)&&pe(a.default))f=rr(f,a.default);else if("default"in a)f=a.default;else if("$ref"in a){var u=Ta(a.$ref,t);return Xe(u,f,t,o,i)}else if("dependencies"in a){var s=Ls(a,t,o);return Xe(s,f,t,o,i)}else Mi(a)?f=a.items.map(function(d,g){return Xe(d,Array.isArray(r)?r[g]:void 0,t,o,i)}):"oneOf"in a?a=a.oneOf[st(void 0,a.oneOf,t)]:"anyOf"in a&&(a=a.anyOf[st(void 0,a.anyOf,t)]);switch(typeof f>"u"&&(f=a.default),Nr(a)){case"object":return Object.keys(a.properties||{}).reduce(function(d,g){var w=Xe(a.properties[g],(f||{})[g],t,(o||{})[g],i);return(i||w!==void 0)&&(d[g]=w),d},{});case"array":if(Array.isArray(f)&&(f=f.map(function(d,g){return Xe(a.items[g]||a.additionalItems||{},d,t)})),Array.isArray(n)&&(f=n.map(function(d,g){return Xe(a.items,(f||{})[g],t,d)})),a.minItems){if(Ca(a,t))return f||[];var l=f?f.length:0;if(a.minItems>l){var c=f||[],v=Array.isArray(a.items)?a.additionalItems:a.items,h=Fl(new Array(a.minItems-l),Xe(v,v.defaults,t));return c.concat(h)}}}return f}function bn(e,r,t,n){if(t===void 0&&(t={}),n===void 0&&(n=!1),!pe(e))throw new Error("Invalid schema: "+e);var i=ee(e,t,r),a=Xe(i,e.default,t,r,n);return typeof r>"u"?a:pe(r)||Array.isArray(r)?Di(a,r):r===0||r===!1||r===""?r:r||a}function Di(e,r){if(Array.isArray(r))return Array.isArray(e)||(e=[]),r.map(function(n,i){return e[i]?Di(e[i],n):n});if(pe(r)){var t=Object.assign({},e);return Object.keys(r).reduce(function(n,i){return n[i]=Di(e?e[i]:{},r[i]),n},t)}else return r}function De(e){return Object.keys(e).filter(function(r){return r.indexOf("ui:")===0}).reduce(function(r,t){var n,i=e[t];return t==="ui:widget"&&pe(i)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),Z({},r,i.options||{},{widget:i.component})):t==="ui:options"&&pe(i)?Z({},r,i):Z({},r,(n={},n[t.substring(3)]=i,n))},{})}function C_(e){var r=De(e),t={props:{disabled:!1},submitText:"Submit",norender:!1};return r&&r.submitButtonOptions?Object.assign({},t,r.submitButtonOptions):t}function T_(e,r,t){var n=De(r),i=n.label,a=i===void 0?!0:i,o=Nr(e);return o==="array"&&(a=Ca(e,t)||Is(e,r,t)||js(r)),o==="object"&&(a=!1),o==="boolean"&&!r["ui:widget"]&&(a=!1),r["ui:field"]&&(a=!1),a}function pe(e){return typeof File<"u"&&e instanceof File?!1:typeof e=="object"&&e!==null&&!Array.isArray(e)}function rr(e,r,t){t===void 0&&(t=!1);var n=Object.assign({},e);return Object.keys(r).reduce(function(i,a){var o=e?e[a]:{},f=r[a];return e&&e.hasOwnProperty(a)&&pe(f)?i[a]=rr(o,f,t):t&&Array.isArray(o)&&Array.isArray(f)?i[a]=o.concat(f):i[a]=f,i},n)}function Yr(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e))return e;var r=Number(e),t=typeof r=="number"&&!Number.isNaN(r);return/\.\d*0$/.test(e)?e:t?r:e}}function R_(e,r){if(!Array.isArray(r))return e;var t=function(c){return c.reduce(function(v,h){return v[h]=!0,v},{})},n=function(c){return c.length>1?"properties '"+c.join("', '")+"'":"property '"+c[0]+"'"},i=t(e),a=r.filter(function(l){return l==="*"||i[l]}),o=t(a),f=e.filter(function(l){return!o[l]}),u=a.indexOf("*");if(u===-1){if(f.length)throw new Error("uiSchema order list does not contain "+n(f));return a}if(u!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var s=[].concat(a);return s.splice.apply(s,[u,1].concat(f)),s}function B_(e){return Array.isArray(e.enum)&&e.enum.length===1||e.hasOwnProperty("const")}function D_(e){if(Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function qt(e,r){r===void 0&&(r={});var t=ee(e,r),n=t.oneOf||t.anyOf;return Array.isArray(t.enum)?!0:Array.isArray(n)?n.every(function(i){return B_(i)}):!1}function Ca(e,r){return r===void 0&&(r={}),!e.uniqueItems||!e.items?!1:qt(e.items,r)}function Is(e,r,t){if(t===void 0&&(t={}),r["ui:widget"]==="files")return!0;if(e.items){var n=ee(e.items,t);return n.type==="string"&&n.format==="data-url"}return!1}function Mi(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(r){return pe(r)})}function js(e){return"widget"in De(e)&&De(e).widget!=="hidden"}function sf(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),pe(e.additionalItems)}function Vt(e){if(e.enum)return e.enum.map(function(t,n){var i=e.enumNames&&e.enumNames[n]||String(t);return{label:i,value:t}});var r=e.oneOf||e.anyOf;return r.map(function(t){var n=D_(t),i=t.title||String(n);return{schema:t,label:i,value:n}})}function Ta(e,r){r===void 0&&(r={});var t=e;if(e.startsWith("#"))e=decodeURIComponent(e.substring(1));else throw new Error("Could not find a definition for "+t+".");var n=yn.get(r,e);if(n===void 0)throw new Error("Could not find a definition for "+t+".");return n.hasOwnProperty("$ref")?Ta(n.$ref,r):n}var ut=function(r){if(Array.isArray(r))return"array";if(typeof r=="string")return"string";if(r==null)return"null";if(typeof r=="boolean")return"boolean";if(isNaN(r)){if(typeof r=="object")return"object"}else return"number";return"string"};function M_(e,r,t){return r===void 0&&(r={}),t===void 0&&(t={}),e=Z({},e,{properties:Z({},e.properties)}),t=pe(t)?t:{},Object.keys(t).forEach(function(n){if(!e.properties.hasOwnProperty(n)){var i;e.additionalProperties.hasOwnProperty("$ref")?i=ee({$ref:e.additionalProperties.$ref},r,t):e.additionalProperties.hasOwnProperty("type")?i=Z({},e.additionalProperties):i={type:ut(t[n])},e.properties[n]=i,e.properties[n][$a]=!0}}),e}var N_=function(r,t,n){var i=r.if,a=r.then,o=r.else,f=_e(r,["if","then","else"]),u=Bi(i,n,t)?a:o;return ee(u?wn(f,ee(u,t,n)):f,t,n)};function F_(e,r,t){if(r===void 0&&(r={}),t===void 0&&(t={}),e.hasOwnProperty("$ref"))return ks(e,r,t);if(e.hasOwnProperty("dependencies")){var n=Ls(e,r,t);return ee(n,r,t)}else return e.hasOwnProperty("allOf")?Z({},e,{allOf:e.allOf.map(function(i){return ee(i,r,t)})}):e}function ks(e,r,t){var n=Ta(e.$ref,r),i=_e(e,["$ref"]);return ee(Z({},n,i),r,t)}function ee(e,r,t){if(r===void 0&&(r={}),t===void 0&&(t={}),!pe(e))return{};var n=F_(e,r,t);if(e.hasOwnProperty("if"))return N_(e,r,t);if(n.properties){var i={};Object.entries(n.properties).forEach(function(u){var s=u[0],l=u[1],c=t&&t[s],v=pe(c)?c:{},h=ee(l,r,v);i[s]=h,l!==h&&n.properties!==i&&(n=Z({},n,{properties:i}))})}if("allOf"in e)try{n=g_(Z({},n,{allOf:n.allOf}))}catch(u){console.warn(`could not merge subschemas in allOf:
`+u);var a=n,o=_e(a,["allOf"]);return o}var f=n.hasOwnProperty("additionalProperties")&&n.additionalProperties!==!1;return f?M_(n,r,t):n}function Ls(e,r,t){var n=e.dependencies,i=n===void 0?{}:n,a=_e(e,["dependencies"]);return"oneOf"in a?a=a.oneOf[st(t,a.oneOf,r)]:"anyOf"in a&&(a=a.anyOf[st(t,a.anyOf,r)]),Ws(i,a,r,t)}function Ws(e,r,t,n){for(var i in e)if(n[i]!==void 0&&!(r.properties&&!(i in r.properties))){var a=e[i],o=_e(e,[i].map(Ms));return Array.isArray(a)?r=P_(r,a):pe(a)&&(r=I_(r,t,n,i,a)),Ws(o,r,t,n)}return r}function P_(e,r){if(!r)return e;var t=Array.isArray(e.required)?Array.from(new Set([].concat(e.required,r))):r;return Z({},e,{required:t})}function I_(e,r,t,n,i){var a=ee(i,r,t),o=a.oneOf,f=_e(a,["oneOf"]);if(e=wn(e,f),o===void 0)return e;if(!Array.isArray(o))throw new Error("invalid: it is some "+typeof o+" instead of an array");var u=o.map(function(s){return s.hasOwnProperty("$ref")?ks(s,r,t):s});return j_(e,r,t,n,u)}function j_(e,r,t,n,i){var a=i.filter(function(l){if(!l.properties)return!1;var c=l.properties[n];if(c){var v,h={type:"object",properties:(v={},v[n]=c,v)},d=Ps(t,h),g=d.errors;return g.length===0}});if(a.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var o=a[0],f=o.properties,u=_e(f,[n].map(Ms)),s=Z({},o,{properties:u});return wn(e,ee(s,r,t))}function wn(e,r){var t=Object.assign({},e);return Object.keys(r).reduce(function(n,i){var a=e?e[i]:{},o=r[i];return e&&e.hasOwnProperty(i)&&pe(o)?n[i]=wn(a,o):e&&r&&(Nr(e)==="object"||Nr(r)==="object")&&i==="required"&&Array.isArray(a)&&Array.isArray(o)?n[i]=jl(a,o):n[i]=o,n},t)}function $t(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function ke(e,r,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=[]),e===r)return!0;if(typeof e=="function"||typeof r=="function")return!0;if(typeof e!="object"||typeof r!="object")return!1;if(e===null||r===null)return!1;if(e instanceof Date&&r instanceof Date)return e.getTime()===r.getTime();if(e instanceof RegExp&&r instanceof RegExp)return e.source===r.source&&e.global===r.global&&e.multiline===r.multiline&&e.lastIndex===r.lastIndex&&e.ignoreCase===r.ignoreCase;if($t(e)||$t(r)){if(!($t(e)&&$t(r)))return!1;var i=Array.prototype.slice;return ke(i.call(e),i.call(r),t,n)}else{if(e.constructor!==r.constructor)return!1;var a=Object.keys(e),o=Object.keys(r);if(a.length===0&&o.length===0)return!0;if(a.length!==o.length)return!1;for(var f=t.length;f--;)if(t[f]===e)return n[f]===r;t.push(e),n.push(r),a.sort(),o.sort();for(var u=a.length-1;u>=0;u--)if(a[u]!==o[u])return!1;for(var s,l=a.length-1;l>=0;l--)if(s=a[l],!ke(e[s],r[s],t,n))return!1;return t.pop(),n.pop(),!0}}function Ra(e,r,t){var n=e.props,i=e.state;return!ke(n,r)||!ke(i,t)}function gr(e,r,t,n,i,a){n===void 0&&(n={}),i===void 0&&(i="root"),a===void 0&&(a="_");var o={$id:r||i};if("$ref"in e||"dependencies"in e||"allOf"in e){var f=ee(e,t,n);return gr(f,r,t,n,i,a)}if("items"in e&&!e.items.$ref)return gr(e.items,r,t,n,i,a);if(e.type!=="object")return o;for(var u in e.properties||{}){var s=e.properties[u],l=o.$id+a+u;o[u]=gr(pe(s)?s:{},l,t,(n||{})[u],i,a)}return o}function zr(e,r,t,n){r===void 0&&(r=""),n===void 0&&(n={});var i={$name:r.replace(/^\./,"")};if("$ref"in e||"dependencies"in e||"allOf"in e){var a=ee(e,t,n);return zr(a,r,t,n)}if(e.hasOwnProperty("additionalProperties")&&(i.__rjsf_additionalProperties=!0),e.hasOwnProperty("items")&&Array.isArray(n))n.forEach(function(f,u){i[u]=zr(e.items,r+"."+u,t,f)});else if(e.hasOwnProperty("properties"))for(var o in e.properties)i[o]=zr(e.properties[o],r+"."+o,t,(n||{})[o]);return i}function Vr(e,r){if(r===void 0&&(r=!0),!e)return{year:-1,month:-1,day:-1,hour:r?-1:0,minute:r?-1:0,second:r?-1:0};var t=new Date(e);if(Number.isNaN(t.getTime()))throw new Error("Unable to parse date "+e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:r?t.getUTCHours():0,minute:r?t.getUTCMinutes():0,second:r?t.getUTCSeconds():0}}function lf(e,r){var t=e.year,n=e.month,i=e.day,a=e.hour,o=a===void 0?0:a,f=e.minute,u=f===void 0?0:f,s=e.second,l=s===void 0?0:s;r===void 0&&(r=!0);var c=Date.UTC(t,n-1,i,o,u,l),v=new Date(c).toJSON();return r?v:v.slice(0,10)}function k_(e){if(!e)return"";var r=new Date(e),t=Ze(r.getFullYear(),4),n=Ze(r.getMonth()+1,2),i=Ze(r.getDate(),2),a=Ze(r.getHours(),2),o=Ze(r.getMinutes(),2),f=Ze(r.getSeconds(),2),u=Ze(r.getMilliseconds(),3);return t+"-"+n+"-"+i+"T"+a+":"+o+":"+f+"."+u}function L_(e){if(e)return new Date(e).toJSON()}function Ze(e,r){for(var t=String(e);t.length<r;)t="0"+t;return t}function W_(e){var r=e.split(","),t=r[0].split(";"),n=t[0].replace("data:",""),i=t.filter(function(l){return l.split("=")[0]==="name"}),a;i.length!==1?a="unknown":a=i[0].split("=")[1];for(var o=atob(r[1]),f=[],u=0;u<o.length;u++)f.push(o.charCodeAt(u));var s=new window.Blob([new Uint8Array(f)],{type:n});return{blob:s,name:a}}function Us(e){var r={};return e.multipleOf&&(r.step=e.multipleOf),(e.minimum||e.minimum===0)&&(r.min=e.minimum),(e.maximum||e.maximum===0)&&(r.max=e.maximum),r}function st(e,r,t){if(e===void 0)return 0;for(var n=0;n<r.length;n++){var i=r[n];if(i.properties){var a={anyOf:Object.keys(i.properties).map(function(u){return{required:[u]}})},o=void 0;if(i.anyOf){var f=Z({},i);f.allOf?f.allOf=f.allOf.slice():f.allOf=[],f.allOf.push(a),o=f}else o=Object.assign({},i,a);if(delete o.required,Bi(o,e,t))return n}else if(Bi(i,e,t))return n}return 0}function Mt(e){return e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0?!0:e.anyOf&&e.anyOf.length===1?Mt(e.anyOf[0]):e.oneOf&&e.oneOf.length===1?Mt(e.oneOf[0]):e.allOf?e.allOf.some(Mt):!1}function qs(e){var r=e.TitleField,t=e.idSchema,n=e.title,i=e.required;if(!n)return null;var a=t.$id+"__title";return F(r,{id:a,title:n,required:i})}function U_(e){var r=e.DescriptionField,t=e.idSchema,n=e.description;if(!n)return null;var i=t.$id+"__description";return F(r,{id:i,description:n})}function Vs(e){var r={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return ie("div",{className:e.className,children:[F("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12",children:e.children}),e.hasToolbar&&F("div",{className:"col-xs-3 array-item-toolbox",children:ie("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(e.hasMoveUp||e.hasMoveDown)&&F(Hr,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:r,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&F(Hr,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:r,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&F(Hr,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:r,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)})]})})]},e.key)}function q_(e){return ie("fieldset",{className:e.className,id:e.idSchema.$id,children:[F(qs,{TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required},"array-field-title-"+e.idSchema.$id),(e.uiSchema["ui:description"]||e.schema.description)&&F("div",{className:"field-description",children:e.uiSchema["ui:description"]||e.schema.description},"field-description-"+e.idSchema.$id),F("div",{className:"row array-item-list",children:e.items&&e.items.map(Vs)},"array-item-list-"+e.idSchema.$id),e.canAdd&&F(Aa,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly})]})}function V_(e){return ie("fieldset",{className:e.className,id:e.idSchema.$id,children:[F(qs,{TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required},"array-field-title-"+e.idSchema.$id),(e.uiSchema["ui:description"]||e.schema.description)&&F(U_,{DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description},"array-field-description-"+e.idSchema.$id),F("div",{className:"row array-item-list",children:e.items&&e.items.map(function(r){return Vs(r)})},"array-item-list-"+e.idSchema.$id),e.canAdd&&F(Aa,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly})]})}function Ni(){return Pl()}function df(e){return Array.isArray(e)?e.map(function(r){return{key:Ni(),item:r}}):[]}function Kr(e){return e.map(function(r){return r.item})}var Ks=function(e){Je(r,e);function r(n){var i;i=e.call(this,n)||this,i._getNewFormDataRow=function(){var f=i.props,u=f.schema,s=f.registry,l=s.rootSchema,c=u.items;return Mi(u)&&sf(u)&&(c=u.additionalItems),bn(c,void 0,l)},i.onAddClick=function(f){f&&f.preventDefault();var u=i.props.onChange,s={key:Ni(),item:i._getNewFormDataRow()},l=[].concat(i.state.keyedFormData,[s]);i.setState({keyedFormData:l,updatedKeyedFormData:!0},function(){return u(Kr(l))})},i.onAddIndexClick=function(f){return function(u){u&&u.preventDefault();var s=i.props.onChange,l={key:Ni(),item:i._getNewFormDataRow()},c=[].concat(i.state.keyedFormData);c.splice(f,0,l),i.setState({keyedFormData:c,updatedKeyedFormData:!0},function(){return s(Kr(c))})}},i.onDropIndexClick=function(f){return function(u){u&&u.preventDefault();var s=i.props.onChange,l=i.state.keyedFormData,c;if(i.props.errorSchema){c={};var v=i.props.errorSchema;for(var h in v)h=parseInt(h),h<f?c[h]=v[h]:h>f&&(c[h-1]=v[h])}var d=l.filter(function(g,w){return w!==f});i.setState({keyedFormData:d,updatedKeyedFormData:!0},function(){return s(Kr(d),c)})}},i.onReorderClick=function(f,u){return function(s){s&&(s.preventDefault(),s.target.blur());var l=i.props.onChange,c;if(i.props.errorSchema){c={};var v=i.props.errorSchema;for(var h in v)h==f?c[u]=v[f]:h==u?c[f]=v[u]:c[h]=v[h]}var d=i.state.keyedFormData;function g(){var y=d.slice();return y.splice(f,1),y.splice(u,0,d[f]),y}var w=g();i.setState({keyedFormData:w},function(){return l(Kr(w),c)})}},i.onChangeForIndex=function(f){return function(u,s){var l,c=i.props,v=c.formData,h=c.onChange,d=v.map(function(g,w){var y=typeof u>"u"?null:u;return f===w?y:g});h(d,s&&i.props.errorSchema&&Z({},i.props.errorSchema,(l={},l[f]=s,l)))}},i.onSelectChange=function(f){i.props.onChange(f)};var a=n.formData,o=df(a);return i.state={keyedFormData:o,updatedKeyedFormData:!1},i}r.getDerivedStateFromProps=function(i,a){if(a.updatedKeyedFormData)return{updatedKeyedFormData:!1};var o=i.formData||[],f=a.keyedFormData||[],u=o.length===f.length?f.map(function(s,l){return{key:s.key,item:o[l]}}):df(o);return{keyedFormData:u}};var t=r.prototype;return t.isItemRequired=function(i){return Array.isArray(i.type)?!Ml(i.type,"null"):i.type!=="null"},t.canAddItem=function(i){var a=this.props,o=a.schema,f=a.uiSchema,u=De(f),s=u.addable;return s!==!1&&(o.maxItems!==void 0?s=i.length<o.maxItems:s=!0),s},t.render=function(){var i=this.props,a=i.schema,o=i.uiSchema,f=i.idSchema,u=i.registry,s=u.rootSchema;if(!a.hasOwnProperty("items")){var l=u.fields,c=l.UnsupportedField;return F(c,{schema:a,idSchema:f,reason:"Missing items definition"})}return Ca(a,s)?this.renderMultiSelect():js(o)?this.renderCustomWidget():Mi(a)?this.renderFixedArray():Is(a,o,s)?this.renderFiles():this.renderNormalArray()},t.renderNormalArray=function(){var i=this,a=this.props,o=a.schema,f=a.uiSchema,u=a.errorSchema,s=a.idSchema,l=a.name,c=a.required,v=a.disabled,h=a.readonly,d=a.hideError,g=a.autofocus,w=a.registry,y=a.onBlur,_=a.onFocus,O=a.idPrefix,b=a.idSeparator,p=b===void 0?"_":b,m=a.rawErrors,S=o.title===void 0?l:o.title,T=w.ArrayFieldTemplate,M=w.rootSchema,L=w.fields,z=w.formContext,$=L.TitleField,A=L.DescriptionField,P=ee(o.items,M),W=Kr(this.state.keyedFormData),K={canAdd:this.canAddItem(W),items:this.state.keyedFormData.map(function(C,D){var B=C.key,j=C.item,N=ee(o.items,M,j),U=u?u[D]:void 0,G=s.$id+p+D,q=gr(N,G,M,j,O,p);return i.renderArrayFieldItem({key:B,index:D,canMoveUp:D>0,canMoveDown:D<W.length-1,itemSchema:N,itemIdSchema:q,itemErrorSchema:U,itemData:j,itemUiSchema:f.items,autofocus:g&&D===0,onBlur:y,onFocus:_})}),className:"field field-array field-array-of-"+P.type,DescriptionField:A,disabled:v,idSchema:s,uiSchema:f,onAddClick:this.onAddClick,readonly:h,hideError:d,required:c,schema:o,title:S,TitleField:$,formContext:z,formData:W,rawErrors:m,registry:w},R=f["ui:ArrayFieldTemplate"]||T||V_;return F(R,{...K})},t.renderCustomWidget=function(){var i=this.props,a=i.schema,o=i.idSchema,f=i.uiSchema,u=i.disabled,s=i.readonly,l=i.hideError,c=i.required,v=i.placeholder,h=i.autofocus,d=i.onBlur,g=i.onFocus,w=i.formData,y=i.registry,_=i.rawErrors,O=i.name,b=y.widgets,p=y.formContext,m=a.title||O,S=Z({},De(f)),T=S.widget,M=_e(S,["widget"]),L=Ye(a,T,b);return F(L,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:g,options:M,schema:a,uiSchema:f,registry:y,value:w,disabled:u,readonly:s,hideError:l,required:c,label:m,placeholder:v,formContext:p,autofocus:h,rawErrors:_})},t.renderMultiSelect=function(){var i=this.props,a=i.schema,o=i.idSchema,f=i.uiSchema,u=i.formData,s=i.disabled,l=i.readonly,c=i.required,v=i.placeholder,h=i.autofocus,d=i.onBlur,g=i.onFocus,w=i.registry,y=i.rawErrors,_=i.name,O=this.props.formData,b=w.widgets,p=w.rootSchema,m=w.formContext,S=ee(a.items,p,u),T=a.title||_,M=Vt(S),L=Z({},De(f),{enumOptions:M}),z=L.widget,$=z===void 0?"select":z,A=_e(L,["widget"]),P=Ye(a,$,b);return F(P,{id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:g,options:A,schema:a,uiSchema:f,registry:w,value:O,disabled:s,readonly:l,required:c,label:T,placeholder:v,formContext:m,autofocus:h,rawErrors:y})},t.renderFiles=function(){var i=this.props,a=i.schema,o=i.uiSchema,f=i.idSchema,u=i.name,s=i.disabled,l=i.readonly,c=i.autofocus,v=i.onBlur,h=i.onFocus,d=i.registry,g=i.rawErrors,w=a.title||u,y=this.props.formData,_=d.widgets,O=d.formContext,b=De(o),p=b.widget,m=p===void 0?"files":p,S=_e(b,["widget"]),T=Ye(a,m,_);return F(T,{options:S,id:f&&f.$id,multiple:!0,onChange:this.onSelectChange,onBlur:v,onFocus:h,schema:a,uiSchema:o,title:w,value:y,disabled:s,readonly:l,registry:d,formContext:O,autofocus:c,rawErrors:g})},t.renderFixedArray=function(){var i=this,a=this.props,o=a.schema,f=a.uiSchema,u=a.formData,s=a.errorSchema,l=a.idPrefix,c=a.idSeparator,v=c===void 0?"_":c,h=a.idSchema,d=a.name,g=a.required,w=a.disabled,y=a.readonly,_=a.autofocus,O=a.registry,b=a.onBlur,p=a.onFocus,m=a.rawErrors,S=o.title||d,T=this.props.formData,M=O.ArrayFieldTemplate,L=O.rootSchema,z=O.fields,$=O.formContext,A=z.TitleField,P=o.items.map(function(C,D){return ee(C,L,u[D])}),W=sf(o)?ee(o.additionalItems,L,u):null;(!T||T.length<P.length)&&(T=T||[],T=T.concat(new Array(P.length-T.length)));var K={canAdd:this.canAddItem(T)&&W,className:"field field-array field-array-fixed-items",disabled:w,idSchema:h,formData:u,items:this.state.keyedFormData.map(function(C,D){var B=C.key,j=C.item,N=D>=P.length,U=N?ee(o.additionalItems,L,j):P[D],G=h.$id+v+D,q=gr(U,G,L,j,l,v),H=N?f.additionalItems||{}:Array.isArray(f.items)?f.items[D]:f.items||{},E=s?s[D]:void 0;return i.renderArrayFieldItem({key:B,index:D,canRemove:N,canMoveUp:D>=P.length+1,canMoveDown:N&&D<T.length-1,itemSchema:U,itemData:j,itemUiSchema:H,itemIdSchema:q,itemErrorSchema:E,autofocus:_&&D===0,onBlur:b,onFocus:p})}),onAddClick:this.onAddClick,readonly:y,required:g,registry:O,schema:o,uiSchema:f,title:S,TitleField:A,formContext:$,rawErrors:m},R=f["ui:ArrayFieldTemplate"]||M||q_;return F(R,{...K})},t.renderArrayFieldItem=function(i){var a=i.key,o=i.index,f=i.canRemove,u=f===void 0?!0:f,s=i.canMoveUp,l=s===void 0?!0:s,c=i.canMoveDown,v=c===void 0?!0:c,h=i.itemSchema,d=i.itemData,g=i.itemUiSchema,w=i.itemIdSchema,y=i.itemErrorSchema,_=i.autofocus,O=i.onBlur,b=i.onFocus,p=i.rawErrors,m=this.props,S=m.disabled,T=m.readonly,M=m.uiSchema,L=m.registry,z=L.fields.SchemaField,$=De(M),A=$.orderable,P=A===void 0?!0:A,W=$.removable,K=W===void 0?!0:W,R={moveUp:P&&l,moveDown:P&&v,remove:K&&u};return R.toolbar=Object.keys(R).some(function(C){return R[C]}),{children:F(z,{index:o,schema:h,uiSchema:g,formData:d,errorSchema:y,idPrefix:this.props.idPrefix,idSeparator:this.props.idSeparator,idSchema:w,required:this.isItemRequired(h),onChange:this.onChangeForIndex(o),onBlur:O,onFocus:b,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,hideError:this.props.hideError,autofocus:_,rawErrors:p}),className:"array-item",disabled:S,hasToolbar:R.toolbar,hasMoveUp:R.moveUp,hasMoveDown:R.moveDown,hasRemove:R.remove,index:o,key:a,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:T}},Ds(r,[{key:"itemTitle",get:function(){var i=this.props.schema;return i.items.title||i.items.description||"Item"}}]),r}(_r);Ks.defaultProps={uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1};function Hs(e){var r=e.schema,t=e.name,n=e.uiSchema,i=e.idSchema,a=e.formData,o=e.registry,f=e.required,u=e.disabled,s=e.readonly,l=e.autofocus,c=e.onChange,v=e.onFocus,h=e.onBlur,d=e.rawErrors,g=r.title,w=o.widgets,y=o.formContext,_=o.fields,O=De(n),b=O.widget,p=b===void 0?"checkbox":b,m=_e(O,["widget"]),S=Ye(r,p,w),T;return Array.isArray(r.oneOf)?T=Vt({oneOf:r.oneOf.map(function(M){return Z({},M,{title:M.title||(M.const===!0?"Yes":"No")})})}):T=Vt({enum:r.enum||[!0,!1],enumNames:r.enumNames||(r.enum&&r.enum[0]===!1?["No","Yes"]:["Yes","No"])}),F(S,{options:Z({},m,{enumOptions:T}),schema:r,uiSchema:n,id:i&&i.$id,onChange:c,onFocus:v,onBlur:h,label:g===void 0?t:g,value:a,required:f,disabled:u,readonly:s,registry:o,formContext:y,autofocus:l,rawErrors:d,DescriptionField:_.DescriptionField})}Hs.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};function K_(e){var r=e.id,t=e.description;return t?typeof t=="string"?F("p",{id:r,className:"field-description",children:t}):F("div",{id:r,className:"field-description",children:t}):null}var Fi=function(e){Je(r,e);function r(n){var i;i=e.call(this,n)||this,i.onOptionChange=function(u){var s=parseInt(u,10),l=i.props,c=l.formData,v=l.onChange,h=l.options,d=l.registry,g=d.rootSchema,w=ee(h[s],g,c),y=void 0;if(ut(c)==="object"&&(w.type==="object"||w.properties)){y=Object.assign({},c);var _=h.slice();_.splice(s,1);for(var p=_,O=Array.isArray(p),b=0,p=O?p:p[Symbol.iterator]();;){var m;if(O){if(b>=p.length)break;m=p[b++]}else{if(b=p.next(),b.done)break;m=b.value}var S=m;if(S.properties)for(var T in S.properties)y.hasOwnProperty(T)&&delete y[T]}}v(bn(h[s],y,g)),i.setState({selectedOption:parseInt(u,10)})};var a=i.props,o=a.formData,f=a.options;return i.state={selectedOption:i.getMatchingOption(o,f)},i}var t=r.prototype;return t.componentDidUpdate=function(i,a){if(!ke(this.props.formData,i.formData)&&this.props.idSchema.$id===i.idSchema.$id){var o=this.getMatchingOption(this.props.formData,this.props.options);if(!a||o===this.state.selectedOption)return;this.setState({selectedOption:o})}},t.getMatchingOption=function(i,a){var o=this.props.registry.rootSchema,f=st(i,a,o);return f!==0?f:this&&this.state?this.state.selectedOption:0},t.render=function(){var i=this.props,a=i.baseType,o=i.disabled,f=i.readonly,u=i.hideError,s=i.errorSchema,l=i.formData,c=i.idPrefix,v=i.idSeparator,h=i.idSchema,d=i.onBlur,g=i.onChange,w=i.onFocus,y=i.options,_=i.registry,O=i.uiSchema,b=i.schema,p=_.fields.SchemaField,m=_.widgets,S=this.state.selectedOption,T=De(O),M=T.widget,L=M===void 0?"select":M,z=_e(T,["widget"]),$=Ye({type:"number"},L,m),A=y[S]||null,P;A&&(P=A.type?A:Object.assign({},A,{type:a}));var W=y.map(function(K,R){return{label:K.title||"Option "+(R+1),value:R}});return ie("div",{className:"panel panel-default panel-body",children:[F("div",{className:"form-group",children:F($,{id:""+h.$id+(b.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:d,onFocus:w,value:S,options:{enumOptions:W},registry:_,...z})}),A!==null&&ur.createElement(p,{schema:P,uiSchema:O,errorSchema:s,idSchema:h,idPrefix:c,idSeparator:v,formData:l,onChange:g,onBlur:d,onFocus:w,registry:_,disabled:o,readonly:f,hideError:u})]})},r}(_r);Fi.defaultProps={disabled:!1,readonly:!1,hideError:!1,errorSchema:{},idSchema:{},uiSchema:{}};var H_=/\.([0-9]*0)*$/,Y_=/[0.]0*$/,Ys=function(e){Je(r,e);function r(n){var i;return i=e.call(this,n)||this,i.handleChange=function(a){i.setState({lastValue:a}),(""+a).charAt(0)==="."&&(a="0"+a);var o=typeof a=="string"&&a.match(H_)?Yr(a.replace(Y_,"")):Yr(a);i.props.onChange(o)},i.state={lastValue:n.value},i}var t=r.prototype;return t.render=function(){var i=this.props.registry.fields.StringField,a=this.props,o=a.formData,f=_e(a,["formData"]),u=this.state.lastValue,s=o;if(typeof u=="string"&&typeof s=="number"){var l=new RegExp((""+s).replace(".","\\.")+"\\.?0*$");u.match(l)&&(s=u)}return F(i,{...f,formData:s,onChange:this.handleChange})},r}(ur.Component);Ys.defaultProps={uiSchema:{}};function z_(e){var r=e.TitleField,t=e.DescriptionField;return ie("fieldset",{id:e.idSchema.$id,children:[(e.uiSchema["ui:title"]||e.title)&&F(r,{id:e.idSchema.$id+"__title",title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&F(t,{id:e.idSchema.$id+"__description",description:e.description,formContext:e.formContext}),e.properties.map(function(n){return n.content}),A_(e.schema,e.uiSchema,e.formData)&&F(Aa,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly})]})}var zs=function(e){Je(r,e);function r(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={wasPropertyKeyModified:!1,additionalProperties:{}},n.onPropertyChange=function(f,u){return u===void 0&&(u=!1),function(s,l){var c,v;s===void 0&&u&&(s="");var h=Z({},n.props.formData,(c={},c[f]=s,c));n.props.onChange(h,l&&n.props.errorSchema&&Z({},n.props.errorSchema,(v={},v[f]=l,v)))}},n.onDropPropertyClick=function(f){return function(u){u.preventDefault();var s=n.props,l=s.onChange,c=s.formData,v=Z({},c);delete v[f],l(v)}},n.getAvailableKey=function(f,u){for(var s=0,l=f;u.hasOwnProperty(l);)l=f+"-"+ ++s;return l},n.onKeyChange=function(f){return function(u,s){var l,c;if(f!==u){u=n.getAvailableKey(u,n.props.formData);var v=Z({},n.props.formData),h=(l={},l[f]=u,l),d=Object.keys(v).map(function(w){var y,_=h[w]||w;return y={},y[_]=v[w],y}),g=Object.assign.apply(Object,[{}].concat(d));n.setState({wasPropertyKeyModified:!0}),n.props.onChange(g,s&&n.props.errorSchema&&Z({},n.props.errorSchema,(c={},c[u]=s,c)))}}},n.handleAddClick=function(f){return function(){var u=f.additionalProperties.type,s=Z({},n.props.formData);if(f.additionalProperties.hasOwnProperty("$ref")){var l=n.props.registry,c=ee({$ref:f.additionalProperties.$ref},l.rootSchema,n.props.formData);u=c.type}s[n.getAvailableKey("newKey",s)]=n.getDefaultValue(u),n.props.onChange(s)}},n}var t=r.prototype;return t.isRequired=function(i){var a=this.props.schema;return Array.isArray(a.required)&&a.required.indexOf(i)!==-1},t.getDefaultValue=function(i){switch(i){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}},t.render=function(){var i=this,a=this.props,o=a.uiSchema,f=a.formData,u=a.errorSchema,s=a.idSchema,l=a.name,c=a.required,v=a.disabled,h=a.readonly,d=a.hideError,g=a.idPrefix,w=a.idSeparator,y=a.onBlur,_=a.onFocus,O=a.registry,b=O.rootSchema,p=O.fields,m=O.formContext,S=p.SchemaField,T=p.TitleField,M=p.DescriptionField,L=ee(this.props.schema,b,f),z=L.title===void 0?l:L.title,$=o["ui:description"]||L.description,A;try{var P=Object.keys(L.properties||{});A=R_(P,o["ui:order"])}catch(R){return ie("div",{children:[ie("p",{className:"config-error",style:{color:"red"},children:["Invalid ",l||"root"," object field configuration:",F("em",{children:R.message}),"."]}),F("pre",{children:JSON.stringify(L)})]})}var W=o["ui:ObjectFieldTemplate"]||O.ObjectFieldTemplate||z_,K={title:o["ui:title"]||z,description:$,TitleField:T,DescriptionField:M,properties:A.map(function(R){var C=L.properties[R].hasOwnProperty($a),D=C?o.additionalProperties:o[R],B=D&&D["ui:widget"]==="hidden";return{content:F(S,{name:R,required:i.isRequired(R),schema:L.properties[R],uiSchema:D,errorSchema:u[R],idSchema:s[R],idPrefix:g,idSeparator:w,formData:(f||{})[R],wasPropertyKeyModified:i.state.wasPropertyKeyModified,onKeyChange:i.onKeyChange(R),onChange:i.onPropertyChange(R,C),onBlur:y,onFocus:_,registry:O,disabled:v,readonly:h,hideError:d,onDropPropertyClick:i.onDropPropertyClick},R),name:R,readonly:h,disabled:v,required:c,hidden:B}}),readonly:h,disabled:v,required:c,idSchema:s,uiSchema:o,schema:L,formData:f,formContext:m,registry:O};return F(W,{...K,onAddClick:this.handleAddClick})},r}(_r);zs.defaultProps={uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1};var G_="*",J_={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function X_(e,r,t,n){var i=r["ui:field"];if(typeof i=="function")return i;if(typeof i=="string"&&i in n)return n[i];var a=J_[Nr(e)];return!a&&(e.anyOf||e.oneOf)?function(){return null}:a in n?n[a]:function(){var o=n.UnsupportedField;return F(o,{schema:e,idSchema:t,reason:"Unknown field type "+e.type})}}function Gs(e){var r=e.label,t=e.required,n=e.id;return r?ie("label",{className:"control-label",htmlFor:n,children:[r,t&&F("span",{className:"required",children:G_})]}):null}function Z_(e){var r=e.id,t=e.label,n=e.onChange;return F("input",{className:"form-control",type:"text",id:r,onBlur:function(a){return n(a.target.value)},defaultValue:t})}function Q_(e){var r=e.id,t=e.help;return t?typeof t=="string"?F("p",{id:r,className:"help-block",children:t}):F("div",{id:r,className:"help-block",children:t}):null}function eE(e){var r=e.errors,t=r===void 0?[]:r;return t.length===0?null:F("div",{children:F("ul",{className:"error-detail bs-callout bs-callout-info",children:t.filter(function(n){return!!n}).map(function(n,i){return F("li",{className:"text-danger",children:n},i)})})})}function Js(e){var r=e.id,t=e.label,n=e.children,i=e.errors,a=e.help,o=e.description,f=e.hidden,u=e.required,s=e.displayLabel;return f?F("div",{className:"hidden",children:n}):ie(rE,{...e,children:[s&&F(Gs,{label:t,required:u,id:r}),s&&o?o:null,n,i,a]})}Js.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function rE(e){var r=e.id,t=e.classNames,n=e.disabled,i=e.label,a=e.onKeyChange,o=e.onDropPropertyClick,f=e.readonly,u=e.required,s=e.schema,l=i+" Key",c=s.hasOwnProperty($a);return c?F("div",{className:t,children:ie("div",{className:"row",children:[F("div",{className:"col-xs-5 form-additional",children:ie("div",{className:"form-group",children:[F(Gs,{label:l,required:u,id:r+"-key"}),F(Z_,{label:i,required:u,id:r+"-key",onChange:a})]})}),F("div",{className:"form-additional form-group col-xs-5",children:e.children}),F("div",{className:"col-xs-2",children:F(Hr,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:n||f,onClick:o(i)})})]})}):F("div",{className:t,children:e.children})}function tE(e){var r=e.uiSchema,t=e.formData,n=e.errorSchema,i=e.idPrefix,a=e.idSeparator,o=e.name,f=e.onChange,u=e.onKeyChange,s=e.onDropPropertyClick,l=e.required,c=e.registry,v=e.wasPropertyKeyModified,h=v===void 0?!1:v,d=c.rootSchema,g=c.fields,w=c.formContext,y=r["ui:FieldTemplate"]||c.FieldTemplate||Js,_=e.idSchema,O=ee(e.schema,d,t);_=rr(gr(O,null,d,t,i,a),_);var b=X_(O,r,_,g),p=g.DescriptionField,m=Boolean(e.disabled||r["ui:disabled"]),S=Boolean(e.readonly||r["ui:readonly"]||e.schema.readOnly||O.readOnly),T=r["ui:hideError"],M=T===void 0?e.hideError:Boolean(T),L=Boolean(e.autofocus||r["ui:autofocus"]);if(Object.keys(O).length===0)return null;var z=T_(O,r,d),$=n.__errors,A=_e(n,["__errors"]),P=F(b,{...e,idSchema:_,schema:O,uiSchema:Z({},r,{classNames:void 0}),disabled:m,readonly:S,hideError:M,autofocus:L,errorSchema:A,formContext:w,rawErrors:$}),W=_.$id,K;h?K=o:K=r["ui:title"]||e.schema.title||O.title||o;var R=r["ui:description"]||e.schema.description||O.description,C=$,D=r["ui:help"],B=r["ui:widget"]==="hidden",j=["form-group","field","field-"+O.type];!M&&C&&C.length>0&&j.push("field-error has-error has-danger"),j.push(r.classNames),j=j.join(" ").trim();var N={description:F(p,{id:W+"__description",description:R,formContext:w}),rawDescription:R,help:F(Q_,{id:W+"__help",help:D}),rawHelp:typeof D=="string"?D:void 0,errors:M?void 0:F(eE,{errors:C}),rawErrors:M?void 0:C,id:W,label:K,hidden:B,onChange:f,onKeyChange:u,onDropPropertyClick:s,required:l,disabled:m,readonly:S,hideError:M,displayLabel:z,classNames:j,formContext:w,formData:t,fields:g,schema:O,uiSchema:r,registry:c},U=c.fields.AnyOfField,G=c.fields.OneOfField;return F(y,{...N,children:ie(kl,{children:[P,O.anyOf&&!qt(O)&&ur.createElement(U,{disabled:m,readonly:S,hideError:M,errorSchema:n,formData:t,idPrefix:i,idSchema:_,idSeparator:a,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:O.anyOf.map(function(q){return ee(q,d,t)}),baseType:O.type,registry:c,schema:O,uiSchema:r}),O.oneOf&&!qt(O)&&ur.createElement(G,{disabled:m,readonly:S,hideError:M,errorSchema:n,formData:t,idPrefix:i,idSchema:_,idSeparator:a,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:O.oneOf.map(function(q){return ee(q,d,t)}),baseType:O.type,registry:c,schema:O,uiSchema:r})]})})}var Xs=function(e){Je(r,e);function r(){return e.apply(this,arguments)||this}var t=r.prototype;return t.shouldComponentUpdate=function(i,a){return!ke(this.props,i)},t.render=function(){return tE(this.props)},r}(ur.Component);Xs.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1,hideError:!1};function Zs(e){var r=e.schema,t=e.name,n=e.uiSchema,i=e.idSchema,a=e.formData,o=e.required,f=e.disabled,u=e.readonly,s=e.autofocus,l=e.onChange,c=e.onBlur,v=e.onFocus,h=e.registry,d=e.rawErrors,g=r.title,w=r.format,y=h.widgets,_=h.formContext,O=qt(r)&&Vt(r),b=O?"select":"text";w&&$_(r,w,y)&&(b=w);var p=De(n),m=p.widget,S=m===void 0?b:m,T=p.placeholder,M=T===void 0?"":T,L=_e(p,["widget","placeholder"]),z=Ye(r,S,y);return F(z,{options:Z({},L,{enumOptions:O}),schema:r,uiSchema:n,id:i&&i.$id,label:g===void 0?t:g,value:a,onChange:l,onBlur:c,onFocus:v,required:o,disabled:f,readonly:u,formContext:_,autofocus:s,registry:h,placeholder:M,rawErrors:d})}Zs.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var nE="*";function iE(e){var r=e.id,t=e.title,n=e.required;return ie("legend",{id:r,children:[t,n&&F("span",{className:"required",children:nE})]})}var aE=function(e){Je(r,e);function r(){return e.apply(this,arguments)||this}var t=r.prototype;return t.componentDidMount=function(){this.props.formData===void 0&&this.props.onChange(null)},t.render=function(){return null},r}(_r);function oE(e){var r=e.schema,t=e.idSchema,n=e.reason;return ie("div",{className:"unsupported-field",children:[ie("p",{children:["Unsupported field schema",t&&t.$id&&ie("span",{children:[" for"," field ",F("code",{children:t.$id})]}),n&&ie("em",{children:[": ",n]}),"."]}),r&&F("pre",{children:JSON.stringify(r,null,2)})]})}var fE={AnyOfField:Fi,ArrayField:Ks,BooleanField:Hs,DescriptionField:K_,NumberField:Ys,ObjectField:zs,OneOfField:Fi,SchemaField:Xs,StringField:Zs,TitleField:iE,NullField:aE,UnsupportedField:oE};function uE(e,r){for(var t=[],n=e;n<=r;n++)t.push({value:n,label:Ze(n,2)});return t}function sE(e){return Object.keys(e).every(function(r){return e[r]!==-1})}function lE(e){var r=e.type,t=e.range,n=e.value,i=e.select,a=e.rootId,o=e.disabled,f=e.readonly,u=e.autofocus,s=e.registry,l=e.onBlur,c=a+"_"+r,v=s.widgets.SelectWidget;return F(v,{schema:{type:"integer"},id:c,className:"form-control",options:{enumOptions:uE(t[0],t[1])},placeholder:r,value:n,disabled:o,readonly:f,autofocus:u,onChange:function(d){return i(r,d)},onBlur:l})}var Ba=function(e){Je(r,e);function r(n){var i;return i=e.call(this,n)||this,i.onChange=function(a,o){var f;i.setState((f={},f[a]=typeof o>"u"?-1:o,f),function(){sE(i.state)&&i.props.onChange(lf(i.state,i.props.time))})},i.setNow=function(a){a.preventDefault();var o=i.props,f=o.time,u=o.disabled,s=o.readonly,l=o.onChange;if(!(u||s)){var c=Vr(new Date().toJSON(),f);i.setState(c,function(){return l(lf(i.state,f))})}},i.clear=function(a){a.preventDefault();var o=i.props,f=o.time,u=o.disabled,s=o.readonly,l=o.onChange;u||s||i.setState(Vr("",f),function(){return l(void 0)})},i.state=Vr(n.value,n.time),i}var t=r.prototype;return t.componentDidUpdate=function(i,a){i.value&&i.value!==Vr(this.props.value,this.props.time)&&this.setState(Vr(this.props.value,this.props.time))},t.shouldComponentUpdate=function(i,a){return Ra(this,i,a)},t.render=function(){var i=this,a=this.props,o=a.id,f=a.disabled,u=a.readonly,s=a.autofocus,l=a.registry,c=a.onBlur,v=a.options;return ie("ul",{className:"list-inline",children:[this.dateElementProps.map(function(h,d){return F("li",{children:F(lE,{rootId:o,select:i.onChange,...h,disabled:f,readonly:u,registry:l,onBlur:c,autofocus:s&&d===0})},d)}),(v.hideNowButton!=="undefined"?!v.hideNowButton:!0)&&F("li",{children:F("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow,children:"Now"})}),(v.hideClearButton!=="undefined"?!v.hideClearButton:!0)&&F("li",{children:F("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear,children:"Clear"})})]})},Ds(r,[{key:"dateElementProps",get:function(){var i=this.props,a=i.time,o=i.options,f=this.state,u=f.year,s=f.month,l=f.day,c=f.hour,v=f.minute,h=f.second,d=[{type:"year",range:o.yearsRange,value:u},{type:"month",range:[1,12],value:s},{type:"day",range:[1,31],value:l}];return a&&d.push({type:"hour",range:[0,23],value:c},{type:"minute",range:[0,59],value:v},{type:"second",range:[0,59],value:h}),d}}]),r}(_r);Ba.defaultProps={time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}};function Qs(e){var r=e.registry.widgets.AltDateWidget;return F(r,{time:!0,...e})}Qs.defaultProps=Z({},Ba.defaultProps,{time:!0});function el(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props "+JSON.stringify(e));var r=e.value,t=e.readonly,n=e.disabled,i=e.autofocus,a=e.onBlur,o=e.onFocus,f=e.options,u=e.schema,s=_e(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);f.inputType?s.type=f.inputType:s.type||(u.type==="number"?(s.type="number",s.step="any"):u.type==="integer"?(s.type="number",s.step="1"):s.type="text"),f.autocomplete&&(s.autoComplete=f.autocomplete),u.multipleOf&&(s.step=u.multipleOf),typeof u.minimum<"u"&&(s.min=u.minimum),typeof u.maximum<"u"&&(s.max=u.maximum);var l=function(v){var h=v.target.value;return e.onChange(h===""?f.emptyValue:h)};return[F("input",{className:"form-control",readOnly:t,disabled:n,autoFocus:i,value:r==null?"":r,...s,list:u.examples?"examples_"+s.id:null,onChange:l,onBlur:a&&function(c){return a(s.id,c.target.value)},onFocus:o&&function(c){return o(s.id,c.target.value)}},s.id),u.examples?F("datalist",{id:"examples_"+s.id,children:[].concat(new Set(u.examples.concat(u.default?[u.default]:[]))).map(function(c){return F("option",{value:c},c)})},"datalist_"+s.id):null]}el.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};function rl(e){var r=e.schema,t=e.id,n=e.value,i=e.disabled,a=e.readonly,o=e.label,f=e.autofocus,u=e.onBlur,s=e.onFocus,l=e.onChange,c=e.DescriptionField,v=Mt(r);return ie("div",{className:"checkbox "+(i||a?"disabled":""),children:[r.description&&F(c,{description:r.description}),ie("label",{children:[F("input",{type:"checkbox",id:t,checked:typeof n>"u"?!1:n,required:v,disabled:i||a,autoFocus:f,onChange:function(d){return l(d.target.checked)},onBlur:u&&function(h){return u(t,h.target.checked)},onFocus:s&&function(h){return s(t,h.target.checked)}}),F("span",{children:o})]})]})}rl.defaultProps={autofocus:!1};function dE(e,r,t){var n=t.indexOf(e),i=r.slice(0,n).concat(e,r.slice(n));return i.sort(function(a,o){return t.indexOf(a)>t.indexOf(o)})}function cE(e,r){return r.filter(function(t){return t!==e})}function tl(e){var r=e.id,t=e.disabled,n=e.options,i=e.value,a=e.autofocus,o=e.readonly,f=e.onChange,u=n.enumOptions,s=n.enumDisabled,l=n.inline;return F("div",{className:"checkboxes",id:r,children:u.map(function(c,v){var h=i.indexOf(c.value)!==-1,d=s&&s.indexOf(c.value)!=-1,g=t||d||o?"disabled":"",w=ie("span",{children:[F("input",{type:"checkbox",id:r+"_"+v,checked:h,disabled:t||d||o,autoFocus:a&&v===0,onChange:function(_){var O=u.map(function(b){var p=b.value;return p});_.target.checked?f(dE(c.value,i,O)):f(cE(c.value,i))}}),F("span",{children:c.label})]});return l?F("label",{className:"checkbox-inline "+g,children:w},v):F("div",{className:"checkbox "+g,children:F("label",{children:w})},v)})})}tl.defaultProps={autofocus:!1,options:{inline:!1}};function hE(e){var r=e.disabled,t=e.readonly,n=e.registry.widgets.BaseInput;return F(n,{type:"color",...e,disabled:r||t})}function pE(e){var r=e.onChange,t=e.registry.widgets.BaseInput;return F(t,{type:"date",...e,onChange:function(i){return r(i||void 0)}})}function vE(e){var r=e.value,t=e.onChange,n=e.registry.widgets.BaseInput;return F(n,{type:"datetime-local",...e,value:k_(r),onChange:function(a){return t(L_(a))}})}function gE(e){var r=e.registry.widgets.BaseInput;return F(r,{type:"email",...e})}function mE(e,r){return e.replace(";base64",";name="+encodeURIComponent(r)+";base64")}function yE(e){var r=e.name,t=e.size,n=e.type;return new Promise(function(i,a){var o=new window.FileReader;o.onerror=a,o.onload=function(f){i({dataURL:mE(f.target.result,r),name:r,size:t,type:n})},o.readAsDataURL(e)})}function bE(e){return Promise.all([].map.call(e,yE))}function wE(e){var r=e.filesInfo;return r.length===0?null:F("ul",{className:"file-info",children:r.map(function(t,n){var i=t.name,a=t.size,o=t.type;return ie("li",{children:[F("strong",{children:i})," (",o,", ",a," bytes)"]},n)})})}function _E(e){return e.filter(function(r){return typeof r<"u"}).map(function(r){var t=W_(r),n=t.blob,i=t.name;return{name:i,size:n.size,type:n.type}})}var nl=function(e){Je(r,e);function r(n){var i;i=e.call(this,n)||this,i.onChange=function(f){var u=i.props,s=u.multiple,l=u.onChange;bE(f.target.files).then(function(c){var v={values:c.map(function(h){return h.dataURL}),filesInfo:c};i.setState(v,function(){l(s?v.values:v.values[0])})})};var a=n.value,o=Array.isArray(a)?a:[a];return i.state={values:o,filesInfo:_E(o)},i}var t=r.prototype;return t.shouldComponentUpdate=function(i,a){return Ra(this,i,a)},t.render=function(){var i=this,a=this.props,o=a.multiple,f=a.id,u=a.readonly,s=a.disabled,l=a.autofocus,c=a.options,v=this.state.filesInfo;return ie("div",{children:[F("p",{children:F("input",{ref:function(d){return i.inputRef=d},id:f,type:"file",disabled:u||s,onChange:this.onChange,defaultValue:"",autoFocus:l,multiple:o,accept:c.accept})}),F(wE,{filesInfo:v})]})},r}(_r);nl.defaultProps={autofocus:!1};function EE(e){var r=e.id,t=e.value;return F("input",{type:"hidden",id:r,value:typeof t>"u"?"":t})}function SE(e){var r=e.registry.widgets.BaseInput;return F(r,{type:"password",...e})}function il(e){var r=e.options,t=e.value,n=e.required,i=e.disabled,a=e.readonly,o=e.autofocus,f=e.onBlur,u=e.onFocus,s=e.onChange,l=e.id,c=Math.random().toString(),v=r.enumOptions,h=r.enumDisabled,d=r.inline;return F("div",{className:"field-radio-group",id:l,children:v.map(function(g,w){var y=g.value===t,_=h&&h.indexOf(g.value)!=-1,O=i||_||a?"disabled":"",b=ie("span",{children:[F("input",{type:"radio",checked:y,name:c,required:n,value:g.value,disabled:i||_||a,autoFocus:o&&w===0,onChange:function(m){return s(g.value)},onBlur:f&&function(p){return f(l,p.target.value)},onFocus:u&&function(p){return u(l,p.target.value)}}),F("span",{children:g.label})]});return d?F("label",{className:"radio-inline "+O,children:b},w):F("div",{className:"radio "+O,children:F("label",{children:b})},w)})})}il.defaultProps={autofocus:!1};function xE(e){var r=e.schema,t=e.value,n=e.registry.widgets.BaseInput;return ie("div",{className:"field-range-wrapper",children:[F(n,{type:"range",...e,...Us(r)}),F("span",{className:"range-view",children:t})]})}var OE=new Set(["number","integer"]);function ni(e,r){var t=e.type,n=e.items;if(r!==""){{if(t==="array"&&n&&OE.has(n.type))return r.map(Yr);if(t==="boolean")return r==="true";if(t==="number")return Yr(r)}if(e.enum){if(e.enum.every(function(i){return ut(i)==="number"}))return Yr(r);if(e.enum.every(function(i){return ut(i)==="boolean"}))return r==="true"}return r}}function ii(e,r){return r?[].slice.call(e.target.options).filter(function(t){return t.selected}).map(function(t){return t.value}):e.target.value}function al(e){var r=e.schema,t=e.id,n=e.options,i=e.value,a=e.required,o=e.disabled,f=e.readonly,u=e.multiple,s=e.autofocus,l=e.onChange,c=e.onBlur,v=e.onFocus,h=e.placeholder,d=n.enumOptions,g=n.enumDisabled,w=u?[]:"";return ie("select",{id:t,multiple:u,className:"form-control",value:typeof i>"u"?w:i,required:a,disabled:o||f,autoFocus:s,onBlur:c&&function(y){var _=ii(y,u);c(t,ni(r,_))},onFocus:v&&function(y){var _=ii(y,u);v(t,ni(r,_))},onChange:function(_){var O=ii(_,u);l(ni(r,O))},children:[!u&&r.default===void 0&&F("option",{value:"",children:h}),d.map(function(y,_){var O=y.value,b=y.label,p=g&&g.indexOf(O)!=-1;return F("option",{value:O,disabled:p,children:b},_)})]})}al.defaultProps={autofocus:!1};function ol(e){var r=e.id,t=e.options,n=e.placeholder,i=e.value,a=e.required,o=e.disabled,f=e.readonly,u=e.autofocus,s=e.onChange,l=e.onBlur,c=e.onFocus,v=function(d){var g=d.target.value;return s(g===""?t.emptyValue:g)};return F("textarea",{id:r,className:"form-control",value:i||"",placeholder:n,required:a,disabled:o,readOnly:f,autoFocus:u,rows:t.rows,onBlur:l&&function(h){return l(r,h.target.value)},onFocus:c&&function(h){return c(r,h.target.value)},onChange:v})}ol.defaultProps={autofocus:!1,options:{}};function AE(e){var r=e.registry.widgets.BaseInput;return F(r,{...e})}function $E(e){var r=e.registry.widgets.BaseInput;return F(r,{type:"url",...e})}function CE(e){var r=e.registry.widgets.BaseInput;return F(r,{type:"number",...e,...Us(e.schema)})}function TE(e){var r=e.uiSchema,t=C_(r),n=t.submitText,i=t.norender,a=t.props;return F("div",{children:!i&&F("button",{type:"submit",...a,className:"btn btn-info",children:n})})}var RE={BaseInput:el,PasswordWidget:SE,RadioWidget:il,UpDownWidget:CE,RangeWidget:xE,SelectWidget:al,TextWidget:AE,DateWidget:pE,DateTimeWidget:vE,AltDateWidget:Ba,AltDateTimeWidget:Qs,EmailWidget:gE,URLWidget:$E,TextareaWidget:ol,HiddenWidget:EE,ColorWidget:hE,FileWidget:nl,CheckboxWidget:rl,CheckboxesWidget:tl,SubmitButton:TE};function BE(){return{fields:fE,widgets:RE,definitions:{},rootSchema:{},formContext:{}}}function DE(e){var r=e.errors;return ie("div",{className:"panel panel-danger errors",children:[F("div",{className:"panel-heading",children:F("h3",{className:"panel-title",children:"Errors"})}),F("ul",{className:"list-group",children:r.map(function(t,n){return F("li",{className:"list-group-item text-danger",children:t.stack},n)})})]})}var ME=function(e){Je(r,e);function r(n){var i;return i=e.call(this,n)||this,i.getUsedFormData=function(a,o){if(o.length===0&&typeof a!="object")return a;var f=Tl(a,o);return Array.isArray(a)?Object.keys(f).map(function(u){return f[u]}):f},i.getFieldNames=function(a,o){var f=function u(s,l,c){return l===void 0&&(l=[]),c===void 0&&(c=[""]),Object.keys(s).forEach(function(v){if(typeof s[v]=="object"){var h=c.map(function(d){return d+"."+v});s[v].__rjsf_additionalProperties&&s[v].$name!==""?l.push(s[v].$name):u(s[v],l,h)}else v==="$name"&&s[v]!==""&&c.forEach(function(d){d=d.replace(/^\./,"");var g=Rl(o,d);(typeof g!="object"||Bl(g))&&l.push(d)})}),l};return f(a)},i.onChange=function(a,o){if(pe(a)||Array.isArray(a)){var f=i.getStateFromProps(i.props,a);a=f.formData}var u=!i.props.noValidate&&i.props.liveValidate,s={formData:a},l=a;if(i.props.omitExtraData===!0&&i.props.liveOmit===!0){var c=ee(i.state.schema,i.state.schema,a),v=zr(c,"",i.state.schema,a),h=i.getFieldNames(v,a);l=i.getUsedFormData(a,h),s={formData:l}}if(u){var d=i.validate(l),g=d.errors,w=d.errorSchema,y=g,_=w;i.props.extraErrors&&(w=rr(w,i.props.extraErrors,!0),g=pr(w)),s={formData:l,errors:g,errorSchema:w,schemaValidationErrors:y,schemaValidationErrorSchema:_}}else if(!i.props.noValidate&&o){var O=i.props.extraErrors?rr(o,i.props.extraErrors,!0):o;s={formData:l,errorSchema:O,errors:pr(O)}}i.setState(s,function(){return i.props.onChange&&i.props.onChange(i.state)})},i.onBlur=function(){if(i.props.onBlur){var a;(a=i.props).onBlur.apply(a,arguments)}},i.onFocus=function(){if(i.props.onFocus){var a;(a=i.props).onFocus.apply(a,arguments)}},i.onSubmit=function(a){if(a.preventDefault(),a.target===a.currentTarget){a.persist();var o=i.state.formData;if(i.props.omitExtraData===!0){var f=ee(i.state.schema,i.state.schema,o),u=zr(f,"",i.state.schema,o),s=i.getFieldNames(u,o);o=i.getUsedFormData(o,s)}if(!i.props.noValidate){var l=i.validate(o),c=l.errors,v=l.errorSchema,h=c,d=v;if(Object.keys(c).length>0){i.props.extraErrors&&(v=rr(v,i.props.extraErrors,!0),c=pr(v)),i.setState({errors:c,errorSchema:v,schemaValidationErrors:h,schemaValidationErrorSchema:d},function(){i.props.onError?i.props.onError(c):console.error("Form validation failed",c)});return}}var g,w;i.props.extraErrors?(g=i.props.extraErrors,w=pr(g)):(g={},w=[]),i.setState({formData:o,errors:w,errorSchema:g,schemaValidationErrors:[],schemaValidationErrorSchema:{}},function(){i.props.onSubmit&&i.props.onSubmit(Z({},i.state,{formData:o,status:"submitted"}),a)})}},i.state=i.getStateFromProps(n,n.formData),i.props.onChange&&!ke(i.state.formData,i.props.formData)&&i.props.onChange(i.state),i.formElement=null,i}var t=r.prototype;return t.UNSAFE_componentWillReceiveProps=function(i){var a=this.getStateFromProps(i,i.formData);!ke(a.formData,i.formData)&&!ke(a.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(a),this.setState(a)},t.getStateFromProps=function(i,a){var o=this.state||{},f="schema"in i?i.schema:this.props.schema,u="uiSchema"in i?i.uiSchema:this.props.uiSchema,s=typeof a<"u",l="liveValidate"in i?i.liveValidate:this.props.liveValidate,c=s&&!i.noValidate&&l,v=f,h=bn(f,a,v),d=ee(f,v,h),g=i.customFormats,w=i.additionalMetaSchemas,y=function(){return i.noValidate?{errors:[],errorSchema:{}}:i.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}}},_,O,b,p;if(c){var m=this.validate(h,f,w,g);_=m.errors,O=m.errorSchema,b=_,p=O}else{var S=y();_=S.errors,O=S.errorSchema,b=o.schemaValidationErrors,p=o.schemaValidationErrorSchema}i.extraErrors&&(O=rr(O,i.extraErrors,!0),_=pr(O));var T=gr(d,u["ui:rootFieldId"],v,h,i.idPrefix,i.idSeparator),M={schema:f,uiSchema:u,idSchema:T,formData:h,edit:s,errors:_,errorSchema:O,additionalMetaSchemas:w};return b&&(M.schemaValidationErrors=b,M.schemaValidationErrorSchema=p),M},t.shouldComponentUpdate=function(i,a){return Ra(this,i,a)},t.validate=function(i,a,o,f){a===void 0&&(a=this.props.schema),o===void 0&&(o=this.props.additionalMetaSchemas),f===void 0&&(f=this.props.customFormats);var u=this.props,s=u.validate,l=u.transformErrors,c=this.getRegistry(),v=c.rootSchema,h=ee(a,v,i);return Ps(i,h,s,l,o,f)},t.renderErrors=function(){var i=this.state,a=i.errors,o=i.errorSchema,f=i.schema,u=i.uiSchema,s=this.props,l=s.ErrorList,c=s.showErrorList,v=s.formContext;return a.length&&c!=!1?F(l,{errors:a,errorSchema:o,schema:f,uiSchema:u,formContext:v}):null},t.getRegistry=function(){var i=BE(),a=i.fields,o=i.widgets;return{fields:Z({},a,this.props.fields),widgets:Z({},o,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}},t.submit=function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))},t.render=function(){var i=this,a=this.props,o=a.children,f=a.id,u=a.idPrefix,s=a.idSeparator,l=a.className,c=a.tagName,v=a.name,h=a.method,d=a.target,g=a.action,w=a.autocomplete,y=a.autoComplete,_=a.enctype,O=a.acceptcharset,b=a.noHtml5Validate,p=a.disabled,m=a.readonly,S=a.formContext,T=a._internalFormWrapper,M=this.state,L=M.schema,z=M.uiSchema,$=M.formData,A=M.errorSchema,P=M.idSchema,W=this.getRegistry(),K=W.fields.SchemaField,R=T?c:void 0,C=T||c||"form",D=W.widgets.SubmitButton;w&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var B=y||w;return ur.createElement(C,{className:l||"rjsf",id:f,name:v,method:h,target:d,action:g,autoComplete:B,encType:_,acceptCharset:O,noValidate:b,onSubmit:this.onSubmit,as:R,ref:function(N){i.formElement=N}},this.renderErrors(),ur.createElement(K,{schema:L,uiSchema:z,errorSchema:A,idSchema:P,idPrefix:u,idSeparator:s,formContext:S,formData:$,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:W,disabled:p,readonly:m}),o||F(D,{uiSchema:z}))},r}(_r);ME.defaultProps={uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,readonly:!1,noHtml5Validate:!1,ErrorList:DE,omitExtraData:!1};Q.exports.object,Q.exports.object;export{ME as F,vm as _,as as a,VE as b,Rm as c,Qu as d,Zv as e,Mw as f,$w as g,Kb as h,ys as i,ga as j,wm as k,hy as l,xy as m,Wl as p,os as s};
