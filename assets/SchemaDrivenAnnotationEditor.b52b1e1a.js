import{O as Jn,j as zn,P as Gn,Q as Xn,R as Qn,T as Zn,U as pt,V as ei,W as ti}from"./iframe.addcd329.js";import{u as ri,i as ni}from"./union.5c975efd.js";import{j as s,a as O,F as de}from"./jsx-runtime.00d70968.js";import{i as ii,n as ai,a as oi,f as li}from"./ajv.11a6ed17.js";import{p as E}from"./index.35ce73ec.js";import{_ as ui}from"./_copyArray.e9e4f405.js";import{i as Qr}from"./isEmpty.40fc1a36.js";import{g as si,B as di}from"./getEndpoint.bb7ded34.js";import{f as Zr,b0 as fr,bH as ci,bD as en,bI as fi,bJ as mi,aY as mr,bK as tn,bB as pi,bL as yi}from"./index.059e0d20.js";import"./assert.277c07bd.js";import{S as hi}from"./LoadingScreen.dc53f4e3.js";import{r as gi}from"./lodash.055561fb.js";import{u as vi,C as bi}from"./CalendarWithIconFormGroup.90311805.js";import{F as Si,A as We}from"./FullWidthAlert.a73af62a.js";import{a as Oi,C as _i}from"./Collapse.c0581257.js";import{c as Ne,b as pr,k as wi}from"./ToastMessage.0ffd35ff.js";import{c as rn,d as Ci}from"./Tooltip.02f85a09.js";import{B as ae}from"./Button.fda23eee.js";import{g as Fi,f as Pi}from"./groupBy.2b67d1c7.js";import{h as Ai}from"./moment.a565bb48.js";import{b as Ti}from"./use-deep-compare-effect.esm.76673280.js";import{a as Ar,v as Di,_ as Tr,g as $i,b as Ei,u as xi,S as Ni,c as Ri}from"./Select-54ac8379.esm.ab9e3904.js";import{_ as At}from"./toConsumableArray.8f496188.js";import{_ as ji}from"./objectWithoutProperties.a0dea5ce.js";import{M as Oe}from"./Modal.8f4b0da5.js";const Ii=rn(s("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})),nn=rn(s("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}));function qi(e,t){const{accessToken:n}=Zr();return fr(en.boundJSONSchema(e),()=>ci(e,n),t)}function Vu(e,t){const{accessToken:n}=Zr();return fr(en.schemaValidationResults(e),()=>fi(e,n),t)}function ki(e,t){return fr(["schema",e],async()=>(await mi(e)).validationSchema,t)}function Wi(e){var t=e.errors;return O("div",{className:"panel panel-danger errors",children:[s("div",{className:"panel-heading",children:s("h3",{className:"panel-title",children:"Errors"})}),s("ul",{className:"list-group",children:t.map(function(n,r){return s("li",{className:"list-group-item text-danger",children:n.stack},r)})})]})}var Vt={exports:{}},N={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=typeof Symbol=="function"&&Symbol.for,yr=V?Symbol.for("react.element"):60103,hr=V?Symbol.for("react.portal"):60106,yt=V?Symbol.for("react.fragment"):60107,ht=V?Symbol.for("react.strict_mode"):60108,gt=V?Symbol.for("react.profiler"):60114,vt=V?Symbol.for("react.provider"):60109,bt=V?Symbol.for("react.context"):60110,gr=V?Symbol.for("react.async_mode"):60111,St=V?Symbol.for("react.concurrent_mode"):60111,Ot=V?Symbol.for("react.forward_ref"):60112,_t=V?Symbol.for("react.suspense"):60113,Vi=V?Symbol.for("react.suspense_list"):60120,wt=V?Symbol.for("react.memo"):60115,Ct=V?Symbol.for("react.lazy"):60116,Bi=V?Symbol.for("react.block"):60121,Li=V?Symbol.for("react.fundamental"):60117,Mi=V?Symbol.for("react.responder"):60118,Ui=V?Symbol.for("react.scope"):60119;function M(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yr:switch(e=e.type,e){case gr:case St:case yt:case gt:case ht:case _t:return e;default:switch(e=e&&e.$$typeof,e){case bt:case Ot:case Ct:case wt:case vt:return e;default:return t}}case hr:return t}}}function an(e){return M(e)===St}N.AsyncMode=gr;N.ConcurrentMode=St;N.ContextConsumer=bt;N.ContextProvider=vt;N.Element=yr;N.ForwardRef=Ot;N.Fragment=yt;N.Lazy=Ct;N.Memo=wt;N.Portal=hr;N.Profiler=gt;N.StrictMode=ht;N.Suspense=_t;N.isAsyncMode=function(e){return an(e)||M(e)===gr};N.isConcurrentMode=an;N.isContextConsumer=function(e){return M(e)===bt};N.isContextProvider=function(e){return M(e)===vt};N.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yr};N.isForwardRef=function(e){return M(e)===Ot};N.isFragment=function(e){return M(e)===yt};N.isLazy=function(e){return M(e)===Ct};N.isMemo=function(e){return M(e)===wt};N.isPortal=function(e){return M(e)===hr};N.isProfiler=function(e){return M(e)===gt};N.isStrictMode=function(e){return M(e)===ht};N.isSuspense=function(e){return M(e)===_t};N.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yt||e===St||e===gt||e===ht||e===_t||e===Vi||typeof e=="object"&&e!==null&&(e.$$typeof===Ct||e.$$typeof===wt||e.$$typeof===vt||e.$$typeof===bt||e.$$typeof===Ot||e.$$typeof===Li||e.$$typeof===Mi||e.$$typeof===Ui||e.$$typeof===Bi)};N.typeOf=M;(function(e){e.exports=N})(Vt);var Ft={},Ki=/~/,Hi=/~[01]/g;function Yi(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function on(e){return Ki.test(e)?e.replace(Hi,Yi):e}function Ji(e,t,n){var r,i;if(t[1]==="constructor"&&t[2]==="prototype"||t[1]==="__proto__")return e;for(var a=1,o=t.length;a<o&&(r=on(t[a++]),i=o>a,typeof e[r]>"u"&&(Array.isArray(e)&&r==="-"&&(r=e.length),i&&(t[a]!==""&&t[a]<1/0||t[a]==="-"?e[r]=[]:e[r]={})),!!i);)e=e[r];var l=e[r];return n===void 0?delete e[r]:e[r]=n,l}function vr(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function ln(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=vr(t);var n=t.length;if(n===1)return e;for(var r=1;r<n;){if(e=e[on(t[r++])],n===r)return e;if(typeof e!="object")return}}function un(e,t,n){if(typeof e!="object")throw new Error("Invalid input object.");if(t=vr(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return Ji(e,t,n)}function zi(e){var t=vr(e);return{get:function(n){return ln(n,t)},set:function(n,r){return un(n,t,r)}}}Ft.get=ln;Ft.set=un;Ft.compile=zi;function Gi(e,t){if(e==null)return{};var n=Xi(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Xi(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ae(e){var t=e.type,n=t===void 0?"default":t,r=e.icon,i=e.className,a=Gi(e,["type","icon","className"]);return s("button",{type:"button",className:"btn btn-".concat(n," ").concat(i),...a,children:s("i",{className:"glyphicon glyphicon-".concat(r)})})}function br(e){var t=e.className,n=e.onClick,r=e.disabled;return s("div",{className:"row",children:s("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(t),children:s(Ae,{type:"info",icon:"plus",className:"btn-add col-xs-12","aria-label":"Add",tabIndex:"0",onClick:n,disabled:r})})})}var Qi=E.exports.shape({ArrayFieldTemplate:E.exports.elementType,FieldTemplate:E.exports.elementType,ObjectFieldTemplate:E.exports.elementType,definitions:E.exports.object.isRequired,rootSchema:E.exports.object,fields:E.exports.objectOf(E.exports.elementType).isRequired,formContext:E.exports.object.isRequired,widgets:E.exports.objectOf(E.exports.oneOfType([E.exports.func,E.exports.object])).isRequired});E.exports.bool,E.exports.bool,E.exports.object,E.exports.any,E.exports.object,E.exports.func,E.exports.func.isRequired,E.exports.func,E.exports.arrayOf(E.exports.string),E.exports.bool,Qi.isRequired,E.exports.bool,E.exports.object.isRequired,E.exports.shape({"ui:options":E.exports.shape({addable:E.exports.bool,orderable:E.exports.bool,removable:E.exports.bool})});function Me(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(n){return typeof n}:Me=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Me(e)}function Dr(e,t){if(e==null)return{};var n=Zi(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Zi(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Y(e,i,n[i])})}return e}function $r(e){return ra(e)||ta(e)||ea()}function ea(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ta(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ra(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t,n){return t&&Er(e.prototype,t),n&&Er(e,n),e}function aa(e,t){return t&&(Me(t)==="object"||typeof t=="function")?t:ee(e)}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bt(e)}function ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}function Lt(e,t){return Lt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Lt(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const la=window.React.Component;function sn(e){var t=e.TitleField,n=e.idSchema,r=e.title,i=e.required;if(!r)return null;var a="".concat(n.$id,"__title");return s(t,{id:a,title:r,required:i})}function ua(e){var t=e.DescriptionField,n=e.idSchema,r=e.description;if(!r)return null;var i="".concat(n.$id,"__description");return s(t,{id:i,description:r})}function dn(e){var t={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return O("div",{className:e.className,children:[s("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12",children:e.children}),e.hasToolbar&&s("div",{className:"col-xs-3 array-item-toolbox",children:O("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(e.hasMoveUp||e.hasMoveDown)&&s(Ae,{icon:"arrow-up","aria-label":"Move up",className:"array-item-move-up",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&s(Ae,{icon:"arrow-down",className:"array-item-move-down","aria-label":"Move down",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&s(Ae,{type:"danger",icon:"remove","aria-label":"Remove",className:"array-item-remove",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)})]})})]},e.key)}function sa(e){return O("fieldset",{className:e.className,id:e.idSchema.$id,children:[s(sn,{TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required},"array-field-title-".concat(e.idSchema.$id)),(e.uiSchema["ui:description"]||e.schema.description)&&s("div",{className:"field-description",children:e.uiSchema["ui:description"]||e.schema.description},"field-description-".concat(e.idSchema.$id)),s("div",{className:"row array-item-list",children:e.items&&e.items.map(dn)},"array-item-list-".concat(e.idSchema.$id)),e.canAdd&&s(br,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly})]})}function da(e){return O("fieldset",{className:e.className,id:e.idSchema.$id,children:[s(sn,{TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required},"array-field-title-".concat(e.idSchema.$id)),(e.uiSchema["ui:description"]||e.schema.description)&&s(ua,{DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description},"array-field-description-".concat(e.idSchema.$id)),s("div",{className:"row array-item-list",children:e.items&&e.items.map(function(t){return dn(t)})},"array-item-list-".concat(e.idSchema.$id)),e.canAdd&&s(br,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly})]})}function Mt(){return ai()}function xr(e){return Array.isArray(e)?e.map(function(t){return{key:Mt(),item:t}}):[]}function _e(e){return e.map(function(t){return t.item})}var cn=function(e){oa(t,e);function t(n){var r;na(this,t),r=aa(this,Bt(t).call(this,n)),Y(ee(r),"_getNewFormDataRow",function(){var o=r.props,l=o.schema,u=o.registry,d=u===void 0?L():u,c=d.rootSchema,f=l.items;return sr(l)&&Hr(l)&&(f=l.additionalItems),Pt(f,void 0,c)}),Y(ee(r),"onAddClick",function(o){o&&o.preventDefault();var l=r.props.onChange,u={key:Mt(),item:r._getNewFormDataRow()},d=[].concat($r(r.state.keyedFormData),[u]);r.setState({keyedFormData:d,updatedKeyedFormData:!0},function(){return l(_e(d))})}),Y(ee(r),"onAddIndexClick",function(o){return function(l){l&&l.preventDefault();var u=r.props.onChange,d={key:Mt(),item:r._getNewFormDataRow()},c=$r(r.state.keyedFormData);c.splice(o,0,d),r.setState({keyedFormData:c,updatedKeyedFormData:!0},function(){return u(_e(c))})}}),Y(ee(r),"onDropIndexClick",function(o){return function(l){l&&l.preventDefault();var u=r.props.onChange,d=r.state.keyedFormData,c;if(r.props.errorSchema){c={};var f=r.props.errorSchema;for(var m in f)m=parseInt(m),m<o?c[m]=f[m]:m>o&&(c[m-1]=f[m])}var p=d.filter(function(h,y){return y!==o});r.setState({keyedFormData:p,updatedKeyedFormData:!0},function(){return u(_e(p),c)})}}),Y(ee(r),"onReorderClick",function(o,l){return function(u){u&&(u.preventDefault(),u.target.blur());var d=r.props.onChange,c;if(r.props.errorSchema){c={};var f=r.props.errorSchema;for(var m in f)m==o?c[l]=f[o]:m==l?c[o]=f[l]:c[m]=f[m]}var p=r.state.keyedFormData;function h(){var v=p.slice();return v.splice(o,1),v.splice(l,0,p[o]),v}var y=h();r.setState({keyedFormData:y},function(){return d(_e(y),c)})}}),Y(ee(r),"onChangeForIndex",function(o){return function(l,u){var d=r.props,c=d.formData,f=d.onChange,m=c.map(function(p,h){var y=typeof l>"u"?null:l;return o===h?y:p});f(m,u&&r.props.errorSchema&&Tt({},r.props.errorSchema,Y({},o,u)))}}),Y(ee(r),"onSelectChange",function(o){r.props.onChange(o)});var i=n.formData,a=xr(i);return r.state={keyedFormData:a,updatedKeyedFormData:!1},r}return ia(t,[{key:"isItemRequired",value:function(r){return Array.isArray(r.type)?!ii(r.type,"null"):r.type!=="null"}},{key:"canAddItem",value:function(r){var i=this.props,a=i.schema,o=i.uiSchema,l=oe(o),u=l.addable;return u!==!1&&(a.maxItems!==void 0?u=r.length<a.maxItems:u=!0),u}},{key:"render",value:function(){var r=this.props,i=r.schema,a=r.uiSchema,o=r.idSchema,l=r.registry,u=l===void 0?L():l,d=u.rootSchema;if(!i.hasOwnProperty("items")){var c=u.fields,f=c.UnsupportedField;return s(f,{schema:i,idSchema:o,reason:"Missing items definition"})}return sr(i)?this.renderFixedArray():kn(i,a,d)?this.renderFiles():wr(i,d)?this.renderMultiSelect():this.renderNormalArray()}},{key:"renderNormalArray",value:function(){var r=this,i=this.props,a=i.schema,o=i.uiSchema,l=i.errorSchema,u=i.idSchema,d=i.name,c=i.required,f=i.disabled,m=i.readonly,p=i.autofocus,h=i.registry,y=h===void 0?L():h,v=i.onBlur,g=i.onFocus,S=i.idPrefix,b=i.rawErrors,_=a.title===void 0?d:a.title,F=y.ArrayFieldTemplate,w=y.rootSchema,P=y.fields,C=y.formContext,A=P.TitleField,$=P.DescriptionField,R=I(a.items,w),D=_e(this.state.keyedFormData),j={canAdd:this.canAddItem(D),items:this.state.keyedFormData.map(function(T,q){var k=T.key,J=T.item,Q=I(a.items,w,J),Z=l?l[q]:void 0,pe=u.$id+"_"+q,be=ce(Q,pe,w,J,S);return r.renderArrayFieldItem({key:k,index:q,canMoveUp:q>0,canMoveDown:q<D.length-1,itemSchema:Q,itemIdSchema:be,itemErrorSchema:Z,itemData:J,itemUiSchema:o.items,autofocus:p&&q===0,onBlur:v,onFocus:g})}),className:"field field-array field-array-of-".concat(R.type),DescriptionField:$,disabled:f,idSchema:u,uiSchema:o,onAddClick:this.onAddClick,readonly:m,required:c,schema:a,title:_,TitleField:A,formContext:C,formData:D,rawErrors:b,registry:y},x=o["ui:ArrayFieldTemplate"]||F||da;return s(x,{...j})}},{key:"renderMultiSelect",value:function(){var r=this.props,i=r.schema,a=r.idSchema,o=r.uiSchema,l=r.formData,u=r.disabled,d=r.readonly,c=r.required,f=r.placeholder,m=r.autofocus,p=r.onBlur,h=r.onFocus,y=r.registry,v=y===void 0?L():y,g=r.rawErrors,S=r.name,b=this.props.formData,_=v.widgets,F=v.rootSchema,w=v.formContext,P=I(i.items,F,l),C=i.title||S,A=mt(P),$=Tt({},oe(o),{enumOptions:A}),R=$.widget,D=R===void 0?"select":R,j=Dr($,["widget"]),x=X(i,D,_);return s(x,{id:a&&a.$id,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:h,options:j,schema:i,registry:v,value:b,disabled:u,readonly:d,required:c,label:C,placeholder:f,formContext:w,autofocus:m,rawErrors:g})}},{key:"renderFiles",value:function(){var r=this.props,i=r.schema,a=r.uiSchema,o=r.idSchema,l=r.name,u=r.disabled,d=r.readonly,c=r.autofocus,f=r.onBlur,m=r.onFocus,p=r.registry,h=p===void 0?L():p,y=r.rawErrors,v=i.title||l,g=this.props.formData,S=h.widgets,b=h.formContext,_=oe(a),F=_.widget,w=F===void 0?"files":F,P=Dr(_,["widget"]),C=X(i,w,S);return s(C,{options:P,id:o&&o.$id,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:m,schema:i,title:v,value:g,disabled:u,readonly:d,formContext:b,autofocus:c,rawErrors:y})}},{key:"renderFixedArray",value:function(){var r=this,i=this.props,a=i.schema,o=i.uiSchema,l=i.formData,u=i.errorSchema,d=i.idPrefix,c=i.idSchema,f=i.name,m=i.required,p=i.disabled,h=i.readonly,y=i.autofocus,v=i.registry,g=v===void 0?L():v,S=i.onBlur,b=i.onFocus,_=i.rawErrors,F=a.title||f,w=this.props.formData,P=g.ArrayFieldTemplate,C=g.rootSchema,A=g.fields,$=g.formContext,R=A.TitleField,D=a.items.map(function(q,k){return I(q,C,l[k])}),j=Hr(a)?I(a.additionalItems,C,l):null;(!w||w.length<D.length)&&(w=w||[],w=w.concat(new Array(D.length-w.length)));var x={canAdd:this.canAddItem(w)&&j,className:"field field-array field-array-fixed-items",disabled:p,idSchema:c,formData:l,items:this.state.keyedFormData.map(function(q,k){var J=q.key,Q=q.item,Z=k>=D.length,pe=Z?I(a.additionalItems,C,Q):D[k],be=c.$id+"_"+k,Se=ce(pe,be,C,Q,d),Hn=Z?o.additionalItems||{}:Array.isArray(o.items)?o.items[k]:o.items||{},Yn=u?u[k]:void 0;return r.renderArrayFieldItem({key:J,index:k,canRemove:Z,canMoveUp:k>=D.length+1,canMoveDown:Z&&k<w.length-1,itemSchema:pe,itemData:Q,itemUiSchema:Hn,itemIdSchema:Se,itemErrorSchema:Yn,autofocus:y&&k===0,onBlur:S,onFocus:b})}),onAddClick:this.onAddClick,readonly:h,required:m,schema:a,uiSchema:o,title:F,TitleField:R,formContext:$,rawErrors:_},T=o["ui:ArrayFieldTemplate"]||P||sa;return s(T,{...x})}},{key:"renderArrayFieldItem",value:function(r){var i=r.key,a=r.index,o=r.canRemove,l=o===void 0?!0:o,u=r.canMoveUp,d=u===void 0?!0:u,c=r.canMoveDown,f=c===void 0?!0:c,m=r.itemSchema,p=r.itemData,h=r.itemUiSchema,y=r.itemIdSchema,v=r.itemErrorSchema,g=r.autofocus,S=r.onBlur,b=r.onFocus,_=r.rawErrors,F=this.props,w=F.disabled,P=F.readonly,C=F.uiSchema,A=F.registry,$=A===void 0?L():A,R=$.fields.SchemaField,D=Tt({orderable:!0,removable:!0},C["ui:options"]),j=D.orderable,x=D.removable,T={moveUp:j&&d,moveDown:j&&f,remove:x&&l};return T.toolbar=Object.keys(T).some(function(q){return T[q]}),{children:s(R,{index:a,schema:m,uiSchema:h,formData:p,errorSchema:v,idSchema:y,required:this.isItemRequired(m),onChange:this.onChangeForIndex(a),onBlur:S,onFocus:b,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:g,rawErrors:_}),className:"array-item",disabled:w,hasToolbar:T.toolbar,hasMoveUp:T.moveUp,hasMoveDown:T.moveDown,hasRemove:T.remove,index:a,key:i,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:P}}},{key:"itemTitle",get:function(){var r=this.props.schema;return r.items.title||r.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(r,i){if(i.updatedKeyedFormData)return{updatedKeyedFormData:!1};var a=r.formData||[],o=i.keyedFormData||[],l=a.length===o.length?o.map(function(u,d){return{key:u.key,item:a[d]}}):xr(a);return{keyedFormData:l}}}]),t}(la);Y(cn,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1});function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ca(e,i,n[i])})}return e}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t){if(e==null)return{};var n=ma(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function ma(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fn(e){var t=e.schema,n=e.name,r=e.uiSchema,i=e.idSchema,a=e.formData,o=e.registry,l=o===void 0?L():o,u=e.required,d=e.disabled,c=e.readonly,f=e.autofocus,m=e.onChange,p=e.onFocus,h=e.onBlur,y=e.rawErrors,v=t.title,g=l.widgets,S=l.formContext,b=l.fields,_=oe(r),F=_.widget,w=F===void 0?"checkbox":F,P=fa(_,["widget"]),C=X(t,w,g),A;return Array.isArray(t.oneOf)?A=mt({oneOf:t.oneOf.map(function($){return Nr({},$,{title:$.title||($.const===!0?"Yes":"No")})})}):A=mt({enum:t.enum||[!0,!1],enumNames:t.enumNames||(t.enum&&t.enum[0]===!1?["No","Yes"]:["Yes","No"])}),s(C,{options:Nr({},P,{enumOptions:A}),schema:t,id:i&&i.$id,onChange:m,onFocus:p,onBlur:h,label:v===void 0?n:v,value:a,required:u,disabled:d,readonly:c,registry:l,formContext:S,autofocus:f,rawErrors:y,DescriptionField:b.DescriptionField})}fn.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};function pa(e){var t=e.id,n=e.description;return n?typeof n=="string"?s("p",{id:t,className:"field-description",children:n}):s("div",{id:t,className:"field-description",children:n}):null}function Ue(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ue=function(n){return typeof n}:Ue=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ue(e)}function ya(e,t){if(e==null)return{};var n=ha(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function ha(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t,n){return t&&Rr(e.prototype,t),n&&Rr(e,n),e}function ba(e,t){return t&&(Ue(t)==="object"||typeof t=="function")?t:mn(e)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ut(e)}function mn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}function Kt(e,t){return Kt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kt(e,t)}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _a=window.React,wa=window.React.Component;var Ht=function(e){Sa(t,e);function t(n){var r;ga(this,t),r=ba(this,Ut(t).call(this,n)),Oa(mn(r),"onOptionChange",function(l){var u=parseInt(l,10),d=r.props,c=d.formData,f=d.onChange,m=d.options,p=d.registry,h=p.rootSchema,y=I(m[u],h,c),v=void 0;if(je(c)==="object"&&(y.type==="object"||y.properties)){v=Object.assign({},c);var g=m.slice();g.splice(u,1);var S=!0,b=!1,_=void 0;try{for(var F=g[Symbol.iterator](),w;!(S=(w=F.next()).done);S=!0){var P=w.value;if(P.properties)for(var C in P.properties)v.hasOwnProperty(C)&&delete v[C]}}catch(A){b=!0,_=A}finally{try{!S&&F.return!=null&&F.return()}finally{if(b)throw _}}}f(Pt(m[u],v,h)),r.setState({selectedOption:parseInt(l,10)})});var i=r.props,a=i.formData,o=i.options;return r.state={selectedOption:r.getMatchingOption(a,o)},r}return va(t,[{key:"componentDidUpdate",value:function(r,i){if(!H(this.props.formData,r.formData)&&this.props.idSchema.$id===r.idSchema.$id){var a=this.getMatchingOption(this.props.formData,this.props.options);if(!i||a===this.state.selectedOption)return;this.setState({selectedOption:a})}}},{key:"getMatchingOption",value:function(r,i){var a=this.props.registry.rootSchema,o=qe(r,i,a);return o!==0?o:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var r=this.props,i=r.baseType,a=r.disabled,o=r.errorSchema,l=r.formData,u=r.idPrefix,d=r.idSchema,c=r.onBlur,f=r.onChange,m=r.onFocus,p=r.options,h=r.registry,y=r.uiSchema,v=r.schema,g=h.fields.SchemaField,S=h.widgets,b=this.state.selectedOption,_=oe(y),F=_.widget,w=F===void 0?"select":F,P=ya(_,["widget"]),C=X({type:"number"},w,S),A=p[b]||null,$;A&&($=A.type?A:Object.assign({},A,{type:i}));var R=p.map(function(D,j){return{label:D.title||"Option ".concat(j+1),value:j}});return O("div",{className:"panel panel-default panel-body",children:[s("div",{className:"form-group",children:s(C,{id:"".concat(d.$id).concat(v.oneOf?"__oneof_select":"__anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:c,onFocus:m,value:b,options:{enumOptions:R},...P})}),A!==null&&_a.createElement(g,{schema:$,uiSchema:y,errorSchema:o,idSchema:d,idPrefix:u,formData:l,onChange:f,onBlur:c,onFocus:m,registry:h,disabled:a})]})}}]),t}(wa);Ht.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};function Ke(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(n){return typeof n}:Ke=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ke(e)}function Ca(e,t){if(e==null)return{};var n=Fa(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Fa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t,n){return t&&jr(e.prototype,t),n&&jr(e,n),e}function Ta(e,t){return t&&(Ke(t)==="object"||typeof t=="function")?t:pn(e)}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yt(e)}function pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}function Jt(e,t){return Jt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jt(e,t)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ea=window.React;var xa=/\.([0-9]*0)*$/,Na=/[0.]0*$/,yn=function(e){Da(t,e);function t(n){var r;return Pa(this,t),r=Ta(this,Yt(t).call(this,n)),$a(pn(r),"handleChange",function(i){r.setState({lastValue:i}),"".concat(i).charAt(0)==="."&&(i="0".concat(i));var a=typeof i=="string"&&i.match(xa)?Te(i.replace(Na,"")):Te(i);r.props.onChange(a)}),r.state={lastValue:n.value},r}return Aa(t,[{key:"render",value:function(){var r=this.props.registry.fields.StringField,i=this.props,a=i.formData,o=Ca(i,["formData"]),l=this.state.lastValue,u=a;if(typeof l=="string"&&typeof u=="number"){var d=new RegExp("".concat(u).replace(".","\\.")+"\\.?0*$");l.match(d)&&(u=l)}return s(r,{...o,formData:u,onChange:this.handleChange})}}]),t}(Ea.Component);yn.defaultProps={uiSchema:{}};function He(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(n){return typeof n}:He=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},He(e)}function Ra(e){return qa(e)||Ia(e)||ja()}function ja(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ia(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function qa(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){B(e,i,n[i])})}return e}function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),e}function Va(e,t){return t&&(He(t)==="object"||typeof t=="function")?t:le(e)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zt(e)}function le(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}function Gt(e,t){return Gt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gt(e,t)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const La=window.React.Component;function Ma(e){var t=e.TitleField,n=e.DescriptionField;return O("fieldset",{id:e.idSchema.$id,children:[(e.uiSchema["ui:title"]||e.title)&&s(t,{id:"".concat(e.idSchema.$id,"__title"),title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&s(n,{id:"".concat(e.idSchema.$id,"__description"),description:e.description,formContext:e.formContext}),e.properties.map(function(r){return r.content}),qn(e.schema,e.uiSchema,e.formData)&&s(br,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly})]})}var hn=function(e){Ba(t,e);function t(){var n,r;ka(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=Va(this,(n=zt(t)).call.apply(n,[this].concat(a))),B(le(r),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),B(le(r),"onPropertyChange",function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function(d,c){!d&&u&&(d="");var f=ye({},r.props.formData,B({},l,d));r.props.onChange(f,c&&r.props.errorSchema&&ye({},r.props.errorSchema,B({},l,c)))}}),B(le(r),"onDropPropertyClick",function(l){return function(u){u.preventDefault();var d=r.props,c=d.onChange,f=d.formData,m=ye({},f);delete m[l],c(m)}}),B(le(r),"getAvailableKey",function(l,u){for(var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"-",c=0,f=l;u.hasOwnProperty(f);)f="".concat(l).concat(d).concat(++c);return f}),B(le(r),"onKeyChange",function(l){return function(u,d){if(l!==u){u=r.getAvailableKey(u,r.props.formData,r.props.uiSchema["ui:DuplicateKeySuffixSeparator"]);var c=ye({},r.props.formData),f=B({},l,u),m=Object.keys(c).map(function(h){var y=f[h]||h;return B({},y,c[h])}),p=Object.assign.apply(Object,[{}].concat(Ra(m)));r.setState({wasPropertyKeyModified:!0}),r.props.onChange(p,d&&r.props.errorSchema&&ye({},r.props.errorSchema,B({},u,d)))}}}),B(le(r),"handleAddClick",function(l){return function(){var u=l.additionalProperties.type,d=ye({},r.props.formData);if(l.additionalProperties.hasOwnProperty("$ref")){var c=r.props.registry,f=c===void 0?L():c,m=I({$ref:l.additionalProperties.$ref},f.rootSchema,r.props.formData);u=m.type}d[r.getAvailableKey("newKey",d,r.props.uiSchema["ui:DuplicateKeySuffixSeparator"])]=r.getDefaultValue(u),r.props.onChange(d)}}),r}return Wa(t,[{key:"isRequired",value:function(r){var i=this.props.schema;return Array.isArray(i.required)&&i.required.indexOf(r)!==-1}},{key:"getDefaultValue",value:function(r){switch(r){case"string":return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return"New Value"}}},{key:"render",value:function(){var r=this,i=this.props,a=i.uiSchema,o=i.formData,l=i.errorSchema,u=i.idSchema,d=i.name,c=i.required,f=i.disabled,m=i.readonly,p=i.idPrefix,h=i.onBlur,y=i.onFocus,v=i.registry,g=v===void 0?L():v,S=g.rootSchema,b=g.fields,_=g.formContext,F=b.SchemaField,w=b.TitleField,P=b.DescriptionField,C=I(this.props.schema,S,o),A=C.title===void 0?d:C.title,$=a["ui:description"]||C.description,R;try{var D=Object.keys(C.properties||{});R=Nl(D,a["ui:order"])}catch(T){return O("div",{children:[O("p",{className:"config-error",style:{color:"red"},children:["Invalid ",d||"root"," object field configuration:",s("em",{children:T.message}),"."]}),s("pre",{children:JSON.stringify(C)})]})}var j=a["ui:ObjectFieldTemplate"]||g.ObjectFieldTemplate||Ma,x={title:a["ui:title"]||A,description:$,TitleField:w,DescriptionField:P,properties:R.map(function(T){var q=C.properties[T].hasOwnProperty(ke),k=q?a.additionalProperties:a[T],J=k&&k["ui:widget"]==="hidden";return{content:s(F,{name:T,required:r.isRequired(T),schema:C.properties[T],uiSchema:k,errorSchema:l[T],idSchema:u[T],idPrefix:p,formData:(o||{})[T],wasPropertyKeyModified:r.state.wasPropertyKeyModified,onKeyChange:r.onKeyChange(T),onChange:r.onPropertyChange(T,q),onBlur:h,onFocus:y,registry:g,disabled:f,readonly:m,onDropPropertyClick:r.onDropPropertyClick},T),name:T,readonly:m,disabled:f,required:c,hidden:J}}),readonly:m,disabled:f,required:c,idSchema:u,uiSchema:a,schema:C,formData:o,formContext:_,registry:g};return s(j,{...x,onAddClick:this.handleAddClick})}}]),t}(La);B(hn,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});function Ye(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(n){return typeof n}:Ye=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ye(e)}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&qr(e.prototype,t),n&&qr(e,n),e}function Ha(e,t){return t&&(Ye(t)==="object"||typeof t=="function")?t:Ya(e)}function Ya(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xt(e)}function Ja(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}function Qt(e,t){return Qt=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Qt(e,t)}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ga(e,i,n[i])})}return e}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xa(e,t){if(e==null)return{};var n=Qa(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Qa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Zt=window.React;var Za="*",eo={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function to(e,t,n,r){var i=t["ui:field"];if(typeof i=="function")return i;if(typeof i=="string"&&i in r)return r[i];var a=eo[ge(e)];return!a&&(e.anyOf||e.oneOf)?function(){return null}:a in r?r[a]:function(){var o=r.UnsupportedField;return s(o,{schema:e,idSchema:n,reason:"Unknown field type ".concat(e.type)})}}function gn(e){var t=e.label,n=e.required,r=e.id;return t?O("label",{className:"control-label",htmlFor:r,children:[t,n&&s("span",{className:"required",children:Za})]}):null}function ro(e){var t=e.id,n=e.label,r=e.onChange;return s("input",{className:"form-control",type:"text",id:t,onBlur:function(a){return r(a.target.value)},defaultValue:n})}function no(e){var t=e.id,n=e.help;return n?typeof n=="string"?s("p",{id:t,className:"help-block",children:n}):s("div",{id:t,className:"help-block",children:n}):null}function io(e){var t=e.errors,n=t===void 0?[]:t;return n.length===0?null:s("div",{children:s("ul",{className:"error-detail bs-callout bs-callout-info",children:n.filter(function(r){return!!r}).map(function(r,i){return s("li",{className:"text-danger",children:r},i)})})})}function vn(e){var t=e.id,n=e.label,r=e.children,i=e.errors,a=e.help,o=e.description,l=e.hidden,u=e.required,d=e.displayLabel;return l?s("div",{className:"hidden",children:r}):O(ao,{...e,children:[d&&s(gn,{label:n,required:u,id:t}),d&&o?o:null,r,i,a]})}vn.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};function ao(e){var t=e.id,n=e.classNames,r=e.disabled,i=e.label,a=e.onKeyChange,o=e.onDropPropertyClick,l=e.readonly,u=e.required,d=e.schema,c="".concat(i," Key"),f=d.hasOwnProperty(ke);return f?s("div",{className:n,children:O("div",{className:"row",children:[s("div",{className:"col-xs-5 form-additional",children:O("div",{className:"form-group",children:[s(gn,{label:c,required:u,id:"".concat(t,"-key")}),s(ro,{label:i,required:u,id:"".concat(t,"-key"),onChange:a})]})}),s("div",{className:"form-additional form-group col-xs-5",children:e.children}),s("div",{className:"col-xs-2",children:s(Ae,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:r||l,onClick:o(i)})})]})}):s("div",{className:n,children:e.children})}function oo(e){var t=e.uiSchema,n=e.formData,r=e.errorSchema,i=e.idPrefix,a=e.name,o=e.onChange,l=e.onKeyChange,u=e.onDropPropertyClick,d=e.required,c=e.registry,f=c===void 0?L():c,m=e.wasPropertyKeyModified,p=m===void 0?!1:m,h=f.rootSchema,y=f.fields,v=f.formContext,g=t["ui:FieldTemplate"]||f.FieldTemplate||vn,S=e.idSchema,b=I(e.schema,h,n);S=ie(ce(b,null,h,n,i),S);var _=to(b,t,S,y),F=y.DescriptionField,w=Boolean(e.disabled||t["ui:disabled"]),P=Boolean(e.readonly||t["ui:readonly"]||e.schema.readOnly||b.readOnly),C=Boolean(e.autofocus||t["ui:autofocus"]);if(Object.keys(b).length===0)return null;var A=xl(b,t,h),$=r.__errors,R=Xa(r,["__errors"]),D=s(_,{...e,idSchema:S,schema:b,uiSchema:za({},t,{classNames:void 0}),disabled:w,readonly:P,autofocus:C,errorSchema:R,formContext:v,rawErrors:$}),j=S.$id,x;p?x=a:x=t["ui:title"]||e.schema.title||b.title||a;var T=t["ui:description"]||e.schema.description||b.description,q=$,k=t["ui:help"],J=t["ui:widget"]==="hidden",Q=["form-group","field","field-".concat(b.type),q&&q.length>0?"field-error has-error has-danger":"",t.classNames].join(" ").trim(),Z={description:s(F,{id:j+"__description",description:T,formContext:v}),rawDescription:T,help:s(no,{id:j+"__help",help:k}),rawHelp:typeof k=="string"?k:void 0,errors:s(io,{errors:q}),rawErrors:q,id:j,label:x,hidden:J,onChange:o,onKeyChange:l,onDropPropertyClick:u,required:d,disabled:w,readonly:P,displayLabel:A,classNames:Q,formContext:v,formData:n,fields:y,schema:b,uiSchema:t,registry:f},pe=f.fields.AnyOfField,be=f.fields.OneOfField;return s(g,{...Z,children:O(de,{children:[D,b.anyOf&&!ft(b)&&Zt.createElement(pe,{disabled:w,errorSchema:r,formData:n,idPrefix:i,idSchema:S,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:b.anyOf.map(function(Se){return I(Se,h,n)}),baseType:b.type,registry:f,schema:b,uiSchema:t}),b.oneOf&&!ft(b)&&Zt.createElement(be,{disabled:w,errorSchema:r,formData:n,idPrefix:i,idSchema:S,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:b.oneOf.map(function(Se){return I(Se,h,n)}),baseType:b.type,registry:f,schema:b,uiSchema:t})]})})}var bn=function(e){Ja(t,e);function t(){return Ua(this,t),Ha(this,Xt(t).apply(this,arguments))}return Ka(t,[{key:"shouldComponentUpdate",value:function(r,i){return!H(this.props,r)}},{key:"render",value:function(){return oo(this.props)}}]),t}(Zt.Component);bn.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){uo(e,i,n[i])})}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t){if(e==null)return{};var n=co(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function co(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Sn(e){var t=e.schema,n=e.name,r=e.uiSchema,i=e.idSchema,a=e.formData,o=e.required,l=e.disabled,u=e.readonly,d=e.autofocus,c=e.onChange,f=e.onBlur,m=e.onFocus,p=e.registry,h=p===void 0?L():p,y=e.rawErrors,v=t.title,g=t.format,S=h.widgets,b=h.formContext,_=ft(t)&&mt(t),F=_?"select":"text";g&&$l(t,g,S)&&(F=g);var w=oe(r),P=w.widget,C=P===void 0?F:P,A=w.placeholder,$=A===void 0?"":A,R=so(w,["widget","placeholder"]),D=X(t,C,S);return s(D,{options:lo({},R,{enumOptions:_}),schema:t,uiSchema:r,id:i&&i.$id,label:v===void 0?n:v,value:a,onChange:c,onBlur:f,onFocus:m,required:o,disabled:l,readonly:u,formContext:b,autofocus:d,registry:h,placeholder:$,rawErrors:y})}Sn.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var fo="*";function mo(e){var t=e.id,n=e.title,r=e.required;return O("legend",{id:t,children:[n,r&&s("span",{className:"required",children:fo})]})}function Je(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Je=function(n){return typeof n}:Je=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Je(e)}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t,n){return t&&kr(e.prototype,t),n&&kr(e,n),e}function ho(e,t){return t&&(Je(t)==="object"||typeof t=="function")?t:go(e)}function go(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},er(e)}function vo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}function tr(e,t){return tr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},tr(e,t)}const bo=window.React.Component;var So=function(e){vo(t,e);function t(){return po(this,t),ho(this,er(t).apply(this,arguments))}return yo(t,[{key:"componentDidMount",value:function(){this.props.formData===void 0&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),t}(bo);function Oo(e){var t=e.schema,n=e.idSchema,r=e.reason;return O("div",{className:"unsupported-field",children:[O("p",{children:["Unsupported field schema",n&&n.$id&&O("span",{children:[" for"," field ",s("code",{children:n.$id})]}),r&&O("em",{children:[": ",r]}),"."]}),t&&s("pre",{children:JSON.stringify(t,null,2)})]})}const _o={AnyOfField:Ht,ArrayField:cn,BooleanField:fn,DescriptionField:pa,NumberField:yn,ObjectField:hn,OneOfField:Ht,SchemaField:bn,StringField:Sn,TitleField:mo,NullField:So,UnsupportedField:Oo};function ze(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ze=function(n){return typeof n}:ze=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ze(e)}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e,t,n){return t&&Wr(e.prototype,t),n&&Wr(e,n),e}function Fo(e,t){return t&&(ze(t)==="object"||typeof t=="function")?t:Ge(e)}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rr(e)}function Ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}function nr(e,t){return nr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},nr(e,t)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ao=window.React.Component;function To(e,t){for(var n=[],r=e;r<=t;r++)n.push({value:r,label:re(r,2)});return n}function Do(e){return Object.keys(e).every(function(t){return e[t]!==-1})}function $o(e){var t=e.type,n=e.range,r=e.value,i=e.select,a=e.rootId,o=e.disabled,l=e.readonly,u=e.autofocus,d=e.registry,c=e.onBlur,f=a+"_"+t,m=d.widgets.SelectWidget;return s(m,{schema:{type:"integer"},id:f,className:"form-control",options:{enumOptions:To(n[0],n[1])},placeholder:t,value:r,disabled:o,readonly:l,autofocus:u,onChange:function(h){return i(t,h)},onBlur:c})}var Sr=function(e){Po(t,e);function t(n){var r;return wo(this,t),r=Fo(this,rr(t).call(this,n)),Pe(Ge(r),"onChange",function(i,a){r.setState(Pe({},i,typeof a>"u"?-1:a),function(){Do(r.state)&&r.props.onChange(Yr(r.state,r.props.time))})}),Pe(Ge(r),"setNow",function(i){i.preventDefault();var a=r.props,o=a.time,l=a.disabled,u=a.readonly,d=a.onChange;if(!(l||u)){var c=Ce(new Date().toJSON(),o);r.setState(c,function(){return d(Yr(r.state,o))})}}),Pe(Ge(r),"clear",function(i){i.preventDefault();var a=r.props,o=a.time,l=a.disabled,u=a.readonly,d=a.onChange;l||u||r.setState(Ce("",o),function(){return d(void 0)})}),r.state=Ce(n.value,n.time),r}return Co(t,[{key:"componentDidUpdate",value:function(r,i){r.value&&r.value!==Ce(this.props.value,this.props.time)&&this.setState(Ce(this.props.value,this.props.time))}},{key:"shouldComponentUpdate",value:function(r,i){return Fr(this,r,i)}},{key:"render",value:function(){var r=this,i=this.props,a=i.id,o=i.disabled,l=i.readonly,u=i.autofocus,d=i.registry,c=i.onBlur,f=i.options;return O("ul",{className:"list-inline",children:[this.dateElementProps.map(function(m,p){return s("li",{children:s($o,{rootId:a,select:r.onChange,...m,disabled:o,readonly:l,registry:d,onBlur:c,autofocus:u&&p===0})},p)}),(f.hideNowButton!=="undefined"?!f.hideNowButton:!0)&&s("li",{children:s("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow,children:"Now"})}),(f.hideClearButton!=="undefined"?!f.hideClearButton:!0)&&s("li",{children:s("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear,children:"Clear"})})]})}},{key:"dateElementProps",get:function(){var r=this.props,i=r.time,a=r.options,o=this.state,l=o.year,u=o.month,d=o.day,c=o.hour,f=o.minute,m=o.second,p=[{type:"year",range:a.yearsRange,value:l},{type:"month",range:[1,12],value:u},{type:"day",range:[1,31],value:d}];return i&&p.push({type:"hour",range:[0,23],value:c},{type:"minute",range:[0,59],value:f},{type:"second",range:[0,59],value:m}),p}}]),t}(Ao);Pe(Sr,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,new Date().getFullYear()+2]}});function Eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){xo(e,i,n[i])})}return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e){var t=e.registry.widgets.AltDateWidget;return s(t,{time:!0,...e})}On.defaultProps=Eo({},Sr.defaultProps,{time:!0});function No(e){return Io(e)||jo(e)||Ro()}function Ro(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function jo(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Io(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function qo(e,t){if(e==null)return{};var n=ko(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function ko(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _n(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props ".concat(JSON.stringify(e)));var t=e.value,n=e.readonly,r=e.disabled,i=e.autofocus,a=e.onBlur,o=e.onFocus,l=e.options,u=e.schema;e.uiSchema,e.formContext,e.registry,e.rawErrors;var d=qo(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","uiSchema","formContext","registry","rawErrors"]);l.inputType?d.type=l.inputType:d.type||(u.type==="number"?(d.type="number",d.step="any"):u.type==="integer"?(d.type="number",d.step="1"):d.type="text"),l.autocomplete&&(d.autoComplete=l.autocomplete),u.multipleOf&&(d.step=u.multipleOf),typeof u.minimum<"u"&&(d.min=u.minimum),typeof u.maximum<"u"&&(d.max=u.maximum);var c=function(m){var p=m.target.value;return e.onChange(p===""?l.emptyValue:p)};return[s("input",{className:"form-control",readOnly:n,disabled:r,autoFocus:i,value:t==null?"":t,...d,list:u.examples?"examples_".concat(d.id):null,onChange:c,onBlur:a&&function(f){return a(d.id,f.target.value)},onFocus:o&&function(f){return o(d.id,f.target.value)}},d.id),u.examples?s("datalist",{id:"examples_".concat(d.id),children:No(new Set(u.examples.concat(u.default?[u.default]:[]))).map(function(f){return s("option",{value:f},f)})},"datalist_".concat(d.id)):null]}_n.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};function wn(e){var t=e.schema,n=e.id,r=e.value,i=e.disabled,a=e.readonly,o=e.label,l=e.autofocus,u=e.onBlur,d=e.onFocus,c=e.onChange,f=e.DescriptionField,m=Qe(t);return O("div",{className:"checkbox ".concat(i||a?"disabled":""),children:[t.description&&s(f,{description:t.description}),O("label",{children:[s("input",{type:"checkbox",id:n,checked:typeof r>"u"?!1:r,required:m,disabled:i||a,autoFocus:l,onChange:function(h){return c(h.target.checked)},onBlur:u&&function(p){return u(n,p.target.checked)},onFocus:d&&function(p){return d(n,p.target.checked)}}),s("span",{children:o})]})]})}wn.defaultProps={autofocus:!1};function Wo(e,t,n){var r=n.indexOf(e),i=t.slice(0,r).concat(e,t.slice(r));return i.sort(function(a,o){return n.indexOf(a)>n.indexOf(o)})}function Vo(e,t){return t.filter(function(n){return n!==e})}function Cn(e){var t=e.id,n=e.disabled,r=e.options,i=e.value,a=e.autofocus,o=e.readonly,l=e.onChange,u=r.enumOptions,d=r.enumDisabled,c=r.inline;return s("div",{className:"checkboxes",id:t,children:u.map(function(f,m){var p=i.indexOf(f.value)!==-1,h=d&&d.indexOf(f.value)!=-1,y=n||h||o?"disabled":"",v=O("span",{children:[s("input",{type:"checkbox",id:"".concat(t,"_").concat(m),checked:p,disabled:n||h||o,autoFocus:a&&m===0,onChange:function(S){var b=u.map(function(_){var F=_.value;return F});S.target.checked?l(Wo(f.value,i,b)):l(Vo(f.value,i))}}),s("span",{children:f.label})]});return c?s("label",{className:"checkbox-inline ".concat(y),children:v},m):s("div",{className:"checkbox ".concat(y),children:s("label",{children:v})},m)})})}Cn.defaultProps={autofocus:!1,options:{inline:!1}};function Bo(e){var t=e.disabled,n=e.readonly,r=e.registry.widgets.BaseInput;return s(r,{type:"color",...e,disabled:t||n})}function Lo(e){var t=e.onChange,n=e.registry.widgets.BaseInput;return s(n,{type:"date",...e,onChange:function(i){return t(i||void 0)}})}function Mo(e){var t=e.value,n=e.onChange,r=e.registry.widgets.BaseInput;return s(r,{type:"datetime-local",...e,value:Ll(t),onChange:function(a){return n(Ml(a))}})}function Uo(e){var t=e.registry.widgets.BaseInput;return s(t,{type:"email",...e})}function Xe(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xe=function(n){return typeof n}:Xe=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xe(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t,n){return t&&Vr(e.prototype,t),n&&Vr(e,n),e}function Yo(e,t){return t&&(Xe(t)==="object"||typeof t=="function")?t:Fn(e)}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ir(e)}function Fn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}function ar(e,t){return ar=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ar(e,t)}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Go=window.React.Component;function Xo(e,t){return e.replace(";base64",";name=".concat(encodeURIComponent(t),";base64"))}function Qo(e){var t=e.name,n=e.size,r=e.type;return new Promise(function(i,a){var o=new window.FileReader;o.onerror=a,o.onload=function(l){i({dataURL:Xo(l.target.result,t),name:t,size:n,type:r})},o.readAsDataURL(e)})}function Zo(e){return Promise.all([].map.call(e,Qo))}function el(e){var t=e.filesInfo;return t.length===0?null:s("ul",{className:"file-info",children:t.map(function(n,r){var i=n.name,a=n.size,o=n.type;return O("li",{children:[s("strong",{children:i})," (",o,", ",a," bytes)"]},r)})})}function tl(e){return e.filter(function(t){return typeof t<"u"}).map(function(t){var n=Ul(t),r=n.blob,i=n.name;return{name:i,size:r.size,type:r.type}})}var Pn=function(e){Jo(t,e);function t(n){var r;Ko(this,t),r=Yo(this,ir(t).call(this,n)),zo(Fn(r),"onChange",function(o){var l=r.props,u=l.multiple,d=l.onChange;Zo(o.target.files).then(function(c){var f={values:c.map(function(m){return m.dataURL}),filesInfo:c};r.setState(f,function(){d(u?f.values:f.values[0])})})});var i=n.value,a=Array.isArray(i)?i:[i];return r.state={values:a,filesInfo:tl(a)},r}return Ho(t,[{key:"shouldComponentUpdate",value:function(r,i){return Fr(this,r,i)}},{key:"render",value:function(){var r=this,i=this.props,a=i.multiple,o=i.id,l=i.readonly,u=i.disabled,d=i.autofocus,c=i.options,f=this.state.filesInfo;return O("div",{children:[s("p",{children:s("input",{ref:function(p){return r.inputRef=p},id:o,type:"file",disabled:l||u,onChange:this.onChange,defaultValue:"",autoFocus:d,multiple:a,accept:c.accept})}),s(el,{filesInfo:f})]})}}]),t}(Go);Pn.defaultProps={autofocus:!1};function rl(e){var t=e.id,n=e.value;return s("input",{type:"hidden",id:t,value:typeof n>"u"?"":n})}function nl(e){var t=e.registry.widgets.BaseInput;return s(t,{type:"password",...e})}function An(e){var t=e.options,n=e.value,r=e.required,i=e.disabled,a=e.readonly,o=e.autofocus,l=e.onBlur,u=e.onFocus,d=e.onChange,c=e.id,f=Math.random().toString(),m=t.enumOptions,p=t.enumDisabled,h=t.inline;return s("div",{className:"field-radio-group",id:c,children:m.map(function(y,v){var g=y.value===n,S=p&&p.indexOf(y.value)!=-1,b=i||S||a?"disabled":"",_=O("span",{children:[s("input",{type:"radio",checked:g,name:f,required:r,value:y.value,disabled:i||S||a,autoFocus:o&&v===0,onChange:function(w){return d(y.value)},onBlur:l&&function(F){return l(c,F.target.value)},onFocus:u&&function(F){return u(c,F.target.value)}}),s("span",{children:y.label})]});return h?s("label",{className:"radio-inline ".concat(b),children:_},v):s("div",{className:"radio ".concat(b),children:s("label",{children:_})},v)})})}An.defaultProps={autofocus:!1};function il(e){var t=e.schema,n=e.value,r=e.registry.widgets.BaseInput;return O("div",{className:"field-range-wrapper",children:[s(r,{type:"range",...e,...Ln(t)}),s("span",{className:"range-view",children:n})]})}var al=new Set(["number","integer"]);function Dt(e,t){var n=e.type,r=e.items;if(t!==""){{if(n==="array"&&r&&al.has(r.type))return t.map(Te);if(n==="boolean")return t==="true";if(n==="number")return Te(t)}if(e.enum){if(e.enum.every(function(i){return je(i)==="number"}))return Te(t);if(e.enum.every(function(i){return je(i)==="boolean"}))return t==="true"}return t}}function $t(e,t){return t?[].slice.call(e.target.options).filter(function(n){return n.selected}).map(function(n){return n.value}):e.target.value}function Tn(e){var t=e.schema,n=e.id,r=e.options,i=e.value,a=e.required,o=e.disabled,l=e.readonly,u=e.multiple,d=e.autofocus,c=e.onChange,f=e.onBlur,m=e.onFocus,p=e.placeholder,h=r.enumOptions,y=r.enumDisabled,v=u?[]:"";return O("select",{id:n,multiple:u,className:"form-control",value:typeof i>"u"?v:i,required:a,disabled:o||l,autoFocus:d,onBlur:f&&function(g){var S=$t(g,u);f(n,Dt(t,S))},onFocus:m&&function(g){var S=$t(g,u);m(n,Dt(t,S))},onChange:function(S){var b=$t(S,u);c(Dt(t,b))},children:[!u&&t.default===void 0&&s("option",{value:"",children:p}),h.map(function(g,S){var b=g.value,_=g.label,F=y&&y.indexOf(b)!=-1;return s("option",{value:b,disabled:F,children:_},S)})]})}Tn.defaultProps={autofocus:!1};function Dn(e){var t=e.id,n=e.options,r=e.placeholder,i=e.value,a=e.required,o=e.disabled,l=e.readonly,u=e.autofocus,d=e.onChange,c=e.onBlur,f=e.onFocus,m=function(h){var y=h.target.value;return d(y===""?n.emptyValue:y)};return s("textarea",{id:t,className:"form-control",value:i||"",placeholder:r,required:a,disabled:o,readOnly:l,autoFocus:u,rows:n.rows,onBlur:c&&function(p){return c(t,p.target.value)},onFocus:f&&function(p){return f(t,p.target.value)},onChange:m})}Dn.defaultProps={autofocus:!1,options:{}};function ol(e){var t=e.registry.widgets.BaseInput;return s(t,{...e})}function ll(e){var t=e.registry.widgets.BaseInput;return s(t,{type:"url",...e})}function ul(e){var t=e.registry.widgets.BaseInput;return s(t,{type:"number",...e,...Ln(e.schema)})}const sl={BaseInput:_n,PasswordWidget:nl,RadioWidget:An,UpDownWidget:ul,RangeWidget:il,SelectWidget:Tn,TextWidget:ol,DateWidget:Lo,DateTimeWidget:Mo,AltDateWidget:Sr,AltDateTimeWidget:On,EmailWidget:Uo,URLWidget:ll,TextareaWidget:Dn,HiddenWidget:rl,ColorWidget:Bo,FileWidget:Pn,CheckboxWidget:wn,CheckboxesWidget:Cn};var dl=Jn,cl=ui,fl=zn,ml=Gn,pl=Xn,yl=Zn,hl=Qn;function gl(e){return fl(e)?dl(e,yl):ml(e)?[e]:cl(pl(hl(e)))}var vl=gl;function $n(e){return Ol(e)||Sl(e)||bl()}function bl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Sl(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Ol(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Re(e,i,n[i])})}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we,Br,Lr,Mr,En="__rjsf_rootSchema";function xn(){var e=new oi({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore",useDefaults:!0});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function _l(e){return e.length?e.reduce(function(t,n){var r=n.property,i=n.message,a=vl(r),o=t;a.length>0&&a[0]===""&&a.splice(0,1);var l=!0,u=!1,d=void 0;try{for(var c=a.slice(0)[Symbol.iterator](),f;!(l=(f=c.next()).done);l=!0){var m=f.value;m in o||(o[m]={}),o=o[m]}}catch(p){u=!0,d=p}finally{try{!l&&c.return!=null&&c.return()}finally{if(u)throw d}}return Array.isArray(o.__errors)?o.__errors=o.__errors.concat(i):i&&(o.__errors=[i]),t},{}):{}}function se(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",n=[];return"__errors"in e&&(n=n.concat(e.__errors.map(function(r){return{stack:"".concat(t,": ").concat(r)}}))),Object.keys(e).reduce(function(r,i){return i!=="__errors"&&(r=r.concat(se(e[i],i))),r},n)}function or(e){var t={__errors:[],addError:function(r){this.__errors.push(r)}};return W(e)?Object.keys(e).reduce(function(n,r){return he({},n,Re({},r,or(e[r])))},t):Array.isArray(e)?e.reduce(function(n,r,i){return he({},n,Re({},i,or(r)))},t):t}function Nn(e){return Object.keys(e).reduce(function(t,n){return n==="addError"?t:n==="__errors"?he({},t,Re({},n,e[n])):he({},t,Re({},n,Nn(e[n])))},{})}function Ur(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e===null?[]:e.map(function(t){var n=t.dataPath,r=t.keyword,i=t.message,a=t.params,o=t.schemaPath,l="".concat(n);return{name:r,property:l,message:i,params:a,stack:"".concat(l," ").concat(i).trim(),schemaPath:o}})}var Ve,z;function Rn(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=t;e=Pt(t,e,o,!0);var l=!H(Br,t),u=!H(Lr,i),d=!H(Mr,a);if(Ve==null||l||u||d){z=null,Br=t,Lr=i,Mr=a,we=xn(),i&&Array.isArray(i)&&we.addMetaSchema(i),a&&W(a)&&Object.keys(a).forEach(function(g){we.addFormat(g,a[g])});try{Ve=we.compile(t)}catch(g){z=g}}var c;z?c=Ur(we.errors):(Ve(e),c=Ur(Ve.errors));var f=z&&z.message&&typeof z.message=="string"&&z.message.includes("no schema with key or ref ");f&&(c=[].concat($n(c),[{stack:z.message}])),typeof r=="function"&&(c=r(c));var m=_l(c);if(f&&(m=he({},m,{$schema:{__errors:[z.message]}})),typeof n!="function")return{errors:c,errorSchema:m};var p=n(e,or(e)),h=Nn(p),y=ie(m,h,!0),v=se(y);return{errors:v,errorSchema:y}}function jn(e){var t=e;if(e.constructor===Object){t=he({},e);for(var n in t){var r=t[n];n==="$ref"&&typeof r=="string"&&r.startsWith("#")?t[n]=En+r:t[n]=Kr(r)}}else if(Array.isArray(e)){t=$n(e);for(var i=0;i<t.length;i++)t[i]=Kr(t[i])}return t}var wl=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(function(i){return JSON.stringify(i)}).join("_")},Kr=pt(jn,wl),Et=new WeakMap,xt=new WeakMap;function dt(e,t,n){try{var r;Et.has(n)?r=Et.get(n):(r=xn(),r.addSchema(n,En),Et.set(n,r));var i;return xt.has(e)?i=xt.get(e):(i=jn(e),xt.set(e,i)),r.validate(i,t)}catch(a){return console.warn("Encountered error while validating schema",a),!1}}function In(e){var t=Cl(e,"string");return U(t)==="symbol"?t:String(t)}function Cl(e,t){if(U(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(U(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e){return Al(e)||Pl(e)||Fl()}function Fl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Pl(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Al(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function U(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(n){return typeof n}:U=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},U(e)}function lr(){return lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function K(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Or(e,i,n[i])})}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){if(e==null)return{};var n=Tl(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function Tl(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Dl=window.React;var G={},ve={},ke="__additional_property",Nt={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function qn(e,t,n){if(!e.additionalProperties)return!1;var r=oe(t),i=r.expandable;return i===!1?i:e.maxProperties!==void 0?Object.keys(n).length<e.maxProperties:!0}function L(){return{fields:_o,widgets:sl,definitions:{},rootSchema:{},formContext:{}}}function ge(e){var t=e.type;return!t&&e.const?je(e.const):!t&&e.enum?"string":!t&&(e.properties||e.additionalProperties)?"object":t instanceof Array&&t.length===2&&t.includes("null")?t.find(function(n){return n!=="null"}):t}function X(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=ge(e);function i(l){if(!l.MergedWidget){var u=l.defaultProps&&l.defaultProps.options||{};l.MergedWidget=function(d){var c=d.options,f=c===void 0?{}:c,m=me(d,["options"]);return s(l,{options:K({},u,f),...m})}}return l.MergedWidget}if(typeof t=="function"||Vt.exports.isForwardRef(Dl.createElement(t))||Vt.exports.isMemo(t))return i(t);if(typeof t!="string")throw new Error("Unsupported widget definition: ".concat(U(t)));if(n.hasOwnProperty(t)){var a=n[t];return X(e,a,n)}if(!Nt.hasOwnProperty(r))throw new Error('No widget for type "'.concat(r,'"'));if(Nt[r].hasOwnProperty(t)){var o=n[Nt[r][t]];return X(e,o,n)}throw new Error('No widget "'.concat(t,'" for type "').concat(r,'"'))}function $l(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return X(e,t,n),!0}catch(r){if(r.message&&(r.message.startsWith("No widget")||r.message.startsWith("Unsupported widget")))return!1;throw r}}var _r=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.map(function(i){return JSON.stringify(i)}).join("_")},te=pt(El,_r);function El(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ve,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=W(e)?e:{},o=W(r)?r:{},l=t;if(W(l)&&W(a.default))l=ie(l,a.default);else if("default"in a)l=a.default;else if("const"in a)l=a.const;else if("$ref"in a){var u=Cr(a.$ref,n);return te(u,l,n,o,i)}else if("dependencies"in a){var d=Vn(a,n,o);return te(d,l,n,o,i)}else sr(a)?l=a.items.map(function(h,y){return te(h,Array.isArray(t)?t[y]:void 0,n,o,i)}):"oneOf"in a?a=a.oneOf[qe(void 0,a.oneOf,n)]:"anyOf"in a&&(a=a.anyOf[qe(void 0,a.anyOf,n)]);switch(typeof l>"u"&&(l=a.default),ge(a)){case"object":return Object.keys(a.properties||{}).reduce(function(h,y){var v=te(a.properties[y],(l||{})[y],n,(o||{})[y],i);return(i||v!==void 0)&&(h[y]=v),h},{});case"array":if(Array.isArray(l)&&(l=l.map(function(h,y){return te(a.items[y]||a.additionalItems||{},h,n)})),Array.isArray(r)&&(l=r.map(function(h,y){return te(a.items,(l||{})[y],n,h)})),a.minItems){if(wr(a,n))return l||[];var c=l?l.length:0;if(a.minItems>c){var f=l||[],m=Array.isArray(a.items)?a.additionalItems:a.items,p=li(new Array(a.minItems-c),te(m,m.defaults,n));return f.concat(p)}}}return l}function Pt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(e))throw new Error("Invalid schema: "+e);var i=I(e,n,t),a=te(i,e.default,n,t,r);return typeof t>"u"?a:W(t)||Array.isArray(t)?ur(a,t):t===0||t===!1||t===""?t:t||a}function ur(e,t){if(Array.isArray(t))return Array.isArray(e)||(e=[]),t.map(function(r,i){return e[i]?ur(e[i],r):r});if(W(t)){var n=Object.assign({},e);return Object.keys(t).reduce(function(r,i){return r[i]=ur(e?e[i]:{},t[i]),r},n)}else return t}function oe(e){return Object.keys(e).filter(function(t){return t.indexOf("ui:")===0}).reduce(function(t,n){var r=e[n];return n==="ui:widget"&&W(r)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),K({},t,r.options||{},{widget:r.component})):n==="ui:options"&&W(r)?K({},t,r):K({},t,Or({},n.substring(3),r))},{})}function xl(e,t,n){var r=oe(t),i=r.label,a=i===void 0?!0:i,o=ge(e);return o==="array"&&(a=wr(e,n)||kn(e,t,n)),o==="object"&&(a=!1),o==="boolean"&&!t["ui:widget"]&&(a=!1),t["ui:field"]&&(a=!1),a}function W(e){return typeof File<"u"&&e instanceof File?!1:U(e)==="object"&&e!==null&&!Array.isArray(e)}function ie(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Object.assign({},e);return Object.keys(t).reduce(function(i,a){var o=e?e[a]:{},l=t[a];return e&&e.hasOwnProperty(a)&&W(l)?i[a]=ie(o,l,n):n&&Array.isArray(o)&&Array.isArray(l)?i[a]=o.concat(l):i[a]=l,i},r)}function Te(e){if(e!==""){if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e))return e;var t=Number(e),n=typeof t=="number"&&!Number.isNaN(t);return/\.\d*0$/.test(e)?e:n?t:e}}function Nl(e,t){if(!Array.isArray(t))return e;var n=function(f){return f.reduce(function(m,p){return m[p]=!0,m},{})},r=function(f){return f.length>1?"properties '".concat(f.join("', '"),"'"):"property '".concat(f[0],"'")},i=n(e),a=t.filter(function(c){return c==="*"||i[c]}),o=n(a),l=e.filter(function(c){return!o[c]}),u=a.indexOf("*");if(u===-1){if(l.length)throw new Error("uiSchema order list does not contain ".concat(r(l)));return a}if(u!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var d=ct(a);return d.splice.apply(d,[u,1].concat(ct(l))),d}function Rl(e){return Array.isArray(e.enum)&&e.enum.length===1||e.hasOwnProperty("const")}function jl(e){if(Array.isArray(e.enum)&&e.enum.length===1)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function ft(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,n=I(e,t),r=n.oneOf||n.anyOf;return Array.isArray(n.enum)?!0:Array.isArray(r)?r.every(function(i){return Rl(i)}):!1}function wr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G;return!e.uniqueItems||!e.items?!1:ft(e.items,t)}function kn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G;if(t["ui:widget"]==="files")return!0;if(e.items){var r=I(e.items,n);return r.type==="string"&&r.format==="data-url"}return!1}function sr(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every(function(t){return W(t)})}function Hr(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),W(e.additionalItems)}function mt(e){if(e.enum)return e.enum.map(function(n,r){var i=e.enumNames&&e.enumNames[r]||String(n);return{label:i,value:n}});var t=e.oneOf||e.anyOf;return t.map(function(n,r){var i=jl(n),a=n.title||String(i);return{schema:n,label:a,value:i}})}function Cr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,n=e;if(e.startsWith("#"))e=decodeURIComponent(e.substring(1));else throw new Error("Could not find a definition for ".concat(n,"."));var r=Ft.get(t,e);if(r===void 0)throw new Error("Could not find a definition for ".concat(n,"."));return r.hasOwnProperty("$ref")?Cr(r.$ref,t):r}var je=function(t){if(Array.isArray(t))return"array";if(typeof t=="string")return"string";if(t==null)return"null";if(typeof t=="boolean")return"boolean";if(isNaN(t)){if(U(t)==="object")return"object"}else return"number";return"string"};function Il(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve;return e=K({},e,{properties:K({},e.properties)}),Object.keys(n).forEach(function(r){if(!e.properties.hasOwnProperty(r)){var i;e.additionalProperties.hasOwnProperty("$ref")?i=I({$ref:e.additionalProperties.$ref},t,n):e.additionalProperties.hasOwnProperty("type")?i=K({},e.additionalProperties):i={type:je(n[r])},e.properties[r]=i,e.properties[r][ke]=!0}}),e}var Rt=pt(ql,_r);function ql(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve;if(e.hasOwnProperty("$ref"))return Wn(e,t,n);if(e.hasOwnProperty("dependencies")){var r=Vn(e,t,n);return I(r,t,n)}else return e.hasOwnProperty("allOf")?K({},e,{allOf:e.allOf.map(function(i){return I(i,t,n)})}):e}function Wn(e,t,n){var r=Cr(e.$ref,t);e.$ref;var i=me(e,["$ref"]);return I(K({},r,i),t,n)}function kl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve;if(!W(e))return G;for(var r=Rt(e,t,n);"if"in r;){var i=r,a=i.if,o=i.then,l=i.else,u=me(i,["if","then","else"]),d=dt(a,n,t)?o:l;d&&(d=Rt(d,t,n)),r=Ie(u,d||{})}var c=r.allOf;if(c)for(var f=0;f<c.length;f++){var m=c[f];"if"in m&&(m=dt(m.if,n,t)?m.then:m.else),m&&(m=Rt(m,t,n),r=K({},Ie(r,m)),delete r.allOf)}var p=r.hasOwnProperty("additionalProperties")&&r.additionalProperties!==!1;return p&&(r=Il(r,t,n)),r}var I=pt(kl,_r);function Vn(e,t,n){var r=e.dependencies,i=r===void 0?{}:r,a=me(e,["dependencies"]);return"oneOf"in a?a=a.oneOf[qe(n,a.oneOf,t)]:"anyOf"in a&&(a=a.anyOf[qe(n,a.anyOf,t)]),Bn(i,a,t,n)}function Bn(e,t,n,r){for(var i in e)if(r[i]!==void 0&&!(t.properties&&!(i in t.properties))){var a=e[i],o=me(e,[i].map(In));return Array.isArray(a)?t=Wl(t,a):W(a)&&(t=Vl(t,n,r,i,a)),Bn(o,t,n,r)}return t}function Wl(e,t){if(!t)return e;var n=Array.isArray(e.required)?Array.from(new Set([].concat(ct(e.required),ct(t)))):t;return K({},e,{required:n})}function Vl(e,t,n,r,i){var a=I(i,t,n),o=a.oneOf,l=me(a,["oneOf"]);if(e=Ie(e,l),o===void 0)return e;if(!Array.isArray(o))throw new Error("invalid: it is some ".concat(U(o)," instead of an array"));var u=o.map(function(d){return d.hasOwnProperty("$ref")?Wn(d,t,n):d});return Bl(e,t,n,r,u)}function Bl(e,t,n,r,i){var a=i.filter(function(c){if(!c.properties)return!1;var f=c.properties[r];if(f){var m={type:"object",properties:Or({},r,f)},p=Rn(n,m),h=p.errors;return h.length===0}});if(a.length!==1)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var o=a[0],l=o.properties;l[r];var u=me(l,[r].map(In)),d=K({},o,{properties:u});return Ie(e,I(d,t,n))}function Ie(e,t){var n=Object.assign({},e);return Object.keys(t).reduce(function(r,i){var a=e?e[i]:{},o=t[i];return e&&e.hasOwnProperty(i)&&W(o)?r[i]=Ie(a,o):e&&t&&(ge(e)==="object"||ge(t)==="object")&&i==="required"&&Array.isArray(a)&&Array.isArray(o)?r[i]=ri(a,o):r[i]=o,r},n)}function Be(e){return Object.prototype.toString.call(e)==="[object Arguments]"}function H(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(e===t)return!0;if(typeof e=="function"||typeof t=="function")return!0;if(U(e)!=="object"||U(t)!=="object")return!1;if(e===null||t===null)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(Be(e)||Be(t)){if(!(Be(e)&&Be(t)))return!1;var i=Array.prototype.slice;return H(i.call(e),i.call(t),n,r)}else{if(e.constructor!==t.constructor)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length===0&&o.length===0)return!0;if(a.length!==o.length)return!1;for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;n.push(e),r.push(t),a.sort(),o.sort();for(var u=a.length-1;u>=0;u--)if(a[u]!==o[u])return!1;for(var d,c=a.length-1;c>=0;c--)if(d=a[c],!H(e[d],t[d],n,r))return!1;return n.pop(),r.pop(),!0}}function Fr(e,t,n){var r=e.props,i=e.state;return!H(r,t)||!H(i,n)}function ce(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ve,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"root",a={$id:t||i};if("$ref"in e||"dependencies"in e){var o=I(e,n,r);return ce(o,t,n,r,i)}if("items"in e&&!e.items.$ref)return ce(e.items,t,n,r,i);if(e.type!=="object")return a;for(var l in e.properties||{}){var u=e.properties[l],d=a.$id+"_"+l;a[l]=ce(W(u)?u:{},d,n,(r||{})[l],i)}return a}function De(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ve,i={$name:t.replace(/^\./,"")};if("$ref"in e||"dependencies"in e||"allOf"in e){var a=I(e,n,r);return De(a,t,n,r)}if(e.hasOwnProperty("additionalProperties")&&(i.__rjsf_additionalProperties=!0),e.hasOwnProperty("items")&&Array.isArray(r))r.forEach(function(l,u){i[u]=De(e.items,"".concat(t,".").concat(u),n,l)});else if(e.hasOwnProperty("properties"))for(var o in e.properties)i[o]=De(e.properties[o],"".concat(t,".").concat(o),n,(r||{})[o]);return i}function Ce(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var n=new Date(e);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:t?n.getUTCHours():0,minute:t?n.getUTCMinutes():0,second:t?n.getUTCSeconds():0}}function Yr(e){var t=e.year,n=e.month,r=e.day,i=e.hour,a=i===void 0?0:i,o=e.minute,l=o===void 0?0:o,u=e.second,d=u===void 0?0:u,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=Date.UTC(t,n-1,r,a,l,d),m=new Date(f).toJSON();return c?m:m.slice(0,10)}function Ll(e){if(!e)return"";var t=new Date(e),n=re(t.getFullYear(),4),r=re(t.getMonth()+1,2),i=re(t.getDate(),2),a=re(t.getHours(),2),o=re(t.getMinutes(),2),l=re(t.getSeconds(),2),u=re(t.getMilliseconds(),3);return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(a,":").concat(o,":").concat(l,".").concat(u)}function Ml(e){if(e)return new Date(e).toJSON()}function re(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}function Ul(e){var t=e.split(","),n=t[0].split(";"),r=n[0].replace("data:",""),i=n.filter(function(c){return c.split("=")[0]==="name"}),a;i.length!==1?a="unknown":a=i[0].split("=")[1];for(var o=atob(t[1]),l=[],u=0;u<o.length;u++)l.push(o.charCodeAt(u));var d=new window.Blob([new Uint8Array(l)],{type:r});return{blob:d,name:a}}function Ln(e){var t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function qe(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.properties){var a={anyOf:Object.keys(i.properties).map(function(u){return{required:[u]}})},o=void 0;if(i.anyOf){var l=lr({},i);l.allOf?l.allOf=l.allOf.slice():l.allOf=[],l.allOf.push(a),o=l}else o=Object.assign({},i,a);if(delete o.required,dt(o,e,n))return r}else if(dt(i,e,n))return r}return 0}function Qe(e){return e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0?!0:e.anyOf&&e.anyOf.length===1?Qe(e.anyOf[0]):e.oneOf&&e.oneOf.length===1?Qe(e.oneOf[0]):e.allOf?e.allOf.some(Qe):!1}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ne(e,i,n[i])})}return e}function fe(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fe=function(n){return typeof n}:fe=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fe(e)}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t,n){return t&&Jr(e.prototype,t),n&&Jr(e,n),e}function Yl(e,t){return t&&(fe(t)==="object"||typeof t=="function")?t:ue(e)}function dr(e){return dr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dr(e)}function ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cr(e,t)}function cr(e,t){return cr=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cr(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zr=window.React,zl=window.React.Component;var Mn=function(e){Jl(t,e);function t(n){var r;return Kl(this,t),r=Yl(this,dr(t).call(this,n)),ne(ue(r),"getUsedFormData",function(i,a){if(a.length===0&&fe(i)!=="object")return i;var o=ei(i,a);return Array.isArray(i)?Object.keys(o).map(function(l){return o[l]}):o}),ne(ue(r),"getFieldNames",function(i,a){var o=function l(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[""];return Object.keys(u).forEach(function(f){if(fe(u[f])==="object"){var m=c.map(function(p){return"".concat(p,".").concat(f)});u[f].__rjsf_additionalProperties&&u[f].$name!==""?d.push(u[f].$name):l(u[f],d,m)}else f==="$name"&&u[f]!==""&&c.forEach(function(p){p=p.replace(/^\./,"");var h=ti(a,p);(fe(h)!=="object"||ni(h))&&d.push(p)})}),d};return o(i)}),ne(ue(r),"onChange",function(i,a){if(W(i)||Array.isArray(i)){var o=r.getStateFromProps(r.props,i);i=o.formData}var l=!r.props.noValidate&&r.props.liveValidate,u={formData:i},d=i;if(r.props.omitExtraData===!0&&r.props.liveOmit===!0){var c=I(r.state.schema,r.state.schema,i),f=De(c,"",r.state.schema,i),m=r.getFieldNames(f,i);d=r.getUsedFormData(i,m),u={formData:d}}if(l){var p=r.validate(d),h=p.errors,y=p.errorSchema,v=h,g=y;r.props.extraErrors&&(y=ie(y,r.props.extraErrors,!0),h=se(y)),u={formData:d,errors:h,errorSchema:y,schemaValidationErrors:v,schemaValidationErrorSchema:g}}else if(!r.props.noValidate&&a){var S=r.props.extraErrors?ie(a,r.props.extraErrors,!0):a;u={formData:d,errorSchema:S,errors:se(S)}}r.setState(u,function(){return r.props.onChange&&r.props.onChange(r.state)})}),ne(ue(r),"onBlur",function(){if(r.props.onBlur){var i;(i=r.props).onBlur.apply(i,arguments)}}),ne(ue(r),"onFocus",function(){if(r.props.onFocus){var i;(i=r.props).onFocus.apply(i,arguments)}}),ne(ue(r),"onSubmit",function(i){if(i.preventDefault(),i.target===i.currentTarget){i.persist();var a=r.state.formData;if(r.props.omitExtraData===!0){var o=I(r.state.schema,r.state.schema,a),l=De(o,"",r.state.schema,a),u=r.getFieldNames(l,a);a=r.getUsedFormData(a,u)}if(!r.props.noValidate){var d=r.validate(a),c=d.errors,f=d.errorSchema,m=c,p=f;if(Object.keys(c).length>0){r.props.extraErrors&&(f=ie(f,r.props.extraErrors,!0),c=se(f)),r.setState({errors:c,errorSchema:f,schemaValidationErrors:m,schemaValidationErrorSchema:p},function(){r.props.onError?r.props.onError(c):console.error("Form validation failed",c)});return}}var h,y;r.props.extraErrors?(h=r.props.extraErrors,y=se(h)):(h={},y=[]),r.setState({formData:a,errors:y,errorSchema:h},function(){r.props.onSubmit&&r.props.onSubmit(jt({},r.state,{formData:a,status:"submitted"}),i)})}}),r.state=r.getStateFromProps(n,n.formData),r.props.onChange&&!H(r.state.formData,r.props.formData)&&r.props.onChange(r.state),r.formElement=null,r}return Hl(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(r){var i=this.getStateFromProps(r,r.formData);!H(i.formData,r.formData)&&!H(i.formData,this.state.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)}},{key:"getStateFromProps",value:function(r,i){var a=this.state||{},o="schema"in r?r.schema:this.props.schema,l="uiSchema"in r?r.uiSchema:this.props.uiSchema,u=typeof i<"u",d="liveValidate"in r?r.liveValidate:this.props.liveValidate,c=u&&!r.noValidate&&d,f=o,m=Pt(o,i,f),p=I(o,f,m),h=r.customFormats,y=r.additionalMetaSchemas,v=function(){return r.noValidate?{errors:[],errorSchema:{}}:r.liveValidate?{errors:a.errors||[],errorSchema:a.errorSchema||{}}:{errors:a.schemaValidationErrors||[],errorSchema:a.schemaValidationErrorSchema||{}}},g,S,b,_;if(c){var F=this.validate(m,o,y,h);g=F.errors,S=F.errorSchema,b=g,_=S}else{var w=v();g=w.errors,S=w.errorSchema,b=a.schemaValidationErrors,_=a.schemaValidationErrorSchema}r.extraErrors&&(S=ie(S,r.extraErrors,!0),g=se(S));var P=ce(p,l["ui:rootFieldId"],f,m,r.idPrefix),C={schema:o,uiSchema:l,idSchema:P,formData:m,edit:u,errors:g,errorSchema:S,additionalMetaSchemas:y};return b&&(C.schemaValidationErrors=b,C.schemaValidationErrorSchema=_),C}},{key:"shouldComponentUpdate",value:function(r,i){return Fr(this,r,i)}},{key:"validate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.schema,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.props.additionalMetaSchemas,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.props.customFormats,l=this.props,u=l.validate,d=l.transformErrors,c=this.getRegistry(),f=c.rootSchema,m=I(i,f,r);return Rn(r,m,u,d,a,o)}},{key:"renderErrors",value:function(){var r=this.state,i=r.errors,a=r.errorSchema,o=r.schema,l=r.uiSchema,u=this.props,d=u.ErrorList,c=u.showErrorList,f=u.formContext;return i.length&&c!=!1?s(d,{errors:i,errorSchema:a,schema:o,uiSchema:l,formContext:f}):null}},{key:"getRegistry",value:function(){var r=L(),i=r.fields,a=r.widgets;return{fields:jt({},i,this.props.fields),widgets:jt({},a,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},rootSchema:this.props.schema,formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new CustomEvent("submit",{cancelable:!0}))}},{key:"render",value:function(){var r=this,i=this.props,a=i.children,o=i.id,l=i.idPrefix,u=i.className,d=i.tagName,c=i.name,f=i.method,m=i.target,p=i.action,h=i.autocomplete,y=i.autoComplete,v=i.enctype,g=i.acceptcharset,S=i.noHtml5Validate,b=i.disabled,_=i.formContext,F=this.state,w=F.schema,P=F.uiSchema,C=F.formData,A=F.errorSchema,$=F.idSchema,R=this.getRegistry(),D=R.fields.SchemaField,j=d||"form";h&&console.warn("Using autocomplete property of Form is deprecated, use autoComplete instead.");var x=y||h;return zr.createElement(j,{className:u||"rjsf",id:o,name:c,method:f,target:m,action:p,autoComplete:x,encType:v,acceptCharset:g,noValidate:S,onSubmit:this.onSubmit,ref:function(q){r.formElement=q}},this.renderErrors(),zr.createElement(D,{schema:w,uiSchema:P,errorSchema:A,idSchema:$,idPrefix:l,formContext:_,formData:C,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:R,disabled:b}),a||s("div",{children:s("button",{type:"submit",className:"btn btn-info",children:"Submit"})}))}}]),t}(zl);ne(Mn,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,noHtml5Validate:!1,ErrorList:Wi,omitExtraData:!1});window.React.forwardRef;E.exports.object,E.exports.object;const $e=e=>{var t;return s("svg",{...e,className:`SRC-add-to-list-icon ${(t=e.className)!=null?t:""}`,style:{...e.style},width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:s("path",{d:"M14 10H2V12H14V10ZM14 6H2V8H14V6ZM18 14V10H16V14H12V16H16V20H18V16H22V14H18ZM2 16H10V14H2V16Z",fill:"#515359"})})};try{$e.displayName="AddToList",$e.__docgenInfo={description:"",displayName:"AddToList",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/assets/icons/AddToList.tsx#AddToList"]={docgenInfo:$e.__docgenInfo,name:"AddToList",path:"src/lib/assets/icons/AddToList.tsx#AddToList"})}catch{}var Gl=gi();function Ee(e){const{description:t,required:n,type:r,show:i}=e;return s(Oi,{className:"field-description",in:i,children:s("table",{className:"FieldDescriptionTable",children:O("tbody",{children:[t&&O("tr",{children:[s("th",{children:"Description"}),s("td",{children:t})]}),O("tr",{children:[s("th",{children:"Type"}),s("td",{children:r})]}),O("tr",{children:[s("th",{children:"Required"}),s("td",{children:n?"Yes":"No"})]})]})})})}try{Ee.displayName="FieldDescriptionTable",Ee.__docgenInfo={description:"",displayName:"FieldDescriptionTable",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/FieldDescriptionTable.tsx#FieldDescriptionTable"]={docgenInfo:Ee.__docgenInfo,name:"FieldDescriptionTable",path:"src/lib/containers/entity/annotations/FieldDescriptionTable.tsx#FieldDescriptionTable"})}catch{}const Xl=window.React.useEffect,Ql=window.React.useState;function xe(e){var a;const{DescriptionField:t}=e,n=e.schema[ke];Xl(()=>{e.items.length===0&&e.onAddClick()},[e]);const[r,i]=Ql(!1);return O(mr,{className:e.className,children:[O("div",{className:"LabelContainer",children:[O(Ne,{children:[e.title,e.required&&s("span",{className:"required",children:"*"})]}),!n&&s("button",{"aria-label":"More Info","aria-expanded":r,onClick:o=>{o.preventDefault(),i(!r)},children:s(nn,{className:"HelpButton SRC-primary-text-color"})})]}),e.items&&O(de,{children:[e.items.map((o,l)=>O("div",{className:"array-item",children:[o.children,(n||e.items.length>1)&&s(ae,{"aria-label":`Remove ${e.title}[${l}]`,variant:"transparent-primary-500",className:"RemoveButton",disabled:e.disabled,onClick:o.onDropIndexClick(o.index),children:s(_i,{})}),e.canAdd&&l===e.items.length-1&&s(ae,{"aria-label":`Add new ${e.title}`,variant:"primary-500",className:"AddButton",onClick:e.onAddClick,type:"button",disabled:e.disabled,children:s(Ii,{})})]},o.key)),e.items.length===0&&s("div",{style:{display:"flex"},children:s(ae,{variant:"primary-500",onClick:e.onAddClick,type:"button",disabled:e.disabled,children:"Add Value"})})]}),s(Ee,{required:e.required,type:e.schema.type,description:s(t,{id:`${e.idSchema.$id}__description`,description:(a=e.schema.description)!=null?a:""}),show:r})]})}try{xe.displayName="CustomArrayFieldTemplate",xe.__docgenInfo={description:`Custom field template for array properties in a react-jsonschema-form component.
Used just to apply custom styling.`,displayName:"CustomArrayFieldTemplate",props:{DescriptionField:{defaultValue:null,description:"",name:"DescriptionField",required:!0,type:{name:"React.StatelessComponent<{ id: string; description: string | ReactElement<any, string | JSXElementConstructor<any>>; }>"}},TitleField:{defaultValue:null,description:"",name:"TitleField",required:!0,type:{name:"React.StatelessComponent<{ id: string; title: string; required: boolean; }>"}},canAdd:{defaultValue:null,description:"",name:"canAdd",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},idSchema:{defaultValue:null,description:"",name:"idSchema",required:!0,type:{name:"IdSchema<any>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"{ children: ReactElement<any, string | JSXElementConstructor<any>>; className: string; disabled: boolean; hasMoveDown: boolean; hasMoveUp: boolean; ... 7 more ...; key: string; }[]"}},onAddClick:{defaultValue:null,description:"",name:"onAddClick",required:!0,type:{name:"(event?: any) => void"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},formContext:{defaultValue:null,description:"",name:"formContext",required:!0,type:{name:"any"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"T"}},registry:{defaultValue:null,description:"",name:"registry",required:!0,type:{name:"Registry"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomArrayFieldTemplate.tsx#CustomArrayFieldTemplate"]={docgenInfo:xe.__docgenInfo,name:"CustomArrayFieldTemplate",path:"src/lib/containers/entity/annotations/CustomArrayFieldTemplate.tsx#CustomArrayFieldTemplate"})}catch{}const Le=window.React.useEffect,It=window.React.useState,Un=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/;var Ze=(e=>(e.STRING="String",e.INTEGER="Integer",e.FLOAT="Float",e.BOOLEAN="Boolean",e.DATETIME="Datetime",e))(Ze||{}),Kn=(e=>(e.TextWidget="TextWidget",e.DateTimeWidget="DateTimeWidget",e.CheckboxWidget="CheckboxWidget",e))(Kn||{});function et(e){return e.every(t=>typeof t=="number"||t==="NaN")?e.every(t=>Number.isInteger(t))?"Integer":"Float":e.every(t=>typeof t=="boolean")?"Boolean":e.every(t=>typeof t=="string")&&e.every(t=>!!Un.exec(t))?"Datetime":"String"}function qt(e,t){switch(t){case"Integer":return e.map(n=>Number.isNaN(Number(n))?void 0:Math.floor(Number(n)));case"Float":return e.map(n=>{const r=parseFloat(n);return Number.isNaN(r)?"NaN":Number.isInteger(r)?r.toFixed(1):r});case"Datetime":return e.map(n=>{if(typeof n=="string"&&Un.exec(n))return n});case"Boolean":return e.map(n=>!!n);case"String":default:return e.map(n=>String(n))}}function tt(e){switch(e){case"Datetime":return"DateTimeWidget";case"Boolean":return"CheckboxWidget";case"String":case"Integer":case"Float":default:return"TextWidget"}}function rt(e){function t(P){return Array.isArray(P)?P:typeof P=="string"?P.split(",").map(C=>C.trim()):[P]}const{id:n,formData:r,onChange:i,registry:a,schema:o,name:l,onDropPropertyClick:u,uiSchema:d}=e,{list:c,handleListChange:f,handleListRemove:m,appendToList:p,setList:h}=vi(t(r)),[y,v]=It(et(c)),[g,S]=It(y),[b,_]=It("TextWidget");Le(()=>{setTimeout(()=>{i(c)},50)},[]),Le(()=>{function P(){const C=c.length===0||c.every($=>$==null||$==""),A=qt(c,g);(C||g!==y)&&Gl.isEqual(c,A)&&v(g)}P()},[g]),Le(()=>{function P(){const C=qt(c,g);v(g),_(tt(g)),h(C)}P()},[y]),Le(()=>{i(c)},[i,c]);const F=X(o,Kn[b],a.widgets),w=c.map((P,C)=>{var A,$,R;return{children:s(F,{id:`${l}-${C}`,"aria-label":`${l}-${C}`,schema:o,value:P,onChange:D=>{f(C)(D)},uiSchema:d,required:e.required,disabled:e.disabled,readonly:e.readonly,autofocus:e.autofocus,placeholder:(A=e.placeholder)!=null?A:"",options:{},formContext:e.formContext,onFocus:e.onFocus,onBlur:(D,j)=>{h(qt(c,y)),e.onBlur(D,j)},label:($=e.title)!=null?$:"",multiple:!0,rawErrors:[],registry:a}),onDropIndexClick:()=>c.length===1?u(l):m(C),className:(R=e.className)!=null?R:"",disabled:e.disabled,hasMoveDown:!1,hasMoveUp:!1,hasRemove:!1,hasToolbar:!1,index:C,onAddIndexClick:()=>()=>{},onReorderClick:()=>()=>{},readonly:e.readonly,key:`${C}`}});return O(de,{children:[O(mr,{className:"col-xs-3",children:[s(Ne,{htmlFor:`${n}-type`,children:"Type"}),s(pr,{as:"select",role:"listbox",disabled:e.disabled,readOnly:e.readonly,value:y,required:!0,id:`${n}-type`,onChange:P=>{S(P.target.value)},children:Object.keys(Ze).map(P=>s("option",{value:Ze[P],children:Ze[P]},P))})]}),s(xe,{className:"col-xs-6",onAddClick:()=>p(null),canAdd:!0,title:l,schema:o,items:w,registry:a,DescriptionField:()=>null,TitleField:()=>null,disabled:e.disabled,idSchema:e.idSchema,readonly:e.readonly,required:e.required,uiSchema:e.uiSchema,formContext:e.formContext,formData:e.formData}),y!==g&&s(Si,{variant:"warning",title:"Data may be lost when converting types",description:`Are you sure you want to convert ${l} from ${y} to ${g}? Current values may be lost on conversion.`,primaryButtonConfig:{text:"Convert",onClick:()=>{v(g)}},secondaryButtonConfig:{text:"Cancel",onClick:()=>{S(y)}},isGlobal:!1})]})}try{et.displayName="guessPropertyType",et.__docgenInfo={description:"",displayName:"guessPropertyType",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#guessPropertyType"]={docgenInfo:et.__docgenInfo,name:"guessPropertyType",path:"src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#guessPropertyType"})}catch{}try{tt.displayName="getWidgetFromPropertyType",tt.__docgenInfo={description:"",displayName:"getWidgetFromPropertyType",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#getWidgetFromPropertyType"]={docgenInfo:tt.__docgenInfo,name:"getWidgetFromPropertyType",path:"src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#getWidgetFromPropertyType"})}catch{}try{rt.displayName="AdditionalPropertiesSchemaField",rt.__docgenInfo={description:`react-jsonschema-form SchemaField override for "additionalProperties" only.
Modifies the data to provide full compatibility with Synapse annotations features.

This component provides these enhancements to the SchemaField:
- Supports selecting a type, and changing the input widget appropriately
- Identifying the type on mount
- Treat all field values as arrays
- When the last array value is removed, remove the entire key from the form.`,displayName:"AdditionalPropertiesSchemaField",props:{onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(key: string) => (event: any) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#AdditionalPropertiesSchemaField"]={docgenInfo:rt.__docgenInfo,name:"AdditionalPropertiesSchemaField",path:"src/lib/containers/entity/annotations/AdditionalPropertiesSchemaField.tsx#AdditionalPropertiesSchemaField"})}catch{}function Zl(e){const t={};return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?(r=r.filter(i=>i!=null),Qr(r)||(t[n]=r)):t[n]=r}),t}function Pr(e){return e.property.startsWith("[")?e.property.substring(2,e.property.length-2):e.property.startsWith(".")?e.property.substring(1):e.property}function eu(e){const t=Fi(e,n=>n.property);return Object.keys(t).map(n=>{const r=t[n];r.some(o=>o.message==="should match some schema in anyOf")&&r.every(o=>o.message==="should be string"||o.message==="should be equal to constant"?!0:o.message==="should match some schema in anyOf")&&r.length>0&&(r[0].message="should be equal to one of the allowed values",t[n]=[r[0]])}),e=Pi(t),e=e.map(n=>{const r=Pr(n);return tn.includes(r)&&(n.message=`"${r}" is a reserved internal key and cannot be used.`),n}),e}const nt=e=>{const{id:t,label:n,children:r,errors:i,help:a,description:o,hidden:l,required:u,displayLabel:d,classNames:c,disabled:f,onKeyChange:m,readonly:p}=e,h="Key";return l?s("div",{className:"hidden",children:r}):s("div",{className:`${c!=null?c:""} container-fluid`,children:O("div",{className:"row form-additional",children:[s("div",{className:"col-xs-3",children:O(mr,{children:[s(Ne,{id:`${t}-key-label`,htmlFor:`${t}-key`,children:h}),s(pr,{type:"text",disabled:f,readOnly:p,defaultValue:n,required:u,id:`${t}-key`,onBlur:y=>{y.preventDefault(),m(y.target.value)}})]})}),d&&s(Ne,{id:t,children:n}),d&&o?o:null,r,i,a]})})};try{nt.displayName="CustomAdditionalPropertiesFieldTemplate",nt.__docgenInfo={description:`FieldTemplate override for "additionalProperties" fields to customize the form appearance.

Adapted from 'WrapIfAdditional' in @rsjf/core.`,displayName:"CustomAdditionalPropertiesFieldTemplate",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawDescription:{defaultValue:null,description:"",name:"rawDescription",required:!0,type:{name:"string"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawErrors:{defaultValue:null,description:"",name:"rawErrors",required:!0,type:{name:"string[]"}},help:{defaultValue:null,description:"",name:"help",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawHelp:{defaultValue:null,description:"",name:"rawHelp",required:!0,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},displayLabel:{defaultValue:null,description:"",name:"displayLabel",required:!0,type:{name:"boolean"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"any[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},formContext:{defaultValue:null,description:"",name:"formContext",required:!0,type:{name:"any"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: any) => void"}},onKeyChange:{defaultValue:null,description:"",name:"onKeyChange",required:!0,type:{name:"((value: string) => () => void) & ((newKey: string) => void)"}},onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}},registry:{defaultValue:null,description:"",name:"registry",required:!0,type:{name:"Registry"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomAdditionalPropertiesFieldTemplate.tsx#CustomAdditionalPropertiesFieldTemplate"]={docgenInfo:nt.__docgenInfo,name:"CustomAdditionalPropertiesFieldTemplate",path:"src/lib/containers/entity/annotations/CustomAdditionalPropertiesFieldTemplate.tsx#CustomAdditionalPropertiesFieldTemplate"})}catch{}const it=({id:e,disabled:t,value:n,onChange:r})=>O(pr,{id:e,as:"select",disabled:t,value:n===void 0?n:`${n}`,onChange:i=>{const a=i.target.value;a===""?r(void 0):a==="true"?r(!0):a==="false"&&r(!1)},children:[s("option",{value:""}),s("option",{value:"true",children:"true"}),s("option",{value:"false",children:"false"})]});try{it.displayName="CustomBooleanWidget",it.__docgenInfo={description:"Select widget compatible with react-jsonschema-form booleans",displayName:"CustomBooleanWidget",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomBooleanWidget.tsx#CustomBooleanWidget"]={docgenInfo:it.__docgenInfo,name:"CustomBooleanWidget",path:"src/lib/containers/entity/annotations/CustomBooleanWidget.tsx#CustomBooleanWidget"})}catch{}const at=({disabled:e,value:t,onChange:n})=>s(bi,{disabled:e,value:t?Ai(t):"",setterCallback:r=>{r==null||typeof r=="string"?n(r):n(r.toISOString())}});try{at.displayName="CustomDateTimeWidget",at.__docgenInfo={description:"DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.",displayName:"CustomDateTimeWidget",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomDateTimeWidget.tsx#CustomDateTimeWidget"]={docgenInfo:at.__docgenInfo,name:"CustomDateTimeWidget",path:"src/lib/containers/entity/annotations/CustomDateTimeWidget.tsx#CustomDateTimeWidget"})}catch{}const tu=window.React.useEffect,ru=window.React.useState;function ot(e){var y;const{id:t,label:n,children:r,errors:i,help:a,hidden:o,required:l,displayLabel:u,formData:d,onChange:c,schema:f}=e;let m=(y=e.description)!=null?y:e.schema.description;const[p,h]=ru(!1);return tu(()=>{if(f.type!=="array"&&Array.isArray(d)){const v=d.map(g=>`${g}`).join(", ");setTimeout(()=>{c(v)},50)}},[]),o?s("div",{className:"hidden",children:r}):O(de,{children:[n&&(u||f.type==="boolean")&&O("div",{className:"LabelContainer",children:[O(Ne,{htmlFor:t,children:[n,l&&s("span",{className:"required",children:"*"})]}),s("button",{"aria-label":"More Info","aria-expanded":p,onClick:v=>{v.preventDefault(),h(!p)},children:s(nn,{className:"HelpButton SRC-primary-text-color"})})]}),r,s(Ee,{required:l,type:f.type,description:m,show:p}),i,a]})}try{ot.displayName="CustomDefaultTemplate",ot.__docgenInfo={description:"",displayName:"CustomDefaultTemplate",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"",name:"classNames",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawDescription:{defaultValue:null,description:"",name:"rawDescription",required:!0,type:{name:"string"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawErrors:{defaultValue:null,description:"",name:"rawErrors",required:!0,type:{name:"string[]"}},help:{defaultValue:null,description:"",name:"help",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawHelp:{defaultValue:null,description:"",name:"rawHelp",required:!0,type:{name:"string"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},displayLabel:{defaultValue:null,description:"",name:"displayLabel",required:!0,type:{name:"boolean"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"any[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},formContext:{defaultValue:null,description:"",name:"formContext",required:!0,type:{name:"any"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"T"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"((value: T) => void) & ((newValue: unknown) => void)"}},onKeyChange:{defaultValue:null,description:"",name:"onKeyChange",required:!0,type:{name:"(value: string) => () => void"}},onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}},registry:{defaultValue:null,description:"",name:"registry",required:!0,type:{name:"Registry"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomDefaultTemplate.tsx#CustomDefaultTemplate"]={docgenInfo:ot.__docgenInfo,name:"CustomDefaultTemplate",path:"src/lib/containers/entity/annotations/CustomDefaultTemplate.tsx#CustomDefaultTemplate"})}catch{}const nu=window.React.useState;function lt(e){const{TitleField:t,DescriptionField:n}=e,[r,i]=nu(new Set);return Ti(()=>{if(e.schema.properties){const a=Object.keys(e.schema.properties),o=new Set(a.filter(l=>!e.schema.properties[l][ke]));if(r!=null){const l=Array.from(r).filter(u=>!o.has(u)&&e.formData[u]!=null);l.length>0&&wi(`The following annotations are no longer specified by the schema and have been converted to Custom Fields: ${l.join(", ")}.`,"warning",{title:"Fields No Longer Specified By Schema"})}i(o)}},[e.schema.properties]),O("fieldset",{id:e.idSchema.$id,children:[(e.uiSchema["ui:title"]||e.title)&&s(t,{id:`${e.idSchema.$id}__title`,title:e.title||e.uiSchema["ui:title"],required:e.required}),e.description&&s(n,{id:`${e.idSchema.$id}__description`,description:e.description}),e.properties.map(a=>s("div",{children:a.content},a.name)),qn(e.schema,e.uiSchema,e.formData)&&s("div",{className:"container-fluid",children:s(Ci,{title:"Add a new custom field",placement:"top",children:s(ae,{variant:"gray",className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly,"aria-label":"Add Custom Field",children:s($e,{})})})})]})}try{lt.displayName="CustomObjectFieldTemplate",lt.__docgenInfo={description:`Basically identical to the default object field template, with a custom button.

See {@link node_modules /@rjsf/core/src/components/fields/ObjectField.js#DefaultObjectFieldTemplate}`,displayName:"CustomObjectFieldTemplate",props:{DescriptionField:{defaultValue:null,description:"",name:"DescriptionField",required:!0,type:{name:"React.StatelessComponent<{ id: string; description: string | ReactElement<any, string | JSXElementConstructor<any>>; }>"}},TitleField:{defaultValue:null,description:"",name:"TitleField",required:!0,type:{name:"React.StatelessComponent<{ id: string; title: string; required: boolean; }>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; name: string; disabled: boolean; readonly: boolean; hidden: boolean; }[]"}},onAddClick:{defaultValue:null,description:"",name:"onAddClick",required:!0,type:{name:"(schema: JSONSchema7) => () => void"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},idSchema:{defaultValue:null,description:"",name:"idSchema",required:!0,type:{name:"IdSchema<any>"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"Record<string, unknown>"}},formContext:{defaultValue:null,description:"",name:"formContext",required:!0,type:{name:"any"}},registry:{defaultValue:null,description:"",name:"registry",required:!0,type:{name:"Registry"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomObjectFieldTemplate.tsx#CustomObjectFieldTemplate"]={docgenInfo:lt.__docgenInfo,name:"CustomObjectFieldTemplate",path:"src/lib/containers/entity/annotations/CustomObjectFieldTemplate.tsx#CustomObjectFieldTemplate"})}catch{}const Gr=window.React.useMemo,iu=window.React.useCallback;var au=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Xr=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=String(t).toLowerCase(),a=String(r.getOptionValue(n)).toLowerCase(),o=String(r.getOptionLabel(n)).toLowerCase();return a===i||o===i},kt={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,r,i){return!(!t||n.some(function(a){return Xr(t,a,i)})||r.some(function(a){return Xr(t,a,i)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function ou(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,r=e.createOptionPosition,i=r===void 0?"last":r,a=e.formatCreateLabel,o=a===void 0?kt.formatCreateLabel:a,l=e.isValidNewOption,u=l===void 0?kt.isValidNewOption:l,d=e.getNewOptionData,c=d===void 0?kt.getNewOptionData:d,f=e.onCreateOption,m=e.options,p=m===void 0?[]:m,h=e.onChange,y=ji(e,au),v=y.getOptionValue,g=v===void 0?$i:v,S=y.getOptionLabel,b=S===void 0?Ei:S,_=y.inputValue,F=y.isLoading,w=y.isMulti,P=y.value,C=y.name,A=Gr(function(){return u(_,Ar(P),p,{getOptionValue:g,getOptionLabel:b})?c(_,o(_)):void 0},[o,c,b,g,_,u,p,P]),$=Gr(function(){return(n||!F)&&A?i==="first"?[A].concat(At(p)):[].concat(At(p),[A]):p},[n,i,F,A,p]),R=iu(function(D,j){if(j.action!=="select-option")return h(D,j);var x=Array.isArray(D)?D:[D];if(x[x.length-1]===A){if(f)f(_);else{var T=c(_,_),q={action:"create-option",name:C,option:T};h(Di(w,[].concat(At(Ar(P)),[T]),T),q)}return}h(D,j)},[c,_,w,C,A,f,h,P]);return Tr(Tr({},y),{},{options:$,onChange:R})}const lu=window.React.forwardRef;var uu=lu(function(e,t){var n=xi(e),r=ou(n);return s(Ni,{ref:t,...r})});const su=({children:e,...t})=>s(Ri.Control,{...t,className:"form-control",children:e});function du(e,t){if(e==null)return;const n=t.filter(r=>r.value===e);return n.length>0?n[0]:{value:e,label:e}}const ut=e=>{const{id:t,options:n,value:r,required:i,disabled:a,readonly:o,multiple:l,autofocus:u,onChange:d,onBlur:c,onFocus:f,placeholder:m}=e,{enumOptions:p}=n;return s(uu,{className:"react-select-container",inputId:t,isMulti:l,placeholder:m,value:du(r,p),"aria-required":i,isDisabled:a||o,autoFocus:u,onBlur:c&&(()=>c(t,r==null?void 0:r.value)),options:p,onFocus:f&&(()=>f(t,r==null?void 0:r.value)),onChange:h=>d(h==null?void 0:h.value),isClearable:!0,components:{Control:su},formatCreateLabel:h=>`Set to custom value "${h}"`,styles:{control:h=>({...h,border:"unset",borderColor:"unset",boxShadow:"unset","&:hover":{}}),valueContainer:h=>({...h,padding:"0px"})}})};try{ut.displayName="CustomSelectWidget",ut.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"CustomSelectWidget",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomSelectWidget.tsx#CustomSelectWidget"]={docgenInfo:ut.__docgenInfo,name:"CustomSelectWidget",path:"src/lib/containers/entity/annotations/CustomSelectWidget.tsx#CustomSelectWidget"})}catch{}const st=e=>{const{BaseInput:t}=e.registry.widgets;let n=null;return(e.schema.type==="number"||e.schema.type==="integer")&&(n="text"),s(t,{...e,options:{...e.options,inputType:n}})};try{st.displayName="CustomTextWidget",st.__docgenInfo={description:`This TextWidget is almost identical to the rjsf TextWidget, except we handle numbers like strings to prevent issues if
the actual annotation data is not a string.`,displayName:"CustomTextWidget",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomTextWidget.tsx#CustomTextWidget"]={docgenInfo:st.__docgenInfo,name:"CustomTextWidget",path:"src/lib/containers/entity/annotations/CustomTextWidget.tsx#CustomTextWidget"})}catch{}const Fe=window.React,cu=window.React.useEffect,fu=window.React.useRef,mu=tn.reduce((e,t)=>(e[`^${t}$`]={not:{}},e),{}),Wt=e=>{var R,D,j;const{entityId:t,schemaId:n,liveValidate:r=!1,onSuccess:i=()=>{},onCancel:a,formRef:o}=e,l=fu(null),[u,d]=Fe.useState(void 0),[c,f]=Fe.useState(void 0),[m,p]=Fe.useState(void 0),[h,y]=Fe.useState(!1),[v,g]=Fe.useState(!1),{entityMetadata:S,annotations:b}=pi(t,{enabled:!!t&&!u,useErrorBoundary:!0});cu(()=>{b&&d(b)},[b]);const{data:_,isLoading:F}=qi(t,{enabled:!!t,refetchOnWindowFocus:!1,useErrorBoundary:!0}),{data:w,isLoading:P}=ki((R=n!=null?n:_==null?void 0:_.jsonSchemaVersionInfo.$id)!=null?R:"",{enabled:!!n||!!_,select:x=>(delete x.$id,x),useErrorBoundary:!0}),C=F||P,A=yi({onSuccess:()=>{i()},onError:x=>{p(x),y(!0)}});function $(){A.mutate({...Zl(u!=null?u:{}),...S})}return s("div",{className:"bootstrap-4-backport AnnotationEditor",children:C?s("div",{className:"LoadingPlaceholder",children:s(hi,{size:30})}):O(de,{children:[S&&_&&O(We,{dismissible:!1,show:!0,variant:"info",transition:!1,children:[s("b",{children:S.name})," requires scientific annotations specified by ",s("b",{children:_.jsonSchemaVersionInfo.$id}),". ",s("b",{children:s("a",{href:`${si(di.REPO_ENDPOINT)}/repo/v1/schema/type/registered/${_.jsonSchemaVersionInfo.$id}`,target:"_blank",rel:"noopener noreferrer",children:"View required schema (JSON)"})})]}),S&&(!u||Qr(u))&&_===null&&O(We,{dismissible:!1,show:!0,variant:"info",transition:!1,children:[s("b",{children:S.name})," has no annotations. Click the"," ",s($e,{})," button to annotate."]}),O(Mn,{className:"AnnotationEditorForm",liveValidate:r,noHtml5Validate:!0,ArrayFieldTemplate:xe,ObjectFieldTemplate:lt,FieldTemplate:ot,ref:o!=null?o:l,disabled:A.isLoading,ErrorList:()=>null,schema:{...w!=null?w:{},patternProperties:{...(D=w==null?void 0:w.patternProperties)!=null?D:{},...mu},additionalProperties:(j=w==null?void 0:w.additionalProperties)!=null?j:!0},uiSchema:{"ui:DuplicateKeySuffixSeparator":"_",additionalProperties:{"ui:field":rt,"ui:FieldTemplate":nt}},transformErrors:eu,formData:u,onChange:({formData:x})=>{d(x),f(void 0)},onSubmit:({formData:x,errors:T})=>{T&&T.length>0&&f(T),y(!1),d(x),$()},onError:x=>{f(x),c&&t&&g(!0)},widgets:{TextWidget:st,DateTimeWidget:at,SelectWidget:ut,CheckboxWidget:it},children:[c&&O(We,{className:"ErrorList",dismissible:!1,show:!0,variant:"danger",transition:!1,children:[s("b",{children:"Validation errors found:"}),s("ul",{children:c.map((x,T)=>O("li",{children:[s("b",{children:`${Pr(x)}: `})," ",`${x.message}`]},T))})]}),m&&O(We,{dismissible:!1,show:h,variant:"danger",transition:!1,children:["Annotations could not be updated: ",m.reason]}),!o&&O(de,{children:[s("hr",{}),O("div",{className:"SaveButtonContainer",children:[s(ae,{variant:"primary-500",onClick:()=>{l.current.submit()},children:t?"Save":"Validate"}),a&&O(de,{children:[s("div",{className:"Spacer"}),s(ae,{variant:"primary-500",onClick:a,children:"Cancel"})]})]})]})]}),v&&s(pu,{show:!0,onSave:()=>{$(),g(!1)},onCancel:()=>{g(!1)},errors:c})]})})},pu=({show:e,onCancel:t,onSave:n,errors:r})=>O(Oe,{animation:!1,show:e,onHide:t,backdrop:"static",children:[s(Oe.Header,{closeButton:!0,children:s(Oe.Title,{children:"Update Annotations"})}),O(Oe.Body,{children:[s("div",{children:"The following errors exist with the annotations you entered:"}),s("div",{children:s("ul",{children:(r!=null?r:[]).map((i,a)=>O("li",{children:[s("b",{children:`${Pr(i)}: `})," ",`${i.message}`]},a))})}),s("div",{children:"Are you sure you want to save them?"})]}),O(Oe.Footer,{children:[s(ae,{variant:"default",onClick:t,children:"Cancel"}),s(ae,{variant:"primary",onClick:n,children:"Save"})]})]});try{Wt.displayName="SchemaDrivenAnnotationEditor",Wt.__docgenInfo={description:`Renders a form for editing an entity's annotations. The component also supports supplying just a schema ID,
but work to support annotation flows without an entity (i.e. before creating entities) is not yet complete.`,displayName:"SchemaDrivenAnnotationEditor",props:{entityId:{defaultValue:null,description:"The entity whose annotations should be edited with the form",name:"entityId",required:!1,type:{name:"string"}},schemaId:{defaultValue:null,description:"If no entity ID is supplied, the schema to use for the form",name:"schemaId",required:!1,type:{name:"string"}},formRef:{defaultValue:null,description:"Optionally supply a ref to the form to handle submission externally with `formRef.current.submit()`. If provided, the editor will not render its own submit UI.",name:"formRef",required:!1,type:{name:"RefObject<Form<Record<string, unknown>>>"}},liveValidate:{defaultValue:null,description:"Provide live input validation. This can cause major performance degradation.",name:"liveValidate",required:!1,type:{name:"boolean"}},onSuccess:{defaultValue:null,description:"Invoked after a successful form submission",name:"onSuccess",required:!1,type:{name:"(() => void)"}},onCancel:{defaultValue:null,description:"If defined and formRef is not supplied, shows a 'Cancel' button and runs this effect on click",name:"onCancel",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/SchemaDrivenAnnotationEditor.tsx#SchemaDrivenAnnotationEditor"]={docgenInfo:Wt.__docgenInfo,name:"SchemaDrivenAnnotationEditor",path:"src/lib/containers/entity/annotations/SchemaDrivenAnnotationEditor.tsx#SchemaDrivenAnnotationEditor"})}catch{}export{Wt as S,Vu as a,qi as u};
