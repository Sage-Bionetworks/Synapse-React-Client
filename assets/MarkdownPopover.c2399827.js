import{i as j,g as R,d as T,e as N,f as q,h as x,o as B,j as F,k as V,l as I,n as U}from"./usePopperMarginModifiers.31225551.js";import{M as L}from"./MarkdownSynapse.03ad4394.js";import{T as $}from"./Typography.bfdf676e.js";import{j as p,a as g,F as z}from"./jsx-runtime.2e925369.js";import{C as D}from"./ToastMessage.f82ed562.js";import{B as M}from"./Button.c582ea4c.js";const P=window.React;var k=function(e){return e.reduce(function(n,t){var a=t[0],o=t[1];return n[a]=o,n},{})},C=typeof window!="undefined"&&window.document&&window.document.createElement?P.useLayoutEffect:P.useEffect;function Y(r){var e=r.state;Object.keys(e.elements).forEach(function(n){var t=e.styles[n]||{},a=e.attributes[n]||{},o=e.elements[n];!j(o)||!R(o)||(Object.assign(o.style,t),Object.keys(a).forEach(function(u){var l=a[u];l===!1?o.removeAttribute(u):o.setAttribute(u,l===!0?"":l)}))})}function K(r){var e=r.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var a=e.elements[t],o=e.attributes[t]||{},u=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]),l=u.reduce(function(i,d){return i[d]="",i},{});!j(a)||!R(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(i){a.removeAttribute(i)}))})}}var G={name:"applyStyles",enabled:!0,phase:"write",fn:Y,effect:K,requires:["computeStyles"]},H=[N,q,x,G,B,F,V,I,U],J=T({defaultModifiers:H}),W=typeof Element!="undefined",X=typeof Map=="function",Q=typeof Set=="function",Z=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function O(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var n,t,a;if(Array.isArray(r)){if(n=r.length,n!=e.length)return!1;for(t=n;t--!==0;)if(!O(r[t],e[t]))return!1;return!0}var o;if(X&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(o=r.entries();!(t=o.next()).done;)if(!e.has(t.value[0]))return!1;for(o=r.entries();!(t=o.next()).done;)if(!O(t.value[1],e.get(t.value[0])))return!1;return!0}if(Q&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(o=r.entries();!(t=o.next()).done;)if(!e.has(t.value[0]))return!1;return!0}if(Z&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(n=r.length,n!=e.length)return!1;for(t=n;t--!==0;)if(r[t]!==e[t])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();if(a=Object.keys(r),n=a.length,n!==Object.keys(e).length)return!1;for(t=n;t--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[t]))return!1;if(W&&r instanceof Element)return!1;for(t=n;t--!==0;)if(!((a[t]==="_owner"||a[t]==="__v"||a[t]==="__o")&&r.$$typeof)&&!O(r[a[t]],e[a[t]]))return!1;return!0}return r!==r&&e!==e}var ee=function(e,n){try{return O(e,n)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}};const S=window.React,te=window.ReactDOM;var re=[],ne=function(e,n,t){t===void 0&&(t={});var a=S.useRef(null),o={onFirstUpdate:t.onFirstUpdate,placement:t.placement||"bottom",strategy:t.strategy||"absolute",modifiers:t.modifiers||re},u=S.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=u[0],i=u[1],d=S.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(v){var y=v.state,w=Object.keys(y.elements);te.flushSync(function(){i({styles:k(w.map(function(c){return[c,y.styles[c]||{}]})),attributes:k(w.map(function(c){return[c,y.attributes[c]]}))})})},requires:["computeStyles"]}},[]),m=S.useMemo(function(){var f={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[d,{name:"applyStyles",enabled:!1}])};return ee(a.current,f)?a.current||f:(a.current=f,f)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,d]),s=S.useRef();return C(function(){s.current&&s.current.setOptions(m)},[m]),C(function(){if(!(e==null||n==null)){var f=t.createPopper||J,v=f(e,n,m);return s.current=v,function(){v.destroy(),s.current=null}}},[e,n,t.createPopper]),{state:s.current?s.current.state:null,styles:l.styles,attributes:l.attributes,update:s.current?s.current.update:null,forceUpdate:s.current?s.current.forceUpdate:null}};const h=window.React.useState,b=({children:r,contentProps:e,placement:n,showCloseButton:t=!0,actionButton:a,strategy:o,style:u})=>{var E;n=n!=null?n:"bottom-start";const[l,i]=h(!1),[d,m]=h(null),[s,f]=h(null),[v,y]=h(null),{styles:w,attributes:c}=ne(d,s,{placement:n,strategy:o,modifiers:[{name:"arrow",options:{element:v}},{name:"offset",options:{offset:[0,10]}}]}),_=p(D,{in:l,timeout:200,classNames:"fade-in-out",mountOnEnter:!0,children:g("div",{className:"Tooltip SRC-popover bootstrap-4-backport",style:{...u,...w.popper},ref:f,...c.popper,children:[p($,{variant:"body1",children:p(L,{...e})}),g("div",{className:"TooltipButtonContainer",children:[a&&p(M,{variant:(E=a.variant)!=null?E:"primary-500",className:"pill",onClick:()=>{a.onClick(),a.closePopoverOnClick&&i(!1)},children:a.content}),t&&p(M,{variant:"light",className:"pill",onClick:()=>i(!1),children:"Close"})]}),p("div",{className:"arrow","data-popper-arrow":!0,ref:y,style:w.arrow})]})});return g(z,{children:[p("span",{role:"button",className:"PopoverContainer bootstrap-4-backport",onClick:()=>i(A=>!A),ref:m,children:r}),_]})};try{b.displayName="MarkdownPopover",b.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; variant: string; onClick: () => void; closePopoverOnClick: boolean; }"}},strategy:{defaultValue:null,description:"",name:"strategy",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"fixed"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/MarkdownPopover.tsx#MarkdownPopover"]={docgenInfo:b.__docgenInfo,name:"MarkdownPopover",path:"src/lib/containers/MarkdownPopover.tsx#MarkdownPopover"})}catch{}export{b as M};
//# sourceMappingURL=MarkdownPopover.c2399827.js.map
