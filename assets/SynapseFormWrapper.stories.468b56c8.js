import{b as Cn,t as Oo,c as K,aB as Ao,g as cs}from"./iframe.c7567c2d.js";import{u as hn,b as To,r as fs}from"./url.de899ad3.js";import{b as hs}from"./index.66e0b57e.js";import{a as ds}from"./assert.de3079c0.js";import{r as Ir}from"./inherits_browser.b403e899.js";import{j as N,a as j,F as J,c as ps,r as vt}from"./jsx-runtime.31268528.js";import{b7 as Ri,$ as ms,aq as vs,ae as ys,d1 as gs,d2 as Ss,bO as _s,d3 as Es,d4 as ws,d5 as bs}from"./index.22d2125e.js";import{g as Rs}from"./SynapseConstants.290eab74.js";import{F as Os}from"./core.esm.7a354c66.js";import{I as br}from"./IconSvg.1a319e23.js";import{c as Co}from"./cloneDeep.edfd3e7e.js";import{k as As}from"./_getTag.005e7532.js";import{f as Ts,h as Cs,i as Oi,a as Fs,l as U,b as Ns}from"./lodash.default.8f9d63b7.js";import{g as yt}from"./isEmpty.7ec601bf.js";import{e as Ai}from"./isArray.e45ce668.js";import{W as Is}from"./WarningModal.0aedfe85.js";import{P as xs}from"./react-router.5b70f4d2.js";import{A as Ti}from"./Alert.d1d035f0.js";import{B as ks}from"./Button.3eb9449f.js";import"./index.d5f32449.js";import"./styled.0bfd4c69.js";import"./utils.033d23ab.js";import"./TransitionGroupContext.43d26755.js";import"./useTheme.910eaec3.js";import"./Fade.4ca82ca8.js";import"./getEndpoint.bb7ded34.js";import"./createWithBsPrefix.4103f011.js";import"./Link.df009298.js";import"./Typography.7deb443e.js";import"./Button.5756842c.js";import"./ButtonBase.34890086.js";import"./emotion-react.browser.esm.d60ec8ed.js";import"./index.35ce73ec.js";import"./pick.a80537e5.js";import"./uniqueId.23cb78c9.js";import"./isSymbol.32cdb41a.js";import"./_baseClone.dc0316e6.js";import"./_baseSlice.50189bc5.js";import"./index.browser.62786e23.js";import"./union.8e76d114.js";import"./without.6ba87f76.js";import"./_cacheHas.93c5766b.js";import"./uniq.f8b89bad.js";import"./toInteger.93a4e178.js";import"./_Set.87305464.js";import"./_setToArray.a82100c8.js";import"./Tooltip.5176c19c.js";import"./createSvgIcon.f7c19e7b.js";import"./InfoOutlined.1c97ae19.js";import"./startCase.d7fe3e9e.js";import"./upperFirst.99d19ae0.js";import"./omitBy.676785c3.js";import"./times.97f8800e.js";import"./isEqual.81f70372.js";import"./groupBy.461d9450.js";import"./toLower.ff19f093.js";import"./Modal.befa9583.js";import"./contains.861fc71b.js";import"./inheritsLoose.58664c58.js";import"./divWithClassName.a05c647c.js";import"./usePrevious.638ecd05.js";import"./removeClass.27874bcb.js";import"./hasClass.56fd144a.js";import"./useWaitForDOMRef.f228876d.js";import"./hook.78e5dc31.js";var Oe={exports:{}};const Ps=!1,Ds=/\r?\n/,Ls=/\bono[ @]/;function Bs(e){return Boolean(e&&e.configurable&&typeof e.get=="function")}function Ms(e){return Boolean(!e||e.writable||typeof e.set=="function")}function Fo(e,t){let r=No(e.stack),i=t?t.stack:void 0;return r&&i?r+`

`+i:r||i}function $s(e,t,r){r?Object.defineProperty(t,"stack",{get:()=>{let i=e.get.apply(t);return Fo({stack:i},r)},enumerable:!1,configurable:!0}):Us(t,e)}function No(e){if(e){let t=e.split(Ds),r;for(let i=0;i<t.length;i++){let n=t[i];if(Ls.test(n))r===void 0&&(r=i);else if(r!==void 0){t.splice(r,i-r);break}}if(t.length>0)return t.join(`
`)}return e}function Us(e,t){Object.defineProperty(e,"stack",{get:()=>No(t.get.apply(e)),enumerable:!1,configurable:!0})}const js=["function","symbol","undefined"],Vs=["constructor","prototype","__proto__"],Hs=Object.getPrototypeOf({});function Io(){let e={},t=this;for(let r of xo(t))if(typeof r=="string"){let i=t[r],n=typeof i;js.includes(n)||(e[r]=i)}return e}function xo(e,t=[]){let r=[];for(;e&&e!==Hs;)r=r.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)),e=Object.getPrototypeOf(e);let i=new Set(r);for(let n of t.concat(Vs))i.delete(n);return i}const Ws=["name","message","stack"];function fr(e,t,r){let i=e;return Ys(i,t),t&&typeof t=="object"&&qs(i,t),i.toJSON=Io,r&&typeof r=="object"&&Object.assign(i,r),i}function Ys(e,t){let r=Object.getOwnPropertyDescriptor(e,"stack");Bs(r)?$s(r,e,t):Ms(r)&&(e.stack=Fo(e,t))}function qs(e,t){let r=xo(t,Ws),i=e,n=t;for(let o of r)if(i[o]===void 0)try{i[o]=n[o]}catch{}}function Ks(e){return e=e||{},{concatMessages:e.concatMessages===void 0?!0:Boolean(e.concatMessages),format:e.format===void 0?Ps:typeof e.format=="function"?e.format:!1}}function zs(e,t){let r,i,n,o="";return typeof e[0]=="string"?n=e:typeof e[1]=="string"?(e[0]instanceof Error?r=e[0]:i=e[0],n=e.slice(1)):(r=e[0],i=e[1],n=e.slice(2)),n.length>0&&(t.format?o=t.format.apply(void 0,n):o=n.join(" ")),t.concatMessages&&r&&r.message&&(o+=(o?` 
`:"")+r.message),{originalError:r,props:i,message:o}}const Ue=Fn;function Fn(e,t){t=Ks(t);function r(...i){let{originalError:n,props:o,message:a}=zs(i,t),l=new e(a);return fr(l,n,o)}return r[Symbol.species]=e,r}Fn.toJSON=function(t){return Io.call(t)};Fn.extend=function(t,r,i){return i||r instanceof Error?fr(t,r,i):r?fr(t,void 0,r):fr(t)};const Ci=Ae;Ae.error=new Ue(Error);Ae.eval=new Ue(EvalError);Ae.range=new Ue(RangeError);Ae.reference=new Ue(ReferenceError);Ae.syntax=new Ue(SyntaxError);Ae.type=new Ue(TypeError);Ae.uri=new Ue(URIError);const Gs=Ae;function Ae(...e){let t=e[0];if(typeof t=="object"&&typeof t.name=="string"){for(let r of Object.values(Gs))if(typeof r=="function"&&r.name==="ono"){let i=r[Symbol.species];if(i&&i!==Error&&(t instanceof i||t.name===i.name))return r.apply(void 0,e)}}return Ae.error.apply(void 0,e)}typeof module=="object"&&typeof module.exports=="object"&&(module.exports=Object.assign(module.exports.default,module.exports));const Js=Object.freeze(Object.defineProperty({__proto__:null,ono:Ci,default:Ci,Ono:Ue},Symbol.toStringTag,{value:"Module"})),ot=Cn(Js);var se={exports:{}};(function(e,t){let r=/^win/.test(process.platform),i=/\//g,n=/^(\w{2,}):\/\//i,o=e.exports,a=/~1/g,l=/~0/g,f=[/\?/g,"%3F",/\#/g,"%23"],m=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];t.parse=hn.parse,t.resolve=hn.resolve,t.cwd=function(){if(process.browser)return location.href;let v=process.cwd(),y=v.slice(-1);return y==="/"||y==="\\"?v:v+"/"},t.getProtocol=function(v){let y=n.exec(v);if(y)return y[1].toLowerCase()},t.getExtension=function(v){let y=v.lastIndexOf(".");return y>=0?o.stripQuery(v.substr(y).toLowerCase()):""},t.stripQuery=function(v){let y=v.indexOf("?");return y>=0&&(v=v.substr(0,y)),v},t.getHash=function(v){let y=v.indexOf("#");return y>=0?v.substr(y):"#"},t.stripHash=function(v){let y=v.indexOf("#");return y>=0&&(v=v.substr(0,y)),v},t.isHttp=function(v){let y=o.getProtocol(v);return y==="http"||y==="https"?!0:y===void 0?process.browser:!1},t.isFileSystemPath=function(v){if(process.browser)return!1;let y=o.getProtocol(v);return y===void 0||y==="file"},t.fromFileSystemPath=function(v){r&&(v=v.replace(/\\/g,"/")),v=encodeURI(v);for(let y=0;y<f.length;y+=2)v=v.replace(f[y],f[y+1]);return v},t.toFileSystemPath=function(v,y){v=decodeURI(v);for(let E=0;E<m.length;E+=2)v=v.replace(m[E],m[E+1]);let g=v.substr(0,7).toLowerCase()==="file://";return g&&(v=v[7]==="/"?v.substr(8):v.substr(7),r&&v[1]==="/"&&(v=v[0]+":"+v.substr(1)),y?v="file:///"+v:(g=!1,v=r?v:"/"+v)),r&&!g&&(v=v.replace(i,"\\"),v.substr(1,2)===":\\"&&(v=v[0].toUpperCase()+v.substr(1))),v},t.safePointerToPath=function(v){return v.length<=1||v[0]!=="#"||v[1]!=="/"?[]:v.slice(2).split("/").map(y=>decodeURIComponent(y).replace(a,"/").replace(l,"~"))}})(se,se.exports);var G={};const{Ono:ko}=ot,{stripHash:Po,toFileSystemPath:Xs}=se.exports,je=G.JSONParserError=class extends Error{constructor(t,r){super(),this.code="EUNKNOWN",this.message=t,this.source=r,this.path=null,ko.extend(this)}get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}};Ve(je);const Do=G.JSONParserErrorGroup=class Lo extends Error{constructor(t){super(),this.files=t,this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${Xs(t.$refs._root$Ref.path)}'`,ko.extend(this)}static getParserErrors(t){const r=[];for(const i of Object.values(t.$refs._$refs))i.errors&&r.push(...i.errors);return r}get errors(){return Lo.getParserErrors(this.files)}};Ve(Do);const Qs=G.ParserError=class extends je{constructor(t,r){super(`Error parsing ${r}: ${t}`,r),this.code="EPARSER"}};Ve(Qs);const Zs=G.UnmatchedParserError=class extends je{constructor(t){super(`Could not find parser for "${t}"`,t),this.code="EUNMATCHEDPARSER"}};Ve(Zs);const eu=G.ResolverError=class extends je{constructor(t,r){super(t.message||`Error reading file "${r}"`,r),this.code="ERESOLVER","code"in t&&(this.ioErrorCode=String(t.code))}};Ve(eu);const tu=G.UnmatchedResolverError=class extends je{constructor(t){super(`Could not find resolver for "${t}"`,t),this.code="EUNMATCHEDRESOLVER"}};Ve(tu);const ru=G.MissingPointerError=class extends je{constructor(t,r){super(`Token "${t}" does not exist.`,Po(r)),this.code="EMISSINGPOINTER"}};Ve(ru);const nu=G.InvalidPointerError=class extends je{constructor(t,r){super(`Invalid $ref pointer "${t}". Pointers must begin with "#/"`,Po(r)),this.code="EINVALIDPOINTER"}};Ve(nu);function Ve(e){Object.defineProperty(e.prototype,"name",{value:e.name,enumerable:!0})}G.isHandledError=function(e){return e instanceof je||e instanceof Do};G.normalizeError=function(e){return e.path===null&&(e.path=[]),e};var Qr,Fi;function xr(){if(Fi)return Qr;Fi=1,Qr=d;const e=qt(),t=se.exports,{JSONParserError:r,InvalidPointerError:i,MissingPointerError:n,isHandledError:o}=G,a=/\//g,l=/~/g,f=/~1/g,m=/~0/g;function d(E,_,w){this.$ref=E,this.path=_,this.originalPath=w||_,this.value=void 0,this.circular=!1,this.indirections=0}d.prototype.resolve=function(E,_,w){let R=d.parse(this.path,this.originalPath);this.value=g(E);for(let b=0;b<R.length;b++){if(v(this,_)&&(this.path=d.join(this.path,R.slice(b))),typeof this.value=="object"&&this.value!==null&&"$ref"in this.value)return this;let A=R[b];if(this.value[A]===void 0||this.value[A]===null)throw this.value=null,new n(A,this.originalPath);this.value=this.value[A]}return(!this.value||this.value.$ref&&t.resolve(this.path,this.value.$ref)!==w)&&v(this,_),this},d.prototype.set=function(E,_,w){let R=d.parse(this.path),b;if(R.length===0)return this.value=_,_;this.value=g(E);for(let A=0;A<R.length-1;A++)v(this,w),b=R[A],this.value&&this.value[b]!==void 0?this.value=this.value[b]:this.value=y(this,b,{});return v(this,w),b=R[R.length-1],y(this,b,_),E},d.parse=function(E,_){let w=t.getHash(E).substr(1);if(!w)return[];w=w.split("/");for(let R=0;R<w.length;R++)w[R]=decodeURIComponent(w[R].replace(f,"/").replace(m,"~"));if(w[0]!=="")throw new i(w,_===void 0?E:_);return w.slice(1)},d.join=function(E,_){E.indexOf("#")===-1&&(E+="#"),_=Array.isArray(_)?_:[_];for(let w=0;w<_.length;w++){let R=_[w];E+="/"+encodeURIComponent(R.replace(l,"~0").replace(a,"~1"))}return E};function v(E,_){if(e.isAllowed$Ref(E.value,_)){let w=t.resolve(E.path,E.value.$ref);if(w===E.path)E.circular=!0;else{let R=E.$ref.$refs._resolve(w,E.path,_);return R===null?!1:(E.indirections+=R.indirections+1,e.isExtended$Ref(E.value)?(E.value=e.dereference(E.value,R.value),!1):(E.$ref=R.$ref,E.path=R.path,E.value=R.value,!0))}}}function y(E,_,w){if(E.value&&typeof E.value=="object")_==="-"&&Array.isArray(E.value)?E.value.push(w):E.value[_]=w;else throw new r(`Error assigning $ref pointer "${E.path}". 
Cannot set "${_}" of a non-object.`);return w}function g(E){if(o(E))throw E;return E}return Qr}var Zr,Ni;function qt(){if(Ni)return Zr;Ni=1,Zr=l;const e=xr(),{InvalidPointerError:t,isHandledError:r,normalizeError:i}=G,{safePointerToPath:n,stripHash:o,getHash:a}=se.exports;function l(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0,this.errors=void 0}return l.prototype.addError=function(f){this.errors===void 0&&(this.errors=[]);const m=this.errors.map(({footprint:d})=>d);Array.isArray(f.errors)?this.errors.push(...f.errors.map(i).filter(({footprint:d})=>!m.includes(d))):m.includes(f.footprint)||this.errors.push(i(f))},l.prototype.exists=function(f,m){try{return this.resolve(f,m),!0}catch{return!1}},l.prototype.get=function(f,m){return this.resolve(f,m).value},l.prototype.resolve=function(f,m,d,v){let y=new e(this,f,d);try{return y.resolve(this.value,m,v)}catch(g){if(!m||!m.continueOnError||!r(g))throw g;return g.path===null&&(g.path=n(a(v))),g instanceof t&&(g.source=o(v)),this.addError(g),null}},l.prototype.set=function(f,m){let d=new e(this,f);this.value=d.set(this.value,m)},l.is$Ref=function(f){return f&&typeof f=="object"&&typeof f.$ref=="string"&&f.$ref.length>0},l.isExternal$Ref=function(f){return l.is$Ref(f)&&f.$ref[0]!=="#"},l.isAllowed$Ref=function(f,m){if(l.is$Ref(f)){if(f.$ref.substr(0,2)==="#/"||f.$ref==="#")return!0;if(f.$ref[0]!=="#"&&(!m||m.resolve.external))return!0}},l.isExtended$Ref=function(f){return l.is$Ref(f)&&Object.keys(f).length>1},l.dereference=function(f,m){if(m&&typeof m=="object"&&l.isExtended$Ref(f)){let d={};for(let v of Object.keys(f))v!=="$ref"&&(d[v]=f[v]);for(let v of Object.keys(m))v in d||(d[v]=m[v]);return d}else return m},Zr}const{ono:Bo}=ot,iu=qt(),$e=se.exports;var ou=ge;function ge(){this.circular=!1,this._$refs={},this._root$Ref=null}ge.prototype.paths=function(e){return Mo(this._$refs,arguments).map(r=>r.decoded)};ge.prototype.values=function(e){let t=this._$refs;return Mo(t,arguments).reduce((i,n)=>(i[n.decoded]=t[n.encoded].value,i),{})};ge.prototype.toJSON=ge.prototype.values;ge.prototype.exists=function(e,t){try{return this._resolve(e,"",t),!0}catch{return!1}};ge.prototype.get=function(e,t){return this._resolve(e,"",t).value};ge.prototype.set=function(e,t){let r=$e.resolve(this._root$Ref.path,e),i=$e.stripHash(r),n=this._$refs[i];if(!n)throw Bo(`Error resolving $ref pointer "${e}". 
"${i}" not found.`);n.set(r,t)};ge.prototype._add=function(e){let t=$e.stripHash(e),r=new iu;return r.path=t,r.$refs=this,this._$refs[t]=r,this._root$Ref=this._root$Ref||r,r};ge.prototype._resolve=function(e,t,r){let i=$e.resolve(this._root$Ref.path,e),n=$e.stripHash(i),o=this._$refs[n];if(!o)throw Bo(`Error resolving $ref pointer "${e}". 
"${n}" not found.`);return o.resolve(i,r,e,t)};ge.prototype._get$Ref=function(e){e=$e.resolve(this._root$Ref.path,e);let t=$e.stripHash(e);return this._$refs[t]};function Mo(e,t){let r=Object.keys(e);return t=Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t),t.length>0&&t[0]&&(r=r.filter(i=>t.indexOf(e[i].pathType)!==-1)),r.map(i=>({encoded:i,decoded:e[i].pathType==="file"?$e.toFileSystemPath(i,!0):i}))}var Kt={};Kt.all=function(e){return Object.keys(e).filter(t=>typeof e[t]=="object").map(t=>(e[t].name=t,e[t]))};Kt.filter=function(e,t,r){return e.filter(i=>!!$o(i,t,r))};Kt.sort=function(e){for(let t of e)t.order=t.order||Number.MAX_SAFE_INTEGER;return e.sort((t,r)=>t.order-r.order)};Kt.run=function(e,t,r,i){let n,o,a=0;return new Promise((l,f)=>{m();function m(){if(n=e[a++],!n)return f(o);try{let g=$o(n,t,r,d,i);if(g&&typeof g.then=="function")g.then(v,y);else if(g!==void 0)v(g);else if(a===e.length)throw new Error("No promise has been returned or callback has been called.")}catch(g){y(g)}}function d(g,E){g?y(g):v(E)}function v(g){l({plugin:n,result:g})}function y(g){o={plugin:n,error:g},m()}})};function $o(e,t,r,i,n){let o=e[t];if(typeof o=="function")return o.apply(e,[r,i,n]);if(!i){if(o instanceof RegExp)return o.test(r.url);if(typeof o=="string")return o===r.extension;if(Array.isArray(o))return o.indexOf(r.extension)!==-1}return o}const{ono:dn}=ot,Ii=se.exports,De=Kt,{ResolverError:xi,ParserError:ki,UnmatchedParserError:au,UnmatchedResolverError:su,isHandledError:uu}=G;var Uo=lu;async function lu(e,t,r){e=Ii.stripHash(e);let i=t._add(e),n={url:e,extension:Ii.getExtension(e)};try{const o=await cu(n,r,t);i.pathType=o.plugin.name,n.data=o.result;const a=await fu(n,r,t);return i.value=a.result,a.result}catch(o){throw uu(o)&&(i.value=o),o}}function cu(e,t,r){return new Promise((i,n)=>{let o=De.all(t.resolve);o=De.filter(o,"canRead",e),De.sort(o),De.run(o,"read",e,r).then(i,a);function a(l){!l&&t.continueOnError?n(new su(e.url)):!l||!("error"in l)?n(dn.syntax(`Unable to resolve $ref pointer "${e.url}"`)):l.error instanceof xi?n(l.error):n(new xi(l,e.url))}})}function fu(e,t,r){return new Promise((i,n)=>{let o=De.all(t.parse),a=De.filter(o,"canParse",e),l=a.length>0?a:o;De.sort(l),De.run(l,"parse",e,r).then(f,m);function f(d){!d.plugin.allowEmpty&&hu(d.result)?n(dn.syntax(`Error parsing "${e.url}" as ${d.plugin.name}. 
Parsed value is empty`)):i(d)}function m(d){!d&&t.continueOnError?n(new au(e.url)):!d||!("error"in d)?n(dn.syntax(`Unable to parse ${e.url}`)):d.error instanceof ki?n(d.error):n(new ki(d.error.message,e.url))}})}function hu(e){return e===void 0||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0||Buffer.isBuffer(e)&&e.length===0}const{ParserError:du}=G;var pu={order:100,allowEmpty:!0,canParse:".json",async parse(e){let t=e.data;if(Buffer.isBuffer(t)&&(t=t.toString()),typeof t=="string"){if(t.trim().length===0)return;try{return JSON.parse(t)}catch(r){throw new du(r.message,e.url)}}else return t}},H={},zt={},de={};function jo(e){return typeof e>"u"||e===null}function mu(e){return typeof e=="object"&&e!==null}function vu(e){return Array.isArray(e)?e:jo(e)?[]:[e]}function yu(e,t){var r,i,n,o;if(t)for(o=Object.keys(t),r=0,i=o.length;r<i;r+=1)n=o[r],e[n]=t[n];return e}function gu(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function Su(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}de.isNothing=jo;de.isObject=mu;de.toArray=vu;de.repeat=gu;de.isNegativeZero=Su;de.extend=yu;function $t(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}$t.prototype=Object.create(Error.prototype);$t.prototype.constructor=$t;$t.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r};var Gt=$t,Pi=de;function Nn(e,t,r,i,n){this.name=e,this.buffer=t,this.position=r,this.line=i,this.column=n}Nn.prototype.getSnippet=function(t,r){var i,n,o,a,l;if(!this.buffer)return null;for(t=t||4,r=r||75,i="",n=this.position;n>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(n-1))===-1;)if(n-=1,this.position-n>r/2-1){i=" ... ",n+=5;break}for(o="",a=this.position;a<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(a))===-1;)if(a+=1,a-this.position>r/2-1){o=" ... ",a-=5;break}return l=this.buffer.slice(n,a),Pi.repeat(" ",t)+i+l+o+`
`+Pi.repeat(" ",t+this.position-n+i.length)+"^"};Nn.prototype.toString=function(t){var r,i="";return this.name&&(i+='in "'+this.name+'" '),i+="at line "+(this.line+1)+", column "+(this.column+1),t||(r=this.getSnippet(),r&&(i+=`:
`+r)),i};var _u=Nn,Di=Gt,Eu=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],wu=["scalar","sequence","mapping"];function bu(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function Ru(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Eu.indexOf(r)===-1)throw new Di('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=bu(t.styleAliases||null),wu.indexOf(this.kind)===-1)throw new Di('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Q=Ru,Li=de,hr=Gt,Ou=Q;function pn(e,t,r){var i=[];return e.include.forEach(function(n){r=pn(n,t,r)}),e[t].forEach(function(n){r.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&i.push(a)}),r.push(n)}),r.filter(function(n,o){return i.indexOf(o)===-1})}function Au(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,r;function i(n){e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function gt(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new hr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=pn(this,"implicit",[]),this.compiledExplicit=pn(this,"explicit",[]),this.compiledTypeMap=Au(this.compiledImplicit,this.compiledExplicit)}gt.DEFAULT=null;gt.create=function(){var t,r;switch(arguments.length){case 1:t=gt.DEFAULT,r=arguments[0];break;case 2:t=arguments[0],r=arguments[1];break;default:throw new hr("Wrong number of arguments for Schema.create function")}if(t=Li.toArray(t),r=Li.toArray(r),!t.every(function(i){return i instanceof gt}))throw new hr("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(i){return i instanceof Ou}))throw new hr("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new gt({include:t,explicit:r})};var bt=gt,Tu=Q,Cu=new Tu("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Fu=Q,Nu=new Fu("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Iu=Q,xu=new Iu("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ku=bt,In=new ku({explicit:[Cu,Nu,xu]}),Pu=Q;function Du(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Lu(){return null}function Bu(e){return e===null}var Mu=new Pu("tag:yaml.org,2002:null",{kind:"scalar",resolve:Du,construct:Lu,predicate:Bu,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),$u=Q;function Uu(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function ju(e){return e==="true"||e==="True"||e==="TRUE"}function Vu(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Hu=new $u("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Uu,construct:ju,predicate:Vu,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),Wu=de,Yu=Q;function qu(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ku(e){return 48<=e&&e<=55}function zu(e){return 48<=e&&e<=57}function Gu(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!qu(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}for(;r<t;r++)if(n=e[r],n!=="_"){if(!Ku(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(n===":")break;if(!zu(e.charCodeAt(r)))return!1;i=!0}return!i||n==="_"?!1:n!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function Ju(e){var t=e,r=1,i,n,o=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0"?0:i==="0"?t[1]==="b"?r*parseInt(t.slice(2),2):t[1]==="x"?r*parseInt(t,16):r*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(a){o.unshift(parseInt(a,10))}),t=0,n=1,o.forEach(function(a){t+=a*n,n*=60}),r*t):r*parseInt(t,10)}function Xu(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Wu.isNegativeZero(e)}var Qu=new Yu("tag:yaml.org,2002:int",{kind:"scalar",resolve:Gu,construct:Ju,predicate:Xu,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Vo=de,Zu=Q,el=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function tl(e){return!(e===null||!el.test(e)||e[e.length-1]==="_")}function rl(e){var t,r,i,n;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,n=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(o){n.unshift(parseFloat(o,10))}),t=0,i=1,n.forEach(function(o){t+=o*i,i*=60}),r*t):r*parseFloat(t,10)}var nl=/^[-+]?[0-9]+e/;function il(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Vo.isNegativeZero(e))return"-0.0";return r=e.toString(10),nl.test(r)?r.replace("e",".e"):r}function ol(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Vo.isNegativeZero(e))}var al=new Zu("tag:yaml.org,2002:float",{kind:"scalar",resolve:tl,construct:rl,predicate:ol,represent:il,defaultStyle:"lowercase"}),sl=bt,Ho=new sl({include:[In],implicit:[Mu,Hu,Qu,al]}),ul=bt,Wo=new ul({include:[Ho]}),ll=Q,Yo=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qo=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function cl(e){return e===null?!1:Yo.exec(e)!==null||qo.exec(e)!==null}function fl(e){var t,r,i,n,o,a,l,f=0,m=null,d,v,y;if(t=Yo.exec(e),t===null&&(t=qo.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(o=+t[4],a=+t[5],l=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(d=+t[10],v=+(t[11]||0),m=(d*60+v)*6e4,t[9]==="-"&&(m=-m)),y=new Date(Date.UTC(r,i,n,o,a,l,f)),m&&y.setTime(y.getTime()-m),y}function hl(e){return e.toISOString()}var dl=new ll("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:cl,construct:fl,instanceOf:Date,represent:hl}),pl=Q;function ml(e){return e==="<<"||e===null}var vl=new pl("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ml}),tt;try{var yl=Oo;tt=yl("buffer").Buffer}catch{}var gl=Q,xn=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Sl(e){if(e===null)return!1;var t,r,i=0,n=e.length,o=xn;for(r=0;r<n;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function _l(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,o=xn,a=0,l=[];for(t=0;t<n;t++)t%4===0&&t&&(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)),a=a<<6|o.indexOf(i.charAt(t));return r=n%4*6,r===0?(l.push(a>>16&255),l.push(a>>8&255),l.push(a&255)):r===18?(l.push(a>>10&255),l.push(a>>2&255)):r===12&&l.push(a>>4&255),tt?tt.from?tt.from(l):new tt(l):l}function El(e){var t="",r=0,i,n,o=e.length,a=xn;for(i=0;i<o;i++)i%3===0&&i&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[i];return n=o%3,n===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):n===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):n===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}function wl(e){return tt&&tt.isBuffer(e)}var bl=new gl("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Sl,construct:_l,predicate:wl,represent:El}),Rl=Q,Ol=Object.prototype.hasOwnProperty,Al=Object.prototype.toString;function Tl(e){if(e===null)return!0;var t=[],r,i,n,o,a,l=e;for(r=0,i=l.length;r<i;r+=1){if(n=l[r],a=!1,Al.call(n)!=="[object Object]")return!1;for(o in n)if(Ol.call(n,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Cl(e){return e!==null?e:[]}var Fl=new Rl("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Tl,construct:Cl}),Nl=Q,Il=Object.prototype.toString;function xl(e){if(e===null)return!0;var t,r,i,n,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(i=a[t],Il.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;o[t]=[n[0],i[n[0]]]}return!0}function kl(e){if(e===null)return[];var t,r,i,n,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)i=a[t],n=Object.keys(i),o[t]=[n[0],i[n[0]]];return o}var Pl=new Nl("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:xl,construct:kl}),Dl=Q,Ll=Object.prototype.hasOwnProperty;function Bl(e){if(e===null)return!0;var t,r=e;for(t in r)if(Ll.call(r,t)&&r[t]!==null)return!1;return!0}function Ml(e){return e!==null?e:{}}var $l=new Dl("tag:yaml.org,2002:set",{kind:"mapping",resolve:Bl,construct:Ml}),Ul=bt,Jt=new Ul({include:[Wo],implicit:[dl,vl],explicit:[bl,Fl,Pl,$l]}),jl=Q;function Vl(){return!0}function Hl(){}function Wl(){return""}function Yl(e){return typeof e>"u"}var ql=new jl("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:Vl,construct:Hl,predicate:Yl,represent:Wl}),Kl=Q;function zl(e){if(e===null||e.length===0)return!1;var t=e,r=/\/([gim]*)$/.exec(e),i="";return!(t[0]==="/"&&(r&&(i=r[1]),i.length>3||t[t.length-i.length-1]!=="/"))}function Gl(e){var t=e,r=/\/([gim]*)$/.exec(e),i="";return t[0]==="/"&&(r&&(i=r[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function Jl(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function Xl(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var Ql=new Kl("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:zl,construct:Gl,predicate:Xl,represent:Jl}),Rr;try{var Zl=Oo;Rr=Zl("esprima")}catch{typeof window<"u"&&(Rr=window.esprima)}var ec=Q;function tc(e){if(e===null)return!1;try{var t="("+e+")",r=Rr.parse(t,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function rc(e){var t="("+e+")",r=Rr.parse(t,{range:!0}),i=[],n;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(o){i.push(o.name)}),n=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(i,t.slice(n[0]+1,n[1]-1)):new Function(i,"return "+t.slice(n[0],n[1]))}function nc(e){return e.toString()}function ic(e){return Object.prototype.toString.call(e)==="[object Function]"}var oc=new ec("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:tc,construct:rc,predicate:ic,represent:nc}),Bi=bt,kr=Bi.DEFAULT=new Bi({include:[Jt],explicit:[ql,Ql,oc]}),be=de,Ko=Gt,ac=_u,mn=Jt,sc=kr,nt=Object.prototype.hasOwnProperty,Or=1,zo=2,Go=3,Ar=4,en=1,uc=2,Mi=3,lc=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,cc=/[\x85\u2028\u2029]/,fc=/[,\[\]\{\}]/,Jo=/^(?:!|!!|![a-z\-]+!)$/i,Xo=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function $i(e){return Object.prototype.toString.call(e)}function Re(e){return e===10||e===13}function rt(e){return e===9||e===32}function oe(e){return e===9||e===32||e===10||e===13}function St(e){return e===44||e===91||e===93||e===123||e===125}function hc(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function dc(e){return e===120?2:e===117?4:e===85?8:0}function pc(e){return 48<=e&&e<=57?e-48:-1}function Ui(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function mc(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Qo=new Array(256),Zo=new Array(256);for(var ht=0;ht<256;ht++)Qo[ht]=Ui(ht)?1:0,Zo[ht]=Ui(ht);function vc(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||sc,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function ea(e,t){return new Ko(t,new ac(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function L(e,t){throw ea(e,t)}function Tr(e,t){e.onWarning&&e.onWarning.call(null,ea(e,t))}var ji={YAML:function(t,r,i){var n,o,a;t.version!==null&&L(t,"duplication of %YAML directive"),i.length!==1&&L(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&L(t,"ill-formed argument of the YAML directive"),o=parseInt(n[1],10),a=parseInt(n[2],10),o!==1&&L(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Tr(t,"unsupported YAML version of the document")},TAG:function(t,r,i){var n,o;i.length!==2&&L(t,"TAG directive accepts exactly two arguments"),n=i[0],o=i[1],Jo.test(n)||L(t,"ill-formed tag handle (first argument) of the TAG directive"),nt.call(t.tagMap,n)&&L(t,'there is a previously declared suffix for "'+n+'" tag handle'),Xo.test(o)||L(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[n]=o}};function Be(e,t,r,i){var n,o,a,l;if(t<r){if(l=e.input.slice(t,r),i)for(n=0,o=l.length;n<o;n+=1)a=l.charCodeAt(n),a===9||32<=a&&a<=1114111||L(e,"expected valid JSON character");else lc.test(l)&&L(e,"the stream contains non-printable characters");e.result+=l}}function Vi(e,t,r,i){var n,o,a,l;for(be.isObject(r)||L(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),a=0,l=n.length;a<l;a+=1)o=n[a],nt.call(t,o)||(t[o]=r[o],i[o]=!0)}function _t(e,t,r,i,n,o,a,l){var f,m;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),f=0,m=n.length;f<m;f+=1)Array.isArray(n[f])&&L(e,"nested arrays are not supported inside keys"),typeof n=="object"&&$i(n[f])==="[object Object]"&&(n[f]="[object Object]");if(typeof n=="object"&&$i(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(f=0,m=o.length;f<m;f+=1)Vi(e,t,o[f],r);else Vi(e,t,o,r);else!e.json&&!nt.call(r,n)&&nt.call(t,n)&&(e.line=a||e.line,e.position=l||e.position,L(e,"duplicated mapping key")),t[n]=o,delete r[n];return t}function kn(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):L(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function z(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;rt(n);)n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(Re(n))for(kn(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Tr(e,"deficient indentation"),i}function Pr(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||oe(r)))}function Pn(e,t){t===1?e.result+=" ":t>1&&(e.result+=be.repeat(`
`,t-1))}function yc(e,t,r){var i,n,o,a,l,f,m,d,v=e.kind,y=e.result,g;if(g=e.input.charCodeAt(e.position),oe(g)||St(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(n=e.input.charCodeAt(e.position+1),oe(n)||r&&St(n)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,l=!1;g!==0;){if(g===58){if(n=e.input.charCodeAt(e.position+1),oe(n)||r&&St(n))break}else if(g===35){if(i=e.input.charCodeAt(e.position-1),oe(i))break}else{if(e.position===e.lineStart&&Pr(e)||r&&St(g))break;if(Re(g))if(f=e.line,m=e.lineStart,d=e.lineIndent,z(e,!1,-1),e.lineIndent>=t){l=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=f,e.lineStart=m,e.lineIndent=d;break}}l&&(Be(e,o,a,!1),Pn(e,e.line-f),o=a=e.position,l=!1),rt(g)||(a=e.position+1),g=e.input.charCodeAt(++e.position)}return Be(e,o,a,!1),e.result?!0:(e.kind=v,e.result=y,!1)}function gc(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Be(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else Re(r)?(Be(e,i,n,!0),Pn(e,z(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Pr(e)?L(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);L(e,"unexpected end of the stream within a single quoted scalar")}function Sc(e,t){var r,i,n,o,a,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return Be(e,r,e.position,!0),e.position++,!0;if(l===92){if(Be(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),Re(l))z(e,!1,t);else if(l<256&&Qo[l])e.result+=Zo[l],e.position++;else if((a=dc(l))>0){for(n=a,o=0;n>0;n--)l=e.input.charCodeAt(++e.position),(a=hc(l))>=0?o=(o<<4)+a:L(e,"expected hexadecimal character");e.result+=mc(o),e.position++}else L(e,"unknown escape sequence");r=i=e.position}else Re(l)?(Be(e,r,i,!0),Pn(e,z(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Pr(e)?L(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}L(e,"unexpected end of the stream within a double quoted scalar")}function _c(e,t){var r=!0,i,n=e.tag,o,a=e.anchor,l,f,m,d,v,y={},g,E,_,w;if(w=e.input.charCodeAt(e.position),w===91)f=93,v=!1,o=[];else if(w===123)f=125,v=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),w=e.input.charCodeAt(++e.position);w!==0;){if(z(e,!0,t),w=e.input.charCodeAt(e.position),w===f)return e.position++,e.tag=n,e.anchor=a,e.kind=v?"mapping":"sequence",e.result=o,!0;r||L(e,"missed comma between flow collection entries"),E=g=_=null,m=d=!1,w===63&&(l=e.input.charCodeAt(e.position+1),oe(l)&&(m=d=!0,e.position++,z(e,!0,t))),i=e.line,wt(e,t,Or,!1,!0),E=e.tag,g=e.result,z(e,!0,t),w=e.input.charCodeAt(e.position),(d||e.line===i)&&w===58&&(m=!0,w=e.input.charCodeAt(++e.position),z(e,!0,t),wt(e,t,Or,!1,!0),_=e.result),v?_t(e,o,y,E,g,_):m?o.push(_t(e,null,y,E,g,_)):o.push(g),z(e,!0,t),w=e.input.charCodeAt(e.position),w===44?(r=!0,w=e.input.charCodeAt(++e.position)):r=!1}L(e,"unexpected end of the stream within a flow collection")}function Ec(e,t){var r,i,n=en,o=!1,a=!1,l=t,f=0,m=!1,d,v;if(v=e.input.charCodeAt(e.position),v===124)i=!1;else if(v===62)i=!0;else return!1;for(e.kind="scalar",e.result="";v!==0;)if(v=e.input.charCodeAt(++e.position),v===43||v===45)en===n?n=v===43?Mi:uc:L(e,"repeat of a chomping mode identifier");else if((d=pc(v))>=0)d===0?L(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?L(e,"repeat of an indentation width identifier"):(l=t+d-1,a=!0);else break;if(rt(v)){do v=e.input.charCodeAt(++e.position);while(rt(v));if(v===35)do v=e.input.charCodeAt(++e.position);while(!Re(v)&&v!==0)}for(;v!==0;){for(kn(e),e.lineIndent=0,v=e.input.charCodeAt(e.position);(!a||e.lineIndent<l)&&v===32;)e.lineIndent++,v=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>l&&(l=e.lineIndent),Re(v)){f++;continue}if(e.lineIndent<l){n===Mi?e.result+=be.repeat(`
`,o?1+f:f):n===en&&o&&(e.result+=`
`);break}for(i?rt(v)?(m=!0,e.result+=be.repeat(`
`,o?1+f:f)):m?(m=!1,e.result+=be.repeat(`
`,f+1)):f===0?o&&(e.result+=" "):e.result+=be.repeat(`
`,f):e.result+=be.repeat(`
`,o?1+f:f),o=!0,a=!0,f=0,r=e.position;!Re(v)&&v!==0;)v=e.input.charCodeAt(++e.position);Be(e,r,e.position,!1)}return!0}function Hi(e,t){var r,i=e.tag,n=e.anchor,o=[],a,l=!1,f;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),f=e.input.charCodeAt(e.position);f!==0&&!(f!==45||(a=e.input.charCodeAt(e.position+1),!oe(a)));){if(l=!0,e.position++,z(e,!0,-1)&&e.lineIndent<=t){o.push(null),f=e.input.charCodeAt(e.position);continue}if(r=e.line,wt(e,t,Go,!1,!0),o.push(e.result),z(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&f!==0)L(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=o,!0):!1}function wc(e,t,r){var i,n,o,a,l=e.tag,f=e.anchor,m={},d={},v=null,y=null,g=null,E=!1,_=!1,w;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),w=e.input.charCodeAt(e.position);w!==0;){if(i=e.input.charCodeAt(e.position+1),o=e.line,a=e.position,(w===63||w===58)&&oe(i))w===63?(E&&(_t(e,m,d,v,y,null),v=y=g=null),_=!0,E=!0,n=!0):E?(E=!1,n=!0):L(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,w=i;else if(wt(e,r,zo,!1,!0))if(e.line===o){for(w=e.input.charCodeAt(e.position);rt(w);)w=e.input.charCodeAt(++e.position);if(w===58)w=e.input.charCodeAt(++e.position),oe(w)||L(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(_t(e,m,d,v,y,null),v=y=g=null),_=!0,E=!1,n=!1,v=e.tag,y=e.result;else if(_)L(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(_)L(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0;else break;if((e.line===o||e.lineIndent>t)&&(wt(e,t,Ar,!0,n)&&(E?y=e.result:g=e.result),E||(_t(e,m,d,v,y,g,o,a),v=y=g=null),z(e,!0,-1),w=e.input.charCodeAt(e.position)),e.lineIndent>t&&w!==0)L(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&_t(e,m,d,v,y,null),_&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=m),_}function bc(e){var t,r=!1,i=!1,n,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&L(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(i=!0,n="!!",a=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):L(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!oe(a);)a===33&&(i?L(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),Jo.test(n)||L(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),fc.test(o)&&L(e,"tag suffix cannot contain flow indicator characters")}return o&&!Xo.test(o)&&L(e,"tag name cannot contain such characters: "+o),r?e.tag=o:nt.call(e.tagMap,n)?e.tag=e.tagMap[n]+o:n==="!"?e.tag="!"+o:n==="!!"?e.tag="tag:yaml.org,2002:"+o:L(e,'undeclared tag handle "'+n+'"'),!0}function Rc(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&L(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!oe(r)&&!St(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Oc(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!oe(i)&&!St(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(r)||L(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],z(e,!0,-1),!0}function wt(e,t,r,i,n){var o,a,l,f=1,m=!1,d=!1,v,y,g,E,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=l=Ar===r||Go===r,i&&z(e,!0,-1)&&(m=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;bc(e)||Rc(e);)z(e,!0,-1)?(m=!0,l=o,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):l=!1;if(l&&(l=m||n),(f===1||Ar===r)&&(Or===r||zo===r?E=t:E=t+1,_=e.position-e.lineStart,f===1?l&&(Hi(e,_)||wc(e,_,E))||_c(e,E)?d=!0:(a&&Ec(e,E)||gc(e,E)||Sc(e,E)?d=!0:Oc(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&L(e,"alias node should not have any properties")):yc(e,E,Or===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(d=l&&Hi(e,_))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(v=0,y=e.implicitTypes.length;v<y;v+=1)if(g=e.implicitTypes[v],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else nt.call(e.typeMap[e.kind||"fallback"],e.tag)?(g=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&g.kind!==e.kind&&L(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result)?(e.result=g.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):L(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):L(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Ac(e){var t=e.position,r,i,n,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(a=e.input.charCodeAt(e.position))!==0&&(z(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!oe(a);)a=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&L(e,"directive name must not be less than one character in length");a!==0;){for(;rt(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Re(a));break}if(Re(a))break;for(r=e.position;a!==0&&!oe(a);)a=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}a!==0&&kn(e),nt.call(ji,i)?ji[i](e,i,n):Tr(e,'unknown document directive "'+i+'"')}if(z(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,z(e,!0,-1)):o&&L(e,"directives end mark is expected"),wt(e,e.lineIndent-1,Ar,!1,!0),z(e,!0,-1),e.checkLineBreaks&&cc.test(e.input.slice(t,e.position))&&Tr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Pr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,z(e,!0,-1));return}if(e.position<e.length-1)L(e,"end of the stream or a document separator is expected");else return}function ta(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new vc(e,t);for(r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ac(r);return r.documents}function vn(e,t,r){var i=ta(e,r),n,o;if(typeof t!="function")return i;for(n=0,o=i.length;n<o;n+=1)t(i[n])}function ra(e,t){var r=ta(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ko("expected a single document in the stream, but found more")}}function Tc(e,t,r){if(typeof t=="function")vn(e,t,be.extend({schema:mn},r));else return vn(e,be.extend({schema:mn},r))}function Cc(e,t){return ra(e,be.extend({schema:mn},t))}zt.loadAll=vn;zt.load=ra;zt.safeLoadAll=Tc;zt.safeLoad=Cc;var Dn={},Xt=de,Qt=Gt,Fc=kr,Nc=Jt,na=Object.prototype.toString,ia=Object.prototype.hasOwnProperty,Ic=9,Cr=10,xc=32,kc=33,Pc=34,oa=35,Dc=37,Lc=38,Bc=39,Mc=42,aa=44,$c=45,sa=58,Uc=62,jc=63,Vc=64,ua=91,la=93,Hc=96,ca=123,Wc=124,fa=125,te={};te[0]="\\0";te[7]="\\a";te[8]="\\b";te[9]="\\t";te[10]="\\n";te[11]="\\v";te[12]="\\f";te[13]="\\r";te[27]="\\e";te[34]='\\"';te[92]="\\\\";te[133]="\\N";te[160]="\\_";te[8232]="\\L";te[8233]="\\P";var Yc=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function qc(e,t){var r,i,n,o,a,l,f;if(t===null)return{};for(r={},i=Object.keys(t),n=0,o=i.length;n<o;n+=1)a=i[n],l=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),f=e.compiledTypeMap.fallback[a],f&&ia.call(f.styleAliases,l)&&(l=f.styleAliases[l]),r[a]=l;return r}function Wi(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Qt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Xt.repeat("0",i-t.length)+t}function Kc(e){this.schema=e.schema||Fc,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Xt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=qc(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Yi(e,t){for(var r=Xt.repeat(" ",t),i=0,n=-1,o="",a,l=e.length;i<l;)n=e.indexOf(`
`,i),n===-1?(a=e.slice(i),i=l):(a=e.slice(i,n+1),i=n+1),a.length&&a!==`
`&&(o+=r),o+=a;return o}function yn(e,t){return`
`+Xt.repeat(" ",e.indent*t)}function zc(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function ha(e){return e===xc||e===Ic}function Ut(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function qi(e){return Ut(e)&&e!==65279&&e!==aa&&e!==ua&&e!==la&&e!==ca&&e!==fa&&e!==sa&&e!==oa}function Gc(e){return Ut(e)&&e!==65279&&!ha(e)&&e!==$c&&e!==jc&&e!==sa&&e!==aa&&e!==ua&&e!==la&&e!==ca&&e!==fa&&e!==oa&&e!==Lc&&e!==Mc&&e!==kc&&e!==Wc&&e!==Uc&&e!==Bc&&e!==Pc&&e!==Dc&&e!==Vc&&e!==Hc}function da(e){var t=/^\n* /;return t.test(e)}var pa=1,ma=2,va=3,ya=4,dr=5;function Jc(e,t,r,i,n){var o,a,l=!1,f=!1,m=i!==-1,d=-1,v=Gc(e.charCodeAt(0))&&!ha(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),!Ut(a))return dr;v=v&&qi(a)}else{for(o=0;o<e.length;o++){if(a=e.charCodeAt(o),a===Cr)l=!0,m&&(f=f||o-d-1>i&&e[d+1]!==" ",d=o);else if(!Ut(a))return dr;v=v&&qi(a)}f=f||m&&o-d-1>i&&e[d+1]!==" "}return!l&&!f?v&&!n(e)?pa:ma:r>9&&da(e)?dr:f?ya:va}function Xc(e,t,r,i){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&Yc.indexOf(t)!==-1)return"'"+t+"'";var n=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n),a=i||e.flowLevel>-1&&r>=e.flowLevel;function l(f){return zc(e,f)}switch(Jc(t,a,e.indent,o,l)){case pa:return t;case ma:return"'"+t.replace(/'/g,"''")+"'";case va:return"|"+Ki(t,e.indent)+zi(Yi(t,n));case ya:return">"+Ki(t,e.indent)+zi(Yi(Qc(t,o),n));case dr:return'"'+Zc(t)+'"';default:throw new Qt("impossible error: invalid scalar style")}}()}function Ki(e,t){var r=da(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),o=n?"+":i?"":"-";return r+o+`
`}function zi(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Qc(e,t){for(var r=/(\n+)([^\n]*)/g,i=function(){var m=e.indexOf(`
`);return m=m!==-1?m:e.length,r.lastIndex=m,Gi(e.slice(0,m),t)}(),n=e[0]===`
`||e[0]===" ",o,a;a=r.exec(e);){var l=a[1],f=a[2];o=f[0]===" ",i+=l+(!n&&!o&&f!==""?`
`:"")+Gi(f,t),n=o}return i}function Gi(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,o,a=0,l=0,f="";i=r.exec(e);)l=i.index,l-n>t&&(o=a>n?a:l,f+=`
`+e.slice(n,o),n=o+1),a=l;return f+=`
`,e.length-n>t&&a>n?f+=e.slice(n,a)+`
`+e.slice(a+1):f+=e.slice(n),f.slice(1)}function Zc(e){for(var t="",r,i,n,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>=55296&&r<=56319&&(i=e.charCodeAt(o+1),i>=56320&&i<=57343)){t+=Wi((r-55296)*1024+i-56320+65536),o++;continue}n=te[r],t+=!n&&Ut(r)?e[o]:n||Wi(r)}return t}function ef(e,t,r){var i="",n=e.tag,o,a;for(o=0,a=r.length;o<a;o+=1)it(e,t,r[o],!1,!1)&&(o!==0&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function tf(e,t,r,i){var n="",o=e.tag,a,l;for(a=0,l=r.length;a<l;a+=1)it(e,t+1,r[a],!0,!0)&&((!i||a!==0)&&(n+=yn(e,t)),e.dump&&Cr===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=o,e.dump=n||"[]"}function rf(e,t,r){var i="",n=e.tag,o=Object.keys(r),a,l,f,m,d;for(a=0,l=o.length;a<l;a+=1)d=e.condenseFlow?'"':"",a!==0&&(d+=", "),f=o[a],m=r[f],it(e,t,f,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),it(e,t,m,!1,!1)&&(d+=e.dump,i+=d));e.tag=n,e.dump="{"+i+"}"}function nf(e,t,r,i){var n="",o=e.tag,a=Object.keys(r),l,f,m,d,v,y;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Qt("sortKeys must be a boolean or a function");for(l=0,f=a.length;l<f;l+=1)y="",(!i||l!==0)&&(y+=yn(e,t)),m=a[l],d=r[m],it(e,t+1,m,!0,!0,!0)&&(v=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,v&&(e.dump&&Cr===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,v&&(y+=yn(e,t)),it(e,t+1,d,!0,v)&&(e.dump&&Cr===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,n+=y));e.tag=o,e.dump=n||"{}"}function Ji(e,t,r){var i,n,o,a,l,f;for(n=r?e.explicitTypes:e.implicitTypes,o=0,a=n.length;o<a;o+=1)if(l=n[o],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(e.tag=r?l.tag:"?",l.represent){if(f=e.styleMap[l.tag]||l.defaultStyle,na.call(l.represent)==="[object Function]")i=l.represent(t,f);else if(ia.call(l.represent,f))i=l.represent[f](t,f);else throw new Qt("!<"+l.tag+'> tag resolver accepts not "'+f+'" style');e.dump=i}return!0}return!1}function it(e,t,r,i,n,o){e.tag=null,e.dump=r,Ji(e,r,!1)||Ji(e,r,!0);var a=na.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",f,m;if(l&&(f=e.duplicates.indexOf(r),m=f!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&t>0)&&(n=!1),m&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(l&&m&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(nf(e,t,e.dump,n),m&&(e.dump="&ref_"+f+e.dump)):(rf(e,t,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]"){var d=e.noArrayIndent&&t>0?t-1:t;i&&e.dump.length!==0?(tf(e,d,e.dump,n),m&&(e.dump="&ref_"+f+e.dump)):(ef(e,d,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump))}else if(a==="[object String]")e.tag!=="?"&&Xc(e,e.dump,t,o);else{if(e.skipInvalid)return!1;throw new Qt("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function of(e,t){var r=[],i=[],n,o;for(gn(e,r,i),n=0,o=i.length;n<o;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(o)}function gn(e,t,r){var i,n,o;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,o=e.length;n<o;n+=1)gn(e[n],t,r);else for(i=Object.keys(e),n=0,o=i.length;n<o;n+=1)gn(e[i[n]],t,r)}function ga(e,t){t=t||{};var r=new Kc(t);return r.noRefs||of(e,r),it(r,0,e,!0,!0)?r.dump+`
`:""}function af(e,t){return ga(e,Xt.extend({schema:Nc},t))}Dn.dump=ga;Dn.safeDump=af;var Dr=zt,Sa=Dn;function Lr(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}H.Type=Q;H.Schema=bt;H.FAILSAFE_SCHEMA=In;H.JSON_SCHEMA=Ho;H.CORE_SCHEMA=Wo;H.DEFAULT_SAFE_SCHEMA=Jt;H.DEFAULT_FULL_SCHEMA=kr;H.load=Dr.load;H.loadAll=Dr.loadAll;H.safeLoad=Dr.safeLoad;H.safeLoadAll=Dr.safeLoadAll;H.dump=Sa.dump;H.safeDump=Sa.safeDump;H.YAMLException=Gt;H.MINIMAL_SCHEMA=In;H.SAFE_SCHEMA=Jt;H.DEFAULT_SCHEMA=kr;H.scan=Lr("scan");H.parse=Lr("parse");H.compose=Lr("compose");H.addConstructor=Lr("addConstructor");var sf=H,uf=sf;const{ParserError:lf}=G,cf=uf;var ff={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(e){let t=e.data;if(Buffer.isBuffer(t)&&(t=t.toString()),typeof t=="string")try{return cf.load(t)}catch(r){throw new lf(r.message,e.url)}else return t}};const{ParserError:hf}=G;let df=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;var pf={order:300,allowEmpty:!0,encoding:"utf8",canParse(e){return(typeof e.data=="string"||Buffer.isBuffer(e.data))&&df.test(e.url)},parse(e){if(typeof e.data=="string")return e.data;if(Buffer.isBuffer(e.data))return e.data.toString(this.encoding);throw new hf("data is not text",e.url)}};let mf=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;var vf={order:400,allowEmpty:!0,canParse(e){return Buffer.isBuffer(e.data)&&mf.test(e.url)},parse(e){return Buffer.isBuffer(e.data)?e.data:Buffer.from(e.data)}},Sn={exports:{}},at={},He={};Object.defineProperty(He,"__esModule",{value:!0});He.constants=void 0;He.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4};var _n={};typeof BigInt=="function"?_n.default=BigInt:_n.default=function(){throw new Error("BigInt is not supported in this environment.")};Object.defineProperty(at,"__esModule",{value:!0});at.Stats=void 0;var We=He,yf=_n,gf=We.constants.S_IFMT,Sf=We.constants.S_IFDIR,_f=We.constants.S_IFREG,Ef=We.constants.S_IFBLK,wf=We.constants.S_IFCHR,bf=We.constants.S_IFLNK,Rf=We.constants.S_IFIFO,Of=We.constants.S_IFSOCK,_a=function(){function e(){}return e.build=function(t,r){r===void 0&&(r=!1);var i=new e,n=t.uid,o=t.gid,a=t.atime,l=t.mtime,f=t.ctime,m=r?yf.default:function(v){return v};i.uid=m(n),i.gid=m(o),i.rdev=m(0),i.blksize=m(4096),i.ino=m(t.ino),i.size=m(t.getSize()),i.blocks=m(1),i.atime=a,i.mtime=l,i.ctime=f,i.birthtime=f,i.atimeMs=m(a.getTime()),i.mtimeMs=m(l.getTime());var d=m(f.getTime());return i.ctimeMs=d,i.birthtimeMs=d,i.dev=m(0),i.mode=m(t.mode),i.nlink=m(t.nlink),i},e.prototype._checkModeProperty=function(t){return(Number(this.mode)&gf)===t},e.prototype.isDirectory=function(){return this._checkModeProperty(Sf)},e.prototype.isFile=function(){return this._checkModeProperty(_f)},e.prototype.isBlockDevice=function(){return this._checkModeProperty(Ef)},e.prototype.isCharacterDevice=function(){return this._checkModeProperty(wf)},e.prototype.isSymbolicLink=function(){return this._checkModeProperty(bf)},e.prototype.isFIFO=function(){return this._checkModeProperty(Rf)},e.prototype.isSocket=function(){return this._checkModeProperty(Of)},e}();at.Stats=_a;at.default=_a;var Rt={},Ln={},Br={};(function(e){var t=K&&K.__spreadArray||function(a,l,f){if(f||arguments.length===2)for(var m=0,d=l.length,v;m<d;m++)(v||!(m in l))&&(v||(v=Array.prototype.slice.call(l,0,m)),v[m]=l[m]);return a.concat(v||Array.prototype.slice.call(l))};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferFrom=e.bufferAllocUnsafe=e.Buffer=void 0;var r=hs;Object.defineProperty(e,"Buffer",{enumerable:!0,get:function(){return r.Buffer}});function i(a){for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];return new(r.Buffer.bind.apply(r.Buffer,t([void 0,a],l,!1)))}var n=r.Buffer.allocUnsafe||i;e.bufferAllocUnsafe=n;var o=r.Buffer.from||i;e.bufferFrom=o})(Br);var Bn={};(function(e){var t=K&&K.__extends||function(){var _=function(w,R){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,A){b.__proto__=A}||function(b,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(b[C]=A[C])},_(w,R)};return function(w,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");_(w,R);function b(){this.constructor=w}w.prototype=R===null?Object.create(R):(b.prototype=R.prototype,new b)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.E=e.AssertionError=e.message=e.RangeError=e.TypeError=e.Error=void 0;var r=ds.exports,i=To,n=typeof Symbol>"u"?"_kCode":Symbol("code"),o={};function a(_){return function(w){t(R,w);function R(b){for(var A=[],C=1;C<arguments.length;C++)A[C-1]=arguments[C];var T=w.call(this,m(b,A))||this;return T.code=b,T[n]=b,T.name="".concat(w.prototype.name," [").concat(T[n],"]"),T}return R}(_)}var l=typeof globalThis<"u"?globalThis:K,f=function(_){t(w,_);function w(R){var b=this;if(typeof R!="object"||R===null)throw new e.TypeError("ERR_INVALID_ARG_TYPE","options","object");return R.message?b=_.call(this,R.message)||this:b=_.call(this,"".concat(i.inspect(R.actual).slice(0,128)," ")+"".concat(R.operator," ").concat(i.inspect(R.expected).slice(0,128)))||this,b.generatedMessage=!R.message,b.name="AssertionError [ERR_ASSERTION]",b.code="ERR_ASSERTION",b.actual=R.actual,b.expected=R.expected,b.operator=R.operator,e.Error.captureStackTrace(b,R.stackStartFunction),b}return w}(l.Error);e.AssertionError=f;function m(_,w){r.strictEqual(typeof _,"string");var R=o[_];r(R,"An invalid error message key was used: ".concat(_,"."));var b;if(typeof R=="function")b=R;else{if(b=i.format,w===void 0||w.length===0)return R;w.unshift(R)}return String(b.apply(null,w))}e.message=m;function d(_,w){o[_]=typeof w=="function"?w:String(w)}e.E=d,e.Error=a(l.Error),e.TypeError=a(l.TypeError),e.RangeError=a(l.RangeError),d("ERR_ARG_NOT_ITERABLE","%s must be iterable"),d("ERR_ASSERTION","%s"),d("ERR_BUFFER_OUT_OF_BOUNDS",E),d("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),d("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),d("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),d("ERR_DNS_SET_SERVERS_FAILED",function(_,w){return'c-ares failed to set servers: "'.concat(_,'" [').concat(w,"]")}),d("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),d("ERR_ENCODING_NOT_SUPPORTED",function(_){return'The "'.concat(_,'" encoding is not supported')}),d("ERR_ENCODING_INVALID_ENCODED_DATA",function(_){return"The encoded data was not valid for encoding ".concat(_)}),d("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),d("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),d("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),d("ERR_INDEX_OUT_OF_RANGE","Index out of range"),d("ERR_INVALID_ARG_TYPE",v),d("ERR_INVALID_ARRAY_LENGTH",function(_,w,R){return r.strictEqual(typeof R,"number"),'The array "'.concat(_,'" (length ').concat(R,") must be of length ").concat(w,".")}),d("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),d("ERR_INVALID_CALLBACK","Callback must be a function"),d("ERR_INVALID_CHAR","Invalid character in %s"),d("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),d("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),d("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),d("ERR_INVALID_FILE_URL_PATH","File URL path %s"),d("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),d("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),d("ERR_INVALID_OPT_VALUE",function(_,w){return'The value "'.concat(String(w),'" is invalid for option "').concat(_,'"')}),d("ERR_INVALID_OPT_VALUE_ENCODING",function(_){return'The value "'.concat(String(_),'" is invalid for option "encoding"')}),d("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),d("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),d("ERR_INVALID_THIS",'Value of "this" must be of type %s'),d("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),d("ERR_INVALID_URL","Invalid URL: %s"),d("ERR_INVALID_URL_SCHEME",function(_){return"The URL must be ".concat(g(_,"scheme"))}),d("ERR_IPC_CHANNEL_CLOSED","Channel closed"),d("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),d("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),d("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),d("ERR_MISSING_ARGS",y),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),d("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),d("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),d("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),d("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),d("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),d("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),d("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),d("ERR_SOCKET_CANNOT_SEND","Unable to send data"),d("ERR_SOCKET_CLOSED","Socket is closed"),d("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),d("ERR_STDERR_CLOSE","process.stderr cannot be closed"),d("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),d("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),d("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),d("ERR_TLS_DH_PARAM_SIZE",function(_){return"DH parameter size ".concat(_," is less than 2048")}),d("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),d("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),d("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),d("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),d("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),d("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),d("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),d("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),d("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),d("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");function v(_,w,R){r(_,"name is required");var b;w.includes("not ")?(b="must not be",w=w.split("not ")[1]):b="must be";var A;if(Array.isArray(_)){var C=_.map(function(x){return'"'.concat(x,'"')}).join(", ");A="The ".concat(C," arguments ").concat(b," ").concat(g(w,"type"))}else if(_.includes(" argument"))A="The ".concat(_," ").concat(b," ").concat(g(w,"type"));else{var T=_.includes(".")?"property":"argument";A='The "'.concat(_,'" ').concat(T," ").concat(b," ").concat(g(w,"type"))}return arguments.length>=3&&(A+=". Received type ".concat(R!==null?typeof R:"null")),A}function y(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];r(_.length>0,"At least one arg needs to be specified");var R="The ",b=_.length;switch(_=_.map(function(A){return'"'.concat(A,'"')}),b){case 1:R+="".concat(_[0]," argument");break;case 2:R+="".concat(_[0]," and ").concat(_[1]," arguments");break;default:R+=_.slice(0,b-1).join(", "),R+=", and ".concat(_[b-1]," arguments");break}return"".concat(R," must be specified")}function g(_,w){if(r(_,"expected is required"),r(typeof w=="string","thing is required"),Array.isArray(_)){var R=_.length;return r(R>0,"At least one expected value needs to be specified"),_=_.map(function(b){return String(b)}),R>2?"one of ".concat(w," ").concat(_.slice(0,R-1).join(", "),", or ")+_[R-1]:R===2?"one of ".concat(w," ").concat(_[0]," or ").concat(_[1]):"of ".concat(w," ").concat(_[0])}else return"of ".concat(w," ").concat(String(_))}function E(_,w){return w?"Attempt to write outside buffer bounds":'"'.concat(_,'" is outside of buffer bounds')}})(Bn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.strToEncoding=e.assertEncoding=e.ENCODING_UTF8=void 0;var t=Br,r=Bn;e.ENCODING_UTF8="utf8";function i(o){if(o&&!t.Buffer.isEncoding(o))throw new r.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",o)}e.assertEncoding=i;function n(o,a){return!a||a===e.ENCODING_UTF8?o:a==="buffer"?new t.Buffer(o):new t.Buffer(o).toString(a)}e.strToEncoding=n})(Ln);Object.defineProperty(Rt,"__esModule",{value:!0});Rt.Dirent=void 0;var Ye=He,Af=Ln,Tf=Ye.constants.S_IFMT,Cf=Ye.constants.S_IFDIR,Ff=Ye.constants.S_IFREG,Nf=Ye.constants.S_IFBLK,If=Ye.constants.S_IFCHR,xf=Ye.constants.S_IFLNK,kf=Ye.constants.S_IFIFO,Pf=Ye.constants.S_IFSOCK,Ea=function(){function e(){this.name="",this.mode=0}return e.build=function(t,r){var i=new e,n=t.getNode().mode;return i.name=(0,Af.strToEncoding)(t.getName(),r),i.mode=n,i},e.prototype._checkModeProperty=function(t){return(this.mode&Tf)===t},e.prototype.isDirectory=function(){return this._checkModeProperty(Cf)},e.prototype.isFile=function(){return this._checkModeProperty(Ff)},e.prototype.isBlockDevice=function(){return this._checkModeProperty(Nf)},e.prototype.isCharacterDevice=function(){return this._checkModeProperty(If)},e.prototype.isSymbolicLink=function(){return this._checkModeProperty(xf)},e.prototype.isFIFO=function(){return this._checkModeProperty(kf)},e.prototype.isSocket=function(){return this._checkModeProperty(Pf)},e}();Rt.Dirent=Ea;Rt.default=Ea;var wa={};function Ee(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Xi(e,t){for(var r="",i=0,n=-1,o=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(n===l-1||o===1))if(n!==l-1&&o===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var f=r.lastIndexOf("/");if(f!==r.length-1){f===-1?(r="",i=0):(r=r.slice(0,f),i=r.length-1-r.lastIndexOf("/")),n=l,o=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=l,o=0;continue}}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(n+1,l):r=e.slice(n+1,l),i=l-n-1;n=l,o=0}else a===46&&o!==-1?++o:o=-1}return r}function Df(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+e+i:i}var Et={resolve:function(){for(var t="",r=!1,i,n=arguments.length-1;n>=-1&&!r;n--){var o;n>=0?o=arguments[n]:(i===void 0&&(i=process.cwd()),o=i),Ee(o),o.length!==0&&(t=o+"/"+t,r=o.charCodeAt(0)===47)}return t=Xi(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(Ee(t),t.length===0)return".";var r=t.charCodeAt(0)===47,i=t.charCodeAt(t.length-1)===47;return t=Xi(t,!r),t.length===0&&!r&&(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return Ee(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,r=0;r<arguments.length;++r){var i=arguments[r];Ee(i),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":Et.normalize(t)},relative:function(t,r){if(Ee(t),Ee(r),t===r||(t=Et.resolve(t),r=Et.resolve(r),t===r))return"";for(var i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var n=t.length,o=n-i,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var l=r.length,f=l-a,m=o<f?o:f,d=-1,v=0;v<=m;++v){if(v===m){if(f>m){if(r.charCodeAt(a+v)===47)return r.slice(a+v+1);if(v===0)return r.slice(a+v)}else o>m&&(t.charCodeAt(i+v)===47?d=v:v===0&&(d=0));break}var y=t.charCodeAt(i+v),g=r.charCodeAt(a+v);if(y!==g)break;y===47&&(d=v)}var E="";for(v=i+d+1;v<=n;++v)(v===n||t.charCodeAt(v)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+r.slice(a+d):(a+=d,r.charCodeAt(a)===47&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(Ee(t),t.length===0)return".";for(var r=t.charCodeAt(0),i=r===47,n=-1,o=!0,a=t.length-1;a>=1;--a)if(r=t.charCodeAt(a),r===47){if(!o){n=a;break}}else o=!1;return n===-1?i?"/":".":i&&n===1?"//":t.slice(0,n)},basename:function(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Ee(t);var i=0,n=-1,o=!0,a;if(r!==void 0&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var l=r.length-1,f=-1;for(a=t.length-1;a>=0;--a){var m=t.charCodeAt(a);if(m===47){if(!o){i=a+1;break}}else f===-1&&(o=!1,f=a+1),l>=0&&(m===r.charCodeAt(l)?--l===-1&&(n=a):(l=-1,n=f))}return i===n?n=f:n===-1&&(n=t.length),t.slice(i,n)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!o){i=a+1;break}}else n===-1&&(o=!1,n=a+1);return n===-1?"":t.slice(i,n)}},extname:function(t){Ee(t);for(var r=-1,i=0,n=-1,o=!0,a=0,l=t.length-1;l>=0;--l){var f=t.charCodeAt(l);if(f===47){if(!o){i=l+1;break}continue}n===-1&&(o=!1,n=l+1),f===46?r===-1?r=l:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||n===-1||a===0||a===1&&r===n-1&&r===i+1?"":t.slice(r,n)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return Df("/",t)},parse:function(t){Ee(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return r;var i=t.charCodeAt(0),n=i===47,o;n?(r.root="/",o=1):o=0;for(var a=-1,l=0,f=-1,m=!0,d=t.length-1,v=0;d>=o;--d){if(i=t.charCodeAt(d),i===47){if(!m){l=d+1;break}continue}f===-1&&(m=!1,f=d+1),i===46?a===-1?a=d:v!==1&&(v=1):a!==-1&&(v=-1)}return a===-1||f===-1||v===0||v===1&&a===f-1&&a===l+1?f!==-1&&(l===0&&n?r.base=r.name=t.slice(1,f):r.base=r.name=t.slice(l,f)):(l===0&&n?(r.name=t.slice(1,a),r.base=t.slice(1,f)):(r.name=t.slice(l,a),r.base=t.slice(l,f)),r.ext=t.slice(a,f)),l>0?r.dir=t.slice(0,l-1):n&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};Et.posix=Et;var Lf=Et,ba={},Ot={},tn={exports:{}},Qi;function Bf(){if(Qi)return tn.exports;Qi=1;var e=tn.exports={},t,r;function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=i}catch{t=i}try{typeof clearTimeout=="function"?r=clearTimeout:r=n}catch{r=n}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function a(_){if(r===clearTimeout)return clearTimeout(_);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}var l=[],f=!1,m,d=-1;function v(){!f||!m||(f=!1,m.length?l=m.concat(l):d=-1,l.length&&y())}function y(){if(!f){var _=o(v);f=!0;for(var w=l.length;w;){for(m=l,l=[];++d<w;)m&&m[d].run();d=-1,w=l.length}m=null,f=!1,a(_)}}e.nextTick=function(_){var w=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)w[R-1]=arguments[R];l.push(new g(_,w)),l.length===1&&!f&&o(y)};function g(_,w){this.fun=_,this.array=w}g.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function E(){}return e.on=E,e.addListener=E,e.once=E,e.off=E,e.removeListener=E,e.removeAllListeners=E,e.emit=E,e.prependListener=E,e.prependOnceListener=E,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},tn.exports}var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});var En;typeof setImmediate=="function"?En=setImmediate.bind(typeof globalThis<"u"?globalThis:K):En=setTimeout.bind(typeof globalThis<"u"?globalThis:K);Mr.default=En;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.createProcess=void 0;var Mf=function(){if(typeof process<"u")return process;try{return Bf()}catch{return}};function Ra(){var e=Mf()||{};return e.cwd||(e.cwd=function(){return"/"}),e.nextTick||(e.nextTick=Mr.default),e.emitWarning||(e.emitWarning=function(t,r){console.warn("".concat(r).concat(r?": ":"").concat(t))}),e.env||(e.env={}),e}Ot.createProcess=Ra;Ot.default=Ra();(function(e){var t=K&&K.__extends||function(){var R=function(b,A){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,T){C.__proto__=T}||function(C,T){for(var x in T)Object.prototype.hasOwnProperty.call(T,x)&&(C[x]=T[x])},R(b,A)};return function(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");R(b,A);function C(){this.constructor=b}b.prototype=A===null?Object.create(A):(C.prototype=A.prototype,new C)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.File=e.Link=e.Node=e.SEP=void 0;var r=Ot,i=Br,n=He,o=Ir(),a=at,l=n.constants.S_IFMT,f=n.constants.S_IFDIR,m=n.constants.S_IFREG,d=n.constants.S_IFLNK,v=n.constants.O_APPEND,y=function(){var R,b;return(b=(R=r.default.getuid)===null||R===void 0?void 0:R.call(r.default))!==null&&b!==void 0?b:0},g=function(){var R,b;return(b=(R=r.default.getgid)===null||R===void 0?void 0:R.call(r.default))!==null&&b!==void 0?b:0};e.SEP="/";var E=function(R){t(b,R);function b(A,C){C===void 0&&(C=438);var T=R.call(this)||this;return T.uid=y(),T.gid=g(),T.atime=new Date,T.mtime=new Date,T.ctime=new Date,T.perm=438,T.mode=m,T.nlink=1,T.perm=C,T.mode|=C,T.ino=A,T}return b.prototype.getString=function(A){return A===void 0&&(A="utf8"),this.getBuffer().toString(A)},b.prototype.setString=function(A){this.buf=(0,i.bufferFrom)(A,"utf8"),this.touch()},b.prototype.getBuffer=function(){return this.buf||this.setBuffer((0,i.bufferAllocUnsafe)(0)),(0,i.bufferFrom)(this.buf)},b.prototype.setBuffer=function(A){this.buf=(0,i.bufferFrom)(A),this.touch()},b.prototype.getSize=function(){return this.buf?this.buf.length:0},b.prototype.setModeProperty=function(A){this.mode=this.mode&~l|A},b.prototype.setIsFile=function(){this.setModeProperty(m)},b.prototype.setIsDirectory=function(){this.setModeProperty(f)},b.prototype.setIsSymlink=function(){this.setModeProperty(d)},b.prototype.isFile=function(){return(this.mode&l)===m},b.prototype.isDirectory=function(){return(this.mode&l)===f},b.prototype.isSymlink=function(){return(this.mode&l)===d},b.prototype.makeSymlink=function(A){this.symlink=A,this.setIsSymlink()},b.prototype.write=function(A,C,T,x){if(C===void 0&&(C=0),T===void 0&&(T=A.length),x===void 0&&(x=0),this.buf||(this.buf=(0,i.bufferAllocUnsafe)(0)),x+T>this.buf.length){var D=(0,i.bufferAllocUnsafe)(x+T);this.buf.copy(D,0,0,this.buf.length),this.buf=D}return A.copy(this.buf,x,C,C+T),this.touch(),T},b.prototype.read=function(A,C,T,x){C===void 0&&(C=0),T===void 0&&(T=A.byteLength),x===void 0&&(x=0),this.buf||(this.buf=(0,i.bufferAllocUnsafe)(0));var D=T;return D>A.byteLength&&(D=A.byteLength),D+x>this.buf.length&&(D=this.buf.length-x),this.buf.copy(A,C,x,x+D),D},b.prototype.truncate=function(A){if(A===void 0&&(A=0),!A)this.buf=(0,i.bufferAllocUnsafe)(0);else if(this.buf||(this.buf=(0,i.bufferAllocUnsafe)(0)),A<=this.buf.length)this.buf=this.buf.slice(0,A);else{var C=(0,i.bufferAllocUnsafe)(0);this.buf.copy(C),C.fill(0,A)}this.touch()},b.prototype.chmod=function(A){this.perm=A,this.mode=this.mode&-512|A,this.touch()},b.prototype.chown=function(A,C){this.uid=A,this.gid=C,this.touch()},b.prototype.touch=function(){this.mtime=new Date,this.emit("change",this)},b.prototype.canRead=function(A,C){return A===void 0&&(A=y()),C===void 0&&(C=g()),!!(this.perm&4||C===this.gid&&this.perm&32||A===this.uid&&this.perm&256)},b.prototype.canWrite=function(A,C){return A===void 0&&(A=y()),C===void 0&&(C=g()),!!(this.perm&2||C===this.gid&&this.perm&16||A===this.uid&&this.perm&128)},b.prototype.del=function(){this.emit("delete",this)},b.prototype.toJSON=function(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}},b}(o.EventEmitter);e.Node=E;var _=function(R){t(b,R);function b(A,C,T){var x=R.call(this)||this;return x.children={},x._steps=[],x.ino=0,x.length=0,x.vol=A,x.parent=C,x.name=T,x.syncSteps(),x}return Object.defineProperty(b.prototype,"steps",{get:function(){return this._steps},set:function(A){this._steps=A;for(var C=0,T=Object.values(this.children);C<T.length;C++){var x=T[C];x==null||x.syncSteps()}},enumerable:!1,configurable:!0}),b.prototype.setNode=function(A){this.node=A,this.ino=A.ino},b.prototype.getNode=function(){return this.node},b.prototype.createChild=function(A,C){C===void 0&&(C=this.vol.createNode());var T=new b(this.vol,this,A);return T.setNode(C),C.isDirectory(),this.setChild(A,T),T},b.prototype.setChild=function(A,C){return C===void 0&&(C=new b(this.vol,this,A)),this.children[A]=C,C.parent=this,this.length++,this.emit("child:add",C,this),C},b.prototype.deleteChild=function(A){delete this.children[A.getName()],this.length--,this.emit("child:delete",A,this)},b.prototype.getChild=function(A){if(Object.hasOwnProperty.call(this.children,A))return this.children[A]},b.prototype.getPath=function(){return this.steps.join(e.SEP)},b.prototype.getName=function(){return this.steps[this.steps.length-1]},b.prototype.walk=function(A,C,T){if(C===void 0&&(C=A.length),T===void 0&&(T=0),T>=A.length)return this;if(T>=C)return this;var x=A[T],D=this.getChild(x);return D?D.walk(A,C,T+1):null},b.prototype.toJSON=function(){return{steps:this.steps,ino:this.ino,children:Object.keys(this.children)}},b.prototype.syncSteps=function(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]},b}(o.EventEmitter);e.Link=_;var w=function(){function R(b,A,C,T){this.position=0,this.link=b,this.node=A,this.flags=C,this.fd=T}return R.prototype.getString=function(b){return this.node.getString()},R.prototype.setString=function(b){this.node.setString(b)},R.prototype.getBuffer=function(){return this.node.getBuffer()},R.prototype.setBuffer=function(b){this.node.setBuffer(b)},R.prototype.getSize=function(){return this.node.getSize()},R.prototype.truncate=function(b){this.node.truncate(b)},R.prototype.seekTo=function(b){this.position=b},R.prototype.stats=function(){return a.default.build(this.node)},R.prototype.write=function(b,A,C,T){A===void 0&&(A=0),C===void 0&&(C=b.length),typeof T!="number"&&(T=this.position),this.flags&v&&(T=this.getSize());var x=this.node.write(b,A,C,T);return this.position=T+x,x},R.prototype.read=function(b,A,C,T){A===void 0&&(A=0),C===void 0&&(C=b.byteLength),typeof T!="number"&&(T=this.position);var x=this.node.read(b,A,C,T);return this.position=T+x,x},R.prototype.chmod=function(b){this.node.chmod(b)},R.prototype.chown=function(b,A){this.node.chown(b,A)},R}();e.File=w})(ba);var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});function $f(e,t,r){var i=setTimeout.apply(typeof globalThis<"u"?globalThis:K,arguments);return i&&typeof i=="object"&&typeof i.unref=="function"&&i.unref(),i}Mn.default=$f;var Zt={},Zi=K&&K.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.FileHandle=void 0;function M(e,t,r){return r===void 0&&(r=function(i){return i}),function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return new Promise(function(o,a){e[t].bind(e).apply(void 0,Zi(Zi([],i,!1),[function(l,f){return l?a(l):o(r(f))}],!1))})}}var mt=function(){function e(t,r){this.vol=t,this.fd=r}return e.prototype.appendFile=function(t,r){return M(this.vol,"appendFile")(this.fd,t,r)},e.prototype.chmod=function(t){return M(this.vol,"fchmod")(this.fd,t)},e.prototype.chown=function(t,r){return M(this.vol,"fchown")(this.fd,t,r)},e.prototype.close=function(){return M(this.vol,"close")(this.fd)},e.prototype.datasync=function(){return M(this.vol,"fdatasync")(this.fd)},e.prototype.read=function(t,r,i,n){return M(this.vol,"read",function(o){return{bytesRead:o,buffer:t}})(this.fd,t,r,i,n)},e.prototype.readFile=function(t){return M(this.vol,"readFile")(this.fd,t)},e.prototype.stat=function(t){return M(this.vol,"fstat")(this.fd,t)},e.prototype.sync=function(){return M(this.vol,"fsync")(this.fd)},e.prototype.truncate=function(t){return M(this.vol,"ftruncate")(this.fd,t)},e.prototype.utimes=function(t,r){return M(this.vol,"futimes")(this.fd,t,r)},e.prototype.write=function(t,r,i,n){return M(this.vol,"write",function(o){return{bytesWritten:o,buffer:t}})(this.fd,t,r,i,n)},e.prototype.writeFile=function(t,r){return M(this.vol,"writeFile")(this.fd,t,r)},e}();Zt.FileHandle=mt;function Uf(e){return typeof Promise>"u"?null:{FileHandle:mt,access:function(t,r){return M(e,"access")(t,r)},appendFile:function(t,r,i){return M(e,"appendFile")(t instanceof mt?t.fd:t,r,i)},chmod:function(t,r){return M(e,"chmod")(t,r)},chown:function(t,r,i){return M(e,"chown")(t,r,i)},copyFile:function(t,r,i){return M(e,"copyFile")(t,r,i)},lchmod:function(t,r){return M(e,"lchmod")(t,r)},lchown:function(t,r,i){return M(e,"lchown")(t,r,i)},link:function(t,r){return M(e,"link")(t,r)},lstat:function(t,r){return M(e,"lstat")(t,r)},mkdir:function(t,r){return M(e,"mkdir")(t,r)},mkdtemp:function(t,r){return M(e,"mkdtemp")(t,r)},open:function(t,r,i){return M(e,"open",function(n){return new mt(e,n)})(t,r,i)},readdir:function(t,r){return M(e,"readdir")(t,r)},readFile:function(t,r){return M(e,"readFile")(t instanceof mt?t.fd:t,r)},readlink:function(t,r){return M(e,"readlink")(t,r)},realpath:function(t,r){return M(e,"realpath")(t,r)},rename:function(t,r){return M(e,"rename")(t,r)},rmdir:function(t){return M(e,"rmdir")(t)},rm:function(t,r){return M(e,"rm")(t,r)},stat:function(t,r){return M(e,"stat")(t,r)},symlink:function(t,r,i){return M(e,"symlink")(t,r,i)},truncate:function(t,r){return M(e,"truncate")(t,r)},unlink:function(t){return M(e,"unlink")(t)},utimes:function(t,r,i){return M(e,"utimes")(t,r,i)},writeFile:function(t,r,i){return M(e,"writeFile")(t instanceof mt?t.fd:t,r,i)}}}Zt.default=Uf;var Pt={},eo;function jf(){if(eo)return Pt;eo=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.unixify=n,Pt.correctPath=o;var e=process.platform==="win32";function t(a){var l=a.length-1;if(l<2)return a;for(;r(a,l);)l--;return a.substr(0,l+1)}function r(a,l){var f=a[l];return l>0&&(f==="/"||e&&f==="\\")}function i(a,l){if(typeof a!="string")throw new TypeError("expected a string");return a=a.replace(/[\\\/]+/g,"/"),l!==!1&&(a=t(a)),a}function n(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e?(a=i(a,l),a.replace(/^([a-zA-Z]+:|\.\/)/,"")):a}function o(a){return n(a.replace(/^\\\\\?\\.:\\/,"\\"))}return Pt}(function(e){var t=K&&K.__extends||function(){var h=function(s,u){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(c[S]=p[S])},h(s,u)};return function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");h(s,u);function c(){this.constructor=s}s.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),r=K&&K.__spreadArray||function(h,s,u){if(u||arguments.length===2)for(var c=0,p=s.length,S;c<p;c++)(S||!(c in s))&&(S||(S=Array.prototype.slice.call(s,0,c)),S[c]=s[c]);return h.concat(S||Array.prototype.slice.call(s))};Object.defineProperty(e,"__esModule",{value:!0}),e.FSWatcher=e.StatWatcher=e.Volume=e.toUnixTimestamp=e.bufferToEncoding=e.dataToBuffer=e.dataToStr=e.pathToSteps=e.filenameToSteps=e.pathToFilename=e.flagsToNumber=e.FLAGS=void 0;var i=Lf,n=ba,o=at,a=Rt,l=Br,f=Mr,m=Ot,d=Mn,v=fs(),y=He,g=Ir(),E=Ln,_=Bn,w=To,R=Zt,b=i.resolve,A=y.constants.O_RDONLY,C=y.constants.O_WRONLY,T=y.constants.O_RDWR,x=y.constants.O_CREAT,D=y.constants.O_EXCL,ee=y.constants.O_TRUNC,ue=y.constants.O_APPEND,re=y.constants.O_SYNC,Ct=y.constants.O_DIRECTORY,Ft=y.constants.F_OK,ut=y.constants.COPYFILE_EXCL,xe=y.constants.COPYFILE_FICLONE_FORCE,qe=i.posix?i.posix:i,ne=qe.sep,ke=qe.relative,Ke=qe.join,ze=qe.dirname,Nt=m.default.platform==="win32",Ma=128,Fe={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"},$a=function(h){return"Expected options to be either an object or a string, but got ".concat(h," instead")},W="ENOENT",Wr="EBADF",Zn="EINVAL",Ua="EPERM",ja="EPROTO",Pe="EEXIST",Ge="ENOTDIR",ei="EMFILE",ti="EACCES",Yr="EISDIR",ri="ENOTEMPTY",ni="ENOSYS",ii="ERR_FS_EISDIR";function Va(h,s,u,c){s===void 0&&(s=""),u===void 0&&(u=""),c===void 0&&(c="");var p="";switch(u&&(p=" '".concat(u,"'")),c&&(p+=" -> '".concat(c,"'")),h){case W:return"ENOENT: no such file or directory, ".concat(s).concat(p);case Wr:return"EBADF: bad file descriptor, ".concat(s).concat(p);case Zn:return"EINVAL: invalid argument, ".concat(s).concat(p);case Ua:return"EPERM: operation not permitted, ".concat(s).concat(p);case ja:return"EPROTO: protocol error, ".concat(s).concat(p);case Pe:return"EEXIST: file already exists, ".concat(s).concat(p);case Ge:return"ENOTDIR: not a directory, ".concat(s).concat(p);case Yr:return"EISDIR: illegal operation on a directory, ".concat(s).concat(p);case ti:return"EACCES: permission denied, ".concat(s).concat(p);case ri:return"ENOTEMPTY: directory not empty, ".concat(s).concat(p);case ei:return"EMFILE: too many open files, ".concat(s).concat(p);case ni:return"ENOSYS: function not implemented, ".concat(s).concat(p);case ii:return"[ERR_FS_EISDIR]: Path is a directory: ".concat(s," returned EISDIR (is a directory) ").concat(u);default:return"".concat(h,": error occurred, ").concat(s).concat(p)}}function B(h,s,u,c,p){s===void 0&&(s=""),u===void 0&&(u=""),c===void 0&&(c=""),p===void 0&&(p=Error);var S=new p(Va(h,s,u,c));return S.code=h,S}var Je;(function(h){h[h.r=A]="r",h[h["r+"]=T]="r+",h[h.rs=A|re]="rs",h[h.sr=h.rs]="sr",h[h["rs+"]=T|re]="rs+",h[h["sr+"]=h["rs+"]]="sr+",h[h.w=C|x|ee]="w",h[h.wx=C|x|ee|D]="wx",h[h.xw=h.wx]="xw",h[h["w+"]=T|x|ee]="w+",h[h["wx+"]=T|x|ee|D]="wx+",h[h["xw+"]=h["wx+"]]="xw+",h[h.a=C|ue|x]="a",h[h.ax=C|ue|x|D]="ax",h[h.xa=h.ax]="xa",h[h["a+"]=T|ue|x]="a+",h[h["ax+"]=T|ue|x|D]="ax+",h[h["xa+"]=h["ax+"]]="xa+"})(Je=e.FLAGS||(e.FLAGS={}));function Xe(h){if(typeof h=="number")return h;if(typeof h=="string"){var s=Je[h];if(typeof s<"u")return s}throw new _.TypeError("ERR_INVALID_OPT_VALUE","flags",h)}e.flagsToNumber=Xe;function qr(h,s){var u;if(s){var c=typeof s;switch(c){case"string":u=Object.assign({},h,{encoding:s});break;case"object":u=Object.assign({},h,s);break;default:throw TypeError($a(c))}}else return h;return u.encoding!=="buffer"&&(0,E.assertEncoding)(u.encoding),u}function Qe(h){return function(s){return qr(h,s)}}function ie(h){if(typeof h!="function")throw TypeError(Fe.CB);return h}function lt(h){return function(s,u){return typeof s=="function"?[h(),s]:[h(s),ie(u)]}}var Kr={encoding:"utf8"},rr=Qe(Kr),oi=lt(rr),Ha={flag:"r"},ai=Qe(Ha),si={encoding:"utf8",mode:438,flag:Je[Je.w]},ui=Qe(si),li={encoding:"utf8",mode:438,flag:Je[Je.a]},ci=Qe(li),Wa=lt(ci),Ya=Kr,fi=Qe(Ya),qa=lt(fi),hi={mode:511,recursive:!1},di=function(h){return typeof h=="number"?Object.assign({},hi,{mode:h}):Object.assign({},hi,h)},Ka={recursive:!1},pi=function(h){return Object.assign({},Ka,h)},za=Qe(Kr),Ga=lt(za),Ja={encoding:"utf8",withFileTypes:!1},mi=Qe(Ja),Xa=lt(mi),Qa={bigint:!1},It=function(h){return h===void 0&&(h={}),Object.assign({},Qa,h)},zr=function(h,s){return typeof h=="function"?[It(),h]:[It(h),ie(s)]};function Za(h){if(h.hostname!=="")throw new _.TypeError("ERR_INVALID_FILE_URL_HOST",m.default.platform);for(var s=h.pathname,u=0;u<s.length;u++)if(s[u]==="%"){var c=s.codePointAt(u+2)|32;if(s[u+1]==="2"&&c===102)throw new _.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(s)}function k(h){if(typeof h!="string"&&!l.Buffer.isBuffer(h)){try{if(!(h instanceof hn.URL))throw new TypeError(Fe.PATH_STR)}catch{throw new TypeError(Fe.PATH_STR)}h=Za(h)}var s=String(h);return Gr(s),s}e.pathToFilename=k;var nr=function(h,s){return s===void 0&&(s=m.default.cwd()),b(s,h)};if(Nt){var es=nr,ts=jf().unixify;nr=function(h,s){return ts(es(h,s))}}function Y(h,s){var u=nr(h,s),c=u.substr(1);return c?c.split(ne):[]}e.filenameToSteps=Y;function rs(h){return Y(k(h))}e.pathToSteps=rs;function ns(h,s){return s===void 0&&(s=E.ENCODING_UTF8),l.Buffer.isBuffer(h)?h.toString(s):h instanceof Uint8Array?(0,l.bufferFrom)(h).toString(s):String(h)}e.dataToStr=ns;function xt(h,s){return s===void 0&&(s=E.ENCODING_UTF8),l.Buffer.isBuffer(h)?h:h instanceof Uint8Array?(0,l.bufferFrom)(h):(0,l.bufferFrom)(String(h),s)}e.dataToBuffer=xt;function vi(h,s){return!s||s==="buffer"?h:h.toString(s)}e.bufferToEncoding=vi;function Gr(h,s){if((""+h).indexOf("\0")!==-1){var u=new Error("Path must be a string without null bytes");if(u.code=W,typeof s!="function")throw u;return m.default.nextTick(s,u),!1}return!0}function is(h,s){if(typeof h=="number")return h;if(typeof h=="string")return parseInt(h,8);if(s)return ae(s)}function ae(h,s){var u=is(h,s);if(typeof u!="number"||isNaN(u))throw new TypeError(Fe.MODE_INT);return u}function Ze(h){return h>>>0===h}function kt(h){if(!Ze(h))throw TypeError(Fe.FD)}function Ne(h){if(typeof h=="string"&&+h==h)return+h;if(h instanceof Date)return h.getTime()/1e3;if(isFinite(h))return h<0?Date.now()/1e3:h;throw new Error("Cannot parse time: "+h)}e.toUnixTimestamp=Ne;function ct(h){if(typeof h!="number")throw TypeError(Fe.UID)}function ft(h){if(typeof h!="number")throw TypeError(Fe.GID)}function os(h){var s={};function u(c,p){for(var S in p){var O=p[S],F=Ke(c,S);typeof O=="string"?s[F]=O:typeof O=="object"&&O!==null&&Object.keys(O).length>0?u(F,O):s[F]=null}}return u("",h),s}var as=function(){function h(s){s===void 0&&(s={}),this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=(0,R.default)(this),this.statWatchers={},this.props=Object.assign({Node:n.Node,Link:n.Link,File:n.File},s);var u=this.createLink();u.setNode(this.createNode(!0));var c=this;this.StatWatcher=function(O){t(F,O);function F(){return O.call(this,c)||this}return F}(yi);var p=_e;this.ReadStream=function(O){t(F,O);function F(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];return O.apply(this,r([c],I,!1))||this}return F}(p);var S=ce;this.WriteStream=function(O){t(F,O);function F(){for(var I=[],P=0;P<arguments.length;P++)I[P]=arguments[P];return O.apply(this,r([c],I,!1))||this}return F}(S),this.FSWatcher=function(O){t(F,O);function F(){return O.call(this,c)||this}return F}(Si),this.root=u}return h.fromJSON=function(s,u){var c=new h;return c.fromJSON(s,u),c},h.fromNestedJSON=function(s,u){var c=new h;return c.fromNestedJSON(s,u),c},Object.defineProperty(h.prototype,"promises",{get:function(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi},enumerable:!1,configurable:!0}),h.prototype.createLink=function(s,u,c,p){if(c===void 0&&(c=!1),!s)return new this.props.Link(this,null,"");if(!u)throw new Error("createLink: name cannot be empty");return s.createChild(u,this.createNode(c,p))},h.prototype.deleteLink=function(s){var u=s.parent;return u?(u.deleteChild(s),!0):!1},h.prototype.newInoNumber=function(){var s=this.releasedInos.pop();return s||(this.ino=(this.ino+1)%4294967295,this.ino)},h.prototype.newFdNumber=function(){var s=this.releasedFds.pop();return typeof s=="number"?s:h.fd--},h.prototype.createNode=function(s,u){s===void 0&&(s=!1);var c=new this.props.Node(this.newInoNumber(),u);return s&&c.setIsDirectory(),this.inodes[c.ino]=c,c},h.prototype.getNode=function(s){return this.inodes[s]},h.prototype.deleteNode=function(s){s.del(),delete this.inodes[s.ino],this.releasedInos.push(s.ino)},h.prototype.genRndStr=function(){var s=(Math.random()+1).toString(36).substr(2,6);return s.length===6?s:this.genRndStr()},h.prototype.getLink=function(s){return this.root.walk(s)},h.prototype.getLinkOrThrow=function(s,u){var c=Y(s),p=this.getLink(c);if(!p)throw B(W,u,s);return p},h.prototype.getResolvedLink=function(s){for(var u=typeof s=="string"?Y(s):s,c=this.root,p=0;p<u.length;){var S=u[p];if(c=c.getChild(S),!c)return null;var O=c.getNode();if(O.isSymlink()){u=O.symlink.concat(u.slice(p+1)),c=this.root,p=0;continue}p++}return c},h.prototype.getResolvedLinkOrThrow=function(s,u){var c=this.getResolvedLink(s);if(!c)throw B(W,u,s);return c},h.prototype.resolveSymlinks=function(s){return this.getResolvedLink(s.steps.slice(1))},h.prototype.getLinkAsDirOrThrow=function(s,u){var c=this.getLinkOrThrow(s,u);if(!c.getNode().isDirectory())throw B(Ge,u,s);return c},h.prototype.getLinkParent=function(s){return this.root.walk(s,s.length-1)},h.prototype.getLinkParentAsDirOrThrow=function(s,u){var c=s instanceof Array?s:Y(s),p=this.getLinkParent(c);if(!p)throw B(W,u,ne+c.join(ne));if(!p.getNode().isDirectory())throw B(Ge,u,ne+c.join(ne));return p},h.prototype.getFileByFd=function(s){return this.fds[String(s)]},h.prototype.getFileByFdOrThrow=function(s,u){if(!Ze(s))throw TypeError(Fe.FD);var c=this.getFileByFd(s);if(!c)throw B(Wr,u);return c},h.prototype.wrapAsync=function(s,u,c){var p=this;ie(c),(0,f.default)(function(){var S;try{S=s.apply(p,u)}catch(O){c(O);return}c(null,S)})},h.prototype._toJSON=function(s,u,c){var p;s===void 0&&(s=this.root),u===void 0&&(u={});var S=!0,O=s.children;s.getNode().isFile()&&(O=(p={},p[s.getName()]=s.parent.getChild(s.getName()),p),s=s.parent);for(var F in O){S=!1;var I=s.getChild(F);if(!I)throw new Error("_toJSON: unexpected undefined");var P=I.getNode();if(P.isFile()){var $=I.getPath();c&&($=ke(c,$)),u[$]=P.getString()}else P.isDirectory()&&this._toJSON(I,u,c)}var q=s.getPath();return c&&(q=ke(c,q)),q&&S&&(u[q]=null),u},h.prototype.toJSON=function(s,u,c){u===void 0&&(u={}),c===void 0&&(c=!1);var p=[];if(s){s instanceof Array||(s=[s]);for(var S=0,O=s;S<O.length;S++){var F=O[S],I=k(F),P=this.getResolvedLink(I);!P||p.push(P)}}else p.push(this.root);if(!p.length)return u;for(var $=0,q=p;$<q.length;$++){var P=q[$];this._toJSON(P,u,c?P.getPath():"")}return u},h.prototype.fromJSON=function(s,u){u===void 0&&(u=m.default.cwd());for(var c in s){var p=s[c];if(c=nr(c,u),typeof p=="string"){var S=ze(c);this.mkdirpBase(S,511),this.writeFileSync(c,p)}else this.mkdirpBase(c,511)}},h.prototype.fromNestedJSON=function(s,u){this.fromJSON(os(s),u)},h.prototype.reset=function(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))},h.prototype.mountSync=function(s,u){this.fromJSON(u,s)},h.prototype.openLink=function(s,u,c){if(c===void 0&&(c=!0),this.openFiles>=this.maxFiles)throw B(ei,"open",s.getPath());var p=s;if(c&&(p=this.resolveSymlinks(s)),!p)throw B(W,"open",s.getPath());var S=p.getNode();if(S.isDirectory()){if((u&(A|T|C))!==A)throw B(Yr,"open",s.getPath())}else if(u&Ct)throw B(Ge,"open",s.getPath());if(!(u&C)&&!S.canRead())throw B(ti,"open",s.getPath());var O=new this.props.File(s,S,u,this.newFdNumber());return this.fds[O.fd]=O,this.openFiles++,u&ee&&O.truncate(),O},h.prototype.openFile=function(s,u,c,p){p===void 0&&(p=!0);var S=Y(s),O=p?this.getResolvedLink(S):this.getLink(S);if(O&&u&D)throw B(Pe,"open",s);if(!O&&u&x){var F=this.getResolvedLink(S.slice(0,S.length-1));if(!F)throw B(W,"open",ne+S.join(ne));u&x&&typeof c=="number"&&(O=this.createLink(F,S[S.length-1],!1,c))}if(O)return this.openLink(O,u,p);throw B(W,"open",s)},h.prototype.openBase=function(s,u,c,p){p===void 0&&(p=!0);var S=this.openFile(s,u,c,p);if(!S)throw B(W,"open",s);return S.fd},h.prototype.openSync=function(s,u,c){c===void 0&&(c=438);var p=ae(c),S=k(s),O=Xe(u);return this.openBase(S,O,p)},h.prototype.open=function(s,u,c,p){var S=c,O=p;typeof c=="function"&&(S=438,O=c),S=S||438;var F=ae(S),I=k(s),P=Xe(u);this.wrapAsync(this.openBase,[I,P,F],O)},h.prototype.closeFile=function(s){!this.fds[s.fd]||(this.openFiles--,delete this.fds[s.fd],this.releasedFds.push(s.fd))},h.prototype.closeSync=function(s){kt(s);var u=this.getFileByFdOrThrow(s,"close");this.closeFile(u)},h.prototype.close=function(s,u){kt(s),this.wrapAsync(this.closeSync,[s],u)},h.prototype.openFileOrGetById=function(s,u,c){if(typeof s=="number"){var p=this.fds[s];if(!p)throw B(W);return p}else return this.openFile(k(s),u,c)},h.prototype.readBase=function(s,u,c,p,S){var O=this.getFileByFdOrThrow(s);return O.read(u,Number(c),Number(p),S)},h.prototype.readSync=function(s,u,c,p,S){return kt(s),this.readBase(s,u,c,p,S)},h.prototype.read=function(s,u,c,p,S,O){var F=this;if(ie(O),p===0)return m.default.nextTick(function(){O&&O(null,0,u)});(0,f.default)(function(){try{var I=F.readBase(s,u,c,p,S);O(null,I,u)}catch(P){O(P)}})},h.prototype.readFileBase=function(s,u,c){var p,S=typeof s=="number",O=S&&Ze(s),F;if(O)F=s;else{var I=k(s),P=Y(I),$=this.getResolvedLink(P);if($){var q=$.getNode();if(q.isDirectory())throw B(Yr,"open",$.getPath())}F=this.openSync(s,u)}try{p=vi(this.getFileByFdOrThrow(F).getBuffer(),c)}finally{O||this.closeSync(F)}return p},h.prototype.readFileSync=function(s,u){var c=ai(u),p=Xe(c.flag);return this.readFileBase(s,p,c.encoding)},h.prototype.readFile=function(s,u,c){var p=lt(ai)(u,c),S=p[0],O=p[1],F=Xe(S.flag);this.wrapAsync(this.readFileBase,[s,F,S.encoding],O)},h.prototype.writeBase=function(s,u,c,p,S){var O=this.getFileByFdOrThrow(s,"write");return O.write(u,c,p,S)},h.prototype.writeSync=function(s,u,c,p,S){kt(s);var O,F,I,P,$=typeof u!="string";$?(F=(c||0)|0,I=p,P=S):(P=c,O=p);var q=xt(u,O);return $?typeof I>"u"&&(I=q.length):(F=0,I=q.length),this.writeBase(s,q,F,I,P)},h.prototype.write=function(s,u,c,p,S,O){var F=this;kt(s);var I,P,$,q,pe,Jr=typeof u,_i=typeof c,Ei=typeof p,wi=typeof S;Jr!=="string"?_i==="function"?pe=c:Ei==="function"?(I=c|0,pe=p):wi==="function"?(I=c|0,P=p,pe=S):(I=c|0,P=p,$=S,pe=O):_i==="function"?pe=c:Ei==="function"?($=c,pe=p):wi==="function"&&($=c,q=p,pe=S);var ir=xt(u,q);Jr!=="string"?typeof P>"u"&&(P=ir.length):(I=0,P=ir.length);var Xr=ie(pe);(0,f.default)(function(){try{var bi=F.writeBase(s,ir,I,P,$);Jr!=="string"?Xr(null,bi,ir):Xr(null,bi,u)}catch(ls){Xr(ls)}})},h.prototype.writeFileBase=function(s,u,c,p){var S=typeof s=="number",O;S?O=s:O=this.openBase(k(s),c,p);var F=0,I=u.length,P=c&ue?void 0:0;try{for(;I>0;){var $=this.writeSync(O,u,F,I,P);F+=$,I-=$,P!==void 0&&(P+=$)}}finally{S||this.closeSync(O)}},h.prototype.writeFileSync=function(s,u,c){var p=ui(c),S=Xe(p.flag),O=ae(p.mode),F=xt(u,p.encoding);this.writeFileBase(s,F,S,O)},h.prototype.writeFile=function(s,u,c,p){var S=c,O=p;typeof c=="function"&&(S=si,O=c);var F=ie(O),I=ui(S),P=Xe(I.flag),$=ae(I.mode),q=xt(u,I.encoding);this.wrapAsync(this.writeFileBase,[s,q,P,$],F)},h.prototype.linkBase=function(s,u){var c=Y(s),p=this.getLink(c);if(!p)throw B(W,"link",s,u);var S=Y(u),O=this.getLinkParent(S);if(!O)throw B(W,"link",s,u);var F=S[S.length-1];if(O.getChild(F))throw B(Pe,"link",s,u);var I=p.getNode();I.nlink++,O.createChild(F,I)},h.prototype.copyFileBase=function(s,u,c){var p=this.readFileSync(s);if(c&ut&&this.existsSync(u))throw B(Pe,"copyFile",s,u);if(c&xe)throw B(ni,"copyFile",s,u);this.writeFileBase(u,p,Je.w,438)},h.prototype.copyFileSync=function(s,u,c){var p=k(s),S=k(u);return this.copyFileBase(p,S,(c||0)|0)},h.prototype.copyFile=function(s,u,c,p){var S=k(s),O=k(u),F,I;typeof c=="function"?(F=0,I=c):(F=c,I=p),ie(I),this.wrapAsync(this.copyFileBase,[S,O,F],I)},h.prototype.linkSync=function(s,u){var c=k(s),p=k(u);this.linkBase(c,p)},h.prototype.link=function(s,u,c){var p=k(s),S=k(u);this.wrapAsync(this.linkBase,[p,S],c)},h.prototype.unlinkBase=function(s){var u=Y(s),c=this.getLink(u);if(!c)throw B(W,"unlink",s);if(c.length)throw Error("Dir not empty...");this.deleteLink(c);var p=c.getNode();p.nlink--,p.nlink<=0&&this.deleteNode(p)},h.prototype.unlinkSync=function(s){var u=k(s);this.unlinkBase(u)},h.prototype.unlink=function(s,u){var c=k(s);this.wrapAsync(this.unlinkBase,[c],u)},h.prototype.symlinkBase=function(s,u){var c=Y(u),p=this.getLinkParent(c);if(!p)throw B(W,"symlink",s,u);var S=c[c.length-1];if(p.getChild(S))throw B(Pe,"symlink",s,u);var O=p.createChild(S);return O.getNode().makeSymlink(Y(s)),O},h.prototype.symlinkSync=function(s,u,c){var p=k(s),S=k(u);this.symlinkBase(p,S)},h.prototype.symlink=function(s,u,c,p){var S=ie(typeof c=="function"?c:p),O=k(s),F=k(u);this.wrapAsync(this.symlinkBase,[O,F],S)},h.prototype.realpathBase=function(s,u){var c=Y(s),p=this.getResolvedLink(c);if(!p)throw B(W,"realpath",s);return(0,E.strToEncoding)(p.getPath(),u)},h.prototype.realpathSync=function(s,u){return this.realpathBase(k(s),fi(u).encoding)},h.prototype.realpath=function(s,u,c){var p=qa(u,c),S=p[0],O=p[1],F=k(s);this.wrapAsync(this.realpathBase,[F,S.encoding],O)},h.prototype.lstatBase=function(s,u,c){u===void 0&&(u=!1),c===void 0&&(c=!1);var p=this.getLink(Y(s));if(p)return o.default.build(p.getNode(),u);if(c)throw B(W,"lstat",s)},h.prototype.lstatSync=function(s,u){var c=It(u),p=c.throwIfNoEntry,S=p===void 0?!0:p,O=c.bigint,F=O===void 0?!1:O;return this.lstatBase(k(s),F,S)},h.prototype.lstat=function(s,u,c){var p=zr(u,c),S=p[0],O=S.throwIfNoEntry,F=O===void 0?!0:O,I=S.bigint,P=I===void 0?!1:I,$=p[1];this.wrapAsync(this.lstatBase,[k(s),P,F],$)},h.prototype.statBase=function(s,u,c){u===void 0&&(u=!1),c===void 0&&(c=!0);var p=this.getResolvedLink(Y(s));if(p)return o.default.build(p.getNode(),u);if(c)throw B(W,"stat",s)},h.prototype.statSync=function(s,u){var c=It(u),p=c.bigint,S=p===void 0?!0:p,O=c.throwIfNoEntry,F=O===void 0?!0:O;return this.statBase(k(s),S,F)},h.prototype.stat=function(s,u,c){var p=zr(u,c),S=p[0],O=S.bigint,F=O===void 0?!1:O,I=S.throwIfNoEntry,P=I===void 0?!0:I,$=p[1];this.wrapAsync(this.statBase,[k(s),F,P],$)},h.prototype.fstatBase=function(s,u){u===void 0&&(u=!1);var c=this.getFileByFd(s);if(!c)throw B(Wr,"fstat");return o.default.build(c.node,u)},h.prototype.fstatSync=function(s,u){return this.fstatBase(s,It(u).bigint)},h.prototype.fstat=function(s,u,c){var p=zr(u,c),S=p[0],O=p[1];this.wrapAsync(this.fstatBase,[s,S.bigint],O)},h.prototype.renameBase=function(s,u){var c=this.getLink(Y(s));if(!c)throw B(W,"rename",s,u);var p=Y(u),S=this.getLinkParent(p);if(!S)throw B(W,"rename",s,u);var O=c.parent;O&&O.deleteChild(c);var F=p[p.length-1];c.name=F,c.steps=r(r([],S.steps,!0),[F],!1),S.setChild(c.getName(),c)},h.prototype.renameSync=function(s,u){var c=k(s),p=k(u);this.renameBase(c,p)},h.prototype.rename=function(s,u,c){var p=k(s),S=k(u);this.wrapAsync(this.renameBase,[p,S],c)},h.prototype.existsBase=function(s){return!!this.statBase(s)},h.prototype.existsSync=function(s){try{return this.existsBase(k(s))}catch{return!1}},h.prototype.exists=function(s,u){var c=this,p=k(s);if(typeof u!="function")throw Error(Fe.CB);(0,f.default)(function(){try{u(c.existsBase(p))}catch{u(!1)}})},h.prototype.accessBase=function(s,u){this.getLinkOrThrow(s,"access")},h.prototype.accessSync=function(s,u){u===void 0&&(u=Ft);var c=k(s);u=u|0,this.accessBase(c,u)},h.prototype.access=function(s,u,c){var p=Ft,S;typeof u!="function"?(p=u|0,S=ie(c)):S=u;var O=k(s);this.wrapAsync(this.accessBase,[O,p],S)},h.prototype.appendFileSync=function(s,u,c){c===void 0&&(c=li);var p=ci(c);(!p.flag||Ze(s))&&(p.flag="a"),this.writeFileSync(s,u,p)},h.prototype.appendFile=function(s,u,c,p){var S=Wa(c,p),O=S[0],F=S[1];(!O.flag||Ze(s))&&(O.flag="a"),this.writeFile(s,u,O,F)},h.prototype.readdirBase=function(s,u){var c=Y(s),p=this.getResolvedLink(c);if(!p)throw B(W,"readdir",s);var S=p.getNode();if(!S.isDirectory())throw B(Ge,"scandir",s);if(u.withFileTypes){var O=[];for(var F in p.children){var I=p.getChild(F);!I||O.push(a.default.build(I,u.encoding))}return!Nt&&u.encoding!=="buffer"&&O.sort(function(q,pe){return q.name<pe.name?-1:q.name>pe.name?1:0}),O}var P=[];for(var $ in p.children)P.push((0,E.strToEncoding)($,u.encoding));return!Nt&&u.encoding!=="buffer"&&P.sort(),P},h.prototype.readdirSync=function(s,u){var c=mi(u),p=k(s);return this.readdirBase(p,c)},h.prototype.readdir=function(s,u,c){var p=Xa(u,c),S=p[0],O=p[1],F=k(s);this.wrapAsync(this.readdirBase,[F,S],O)},h.prototype.readlinkBase=function(s,u){var c=this.getLinkOrThrow(s,"readlink"),p=c.getNode();if(!p.isSymlink())throw B(Zn,"readlink",s);var S=ne+p.symlink.join(ne);return(0,E.strToEncoding)(S,u)},h.prototype.readlinkSync=function(s,u){var c=rr(u),p=k(s);return this.readlinkBase(p,c.encoding)},h.prototype.readlink=function(s,u,c){var p=oi(u,c),S=p[0],O=p[1],F=k(s);this.wrapAsync(this.readlinkBase,[F,S.encoding],O)},h.prototype.fsyncBase=function(s){this.getFileByFdOrThrow(s,"fsync")},h.prototype.fsyncSync=function(s){this.fsyncBase(s)},h.prototype.fsync=function(s,u){this.wrapAsync(this.fsyncBase,[s],u)},h.prototype.fdatasyncBase=function(s){this.getFileByFdOrThrow(s,"fdatasync")},h.prototype.fdatasyncSync=function(s){this.fdatasyncBase(s)},h.prototype.fdatasync=function(s,u){this.wrapAsync(this.fdatasyncBase,[s],u)},h.prototype.ftruncateBase=function(s,u){var c=this.getFileByFdOrThrow(s,"ftruncate");c.truncate(u)},h.prototype.ftruncateSync=function(s,u){this.ftruncateBase(s,u)},h.prototype.ftruncate=function(s,u,c){var p=typeof u=="number"?u:0,S=ie(typeof u=="number"?c:u);this.wrapAsync(this.ftruncateBase,[s,p],S)},h.prototype.truncateBase=function(s,u){var c=this.openSync(s,"r+");try{this.ftruncateSync(c,u)}finally{this.closeSync(c)}},h.prototype.truncateSync=function(s,u){if(Ze(s))return this.ftruncateSync(s,u);this.truncateBase(s,u)},h.prototype.truncate=function(s,u,c){var p=typeof u=="number"?u:0,S=ie(typeof u=="number"?c:u);if(Ze(s))return this.ftruncate(s,p,S);this.wrapAsync(this.truncateBase,[s,p],S)},h.prototype.futimesBase=function(s,u,c){var p=this.getFileByFdOrThrow(s,"futimes"),S=p.node;S.atime=new Date(u*1e3),S.mtime=new Date(c*1e3)},h.prototype.futimesSync=function(s,u,c){this.futimesBase(s,Ne(u),Ne(c))},h.prototype.futimes=function(s,u,c,p){this.wrapAsync(this.futimesBase,[s,Ne(u),Ne(c)],p)},h.prototype.utimesBase=function(s,u,c){var p=this.openSync(s,"r+");try{this.futimesBase(p,u,c)}finally{this.closeSync(p)}},h.prototype.utimesSync=function(s,u,c){this.utimesBase(k(s),Ne(u),Ne(c))},h.prototype.utimes=function(s,u,c,p){this.wrapAsync(this.utimesBase,[k(s),Ne(u),Ne(c)],p)},h.prototype.mkdirBase=function(s,u){var c=Y(s);if(!c.length)throw B(Pe,"mkdir",s);var p=this.getLinkParentAsDirOrThrow(s,"mkdir"),S=c[c.length-1];if(p.getChild(S))throw B(Pe,"mkdir",s);p.createChild(S,this.createNode(!0,u))},h.prototype.mkdirpBase=function(s,u){for(var c=Y(s),p=this.root,S=0;S<c.length;S++){var O=c[S];if(!p.getNode().isDirectory())throw B(Ge,"mkdir",p.getPath());var F=p.getChild(O);if(F)if(F.getNode().isDirectory())p=F;else throw B(Ge,"mkdir",F.getPath());else p=p.createChild(O,this.createNode(!0,u))}},h.prototype.mkdirSync=function(s,u){var c=di(u),p=ae(c.mode,511),S=k(s);c.recursive?this.mkdirpBase(S,p):this.mkdirBase(S,p)},h.prototype.mkdir=function(s,u,c){var p=di(u),S=ie(typeof u=="function"?u:c),O=ae(p.mode,511),F=k(s);p.recursive?this.wrapAsync(this.mkdirpBase,[F,O],S):this.wrapAsync(this.mkdirBase,[F,O],S)},h.prototype.mkdirpSync=function(s,u){this.mkdirSync(s,{mode:u,recursive:!0})},h.prototype.mkdirp=function(s,u,c){var p=typeof u=="function"?void 0:u,S=ie(typeof u=="function"?u:c);this.mkdir(s,{mode:p,recursive:!0},S)},h.prototype.mkdtempBase=function(s,u,c){c===void 0&&(c=5);var p=s+this.genRndStr();try{return this.mkdirBase(p,511),(0,E.strToEncoding)(p,u)}catch(S){if(S.code===Pe){if(c>1)return this.mkdtempBase(s,u,c-1);throw Error("Could not create temp dir.")}else throw S}},h.prototype.mkdtempSync=function(s,u){var c=rr(u).encoding;if(!s||typeof s!="string")throw new TypeError("filename prefix is required");return Gr(s),this.mkdtempBase(s,c)},h.prototype.mkdtemp=function(s,u,c){var p=oi(u,c),S=p[0].encoding,O=p[1];if(!s||typeof s!="string")throw new TypeError("filename prefix is required");!Gr(s)||this.wrapAsync(this.mkdtempBase,[s,S],O)},h.prototype.rmdirBase=function(s,u){var c=pi(u),p=this.getLinkAsDirOrThrow(s,"rmdir");if(p.length&&!c.recursive)throw B(ri,"rmdir",s);this.deleteLink(p)},h.prototype.rmdirSync=function(s,u){this.rmdirBase(k(s),u)},h.prototype.rmdir=function(s,u,c){var p=pi(u),S=ie(typeof u=="function"?u:c);this.wrapAsync(this.rmdirBase,[k(s),p],S)},h.prototype.rmBase=function(s,u){u===void 0&&(u={});var c=this.getResolvedLink(s);if(!c){if(!u.force)throw B(W,"stat",s);return}if(c.getNode().isDirectory()&&!u.recursive)throw B(ii,"rm",s);this.deleteLink(c)},h.prototype.rmSync=function(s,u){this.rmBase(k(s),u)},h.prototype.rm=function(s,u,c){var p=Ga(u,c),S=p[0],O=p[1];this.wrapAsync(this.rmBase,[k(s),S],O)},h.prototype.fchmodBase=function(s,u){var c=this.getFileByFdOrThrow(s,"fchmod");c.chmod(u)},h.prototype.fchmodSync=function(s,u){this.fchmodBase(s,ae(u))},h.prototype.fchmod=function(s,u,c){this.wrapAsync(this.fchmodBase,[s,ae(u)],c)},h.prototype.chmodBase=function(s,u){var c=this.openSync(s,"r+");try{this.fchmodBase(c,u)}finally{this.closeSync(c)}},h.prototype.chmodSync=function(s,u){var c=ae(u),p=k(s);this.chmodBase(p,c)},h.prototype.chmod=function(s,u,c){var p=ae(u),S=k(s);this.wrapAsync(this.chmodBase,[S,p],c)},h.prototype.lchmodBase=function(s,u){var c=this.openBase(s,T,0,!1);try{this.fchmodBase(c,u)}finally{this.closeSync(c)}},h.prototype.lchmodSync=function(s,u){var c=ae(u),p=k(s);this.lchmodBase(p,c)},h.prototype.lchmod=function(s,u,c){var p=ae(u),S=k(s);this.wrapAsync(this.lchmodBase,[S,p],c)},h.prototype.fchownBase=function(s,u,c){this.getFileByFdOrThrow(s,"fchown").chown(u,c)},h.prototype.fchownSync=function(s,u,c){ct(u),ft(c),this.fchownBase(s,u,c)},h.prototype.fchown=function(s,u,c,p){ct(u),ft(c),this.wrapAsync(this.fchownBase,[s,u,c],p)},h.prototype.chownBase=function(s,u,c){var p=this.getResolvedLinkOrThrow(s,"chown"),S=p.getNode();S.chown(u,c)},h.prototype.chownSync=function(s,u,c){ct(u),ft(c),this.chownBase(k(s),u,c)},h.prototype.chown=function(s,u,c,p){ct(u),ft(c),this.wrapAsync(this.chownBase,[k(s),u,c],p)},h.prototype.lchownBase=function(s,u,c){this.getLinkOrThrow(s,"lchown").getNode().chown(u,c)},h.prototype.lchownSync=function(s,u,c){ct(u),ft(c),this.lchownBase(k(s),u,c)},h.prototype.lchown=function(s,u,c,p){ct(u),ft(c),this.wrapAsync(this.lchownBase,[k(s),u,c],p)},h.prototype.watchFile=function(s,u,c){var p=k(s),S=u,O=c;if(typeof S=="function"&&(O=u,S=null),typeof O!="function")throw Error('"watchFile()" requires a listener function');var F=5007,I=!0;S&&typeof S=="object"&&(typeof S.interval=="number"&&(F=S.interval),typeof S.persistent=="boolean"&&(I=S.persistent));var P=this.statWatchers[p];return P||(P=new this.StatWatcher,P.start(p,I,F),this.statWatchers[p]=P),P.addListener("change",O),P},h.prototype.unwatchFile=function(s,u){var c=k(s),p=this.statWatchers[c];!p||(typeof u=="function"?p.removeListener("change",u):p.removeAllListeners("change"),p.listenerCount("change")===0&&(p.stop(),delete this.statWatchers[c]))},h.prototype.createReadStream=function(s,u){return new this.ReadStream(s,u)},h.prototype.createWriteStream=function(s,u){return new this.WriteStream(s,u)},h.prototype.watch=function(s,u,c){var p=k(s),S=u;typeof u=="function"&&(c=u,S=null);var O=rr(S),F=O.persistent,I=O.recursive,P=O.encoding;F===void 0&&(F=!0),I===void 0&&(I=!1);var $=new this.FSWatcher;return $.start(p,F,I,P),c&&$.addListener("change",c),$},h.fd=2147483647,h}();e.Volume=as;function ss(h){h.emit("stop")}var yi=function(h){t(s,h);function s(u){var c=h.call(this)||this;return c.onInterval=function(){try{var p=c.vol.statSync(c.filename);c.hasChanged(p)&&(c.emit("change",p,c.prev),c.prev=p)}finally{c.loop()}},c.vol=u,c}return s.prototype.loop=function(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)},s.prototype.hasChanged=function(u){return u.mtimeMs>this.prev.mtimeMs||u.nlink!==this.prev.nlink},s.prototype.start=function(u,c,p){c===void 0&&(c=!0),p===void 0&&(p=5007),this.filename=k(u),this.setTimeout=c?setTimeout.bind(typeof globalThis<"u"?globalThis:K):d.default,this.interval=p,this.prev=this.vol.statSync(this.filename),this.loop()},s.prototype.stop=function(){clearTimeout(this.timeoutRef),m.default.nextTick(ss,this)},s}(g.EventEmitter);e.StatWatcher=yi;var le;function us(h){le=(0,l.bufferAllocUnsafe)(h),le.used=0}w.inherits(_e,v.Readable),e.ReadStream=_e;function _e(h,s,u){if(!(this instanceof _e))return new _e(h,s,u);if(this._vol=h,u=Object.assign({},qr(u,{})),u.highWaterMark===void 0&&(u.highWaterMark=64*1024),v.Readable.call(this,u),this.path=k(s),this.fd=u.fd===void 0?null:u.fd,this.flags=u.flags===void 0?"r":u.flags,this.mode=u.mode===void 0?438:u.mode,this.start=u.start,this.end=u.end,this.autoClose=u.autoClose===void 0?!0:u.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}_e.prototype.open=function(){var h=this;this._vol.open(this.path,this.flags,this.mode,function(s,u){if(s){h.autoClose&&h.destroy&&h.destroy(),h.emit("error",s);return}h.fd=u,h.emit("open",u),h.read()})},_e.prototype._read=function(h){if(typeof this.fd!="number")return this.once("open",function(){this._read(h)});if(this.destroyed)return;(!le||le.length-le.used<Ma)&&us(this._readableState.highWaterMark);var s=le,u=Math.min(le.length-le.used,h),c=le.used;if(this.pos!==void 0&&(u=Math.min(this.end-this.pos+1,u)),u<=0)return this.push(null);var p=this;this._vol.read(this.fd,le,le.used,u,this.pos,S),this.pos!==void 0&&(this.pos+=u),le.used+=u;function S(O,F){if(O)p.autoClose&&p.destroy&&p.destroy(),p.emit("error",O);else{var I=null;F>0&&(p.bytesRead+=F,I=s.slice(c,c+F)),p.push(I)}}},_e.prototype._destroy=function(h,s){this.close(function(u){s(h||u)})},_e.prototype.close=function(h){var s=this,u;if(h&&this.once("close",h),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",gi);return}return m.default.nextTick(function(){return s.emit("close")})}typeof((u=this._readableState)===null||u===void 0?void 0:u.closed)=="boolean"?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(c){c?s.emit("error",c):s.emit("close")}),this.fd=null};function gi(h){this.close()}w.inherits(ce,v.Writable),e.WriteStream=ce;function ce(h,s,u){if(!(this instanceof ce))return new ce(h,s,u);if(this._vol=h,u=Object.assign({},qr(u,{})),v.Writable.call(this,u),this.path=k(s),this.fd=u.fd===void 0?null:u.fd,this.flags=u.flags===void 0?"w":u.flags,this.mode=u.mode===void 0?438:u.mode,this.start=u.start,this.autoClose=u.autoClose===void 0?!0:!!u.autoClose,this.pos=void 0,this.bytesWritten=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}u.encoding&&this.setDefaultEncoding(u.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}ce.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(h,s){if(h){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",h);return}this.fd=s,this.emit("open",s)}.bind(this))},ce.prototype._write=function(h,s,u){if(!(h instanceof l.Buffer||h instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(h,s,u)});var c=this;this._vol.write(this.fd,h,0,h.length,this.pos,function(p,S){if(p)return c.autoClose&&c.destroy&&c.destroy(),u(p);c.bytesWritten+=S,u()}),this.pos!==void 0&&(this.pos+=h.length)},ce.prototype._writev=function(h,s){if(typeof this.fd!="number")return this.once("open",function(){this._writev(h,s)});for(var u=this,c=h.length,p=new Array(c),S=0,O=0;O<c;O++){var F=h[O].chunk;p[O]=F,S+=F.length}var I=l.Buffer.concat(p);this._vol.write(this.fd,I,0,I.length,this.pos,function(P,$){if(P)return u.destroy&&u.destroy(),s(P);u.bytesWritten+=$,s()}),this.pos!==void 0&&(this.pos+=S)},ce.prototype.close=function(h){var s=this,u;if(h&&this.once("close",h),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",gi);return}return m.default.nextTick(function(){return s.emit("close")})}typeof((u=this._writableState)===null||u===void 0?void 0:u.closed)=="boolean"?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,function(c){c?s.emit("error",c):s.emit("close")}),this.fd=null},ce.prototype._destroy=_e.prototype._destroy,ce.prototype.destroySoon=ce.prototype.end;var Si=function(h){t(s,h);function s(u){var c=h.call(this)||this;return c._filename="",c._filenameEncoded="",c._recursive=!1,c._encoding=E.ENCODING_UTF8,c._onNodeChange=function(){c._emit("change")},c._onParentChild=function(p){p.getName()===c._getName()&&c._emit("rename")},c._emit=function(p){c.emit("change",p,c._filenameEncoded)},c._persist=function(){c._timer=setTimeout(c._persist,1e6)},c._vol=u,c}return s.prototype._getName=function(){return this._steps[this._steps.length-1]},s.prototype.start=function(u,c,p,S){c===void 0&&(c=!0),p===void 0&&(p=!1),S===void 0&&(S=E.ENCODING_UTF8),this._filename=k(u),this._steps=Y(this._filename),this._filenameEncoded=(0,E.strToEncoding)(this._filename),this._recursive=p,this._encoding=S;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(I){var O=new Error("watch ".concat(this._filename," ").concat(I.code));throw O.code=I.code,O.errno=I.code,O}this._link.getNode().on("change",this._onNodeChange),this._link.on("child:add",this._onNodeChange),this._link.on("child:delete",this._onNodeChange);var F=this._link.parent;F&&(F.setMaxListeners(F.getMaxListeners()+1),F.on("child:delete",this._onParentChild)),c&&this._persist()},s.prototype.close=function(){clearTimeout(this._timer),this._link.getNode().removeListener("change",this._onNodeChange);var u=this._link.parent;u&&u.removeListener("child:delete",this._onParentChild)},s}(g.EventEmitter);e.FSWatcher=Si})(wa);var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.fsAsyncMethods=Me.fsSyncMethods=Me.fsProps=void 0;var Vf=["constants","F_OK","R_OK","W_OK","X_OK","Stats"];Me.fsProps=Vf;var Hf=["renameSync","ftruncateSync","truncateSync","chownSync","fchownSync","lchownSync","chmodSync","fchmodSync","lchmodSync","statSync","lstatSync","fstatSync","linkSync","symlinkSync","readlinkSync","realpathSync","unlinkSync","rmdirSync","mkdirSync","mkdirpSync","readdirSync","closeSync","openSync","utimesSync","futimesSync","fsyncSync","writeSync","readSync","readFileSync","writeFileSync","appendFileSync","existsSync","accessSync","fdatasyncSync","mkdtempSync","copyFileSync","createReadStream","createWriteStream"];Me.fsSyncMethods=Hf;var Wf=["rename","ftruncate","truncate","chown","fchown","lchown","chmod","fchmod","lchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdirp","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","exists","access","fdatasync","mkdtemp","copyFile","watchFile","unwatchFile","watch"];Me.fsAsyncMethods=Wf;(function(e,t){var r=K&&K.__assign||function(){return r=Object.assign||function(_){for(var w,R=1,b=arguments.length;R<b;R++){w=arguments[R];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(_[A]=w[A])}return _},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.fs=t.createFsFromVolume=t.vol=t.Volume=void 0;var i=at,n=Rt,o=wa,a=Me,l=a.fsSyncMethods,f=a.fsAsyncMethods,m=He,d=m.constants.F_OK,v=m.constants.R_OK,y=m.constants.W_OK,g=m.constants.X_OK;t.Volume=o.Volume,t.vol=new o.Volume;function E(_){for(var w={F_OK:d,R_OK:v,W_OK:y,X_OK:g,constants:m.constants,Stats:i.default,Dirent:n.default},R=0,b=l;R<b.length;R++){var A=b[R];typeof _[A]=="function"&&(w[A]=_[A].bind(_))}for(var C=0,T=f;C<T.length;C++){var A=T[C];typeof _[A]=="function"&&(w[A]=_[A].bind(_))}return w.StatWatcher=_.StatWatcher,w.FSWatcher=_.FSWatcher,w.WriteStream=_.WriteStream,w.ReadStream=_.ReadStream,w.promises=_.promises,w._toUnixTimestamp=o.toUnixTimestamp,w}t.createFsFromVolume=E,t.fs=E(t.vol),e.exports=r(r({},e.exports),t.fs),e.exports.semantic=!0})(Sn,Sn.exports);const Yf=Sn.exports,{ono:rn}=ot,to=se.exports,{ResolverError:nn}=G;var qf={order:100,canRead(e){return to.isFileSystemPath(e.url)},read(e){return new Promise((t,r)=>{let i;try{i=to.toFileSystemPath(e.url)}catch(n){r(new nn(rn.uri(n,`Malformed URI: ${e.url}`),e.url))}try{Yf.readFile(i,(n,o)=>{n?r(new nn(rn(n,`Error opening file "${i}"`),i)):t(o)})}catch(n){r(new nn(rn(n,`Error opening file "${i}"`),i))}})}};const Kf=Ao,zf=Ao,{ono:or}=ot,Bt=se.exports,{ResolverError:ro}=G;var Gf={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead(e){return Bt.isHttp(e.url)},read(e){let t=Bt.parse(e.url);return process.browser&&!t.protocol&&(t.protocol=Bt.parse(location.href).protocol),Oa(t,this)}};function Oa(e,t,r){return new Promise((i,n)=>{e=Bt.parse(e),r=r||[],r.push(e.href),Jf(e,t).then(o=>{if(o.statusCode>=400)throw or({status:o.statusCode},`HTTP ERROR ${o.statusCode}`);if(o.statusCode>=300)if(r.length>t.redirects)n(new ro(or({status:o.statusCode},`Error downloading ${r[0]}. 
Too many redirects: 
  ${r.join(` 
  `)}`)));else if(o.headers.location){let a=Bt.resolve(e,o.headers.location);Oa(a,t,r).then(i,n)}else throw or({status:o.statusCode},`HTTP ${o.statusCode} redirect with no location header`);else i(o.body||Buffer.alloc(0))}).catch(o=>{n(new ro(or(o,`Error downloading ${e.href}`),e.href))})})}function Jf(e,t){return new Promise((r,i)=>{let o=(e.protocol==="https:"?zf:Kf).get({hostname:e.hostname,port:e.port,path:e.path,auth:e.auth,protocol:e.protocol,headers:t.headers||{},withCredentials:t.withCredentials});typeof o.setTimeout=="function"&&o.setTimeout(t.timeout),o.on("timeout",()=>{o.abort()}),o.on("error",i),o.once("response",a=>{a.body=Buffer.alloc(0),a.on("data",l=>{a.body=Buffer.concat([a.body,Buffer.from(l)])}),a.on("error",i),a.on("end",()=>{r(a)})})})}const Xf=pu,Qf=ff,Zf=pf,eh=vf,th=qf,rh=Gf;var nh=$n;function $n(e){wn(this,$n.defaults),wn(this,e)}$n.defaults={parse:{json:Xf,yaml:Qf,text:Zf,binary:eh},resolve:{file:th,http:rh,external:!0},continueOnError:!1,dereference:{circular:!0}};function wn(e,t){if(no(t)){let r=Object.keys(t);for(let i=0;i<r.length;i++){let n=r[i],o=t[n],a=e[n];no(o)?e[n]=wn(a||{},o):o!==void 0&&(e[n]=o)}}return e}function no(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}const io=nh;var ih=oh;function oh(e){let t,r,i,n;return e=Array.prototype.slice.call(e),typeof e[e.length-1]=="function"&&(n=e.pop()),typeof e[0]=="string"?(t=e[0],typeof e[2]=="object"?(r=e[1],i=e[2]):(r=void 0,i=e[1])):(t="",r=e[0],i=e[1]),i instanceof io||(i=new io(i)),{path:t,schema:r,options:i,callback:n}}const oo=qt(),ah=xr(),sh=Uo,Dt=se.exports,{isHandledError:uh}=G;var lh=ch;function ch(e,t){if(!t.resolve.external)return Promise.resolve();try{let r=Un(e.schema,e.$refs._root$Ref.path+"#",e.$refs,t);return Promise.all(r)}catch(r){return Promise.reject(r)}}function Un(e,t,r,i,n){n=n||new Set;let o=[];if(e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!n.has(e))if(n.add(e),oo.isExternal$Ref(e))o.push(ao(e,t,r,i));else for(let a of Object.keys(e)){let l=ah.join(t,a),f=e[a];oo.isExternal$Ref(f)?o.push(ao(f,l,r,i)):o=o.concat(Un(f,l,r,i,n))}return o}async function ao(e,t,r,i){let n=Dt.resolve(t,e.$ref),o=Dt.stripHash(n);if(e=r._$refs[o],e)return Promise.resolve(e.value);try{const a=await sh(n,r,i);let l=Un(a,o+"#",r,i);return Promise.all(l)}catch(a){if(!i.continueOnError||!uh(a))throw a;return r._$refs[o]&&(a.source=Dt.stripHash(t),a.path=Dt.safePointerToPath(Dt.getHash(t))),[]}}const Fr=qt(),jt=xr(),on=se.exports;var fh=hh;function hh(e,t){let r=[];jn(e,"schema",e.$refs._root$Ref.path+"#","#",0,r,e.$refs,t),dh(r)}function jn(e,t,r,i,n,o,a,l){let f=t===null?e:e[t];if(f&&typeof f=="object"&&!ArrayBuffer.isView(f))if(Fr.isAllowed$Ref(f))so(e,t,r,i,n,o,a,l);else{let m=Object.keys(f).sort((d,v)=>d==="definitions"?-1:v==="definitions"?1:d.length-v.length);for(let d of m){let v=jt.join(r,d),y=jt.join(i,d),g=f[d];Fr.isAllowed$Ref(g)?so(f,d,r,y,n,o,a,l):jn(f,d,v,y,n,o,a,l)}}}function so(e,t,r,i,n,o,a,l){let f=t===null?e:e[t],m=on.resolve(r,f.$ref),d=a._resolve(m,i,l);if(d===null)return;let v=jt.parse(i).length,y=on.stripHash(d.path),g=on.getHash(d.path),E=y!==a._root$Ref.path,_=Fr.isExtended$Ref(f);n+=d.indirections;let w=ph(o,e,t);if(w)if(v<w.depth||n<w.indirections)mh(o,w);else return;o.push({$ref:f,parent:e,key:t,pathFromRoot:i,depth:v,file:y,hash:g,value:d.value,circular:d.circular,extended:_,external:E,indirections:n}),w||jn(d.value,null,d.path,i,n+1,o,a,l)}function dh(e){e.sort((n,o)=>{if(n.file!==o.file)return n.file<o.file?-1:1;if(n.hash!==o.hash)return n.hash<o.hash?-1:1;if(n.circular!==o.circular)return n.circular?-1:1;if(n.extended!==o.extended)return n.extended?1:-1;if(n.indirections!==o.indirections)return n.indirections-o.indirections;if(n.depth!==o.depth)return n.depth-o.depth;{let a=n.pathFromRoot.lastIndexOf("/definitions"),l=o.pathFromRoot.lastIndexOf("/definitions");return a!==l?l-a:n.pathFromRoot.length-o.pathFromRoot.length}});let t,r,i;for(let n of e)n.external?n.file===t&&n.hash===r?n.$ref.$ref=i:n.file===t&&n.hash.indexOf(r+"/")===0?n.$ref.$ref=jt.join(i,jt.parse(n.hash.replace(r,"#"))):(t=n.file,r=n.hash,i=n.pathFromRoot,n.$ref=n.parent[n.key]=Fr.dereference(n.$ref,n.value),n.circular&&(n.$ref.$ref=n.pathFromRoot)):n.$ref.$ref=n.hash}function ph(e,t,r){for(let i=0;i<e.length;i++){let n=e[i];if(n.parent===t&&n.key===r)return n}}function mh(e,t){let r=e.indexOf(t);e.splice(r,1)}const bn=qt(),uo=xr(),{ono:vh}=ot,yh=se.exports;var gh=Sh;function Sh(e,t){let r=Vn(e.schema,e.$refs._root$Ref.path,"#",new Set,new Set,new Map,e.$refs,t);e.$refs.circular=r.circular,e.schema=r.value}function Vn(e,t,r,i,n,o,a,l){let f,m={value:e,circular:!1};if((l.dereference.circular==="ignore"||!n.has(e))&&e&&typeof e=="object"&&!ArrayBuffer.isView(e)){if(i.add(e),n.add(e),bn.isAllowed$Ref(e,l))f=lo(e,t,r,i,n,o,a,l),m.circular=f.circular,m.value=f.value;else for(const d of Object.keys(e)){let v=uo.join(t,d),y=uo.join(r,d),g=e[d],E=!1;bn.isAllowed$Ref(g,l)?(f=lo(g,v,y,i,n,o,a,l),E=f.circular,e[d]!==f.value&&(e[d]=f.value)):i.has(g)?E=Aa(v,a,l):(f=Vn(g,v,y,i,n,o,a,l),E=f.circular,e[d]!==f.value&&(e[d]=f.value)),m.circular=m.circular||E}i.delete(e)}return m}function lo(e,t,r,i,n,o,a,l){let f=yh.resolve(t,e.$ref);const m=o.get(f);if(m){const _=Object.keys(e);if(_.length>1){const w={};for(let R of _)R!=="$ref"&&!(R in m.value)&&(w[R]=e[R]);return{circular:m.circular,value:Object.assign({},m.value,w)}}return m}let d=a._resolve(f,t,l);if(d===null)return{circular:!1,value:null};let v=d.circular,y=v||i.has(d.value);y&&Aa(t,a,l);let g=bn.dereference(e,d.value);if(!y){let _=Vn(g,d.path,r,i,n,o,a,l);y=_.circular,g=_.value}y&&!v&&l.dereference.circular==="ignore"&&(g=e),v&&(g.$ref=r);const E={circular:y,value:g};return Object.keys(e).length===1&&o.set(f,E),E}function Aa(e,t,r){if(t.circular=!0,!r.dereference.circular)throw vh.reference(`Circular $ref pointer found at ${e}`);return!0}var co=K.process&&process.nextTick||K.setImmediate||function(e){setTimeout(e,0)},_h=function(t,r){if(t){r.then(function(i){co(function(){t(null,i)})},function(i){co(function(){t(i)})});return}else return r};const Ta=ou,Eh=Uo,$r=ih,wh=lh,bh=fh,Rh=gh,dt=se.exports,{JSONParserError:Oh,InvalidPointerError:Ah,MissingPointerError:Th,ResolverError:Ch,ParserError:Fh,UnmatchedParserError:Nh,UnmatchedResolverError:Ih,isHandledError:xh,JSONParserErrorGroup:fo}=G,ve=_h,{ono:ho}=ot;Oe.exports=Te;Oe.exports.default=Te;Oe.exports.JSONParserError=Oh;Oe.exports.InvalidPointerError=Ah;Oe.exports.MissingPointerError=Th;Oe.exports.ResolverError=Ch;Oe.exports.ParserError=Fh;Oe.exports.UnmatchedParserError=Nh;Oe.exports.UnmatchedResolverError=Ih;function Te(){this.schema=null,this.$refs=new Ta}Te.parse=function(t,r,i,n){let o=this,a=new o;return a.parse.apply(a,arguments)};Te.prototype.parse=async function(t,r,i,n){let o=$r(arguments),a;if(!o.path&&!o.schema){let m=ho(`Expected a file path, URL, or object. Got ${o.path||o.schema}`);return ve(o.callback,Promise.reject(m))}this.schema=null,this.$refs=new Ta;let l="http";if(dt.isFileSystemPath(o.path)&&(o.path=dt.fromFileSystemPath(o.path),l="file"),o.path=dt.resolve(dt.cwd(),o.path),o.schema&&typeof o.schema=="object"){let m=this.$refs._add(o.path);m.value=o.schema,m.pathType=l,a=Promise.resolve(o.schema)}else a=Eh(o.path,this.$refs,o.options);let f=this;try{let m=await a;if(m!==null&&typeof m=="object"&&!Buffer.isBuffer(m))return f.schema=m,ve(o.callback,Promise.resolve(f.schema));if(o.options.continueOnError)return f.schema=null,ve(o.callback,Promise.resolve(f.schema));throw ho.syntax(`"${f.$refs._root$Ref.path||m}" is not a valid JSON Schema`)}catch(m){return!o.options.continueOnError||!xh(m)?ve(o.callback,Promise.reject(m)):(this.$refs._$refs[dt.stripHash(o.path)]&&this.$refs._$refs[dt.stripHash(o.path)].addError(m),ve(o.callback,Promise.resolve(null)))}};Te.resolve=function(t,r,i,n){let o=this,a=new o;return a.resolve.apply(a,arguments)};Te.prototype.resolve=async function(t,r,i,n){let o=this,a=$r(arguments);try{return await this.parse(a.path,a.schema,a.options),await wh(o,a.options),Hn(o),ve(a.callback,Promise.resolve(o.$refs))}catch(l){return ve(a.callback,Promise.reject(l))}};Te.bundle=function(t,r,i,n){let o=this,a=new o;return a.bundle.apply(a,arguments)};Te.prototype.bundle=async function(t,r,i,n){let o=this,a=$r(arguments);try{return await this.resolve(a.path,a.schema,a.options),bh(o,a.options),Hn(o),ve(a.callback,Promise.resolve(o.schema))}catch(l){return ve(a.callback,Promise.reject(l))}};Te.dereference=function(t,r,i,n){let o=this,a=new o;return a.dereference.apply(a,arguments)};Te.prototype.dereference=async function(t,r,i,n){let o=this,a=$r(arguments);try{return await this.resolve(a.path,a.schema,a.options),Rh(o,a.options),Hn(o),ve(a.callback,Promise.resolve(o.schema))}catch(l){return ve(a.callback,Promise.reject(l))}};function Hn(e){if(fo.getParserErrors(e).length>0)throw new fo(e)}var Rn={exports:{}},ye={},Ie={},er={},Mt=typeof Symbol=="function"?Symbol("curriable placeholder"):60881;function kh(e,t){function r(i){return function(){var n=i.length,o=arguments,a=o.length,l=[],f=0,m=t,d;if(n)for(var v=-1;++v<n;)l[v]=d=i[v]===Mt&&f<a?o[f++]:i[v],d!==Mt&&--m;if(f<a)for(;f<a;)l[l.length]=d=o[f],d!==Mt&&f<t&&--m,++f;return m>0?r(l):e.apply(this,l)}}return r([])}function st(e,t){var r=typeof t=="number"?t:e.length,i=kh(e,r);return i.arity=r,i.fn=e,i}st.__=Mt;function Ph(e){return e===Mt}st.isPlaceholder=Ph;function Dh(e){return e.fn}st.uncurry=Dh;var ar,sr,me,pt,Lh=typeof Buffer<"u"&&typeof Buffer.from=="function",Bh=typeof Uint16Array=="function",Mh=/\[object (HTML(.*)Element)\]/,$h=/\[object (SVG(.*)Element)\]/,Uh=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"],we=Uh.reduce(function(e,t){return e["[object "+t+"]"]=t,e},{}),V=Object.keys(we).reduce(function(e,t){return e[we[t].toUpperCase()]=t,e},{}),jh={"[object Map]":!0,"[object Set]":!0},Vh={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},Hh=(ar={},ar[V.ARGUMENTS]=!0,ar[V.ARRAY]=!0,ar),Wh=(sr={},sr[V.REGEXP]=!0,sr[V.SYMBOL]=!0,sr),Yh=(me={},me[V.FLOAT32ARRAY]=!0,me[V.FLOAT64ARRAY]=!0,me[V.INT8ARRAY]=!0,me[V.INT16ARRAY]=!0,me[V.INT32ARRAY]=!0,me[V.UINT8ARRAY]=!0,me[V.UINT8CLAMPEDARRAY]=!0,me[V.UINT16ARRAY]=!0,me[V.UINT32ARRAY]=!0,me),qh=(pt={},pt[V.GENERATOR]=!0,pt[V.PROMISE]=!0,pt[V.WEAKMAP]=!0,pt[V.WEAKSET]=!0,pt),Kh=/^\s*function\s*([^(]*)/i,Ca=Object.prototype.toString,zh=Object.keys;function Gh(e){return e.name||(e.toString().match(Kh)||[])[1]||"anonymous"}function Jh(e){for(var t=e.length,r=5381,i=52711,n;t--;)n=e.charCodeAt(t),r=r*33^n,i=i*33^n;return(r>>>0)*4096+(i>>>0)}function Xh(e){return{bubbles:e.bubbles,cancelBubble:e.cancelBubble,cancelable:e.cancelable,composed:e.composed,currentTarget:e.currentTarget,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isTrusted:e.isTrusted,returnValue:e.returnValue,target:e.target,type:e.type}}function Fa(e,t){return e>t}function Qh(e,t){return e[0]>t[0]}function On(e,t){for(var r,i,n=0;n<e.length;++n){for(i=e[n],r=n-1;~r&&t(e[r],i);--r)e[r+1]=e[r];e[r+1]=i}return e}function Zh(e,t,r){var i=typeof e.get=="function",n=[];i?(e.forEach(function(m,d){n.push([pr(d,t,r),pr(m,t,r)])}),On(n,Qh)):(e.forEach(function(m){n.push(pr(m,t,r))}),On(n,Fa));for(var o=Gh(e.constructor)+"|[",a=0,l=n.length,f;a<l;++a)f=n[a],o+=(a?",":"")+(i?"["+f[0]+","+f[1]+"]":f);return o+"]"}function ed(e){for(var t=On(zh(e),Fa),r={},i,n=0;n<t.length;++n)i=t[n],r[i]=e[i];return r}function td(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function rd(e){return Buffer.from(e).toString("utf8")}function nd(){return""}var po=function(){return Lh?rd:Bh?td:nd}();function id(e){for(var t=e.children,r="",i=0;i<t.length;++i)r+=t[i].outerHTML;return r}function mo(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r+1;return 0}function Nr(e,t,r,i){if(i===void 0){var n=typeof e;if(n==="string"||Vh[n])return n+"|"+e;if(e===null)return"null|"+e}var o=i||Ca.call(e);return Hh[o]?e:o===V.OBJECT?ed(e):Wh[o]?we[o]+"|"+e.toString():jh[o]?Zh(e,t,r):o===V.DATE?we[o]+"|"+e.getTime():o===V.ERROR?we[o]+"|"+e.stack:o===V.EVENT?Xh(e):qh[o]?we[o]+"|NOT_ENUMERABLE":Mh.test(o)||$h.test(o)?o.slice(8,-1)+"|"+e.outerHTML:o===V.DOCUMENTFRAGMENT?we[o]+"|"+id(e):Yh[o]?we[o]+"|"+e.join(","):o===V.ARRAYBUFFER?we[o]+"|"+po(e):o===V.DATAVIEW?we[o]+"|"+po(e.buffer):e}function od(e,t){return e===void 0&&(e=[]),t===void 0&&(t=[]),function(r,i){if(typeof i=="object")if(e.length){var n=mo(e,this);n===0?e.push(this):(e.splice(n),t.splice(n)),t.push(r);var o=mo(e,i);if(o!==0)return"[~"+(t.slice(0,o).join(".")||".")+"]";e.push(i)}else e[0]=i,t[0]=r;return r&&this[r]instanceof Date?Nr(this[r],e,t,V.DATE):Nr(i,e,t)}}function pr(e,t,r){if(!e||typeof e!="object")return Nr(e,t,r);var i=Ca.call(e);return i===V.DATE||i===V.REGEXP?Nr(e,t,r,i):JSON.stringify(e,od(t,r))}function he(e){return Jh(pr(e))}he.is=st(function(e,t){return he(e)===he(t)});he.is.all=st(function(e){for(var t=he.is(e),r=1;r<arguments.length;++r)if(!t(arguments[r]))return!1;return!0},2);he.is.any=st(function(e){for(var t=he.is(e),r=1;r<arguments.length;r++)if(t(arguments[r]))return!0;return!1},2);he.is.not=st(function(e,t){return he(e)!==he(t)});const ad=Object.freeze(Object.defineProperty({__proto__:null,hash:he,default:he},Symbol.toStringTag,{value:"Module"})),sd=Cn(ad);Object.defineProperty(er,"__esModule",{value:!0});var ud=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),ld=sd,cd=fd(ld);function fd(e){return e&&e.__esModule?e:{default:e}}function hd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Wn=function(){function e(t,r,i){hd(this,e),this.id=t;var n={cache:!0};if(typeof i>"u"&&(i=n),typeof r!="function"?(this.value=r,this.type=this.constructor.CONSTANT):(this.calculationMethod=r,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");if(typeof this.value>"u"&&typeof this.calculationMethod>"u")throw new Error("facts must have a value or method");return this.priority=parseInt(i.priority||1,10),this.options=Object.assign({},n,i),this.cacheKeyMethod=this.defaultCacheKeys,this}return ud(e,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(r,i){return this.hasOwnProperty("value")?this.value:this.calculationMethod(r,i)}},{key:"defaultCacheKeys",value:function(r,i){return{params:i,id:r}}},{key:"getCacheKey",value:function(r){if(this.options.cache===!0){var i=this.cacheKeyMethod(this.id,r),n=e.hashFromObject(i);return n}}}],[{key:"hashFromObject",value:function(r){return(0,cd.default)(r)}}]),e}();Wn.CONSTANT="CONSTANT";Wn.DYNAMIC="DYNAMIC";er.default=Wn;var Ur={},Yn={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.default=dd;function dd(e){(typeof process<"u"&&process.env&&process.env.DEBUG&&process.env.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(e)}function pd(e){return!!e&&typeof e=="object"}var Na=pd;Object.defineProperty(Yn,"__esModule",{value:!0});var md=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),vd=At,yd=Ia(vd),gd=Na,Sd=Ia(gd);function Ia(e){return e&&e.__esModule?e:{default:e}}function _d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ed=function(){function e(t){if(_d(this,e),!t)throw new Error("Condition: constructor options required");var r=e.booleanOperator(t);if(Object.assign(this,t),r){var i=t[r];if(!Array.isArray(i))throw new Error('"'+r+'" must be an array');this.operator=r,this.priority=parseInt(t.priority,10)||1,this[r]=i.map(function(n){return new e(n)})}else{if(!t.hasOwnProperty("fact"))throw new Error('Condition: constructor "fact" property required');if(!t.hasOwnProperty("operator"))throw new Error('Condition: constructor "operator" property required');if(!t.hasOwnProperty("value"))throw new Error('Condition: constructor "value" property required');t.hasOwnProperty("priority")&&(t.priority=parseInt(t.priority,10))}}return md(e,[{key:"toJSON",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={};this.priority&&(i.priority=this.priority);var n=e.booleanOperator(this);return n?i[n]=this[n].map(function(o){return o.toJSON(r)}):(i.operator=this.operator,i.value=this.value,i.fact=this.fact,this.factResult!==void 0&&(i.factResult=this.factResult),this.result!==void 0&&(i.result=this.result),this.params&&(i.params=this.params),this.path&&(i.path=this.path)),r?JSON.stringify(i):i}},{key:"_getValue",value:function(r){var i=this.value;return(0,Sd.default)(i)&&i.hasOwnProperty("fact")?r.factValue(i.fact,i.params,i.path):Promise.resolve(i)}},{key:"evaluate",value:function(r,i){var n=this;if(!r)return Promise.reject(new Error("almanac required"));if(!i)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var o=i.get(this.operator);return o?this._getValue(r).then(function(a){return r.factValue(n.fact,n.params,n.path).then(function(l){var f=o.evaluate(l,a);return(0,yd.default)("condition::evaluate <"+l+" "+n.operator+" "+a+"?> ("+f+")"),{result:f,leftHandSideValue:l,rightHandSideValue:a,operator:n.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return e.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return e.booleanOperator(this)!==void 0}}],[{key:"booleanOperator",value:function(r){if(r.hasOwnProperty("any"))return"any";if(r.hasOwnProperty("all"))return"all"}}]),e}();Yn.default=Ed;var qn={},xa={exports:{}};(function(e){var t=function(){function r(y,g){return g!=null&&y instanceof g}var i;try{i=Map}catch{i=function(){}}var n;try{n=Set}catch{n=function(){}}var o;try{o=Promise}catch{o=function(){}}function a(y,g,E,_,w){typeof g=="object"&&(E=g.depth,_=g.prototype,w=g.includeNonEnumerable,g=g.circular);var R=[],b=[],A=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof E>"u"&&(E=1/0);function C(T,x){if(T===null)return null;if(x===0)return T;var D,ee;if(typeof T!="object")return T;if(r(T,i))D=new i;else if(r(T,n))D=new n;else if(r(T,o))D=new o(function(ke,Ke){T.then(function(ze){ke(C(ze,x-1))},function(ze){Ke(C(ze,x-1))})});else if(a.__isArray(T))D=[];else if(a.__isRegExp(T))D=new RegExp(T.source,v(T)),T.lastIndex&&(D.lastIndex=T.lastIndex);else if(a.__isDate(T))D=new Date(T.getTime());else{if(A&&Buffer.isBuffer(T))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(T.length):D=new Buffer(T.length),T.copy(D),D;r(T,Error)?D=Object.create(T):typeof _>"u"?(ee=Object.getPrototypeOf(T),D=Object.create(ee)):(D=Object.create(_),ee=_)}if(g){var ue=R.indexOf(T);if(ue!=-1)return b[ue];R.push(T),b.push(D)}r(T,i)&&T.forEach(function(ke,Ke){var ze=C(Ke,x-1),Nt=C(ke,x-1);D.set(ze,Nt)}),r(T,n)&&T.forEach(function(ke){var Ke=C(ke,x-1);D.add(Ke)});for(var re in T){var Ct;ee&&(Ct=Object.getOwnPropertyDescriptor(ee,re)),!(Ct&&Ct.set==null)&&(D[re]=C(T[re],x-1))}if(Object.getOwnPropertySymbols)for(var Ft=Object.getOwnPropertySymbols(T),re=0;re<Ft.length;re++){var ut=Ft[re],xe=Object.getOwnPropertyDescriptor(T,ut);xe&&!xe.enumerable&&!w||(D[ut]=C(T[ut],x-1),xe.enumerable||Object.defineProperty(D,ut,{enumerable:!1}))}if(w)for(var qe=Object.getOwnPropertyNames(T),re=0;re<qe.length;re++){var ne=qe[re],xe=Object.getOwnPropertyDescriptor(T,ne);xe&&xe.enumerable||(D[ne]=C(T[ne],x-1),Object.defineProperty(D,ne,{enumerable:!1}))}return D}return C(y,E)}a.clonePrototype=function(g){if(g===null)return null;var E=function(){};return E.prototype=g,new E};function l(y){return Object.prototype.toString.call(y)}a.__objToStr=l;function f(y){return typeof y=="object"&&l(y)==="[object Date]"}a.__isDate=f;function m(y){return typeof y=="object"&&l(y)==="[object Array]"}a.__isArray=m;function d(y){return typeof y=="object"&&l(y)==="[object RegExp]"}a.__isRegExp=d;function v(y){var g="";return y.global&&(g+="g"),y.ignoreCase&&(g+="i"),y.multiline&&(g+="m"),g}return a.__getRegExpFlags=v,a}();e.exports&&(e.exports=t)})(xa);Object.defineProperty(qn,"__esModule",{value:!0});var wd=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),bd=xa.exports,ur=Rd(bd);function Rd(e){return e&&e.__esModule?e:{default:e}}function Od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ad=function(){function e(t,r,i,n){Od(this,e),this.conditions=(0,ur.default)(t),this.event=(0,ur.default)(r),this.priority=(0,ur.default)(i),this.name=(0,ur.default)(n),this.result=null}return wd(e,[{key:"setResult",value:function(r){this.result=r}},{key:"toJSON",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return r?JSON.stringify(i):i}}]),e}();qn.default=Ad;Object.defineProperty(Ur,"__esModule",{value:!0});var Td=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Cd=Yn,Fd=Kn(Cd),Nd=qn,Id=Kn(Nd),xd=Ir(),kd=At,an=Kn(kd);function Kn(e){return e&&e.__esModule?e:{default:e}}function Pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ld(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bd=function(e){Ld(t,e);function t(r){Pd(this,t);var i=Dd(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));typeof r=="string"&&(r=JSON.parse(r)),r&&r.conditions&&i.setConditions(r.conditions),r&&r.onSuccess&&i.on("success",r.onSuccess),r&&r.onFailure&&i.on("failure",r.onFailure),r&&(r.name||r.name===0)&&i.setName(r.name);var n=r&&r.priority||1;i.setPriority(n);var o=r&&r.event||{type:"unknown"};return i.setEvent(o),i}return Td(t,[{key:"setPriority",value:function(i){if(i=parseInt(i,10),i<=0)throw new Error("Priority must be greater than zero");return this.priority=i,this}},{key:"setName",value:function(i){if(!i&&i!==0)throw new Error('Rule "name" must be defined');return this.name=i,this}},{key:"setConditions",value:function(i){if(!i.hasOwnProperty("all")&&!i.hasOwnProperty("any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new Fd.default(i),this}},{key:"setEvent",value:function(i){if(!i)throw new Error("Rule: setEvent() requires event object");if(!i.hasOwnProperty("type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:i.type},i.params&&(this.event.params=i.params),this}},{key:"setEngine",value:function(i){return this.engine=i,this}},{key:"toJSON",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return i?JSON.stringify(n):n}},{key:"prioritizeConditions",value:function(i){var n=this,o=i.reduce(function(a,l){var f=l.priority;if(!f){var m=n.engine.getFact(l.fact);f=m&&m.priority||1}return a[f]||(a[f]=[]),a[f].push(l),a},{});return Object.keys(o).sort(function(a,l){return Number(a)>Number(l)?-1:1}).map(function(a){return o[a]})}},{key:"evaluate",value:function(i){var n=this,o=new Id.default(this.conditions,this.event,this.priority,this.name),a=function(g){if(g.isBooleanOperator()){var E=g[g.operator],_=void 0;return g.operator==="all"?_=d(E):_=m(E),_.then(function(w){var R=w===!0;return g.result=R,R})}else return g.evaluate(i,n.engine.operators).then(function(w){var R=w.result;return g.factResult=w.leftHandSideValue,g.result=R,R})},l=function(g,E){return Array.isArray(g)||(g=[g]),Promise.all(g.map(function(_){return a(_)})).then(function(_){return(0,an.default)("rule::evaluateConditions results",_),E.call(_,function(w){return w===!0})})},f=function(g,E){if(g.length===0)return Promise.resolve(!0);var _=Array.prototype.some;E==="all"&&(_=Array.prototype.every);for(var w=n.prioritizeConditions(g),R=Promise.resolve(),b=function(T){var x=w[T],D=!1;R=R.then(function(ee){return E==="any"&&ee===!0||D?((0,an.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),D=!0,!0):E==="all"&&ee===!1||D?((0,an.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),D=!0,!1):l(x,_)})},A=0;A<w.length;A++)b(A);return R},m=function(g){return f(g,"any")},d=function(g){return f(g,"all")},v=function(g){return o.setResult(g),g?n.emit("success",o.event,i,o):n.emit("failure",o.event,i,o),o};return o.conditions.any?m(o.conditions.any).then(function(y){return v(y)}):d(o.conditions.all).then(function(y){return v(y)})}}]),t}(xd.EventEmitter);Ur.default=Bd;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});var Md=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();function $d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ud=function(){function e(t,r,i){if($d(this,e),this.name=String(t),!t)throw new Error("Missing operator name");if(typeof r!="function")throw new Error("Missing operator callback");this.cb=r,this.factValueValidator=i,this.factValueValidator||(this.factValueValidator=function(){return!0})}return Md(e,[{key:"evaluate",value:function(r,i){return this.factValueValidator(r)&&this.cb(r,i)}}]),e}();tr.default=Ud;var zn={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Hd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Gn.UndefinedFactError=function(e){Hd(t,e);function t(){var r;jd(this,t);for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];var a=Vd(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(n)));return a.code="UNDEFINED_FACT",a}return t}(Error);var sn,vo;function Wd(){return vo||(vo=1,sn=function(e){var t=this,r;if(arguments.length<2)r=function(){if(this instanceof r){var o=t.apply(this,arguments);return Object(o)===o?o:this}else return t.apply(e,arguments)};else{for(var i=new Array(arguments.length-1),n=1;n<arguments.length;n++)i[n-1]=arguments[n];r=function(){var o=i.length,a=new Array(o+arguments.length),l;for(l=0;l<o;l++)a[l]=i[l];for(l=0;l<arguments.length;l++)a[o+l]=arguments[l];if(this instanceof r){var f=t.apply(this,a);return Object(f)===f?f:this}else return t.apply(e,a)}}return r.prototype=t.prototype,r}),sn}/*!
 * imports.
 */var Yd=Function.prototype.bind||Wd();/*!
 * exports.
 */var qd=Kd;function Kd(e,t){var r=function(){return arguments.length===0?r:arguments.length>1?e.apply(t,arguments):Yd.call(e,t,arguments[0])};return r.uncurry=function(){return e},r}var An={exports:{}},Tn={exports:{}},Vt=1e3,Ht=Vt*60,Wt=Ht*60,Yt=Wt*24,zd=Yt*365.25,Gd=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Jd(e);if(r==="number"&&isNaN(e)===!1)return t.long?Qd(e):Xd(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Jd(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*zd;case"days":case"day":case"d":return r*Yt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Wt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ht;case"seconds":case"second":case"secs":case"sec":case"s":return r*Vt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Xd(e){return e>=Yt?Math.round(e/Yt)+"d":e>=Wt?Math.round(e/Wt)+"h":e>=Ht?Math.round(e/Ht)+"m":e>=Vt?Math.round(e/Vt)+"s":e+"ms"}function Qd(e){return lr(e,Yt,"day")||lr(e,Wt,"hour")||lr(e,Ht,"minute")||lr(e,Vt,"second")||e+" ms"}function lr(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=n.debug=n.default=n,t.coerce=f,t.disable=a,t.enable=o,t.enabled=l,t.humanize=Gd,t.names=[],t.skips=[],t.formatters={};var r;function i(m){var d=0,v;for(v in m)d=(d<<5)-d+m.charCodeAt(v),d|=0;return t.colors[Math.abs(d)%t.colors.length]}function n(m){function d(){if(!!d.enabled){var v=d,y=+new Date,g=y-(r||y);v.diff=g,v.prev=r,v.curr=y,r=y;for(var E=new Array(arguments.length),_=0;_<E.length;_++)E[_]=arguments[_];E[0]=t.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");var w=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,function(b,A){if(b==="%%")return b;w++;var C=t.formatters[A];if(typeof C=="function"){var T=E[w];b=C.call(v,T),E.splice(w,1),w--}return b}),t.formatArgs.call(v,E);var R=d.log||t.log||console.log.bind(console);R.apply(v,E)}}return d.namespace=m,d.enabled=t.enabled(m),d.useColors=t.useColors(),d.color=i(m),typeof t.init=="function"&&t.init(d),d}function o(m){t.save(m),t.names=[],t.skips=[];for(var d=(typeof m=="string"?m:"").split(/[\s,]+/),v=d.length,y=0;y<v;y++)!d[y]||(m=d[y].replace(/\*/g,".*?"),m[0]==="-"?t.skips.push(new RegExp("^"+m.substr(1)+"$")):t.names.push(new RegExp("^"+m+"$")))}function a(){t.enable("")}function l(m){var d,v;for(d=0,v=t.skips.length;d<v;d++)if(t.skips[d].test(m))return!1;for(d=0,v=t.names.length;d<v;d++)if(t.names[d].test(m))return!0;return!1}function f(m){return m instanceof Error?m.stack||m.message:m}})(Tn,Tn.exports);(function(e,t){t=e.exports=Tn.exports,t.log=n,t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(f){try{return JSON.stringify(f)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}};function i(f){var m=this.useColors;if(f[0]=(m?"%c":"")+this.namespace+(m?" %c":" ")+f[0]+(m?"%c ":" ")+"+"+t.humanize(this.diff),!!m){var d="color: "+this.color;f.splice(1,0,d,"color: inherit");var v=0,y=0;f[0].replace(/%[a-zA-Z%]/g,function(g){g!=="%%"&&(v++,g==="%c"&&(y=v))}),f.splice(y,0,d)}}function n(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(f){try{f==null?t.storage.removeItem("debug"):t.storage.debug=f}catch{}}function a(){var f;try{f=t.storage.debug}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=process.env.DEBUG),f}t.enable(a());function l(){try{return window.localStorage}catch{}}})(An,An.exports);/*!
 * exports.
 */var Zd=rp;/*!
 * regexp patterns.
 */var ep=/\[([^\[\]]+)\]/g,tp=/^[.]*|[.]*$/g;function rp(e){return{}.toString.call(e)=="[object String]"?e.replace(ep,".$1").replace(tp,""):""}var np=Object.prototype.toString;function ip(e){for(var t=-1,r=ap(op(e).split(".")),i=r.length,n=[];++t<i;)n.push(sp(r[t]));return n}function op(e){return(np.call(e)==="[object String]"?e:"").replace(/\\\./g,"\uFFFF")}function ap(e){for(var t=-1,r=e.length,i=[];++t<r;)e[t]&&i.push(e[t]);return i}function sp(e){return e.replace(/\uffff/g,".")}/*!
 * exports.
 */var up=ip,lp=qd,yo=An.exports("selectn"),cp=Zd,fp=up,hp=Object.prototype.toString,dp=lp(pp);function pp(e,t){yo("arguments:",{path:e,object:t});for(var r=-1,i=hp.call(e)==="[object Array]"?e:fp(cp(e)),n=i.length,o=n?t:void 0;++r<n;){if(Object(o)!==o)return;o=o[i[r]]}return yo("ref:",o),typeof o=="function"?o():o}Object.defineProperty(zn,"__esModule",{value:!0});var go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),vp=er,un=jr(vp),yp=Gn,gp=At,Lt=jr(gp),Sp=dp,_p=jr(Sp),Ep=Na,wp=jr(Ep);function jr(e){return e&&e.__esModule?e:{default:e}}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Rp=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};bp(this,e),this.factMap=new Map(t),this.factResultsCache=new Map,this.allowUndefinedFacts=Boolean(i.allowUndefinedFacts);for(var n in r){var o=void 0;r[n]instanceof un.default?o=r[n]:o=new un.default(n,r[n]),this._addConstantFact(o),(0,Lt.default)("almanac::constructor initialized runtime fact:"+o.id+" with "+o.value+"<"+go(o.value)+">")}}return mp(e,[{key:"_getFact",value:function(r){return this.factMap.get(r)}},{key:"_addConstantFact",value:function(r){this.factMap.set(r.id,r),this._setFactValue(r,{},r.value)}},{key:"_setFactValue",value:function(r,i,n){var o=r.getCacheKey(i),a=Promise.resolve(n);return o&&this.factResultsCache.set(o,a),a}},{key:"addRuntimeFact",value:function(r,i){var n=new un.default(r,i);return this._addConstantFact(n)}},{key:"factValue",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=void 0,a=this._getFact(r);if(a===void 0)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new yp.UndefinedFactError("Undefined fact: "+r));if(a.isConstant())o=Promise.resolve(a.calculate(i,this));else{var l=a.getCacheKey(i),f=l&&this.factResultsCache.get(l);f?(o=Promise.resolve(f),(0,Lt.default)("almanac::factValue cache hit for fact:"+r)):((0,Lt.default)("almanac::factValue cache miss for fact:"+r+"; calculating"),o=this._setFactValue(a,i,a.calculate(i,this)))}return n?o.then(function(m){if((0,wp.default)(m)){var d=(0,_p.default)(n)(m);return(0,Lt.default)("condition::evaluate extracting object property "+n+", received: "+d),d}else return(0,Lt.default)("condition::evaluate could not compute object path("+n+") of non-object: "+m+" <"+(typeof m>"u"?"undefined":go(m))+">; continuing with "+m),m}):o}}]),e}();zn.default=Rp;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});var Op=function(){var t=[];return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return r.event&&t.push(r.event),t}};Jn.SuccessEventFact=Op;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});var Ap=tr,Ce=Tp(Ap);function Tp(e){return e&&e.__esModule?e:{default:e}}var Se=[];Se.push(new Ce.default("equal",function(e,t){return e===t}));Se.push(new Ce.default("notEqual",function(e,t){return e!==t}));Se.push(new Ce.default("in",function(e,t){return t.indexOf(e)>-1}));Se.push(new Ce.default("notIn",function(e,t){return t.indexOf(e)===-1}));Se.push(new Ce.default("contains",function(e,t){return e.indexOf(t)>-1},Array.isArray));Se.push(new Ce.default("doesNotContain",function(e,t){return e.indexOf(t)===-1},Array.isArray));function Vr(e){return Number.parseFloat(e).toString()!=="NaN"}Se.push(new Ce.default("lessThan",function(e,t){return e<t},Vr));Se.push(new Ce.default("lessThanInclusive",function(e,t){return e<=t},Vr));Se.push(new Ce.default("greaterThan",function(e,t){return e>t},Vr));Se.push(new Ce.default("greaterThanInclusive",function(e,t){return e>=t},Vr));Xn.default=Se;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.FINISHED=Ie.RUNNING=Ie.READY=void 0;var Cp=function(){function e(t,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Fp=er,cr=Tt(Fp),Np=Ur,ln=Tt(Np),Ip=tr,cn=Tt(Ip),xp=zn,kp=Tt(xp),Pp=Ir(),Dp=Jn,Lp=Xn,Bp=Tt(Lp),Mp=At,et=Tt(Mp);function Tt(e){return e&&e.__esModule?e:{default:e}}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vp=Ie.READY="READY",So=Ie.RUNNING="RUNNING",_o=Ie.FINISHED="FINISHED",Hp=function(e){jp(t,e);function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$p(this,t);var n=Up(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.rules=[],n.allowUndefinedFacts=i.allowUndefinedFacts||!1,n.operators=new Map,n.facts=new Map,n.status=Vp,r.map(function(o){return n.addRule(o)}),Bp.default.map(function(o){return n.addOperator(o)}),n}return Cp(t,[{key:"addRule",value:function(i){if(!i)throw new Error("Engine: addRule() requires options");if(!i.hasOwnProperty("conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!i.hasOwnProperty("event"))throw new Error('Engine: addRule() argument requires "event" property');var n=void 0;return i instanceof ln.default?n=i:n=new ln.default(i),n.setEngine(this),this.rules.push(n),this.prioritizedRules=null,this}},{key:"removeRule",value:function(i){if(!(i instanceof ln.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var n=this.rules.indexOf(i);return n===-1?!1:(this.prioritizedRules=null,Boolean(this.rules.splice(n,1).length))}},{key:"addOperator",value:function(i,n){var o=void 0;i instanceof cn.default?o=i:o=new cn.default(i,n),(0,et.default)("engine::addOperator name:"+o.name),this.operators.set(o.name,o)}},{key:"removeOperator",value:function(i){var n=void 0;return i instanceof cn.default?n=i.name:n=i,this.operators.delete(n)}},{key:"addFact",value:function(i,n,o){var a=i,l=void 0;return i instanceof cr.default?(a=i.id,l=i):l=new cr.default(i,n,o),(0,et.default)("engine::addFact id:"+a),this.facts.set(a,l),this}},{key:"removeFact",value:function(i){var n=void 0;return i instanceof cr.default?n=i.id:n=i,this.facts.delete(n)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var i=this.rules.reduce(function(n,o){var a=o.priority;return n[a]||(n[a]=[]),n[a].push(o),n},{});this.prioritizedRules=Object.keys(i).sort(function(n,o){return Number(n)>Number(o)?-1:1}).map(function(n){return i[n]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=_o,this}},{key:"getFact",value:function(i){return this.facts.get(i)}},{key:"evaluateRules",value:function(i,n){var o=this;return Promise.all(i.map(function(a){if(o.status!==So){(0,et.default)("engine::run status:"+o.status+"; skipping remaining rules");return}return a.evaluate(n).then(function(l){(0,et.default)("engine::run ruleResult:"+l.result),l.result?(o.emit("success",a.event,n,l),o.emit(a.event.type,a.event.params,n,l),n.factValue("success-events",{event:a.event})):o.emit("failure",a.event,n,l)})}))}},{key:"run",value:function(){var i=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,et.default)("engine::run started"),(0,et.default)("engine::run runtimeFacts:",n),n["success-events"]=new cr.default("success-events",(0,Dp.SuccessEventFact)(),{cache:!1}),this.status=So;var o=new kp.default(this.facts,n,{allowUndefinedFacts:this.allowUndefinedFacts}),a=this.prioritizeRules(),l=Promise.resolve();return new Promise(function(f,m){a.map(function(d){return l=l.then(function(){return i.evaluateRules(d,o)}).catch(m),l}),l.then(function(){return i.status=_o,(0,et.default)("engine::run completed"),o.factValue("success-events")}).then(function(d){f({events:d,almanac:o})}).catch(m)})}}]),t}(Pp.EventEmitter);Ie.default=Hp;Object.defineProperty(ye,"__esModule",{value:!0});ye.Engine=ye.Operator=ye.Rule=ye.Fact=void 0;ye.default=function(e,t){return new ka.default(e,t)};var Wp=Ie,ka=Hr(Wp),Yp=er,qp=Hr(Yp),Kp=Ur,zp=Hr(Kp),Gp=tr,Jp=Hr(Gp);function Hr(e){return e&&e.__esModule?e:{default:e}}ye.Fact=qp.default;ye.Rule=zp.default;ye.Operator=Jp.default;ye.Engine=ka.default;(function(e){e.exports=ye})(Rn);var fe=(e=>(e[e.TODO=0]="TODO",e[e.PROGRESS=1]="PROGRESS",e[e.COMPLETED=2]="COMPLETED",e[e.EXCLUDED=3]="EXCLUDED",e[e.ERROR=4]="ERROR",e))(fe||{}),X=(e=>(e[e.PREVIOUS=0]="PREVIOUS",e[e.NEXT=1]="NEXT",e[e.GO_TO_STEP=2]="GO_TO_STEP",e[e.SAVE=3]="SAVE",e[e.SUBMIT=4]="SUBMIT",e[e.VALIDATE=5]="VALIDATE",e[e.NONE=6]="NONE",e))(X||{}),Z=(e=>(e[e.PROGRESS=0]="PROGRESS",e[e.ERROR=1]="ERROR",e[e.SAVE_SUCCESS=2]="SAVE_SUCCESS",e[e.SUBMIT_SUCCESS=3]="SUBMIT_SUCCESS",e[e.ERROR_CRITICAL=4]="ERROR_CRITICAL",e))(Z||{});function mr(e){let t=N(J,{});return e.isSubmitted?t=N("div",{children:"Your information has been submitted"}):e.bodyText&&(t=N("div",{dangerouslySetInnerHTML:{__html:e.bodyText}})),j("div",{className:`submission-header${e.isSubmitted?" submitted":""}`,children:[N("h2",{children:e.title}),t,N("hr",{})]})}try{mr.displayName="Header",mr.__docgenInfo={description:"",displayName:"Header",props:{isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}},bodyText:{defaultValue:null,description:"",name:"bodyText",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/Header.tsx#Header"]={docgenInfo:mr.__docgenInfo,name:"Header",path:"src/lib/containers/synapse_form_wrapper/Header.tsx#Header"})}catch{}function vr(e){const t=e.stepList.filter(o=>o.child!==!0),r=(o,a,l,f)=>{let m="circle";return l||f?{iconDef:m}:(a?m="block":o===fe.COMPLETED?m="checkCircle":o===fe.ERROR&&(m="errorOutlined"),{iconDef:m})},i=(o,a=!1)=>{let l="item";return o&&(l=`${l} pointed `),a&&(l=`${l} static`),l},n=(o,a,l=!1)=>{if(!o||o.child&&!l)return N(J,{});const f=(v,y,g)=>!v.inProgress&&(!y||!!v.final)?N("button",{className:"btn btn-link",onClick:()=>g(v),children:v.title}):N("span",{children:v.title}),m=r(o.state,o.excluded,o.static,o.final),d=i(o.inProgress,o.static);return j("div",{className:d,children:[N(br,{icon:m.iconDef}),f(o,a,e.onStepChange)]})};return N("div",{className:"SRC-menuLayout json-forms-menu",style:{flex:"1"},children:N("ul",{children:t.map((o,a)=>j("li",{className:"item-wrap",children:[n(o,!!e.isWizardMode),o.children&&o.children.length>0&&N("div",{className:"subMenu",children:N("ul",{children:o.children&&o.children.map((l,f)=>{const m=e.stepList.find(d=>d.id===l);return typeof m>"u"?N(J,{}):N("li",{className:"item-wrap",children:n(m,!!e.isWizardMode,!0)},f+l)})})})]},a+o.id))})})}try{vr.displayName="StepsSideNav",vr.__docgenInfo={description:"",displayName:"StepsSideNav",props:{stepList:{defaultValue:null,description:"",name:"stepList",required:!0,type:{name:"Step[]"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"Function"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/StepsSideNav.tsx#StepsSideNav"]={docgenInfo:vr.__docgenInfo,name:"StepsSideNav",path:"src/lib/containers/synapse_form_wrapper/StepsSideNav.tsx#StepsSideNav"})}catch{}function yr(e){const r=(o=>o.isWizardMode?o.previousStepIds&&o.previousStepIds.length>0:o.steps.findIndex(a=>a.id===o.currentStep.id)>0)(e)?N("button",{type:"button",onClick:o=>e.onNavAction(X.PREVIOUS),className:"btn btn-link nav-link prev",children:N(br,{icon:"chevronLeft"})}):N(J,{}),i=e.currentStep.final?N(J,{}):N("button",{type:"button",onClick:o=>e.onNavAction(X.NEXT),className:"btn btn-link nav-link next",children:N(br,{icon:"chevronRight"})}),n=N("button",{type:"button",className:"btn btn-action save",disabled:e.isFormSubmitted,onClick:o=>e.onNavAction(X.SAVE),children:"SAVE"});return j("div",{children:[N("hr",{}),j("div",{className:"buttonWrapper pull-right",children:[r," ",i," ",n]})]})}function gr(e){const t=e.steps.find(r=>r.id===e.nextStepId);return typeof t>"u"?N(J,{}):j("span",{className:"nav-link",children:[N("a",{onClick:r=>e.onNavAction(t),children:t.title}),N(br,{icon:"chevronRight"})]})}try{yr.displayName="NavButtons",yr.__docgenInfo={description:"",displayName:"NavButtons",props:{isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},previousStepIds:{defaultValue:null,description:"",name:"previousStepIds",required:!0,type:{name:"string[]"}},onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"Step"}},isFormSubmitted:{defaultValue:null,description:"",name:"isFormSubmitted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NavButtons"]={docgenInfo:yr.__docgenInfo,name:"NavButtons",path:"src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NavButtons"})}catch{}try{gr.displayName="NextStepLink",gr.__docgenInfo={description:"",displayName:"NextStepLink",props:{onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},nextStepId:{defaultValue:null,description:"",name:"nextStepId",required:!0,type:{name:"string | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NextStepLink"]={docgenInfo:gr.__docgenInfo,name:"NextStepLink",path:"src/lib/containers/synapse_form_wrapper/NavButtons.tsx#NextStepLink"})}catch{}function Sr(e){const t=j("div",{children:[N("h6",{children:"Data"}),N("pre",{children:JSON.stringify(e.formData,null,2)})]});return N(J,{children:!e.hidden&&t})}try{Sr.displayName="DataDebug",Sr.__docgenInfo={description:"",displayName:"DataDebug",props:{formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/DataDebug.tsx#DataDebug"]={docgenInfo:Sr.__docgenInfo,name:"DataDebug",path:"src/lib/containers/synapse_form_wrapper/DataDebug.tsx#DataDebug"})}catch{}function Xp(e,t,r){const i=/\[\d+\]\./g,n=/\.(\d)+/g;e=e.replace(n,"[$1]");const a=`${e.split(".").join(".properties.")}.title`,l=`${e}.ui:title`,f=a.replace(i,".items."),m=l.replace(i,".items."),d=a.match(i);let v=Cs(d);v&&(v=v.substring(1,v.length-2),v=isNaN(parseInt(v))?"":parseInt(v)+1+"");const y=yt(r,l)||yt(t.properties,a)||yt(r,m)||yt(t.properties,f)||`${f}`;return`${v?"["+v+"] ":""}${y}`}function Qp(e,t,r,i){function n(f,m,d){const v=".";return Object.keys(f).forEach(y=>{if(f[y]===null)m[d+y]="";else if(Ai(f[y])&&!Oi(f[y]))for(const g in f[y])if(Ai(f[y][g])||Ri(f[y])&&!Oi(f[y][g]))n(f[y][g],m,`${d}${y}[${g}]${v}`);else{let E=m[`${d}${y}`];E=E?E+", ":"",m[`${d}${y}`]=E+f[y][g]}else Ri(f[y])&&!Fs(f[y])?n(f[y],m,`${d}${y}${v}`):m[d+y]=f[y]}),m}const o=n(Co(e),[],"");return As(o).map(f=>{let m=o[f];o[f]===!1&&(m="false"),o[f]===!0&&(m="true");const d=f.indexOf(".");return{screen:Ts(t,{id:f.substring(0,d)}),label:Xp(f,r,i),value:m}}).filter(f=>f.label.indexOf(".properties.included.title")===-1).filter(f=>f.screen&&typeof f.value<"u").map(f=>({label:f.label,value:f.value,screen:f.screen})).sort((f,m)=>f.screen.order-m.screen.order)}function _r(e){let t=[];t=Qp(Co(e.formData),e.steps,e.schema,e.uiSchema);let r="";const i=j(J,{children:[N("table",{className:"table summary-table-header",children:N("thead",{children:j("tr",{children:[N("th",{children:"Step"}),N("th",{children:"Label"}),N("th",{children:"Value"})]})})}),N("div",{className:"scroll-area table-body",children:N("table",{className:"table summary-table",children:N("tbody",{children:t.map((n,o)=>j("tr",{children:[N("td",{children:r!==n.screen.id&&(r=n.screen.id)&&N("span",{children:n.screen.title})}),N("td",{children:n.label}),N("td",{children:n.value})]},o+n.screen.id+n.label))})})})]});return j(J,{children:[N("p",{className:"step-exclude-directions",children:"Below is all of the data you have entered. Before submitting, click 'Validate' to ensure that all of the required data has been entered."}),N("button",{className:"nav-link pull-right",onClick:()=>window.print(),children:"Print this data"}),N("div",{className:"panel panel-default padding-full wrap",children:N("div",{className:"summary scroll-area",children:i})})]})}try{_r.displayName="SummaryTable",_r.__docgenInfo={description:"",displayName:"SummaryTable",props:{isWizard:{defaultValue:null,description:"",name:"isWizard",required:!1,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"Function"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SummaryTable.tsx#SummaryTable"]={docgenInfo:_r.__docgenInfo,name:"SummaryTable",path:"src/lib/containers/synapse_form_wrapper/SummaryTable.tsx#SummaryTable"})}catch{}var Pa={exports:{}},Qn={};const Da=Cn(ps);var Le=Da.jsx,Eo=Da.jsxs;Object.defineProperty(Qn,"__esModule",{value:!0});var Zp=vt.exports,em=Le("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0},children:Le("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})}),tm=Le("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0},children:Le("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"})});function rm(e,t,r,i,n){var o=(e-r)/(t-r);if(o===0)return i;if(o===1)return n;for(var a="#",l=1;l<6;l+=2){var f=parseInt(i.substr(l,2),16),m=parseInt(n.substr(l,2),16),d=Math.round((1-o)*f+o*m).toString(16);d.length===1&&(d="0"+d),a+=d}return a}function wo(e){if(e.length===7)return e;for(var t="#",r=1;r<4;r+=1)t+=e[r]+e[r];return t}function bo(e,t,r,i,n){return rm(e,t,r,wo(i),wo(n))}function nm(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)===-1&&(r[i]=e[i]);return r}var Ro=function(e){function t(r){e.call(this,r);var i=r.height,n=r.width,o=r.checked;this.t=r.handleDiameter||i-2,this.i=Math.max(n-i,n-(i+this.t)/2),this.o=Math.max(0,(i-this.t)/2),this.state={s:o?this.i:this.o},this.n=0,this.e=0,this.h=this.h.bind(this),this.r=this.r.bind(this),this.a=this.a.bind(this),this.c=this.c.bind(this),this.l=this.l.bind(this),this.u=this.u.bind(this),this.f=this.f.bind(this),this.p=this.p.bind(this),this.b=this.b.bind(this),this.g=this.g.bind(this),this.v=this.v.bind(this),this.w=this.w.bind(this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.componentDidUpdate=function(r){r.checked!==this.props.checked&&this.setState({s:this.props.checked?this.i:this.o})},t.prototype.k=function(r){this.y.focus(),this.setState({C:r,M:!0,m:Date.now()})},t.prototype.x=function(r){var i=this.state,n=i.C,o=i.s,a=(this.props.checked?this.i:this.o)+r-n;i.R||r===n||this.setState({R:!0});var l=Math.min(this.i,Math.max(this.o,a));l!==o&&this.setState({s:l})},t.prototype.S=function(r){var i=this.state,n=i.s,o=i.R,a=i.m,l=this.props.checked,f=(this.i+this.o)/2,m=Date.now()-a;!o||m<250?this.T(r):l?f<n?this.setState({s:this.i}):this.T(r):n<f?this.setState({s:this.o}):this.T(r),this.setState({R:!1,M:!1}),this.n=Date.now()},t.prototype.h=function(r){r.preventDefault(),typeof r.button=="number"&&r.button!==0||(this.k(r.clientX),window.addEventListener("mousemove",this.r),window.addEventListener("mouseup",this.a))},t.prototype.r=function(r){r.preventDefault(),this.x(r.clientX)},t.prototype.a=function(r){this.S(r),window.removeEventListener("mousemove",this.r),window.removeEventListener("mouseup",this.a)},t.prototype.c=function(r){this.$=null,this.k(r.touches[0].clientX)},t.prototype.l=function(r){this.x(r.touches[0].clientX)},t.prototype.u=function(r){r.preventDefault(),this.S(r)},t.prototype.p=function(r){50<Date.now()-this.n&&(this.T(r),50<Date.now()-this.e&&this.setState({M:!1}))},t.prototype.b=function(){this.e=Date.now()},t.prototype.g=function(){this.setState({M:!0})},t.prototype.v=function(){this.setState({M:!1})},t.prototype.w=function(r){this.y=r},t.prototype.f=function(r){r.preventDefault(),this.y.focus(),this.T(r),this.setState({M:!1})},t.prototype.T=function(r){var i=this.props;(0,i.onChange)(!i.checked,r,i.id)},t.prototype.render=function(){var r=this.props,i=r.disabled,n=r.className,o=r.offColor,a=r.onColor,l=r.offHandleColor,f=r.onHandleColor,m=r.checkedIcon,d=r.uncheckedIcon,v=r.boxShadow,y=r.activeBoxShadow,g=r.height,E=r.width,_=nm(r,["disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","boxShadow","activeBoxShadow","height","width","handleDiameter"]),w=this.state,R=w.s,b=w.R,A=w.M,C={position:"relative",display:"inline-block",textAlign:"left",opacity:i?.5:1,direction:"ltr",borderRadius:g/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},T={height:g,width:E,margin:Math.max(0,(this.t-g)/2),position:"relative",background:bo(R,this.i,this.o,o,a),borderRadius:g/2,cursor:i?"default":"pointer",WebkitTransition:b?null:"background 0.25s",MozTransition:b?null:"background 0.25s",transition:b?null:"background 0.25s"},x={height:g,width:Math.min(1.5*g,E-(this.t+g)/2+1),position:"relative",opacity:(R-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:b?null:"opacity 0.25s",MozTransition:b?null:"opacity 0.25s",transition:b?null:"opacity 0.25s"},D={height:g,width:Math.min(1.5*g,E-(this.t+g)/2+1),position:"absolute",opacity:1-(R-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:b?null:"opacity 0.25s",MozTransition:b?null:"opacity 0.25s",transition:b?null:"opacity 0.25s"},ee={height:this.t,width:this.t,background:bo(R,this.i,this.o,l,f),display:"inline-block",cursor:i?"default":"pointer",borderRadius:"50%",position:"absolute",transform:"translateX("+R+"px)",top:Math.max(0,(g-this.t)/2),outline:0,boxShadow:A?y:v,border:0,WebkitTransition:b?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:b?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:b?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};return Eo("div",{className:n,style:C,children:[Eo("div",{className:"react-switch-bg",style:T,onClick:i?null:this.f,onMouseDown:function(ue){return ue.preventDefault()},children:[m&&Le("div",{style:x,children:m}),d&&Le("div",{style:D,children:d})]}),Le("div",{className:"react-switch-handle",style:ee,onClick:function(ue){return ue.preventDefault()},onMouseDown:i?null:this.h,onTouchStart:i?null:this.c,onTouchMove:i?null:this.l,onTouchEnd:i?null:this.u,onTouchCancel:i?null:this.v}),Le("input",{type:"checkbox",role:"switch",disabled:i,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},..._,ref:this.w,onFocus:this.g,onBlur:this.v,onKeyUp:this.b,onChange:this.p})]})},t}(Zp.Component);Ro.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:em,checkedIcon:tm,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},Qn.default=Ro;(function(e){e.exports=Qn})(Pa);const im=cs(Pa.exports);class Er extends vt.exports.Component{constructor(t){super(t),this.excludeWarningText=j("div",{children:[N("p",{children:"This action will clear any entered data on this page and remove this form from your submission. You can include it again at anytime. Only this page will be affected."}),N("p",{children:"Are you sure you want to skip this step and clear any entered data?"})]}),this.excludeWarningHeader="Skip This Step?",this.unsavedDataWarning="You might have some unsaved data. Are you sure you want to leave?",this.navAction=X.NONE,this.extraErrors=[],this.isNewForm=n=>Object.keys(n).length==1&&Object.keys(n)[0]==="metadata"||Object.keys(n).length==0,this.getFirstStep=(n,o)=>this.isNewForm(o)?n[0]:n.find(a=>a.final===!0)||n[0],this.onUnload=n=>this.state.hasUnsavedChanges?(n.preventDefault(),n.returnValue=this.unsavedDataWarning):void 0,this.setupBeforeUnloadListener=()=>{window.addEventListener("beforeunload",this.onUnload)},this._setIncludedPropInFormDataNonWizard=(n,o)=>{const a={},l=n.formData;return Object.keys(o).forEach(f=>{U.get(o[f],"properties.included")&&U.set(a,`${f}.included`,!0)}),{...l,...a}},this._setIncludedPropInFormDataWizard=n=>{const o=n.currentStep.id,a=U.cloneDeep(n.formData);return U.set(a,`${o}.included`,!0),a},this.getSchema=({id:n,final:o})=>o?this.props.schema:U.pick(this.props.schema,["title","type",`properties.${n}`]),this.getNextStepId=async(n,o,a)=>{if(a)return a;if(!n.rules||n.rules.length===0)return n.default;const l=new Rn.exports.Engine(n.rules);try{const f=await l.run(o);return f.events.length>0?f.events[0].params.next:n.default}catch{return n.default}},this.moveStep=async(n,o,a,l=[...this.state.previousStepIds])=>{var g;const f=this.state.currentStep;let m;(g=this.formRef)!=null&&g.current&&this.formRef.current.setState({errorSchema:{}});const d=this.props.isWizardMode&&!o;d&&l.push(f.id),a?m=fe.ERROR:(m=fe.COMPLETED,!d&&this.props.isWizardMode&&(m=fe.TODO)),o=await this.getNextStepId(f,n,o);const v=this.state.steps.map(E=>E.id===f.id?{...E,state:m,inProgress:!1}:E.id===o?{...E,inProgress:!0}:E);d&&U.set(n,`${o}.included`,!0);const y=this.state.steps.find(E=>E.id===o);this.props.isWizardMode&&y.final&&Object.keys(n).forEach(E=>{n[E].included===void 0&&(n[E]={})}),this.saveStepState(l,v,y,n)},this.saveStepState=(n,o,a,l)=>{this.setState({previousStepIds:n,steps:o,currentStep:a,formData:l,hasValidated:!1,doShowErrors:!1})},this.goPrevious=async(n,o)=>{let a;const l=[...this.state.previousStepIds];if(this.props.isWizardMode)a=l.pop(),this.isSubmitScreen()||U.set(n,`${this.state.currentStep.id}.included`,void 0);else{const f=U.findIndex(this.state.steps,{id:this.state.currentStep.id});f>0&&(a=this.state.steps[f-1].id)}if(!U.isUndefined(a))return this.moveStep(n,a,o,l)},this.triggerAction=async n=>{if(n===X.SAVE)return this.props.onSave(this.state.formData);this.navAction=n,this.extraErrors=await this.runCustomValidation(this.state.formData,this.state.currentStep,this.state.steps),this.submitButtonRef.current&&this.submitButtonRef.current.click()},this.triggerStepChange=n=>{this.nextStep=n,this.triggerAction(X.GO_TO_STEP)},this.onError=n=>{if(this.setState({doShowErrors:!0,hasValidated:!1}),this.navAction===X.VALIDATE){const o=this.setStepStatusForFailedValidation(n.props,this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep));this.setState({steps:o}),this.formDivRef.current.scrollTo(0,0),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,o[0].id,!0),this.setState({isLoadingSaved:!1}))}},this.setStepStatusForFailedValidation=(n,o,a,l,f)=>{const m=n.map(y=>U.trimStart(y.property,".").split(".")[0]),d=Object.keys(f);return o.map(y=>{if(m.indexOf(y.id)>-1)return{...y,state:fe.ERROR};if(d.indexOf(y.id)>-1){let g=fe.COMPLETED;return a&&!U.get(l[y.id],"included")&&(g=y.state),{...y,state:g}}else return y})},this.onSubmit=()=>{this.performAction(this.navAction,this.state.currentStep.state===fe.ERROR)},this.isSubmitScreen=()=>this.state.currentStep.final===!0&&!this.state.isLoadingSaved,this.showExcludeStateWarningModal=(n,o=!1)=>{this.setState({modalContext:{action:this.toggleExcludeStep,arguments:[n,!0,o]}})},this.toggleExcludeStep=(n,o)=>{this.setState((a,l)=>{const f=a.steps.map(v=>v.id===n?{...v,excluded:o}:v),m=U.cloneDeep(a.formData),d=U.cloneDeep(a.currentStep);return d.id===n&&(d.excluded=o),o?m[n]={}:U.set(m,`${n}.included`,!0),{steps:f,formData:m,modalContext:void 0,currentStep:d}})},this.renderNotification=n=>n===Z.SAVE_SUCCESS?N("div",{className:"notification-area",children:" Successfully saved "}):n===Z.SUBMIT_SUCCESS?N("div",{className:"notification-area",children:" Successfully submitted "}):n===Z.PROGRESS?N("div",{className:"notification-area",children:" working on it ...."}):N(J,{}),this.renderTextForStaticScreen=()=>{if(!this.state.currentStep.copy)return N(J,{});const n=this.state.currentStep.copy;return N("div",{className:"static-screen",dangerouslySetInnerHTML:{__html:n}})},this.renderOptionalFormSubheader=(n=!1)=>{if(n)return N(J,{});const o=this.state.currentStep;return o.excluded===!0?j("div",{className:"step-exclude-directions",children:["This form is currently not included in the submission.",N("button",{className:"btn btn-link",onClick:()=>this.toggleExcludeStep(o.id,!1),children:"INCLUDE"})]}):o.excluded===!1?j("div",{className:"step-exclude-directions",children:['This form is currently included in the submission. Enter some data if you have it, or click "Skip".',N("button",{className:"btn btn-link",onClick:()=>this.showExcludeStateWarningModal(this.state.currentStep.id),children:"SKIP"})]}):N(J,{})},this.renderHelpToggle=(n,o,a)=>n.static||n.final?N(J,{}):N(J,{children:j("label",{className:"pull-right toggle-help-label",children:[N("span",{children:"Hide help"}),N(im,{checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,className:"toggle-help",offColor:"#ccc",onChange:()=>a(),checked:o}),N("span",{children:"Show help"})]})}),this.runCustomValidation=async(n,o,a)=>{const l=[];let f=o.validationRules||[],m={[o.id]:n[o.id]};if(o.final&&(f=a.reduce((y,g)=>g.validationRules&&g.validationRules.length>0?y.concat(g.validationRules):y,[]),m=U.cloneDeep(n)),f.length===0)return[];const d=[];f.forEach(y=>{const g=y.event.params.property;if(g.indexOf("[*]")===-1)d.push(y);else{const E=g.split("[*]")[0].substring(1),_=U.get(n,E);if(Array.isArray(_)&&typeof _!="string")for(let w=0;w<_.length;w++){const R=JSON.parse(JSON.stringify(y).replace(/\[\*\]/g,`[${w}]`));d.push(R)}else d.push(y)}});const v=new Rn.exports.Engine(d,{allowUndefinedFacts:!0});try{(await v.run(m)).events.forEach(E=>{const _={...E.params,params:{},stack:`${E.params.property} ${E.params.message}`};l.push(_)})}catch(y){console.log(y)}return l},this.transformErrors=n=>{if(this.extraErrors.forEach(a=>{n.find(l=>l.stack===a.stack)||n.push(a)}),this.navAction!==X.SUBMIT&&this.navAction!==X.VALIDATE&&(!this.props.isWizardMode||this.state.currentStep.final)){const a={...this.state.currentStep};return n.length>0?a.state=fe.ERROR:a.state=fe.COMPLETED,this.setState({currentStep:a}),[]}return n.filter(a=>a.name==="required").forEach(a=>{const l=a.property.substring(0,a.property.lastIndexOf("."));U.remove(n,f=>f.property.indexOf(l)>-1&&(f.name==="enum"||f.name==="oneOf"))}),n.map(a=>(a.message=a.message.replace("property","field"),a))},this.renderErrorListTemplate=n=>{const{errors:o}=n,a=o.map((l,f)=>om(this.state.steps,l,this.uiSchema,f,this.props.schema)).sort((l,f)=>l.order-f.order).map(l=>l.element);return N("div",{className:"form-error-summary",children:N("ul",{className:"error-detail",children:a})})},this.uiSchema=La(U.cloneDeep(t.uiSchema),"ui:help");const r=t.navSchema.steps.map((n,o)=>({...n,inProgress:o===0})).sort((n,o)=>n.order-o.order);this.formRef=vt.exports.createRef(),this.formDivRef=vt.exports.createRef(),this.submitButtonRef=vt.exports.createRef();const i=this.getFirstStep(r,t.formData);this.state={currentStep:i,steps:r,previousStepIds:[],formData:t.formData,doShowErrors:!1,doShowHelp:!0,hasUnsavedChanges:!1,isSubmitted:t.isSubmitted,isLoadingSaved:!this.isNewForm(this.props.formData)}}componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnload)}componentDidUpdate(t){const r=this.props.callbackStatus!==t.callbackStatus,i=this.props.callbackStatus===Z.SAVE_SUCCESS||this.props.callbackStatus===Z.SUBMIT_SUCCESS;r&&i&&(this.setState({hasUnsavedChanges:!1}),this.props.callbackStatus===Z.SUBMIT_SUCCESS&&(this.setState({isSubmitted:!0}),window.history.back()))}componentDidMount(){this.setupBeforeUnloadListener(),this.isNewForm(this.state.formData)?this.setState(r=>({formData:this.props.isWizardMode?this._setIncludedPropInFormDataWizard(r):this._setIncludedPropInFormDataNonWizard(r,this.props.schema)})):this.triggerAction(X.VALIDATE)}handleOnChange({formData:t}){if(!this.isSubmitScreen()&&!this.state.currentStep.excluded){const r=!U.isEqual(this.state.formData,t);this.setState({formData:t,hasUnsavedChanges:r})}}performAction(t,r){const i=this.state.formData;switch(t){case X.NEXT:return this.moveStep(i,void 0,r);case X.PREVIOUS:return this.goPrevious(i,r);case X.GO_TO_STEP:return this.nextStep?this.moveStep(i,this.nextStep.id,r):void 0;case X.SUBMIT:{this.props.onSubmit(i);return}case X.VALIDATE:{const n=this.setStepStatusForFailedValidation([],this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep)),o={...this.state.currentStep,state:fe.COMPLETED};this.setState({hasValidated:!0,currentStep:o,steps:n}),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,n[0].id,!1),this.setState({isLoadingSaved:!1}));return}default:return}}render(){return j("div",{className:"outter-wrap",children:[N(xs,{when:this.state.hasUnsavedChanges,message:this.unsavedDataWarning}),N(mr,{isSubmitted:this.state.isSubmitted,bodyText:this.state.currentStep.description,title:this.props.formTitle}),N("div",{children:j("div",{className:"inner-wrap",children:[N(vr,{stepList:this.state.steps,isWizardMode:this.props.isWizardMode,onStepChange:this.triggerStepChange}),this.state.isLoadingSaved&&N("div",{className:"text-center",children:N("span",{className:"spinner"})}),j("div",{className:"form-wrap",children:[N("div",{className:"form-title",children:this.state.currentStep.title}),this.renderNotification(this.props.callbackStatus),j("div",{className:`right-top-actions ${this.state.isSubmitted?"hide":""}`,children:[!this.state.currentStep.static&&N("button",{type:"button",className:"btn btn-action save pull-right",onClick:()=>this.triggerAction(X.VALIDATE),children:"VALIDATE"}),this.renderHelpToggle(this.state.currentStep,this.state.doShowHelp,()=>this.setState({doShowHelp:!this.state.doShowHelp})),this.isSubmitScreen()&&N("button",{type:"button",className:"btn btn-action save pull-right",disabled:this.state.isSubmitted,onClick:()=>this.triggerAction(X.SUBMIT),children:"SUBMIT"})]}),this.renderOptionalFormSubheader(this.props.isWizardMode),j("div",{className:this.isSubmitScreen()||this.state.currentStep.static?"hide-form-only":"wrap",children:[this.state.hasValidated&&N("div",{className:"notification-area",children:"Great! All required data on this form has been entered."}),j("div",{ref:this.formDivRef,className:`scroll-area ${this.state.currentStep.excluded?"disabled":" "} `,children:[N(Os,{noHtml5Validate:!0,className:this.state.doShowHelp?"submissionInputForm":"submissionInputForm no-help",liveValidate:!1,formData:this.state.formData,schema:this.getSchema(this.state.currentStep),uiSchema:this.uiSchema,onSubmit:this.onSubmit,onChange:t=>this.handleOnChange(t),onError:t=>this.onError({props:t,form:this.formRef}),showErrorList:!!this.state.doShowErrors||!!this.props.isWizardMode,ErrorList:this.renderErrorListTemplate,transformErrors:this.transformErrors,ref:this.formRef,disabled:this.state.currentStep.excluded||this.state.isSubmitted,children:N("div",{style:{display:"none"},children:N("button",{type:"submit",ref:this.submitButtonRef})})}),this.renderTextForStaticScreen(),!this.props.isWizardMode&&N(gr,{steps:this.state.steps,nextStepId:this.state.currentStep.default,onNavAction:t=>this.triggerStepChange(t)})]})]}),this.isSubmitScreen()&&N(_r,{formData:this.state.formData,steps:this.state.steps,callbackFn:t=>this.showExcludeStateWarningModal(t,!0),uiSchema:this.props.uiSchema,schema:this.props.schema}),N(yr,{currentStep:this.state.currentStep,steps:this.state.steps,previousStepIds:this.state.previousStepIds,isFormSubmitted:this.state.isSubmitted,onNavAction:t=>this.triggerAction(t)})]})]})}),this.state.modalContext&&N(Is,{show:!0,title:this.excludeWarningHeader,modalBody:this.excludeWarningText,className:`theme-${this.props.formClass}`,onConfirmCallbackArgs:this.state.modalContext.arguments,onCancel:()=>this.setState({modalContext:void 0}),onConfirm:(t,r)=>this.toggleExcludeStep(t,r)}),N(Sr,{formData:this.state.formData,hidden:!0})]})}}function om(e,t,r,i,n){const o=U.trimStart(t.property,"."),a=o.split("."),l=`${a.join(".properties.")}.title`,f=`${o}.ui:title`,m=l.replace(/\[.*?\]/,".items"),d=f.replace(/\[.*?\]/,".items"),v=l.match(/\[.*?\]/);let y=U.first(v);y&&(y=y.substring(1,y.length-1),y=isNaN(parseInt(y))?"":` [${parseInt(y)+1}]`);const g=U.get(r,f)||U.get(n.properties,l)||U.get(r,d)||U.get(n.properties,m)||t.property,E=U.find(e,{id:a[0]})||{title:a[0],order:0},_=N("li",{className:"",children:j("span",{children:[j("strong",{children:[E.title,y,":"]}),g,"\xA0 ",t.message]})},i);return{order:E.order,element:_}}function La(e,t){return U.keys(e).some(r=>{if(r===t){const i=e[r];return e[r]=N("span",{dangerouslySetInnerHTML:{__html:i}}),e}e[r]&&typeof e[r]=="object"&&La(e[r],t)}),e}try{Er.displayName="SynapseForm",Er.__docgenInfo={description:"",displayName:"SynapseForm",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},navSchema:{defaultValue:null,description:"",name:"navSchema",required:!0,type:{name:"{ steps: any[]; }"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"IFormData"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"Function"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"Function"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},callbackStatus:{defaultValue:null,description:"",name:"callbackStatus",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"}]}},isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SynapseForm.tsx#SynapseForm"]={docgenInfo:Er.__docgenInfo,name:"SynapseForm",path:"src/lib/containers/synapse_form_wrapper/SynapseForm.tsx#SynapseForm"})}catch{}async function fn(e,t,r,i){try{const n=await ms(e,t,r),o=await vs(n,e,!0,!0),a=await ys(o.fileHandle,o.preSignedURL),l=JSON.parse(a);return{version:n.versionNumber,content:l}}catch(n){const o={message:`${n.message}:  configuration data for ${t} failed to load`};return i&&i(o),Promise.reject(o)}}class wr extends vt.exports.Component{constructor(t){var r,i;super(t),this.getFileEntityDataDereferenced=async(n,o,a)=>{const{version:l,content:f}=await fn(n,o,a,this.onError),m=await Oe.exports.dereference(f);return{version:l,content:m}},this.getData=async n=>{if(!!n)try{let o={},a,l,f,m,d;const{searchParams:v}=this.props;if(v&&({dataFileHandleId:a,submitted:l}=v),a){const E=await gs(a,n);o=JSON.parse(E),l&&o&&o.metadata&&({formSchemaVersion:f,uiSchemaVersion:m,navSchemaVersion:d}=o.metadata)}const y=[this.getFileEntityDataDereferenced(n,this.props.formSchemaEntityId,f),fn(n,this.props.formUiSchemaEntityId,m,this.onError),fn(n,this.props.formNavSchemaEntityId,d,this.onError)],g=await Promise.all(y);a||(o={metadata:{formSchemaVersion:g[0].version,uiSchemaVersion:g[1].version,navSchemaVersion:g[2].version}}),this.setState({formData:o,formSchema:g[0].content,formUiSchema:g[1].content,formNavSchema:g[2].content,isLoading:!1})}catch(o){this.onError({message:o})}finally{this.setState({isLoading:!1})}},this.finishedProcessing=(n,o)=>{this.setState({isLoading:!1,notification:{type:n,message:o},status:n}),setTimeout(()=>{this.setState({status:void 0})},7e3)},this.onError=n=>{this.setState({notification:{type:Z.ERROR,message:n.message,name:n.name},status:Z.ERROR,isLoading:!1})},this.submitForm=async n=>{await this.saveToFile(n),this.setState({isLoading:!0}),await Ss(this.state.formDataId,this.props.token),this.finishedProcessing(Z.SUBMIT_SUCCESS,"File Submitted")},this.createOrUpdateFormDataFile=async(n,o)=>{n=`${n}.json`;const a=await _s(this.props.token,n,o),{searchParams:l}=this.props,f=l&&l.formGroupId;if(!f)throw console.error("formGroupId must be defined"),"formGroupId must be defined";try{const m=a.fileHandleId;let d;return this.state.formDataId?d=await Es(this.state.formDataId,n,m,this.props.token):d=await ws(f,n,m,this.props.token),d}catch(m){throw this.onError(m),m}},this.saveToFile=async n=>{const o=yt(n,this.props.fileNamePath);if(this.setState({status:Z.PROGRESS,notification:{type:Z.PROGRESS,message:"Progress"},isLoading:!0}),!o){let a="File Name";try{const l=`${this.props.fileNamePath.replace(".",".properties.")}.title`;a=yt(this.state.formSchema.properties,l,a)}finally{const l=`Please Provide the ${a} before saving`;this.onError({message:l})}return}try{const a=new Blob([JSON.stringify(n)],{type:"text/json"}),l=await this.createOrUpdateFormDataFile(o,a);this.setState({formDataId:l.formDataId}),this.finishedProcessing(Z.SAVE_SUCCESS,"File Saved")}catch(a){this.onError({message:a})}},this.isReadyToDisplayForm=n=>this.state.status!==Z.ERROR_CRITICAL&&n.formSchema&&n.formUiSchema&&n.formNavSchema&&n.formData,this.renderLoader=(n,o)=>Ns([Z.ERROR,Z.ERROR_CRITICAL],n.status)&&o.token&&n.isLoading?N("div",{className:"text-center",children:N("span",{className:"spinner"})}):N(J,{}),this.renderNotification=n=>n?n.type===Z.ERROR?j(Ti,{variant:"danger",onClose:()=>this.setState({status:void 0}),children:[N(Ti.Heading,{children:"Error"}),j("p",{children:[n.name," ",n.message]})]}):N(J,{}):N(J,{}),this.renderUnauthenticatedView=n=>n?N(J,{}):j("div",{className:"panel padding-full unauthenticated text-center bootstrap-4-backport",children:["Please",N(ks,{variant:"light-primary-base",style:{margin:"10px"},className:`pill ${Rs}`,children:"sign in"}),"to initiate or continue your submission"]}),this.state={isLoading:!0,formDataId:(i=(r=this.props)==null?void 0:r.searchParams)==null?void 0:i.formDataId}}async componentDidMount(){await this.getData(this.props.token)}async componentDidUpdate(t){this.props.token!==t.token&&await this.getData(this.props.token)}render(){return N("div",{className:`theme-${this.props.formClass}`,children:j("div",{className:"SRC-ReactJsonForm",children:[this.renderNotification(this.state.notification),this.renderLoader(this.state,this.props),this.renderUnauthenticatedView(this.props.token),this.isReadyToDisplayForm(this.state)&&N("div",{children:N(Er,{schema:this.state.formSchema,uiSchema:this.state.formUiSchema,formData:this.state.formData,navSchema:this.state.formNavSchema,isWizardMode:this.props.isWizardMode,formTitle:this.props.formTitle,formClass:this.props.formClass,callbackStatus:this.state.status,onSave:t=>this.saveToFile(t),onSubmit:t=>this.submitForm(t),isSubmitted:this.props.searchParams&&!!this.props.searchParams.submitted})})]})})}}const Ba=wr;try{wr.displayName="SynapseFormWrapper",wr.__docgenInfo={description:"",displayName:"SynapseFormWrapper",props:{formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},formNavSchemaEntityId:{defaultValue:null,description:"",name:"formNavSchemaEntityId",required:!0,type:{name:"string"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"UploadToolSearchParams"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},fileNamePath:{defaultValue:null,description:"",name:"fileNamePath",required:!0,type:{name:"string"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_form_wrapper/SynapseFormWrapper.tsx#SynapseFormWrapper"]={docgenInfo:wr.__docgenInfo,name:"SynapseFormWrapper",path:"src/lib/containers/synapse_form_wrapper/SynapseFormWrapper.tsx#SynapseFormWrapper"})}catch{}const Av={parameters:{storySource:{source:`import React from 'react'
import { ComponentStory, ComponentMeta } from '@storybook/react'
import SynapseFormWrapper from './SynapseFormWrapper'
import { SynapseContextConsumer } from '../../utils/SynapseContext'

export default {
  title: 'Synapse/SynapseFormWrapper',
  component: SynapseFormWrapper,
} as ComponentMeta<typeof SynapseFormWrapper>

const Template: ComponentStory<typeof SynapseFormWrapper> = args => (
  <SynapseContextConsumer>
    {synapseContext => (
      <SynapseFormWrapper {...args} token={synapseContext?.accessToken} />
    )}
  </SynapseContextConsumer>
)

export const Demo = Template.bind({})
Demo.args = {
  formTitle: 'Your Contribution Request',
  formClass: 'contribution-request',
  formSchemaEntityId: 'syn20692910',
  fileNamePath: 'study.submission_name',
  formUiSchemaEntityId: 'syn20692911',
  formNavSchemaEntityId: 'syn20968007',
  isWizardMode: true,
}
`,locationsMap:{demo:{startLoc:{col:60,line:11},endLoc:{col:1,line:17},startBody:{col:60,line:11},endBody:{col:1,line:17}}}}},title:"Synapse/SynapseFormWrapper",component:Ba},am=e=>N(bs,{children:t=>N(Ba,{...e,token:t==null?void 0:t.accessToken})}),sm=am.bind({});sm.args={formTitle:"Your Contribution Request",formClass:"contribution-request",formSchemaEntityId:"syn20692910",fileNamePath:"study.submission_name",formUiSchemaEntityId:"syn20692911",formNavSchemaEntityId:"syn20968007",isWizardMode:!0};const Tv=["Demo"];export{sm as Demo,Tv as __namedExportsOrder,Av as default};
