import{a as Xa,z as wi,A as Ja}from"./iframe.ca48114a.js";import{p as pl}from"./index.06f4a415.js";var Ti={exports:{}};(function(ka,da){(function(f){ka.exports=f()})(function(){return function(){function f(ae,W,t){function n(e,u){if(!W[e]){if(!ae[e]){var s=typeof Ja=="function"&&Ja;if(!u&&s)return s(e,!0);if(o)return o(e,!0);var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}var r=W[e]={exports:{}};ae[e][0].call(r.exports,function(c){var h=ae[e][1][c];return n(h||c)},r,r.exports,f,ae,W,t)}return W[e].exports}for(var o=typeof Ja=="function"&&Ja,a=0;a<t.length;a++)n(t[a]);return n}return f}()({1:[function(f,ae,W){var t=f("../src/lib"),n={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in n){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");t.addStyleRule(a,n[o])}},{"../src/lib":232}],2:[function(f,ae,W){ae.exports=f("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(f,ae,W){ae.exports=f("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(f,ae,W){ae.exports=f("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(f,ae,W){ae.exports=f("../src/core")},{"../src/core":214}],6:[function(f,ae,W){ae.exports=f("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(f,ae,W){ae.exports=f("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(f,ae,W){var t=f("./core");t.register([f("./bar"),f("./pie"),f("./aggregate"),f("./filter"),f("./groupby"),f("./sort"),f("./calendars")]),ae.exports=t},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(f,ae,W){ae.exports=f("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(f,ae,W){ae.exports=f("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(f,ae,W){(function(){var t={version:"3.8.0"},n=[].slice,o=function(i){return n.call(i)},a=self.document;function e(i){return i&&(i.ownerDocument||i.document||i).documentElement}function u(i){return i&&(i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView)}if(a)try{o(a.documentElement.childNodes)[0].nodeType}catch{o=function(b){for(var D=b.length,V=new Array(D);D--;)V[D]=b[D];return V}}if(Date.now||(Date.now=function(){return+new Date}),a)try{a.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,l=s.setAttribute,r=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,h=c.setProperty;s.setAttribute=function(b,D){l.call(this,b,D+"")},s.setAttributeNS=function(b,D,V){r.call(this,b,D,V+"")},c.setProperty=function(b,D,V){h.call(this,b,D+"",V)}}t.ascending=v;function v(i,b){return i<b?-1:i>b?1:i>=b?0:NaN}t.descending=function(i,b){return b<i?-1:b>i?1:b>=i?0:NaN},t.min=function(i,b){var D=-1,V=i.length,X,$;if(arguments.length===1){for(;++D<V;)if(($=i[D])!=null&&$>=$){X=$;break}for(;++D<V;)($=i[D])!=null&&X>$&&(X=$)}else{for(;++D<V;)if(($=b.call(i,i[D],D))!=null&&$>=$){X=$;break}for(;++D<V;)($=b.call(i,i[D],D))!=null&&X>$&&(X=$)}return X},t.max=function(i,b){var D=-1,V=i.length,X,$;if(arguments.length===1){for(;++D<V;)if(($=i[D])!=null&&$>=$){X=$;break}for(;++D<V;)($=i[D])!=null&&$>X&&(X=$)}else{for(;++D<V;)if(($=b.call(i,i[D],D))!=null&&$>=$){X=$;break}for(;++D<V;)($=b.call(i,i[D],D))!=null&&$>X&&(X=$)}return X},t.extent=function(i,b){var D=-1,V=i.length,X,$,he;if(arguments.length===1){for(;++D<V;)if(($=i[D])!=null&&$>=$){X=he=$;break}for(;++D<V;)($=i[D])!=null&&(X>$&&(X=$),he<$&&(he=$))}else{for(;++D<V;)if(($=b.call(i,i[D],D))!=null&&$>=$){X=he=$;break}for(;++D<V;)($=b.call(i,i[D],D))!=null&&(X>$&&(X=$),he<$&&(he=$))}return[X,he]};function y(i){return i===null?NaN:+i}function m(i){return!isNaN(i)}t.sum=function(i,b){var D=0,V=i.length,X,$=-1;if(arguments.length===1)for(;++$<V;)m(X=+i[$])&&(D+=X);else for(;++$<V;)m(X=+b.call(i,i[$],$))&&(D+=X);return D},t.mean=function(i,b){var D=0,V=i.length,X,$=-1,he=V;if(arguments.length===1)for(;++$<V;)m(X=y(i[$]))?D+=X:--he;else for(;++$<V;)m(X=y(b.call(i,i[$],$)))?D+=X:--he;if(he)return D/he},t.quantile=function(i,b){var D=(i.length-1)*b+1,V=Math.floor(D),X=+i[V-1],$=D-V;return $?X+$*(i[V]-X):X},t.median=function(i,b){var D=[],V=i.length,X,$=-1;if(arguments.length===1)for(;++$<V;)m(X=y(i[$]))&&D.push(X);else for(;++$<V;)m(X=y(b.call(i,i[$],$)))&&D.push(X);if(D.length)return t.quantile(D.sort(v),.5)},t.variance=function(i,b){var D=i.length,V=0,X,$,he=0,ue=-1,ye=0;if(arguments.length===1)for(;++ue<D;)m(X=y(i[ue]))&&($=X-V,V+=$/++ye,he+=$*(X-V));else for(;++ue<D;)m(X=y(b.call(i,i[ue],ue)))&&($=X-V,V+=$/++ye,he+=$*(X-V));if(ye>1)return he/(ye-1)},t.deviation=function(){var i=t.variance.apply(this,arguments);return i&&Math.sqrt(i)};function L(i){return{left:function(b,D,V,X){for(arguments.length<3&&(V=0),arguments.length<4&&(X=b.length);V<X;){var $=V+X>>>1;i(b[$],D)<0?V=$+1:X=$}return V},right:function(b,D,V,X){for(arguments.length<3&&(V=0),arguments.length<4&&(X=b.length);V<X;){var $=V+X>>>1;i(b[$],D)>0?X=$:V=$+1}return V}}}var A=L(v);t.bisectLeft=A.left,t.bisect=t.bisectRight=A.right,t.bisector=function(i){return L(i.length===1?function(b,D){return v(i(b),D)}:i)},t.shuffle=function(i,b,D){(V=arguments.length)<3&&(D=i.length,V<2&&(b=0));for(var V=D-b,X,$;V;)$=Math.random()*V--|0,X=i[V+b],i[V+b]=i[$+b],i[$+b]=X;return i},t.permute=function(i,b){for(var D=b.length,V=new Array(D);D--;)V[D]=i[b[D]];return V},t.pairs=function(i){for(var b=0,D=i.length-1,V=i[0],X=new Array(D<0?0:D);b<D;)X[b]=[V,V=i[++b]];return X},t.transpose=function(i){if(!($=i.length))return[];for(var b=-1,D=t.min(i,M),V=new Array(D);++b<D;)for(var X=-1,$,he=V[b]=new Array($);++X<$;)he[X]=i[X][b];return V};function M(i){return i.length}t.zip=function(){return t.transpose(arguments)},t.keys=function(i){var b=[];for(var D in i)b.push(D);return b},t.values=function(i){var b=[];for(var D in i)b.push(i[D]);return b},t.entries=function(i){var b=[];for(var D in i)b.push({key:D,value:i[D]});return b},t.merge=function(i){for(var b=i.length,D,V=-1,X=0,$,he;++V<b;)X+=i[V].length;for($=new Array(X);--b>=0;)for(he=i[b],D=he.length;--D>=0;)$[--X]=he[D];return $};var p=Math.abs;t.range=function(i,b,D){if(arguments.length<3&&(D=1,arguments.length<2&&(b=i,i=0)),(b-i)/D===1/0)throw new Error("infinite range");var V=[],X=T(p(D)),$=-1,he;if(i*=X,b*=X,D*=X,D<0)for(;(he=i+D*++$)>b;)V.push(he/X);else for(;(he=i+D*++$)<b;)V.push(he/X);return V};function T(i){for(var b=1;i*b%1;)b*=10;return b}function d(i,b){for(var D in b)Object.defineProperty(i.prototype,D,{value:b[D],enumerable:!1})}t.map=function(i,b){var D=new x;if(i instanceof x)i.forEach(function(ue,ye){D.set(ue,ye)});else if(Array.isArray(i)){var V=-1,X=i.length,$;if(arguments.length===1)for(;++V<X;)D.set(V,i[V]);else for(;++V<X;)D.set(b.call(i,$=i[V],V),$)}else for(var he in i)D.set(he,i[he]);return D};function x(){this._=Object.create(null)}var C="__proto__",E="\0";d(x,{has:F,get:function(i){return this._[w(i)]},set:function(i,b){return this._[w(i)]=b},remove:k,keys:I,values:function(){var i=[];for(var b in this._)i.push(this._[b]);return i},entries:function(){var i=[];for(var b in this._)i.push({key:H(b),value:this._[b]});return i},size:U,empty:Q,forEach:function(i){for(var b in this._)i.call(this,H(b),this._[b])}});function w(i){return(i+="")===C||i[0]===E?E+i:i}function H(i){return(i+="")[0]===E?i.slice(1):i}function F(i){return w(i)in this._}function k(i){return(i=w(i))in this._&&delete this._[i]}function I(){var i=[];for(var b in this._)i.push(H(b));return i}function U(){var i=0;for(var b in this._)++i;return i}function Q(){for(var i in this._)return!1;return!0}t.nest=function(){var i={},b=[],D=[],V,X;function $(ue,ye,xe){if(xe>=b.length)return X?X.call(i,ye):V?ye.sort(V):ye;for(var _e=-1,Pe=ye.length,Ne=b[xe++],$e,ot,He,Ge=new x,Qe;++_e<Pe;)(Qe=Ge.get($e=Ne(ot=ye[_e])))?Qe.push(ot):Ge.set($e,[ot]);return ue?(ot=ue(),He=function(lt,ut){ot.set(lt,$(ue,ut,xe))}):(ot={},He=function(lt,ut){ot[lt]=$(ue,ut,xe)}),Ge.forEach(He),ot}function he(ue,ye){if(ye>=b.length)return ue;var xe=[],_e=D[ye++];return ue.forEach(function(Pe,Ne){xe.push({key:Pe,values:he(Ne,ye)})}),_e?xe.sort(function(Pe,Ne){return _e(Pe.key,Ne.key)}):xe}return i.map=function(ue,ye){return $(ye,ue,0)},i.entries=function(ue){return he($(t.map,ue,0),0)},i.key=function(ue){return b.push(ue),i},i.sortKeys=function(ue){return D[b.length-1]=ue,i},i.sortValues=function(ue){return V=ue,i},i.rollup=function(ue){return X=ue,i},i},t.set=function(i){var b=new J;if(i)for(var D=0,V=i.length;D<V;++D)b.add(i[D]);return b};function J(){this._=Object.create(null)}d(J,{has:F,add:function(i){return this._[w(i+="")]=!0,i},remove:k,values:I,size:U,empty:Q,forEach:function(i){for(var b in this._)i.call(this,H(b))}}),t.behavior={};function ee(i){return i}t.rebind=function(i,b){for(var D=1,V=arguments.length,X;++D<V;)i[X=arguments[D]]=R(i,b,b[X]);return i};function R(i,b,D){return function(){var V=D.apply(b,arguments);return V===b?i:V}}function G(i,b){if(b in i)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var D=0,V=B.length;D<V;++D){var X=B[D]+b;if(X in i)return X}}var B=["webkit","ms","moz","Moz","o","O"];function te(){}t.dispatch=function(){for(var i=new ne,b=-1,D=arguments.length;++b<D;)i[arguments[b]]=oe(i);return i};function ne(){}ne.prototype.on=function(i,b){var D=i.indexOf("."),V="";if(D>=0&&(V=i.slice(D+1),i=i.slice(0,D)),i)return arguments.length<2?this[i].on(V):this[i].on(V,b);if(arguments.length===2){if(b==null)for(i in this)this.hasOwnProperty(i)&&this[i].on(V,null);return this}};function oe(i){var b=[],D=new x;function V(){for(var X=b,$=-1,he=X.length,ue;++$<he;)(ue=X[$].on)&&ue.apply(this,arguments);return i}return V.on=function(X,$){var he=D.get(X),ue;return arguments.length<2?he&&he.on:(he&&(he.on=null,b=b.slice(0,ue=b.indexOf(he)).concat(b.slice(ue+1)),D.remove(X)),$&&b.push(D.set(X,{on:$})),i)},V}t.event=null;function me(){t.event.preventDefault()}function de(){for(var i=t.event,b;b=i.sourceEvent;)i=b;return i}function ie(i){for(var b=new ne,D=0,V=arguments.length;++D<V;)b[arguments[D]]=oe(b);return b.of=function(X,$){return function(he){try{var ue=he.sourceEvent=t.event;he.target=i,t.event=he,b[he.type].apply(X,$)}finally{t.event=ue}}},b}t.requote=function(i){return i.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,q={}.__proto__?function(i,b){i.__proto__=b}:function(i,b){for(var D in b)i[D]=b[D]};function K(i){return q(i,z),i}var g=function(i,b){return b.querySelector(i)},S=function(i,b){return b.querySelectorAll(i)},Y=function(i,b){var D=i.matches||i[G(i,"matchesSelector")];return Y=function(V,X){return D.call(V,X)},Y(i,b)};typeof Sizzle=="function"&&(g=function(i,b){return Sizzle(i,b)[0]||null},S=Sizzle,Y=Sizzle.matchesSelector),t.selection=function(){return t.select(a.documentElement)};var z=t.selection.prototype=[];z.select=function(i){var b=[],D,V,X,$;i=_(i);for(var he=-1,ue=this.length;++he<ue;){b.push(D=[]),D.parentNode=(X=this[he]).parentNode;for(var ye=-1,xe=X.length;++ye<xe;)($=X[ye])?(D.push(V=i.call($,$.__data__,ye,he)),V&&"__data__"in $&&(V.__data__=$.__data__)):D.push(null)}return K(b)};function _(i){return typeof i=="function"?i:function(){return g(i,this)}}z.selectAll=function(i){var b=[],D,V;i=O(i);for(var X=-1,$=this.length;++X<$;)for(var he=this[X],ue=-1,ye=he.length;++ue<ye;)(V=he[ue])&&(b.push(D=o(i.call(V,V.__data__,ue,X))),D.parentNode=V);return K(b)};function O(i){return typeof i=="function"?i:function(){return S(i,this)}}var N="http://www.w3.org/1999/xhtml",P={svg:"http://www.w3.org/2000/svg",xhtml:N,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};t.ns={prefix:P,qualify:function(i){var b=i.indexOf(":"),D=i;return b>=0&&(D=i.slice(0,b))!=="xmlns"&&(i=i.slice(b+1)),P.hasOwnProperty(D)?{space:P[D],local:i}:i}},z.attr=function(i,b){if(arguments.length<2){if(typeof i=="string"){var D=this.node();return i=t.ns.qualify(i),i.local?D.getAttributeNS(i.space,i.local):D.getAttribute(i)}for(b in i)this.each(j(b,i[b]));return this}return this.each(j(i,b))};function j(i,b){i=t.ns.qualify(i);function D(){this.removeAttribute(i)}function V(){this.removeAttributeNS(i.space,i.local)}function X(){this.setAttribute(i,b)}function $(){this.setAttributeNS(i.space,i.local,b)}function he(){var ye=b.apply(this,arguments);ye==null?this.removeAttribute(i):this.setAttribute(i,ye)}function ue(){var ye=b.apply(this,arguments);ye==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,ye)}return b==null?i.local?V:D:typeof b=="function"?i.local?ue:he:i.local?$:X}function se(i){return i.trim().replace(/\s+/g," ")}z.classed=function(i,b){if(arguments.length<2){if(typeof i=="string"){var D=this.node(),V=(i=fe(i)).length,X=-1;if(b=D.classList){for(;++X<V;)if(!b.contains(i[X]))return!1}else for(b=D.getAttribute("class");++X<V;)if(!ce(i[X]).test(b))return!1;return!0}for(b in i)this.each(pe(b,i[b]));return this}return this.each(pe(i,b))};function ce(i){return new RegExp("(?:^|\\s+)"+t.requote(i)+"(?:\\s+|$)","g")}function fe(i){return(i+"").trim().split(/^|\s+/)}function pe(i,b){i=fe(i).map(be);var D=i.length;function V(){for(var $=-1;++$<D;)i[$](this,b)}function X(){for(var $=-1,he=b.apply(this,arguments);++$<D;)i[$](this,he)}return typeof b=="function"?X:V}function be(i){var b=ce(i);return function(D,V){if(X=D.classList)return V?X.add(i):X.remove(i);var X=D.getAttribute("class")||"";V?(b.lastIndex=0,b.test(X)||D.setAttribute("class",se(X+" "+i))):D.setAttribute("class",se(X.replace(b," ")))}}z.style=function(i,b,D){var V=arguments.length;if(V<3){if(typeof i!="string"){V<2&&(b="");for(D in i)this.each(Re(D,i[D],b));return this}if(V<2){var X=this.node();return u(X).getComputedStyle(X,null).getPropertyValue(i)}D=""}return this.each(Re(i,b,D))};function Re(i,b,D){function V(){this.style.removeProperty(i)}function X(){this.style.setProperty(i,b,D)}function $(){var he=b.apply(this,arguments);he==null?this.style.removeProperty(i):this.style.setProperty(i,he,D)}return b==null?V:typeof b=="function"?$:X}z.property=function(i,b){if(arguments.length<2){if(typeof i=="string")return this.node()[i];for(b in i)this.each(ke(b,i[b]));return this}return this.each(ke(i,b))};function ke(i,b){function D(){delete this[i]}function V(){this[i]=b}function X(){var $=b.apply(this,arguments);$==null?delete this[i]:this[i]=$}return b==null?D:typeof b=="function"?X:V}z.text=function(i){return arguments.length?this.each(typeof i=="function"?function(){var b=i.apply(this,arguments);this.textContent=b==null?"":b}:i==null?function(){this.textContent=""}:function(){this.textContent=i}):this.node().textContent},z.html=function(i){return arguments.length?this.each(typeof i=="function"?function(){var b=i.apply(this,arguments);this.innerHTML=b==null?"":b}:i==null?function(){this.innerHTML=""}:function(){this.innerHTML=i}):this.node().innerHTML},z.append=function(i){return i=Oe(i),this.select(function(){return this.appendChild(i.apply(this,arguments))})};function Oe(i){function b(){var V=this.ownerDocument,X=this.namespaceURI;return X===N&&V.documentElement.namespaceURI===N?V.createElement(i):V.createElementNS(X,i)}function D(){return this.ownerDocument.createElementNS(i.space,i.local)}return typeof i=="function"?i:(i=t.ns.qualify(i)).local?D:b}z.insert=function(i,b){return i=Oe(i),b=_(b),this.select(function(){return this.insertBefore(i.apply(this,arguments),b.apply(this,arguments)||null)})},z.remove=function(){return this.each(Be)};function Be(){var i=this.parentNode;i&&i.removeChild(this)}z.data=function(i,b){var D=-1,V=this.length,X,$;if(!arguments.length){for(i=new Array(V=(X=this[0]).length);++D<V;)($=X[D])&&(i[D]=$.__data__);return i}function he(_e,Pe){var Ne,$e=_e.length,ot=Pe.length,He=Math.min($e,ot),Ge=new Array(ot),Qe=new Array(ot),lt=new Array($e),ut,Ke;if(b){var Nt=new x,Vt=new Array($e),Qt;for(Ne=-1;++Ne<$e;)(ut=_e[Ne])&&(Nt.has(Qt=b.call(ut,ut.__data__,Ne))?lt[Ne]=ut:Nt.set(Qt,ut),Vt[Ne]=Qt);for(Ne=-1;++Ne<ot;)(ut=Nt.get(Qt=b.call(Pe,Ke=Pe[Ne],Ne)))?ut!==!0&&(Ge[Ne]=ut,ut.__data__=Ke):Qe[Ne]=Ae(Ke),Nt.set(Qt,!0);for(Ne=-1;++Ne<$e;)Ne in Vt&&Nt.get(Vt[Ne])!==!0&&(lt[Ne]=_e[Ne])}else{for(Ne=-1;++Ne<He;)ut=_e[Ne],Ke=Pe[Ne],ut?(ut.__data__=Ke,Ge[Ne]=ut):Qe[Ne]=Ae(Ke);for(;Ne<ot;++Ne)Qe[Ne]=Ae(Pe[Ne]);for(;Ne<$e;++Ne)lt[Ne]=_e[Ne]}Qe.update=Ge,Qe.parentNode=Ge.parentNode=lt.parentNode=_e.parentNode,ue.push(Qe),ye.push(Ge),xe.push(lt)}var ue=xt([]),ye=K([]),xe=K([]);if(typeof i=="function")for(;++D<V;)he(X=this[D],i.call(X,X.parentNode.__data__,D));else for(;++D<V;)he(X=this[D],i);return ye.enter=function(){return ue},ye.exit=function(){return xe},ye};function Ae(i){return{__data__:i}}z.datum=function(i){return arguments.length?this.property("__data__",i):this.property("__data__")},z.filter=function(i){var b=[],D,V,X;typeof i!="function"&&(i=ge(i));for(var $=0,he=this.length;$<he;$++){b.push(D=[]),D.parentNode=(V=this[$]).parentNode;for(var ue=0,ye=V.length;ue<ye;ue++)(X=V[ue])&&i.call(X,X.__data__,ue,$)&&D.push(X)}return K(b)};function ge(i){return function(){return Y(this,i)}}z.order=function(){for(var i=-1,b=this.length;++i<b;)for(var D=this[i],V=D.length-1,X=D[V],$;--V>=0;)($=D[V])&&(X&&X!==$.nextSibling&&X.parentNode.insertBefore($,X),X=$);return this},z.sort=function(i){i=Ee.apply(this,arguments);for(var b=-1,D=this.length;++b<D;)this[b].sort(i);return this.order()};function Ee(i){return arguments.length||(i=v),function(b,D){return b&&D?i(b.__data__,D.__data__):!b-!D}}z.each=function(i){return Ve(this,function(b,D,V){i.call(b,b.__data__,D,V)})};function Ve(i,b){for(var D=0,V=i.length;D<V;D++)for(var X=i[D],$=0,he=X.length,ue;$<he;$++)(ue=X[$])&&b(ue,$,D);return i}z.call=function(i){var b=o(arguments);return i.apply(b[0]=this,b),this},z.empty=function(){return!this.node()},z.node=function(){for(var i=0,b=this.length;i<b;i++)for(var D=this[i],V=0,X=D.length;V<X;V++){var $=D[V];if($)return $}return null},z.size=function(){var i=0;return Ve(this,function(){++i}),i};function xt(i){return q(i,Ye),i}var Ye=[];t.selection.enter=xt,t.selection.enter.prototype=Ye,Ye.append=z.append,Ye.empty=z.empty,Ye.node=z.node,Ye.call=z.call,Ye.size=z.size,Ye.select=function(i){for(var b=[],D,V,X,$,he,ue=-1,ye=this.length;++ue<ye;){X=($=this[ue]).update,b.push(D=[]),D.parentNode=$.parentNode;for(var xe=-1,_e=$.length;++xe<_e;)(he=$[xe])?(D.push(X[xe]=V=i.call($.parentNode,he.__data__,xe,ue)),V.__data__=he.__data__):D.push(null)}return K(b)},Ye.insert=function(i,b){return arguments.length<2&&(b=Xe(this)),z.insert.call(this,i,b)};function Xe(i){var b,D;return function(V,X,$){var he=i[$].update,ue=he.length,ye;for($!=D&&(D=$,b=0),X>=b&&(b=X+1);!(ye=he[b])&&++b<ue;);return ye}}t.select=function(i){var b;return typeof i=="string"?(b=[g(i,a)],b.parentNode=a.documentElement):(b=[i],b.parentNode=e(i)),K([b])},t.selectAll=function(i){var b;return typeof i=="string"?(b=o(S(i,a)),b.parentNode=a.documentElement):(b=o(i),b.parentNode=null),K([b])},z.on=function(i,b,D){var V=arguments.length;if(V<3){if(typeof i!="string"){V<2&&(b=!1);for(D in i)this.each(Je(D,i[D],b));return this}if(V<2)return(V=this.node()["__on"+i])&&V._;D=!1}return this.each(Je(i,b,D))};function Je(i,b,D){var V="__on"+i,X=i.indexOf("."),$=yt;X>0&&(i=i.slice(0,X));var he=ft.get(i);he&&(i=he,$=At);function ue(){var _e=this[V];_e&&(this.removeEventListener(i,_e,_e.$),delete this[V])}function ye(){var _e=$(b,o(arguments));ue.call(this),this.addEventListener(i,this[V]=_e,_e.$=D),_e._=b}function xe(){var _e=new RegExp("^__on([^.]+)"+t.requote(i)+"$"),Pe;for(var Ne in this)if(Pe=Ne.match(_e)){var $e=this[Ne];this.removeEventListener(Pe[1],$e,$e.$),delete this[Ne]}}return X?b?ye:ue:b?te:xe}var ft=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});a&&ft.forEach(function(i){"on"+i in a&&ft.remove(i)});function yt(i,b){return function(D){var V=t.event;t.event=D,b[0]=this.__data__;try{i.apply(this,b)}finally{t.event=V}}}function At(i,b){var D=yt(i,b);return function(V){var X=this,$=V.relatedTarget;(!$||$!==X&&!($.compareDocumentPosition(X)&8))&&D.call(X,V)}}var qe,mt=0;function st(i){var b=".dragsuppress-"+ ++mt,D="click"+b,V=t.select(u(i)).on("touchmove"+b,me).on("dragstart"+b,me).on("selectstart"+b,me);if(qe==null&&(qe="onselectstart"in i?!1:G(i.style,"userSelect")),qe){var X=e(i).style,$=X[qe];X[qe]="none"}return function(he){if(V.on(b,null),qe&&(X[qe]=$),he){var ue=function(){V.on(D,null)};V.on(D,function(){me(),ue()},!0),setTimeout(ue,0)}}}t.mouse=function(i){return Ct(i,de())};var gt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ct(i,b){b.changedTouches&&(b=b.changedTouches[0]);var D=i.ownerSVGElement||i;if(D.createSVGPoint){var V=D.createSVGPoint();if(gt<0){var X=u(i);if(X.scrollX||X.scrollY){D=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var $=D[0][0].getScreenCTM();gt=!($.f||$.e),D.remove()}}return gt?(V.x=b.pageX,V.y=b.pageY):(V.x=b.clientX,V.y=b.clientY),V=V.matrixTransform(i.getScreenCTM().inverse()),[V.x,V.y]}var he=i.getBoundingClientRect();return[b.clientX-he.left-i.clientLeft,b.clientY-he.top-i.clientTop]}t.touch=function(i,b,D){if(arguments.length<3&&(D=b,b=de().changedTouches),b){for(var V=0,X=b.length,$;V<X;++V)if(($=b[V]).identifier===D)return Ct(i,$)}},t.behavior.drag=function(){var i=ie(X,"drag","dragstart","dragend"),b=null,D=$(te,t.mouse,u,"mousemove","mouseup"),V=$(Ce,t.touch,ee,"touchmove","touchend");function X(){this.on("mousedown.drag",D).on("touchstart.drag",V)}function $(he,ue,ye,xe,_e){return function(){var Pe=this,Ne=t.event.target.correspondingElement||t.event.target,$e=Pe.parentNode,ot=i.of(Pe,arguments),He=0,Ge=he(),Qe=".drag"+(Ge==null?"":"-"+Ge),lt,ut=t.select(ye(Ne)).on(xe+Qe,Vt).on(_e+Qe,Qt),Ke=st(Ne),Nt=ue($e,Ge);b?(lt=b.apply(Pe,arguments),lt=[lt.x-Nt[0],lt.y-Nt[1]]):lt=[0,0],ot({type:"dragstart"});function Vt(){var Zt=ue($e,Ge),qt,er;!Zt||(qt=Zt[0]-Nt[0],er=Zt[1]-Nt[1],He|=qt|er,Nt=Zt,ot({type:"drag",x:Zt[0]+lt[0],y:Zt[1]+lt[1],dx:qt,dy:er}))}function Qt(){!ue($e,Ge)||(ut.on(xe+Qe,null).on(_e+Qe,null),Ke(He),ot({type:"dragend"}))}}}return X.origin=function(he){return arguments.length?(b=he,X):b},t.rebind(X,i,"on")};function Ce(){return t.event.changedTouches[0].identifier}t.touches=function(i,b){return arguments.length<2&&(b=de().touches),b?o(b).map(function(D){var V=Ct(i,D);return V.identifier=D.identifier,V}):[]};var ze=1e-6,et=ze*ze,ve=Math.PI,we=2*ve,Me=we-ze,De=ve/2,je=ve/180,We=180/ve;function ht(i,b,D){return(b[0]-i[0])*(D[1]-i[1])-(b[1]-i[1])*(D[0]-i[0])}function vt(i){return i>1?De:i<-1?-De:Math.asin(i)}function it(i){return((i=Math.exp(i))-1/i)/2}function Ze(i){return((i=Math.exp(i))+1/i)/2}function _t(i){return((i=Math.exp(2*i))-1)/(i+1)}var Lt=Math.SQRT2,wt=2,Gt=4;t.interpolateZoom=function(i,b){var D=i[0],V=i[1],X=i[2],$=b[0],he=b[1],ue=b[2],ye=$-D,xe=he-V,_e=ye*ye+xe*xe,Pe,Ne;if(_e<et)Ne=Math.log(ue/X)/Lt,Pe=function(lt){return[D+lt*ye,V+lt*xe,X*Math.exp(Lt*lt*Ne)]};else{var $e=Math.sqrt(_e),ot=(ue*ue-X*X+Gt*_e)/(2*X*wt*$e),He=(ue*ue-X*X-Gt*_e)/(2*ue*wt*$e),Ge=Math.log(Math.sqrt(ot*ot+1)-ot),Qe=Math.log(Math.sqrt(He*He+1)-He);Ne=(Qe-Ge)/Lt,Pe=function(lt){var ut=lt*Ne,Ke=Ze(Ge),Nt=X/(wt*$e)*(Ke*_t(Lt*ut+Ge)-it(Ge));return[D+Nt*ye,V+Nt*xe,X*Ke/Ze(Lt*ut+Ge)]}}return Pe.duration=Ne*1e3,Pe},t.behavior.zoom=function(){var i={x:0,y:0,k:1},b,D,V,X=[960,500],$=Kt,he=250,ue=0,ye="mousedown.zoom",xe="mousemove.zoom",_e="mouseup.zoom",Pe,Ne="touchstart.zoom",$e,ot=ie(ut,"zoomstart","zoom","zoomend"),He,Ge,Qe,lt;It||(It="onwheel"in a?($t=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in a?($t=function(){return t.event.wheelDelta},"mousewheel"):($t=function(){return-t.event.detail},"MozMousePixelScroll"));function ut(Ut){Ut.on(ye,or).on(It+".zoom",Mr).on("dblclick.zoom",pr).on(Ne,cr)}ut.event=function(Ut){Ut.each(function(){var ur=ot.of(this,arguments),fr=i;ca?t.select(this).transition().each("start.zoom",function(){i=this.__chart__||{x:0,y:0,k:1},er(ur)}).tween("zoom:zoom",function(){var vr=X[0],gr=X[1],Cr=D?D[0]:vr/2,Er=D?D[1]:gr/2,zr=t.interpolateZoom([(Cr-i.x)/i.k,(Er-i.y)/i.k,vr/i.k],[(Cr-fr.x)/fr.k,(Er-fr.y)/fr.k,vr/fr.k]);return function(Ir){var Fr=zr(Ir),Or=vr/Fr[2];this.__chart__=i={x:Cr-Fr[0]*Or,y:Er-Fr[1]*Or,k:Or},sr(ur)}}).each("interrupt.zoom",function(){ar(ur)}).each("end.zoom",function(){ar(ur)}):(this.__chart__=i,er(ur),sr(ur),ar(ur))})},ut.translate=function(Ut){return arguments.length?(i={x:+Ut[0],y:+Ut[1],k:i.k},qt(),ut):[i.x,i.y]},ut.scale=function(Ut){return arguments.length?(i={x:i.x,y:i.y,k:null},Vt(+Ut),qt(),ut):i.k},ut.scaleExtent=function(Ut){return arguments.length?($=Ut==null?Kt:[+Ut[0],+Ut[1]],ut):$},ut.center=function(Ut){return arguments.length?(V=Ut&&[+Ut[0],+Ut[1]],ut):V},ut.size=function(Ut){return arguments.length?(X=Ut&&[+Ut[0],+Ut[1]],ut):X},ut.duration=function(Ut){return arguments.length?(he=+Ut,ut):he},ut.x=function(Ut){return arguments.length?(Ge=Ut,He=Ut.copy(),i={x:0,y:0,k:1},ut):Ge},ut.y=function(Ut){return arguments.length?(lt=Ut,Qe=Ut.copy(),i={x:0,y:0,k:1},ut):lt};function Ke(Ut){return[(Ut[0]-i.x)/i.k,(Ut[1]-i.y)/i.k]}function Nt(Ut){return[Ut[0]*i.k+i.x,Ut[1]*i.k+i.y]}function Vt(Ut){i.k=Math.max($[0],Math.min($[1],Ut))}function Qt(Ut,ur){ur=Nt(ur),i.x+=Ut[0]-ur[0],i.y+=Ut[1]-ur[1]}function Zt(Ut,ur,fr,vr){Ut.__chart__={x:i.x,y:i.y,k:i.k},Vt(Math.pow(2,vr)),Qt(D=ur,fr),Ut=t.select(Ut),he>0&&(Ut=Ut.transition().duration(he)),Ut.call(ut.event)}function qt(){Ge&&Ge.domain(He.range().map(function(Ut){return(Ut-i.x)/i.k}).map(He.invert)),lt&&lt.domain(Qe.range().map(function(Ut){return(Ut-i.y)/i.k}).map(Qe.invert))}function er(Ut){ue++||Ut({type:"zoomstart"})}function sr(Ut){qt(),Ut({type:"zoom",scale:i.k,translate:[i.x,i.y]})}function ar(Ut){--ue||(Ut({type:"zoomend"}),D=null)}function or(){var Ut=this,ur=ot.of(Ut,arguments),fr=0,vr=t.select(u(Ut)).on(xe,Er).on(_e,zr),gr=Ke(t.mouse(Ut)),Cr=st(Ut);Ga.call(Ut),er(ur);function Er(){fr=1,Qt(t.mouse(Ut),gr),sr(ur)}function zr(){vr.on(xe,null).on(_e,null),Cr(fr),ar(ur)}}function cr(){var Ut=this,ur=ot.of(Ut,arguments),fr={},vr=0,gr,Cr=".zoom-"+t.event.changedTouches[0].identifier,Er="touchmove"+Cr,zr="touchend"+Cr,Ir=[],Fr=t.select(Ut),Or=st(Ut);Br(),er(ur),Fr.on(ye,null).on(Ne,Br);function Nr(){var Qr=t.touches(Ut);return gr=i.k,Qr.forEach(function(Pr){Pr.identifier in fr&&(fr[Pr.identifier]=Ke(Pr))}),Qr}function Br(){var Qr=t.event.target;t.select(Qr).on(Er,va).on(zr,dl),Ir.push(Qr);for(var Pr=t.event.changedTouches,Wr=0,$r=Pr.length;Wr<$r;++Wr)fr[Pr[Wr].identifier]=null;var Zr=Nr(),ga=Date.now();if(Zr.length===1){if(ga-$e<500){var ha=Zr[0];Zt(Ut,ha,fr[ha.identifier],Math.floor(Math.log(i.k)/Math.LN2)+1),me()}$e=ga}else if(Zr.length>1){var ha=Zr[0],sa=Zr[1],Za=ha[0]-sa[0],_i=ha[1]-sa[1];vr=Za*Za+_i*_i}}function va(){var Qr=t.touches(Ut),Pr,Wr,$r,Zr;Ga.call(Ut);for(var ga=0,ha=Qr.length;ga<ha;++ga,Zr=null)if($r=Qr[ga],Zr=fr[$r.identifier]){if(Wr)break;Pr=$r,Wr=Zr}if(Zr){var sa=(sa=$r[0]-Pr[0])*sa+(sa=$r[1]-Pr[1])*sa,Za=vr&&Math.sqrt(sa/vr);Pr=[(Pr[0]+$r[0])/2,(Pr[1]+$r[1])/2],Wr=[(Wr[0]+Zr[0])/2,(Wr[1]+Zr[1])/2],Vt(Za*gr)}$e=null,Qt(Pr,Wr),sr(ur)}function dl(){if(t.event.touches.length){for(var Qr=t.event.changedTouches,Pr=0,Wr=Qr.length;Pr<Wr;++Pr)delete fr[Qr[Pr].identifier];for(var $r in fr)return void Nr()}t.selectAll(Ir).on(Cr,null),Fr.on(ye,or).on(Ne,cr),Or(),ar(ur)}}function Mr(){var Ut=ot.of(this,arguments);Pe?clearTimeout(Pe):(Ga.call(this),b=Ke(D=V||t.mouse(this)),er(Ut)),Pe=setTimeout(function(){Pe=null,ar(Ut)},50),me(),Vt(Math.pow(2,$t()*.002)*i.k),Qt(D,b),sr(Ut)}function pr(){var Ut=t.mouse(this),ur=Math.log(i.k)/Math.LN2;Zt(this,Ut,Ke(Ut),t.event.shiftKey?Math.ceil(ur)-1:Math.floor(ur)+1)}return t.rebind(ut,ot,"on")};var Kt=[0,1/0],$t,It;t.color=Bt;function Bt(){}Bt.prototype.toString=function(){return this.rgb()+""},t.hsl=zt;function zt(i,b,D){return this instanceof zt?(this.h=+i,this.s=+b,void(this.l=+D)):arguments.length<2?i instanceof zt?new zt(i.h,i.s,i.l):kt(""+i,Rt,zt):new zt(i,b,D)}var ct=zt.prototype=new Bt;ct.brighter=function(i){return i=Math.pow(.7,arguments.length?i:1),new zt(this.h,this.s,this.l/i)},ct.darker=function(i){return i=Math.pow(.7,arguments.length?i:1),new zt(this.h,this.s,i*this.l)},ct.rgb=function(){return Wt(this.h,this.s,this.l)};function Wt(i,b,D){var V,X;i=isNaN(i)?0:(i%=360)<0?i+360:i,b=isNaN(b)||b<0?0:b>1?1:b,D=D<0?0:D>1?1:D,X=D<=.5?D*(1+b):D+b-D*b,V=2*D-X;function $(ue){return ue>360?ue-=360:ue<0&&(ue+=360),ue<60?V+(X-V)*ue/60:ue<180?X:ue<240?V+(X-V)*(240-ue)/60:V}function he(ue){return Math.round($(ue)*255)}return new bt(he(i+120),he(i),he(i-120))}t.hcl=Ot;function Ot(i,b,D){return this instanceof Ot?(this.h=+i,this.c=+b,void(this.l=+D)):arguments.length<2?i instanceof Ot?new Ot(i.h,i.c,i.l):i instanceof St?Ie(i.l,i.a,i.b):Ie((i=nt((i=t.rgb(i)).r,i.g,i.b)).l,i.a,i.b):new Ot(i,b,D)}var Jt=Ot.prototype=new Bt;Jt.brighter=function(i){return new Ot(this.h,this.c,Math.min(100,this.l+le*(arguments.length?i:1)))},Jt.darker=function(i){return new Ot(this.h,this.c,Math.max(0,this.l-le*(arguments.length?i:1)))},Jt.rgb=function(){return jt(this.h,this.c,this.l).rgb()};function jt(i,b,D){return isNaN(i)&&(i=0),isNaN(b)&&(b=0),new St(D,Math.cos(i*=je)*b,Math.sin(i)*b)}t.lab=St;function St(i,b,D){return this instanceof St?(this.l=+i,this.a=+b,void(this.b=+D)):arguments.length<2?i instanceof St?new St(i.l,i.a,i.b):i instanceof Ot?jt(i.h,i.c,i.l):nt((i=bt(i)).r,i.g,i.b):new St(i,b,D)}var le=18,re=.95047,Le=1,Te=1.08883,Se=St.prototype=new Bt;Se.brighter=function(i){return new St(Math.min(100,this.l+le*(arguments.length?i:1)),this.a,this.b)},Se.darker=function(i){return new St(Math.max(0,this.l-le*(arguments.length?i:1)),this.a,this.b)},Se.rgb=function(){return Fe(this.l,this.a,this.b)};function Fe(i,b,D){var V=(i+16)/116,X=V+b/500,$=V-D/200;return X=Ue(X)*re,V=Ue(V)*Le,$=Ue($)*Te,new bt(at(3.2404542*X-1.5371385*V-.4985314*$),at(-.969266*X+1.8760108*V+.041556*$),at(.0556434*X-.2040259*V+1.0572252*$))}function Ie(i,b,D){return i>0?new Ot(Math.atan2(D,b)*We,Math.sqrt(b*b+D*D),i):new Ot(NaN,NaN,i)}function Ue(i){return i>.206893034?i*i*i:(i-4/29)/7.787037}function tt(i){return i>.008856?Math.pow(i,1/3):7.787037*i+4/29}function at(i){return Math.round(255*(i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055))}t.rgb=bt;function bt(i,b,D){return this instanceof bt?(this.r=~~i,this.g=~~b,void(this.b=~~D)):arguments.length<2?i instanceof bt?new bt(i.r,i.g,i.b):kt(""+i,bt,Wt):new bt(i,b,D)}function Tt(i){return new bt(i>>16,i>>8&255,i&255)}function Ft(i){return Tt(i)+""}var dt=bt.prototype=new Bt;dt.brighter=function(i){i=Math.pow(.7,arguments.length?i:1);var b=this.r,D=this.g,V=this.b,X=30;return!b&&!D&&!V?new bt(X,X,X):(b&&b<X&&(b=X),D&&D<X&&(D=X),V&&V<X&&(V=X),new bt(Math.min(255,b/i),Math.min(255,D/i),Math.min(255,V/i)))},dt.darker=function(i){return i=Math.pow(.7,arguments.length?i:1),new bt(i*this.r,i*this.g,i*this.b)},dt.hsl=function(){return Rt(this.r,this.g,this.b)},dt.toString=function(){return"#"+rt(this.r)+rt(this.g)+rt(this.b)};function rt(i){return i<16?"0"+Math.max(0,i).toString(16):Math.min(255,i).toString(16)}function kt(i,b,D){var V=0,X=0,$=0,he,ue,ye;if(he=/([a-z]+)\((.*)\)/.exec(i=i.toLowerCase()),he)switch(ue=he[2].split(","),he[1]){case"hsl":return D(parseFloat(ue[0]),parseFloat(ue[1])/100,parseFloat(ue[2])/100);case"rgb":return b(Et(ue[0]),Et(ue[1]),Et(ue[2]))}return(ye=pt.get(i))?b(ye.r,ye.g,ye.b):(i!=null&&i.charAt(0)==="#"&&!isNaN(ye=parseInt(i.slice(1),16))&&(i.length===4?(V=(ye&3840)>>4,V=V>>4|V,X=ye&240,X=X>>4|X,$=ye&15,$=$<<4|$):i.length===7&&(V=(ye&16711680)>>16,X=(ye&65280)>>8,$=ye&255)),b(V,X,$))}function Rt(i,b,D){var V=Math.min(i/=255,b/=255,D/=255),X=Math.max(i,b,D),$=X-V,he,ue,ye=(X+V)/2;return $?(ue=ye<.5?$/(X+V):$/(2-X-V),i==X?he=(b-D)/$+(b<D?6:0):b==X?he=(D-i)/$+2:he=(i-b)/$+4,he*=60):(he=NaN,ue=ye>0&&ye<1?0:he),new zt(he,ue,ye)}function nt(i,b,D){i=Mt(i),b=Mt(b),D=Mt(D);var V=tt((.4124564*i+.3575761*b+.1804375*D)/re),X=tt((.2126729*i+.7151522*b+.072175*D)/Le),$=tt((.0193339*i+.119192*b+.9503041*D)/Te);return St(116*X-16,500*(V-X),200*(X-$))}function Mt(i){return(i/=255)<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function Et(i){var b=parseFloat(i);return i.charAt(i.length-1)==="%"?Math.round(b*2.55):b}var pt=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pt.forEach(function(i,b){pt.set(i,Tt(b))});function Dt(i){return typeof i=="function"?i:function(){return i}}t.functor=Dt,t.xhr=Ht(ee);function Ht(i){return function(b,D,V){return arguments.length===2&&typeof D=="function"&&(V=D,D=null),Yt(b,D,i,V)}}function Yt(i,b,D,V){var X={},$=t.dispatch("beforesend","progress","load","error"),he={},ue=new XMLHttpRequest,ye=null;self.XDomainRequest&&!("withCredentials"in ue)&&/^(http(s)?:)?\/\//.test(i)&&(ue=new XDomainRequest),"onload"in ue?ue.onload=ue.onerror=xe:ue.onreadystatechange=function(){ue.readyState>3&&xe()};function xe(){var _e=ue.status,Pe;if(!_e&&nr(ue)||_e>=200&&_e<300||_e===304){try{Pe=D.call(X,ue)}catch(Ne){$.error.call(X,Ne);return}$.load.call(X,Pe)}else $.error.call(X,ue)}return ue.onprogress=function(_e){var Pe=t.event;t.event=_e;try{$.progress.call(X,ue)}finally{t.event=Pe}},X.header=function(_e,Pe){return _e=(_e+"").toLowerCase(),arguments.length<2?he[_e]:(Pe==null?delete he[_e]:he[_e]=Pe+"",X)},X.mimeType=function(_e){return arguments.length?(b=_e==null?null:_e+"",X):b},X.responseType=function(_e){return arguments.length?(ye=_e,X):ye},X.response=function(_e){return D=_e,X},["get","post"].forEach(function(_e){X[_e]=function(){return X.send.apply(X,[_e].concat(o(arguments)))}}),X.send=function(_e,Pe,Ne){if(arguments.length===2&&typeof Pe=="function"&&(Ne=Pe,Pe=null),ue.open(_e,i,!0),b!=null&&!("accept"in he)&&(he.accept=b+",*/*"),ue.setRequestHeader)for(var $e in he)ue.setRequestHeader($e,he[$e]);return b!=null&&ue.overrideMimeType&&ue.overrideMimeType(b),ye!=null&&(ue.responseType=ye),Ne!=null&&X.on("error",Ne).on("load",function(ot){Ne(null,ot)}),$.beforesend.call(X,ue),ue.send(Pe==null?null:Pe),X},X.abort=function(){return ue.abort(),X},t.rebind(X,$,"on"),V==null?X:X.get(Pt(V))}function Pt(i){return i.length===1?function(b,D){i(b==null?D:null)}:i}function nr(i){var b=i.responseType;return b&&b!=="text"?i.response:i.responseText}t.dsv=function(i,b){var D=new RegExp('["'+i+`
]`),V=i.charCodeAt(0);function X(xe,_e,Pe){arguments.length<3&&(Pe=_e,_e=null);var Ne=Yt(xe,b,_e==null?$:he(_e),Pe);return Ne.row=function($e){return arguments.length?Ne.response((_e=$e)==null?$:he($e)):_e},Ne}function $(xe){return X.parse(xe.responseText)}function he(xe){return function(_e){return X.parse(_e.responseText,xe)}}X.parse=function(xe,_e){var Pe;return X.parseRows(xe,function(Ne,$e){if(Pe)return Pe(Ne,$e-1);var ot=function(He){for(var Ge={},Qe=Ne.length,lt=0;lt<Qe;++lt)Ge[Ne[lt]]=He[lt];return Ge};Pe=_e?function(He,Ge){return _e(ot(He),Ge)}:ot})},X.parseRows=function(xe,_e){var Pe={},Ne={},$e=[],ot=xe.length,He=0,Ge=0,Qe,lt;function ut(){if(He>=ot)return Ne;if(lt)return lt=!1,Pe;var Nt=He;if(xe.charCodeAt(Nt)===34){for(var Vt=Nt;Vt++<ot;)if(xe.charCodeAt(Vt)===34){if(xe.charCodeAt(Vt+1)!==34)break;++Vt}He=Vt+2;var Qt=xe.charCodeAt(Vt+1);return Qt===13?(lt=!0,xe.charCodeAt(Vt+2)===10&&++He):Qt===10&&(lt=!0),xe.slice(Nt+1,Vt).replace(/""/g,'"')}for(;He<ot;){var Qt=xe.charCodeAt(He++),Zt=1;if(Qt===10)lt=!0;else if(Qt===13)lt=!0,xe.charCodeAt(He)===10&&(++He,++Zt);else if(Qt!==V)continue;return xe.slice(Nt,He-Zt)}return xe.slice(Nt)}for(;(Qe=ut())!==Ne;){for(var Ke=[];Qe!==Pe&&Qe!==Ne;)Ke.push(Qe),Qe=ut();_e&&(Ke=_e(Ke,Ge++))==null||$e.push(Ke)}return $e},X.format=function(xe){if(Array.isArray(xe[0]))return X.formatRows(xe);var _e=new J,Pe=[];return xe.forEach(function(Ne){for(var $e in Ne)_e.has($e)||Pe.push(_e.add($e))}),[Pe.map(ye).join(i)].concat(xe.map(function(Ne){return Pe.map(function($e){return ye(Ne[$e])}).join(i)})).join(`
`)},X.formatRows=function(xe){return xe.map(ue).join(`
`)};function ue(xe){return xe.map(ye).join(i)}function ye(xe){return D.test(xe)?'"'+xe.replace(/\"/g,'""')+'"':xe}return X},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("	","text/tab-separated-values");var lr,Xt,tr,rr,ir=this[G(this,"requestAnimationFrame")]||function(i){setTimeout(i,17)};t.timer=function(){hr.apply(this,arguments)};function hr(i,b,D){var V=arguments.length;V<2&&(b=0),V<3&&(D=Date.now());var X=D+b,$={c:i,t:X,n:null};return Xt?Xt.n=$:lr=$,Xt=$,tr||(rr=clearTimeout(rr),tr=1,ir(mr)),$}function mr(){var i=dr(),b=br()-i;b>24?(isFinite(b)&&(clearTimeout(rr),rr=setTimeout(mr,b)),tr=0):(tr=1,ir(mr))}t.timer.flush=function(){dr(),br()};function dr(){for(var i=Date.now(),b=lr;b;)i>=b.t&&b.c(i-b.t)&&(b.c=null),b=b.n;return i}function br(){for(var i,b=lr,D=1/0;b;)b.c?(b.t<D&&(D=b.t),b=(i=b).n):b=i?i.n=b.n:lr=b.n;return Xt=i,D}t.round=function(i,b){return b?Math.round(i*(b=Math.pow(10,b)))/b:Math.round(i)},t.geom={};function _r(i){return i[0]}function wr(i){return i[1]}t.geom.hull=function(i){var b=_r,D=wr;if(arguments.length)return V(i);function V(X){if(X.length<3)return[];var $=Dt(b),he=Dt(D),ue,ye=X.length,xe=[],_e=[];for(ue=0;ue<ye;ue++)xe.push([+$.call(this,X[ue],ue),+he.call(this,X[ue],ue),ue]);for(xe.sort(Sr),ue=0;ue<ye;ue++)_e.push([xe[ue][0],-xe[ue][1]]);var Pe=xr(xe),Ne=xr(_e),$e=Ne[0]===Pe[0],ot=Ne[Ne.length-1]===Pe[Pe.length-1],He=[];for(ue=Pe.length-1;ue>=0;--ue)He.push(X[xe[Pe[ue]][2]]);for(ue=+$e;ue<Ne.length-ot;++ue)He.push(X[xe[Ne[ue]][2]]);return He}return V.x=function(X){return arguments.length?(b=X,V):b},V.y=function(X){return arguments.length?(D=X,V):D},V};function xr(i){for(var b=i.length,D=[0,1],V=2,X=2;X<b;X++){for(;V>1&&ht(i[D[V-2]],i[D[V-1]],i[X])<=0;)--V;D[V++]=X}return D.slice(0,V)}function Sr(i,b){return i[0]-b[0]||i[1]-b[1]}t.geom.polygon=function(i){return q(i,Dr),i};var Dr=t.geom.polygon.prototype=[];Dr.area=function(){for(var i=-1,b=this.length,D,V=this[b-1],X=0;++i<b;)D=V,V=this[i],X+=D[1]*V[0]-D[0]*V[1];return X*.5},Dr.centroid=function(i){var b=-1,D=this.length,V=0,X=0,$,he=this[D-1],ue;for(arguments.length||(i=-1/(6*this.area()));++b<D;)$=he,he=this[b],ue=$[0]*he[1]-he[0]*$[1],V+=($[0]+he[0])*ue,X+=($[1]+he[1])*ue;return[V*i,X*i]},Dr.clip=function(i){for(var b,D=qr(i),V=-1,X=this.length-qr(this),$,he,ue=this[X-1],ye,xe,_e;++V<X;){for(b=i.slice(),i.length=0,ye=this[V],xe=b[(he=b.length-D)-1],$=-1;++$<he;)_e=b[$],yr(_e,ue,ye)?(yr(xe,ue,ye)||i.push(na(xe,_e,ue,ye)),i.push(_e)):yr(xe,ue,ye)&&i.push(na(xe,_e,ue,ye)),xe=_e;D&&i.push(i[0]),ue=ye}return i};function yr(i,b,D){return(D[0]-b[0])*(i[1]-b[1])<(D[1]-b[1])*(i[0]-b[0])}function na(i,b,D,V){var X=i[0],$=D[0],he=b[0]-X,ue=V[0]-$,ye=i[1],xe=D[1],_e=b[1]-ye,Pe=V[1]-xe,Ne=(ue*(ye-xe)-Pe*(X-$))/(Pe*he-ue*_e);return[X+Ne*he,ye+Ne*_e]}function qr(i){var b=i[0],D=i[i.length-1];return!(b[0]-D[0]||b[1]-D[1])}var Hr,Yr,Xr,Kr=[],Ur,Ar,pa=[];function ia(){Ea(this),this.edge=this.site=this.circle=null}function Tr(i){var b=Kr.pop()||new ia;return b.site=i,b}function Gr(i){ra(i),Xr.remove(i),Kr.push(i),Ea(i)}function ma(i){var b=i.circle,D=b.x,V=b.cy,X={x:D,y:V},$=i.P,he=i.N,ue=[i];Gr(i);for(var ye=$;ye.circle&&p(D-ye.circle.x)<ze&&p(V-ye.circle.cy)<ze;)$=ye.P,ue.unshift(ye),Gr(ye),ye=$;ue.unshift(ye),ra(ye);for(var xe=he;xe.circle&&p(D-xe.circle.x)<ze&&p(V-xe.circle.cy)<ze;)he=xe.N,ue.push(xe),Gr(xe),xe=he;ue.push(xe),ra(xe);var _e=ue.length,Pe;for(Pe=1;Pe<_e;++Pe)xe=ue[Pe],ye=ue[Pe-1],Da(xe.edge,ye.site,xe.site,X);ye=ue[0],xe=ue[_e-1],xe.edge=ba(ye.site,xe.site,null,X),ta(ye),ta(xe)}function ua(i){for(var b=i.x,D=i.y,V,X,$,he,ue=Xr._;ue;)if($=Lr(ue,D)-b,$>ze)ue=ue.L;else if(he=b-Rr(ue,D),he>ze){if(!ue.R){V=ue;break}ue=ue.R}else{$>-ze?(V=ue.P,X=ue):he>-ze?(V=ue,X=ue.N):V=X=ue;break}var ye=Tr(i);if(Xr.insert(V,ye),!(!V&&!X)){if(V===X){ra(V),X=Tr(V.site),Xr.insert(ye,X),ye.edge=X.edge=ba(V.site,ye.site),ta(V),ta(X);return}if(!X){ye.edge=ba(V.site,ye.site);return}ra(V),ra(X);var xe=V.site,_e=xe.x,Pe=xe.y,Ne=i.x-_e,$e=i.y-Pe,ot=X.site,He=ot.x-_e,Ge=ot.y-Pe,Qe=2*(Ne*Ge-$e*He),lt=Ne*Ne+$e*$e,ut=He*He+Ge*Ge,Ke={x:(Ge*lt-$e*ut)/Qe+_e,y:(Ne*ut-He*lt)/Qe+Pe};Da(X.edge,xe,ot,Ke),ye.edge=ba(xe,i,null,Ke),X.edge=ba(i,ot,null,Ke),ta(V),ta(X)}}function Lr(i,b){var D=i.site,V=D.x,X=D.y,$=X-b;if(!$)return V;var he=i.P;if(!he)return-1/0;D=he.site;var ue=D.x,ye=D.y,xe=ye-b;if(!xe)return ue;var _e=ue-V,Pe=1/$-1/xe,Ne=_e/xe;return Pe?(-Ne+Math.sqrt(Ne*Ne-2*Pe*(_e*_e/(-2*xe)-ye+xe/2+X-$/2)))/Pe+V:(V+ue)/2}function Rr(i,b){var D=i.N;if(D)return Lr(D,b);var V=i.site;return V.y===b?V.x:1/0}function ea(i){this.site=i,this.edges=[]}ea.prototype.prepare=function(){for(var i=this.edges,b=i.length,D;b--;)D=i[b].edge,(!D.b||!D.a)&&i.splice(b,1);return i.sort(oa),i.length};function Ca(i){for(var b=i[0][0],D=i[1][0],V=i[0][1],X=i[1][1],$,he,ue,ye,xe=Yr,_e=xe.length,Pe,Ne,$e,ot,He,Ge;_e--;)if(Pe=xe[_e],!(!Pe||!Pe.prepare()))for($e=Pe.edges,ot=$e.length,Ne=0;Ne<ot;)Ge=$e[Ne].end(),ue=Ge.x,ye=Ge.y,He=$e[++Ne%ot].start(),$=He.x,he=He.y,(p(ue-$)>ze||p(ye-he)>ze)&&($e.splice(Ne,0,new Ra(Ci(Pe.site,Ge,p(ue-b)<ze&&X-ye>ze?{x:b,y:p($-b)<ze?he:X}:p(ye-X)<ze&&D-ue>ze?{x:p(he-X)<ze?$:D,y:X}:p(ue-D)<ze&&ye-V>ze?{x:D,y:p($-D)<ze?he:V}:p(ye-V)<ze&&ue-b>ze?{x:p(he-V)<ze?$:b,y:V}:null),Pe.site,null)),++ot)}function oa(i,b){return b.angle-i.angle}function La(){Ea(this),this.x=this.y=this.arc=this.site=this.cy=null}function ta(i){var b=i.P,D=i.N;if(!(!b||!D)){var V=b.site,X=i.site,$=D.site;if(V!==$){var he=X.x,ue=X.y,ye=V.x-he,xe=V.y-ue,_e=$.x-he,Ge=$.y-ue,Pe=2*(ye*Ge-xe*_e);if(!(Pe>=-et)){var Ne=ye*ye+xe*xe,$e=_e*_e+Ge*Ge,ot=(Ge*Ne-xe*$e)/Pe,He=(ye*$e-_e*Ne)/Pe,Ge=He+ue,Qe=pa.pop()||new La;Qe.arc=i,Qe.site=X,Qe.x=ot+he,Qe.y=Ge+Math.sqrt(ot*ot+He*He),Qe.cy=Ge,i.circle=Qe;for(var lt=null,ut=Ar._;ut;)if(Qe.y<ut.y||Qe.y===ut.y&&Qe.x<=ut.x)if(ut.L)ut=ut.L;else{lt=ut.P;break}else if(ut.R)ut=ut.R;else{lt=ut;break}Ar.insert(lt,Qe),lt||(Ur=Qe)}}}}function ra(i){var b=i.circle;b&&(b.P||(Ur=b.N),Ar.remove(b),pa.push(b),Ea(b),i.circle=null)}function Sa(i,b,D,V){return function(X){var $=X.a,he=X.b,ue=$.x,ye=$.y,xe=he.x,_e=he.y,Pe=0,Ne=1,$e=xe-ue,ot=_e-ye,He;if(He=i-ue,!(!$e&&He>0)){if(He/=$e,$e<0){if(He<Pe)return;He<Ne&&(Ne=He)}else if($e>0){if(He>Ne)return;He>Pe&&(Pe=He)}if(He=D-ue,!(!$e&&He<0)){if(He/=$e,$e<0){if(He>Ne)return;He>Pe&&(Pe=He)}else if($e>0){if(He<Pe)return;He<Ne&&(Ne=He)}if(He=b-ye,!(!ot&&He>0)){if(He/=ot,ot<0){if(He<Pe)return;He<Ne&&(Ne=He)}else if(ot>0){if(He>Ne)return;He>Pe&&(Pe=He)}if(He=V-ye,!(!ot&&He<0)){if(He/=ot,ot<0){if(He>Ne)return;He>Pe&&(Pe=He)}else if(ot>0){if(He<Pe)return;He<Ne&&(Ne=He)}return Pe>0&&(X.a={x:ue+Pe*$e,y:ye+Pe*ot}),Ne<1&&(X.b={x:ue+Ne*$e,y:ye+Ne*ot}),X}}}}}}function Ai(i){for(var b=Hr,D=Sa(i[0][0],i[0][1],i[1][0],i[1][1]),V=b.length,X;V--;)X=b[V],(!ki(X,i)||!D(X)||p(X.a.x-X.b.x)<ze&&p(X.a.y-X.b.y)<ze)&&(X.a=X.b=null,b.splice(V,1))}function ki(i,b){var D=i.b;if(D)return!0;var V=i.a,X=b[0][0],$=b[1][0],he=b[0][1],ue=b[1][1],ye=i.l,xe=i.r,_e=ye.x,Pe=ye.y,Ne=xe.x,$e=xe.y,ot=(_e+Ne)/2,He=(Pe+$e)/2,Ge,Qe;if($e===Pe){if(ot<X||ot>=$)return;if(_e>Ne){if(!V)V={x:ot,y:he};else if(V.y>=ue)return;D={x:ot,y:ue}}else{if(!V)V={x:ot,y:ue};else if(V.y<he)return;D={x:ot,y:he}}}else if(Ge=(_e-Ne)/($e-Pe),Qe=He-Ge*ot,Ge<-1||Ge>1)if(_e>Ne){if(!V)V={x:(he-Qe)/Ge,y:he};else if(V.y>=ue)return;D={x:(ue-Qe)/Ge,y:ue}}else{if(!V)V={x:(ue-Qe)/Ge,y:ue};else if(V.y<he)return;D={x:(he-Qe)/Ge,y:he}}else if(Pe<$e){if(!V)V={x:X,y:Ge*X+Qe};else if(V.x>=$)return;D={x:$,y:Ge*$+Qe}}else{if(!V)V={x:$,y:Ge*$+Qe};else if(V.x<X)return;D={x:X,y:Ge*X+Qe}}return i.a=V,i.b=D,!0}function bn(i,b){this.l=i,this.r=b,this.a=this.b=null}function ba(i,b,D,V){var X=new bn(i,b);return Hr.push(X),D&&Da(X,i,b,D),V&&Da(X,b,i,V),Yr[i.i].edges.push(new Ra(X,i,b)),Yr[b.i].edges.push(new Ra(X,b,i)),X}function Ci(i,b,D){var V=new bn(i,null);return V.a=b,V.b=D,Hr.push(V),V}function Da(i,b,D,V){!i.a&&!i.b?(i.a=V,i.l=b,i.r=D):i.l===D?i.b=V:i.a=V}function Ra(i,b,D){var V=i.a,X=i.b;this.edge=i,this.site=b,this.angle=D?Math.atan2(D.y-b.y,D.x-b.x):i.l===b?Math.atan2(X.x-V.x,V.y-X.y):Math.atan2(V.x-X.x,X.y-V.y)}Ra.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Qa(){this._=null}function Ea(i){i.U=i.C=i.L=i.R=i.P=i.N=null}Qa.prototype={insert:function(i,b){var D,V,X;if(i){if(b.P=i,b.N=i.N,i.N&&(i.N.P=b),i.N=b,i.R){for(i=i.R;i.L;)i=i.L;i.L=b}else i.R=b;D=i}else this._?(i=xn(this._),b.P=null,b.N=i,i.P=i.L=b,D=i):(b.P=b.N=null,this._=b,D=null);for(b.L=b.R=null,b.U=D,b.C=!0,i=b;D&&D.C;)V=D.U,D===V.L?(X=V.R,X&&X.C?(D.C=X.C=!1,V.C=!0,i=V):(i===D.R&&(xa(this,D),i=D,D=i.U),D.C=!1,V.C=!0,_a(this,V))):(X=V.L,X&&X.C?(D.C=X.C=!1,V.C=!0,i=V):(i===D.L&&(_a(this,D),i=D,D=i.U),D.C=!1,V.C=!0,xa(this,V))),D=i.U;this._.C=!1},remove:function(i){i.N&&(i.N.P=i.P),i.P&&(i.P.N=i.N),i.N=i.P=null;var b=i.U,D,V=i.L,X=i.R,$,he;if(V?X?$=xn(X):$=V:$=X,b?b.L===i?b.L=$:b.R=$:this._=$,V&&X?(he=$.C,$.C=i.C,$.L=V,V.U=$,$!==X?(b=$.U,$.U=i.U,i=$.R,b.L=i,$.R=X,X.U=$):($.U=b,b=$,i=$.R)):(he=i.C,i=$),i&&(i.U=b),!he){if(i&&i.C){i.C=!1;return}do{if(i===this._)break;if(i===b.L){if(D=b.R,D.C&&(D.C=!1,b.C=!0,xa(this,b),D=b.R),D.L&&D.L.C||D.R&&D.R.C){(!D.R||!D.R.C)&&(D.L.C=!1,D.C=!0,_a(this,D),D=b.R),D.C=b.C,b.C=D.R.C=!1,xa(this,b),i=this._;break}}else if(D=b.L,D.C&&(D.C=!1,b.C=!0,_a(this,b),D=b.L),D.L&&D.L.C||D.R&&D.R.C){(!D.L||!D.L.C)&&(D.R.C=!1,D.C=!0,xa(this,D),D=b.L),D.C=b.C,b.C=D.L.C=!1,_a(this,b),i=this._;break}D.C=!0,i=b,b=b.U}while(!i.C);i&&(i.C=!1)}}};function xa(i,b){var D=b,V=b.R,X=D.U;X?X.L===D?X.L=V:X.R=V:i._=V,V.U=X,D.U=V,D.R=V.L,D.R&&(D.R.U=D),V.L=D}function _a(i,b){var D=b,V=b.L,X=D.U;X?X.L===D?X.L=V:X.R=V:i._=V,V.U=X,D.U=V,D.L=V.R,D.L&&(D.L.U=D),V.R=D}function xn(i){for(;i.L;)i=i.L;return i}function Ka(i,b){var D=i.sort(Li).pop(),V,X,$;for(Hr=[],Yr=new Array(i.length),Xr=new Qa,Ar=new Qa;;)if($=Ur,D&&(!$||D.y<$.y||D.y===$.y&&D.x<$.x))(D.x!==V||D.y!==X)&&(Yr[D.i]=new ea(D),ua(D),V=D.x,X=D.y),D=i.pop();else if($)ma($.arc);else break;b&&(Ai(b),Ca(b));var he={cells:Yr,edges:Hr};return Xr=Ar=Hr=Yr=null,he}function Li(i,b){return b.y-i.y||b.x-i.x}t.geom.voronoi=function(i){var b=_r,D=wr,V=b,X=D,$=Pa;if(i)return he(i);function he(ye){var xe=new Array(ye.length),_e=$[0][0],Pe=$[0][1],Ne=$[1][0],$e=$[1][1];return Ka(ue(ye),$).cells.forEach(function(ot,He){var Ge=ot.edges,Qe=ot.site,lt=xe[He]=Ge.length?Ge.map(function(ut){var Ke=ut.start();return[Ke.x,Ke.y]}):Qe.x>=_e&&Qe.x<=Ne&&Qe.y>=Pe&&Qe.y<=$e?[[_e,$e],[Ne,$e],[Ne,Pe],[_e,Pe]]:[];lt.point=ye[He]}),xe}function ue(ye){return ye.map(function(xe,_e){return{x:Math.round(V(xe,_e)/ze)*ze,y:Math.round(X(xe,_e)/ze)*ze,i:_e}})}return he.links=function(ye){return Ka(ue(ye)).edges.filter(function(xe){return xe.l&&xe.r}).map(function(xe){return{source:ye[xe.l.i],target:ye[xe.r.i]}})},he.triangles=function(ye){var xe=[];return Ka(ue(ye)).cells.forEach(function(_e,Pe){for(var Ne=_e.site,$e=_e.edges.sort(oa),ot=-1,He=$e.length,Ge,Qe=$e[He-1].edge,lt=Qe.l===Ne?Qe.r:Qe.l;++ot<He;)Ge=lt,Qe=$e[ot].edge,lt=Qe.l===Ne?Qe.r:Qe.l,Pe<Ge.i&&Pe<lt.i&&Si(Ne,Ge,lt)<0&&xe.push([ye[Pe],ye[Ge.i],ye[lt.i]])}),xe},he.x=function(ye){return arguments.length?(V=Dt(b=ye),he):b},he.y=function(ye){return arguments.length?(X=Dt(D=ye),he):D},he.clipExtent=function(ye){return arguments.length?($=ye==null?Pa:ye,he):$===Pa?null:$},he.size=function(ye){return arguments.length?he.clipExtent(ye&&[[0,0],ye]):$===Pa?null:$&&$[1]},he};var Pa=[[-1e6,-1e6],[1e6,1e6]];function Si(i,b,D){return(i.x-D.x)*(b.y-i.y)-(i.x-b.x)*(D.y-i.y)}t.geom.delaunay=function(i){return t.geom.voronoi().triangles(i)},t.geom.quadtree=function(i,b,D,V,X){var $=_r,he=wr,ue;if(ue=arguments.length)return $=Di,he=Ri,ue===3&&(X=D,V=b,D=b=0),ye(i);function ye(xe){var _e,Pe=Dt($),Ne=Dt(he),$e,ot,He,Ge,Qe,lt,ut,Ke;if(b!=null)Qe=b,lt=D,ut=V,Ke=X;else if(ut=Ke=-(Qe=lt=1/0),$e=[],ot=[],Ge=xe.length,ue)for(He=0;He<Ge;++He)_e=xe[He],_e.x<Qe&&(Qe=_e.x),_e.y<lt&&(lt=_e.y),_e.x>ut&&(ut=_e.x),_e.y>Ke&&(Ke=_e.y),$e.push(_e.x),ot.push(_e.y);else for(He=0;He<Ge;++He){var Nt=+Pe(_e=xe[He],He),Vt=+Ne(_e,He);Nt<Qe&&(Qe=Nt),Vt<lt&&(lt=Vt),Nt>ut&&(ut=Nt),Vt>Ke&&(Ke=Vt),$e.push(Nt),ot.push(Vt)}var Qt=ut-Qe,Zt=Ke-lt;Qt>Zt?Ke=lt+Qt:ut=Qe+Zt;function qt(ar,or,cr,Mr,pr,Ut,ur,fr){if(!(isNaN(cr)||isNaN(Mr)))if(ar.leaf){var vr=ar.x,gr=ar.y;if(vr!=null)if(p(vr-cr)+p(gr-Mr)<.01)er(ar,or,cr,Mr,pr,Ut,ur,fr);else{var Cr=ar.point;ar.x=ar.y=ar.point=null,er(ar,Cr,vr,gr,pr,Ut,ur,fr),er(ar,or,cr,Mr,pr,Ut,ur,fr)}else ar.x=cr,ar.y=Mr,ar.point=or}else er(ar,or,cr,Mr,pr,Ut,ur,fr)}function er(ar,or,cr,Mr,pr,Ut,ur,fr){var vr=(pr+ur)*.5,gr=(Ut+fr)*.5,Cr=cr>=vr,Er=Mr>=gr,zr=Er<<1|Cr;ar.leaf=!1,ar=ar.nodes[zr]||(ar.nodes[zr]=_n()),Cr?pr=vr:ur=vr,Er?Ut=gr:fr=gr,qt(ar,or,cr,Mr,pr,Ut,ur,fr)}var sr=_n();if(sr.add=function(ar){qt(sr,ar,+Pe(ar,++He),+Ne(ar,He),Qe,lt,ut,Ke)},sr.visit=function(ar){wa(ar,sr,Qe,lt,ut,Ke)},sr.find=function(ar){return Ei(sr,ar[0],ar[1],Qe,lt,ut,Ke)},He=-1,b==null){for(;++He<Ge;)qt(sr,xe[He],$e[He],ot[He],Qe,lt,ut,Ke);--He}else xe.forEach(sr.add);return $e=ot=xe=_e=null,sr}return ye.x=function(xe){return arguments.length?($=xe,ye):$},ye.y=function(xe){return arguments.length?(he=xe,ye):he},ye.extent=function(xe){return arguments.length?(xe==null?b=D=V=X=null:(b=+xe[0][0],D=+xe[0][1],V=+xe[1][0],X=+xe[1][1]),ye):b==null?null:[[b,D],[V,X]]},ye.size=function(xe){return arguments.length?(xe==null?b=D=V=X=null:(b=D=0,V=+xe[0],X=+xe[1]),ye):b==null?null:[V-b,X-D]},ye};function Di(i){return i.x}function Ri(i){return i.y}function _n(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function wa(i,b,D,V,X,$){if(!i(b,D,V,X,$)){var he=(D+X)*.5,ue=(V+$)*.5,ye=b.nodes;ye[0]&&wa(i,ye[0],D,V,he,ue),ye[1]&&wa(i,ye[1],he,V,X,ue),ye[2]&&wa(i,ye[2],D,ue,he,$),ye[3]&&wa(i,ye[3],he,ue,X,$)}}function Ei(i,b,D,V,X,$,he){var ue=1/0,ye;return function xe(_e,Pe,Ne,$e,ot){if(!(Pe>$||Ne>he||$e<V||ot<X)){if(He=_e.point){var He,Ge=b-_e.x,Qe=D-_e.y,lt=Ge*Ge+Qe*Qe;if(lt<ue){var ut=Math.sqrt(ue=lt);V=b-ut,X=D-ut,$=b+ut,he=D+ut,ye=He}}for(var Ke=_e.nodes,Nt=(Pe+$e)*.5,Vt=(Ne+ot)*.5,Qt=b>=Nt,Zt=D>=Vt,qt=Zt<<1|Qt,er=qt+4;qt<er;++qt)if(_e=Ke[qt&3])switch(qt&3){case 0:xe(_e,Pe,Ne,Nt,Vt);break;case 1:xe(_e,Nt,Ne,$e,Vt);break;case 2:xe(_e,Pe,Vt,Nt,ot);break;case 3:xe(_e,Nt,Vt,$e,ot);break}}}(i,V,X,$,he),ye}t.interpolateRgb=ja;function ja(i,b){i=t.rgb(i),b=t.rgb(b);var D=i.r,V=i.g,X=i.b,$=b.r-D,he=b.g-V,ue=b.b-X;return function(ye){return"#"+rt(Math.round(D+$*ye))+rt(Math.round(V+he*ye))+rt(Math.round(X+ue*ye))}}t.interpolateObject=wn;function wn(i,b){var D={},V={},X;for(X in i)X in b?D[X]=fa(i[X],b[X]):V[X]=i[X];for(X in b)X in i||(V[X]=b[X]);return function($){for(X in D)V[X]=D[X]($);return V}}t.interpolateNumber=aa;function aa(i,b){return i=+i,b=+b,function(D){return i*(1-D)+b*D}}t.interpolateString=Tn;function Tn(i,b){var D=$a.lastIndex=qa.lastIndex=0,V,X,$,he=-1,ue=[],ye=[];for(i=i+"",b=b+"";(V=$a.exec(i))&&(X=qa.exec(b));)($=X.index)>D&&($=b.slice(D,$),ue[he]?ue[he]+=$:ue[++he]=$),(V=V[0])===(X=X[0])?ue[he]?ue[he]+=X:ue[++he]=X:(ue[++he]=null,ye.push({i:he,x:aa(V,X)})),D=qa.lastIndex;return D<b.length&&($=b.slice(D),ue[he]?ue[he]+=$:ue[++he]=$),ue.length<2?ye[0]?(b=ye[0].x,function(xe){return b(xe)+""}):function(){return b}:(b=ye.length,function(xe){for(var _e=0,Pe;_e<b;++_e)ue[(Pe=ye[_e]).i]=Pe.x(xe);return ue.join("")})}var $a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qa=new RegExp($a.source,"g");t.interpolate=fa;function fa(i,b){for(var D=t.interpolators.length,V;--D>=0&&!(V=t.interpolators[D](i,b)););return V}t.interpolators=[function(i,b){var D=typeof b;return(D==="string"?pt.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?ja:Tn:b instanceof Bt?ja:Array.isArray(b)?Na:D==="object"&&isNaN(b)?wn:aa)(i,b)}],t.interpolateArray=Na;function Na(i,b){var D=[],V=[],X=i.length,$=b.length,he=Math.min(i.length,b.length),ue;for(ue=0;ue<he;++ue)D.push(fa(i[ue],b[ue]));for(;ue<X;++ue)V[ue]=i[ue];for(;ue<$;++ue)V[ue]=b[ue];return function(ye){for(ue=0;ue<he;++ue)V[ue]=D[ue](ye);return V}}var Mn=function(){return ee},Pi=t.map({linear:Mn,poly:Oi,quad:function(){return Fi},cubic:function(){return Ii},sin:function(){return Bi},exp:function(){return Yi},circle:function(){return Ui},elastic:Gi,back:Vi,bounce:function(){return Wi}}),Ni=t.map({in:ee,out:An,"in-out":kn,"out-in":function(i){return kn(An(i))}});t.ease=function(i){var b=i.indexOf("-"),D=b>=0?i.slice(0,b):i,V=b>=0?i.slice(b+1):"in";return D=Pi.get(D)||Mn,V=Ni.get(V)||ee,zi(V(D.apply(null,n.call(arguments,1))))};function zi(i){return function(b){return b<=0?0:b>=1?1:i(b)}}function An(i){return function(b){return 1-i(1-b)}}function kn(i){return function(b){return .5*(b<.5?i(2*b):2-i(2-2*b))}}function Fi(i){return i*i}function Ii(i){return i*i*i}function Hi(i){if(i<=0)return 0;if(i>=1)return 1;var b=i*i,D=b*i;return 4*(i<.5?D:3*(i-b)+D-.75)}function Oi(i){return function(b){return Math.pow(b,i)}}function Bi(i){return 1-Math.cos(i*De)}function Yi(i){return Math.pow(2,10*(i-1))}function Ui(i){return 1-Math.sqrt(1-i*i)}function Gi(i,b){var D;return arguments.length<2&&(b=.45),arguments.length?D=b/we*Math.asin(1/i):(i=1,D=b/4),function(V){return 1+i*Math.pow(2,-10*V)*Math.sin((V-D)*we/b)}}function Vi(i){return i||(i=1.70158),function(b){return b*b*((i+1)*b-i)}}function Wi(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375}t.interpolateHcl=Zi;function Zi(i,b){i=t.hcl(i),b=t.hcl(b);var D=i.h,V=i.c,X=i.l,$=b.h-D,he=b.c-V,ue=b.l-X;return isNaN(he)&&(he=0,V=isNaN(V)?b.c:V),isNaN($)?($=0,D=isNaN(D)?b.h:D):$>180?$-=360:$<-180&&($+=360),function(ye){return jt(D+$*ye,V+he*ye,X+ue*ye)+""}}t.interpolateHsl=Xi;function Xi(i,b){i=t.hsl(i),b=t.hsl(b);var D=i.h,V=i.s,X=i.l,$=b.h-D,he=b.s-V,ue=b.l-X;return isNaN(he)&&(he=0,V=isNaN(V)?b.s:V),isNaN($)?($=0,D=isNaN(D)?b.h:D):$>180?$-=360:$<-180&&($+=360),function(ye){return Wt(D+$*ye,V+he*ye,X+ue*ye)+""}}t.interpolateLab=Ji;function Ji(i,b){i=t.lab(i),b=t.lab(b);var D=i.l,V=i.a,X=i.b,$=b.l-D,he=b.a-V,ue=b.b-X;return function(ye){return Fe(D+$*ye,V+he*ye,X+ue*ye)+""}}t.interpolateRound=Cn;function Cn(i,b){return b-=i,function(D){return Math.round(i+b*D)}}t.transform=function(i){var b=a.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(D){if(D!=null){b.setAttribute("transform",D);var V=b.transform.baseVal.consolidate()}return new Ln(V?V.matrix:Ki)})(i)};function Ln(i){var b=[i.a,i.b],D=[i.c,i.d],V=Dn(b),X=Sn(b,D),$=Dn(Qi(D,b,-X))||0;b[0]*D[1]<D[0]*b[1]&&(b[0]*=-1,b[1]*=-1,V*=-1,X*=-1),this.rotate=(V?Math.atan2(b[1],b[0]):Math.atan2(-D[0],D[1]))*We,this.translate=[i.e,i.f],this.scale=[V,$],this.skew=$?Math.atan2(X,$)*We:0}Ln.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Sn(i,b){return i[0]*b[0]+i[1]*b[1]}function Dn(i){var b=Math.sqrt(Sn(i,i));return b&&(i[0]/=b,i[1]/=b),b}function Qi(i,b,D){return i[0]+=D*b[0],i[1]+=D*b[1],i}var Ki={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Rn;function ya(i){return i.length?i.pop()+",":""}function ji(i,b,D,V){if(i[0]!==b[0]||i[1]!==b[1]){var X=D.push("translate(",null,",",null,")");V.push({i:X-4,x:aa(i[0],b[0])},{i:X-2,x:aa(i[1],b[1])})}else(b[0]||b[1])&&D.push("translate("+b+")")}function $i(i,b,D,V){i!==b?(i-b>180?b+=360:b-i>180&&(i+=360),V.push({i:D.push(ya(D)+"rotate(",null,")")-2,x:aa(i,b)})):b&&D.push(ya(D)+"rotate("+b+")")}function qi(i,b,D,V){i!==b?V.push({i:D.push(ya(D)+"skewX(",null,")")-2,x:aa(i,b)}):b&&D.push(ya(D)+"skewX("+b+")")}function eo(i,b,D,V){if(i[0]!==b[0]||i[1]!==b[1]){var X=D.push(ya(D)+"scale(",null,",",null,")");V.push({i:X-4,x:aa(i[0],b[0])},{i:X-2,x:aa(i[1],b[1])})}else(b[0]!==1||b[1]!==1)&&D.push(ya(D)+"scale("+b+")")}function Rn(i,b){var D=[],V=[];return i=t.transform(i),b=t.transform(b),ji(i.translate,b.translate,D,V),$i(i.rotate,b.rotate,D,V),qi(i.skew,b.skew,D,V),eo(i.scale,b.scale,D,V),i=b=null,function(X){for(var $=-1,he=V.length,ue;++$<he;)D[(ue=V[$]).i]=ue.x(X);return D.join("")}}function to(i,b){return b=(b-=i=+i)||1/b,function(D){return(D-i)/b}}function ro(i,b){return b=(b-=i=+i)||1/b,function(D){return Math.max(0,Math.min(1,(D-i)/b))}}t.layout={},t.layout.bundle=function(){return function(i){for(var b=[],D=-1,V=i.length;++D<V;)b.push(ao(i[D]));return b}};function ao(i){for(var b=i.source,D=i.target,V=no(b,D),X=[b];b!==V;)b=b.parent,X.push(b);for(var $=X.length;D!==V;)X.splice($,0,D),D=D.parent;return X}function En(i){for(var b=[],D=i.parent;D!=null;)b.push(i),i=D,D=D.parent;return b.push(i),b}function no(i,b){if(i===b)return i;for(var D=En(i),V=En(b),X=D.pop(),$=V.pop(),he=null;X===$;)he=X,X=D.pop(),$=V.pop();return he}t.layout.chord=function(){var i={},b,D,V,X,$=0,he,ue,ye;function xe(){var Pe={},Ne=[],$e=t.range(X),ot=[],He,Ge,Qe,lt,ut;for(b=[],D=[],He=0,lt=-1;++lt<X;){for(Ge=0,ut=-1;++ut<X;)Ge+=V[lt][ut];Ne.push(Ge),ot.push(t.range(X)),He+=Ge}for(he&&$e.sort(function(sr,ar){return he(Ne[sr],Ne[ar])}),ue&&ot.forEach(function(sr,ar){sr.sort(function(or,cr){return ue(V[ar][or],V[ar][cr])})}),He=(we-$*X)/He,Ge=0,lt=-1;++lt<X;){for(Qe=Ge,ut=-1;++ut<X;){var Ke=$e[lt],Nt=ot[Ke][ut],Vt=V[Ke][Nt],Qt=Ge,Zt=Ge+=Vt*He;Pe[Ke+"-"+Nt]={index:Ke,subindex:Nt,startAngle:Qt,endAngle:Zt,value:Vt}}D[Ke]={index:Ke,startAngle:Qe,endAngle:Ge,value:Ne[Ke]},Ge+=$}for(lt=-1;++lt<X;)for(ut=lt-1;++ut<X;){var qt=Pe[lt+"-"+ut],er=Pe[ut+"-"+lt];(qt.value||er.value)&&b.push(qt.value<er.value?{source:er,target:qt}:{source:qt,target:er})}ye&&_e()}function _e(){b.sort(function(Pe,Ne){return ye((Pe.source.value+Pe.target.value)/2,(Ne.source.value+Ne.target.value)/2)})}return i.matrix=function(Pe){return arguments.length?(X=(V=Pe)&&V.length,b=D=null,i):V},i.padding=function(Pe){return arguments.length?($=Pe,b=D=null,i):$},i.sortGroups=function(Pe){return arguments.length?(he=Pe,b=D=null,i):he},i.sortSubgroups=function(Pe){return arguments.length?(ue=Pe,b=null,i):ue},i.sortChords=function(Pe){return arguments.length?(ye=Pe,b&&_e(),i):ye},i.chords=function(){return b||xe(),b},i.groups=function(){return D||xe(),D},i},t.layout.force=function(){var i={},b=t.dispatch("start","tick","end"),D,V=[1,1],X,$,he=.9,ue=uo,ye=fo,xe=-30,_e=co,Pe=.1,Ne=.64,$e=[],ot=[],He,Ge,Qe;function lt(Ke){return function(Nt,Vt,Qt,Zt){if(Nt.point!==Ke){var qt=Nt.cx-Ke.x,er=Nt.cy-Ke.y,sr=Zt-Vt,ar=qt*qt+er*er;if(sr*sr/Ne<ar){if(ar<_e){var or=Nt.charge/ar;Ke.px-=qt*or,Ke.py-=er*or}return!0}if(Nt.point&&ar&&ar<_e){var or=Nt.pointCharge/ar;Ke.px-=qt*or,Ke.py-=er*or}}return!Nt.charge}}i.tick=function(){if(($*=.99)<.005)return D=null,b.end({type:"end",alpha:$=0}),!0;var Ke=$e.length,Nt=ot.length,Vt,Qt,Zt,qt,er,sr,ar,or,cr;for(Qt=0;Qt<Nt;++Qt)Zt=ot[Qt],qt=Zt.source,er=Zt.target,or=er.x-qt.x,cr=er.y-qt.y,(sr=or*or+cr*cr)&&(sr=$*Ge[Qt]*((sr=Math.sqrt(sr))-He[Qt])/sr,or*=sr,cr*=sr,er.x-=or*(ar=qt.weight+er.weight?qt.weight/(qt.weight+er.weight):.5),er.y-=cr*ar,qt.x+=or*(ar=1-ar),qt.y+=cr*ar);if((ar=$*Pe)&&(or=V[0]/2,cr=V[1]/2,Qt=-1,ar))for(;++Qt<Ke;)Zt=$e[Qt],Zt.x+=(or-Zt.x)*ar,Zt.y+=(cr-Zt.y)*ar;if(xe)for(Pn(Vt=t.geom.quadtree($e),$,Qe),Qt=-1;++Qt<Ke;)(Zt=$e[Qt]).fixed||Vt.visit(lt(Zt));for(Qt=-1;++Qt<Ke;)Zt=$e[Qt],Zt.fixed?(Zt.x=Zt.px,Zt.y=Zt.py):(Zt.x-=(Zt.px-(Zt.px=Zt.x))*he,Zt.y-=(Zt.py-(Zt.py=Zt.y))*he);b.tick({type:"tick",alpha:$})},i.nodes=function(Ke){return arguments.length?($e=Ke,i):$e},i.links=function(Ke){return arguments.length?(ot=Ke,i):ot},i.size=function(Ke){return arguments.length?(V=Ke,i):V},i.linkDistance=function(Ke){return arguments.length?(ue=typeof Ke=="function"?Ke:+Ke,i):ue},i.distance=i.linkDistance,i.linkStrength=function(Ke){return arguments.length?(ye=typeof Ke=="function"?Ke:+Ke,i):ye},i.friction=function(Ke){return arguments.length?(he=+Ke,i):he},i.charge=function(Ke){return arguments.length?(xe=typeof Ke=="function"?Ke:+Ke,i):xe},i.chargeDistance=function(Ke){return arguments.length?(_e=Ke*Ke,i):Math.sqrt(_e)},i.gravity=function(Ke){return arguments.length?(Pe=+Ke,i):Pe},i.theta=function(Ke){return arguments.length?(Ne=Ke*Ke,i):Math.sqrt(Ne)},i.alpha=function(Ke){return arguments.length?(Ke=+Ke,$?Ke>0?$=Ke:(D.c=null,D.t=NaN,D=null,b.end({type:"end",alpha:$=0})):Ke>0&&(b.start({type:"start",alpha:$=Ke}),D=hr(i.tick)),i):$},i.start=function(){var Ke,Nt=$e.length,Vt=ot.length,Qt=V[0],Zt=V[1],qt,er;for(Ke=0;Ke<Nt;++Ke)(er=$e[Ke]).index=Ke,er.weight=0;for(Ke=0;Ke<Vt;++Ke)er=ot[Ke],typeof er.source=="number"&&(er.source=$e[er.source]),typeof er.target=="number"&&(er.target=$e[er.target]),++er.source.weight,++er.target.weight;for(Ke=0;Ke<Nt;++Ke)er=$e[Ke],isNaN(er.x)&&(er.x=sr("x",Qt)),isNaN(er.y)&&(er.y=sr("y",Zt)),isNaN(er.px)&&(er.px=er.x),isNaN(er.py)&&(er.py=er.y);if(He=[],typeof ue=="function")for(Ke=0;Ke<Vt;++Ke)He[Ke]=+ue.call(this,ot[Ke],Ke);else for(Ke=0;Ke<Vt;++Ke)He[Ke]=ue;if(Ge=[],typeof ye=="function")for(Ke=0;Ke<Vt;++Ke)Ge[Ke]=+ye.call(this,ot[Ke],Ke);else for(Ke=0;Ke<Vt;++Ke)Ge[Ke]=ye;if(Qe=[],typeof xe=="function")for(Ke=0;Ke<Nt;++Ke)Qe[Ke]=+xe.call(this,$e[Ke],Ke);else for(Ke=0;Ke<Nt;++Ke)Qe[Ke]=xe;function sr(ar,or){if(!qt){for(qt=new Array(Nt),pr=0;pr<Nt;++pr)qt[pr]=[];for(pr=0;pr<Vt;++pr){var cr=ot[pr];qt[cr.source.index].push(cr.target),qt[cr.target.index].push(cr.source)}}for(var Mr=qt[Ke],pr=-1,Ut=Mr.length,ur;++pr<Ut;)if(!isNaN(ur=Mr[pr][ar]))return ur;return Math.random()*or}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(X||(X=t.behavior.drag().origin(ee).on("dragstart.force",io).on("drag.force",ut).on("dragend.force",oo)),!arguments.length)return X;this.on("mouseover.force",lo).on("mouseout.force",so).call(X)};function ut(Ke){Ke.px=t.event.x,Ke.py=t.event.y,i.resume()}return t.rebind(i,b,"on")};function io(i){i.fixed|=2}function oo(i){i.fixed&=-7}function lo(i){i.fixed|=4,i.px=i.x,i.py=i.y}function so(i){i.fixed&=-5}function Pn(i,b,D){var V=0,X=0;if(i.charge=0,!i.leaf)for(var $=i.nodes,he=$.length,ue=-1,ye;++ue<he;)ye=$[ue],ye!=null&&(Pn(ye,b,D),i.charge+=ye.charge,V+=ye.charge*ye.cx,X+=ye.charge*ye.cy);if(i.point){i.leaf||(i.point.x+=Math.random()-.5,i.point.y+=Math.random()-.5);var xe=b*D[i.point.index];i.charge+=i.pointCharge=xe,V+=xe*i.point.x,X+=xe*i.point.y}i.cx=V/i.charge,i.cy=X/i.charge}var uo=20,fo=1,co=1/0;t.layout.hierarchy=function(){var i=po,b=vo,D=ho;function V(X){var $=[X],he=[],ue;for(X.depth=0;(ue=$.pop())!=null;)if(he.push(ue),(xe=b.call(V,ue,ue.depth))&&(ye=xe.length)){for(var ye,xe,_e;--ye>=0;)$.push(_e=xe[ye]),_e.parent=ue,_e.depth=ue.depth+1;D&&(ue.value=0),ue.children=xe}else D&&(ue.value=+D.call(V,ue,ue.depth)||0),delete ue.children;return jr(X,function(Pe){var Ne,$e;i&&(Ne=Pe.children)&&Ne.sort(i),D&&($e=Pe.parent)&&($e.value+=Pe.value)}),he}return V.sort=function(X){return arguments.length?(i=X,V):i},V.children=function(X){return arguments.length?(b=X,V):b},V.value=function(X){return arguments.length?(D=X,V):D},V.revalue=function(X){return D&&(Ma(X,function($){$.children&&($.value=0)}),jr(X,function($){var he;$.children||($.value=+D.call(V,$,$.depth)||0),(he=$.parent)&&(he.value+=$.value)})),X},V};function Ta(i,b){return t.rebind(i,b,"sort","children","value"),i.nodes=i,i.links=mo,i}function Ma(i,b){for(var D=[i];(i=D.pop())!=null;)if(b(i),(X=i.children)&&(V=X.length))for(var V,X;--V>=0;)D.push(X[V])}function jr(i,b){for(var D=[i],V=[];(i=D.pop())!=null;)if(V.push(i),(he=i.children)&&($=he.length))for(var X=-1,$,he;++X<$;)D.push(he[X]);for(;(i=V.pop())!=null;)b(i)}function vo(i){return i.children}function ho(i){return i.value}function po(i,b){return b.value-i.value}function mo(i){return t.merge(i.map(function(b){return(b.children||[]).map(function(D){return{source:b,target:D}})}))}t.layout.partition=function(){var i=t.layout.hierarchy(),b=[1,1];function D($,he,ue,ye){var xe=$.children;if($.x=he,$.y=$.depth*ye,$.dx=ue,$.dy=ye,xe&&(Pe=xe.length)){var _e=-1,Pe,Ne,$e;for(ue=$.value?ue/$.value:0;++_e<Pe;)D(Ne=xe[_e],he,$e=Ne.value*ue,ye),he+=$e}}function V($){var he=$.children,ue=0;if(he&&(xe=he.length))for(var ye=-1,xe;++ye<xe;)ue=Math.max(ue,V(he[ye]));return 1+ue}function X($,he){var ue=i.call(this,$,he);return D(ue[0],0,b[0],b[1]/V(ue[0])),ue}return X.size=function($){return arguments.length?(b=$,X):b},Ta(X,i)},t.layout.pie=function(){var i=Number,b=Nn,D=0,V=we,X=0;function $(he){var ue=he.length,ye=he.map(function(lt,ut){return+i.call($,lt,ut)}),xe=+(typeof D=="function"?D.apply(this,arguments):D),_e=(typeof V=="function"?V.apply(this,arguments):V)-xe,Pe=Math.min(Math.abs(_e)/ue,+(typeof X=="function"?X.apply(this,arguments):X)),Ne=Pe*(_e<0?-1:1),$e=t.sum(ye),ot=$e?(_e-ue*Ne)/$e:0,He=t.range(ue),Ge=[],Qe;return b!=null&&He.sort(b===Nn?function(lt,ut){return ye[ut]-ye[lt]}:function(lt,ut){return b(he[lt],he[ut])}),He.forEach(function(lt){Ge[lt]={data:he[lt],value:Qe=ye[lt],startAngle:xe,endAngle:xe+=Qe*ot+Ne,padAngle:Pe}}),Ge}return $.value=function(he){return arguments.length?(i=he,$):i},$.sort=function(he){return arguments.length?(b=he,$):b},$.startAngle=function(he){return arguments.length?(D=he,$):D},$.endAngle=function(he){return arguments.length?(V=he,$):V},$.padAngle=function(he){return arguments.length?(X=he,$):X},$};var Nn={};t.layout.stack=function(){var i=ee,b=en,D=tn,V=bo,X=yo,$=go;function he(ue,ye){if(!(ot=ue.length))return ue;var xe=ue.map(function(lt,ut){return i.call(he,lt,ut)}),_e=xe.map(function(lt){return lt.map(function(ut,Ke){return[X.call(he,ut,Ke),$.call(he,ut,Ke)]})}),Pe=b.call(he,_e,ye);xe=t.permute(xe,Pe),_e=t.permute(_e,Pe);var Ne=D.call(he,_e,ye),$e=xe[0].length,ot,He,Ge,Qe;for(Ge=0;Ge<$e;++Ge)for(V.call(he,xe[0][Ge],Qe=Ne[Ge],_e[0][Ge][1]),He=1;He<ot;++He)V.call(he,xe[He][Ge],Qe+=_e[He-1][Ge][1],_e[He][Ge][1]);return ue}return he.values=function(ue){return arguments.length?(i=ue,he):i},he.order=function(ue){return arguments.length?(b=typeof ue=="function"?ue:xo.get(ue)||en,he):b},he.offset=function(ue){return arguments.length?(D=typeof ue=="function"?ue:_o.get(ue)||tn,he):D},he.x=function(ue){return arguments.length?(X=ue,he):X},he.y=function(ue){return arguments.length?($=ue,he):$},he.out=function(ue){return arguments.length?(V=ue,he):V},he};function yo(i){return i.x}function go(i){return i.y}function bo(i,b,D){i.y0=b,i.y=D}var xo=t.map({"inside-out":function(i){var b=i.length,D,V,X=i.map(wo),$=i.map(To),he=t.range(b).sort(function(Pe,Ne){return X[Pe]-X[Ne]}),ue=0,ye=0,xe=[],_e=[];for(D=0;D<b;++D)V=he[D],ue<ye?(ue+=$[V],xe.push(V)):(ye+=$[V],_e.push(V));return _e.reverse().concat(xe)},reverse:function(i){return t.range(i.length).reverse()},default:en}),_o=t.map({silhouette:function(i){var b=i.length,D=i[0].length,V=[],X=0,$,he,ue,ye=[];for(he=0;he<D;++he){for($=0,ue=0;$<b;$++)ue+=i[$][he][1];ue>X&&(X=ue),V.push(ue)}for(he=0;he<D;++he)ye[he]=(X-V[he])/2;return ye},wiggle:function(i){var b=i.length,D=i[0],V=D.length,X,$,he,ue,ye,xe,_e,Pe,Ne,$e=[];for($e[0]=Pe=Ne=0,$=1;$<V;++$){for(X=0,ue=0;X<b;++X)ue+=i[X][$][1];for(X=0,ye=0,_e=D[$][0]-D[$-1][0];X<b;++X){for(he=0,xe=(i[X][$][1]-i[X][$-1][1])/(2*_e);he<X;++he)xe+=(i[he][$][1]-i[he][$-1][1])/_e;ye+=xe*i[X][$][1]}$e[$]=Pe-=ue?ye/ue*_e:0,Pe<Ne&&(Ne=Pe)}for($=0;$<V;++$)$e[$]-=Ne;return $e},expand:function(i){var b=i.length,D=i[0].length,V=1/b,X,$,he,ue=[];for($=0;$<D;++$){for(X=0,he=0;X<b;X++)he+=i[X][$][1];if(he)for(X=0;X<b;X++)i[X][$][1]/=he;else for(X=0;X<b;X++)i[X][$][1]=V}for($=0;$<D;++$)ue[$]=0;return ue},zero:tn});function en(i){return t.range(i.length)}function tn(i){for(var b=-1,D=i[0].length,V=[];++b<D;)V[b]=0;return V}function wo(i){for(var b=1,D=0,V=i[0][1],X,$=i.length;b<$;++b)(X=i[b][1])>V&&(D=b,V=X);return D}function To(i){return i.reduce(Mo,0)}function Mo(i,b){return i+b[1]}t.layout.histogram=function(){var i=!0,b=Number,D=ko,V=Ao;function X($,Ne){for(var ue=[],ye=$.map(b,this),xe=D.call(this,ye,Ne),_e=V.call(this,xe,ye,Ne),Pe,Ne=-1,$e=ye.length,ot=_e.length-1,He=i?1:1/$e,Ge;++Ne<ot;)Pe=ue[Ne]=[],Pe.dx=_e[Ne+1]-(Pe.x=_e[Ne]),Pe.y=0;if(ot>0)for(Ne=-1;++Ne<$e;)Ge=ye[Ne],Ge>=xe[0]&&Ge<=xe[1]&&(Pe=ue[t.bisect(_e,Ge,1,ot)-1],Pe.y+=He,Pe.push($[Ne]));return ue}return X.value=function($){return arguments.length?(b=$,X):b},X.range=function($){return arguments.length?(D=Dt($),X):D},X.bins=function($){return arguments.length?(V=typeof $=="number"?function(he){return zn(he,$)}:Dt($),X):V},X.frequency=function($){return arguments.length?(i=!!$,X):i},X};function Ao(i,b){return zn(i,Math.ceil(Math.log(b.length)/Math.LN2+1))}function zn(i,b){for(var D=-1,V=+i[0],X=(i[1]-V)/b,$=[];++D<=b;)$[D]=X*D+V;return $}function ko(i){return[t.min(i),t.max(i)]}t.layout.pack=function(){var i=t.layout.hierarchy().sort(Co),b=0,D=[1,1],V;function X($,he){var ue=i.call(this,$,he),ye=ue[0],xe=D[0],_e=D[1],Pe=V==null?Math.sqrt:typeof V=="function"?V:function(){return V};if(ye.x=ye.y=0,jr(ye,function($e){$e.r=+Pe($e.value)}),jr(ye,Hn),b){var Ne=b*(V?1:Math.max(2*ye.r/xe,2*ye.r/_e))/2;jr(ye,function($e){$e.r+=Ne}),jr(ye,Hn),jr(ye,function($e){$e.r-=Ne})}return On(ye,xe/2,_e/2,V?1:1/Math.max(2*ye.r/xe,2*ye.r/_e)),ue}return X.size=function($){return arguments.length?(D=$,X):D},X.radius=function($){return arguments.length?(V=$==null||typeof $=="function"?$:+$,X):V},X.padding=function($){return arguments.length?(b=+$,X):b},Ta(X,i)};function Co(i,b){return i.value-b.value}function rn(i,b){var D=i._pack_next;i._pack_next=b,b._pack_prev=i,b._pack_next=D,D._pack_prev=b}function Fn(i,b){i._pack_next=b,b._pack_prev=i}function In(i,b){var D=b.x-i.x,V=b.y-i.y,X=i.r+b.r;return .999*X*X>D*D+V*V}function Hn(i){if(!(b=i.children)||!(Ne=b.length))return;var b,D=1/0,V=-1/0,X=1/0,$=-1/0,he,ue,ye,xe,_e,Pe,Ne;function $e(Ke){D=Math.min(Ke.x-Ke.r,D),V=Math.max(Ke.x+Ke.r,V),X=Math.min(Ke.y-Ke.r,X),$=Math.max(Ke.y+Ke.r,$)}if(b.forEach(Lo),he=b[0],he.x=-he.r,he.y=0,$e(he),Ne>1&&(ue=b[1],ue.x=ue.r,ue.y=0,$e(ue),Ne>2))for(ye=b[2],Bn(he,ue,ye),$e(ye),rn(he,ye),he._pack_prev=ye,rn(ye,ue),ue=he._pack_next,xe=3;xe<Ne;xe++){Bn(he,ue,ye=b[xe]);var ot=0,He=1,Ge=1;for(_e=ue._pack_next;_e!==ue;_e=_e._pack_next,He++)if(In(_e,ye)){ot=1;break}if(ot==1)for(Pe=he._pack_prev;Pe!==_e._pack_prev&&!In(Pe,ye);Pe=Pe._pack_prev,Ge++);ot?(He<Ge||He==Ge&&ue.r<he.r?Fn(he,ue=_e):Fn(he=Pe,ue),xe--):(rn(he,ye),ue=ye,$e(ye))}var Qe=(D+V)/2,lt=(X+$)/2,ut=0;for(xe=0;xe<Ne;xe++)ye=b[xe],ye.x-=Qe,ye.y-=lt,ut=Math.max(ut,ye.r+Math.sqrt(ye.x*ye.x+ye.y*ye.y));i.r=ut,b.forEach(So)}function Lo(i){i._pack_next=i._pack_prev=i}function So(i){delete i._pack_next,delete i._pack_prev}function On(i,b,D,V){var X=i.children;if(i.x=b+=V*i.x,i.y=D+=V*i.y,i.r*=V,X)for(var $=-1,he=X.length;++$<he;)On(X[$],b,D,V)}function Bn(i,b,D){var V=i.r+D.r,X=b.x-i.x,$=b.y-i.y;if(V&&(X||$)){var he=b.r+D.r,ue=X*X+$*$;he*=he,V*=V;var ye=.5+(V-he)/(2*ue),xe=Math.sqrt(Math.max(0,2*he*(V+ue)-(V-=ue)*V-he*he))/(2*ue);D.x=i.x+ye*X+xe*$,D.y=i.y+ye*$-xe*X}else D.x=i.x+V,D.y=i.y}t.layout.tree=function(){var i=t.layout.hierarchy().sort(null).value(null),b=Yn,D=[1,1],V=null;function X(_e,Pe){var Ne=i.call(this,_e,Pe),$e=Ne[0],ot=$($e);if(jr(ot,he),ot.parent.m=-ot.z,Ma(ot,ue),V)Ma($e,xe);else{var He=$e,Ge=$e,Qe=$e;Ma($e,function(Nt){Nt.x<He.x&&(He=Nt),Nt.x>Ge.x&&(Ge=Nt),Nt.depth>Qe.depth&&(Qe=Nt)});var lt=b(He,Ge)/2-He.x,ut=D[0]/(Ge.x+b(Ge,He)/2+lt),Ke=D[1]/(Qe.depth||1);Ma($e,function(Nt){Nt.x=(Nt.x+lt)*ut,Nt.y=Nt.depth*Ke})}return Ne}function $(_e){for(var Pe={A:null,children:[_e]},Ne=[Pe],$e;($e=Ne.pop())!=null;)for(var ot=$e.children,He,Ge=0,Qe=ot.length;Ge<Qe;++Ge)Ne.push((ot[Ge]=He={_:ot[Ge],parent:$e,children:(He=ot[Ge].children)&&He.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ge}).a=He);return Pe.children[0]}function he(_e){var Pe=_e.children,Ne=_e.parent.children,$e=_e.i?Ne[_e.i-1]:null;if(Pe.length){Ro(_e);var ot=(Pe[0].z+Pe[Pe.length-1].z)/2;$e?(_e.z=$e.z+b(_e._,$e._),_e.m=_e.z-ot):_e.z=ot}else $e&&(_e.z=$e.z+b(_e._,$e._));_e.parent.A=ye(_e,$e,_e.parent.A||Ne[0])}function ue(_e){_e._.x=_e.z+_e.parent.m,_e.m+=_e.parent.m}function ye(_e,Pe,Ne){if(Pe){for(var $e=_e,ot=_e,He=Pe,Ge=$e.parent.children[0],Qe=$e.m,lt=ot.m,ut=He.m,Ke=Ge.m,Nt;He=nn(He),$e=an($e),He&&$e;)Ge=an(Ge),ot=nn(ot),ot.a=_e,Nt=He.z+ut-$e.z-Qe+b(He._,$e._),Nt>0&&(Do(Eo(He,_e,Ne),_e,Nt),Qe+=Nt,lt+=Nt),ut+=He.m,Qe+=$e.m,Ke+=Ge.m,lt+=ot.m;He&&!nn(ot)&&(ot.t=He,ot.m+=ut-lt),$e&&!an(Ge)&&(Ge.t=$e,Ge.m+=Qe-Ke,Ne=_e)}return Ne}function xe(_e){_e.x*=D[0],_e.y=_e.depth*D[1]}return X.separation=function(_e){return arguments.length?(b=_e,X):b},X.size=function(_e){return arguments.length?(V=(D=_e)==null?xe:null,X):V?null:D},X.nodeSize=function(_e){return arguments.length?(V=(D=_e)==null?null:xe,X):V?D:null},Ta(X,i)};function Yn(i,b){return i.parent==b.parent?1:2}function an(i){var b=i.children;return b.length?b[0]:i.t}function nn(i){var b=i.children,D;return(D=b.length)?b[D-1]:i.t}function Do(i,b,D){var V=D/(b.i-i.i);b.c-=V,b.s+=D,i.c+=V,b.z+=D,b.m+=D}function Ro(i){for(var b=0,D=0,V=i.children,X=V.length,$;--X>=0;)$=V[X],$.z+=b,$.m+=b,b+=$.s+(D+=$.c)}function Eo(i,b,D){return i.a.parent===b.parent?i.a:D}t.layout.cluster=function(){var i=t.layout.hierarchy().sort(null).value(null),b=Yn,D=[1,1],V=!1;function X($,he){var ue=i.call(this,$,he),ye=ue[0],xe,_e=0;jr(ye,function(He){var Ge=He.children;Ge&&Ge.length?(He.x=No(Ge),He.y=Po(Ge)):(He.x=xe?_e+=b(He,xe):0,He.y=0,xe=He)});var Pe=Un(ye),Ne=Gn(ye),$e=Pe.x-b(Pe,Ne)/2,ot=Ne.x+b(Ne,Pe)/2;return jr(ye,V?function(He){He.x=(He.x-ye.x)*D[0],He.y=(ye.y-He.y)*D[1]}:function(He){He.x=(He.x-$e)/(ot-$e)*D[0],He.y=(1-(ye.y?He.y/ye.y:1))*D[1]}),ue}return X.separation=function($){return arguments.length?(b=$,X):b},X.size=function($){return arguments.length?(V=(D=$)==null,X):V?null:D},X.nodeSize=function($){return arguments.length?(V=(D=$)!=null,X):V?D:null},Ta(X,i)};function Po(i){return 1+t.max(i,function(b){return b.y})}function No(i){return i.reduce(function(b,D){return b+D.x},0)/i.length}function Un(i){var b=i.children;return b&&b.length?Un(b[0]):i}function Gn(i){var b=i.children,D;return b&&(D=b.length)?Gn(b[D-1]):i}t.layout.treemap=function(){var i=t.layout.hierarchy(),b=Math.round,D=[1,1],V=null,X=on,$=!1,he,ue="squarify",ye=.5*(1+Math.sqrt(5));function xe(He,Ge){for(var Qe=-1,lt=He.length,ut,Ke;++Qe<lt;)Ke=(ut=He[Qe]).value*(Ge<0?0:Ge),ut.area=isNaN(Ke)||Ke<=0?0:Ke}function _e(He){var Ge=He.children;if(Ge&&Ge.length){var Qe=X(He),lt=[],ut=Ge.slice(),Ke,Nt=1/0,Vt,Qt=ue==="slice"?Qe.dx:ue==="dice"?Qe.dy:ue==="slice-dice"?He.depth&1?Qe.dy:Qe.dx:Math.min(Qe.dx,Qe.dy),Zt;for(xe(ut,Qe.dx*Qe.dy/He.value),lt.area=0;(Zt=ut.length)>0;)lt.push(Ke=ut[Zt-1]),lt.area+=Ke.area,ue!=="squarify"||(Vt=Ne(lt,Qt))<=Nt?(ut.pop(),Nt=Vt):(lt.area-=lt.pop().area,$e(lt,Qt,Qe,!1),Qt=Math.min(Qe.dx,Qe.dy),lt.length=lt.area=0,Nt=1/0);lt.length&&($e(lt,Qt,Qe,!0),lt.length=lt.area=0),Ge.forEach(_e)}}function Pe(He){var Ge=He.children;if(Ge&&Ge.length){var Qe=X(He),lt=Ge.slice(),ut,Ke=[];for(xe(lt,Qe.dx*Qe.dy/He.value),Ke.area=0;ut=lt.pop();)Ke.push(ut),Ke.area+=ut.area,ut.z!=null&&($e(Ke,ut.z?Qe.dx:Qe.dy,Qe,!lt.length),Ke.length=Ke.area=0);Ge.forEach(Pe)}}function Ne(He,Ge){for(var Qe=He.area,lt,ut=0,Ke=1/0,Nt=-1,Vt=He.length;++Nt<Vt;)!(lt=He[Nt].area)||(lt<Ke&&(Ke=lt),lt>ut&&(ut=lt));return Qe*=Qe,Ge*=Ge,Qe?Math.max(Ge*ut*ye/Qe,Qe/(Ge*Ke*ye)):1/0}function $e(He,Ge,Qe,lt){var ut=-1,Ke=He.length,Nt=Qe.x,Vt=Qe.y,Qt=Ge?b(He.area/Ge):0,Zt;if(Ge==Qe.dx){for((lt||Qt>Qe.dy)&&(Qt=Qe.dy);++ut<Ke;)Zt=He[ut],Zt.x=Nt,Zt.y=Vt,Zt.dy=Qt,Nt+=Zt.dx=Math.min(Qe.x+Qe.dx-Nt,Qt?b(Zt.area/Qt):0);Zt.z=!0,Zt.dx+=Qe.x+Qe.dx-Nt,Qe.y+=Qt,Qe.dy-=Qt}else{for((lt||Qt>Qe.dx)&&(Qt=Qe.dx);++ut<Ke;)Zt=He[ut],Zt.x=Nt,Zt.y=Vt,Zt.dx=Qt,Vt+=Zt.dy=Math.min(Qe.y+Qe.dy-Vt,Qt?b(Zt.area/Qt):0);Zt.z=!1,Zt.dy+=Qe.y+Qe.dy-Vt,Qe.x+=Qt,Qe.dx-=Qt}}function ot(He){var Ge=he||i(He),Qe=Ge[0];return Qe.x=Qe.y=0,Qe.value?(Qe.dx=D[0],Qe.dy=D[1]):Qe.dx=Qe.dy=0,he&&i.revalue(Qe),xe([Qe],Qe.dx*Qe.dy/Qe.value),(he?Pe:_e)(Qe),$&&(he=Ge),Ge}return ot.size=function(He){return arguments.length?(D=He,ot):D},ot.padding=function(He){if(!arguments.length)return V;function Ge(ut){var Ke=He.call(ot,ut,ut.depth);return Ke==null?on(ut):Vn(ut,typeof Ke=="number"?[Ke,Ke,Ke,Ke]:Ke)}function Qe(ut){return Vn(ut,He)}var lt;return X=(V=He)==null?on:(lt=typeof He)=="function"?Ge:(lt==="number"&&(He=[He,He,He,He]),Qe),ot},ot.round=function(He){return arguments.length?(b=He?Math.round:Number,ot):b!=Number},ot.sticky=function(He){return arguments.length?($=He,he=null,ot):$},ot.ratio=function(He){return arguments.length?(ye=He,ot):ye},ot.mode=function(He){return arguments.length?(ue=He+"",ot):ue},Ta(ot,i)};function on(i){return{x:i.x,y:i.y,dx:i.dx,dy:i.dy}}function Vn(i,b){var D=i.x+b[3],V=i.y+b[0],X=i.dx-b[1]-b[3],$=i.dy-b[0]-b[2];return X<0&&(D+=X/2,X=0),$<0&&(V+=$/2,$=0),{x:D,y:V,dx:X,dy:$}}t.random={normal:function(i,b){var D=arguments.length;return D<2&&(b=1),D<1&&(i=0),function(){var V,X,$;do V=Math.random()*2-1,X=Math.random()*2-1,$=V*V+X*X;while(!$||$>1);return i+b*V*Math.sqrt(-2*Math.log($)/$)}},logNormal:function(){var i=t.random.normal.apply(t,arguments);return function(){return Math.exp(i())}},bates:function(i){var b=t.random.irwinHall(i);return function(){return b()/i}},irwinHall:function(i){return function(){for(var b=0,D=0;D<i;D++)b+=Math.random();return b}}},t.scale={};function za(i){var b=i[0],D=i[i.length-1];return b<D?[b,D]:[D,b]}function Fa(i){return i.rangeExtent?i.rangeExtent():za(i.range())}function zo(i,b,D,V){var X=D(i[0],i[1]),$=V(b[0],b[1]);return function(he){return $(X(he))}}function ln(i,b){var D=0,V=i.length-1,X=i[D],$=i[V],he;return $<X&&(he=D,D=V,V=he,he=X,X=$,$=he),i[D]=b.floor(X),i[V]=b.ceil($),i}function Wn(i){return i?{floor:function(b){return Math.floor(b/i)*i},ceil:function(b){return Math.ceil(b/i)*i}}:Fo}var Fo={floor:ee,ceil:ee};function Io(i,b,D,V){var X=[],$=[],he=0,ue=Math.min(i.length,b.length)-1;for(i[ue]<i[0]&&(i=i.slice().reverse(),b=b.slice().reverse());++he<=ue;)X.push(D(i[he-1],i[he])),$.push(V(b[he-1],b[he]));return function(ye){var xe=t.bisect(i,ye,1,ue)-1;return $[xe](X[xe](ye))}}t.scale.linear=function(){return Zn([0,1],[0,1],fa,!1)};function Zn(i,b,D,V){var X,$;function he(){var ye=Math.min(i.length,b.length)>2?Io:zo,xe=V?ro:to;return X=ye(i,b,xe,D),$=ye(b,i,xe,fa),ue}function ue(ye){return X(ye)}return ue.invert=function(ye){return $(ye)},ue.domain=function(ye){return arguments.length?(i=ye.map(Number),he()):i},ue.range=function(ye){return arguments.length?(b=ye,he()):b},ue.rangeRound=function(ye){return ue.range(ye).interpolate(Cn)},ue.clamp=function(ye){return arguments.length?(V=ye,he()):V},ue.interpolate=function(ye){return arguments.length?(D=ye,he()):D},ue.ticks=function(ye){return un(i,ye)},ue.tickFormat=function(ye,xe){return d3_scale_linearTickFormat(i,ye,xe)},ue.nice=function(ye){return Jn(i,ye),he()},ue.copy=function(){return Zn(i,b,D,V)},he()}function Xn(i,b){return t.rebind(i,b,"range","rangeRound","interpolate","clamp")}function Jn(i,b){return ln(i,Wn(sn(i,b)[2])),ln(i,Wn(sn(i,b)[2])),i}function sn(i,b){b==null&&(b=10);var D=za(i),V=D[1]-D[0],X=Math.pow(10,Math.floor(Math.log(V/b)/Math.LN10)),$=b/V*X;return $<=.15?X*=10:$<=.35?X*=5:$<=.75&&(X*=2),D[0]=Math.ceil(D[0]/X)*X,D[1]=Math.floor(D[1]/X)*X+X*.5,D[2]=X,D}function un(i,b){return t.range.apply(t,sn(i,b))}t.scale.log=function(){return Qn(t.scale.linear().domain([0,1]),10,!0,[1,10])};function Qn(i,b,D,V){function X(ue){return(D?Math.log(ue<0?0:ue):-Math.log(ue>0?0:-ue))/Math.log(b)}function $(ue){return D?Math.pow(b,ue):-Math.pow(b,-ue)}function he(ue){return i(X(ue))}return he.invert=function(ue){return $(i.invert(ue))},he.domain=function(ue){return arguments.length?(D=ue[0]>=0,i.domain((V=ue.map(Number)).map(X)),he):V},he.base=function(ue){return arguments.length?(b=+ue,i.domain(V.map(X)),he):b},he.nice=function(){var ue=ln(V.map(X),D?Math:Ho);return i.domain(ue),V=ue.map($),he},he.ticks=function(){var ue=za(V),ye=[],xe=ue[0],_e=ue[1],Pe=Math.floor(X(xe)),Ne=Math.ceil(X(_e)),$e=b%1?2:b;if(isFinite(Ne-Pe)){if(D){for(;Pe<Ne;Pe++)for(var ot=1;ot<$e;ot++)ye.push($(Pe)*ot);ye.push($(Pe))}else for(ye.push($(Pe));Pe++<Ne;)for(var ot=$e-1;ot>0;ot--)ye.push($(Pe)*ot);for(Pe=0;ye[Pe]<xe;Pe++);for(Ne=ye.length;ye[Ne-1]>_e;Ne--);ye=ye.slice(Pe,Ne)}return ye},he.copy=function(){return Qn(i.copy(),b,D,V)},Xn(he,i)}var Ho={floor:function(i){return-Math.ceil(-i)},ceil:function(i){return-Math.floor(-i)}};t.scale.pow=function(){return Kn(t.scale.linear(),1,[0,1])};function Kn(i,b,D){var V=Ia(b),X=Ia(1/b);function $(he){return i(V(he))}return $.invert=function(he){return X(i.invert(he))},$.domain=function(he){return arguments.length?(i.domain((D=he.map(Number)).map(V)),$):D},$.ticks=function(he){return un(D,he)},$.tickFormat=function(he,ue){return d3_scale_linearTickFormat(D,he,ue)},$.nice=function(he){return $.domain(Jn(D,he))},$.exponent=function(he){return arguments.length?(V=Ia(b=he),X=Ia(1/b),i.domain(D.map(V)),$):b},$.copy=function(){return Kn(i.copy(),b,D)},Xn($,i)}function Ia(i){return function(b){return b<0?-Math.pow(-b,i):Math.pow(b,i)}}t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return jn([],{t:"range",a:[[]]})};function jn(i,b){var D,V,X;function $(ue){return V[((D.get(ue)||(b.t==="range"?D.set(ue,i.push(ue)):NaN))-1)%V.length]}function he(ue,ye){return t.range(i.length).map(function(xe){return ue+ye*xe})}return $.domain=function(ue){if(!arguments.length)return i;i=[],D=new x;for(var ye=-1,xe=ue.length,_e;++ye<xe;)D.has(_e=ue[ye])||D.set(_e,i.push(_e));return $[b.t].apply($,b.a)},$.range=function(ue){return arguments.length?(V=ue,X=0,b={t:"range",a:arguments},$):V},$.rangePoints=function(ue,ye){arguments.length<2&&(ye=0);var xe=ue[0],_e=ue[1],Pe=i.length<2?(xe=(xe+_e)/2,0):(_e-xe)/(i.length-1+ye);return V=he(xe+Pe*ye/2,Pe),X=0,b={t:"rangePoints",a:arguments},$},$.rangeRoundPoints=function(ue,ye){arguments.length<2&&(ye=0);var xe=ue[0],_e=ue[1],Pe=i.length<2?(xe=_e=Math.round((xe+_e)/2),0):(_e-xe)/(i.length-1+ye)|0;return V=he(xe+Math.round(Pe*ye/2+(_e-xe-(i.length-1+ye)*Pe)/2),Pe),X=0,b={t:"rangeRoundPoints",a:arguments},$},$.rangeBands=function(ue,ye,xe){arguments.length<2&&(ye=0),arguments.length<3&&(xe=ye);var _e=ue[1]<ue[0],Pe=ue[_e-0],Ne=ue[1-_e],$e=(Ne-Pe)/(i.length-ye+2*xe);return V=he(Pe+$e*xe,$e),_e&&V.reverse(),X=$e*(1-ye),b={t:"rangeBands",a:arguments},$},$.rangeRoundBands=function(ue,ye,xe){arguments.length<2&&(ye=0),arguments.length<3&&(xe=ye);var _e=ue[1]<ue[0],Pe=ue[_e-0],Ne=ue[1-_e],$e=Math.floor((Ne-Pe)/(i.length-ye+2*xe));return V=he(Pe+Math.round((Ne-Pe-(i.length-ye)*$e)/2),$e),_e&&V.reverse(),X=Math.round($e*(1-ye)),b={t:"rangeRoundBands",a:arguments},$},$.rangeBand=function(){return X},$.rangeExtent=function(){return za(b.a[0])},$.copy=function(){return jn(i,b)},$.domain(i)}t.scale.category10=function(){return t.scale.ordinal().range(Oo)},t.scale.category20=function(){return t.scale.ordinal().range(Bo)},t.scale.category20b=function(){return t.scale.ordinal().range(Yo)},t.scale.category20c=function(){return t.scale.ordinal().range(Uo)};var Oo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ft),Bo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ft),Yo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ft),Uo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ft);t.scale.quantile=function(){return $n([],[])};function $n(i,b){var D;function V(){var $=0,he=b.length;for(D=[];++$<he;)D[$-1]=t.quantile(i,$/he);return X}function X($){if(!isNaN($=+$))return b[t.bisect(D,$)]}return X.domain=function($){return arguments.length?(i=$.map(y).filter(m).sort(v),V()):i},X.range=function($){return arguments.length?(b=$,V()):b},X.quantiles=function(){return D},X.invertExtent=function($){return $=b.indexOf($),$<0?[NaN,NaN]:[$>0?D[$-1]:i[0],$<D.length?D[$]:i[i.length-1]]},X.copy=function(){return $n(i,b)},V()}t.scale.quantize=function(){return qn(0,1,[0,1])};function qn(i,b,D){var V,X;function $(ue){return D[Math.max(0,Math.min(X,Math.floor(V*(ue-i))))]}function he(){return V=D.length/(b-i),X=D.length-1,$}return $.domain=function(ue){return arguments.length?(i=+ue[0],b=+ue[ue.length-1],he()):[i,b]},$.range=function(ue){return arguments.length?(D=ue,he()):D},$.invertExtent=function(ue){return ue=D.indexOf(ue),ue=ue<0?NaN:ue/V+i,[ue,ue+1/V]},$.copy=function(){return qn(i,b,D)},he()}t.scale.threshold=function(){return ei([.5],[0,1])};function ei(i,b){function D(V){if(V<=V)return b[t.bisect(i,V)]}return D.domain=function(V){return arguments.length?(i=V,D):i},D.range=function(V){return arguments.length?(b=V,D):b},D.invertExtent=function(V){return V=b.indexOf(V),[i[V-1],i[V]]},D.copy=function(){return ei(i,b)},D}t.scale.identity=function(){return ti([0,1])};function ti(i){function b(D){return+D}return b.invert=b,b.domain=b.range=function(D){return arguments.length?(i=D.map(b),b):i},b.ticks=function(D){return un(i,D)},b.tickFormat=function(D,V){return d3_scale_linearTickFormat(i,D,V)},b.copy=function(){return ti(i)},b}t.svg={};function Go(){return 0}t.svg.arc=function(){var i=Vo,b=Wo,D=Go,V=Ha,X=ri,$=ai,he=Zo;function ue(){var xe=Math.max(0,+i.apply(this,arguments)),_e=Math.max(0,+b.apply(this,arguments)),Pe=X.apply(this,arguments)-De,Ne=$.apply(this,arguments)-De,$e=Math.abs(Ne-Pe),ot=Pe>Ne?0:1;if(_e<xe&&(He=_e,_e=xe,xe=He),$e>=Me)return ye(_e,ot)+(xe?ye(xe,1-ot):"")+"Z";var He,Ge,Qe,lt,ut=0,Ke=0,Nt,Vt,Qt,Zt,qt,er,sr,ar,or=[];if((lt=(+he.apply(this,arguments)||0)/2)&&(Qe=V===Ha?Math.sqrt(xe*xe+_e*_e):+V.apply(this,arguments),ot||(Ke*=-1),_e&&(Ke=vt(Qe/_e*Math.sin(lt))),xe&&(ut=vt(Qe/xe*Math.sin(lt)))),_e){Nt=_e*Math.cos(Pe+Ke),Vt=_e*Math.sin(Pe+Ke),Qt=_e*Math.cos(Ne-Ke),Zt=_e*Math.sin(Ne-Ke);var cr=Math.abs(Ne-Pe-2*Ke)<=ve?0:1;if(Ke&&Oa(Nt,Vt,Qt,Zt)===ot^cr){var Mr=(Pe+Ne)/2;Nt=_e*Math.cos(Mr),Vt=_e*Math.sin(Mr),Qt=Zt=null}}else Nt=Vt=0;if(xe){qt=xe*Math.cos(Ne-ut),er=xe*Math.sin(Ne-ut),sr=xe*Math.cos(Pe+ut),ar=xe*Math.sin(Pe+ut);var pr=Math.abs(Pe-Ne+2*ut)<=ve?0:1;if(ut&&Oa(qt,er,sr,ar)===1-ot^pr){var Ut=(Pe+Ne)/2;qt=xe*Math.cos(Ut),er=xe*Math.sin(Ut),sr=ar=null}}else qt=er=0;if($e>ze&&(He=Math.min(Math.abs(_e-xe)/2,+D.apply(this,arguments)))>.001){Ge=xe<_e^ot?0:1;var ur=He,fr=He;if($e<ve){var vr=sr==null?[qt,er]:Qt==null?[Nt,Vt]:na([Nt,Vt],[sr,ar],[Qt,Zt],[qt,er]),gr=Nt-vr[0],Cr=Vt-vr[1],Er=Qt-vr[0],zr=Zt-vr[1],Ir=1/Math.sin(Math.acos((gr*Er+Cr*zr)/(Math.sqrt(gr*gr+Cr*Cr)*Math.sqrt(Er*Er+zr*zr)))/2),Fr=Math.sqrt(vr[0]*vr[0]+vr[1]*vr[1]);fr=Math.min(He,(xe-Fr)/(Ir-1)),ur=Math.min(He,(_e-Fr)/(Ir+1))}if(Qt!=null){var Or=Ba(sr==null?[qt,er]:[sr,ar],[Nt,Vt],_e,ur,ot),Nr=Ba([Qt,Zt],[qt,er],_e,ur,ot);He===ur?or.push("M",Or[0],"A",ur,",",ur," 0 0,",Ge," ",Or[1],"A",_e,",",_e," 0 ",1-ot^Oa(Or[1][0],Or[1][1],Nr[1][0],Nr[1][1]),",",ot," ",Nr[1],"A",ur,",",ur," 0 0,",Ge," ",Nr[0]):or.push("M",Or[0],"A",ur,",",ur," 0 1,",Ge," ",Nr[0])}else or.push("M",Nt,",",Vt);if(sr!=null){var Br=Ba([Nt,Vt],[sr,ar],xe,-fr,ot),va=Ba([qt,er],Qt==null?[Nt,Vt]:[Qt,Zt],xe,-fr,ot);He===fr?or.push("L",va[0],"A",fr,",",fr," 0 0,",Ge," ",va[1],"A",xe,",",xe," 0 ",ot^Oa(va[1][0],va[1][1],Br[1][0],Br[1][1]),",",1-ot," ",Br[1],"A",fr,",",fr," 0 0,",Ge," ",Br[0]):or.push("L",va[0],"A",fr,",",fr," 0 0,",Ge," ",Br[0])}else or.push("L",qt,",",er)}else or.push("M",Nt,",",Vt),Qt!=null&&or.push("A",_e,",",_e," 0 ",cr,",",ot," ",Qt,",",Zt),or.push("L",qt,",",er),sr!=null&&or.push("A",xe,",",xe," 0 ",pr,",",1-ot," ",sr,",",ar);return or.push("Z"),or.join("")}function ye(xe,_e){return"M0,"+xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+-xe+"A"+xe+","+xe+" 0 1,"+_e+" 0,"+xe}return ue.innerRadius=function(xe){return arguments.length?(i=Dt(xe),ue):i},ue.outerRadius=function(xe){return arguments.length?(b=Dt(xe),ue):b},ue.cornerRadius=function(xe){return arguments.length?(D=Dt(xe),ue):D},ue.padRadius=function(xe){return arguments.length?(V=xe==Ha?Ha:Dt(xe),ue):V},ue.startAngle=function(xe){return arguments.length?(X=Dt(xe),ue):X},ue.endAngle=function(xe){return arguments.length?($=Dt(xe),ue):$},ue.padAngle=function(xe){return arguments.length?(he=Dt(xe),ue):he},ue.centroid=function(){var xe=(+i.apply(this,arguments)+ +b.apply(this,arguments))/2,_e=(+X.apply(this,arguments)+ +$.apply(this,arguments))/2-De;return[Math.cos(_e)*xe,Math.sin(_e)*xe]},ue};var Ha="auto";function Vo(i){return i.innerRadius}function Wo(i){return i.outerRadius}function ri(i){return i.startAngle}function ai(i){return i.endAngle}function Zo(i){return i&&i.padAngle}function Oa(i,b,D,V){return(i-D)*b-(b-V)*i>0?0:1}function Ba(i,b,D,V,X){var $=i[0]-b[0],he=i[1]-b[1],ue=(X?V:-V)/Math.sqrt($*$+he*he),ye=ue*he,xe=-ue*$,_e=i[0]+ye,Pe=i[1]+xe,Ne=b[0]+ye,$e=b[1]+xe,ot=(_e+Ne)/2,He=(Pe+$e)/2,Ge=Ne-_e,Qe=$e-Pe,lt=Ge*Ge+Qe*Qe,ut=D-V,Ke=_e*$e-Ne*Pe,Nt=(Qe<0?-1:1)*Math.sqrt(Math.max(0,ut*ut*lt-Ke*Ke)),Vt=(Ke*Qe-Ge*Nt)/lt,Qt=(-Ke*Ge-Qe*Nt)/lt,Zt=(Ke*Qe+Ge*Nt)/lt,qt=(-Ke*Ge+Qe*Nt)/lt,er=Vt-ot,sr=Qt-He,ar=Zt-ot,or=qt-He;return er*er+sr*sr>ar*ar+or*or&&(Vt=Zt,Qt=qt),[[Vt-ye,Qt-xe],[Vt*D/ut,Qt*D/ut]]}function ni(){return!0}function ii(i){var b=_r,D=wr,V=ni,X=Jr,$=X.key,he=.7;function ue(ye){var xe=[],_e=[],Pe=-1,Ne=ye.length,$e,ot=Dt(b),He=Dt(D);function Ge(){xe.push("M",X(i(_e),he))}for(;++Pe<Ne;)V.call(this,$e=ye[Pe],Pe)?_e.push([+ot.call(this,$e,Pe),+He.call(this,$e,Pe)]):_e.length&&(Ge(),_e=[]);return _e.length&&Ge(),xe.length?xe.join(""):null}return ue.x=function(ye){return arguments.length?(b=ye,ue):b},ue.y=function(ye){return arguments.length?(D=ye,ue):D},ue.defined=function(ye){return arguments.length?(V=ye,ue):V},ue.interpolate=function(ye){return arguments.length?(typeof ye=="function"?$=X=ye:$=(X=fn.get(ye)||Jr).key,ue):$},ue.tension=function(ye){return arguments.length?(he=ye,ue):he},ue}t.svg.line=function(){return ii(ee)};var fn=t.map({linear:Jr,"linear-closed":oi,step:Xo,"step-before":cn,"step-after":vn,basis:li,"basis-open":jo,"basis-closed":$o,bundle:qo,cardinal:Ko,"cardinal-open":Jo,"cardinal-closed":Qo,monotone:rl});fn.forEach(function(i,b){b.key=i,b.closed=/-closed$/.test(i)});function Jr(i){return i.length>1?i.join("L"):i+"Z"}function oi(i){return i.join("L")+"Z"}function Xo(i){for(var b=0,D=i.length,V=i[0],X=[V[0],",",V[1]];++b<D;)X.push("H",(V[0]+(V=i[b])[0])/2,"V",V[1]);return D>1&&X.push("H",V[0]),X.join("")}function cn(i){for(var b=0,D=i.length,V=i[0],X=[V[0],",",V[1]];++b<D;)X.push("V",(V=i[b])[1],"H",V[0]);return X.join("")}function vn(i){for(var b=0,D=i.length,V=i[0],X=[V[0],",",V[1]];++b<D;)X.push("H",(V=i[b])[0],"V",V[1]);return X.join("")}function Jo(i,b){return i.length<4?Jr(i):i[1]+Ya(i.slice(1,-1),hn(i,b))}function Qo(i,b){return i.length<3?oi(i):i[0]+Ya((i.push(i[0]),i),hn([i[i.length-2]].concat(i,[i[1]]),b))}function Ko(i,b){return i.length<3?Jr(i):i[0]+Ya(i,hn(i,b))}function Ya(i,b){if(b.length<1||i.length!=b.length&&i.length!=b.length+2)return Jr(i);var D=i.length!=b.length,V="",X=i[0],$=i[1],he=b[0],ue=he,ye=1;if(D&&(V+="Q"+($[0]-he[0]*2/3)+","+($[1]-he[1]*2/3)+","+$[0]+","+$[1],X=i[1],ye=2),b.length>1){ue=b[1],$=i[ye],ye++,V+="C"+(X[0]+he[0])+","+(X[1]+he[1])+","+($[0]-ue[0])+","+($[1]-ue[1])+","+$[0]+","+$[1];for(var xe=2;xe<b.length;xe++,ye++)$=i[ye],ue=b[xe],V+="S"+($[0]-ue[0])+","+($[1]-ue[1])+","+$[0]+","+$[1]}if(D){var _e=i[ye];V+="Q"+($[0]+ue[0]*2/3)+","+($[1]+ue[1]*2/3)+","+_e[0]+","+_e[1]}return V}function hn(i,b){for(var D=[],V=(1-b)/2,X,$=i[0],he=i[1],ue=1,ye=i.length;++ue<ye;)X=$,$=he,he=i[ue],D.push([V*(he[0]-X[0]),V*(he[1]-X[1])]);return D}function li(i){if(i.length<3)return Jr(i);var b=1,D=i.length,V=i[0],X=V[0],$=V[1],he=[X,X,X,(V=i[1])[0]],ue=[$,$,$,V[1]],ye=[X,",",$,"L",Vr(la,he),",",Vr(la,ue)];for(i.push(i[D-1]);++b<=D;)V=i[b],he.shift(),he.push(V[0]),ue.shift(),ue.push(V[1]),dn(ye,he,ue);return i.pop(),ye.push("L",V),ye.join("")}function jo(i){if(i.length<4)return Jr(i);for(var b=[],D=-1,V=i.length,X,$=[0],he=[0];++D<3;)X=i[D],$.push(X[0]),he.push(X[1]);for(b.push(Vr(la,$)+","+Vr(la,he)),--D;++D<V;)X=i[D],$.shift(),$.push(X[0]),he.shift(),he.push(X[1]),dn(b,$,he);return b.join("")}function $o(i){for(var b,D=-1,V=i.length,X=V+4,$,he=[],ue=[];++D<4;)$=i[D%V],he.push($[0]),ue.push($[1]);for(b=[Vr(la,he),",",Vr(la,ue)],--D;++D<X;)$=i[D%V],he.shift(),he.push($[0]),ue.shift(),ue.push($[1]),dn(b,he,ue);return b.join("")}function qo(i,b){var D=i.length-1;if(D)for(var V=i[0][0],X=i[0][1],$=i[D][0]-V,he=i[D][1]-X,ue=-1,ye,xe;++ue<=D;)ye=i[ue],xe=ue/D,ye[0]=b*ye[0]+(1-b)*(V+xe*$),ye[1]=b*ye[1]+(1-b)*(X+xe*he);return li(i)}function Vr(i,b){return i[0]*b[0]+i[1]*b[1]+i[2]*b[2]+i[3]*b[3]}var si=[0,2/3,1/3,0],ui=[0,1/3,2/3,0],la=[0,1/6,2/3,1/6];function dn(i,b,D){i.push("C",Vr(si,b),",",Vr(si,D),",",Vr(ui,b),",",Vr(ui,D),",",Vr(la,b),",",Vr(la,D))}function pn(i,b){return(b[1]-i[1])/(b[0]-i[0])}function el(i){for(var b=0,D=i.length-1,V=[],X=i[0],$=i[1],he=V[0]=pn(X,$);++b<D;)V[b]=(he+(he=pn(X=$,$=i[b+1])))/2;return V[b]=he,V}function tl(i){for(var b=[],D,V,X,$,he=el(i),ue=-1,ye=i.length-1;++ue<ye;)D=pn(i[ue],i[ue+1]),p(D)<ze?he[ue]=he[ue+1]=0:(V=he[ue]/D,X=he[ue+1]/D,$=V*V+X*X,$>9&&($=D*3/Math.sqrt($),he[ue]=$*V,he[ue+1]=$*X));for(ue=-1;++ue<=ye;)$=(i[Math.min(ye,ue+1)][0]-i[Math.max(0,ue-1)][0])/(6*(1+he[ue]*he[ue])),b.push([$||0,he[ue]*$||0]);return b}function rl(i){return i.length<3?Jr(i):i[0]+Ya(i,tl(i))}t.svg.line.radial=function(){var i=ii(fi);return i.radius=i.x,delete i.x,i.angle=i.y,delete i.y,i};function fi(i){for(var b,D=-1,V=i.length,X,$;++D<V;)b=i[D],X=b[0],$=b[1]-De,b[0]=X*Math.cos($),b[1]=X*Math.sin($);return i}function ci(i){var b=_r,D=_r,V=0,X=wr,$=ni,he=Jr,ue=he.key,ye=he,xe="L",_e=.7;function Pe(Ne){var $e=[],ot=[],He=[],Ge=-1,Qe=Ne.length,lt,ut=Dt(b),Ke=Dt(V),Nt=b===D?function(){return Qt}:Dt(D),Vt=V===X?function(){return Zt}:Dt(X),Qt,Zt;function qt(){$e.push("M",he(i(He),_e),xe,ye(i(ot.reverse()),_e),"Z")}for(;++Ge<Qe;)$.call(this,lt=Ne[Ge],Ge)?(ot.push([Qt=+ut.call(this,lt,Ge),Zt=+Ke.call(this,lt,Ge)]),He.push([+Nt.call(this,lt,Ge),+Vt.call(this,lt,Ge)])):ot.length&&(qt(),ot=[],He=[]);return ot.length&&qt(),$e.length?$e.join(""):null}return Pe.x=function(Ne){return arguments.length?(b=D=Ne,Pe):D},Pe.x0=function(Ne){return arguments.length?(b=Ne,Pe):b},Pe.x1=function(Ne){return arguments.length?(D=Ne,Pe):D},Pe.y=function(Ne){return arguments.length?(V=X=Ne,Pe):X},Pe.y0=function(Ne){return arguments.length?(V=Ne,Pe):V},Pe.y1=function(Ne){return arguments.length?(X=Ne,Pe):X},Pe.defined=function(Ne){return arguments.length?($=Ne,Pe):$},Pe.interpolate=function(Ne){return arguments.length?(typeof Ne=="function"?ue=he=Ne:ue=(he=fn.get(Ne)||Jr).key,ye=he.reverse||he,xe=he.closed?"M":"L",Pe):ue},Pe.tension=function(Ne){return arguments.length?(_e=Ne,Pe):_e},Pe}cn.reverse=vn,vn.reverse=cn,t.svg.area=function(){return ci(ee)},t.svg.area.radial=function(){var i=ci(fi);return i.radius=i.x,delete i.x,i.innerRadius=i.x0,delete i.x0,i.outerRadius=i.x1,delete i.x1,i.angle=i.y,delete i.y,i.startAngle=i.y0,delete i.y0,i.endAngle=i.y1,delete i.y1,i};function vi(i){return i.source}function hi(i){return i.target}t.svg.chord=function(){var i=vi,b=hi,D=al,V=ri,X=ai;function $(_e,Pe){var Ne=he(this,i,_e,Pe),$e=he(this,b,_e,Pe);return"M"+Ne.p0+ye(Ne.r,Ne.p1,Ne.a1-Ne.a0)+(ue(Ne,$e)?xe(Ne.r,Ne.p1,Ne.r,Ne.p0):xe(Ne.r,Ne.p1,$e.r,$e.p0)+ye($e.r,$e.p1,$e.a1-$e.a0)+xe($e.r,$e.p1,Ne.r,Ne.p0))+"Z"}function he(_e,Pe,Ne,$e){var ot=Pe.call(_e,Ne,$e),He=D.call(_e,ot,$e),Ge=V.call(_e,ot,$e)-De,Qe=X.call(_e,ot,$e)-De;return{r:He,a0:Ge,a1:Qe,p0:[He*Math.cos(Ge),He*Math.sin(Ge)],p1:[He*Math.cos(Qe),He*Math.sin(Qe)]}}function ue(_e,Pe){return _e.a0==Pe.a0&&_e.a1==Pe.a1}function ye(_e,Pe,Ne){return"A"+_e+","+_e+" 0 "+ +(Ne>ve)+",1 "+Pe}function xe(_e,Pe,Ne,$e){return"Q 0,0 "+$e}return $.radius=function(_e){return arguments.length?(D=Dt(_e),$):D},$.source=function(_e){return arguments.length?(i=Dt(_e),$):i},$.target=function(_e){return arguments.length?(b=Dt(_e),$):b},$.startAngle=function(_e){return arguments.length?(V=Dt(_e),$):V},$.endAngle=function(_e){return arguments.length?(X=Dt(_e),$):X},$};function al(i){return i.radius}t.svg.diagonal=function(){var i=vi,b=hi,D=di;function V(X,$){var he=i.call(this,X,$),ue=b.call(this,X,$),ye=(he.y+ue.y)/2,xe=[he,{x:he.x,y:ye},{x:ue.x,y:ye},ue];return xe=xe.map(D),"M"+xe[0]+"C"+xe[1]+" "+xe[2]+" "+xe[3]}return V.source=function(X){return arguments.length?(i=Dt(X),V):i},V.target=function(X){return arguments.length?(b=Dt(X),V):b},V.projection=function(X){return arguments.length?(D=X,V):D},V};function di(i){return[i.x,i.y]}t.svg.diagonal.radial=function(){var i=t.svg.diagonal(),b=di,D=i.projection;return i.projection=function(V){return arguments.length?D(nl(b=V)):b},i};function nl(i){return function(){var b=i.apply(this,arguments),D=b[0],V=b[1]-De;return[D*Math.cos(V),D*Math.sin(V)]}}t.svg.symbol=function(){var i=ol,b=il;function D(V,X){return(mi.get(i.call(this,V,X))||pi)(b.call(this,V,X))}return D.type=function(V){return arguments.length?(i=Dt(V),D):i},D.size=function(V){return arguments.length?(b=Dt(V),D):b},D};function il(){return 64}function ol(){return"circle"}function pi(i){var b=Math.sqrt(i/ve);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}var mi=t.map({circle:pi,cross:function(i){var b=Math.sqrt(i/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(i){var b=Math.sqrt(i/(2*yi)),D=b*yi;return"M0,"+-b+"L"+D+",0 0,"+b+" "+-D+",0Z"},square:function(i){var b=Math.sqrt(i)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(i){var b=Math.sqrt(i/Ua),D=b*Ua/2;return"M0,"+D+"L"+b+","+-D+" "+-b+","+-D+"Z"},"triangle-up":function(i){var b=Math.sqrt(i/Ua),D=b*Ua/2;return"M0,"+-D+"L"+b+","+D+" "+-b+","+D+"Z"}});t.svg.symbolTypes=mi.keys();var Ua=Math.sqrt(3),yi=Math.tan(30*je);z.transition=function(i){for(var b=ca||++bi,D=yn(i),V=[],X,$,he=Va||{time:Date.now(),ease:Hi,delay:0,duration:250},ue=-1,ye=this.length;++ue<ye;){V.push(X=[]);for(var xe=this[ue],_e=-1,Pe=xe.length;++_e<Pe;)($=xe[_e])&&Wa($,_e,D,b,he),X.push($)}return Aa(V,D,b)},z.interrupt=function(i){return this.each(i==null?Ga:gi(yn(i)))};var Ga=gi(yn());function gi(i){return function(){var b,D,V;(b=this[i])&&(V=b[D=b.active])&&(V.timer.c=null,V.timer.t=NaN,--b.count?delete b[D]:delete this[i],b.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function Aa(i,b,D){return q(i,kr),i.namespace=b,i.id=D,i}var kr=[],bi=0,ca,Va;kr.call=z.call,kr.empty=z.empty,kr.node=z.node,kr.size=z.size,t.transition=function(i,b){return i&&i.transition?ca?i.transition(b):i:t.selection().transition(i)},t.transition.prototype=kr,kr.select=function(i){var b=this.id,D=this.namespace,V=[],X,$,he;i=_(i);for(var ue=-1,ye=this.length;++ue<ye;){V.push(X=[]);for(var xe=this[ue],_e=-1,Pe=xe.length;++_e<Pe;)(he=xe[_e])&&($=i.call(he,he.__data__,_e,ue))?("__data__"in he&&($.__data__=he.__data__),Wa($,_e,D,b,he[D][b]),X.push($)):X.push(null)}return Aa(V,D,b)},kr.selectAll=function(i){var b=this.id,D=this.namespace,V=[],X,$,he,ue,ye;i=O(i);for(var xe=-1,_e=this.length;++xe<_e;)for(var Pe=this[xe],Ne=-1,$e=Pe.length;++Ne<$e;)if(he=Pe[Ne]){ye=he[D][b],$=i.call(he,he.__data__,Ne,xe),V.push(X=[]);for(var ot=-1,He=$.length;++ot<He;)(ue=$[ot])&&Wa(ue,ot,D,b,ye),X.push(ue)}return Aa(V,D,b)},kr.filter=function(i){var b=[],D,V,X;typeof i!="function"&&(i=ge(i));for(var $=0,he=this.length;$<he;$++){b.push(D=[]);for(var V=this[$],ue=0,ye=V.length;ue<ye;ue++)(X=V[ue])&&i.call(X,X.__data__,ue,$)&&D.push(X)}return Aa(b,this.namespace,this.id)},kr.tween=function(i,b){var D=this.id,V=this.namespace;return arguments.length<2?this.node()[V][D].tween.get(i):Ve(this,b==null?function(X){X[V][D].tween.remove(i)}:function(X){X[V][D].tween.set(i,b)})};function mn(i,b,D,V){var X=i.id,$=i.namespace;return Ve(i,typeof D=="function"?function(he,ue,ye){he[$][X].tween.set(b,V(D.call(he,he.__data__,ue,ye)))}:(D=V(D),function(he){he[$][X].tween.set(b,D)}))}kr.attr=function(i,b){if(arguments.length<2){for(b in i)this.attr(b,i[b]);return this}var D=i=="transform"?Rn:fa,V=t.ns.qualify(i);function X(){this.removeAttribute(V)}function $(){this.removeAttributeNS(V.space,V.local)}function he(ye){return ye==null?X:(ye+="",function(){var xe=this.getAttribute(V),_e;return xe!==ye&&(_e=D(xe,ye),function(Pe){this.setAttribute(V,_e(Pe))})})}function ue(ye){return ye==null?$:(ye+="",function(){var xe=this.getAttributeNS(V.space,V.local),_e;return xe!==ye&&(_e=D(xe,ye),function(Pe){this.setAttributeNS(V.space,V.local,_e(Pe))})})}return mn(this,"attr."+i,b,V.local?ue:he)},kr.attrTween=function(i,b){var D=t.ns.qualify(i);function V($,he){var ue=b.call(this,$,he,this.getAttribute(D));return ue&&function(ye){this.setAttribute(D,ue(ye))}}function X($,he){var ue=b.call(this,$,he,this.getAttributeNS(D.space,D.local));return ue&&function(ye){this.setAttributeNS(D.space,D.local,ue(ye))}}return this.tween("attr."+i,D.local?X:V)},kr.style=function(i,b,D){var V=arguments.length;if(V<3){if(typeof i!="string"){V<2&&(b="");for(D in i)this.style(D,i[D],b);return this}D=""}function X(){this.style.removeProperty(i)}function $(he){return he==null?X:(he+="",function(){var ue=u(this).getComputedStyle(this,null).getPropertyValue(i),ye;return ue!==he&&(ye=fa(ue,he),function(xe){this.style.setProperty(i,ye(xe),D)})})}return mn(this,"style."+i,b,$)},kr.styleTween=function(i,b,D){arguments.length<3&&(D="");function V(X,$){var he=b.call(this,X,$,u(this).getComputedStyle(this,null).getPropertyValue(i));return he&&function(ue){this.style.setProperty(i,he(ue),D)}}return this.tween("style."+i,V)},kr.text=function(i){return mn(this,"text",i,ll)};function ll(i){return i==null&&(i=""),function(){this.textContent=i}}kr.remove=function(){var i=this.namespace;return this.each("end.transition",function(){var b;this[i].count<2&&(b=this.parentNode)&&b.removeChild(this)})},kr.ease=function(i){var b=this.id,D=this.namespace;return arguments.length<1?this.node()[D][b].ease:(typeof i!="function"&&(i=t.ease.apply(t,arguments)),Ve(this,function(V){V[D][b].ease=i}))},kr.delay=function(i){var b=this.id,D=this.namespace;return arguments.length<1?this.node()[D][b].delay:Ve(this,typeof i=="function"?function(V,X,$){V[D][b].delay=+i.call(V,V.__data__,X,$)}:(i=+i,function(V){V[D][b].delay=i}))},kr.duration=function(i){var b=this.id,D=this.namespace;return arguments.length<1?this.node()[D][b].duration:Ve(this,typeof i=="function"?function(V,X,$){V[D][b].duration=Math.max(1,i.call(V,V.__data__,X,$))}:(i=Math.max(1,i),function(V){V[D][b].duration=i}))},kr.each=function(i,b){var D=this.id,V=this.namespace;if(arguments.length<2){var X=Va,$=ca;try{ca=D,Ve(this,function(he,ue,ye){Va=he[V][D],i.call(he,he.__data__,ue,ye)})}finally{Va=X,ca=$}}else Ve(this,function(he){var ue=he[V][D];(ue.event||(ue.event=t.dispatch("start","end","interrupt"))).on(i,b)});return this},kr.transition=function(){for(var i=this.id,b=++bi,D=this.namespace,V=[],X,$,he,ue,ye=0,xe=this.length;ye<xe;ye++){V.push(X=[]);for(var $=this[ye],_e=0,Pe=$.length;_e<Pe;_e++)(he=$[_e])&&(ue=he[D][i],Wa(he,_e,D,b,{time:ue.time,ease:ue.ease,delay:ue.delay+ue.duration,duration:ue.duration})),X.push(he)}return Aa(V,D,b)};function yn(i){return i==null?"__transition__":"__transition_"+i+"__"}function Wa(i,b,D,V,X){var $=i[D]||(i[D]={active:0,count:0}),he=$[V],ue,ye,xe,_e,Pe;function Ne(He){var Ge=he.delay;if(ye.t=Ge+ue,Ge<=He)return $e(He-Ge);ye.c=$e}function $e(He){var Ge=$.active,Qe=$[Ge];Qe&&(Qe.timer.c=null,Qe.timer.t=NaN,--$.count,delete $[Ge],Qe.event&&Qe.event.interrupt.call(i,i.__data__,Qe.index));for(var lt in $)if(+lt<V){var ut=$[lt];ut.timer.c=null,ut.timer.t=NaN,--$.count,delete $[lt]}ye.c=ot,hr(function(){return ye.c&&ot(He||1)&&(ye.c=null,ye.t=NaN),1},0,ue),$.active=V,he.event&&he.event.start.call(i,i.__data__,b),Pe=[],he.tween.forEach(function(Ke,Nt){(Nt=Nt.call(i,i.__data__,b))&&Pe.push(Nt)}),_e=he.ease,xe=he.duration}function ot(He){for(var Ge=He/xe,Qe=_e(Ge),lt=Pe.length;lt>0;)Pe[--lt].call(i,Qe);if(Ge>=1)return he.event&&he.event.end.call(i,i.__data__,b),--$.count?delete $[V]:delete i[D],1}he||(ue=X.time,ye=hr(Ne,0,ue),he=$[V]={tween:new x,time:ue,timer:ye,delay:X.delay,duration:X.duration,ease:X.ease,index:b},X=null,++$.count)}t.svg.axis=function(){var i=t.scale.linear(),b=xi,D=6,V=6,X=3,$=[10],he=null,ue;function ye(xe){xe.each(function(){var _e=t.select(this),Pe=this.__chart__||i,Ne=this.__chart__=i.copy(),$e=he==null?Ne.ticks?Ne.ticks.apply(Ne,$):Ne.domain():he,ot=ue==null?Ne.tickFormat?Ne.tickFormat.apply(Ne,$):ee:ue,He=_e.selectAll(".tick").data($e,Ne),Ge=He.enter().insert("g",".domain").attr("class","tick").style("opacity",ze),Qe=t.transition(He.exit()).style("opacity",ze).remove(),lt=t.transition(He.order()).style("opacity",1),ut=Math.max(D,0)+X,Ke,Nt=Fa(Ne),Vt=_e.selectAll(".domain").data([0]),Qt=(Vt.enter().append("path").attr("class","domain"),t.transition(Vt));Ge.append("line"),Ge.append("text");var Zt=Ge.select("line"),qt=lt.select("line"),er=He.select("text").text(ot),sr=Ge.select("text"),ar=lt.select("text"),or=b==="top"||b==="left"?-1:1,cr,Mr,pr,Ut;if(b==="bottom"||b==="top"?(Ke=ul,cr="x",pr="y",Mr="x2",Ut="y2",er.attr("dy",or<0?"0em":".71em").style("text-anchor","middle"),Qt.attr("d","M"+Nt[0]+","+or*V+"V0H"+Nt[1]+"V"+or*V)):(Ke=fl,cr="y",pr="x",Mr="y2",Ut="x2",er.attr("dy",".32em").style("text-anchor",or<0?"end":"start"),Qt.attr("d","M"+or*V+","+Nt[0]+"H0V"+Nt[1]+"H"+or*V)),Zt.attr(Ut,or*D),sr.attr(pr,or*ut),qt.attr(Mr,0).attr(Ut,or*D),ar.attr(cr,0).attr(pr,or*ut),Ne.rangeBand){var ur=Ne,fr=ur.rangeBand()/2;Pe=Ne=function(vr){return ur(vr)+fr}}else Pe.rangeBand?Pe=Ne:Qe.call(Ke,Ne,Pe);Ge.call(Ke,Pe,Ne),lt.call(Ke,Ne,Ne)})}return ye.scale=function(xe){return arguments.length?(i=xe,ye):i},ye.orient=function(xe){return arguments.length?(b=xe in sl?xe+"":xi,ye):b},ye.ticks=function(){return arguments.length?($=o(arguments),ye):$},ye.tickValues=function(xe){return arguments.length?(he=xe,ye):he},ye.tickFormat=function(xe){return arguments.length?(ue=xe,ye):ue},ye.tickSize=function(xe){var _e=arguments.length;return _e?(D=+xe,V=+arguments[_e-1],ye):D},ye.innerTickSize=function(xe){return arguments.length?(D=+xe,ye):D},ye.outerTickSize=function(xe){return arguments.length?(V=+xe,ye):V},ye.tickPadding=function(xe){return arguments.length?(X=+xe,ye):X},ye.tickSubdivide=function(){return arguments.length&&ye},ye};var xi="bottom",sl={top:1,right:1,bottom:1,left:1};function ul(i,b,D){i.attr("transform",function(V){var X=b(V);return"translate("+(isFinite(X)?X:D(V))+",0)"})}function fl(i,b,D){i.attr("transform",function(V){var X=b(V);return"translate(0,"+(isFinite(X)?X:D(V))+")"})}t.svg.brush=function(){var i=ie(_e,"brushstart","brush","brushend"),b=null,D=null,V=[0,0],X=[0,0],$,he,ue=!0,ye=!0,xe=gn[0];function _e(He){He.each(function(){var Ge=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ot).on("touchstart.brush",ot),Qe=Ge.selectAll(".background").data([0]);Qe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ge.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var lt=Ge.selectAll(".resize").data(xe,ee);lt.exit().remove(),lt.enter().append("g").attr("class",function(Vt){return"resize "+Vt}).style("cursor",function(Vt){return cl[Vt]}).append("rect").attr("x",function(Vt){return/[ew]$/.test(Vt)?-3:null}).attr("y",function(Vt){return/^[ns]/.test(Vt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),lt.style("display",_e.empty()?"none":null);var ut=t.transition(Ge),Ke=t.transition(Qe),Nt;b&&(Nt=Fa(b),Ke.attr("x",Nt[0]).attr("width",Nt[1]-Nt[0]),Ne(ut)),D&&(Nt=Fa(D),Ke.attr("y",Nt[0]).attr("height",Nt[1]-Nt[0]),$e(ut)),Pe(ut)})}_e.event=function(He){He.each(function(){var Ge=i.of(this,arguments),Qe={x:V,y:X,i:$,j:he},lt=this.__chart__||Qe;this.__chart__=Qe,ca?t.select(this).transition().each("start.brush",function(){$=lt.i,he=lt.j,V=lt.x,X=lt.y,Ge({type:"brushstart"})}).tween("brush:brush",function(){var ut=Na(V,Qe.x),Ke=Na(X,Qe.y);return $=he=null,function(Nt){V=Qe.x=ut(Nt),X=Qe.y=Ke(Nt),Ge({type:"brush",mode:"resize"})}}).each("end.brush",function(){$=Qe.i,he=Qe.j,Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"})}):(Ge({type:"brushstart"}),Ge({type:"brush",mode:"resize"}),Ge({type:"brushend"}))})};function Pe(He){He.selectAll(".resize").attr("transform",function(Ge){return"translate("+V[+/e$/.test(Ge)]+","+X[+/^s/.test(Ge)]+")"})}function Ne(He){He.select(".extent").attr("x",V[0]),He.selectAll(".extent,.n>rect,.s>rect").attr("width",V[1]-V[0])}function $e(He){He.select(".extent").attr("y",X[0]),He.selectAll(".extent,.e>rect,.w>rect").attr("height",X[1]-X[0])}function ot(){var He=this,Ge=t.select(t.event.target),Qe=i.of(He,arguments),lt=t.select(He),ut=Ge.datum(),Ke=!/^(n|s)$/.test(ut)&&b,Nt=!/^(e|w)$/.test(ut)&&D,Vt=Ge.classed("extent"),Qt=st(He),Zt,qt=t.mouse(He),er,sr=t.select(u(He)).on("keydown.brush",cr).on("keyup.brush",Mr);if(t.event.changedTouches?sr.on("touchmove.brush",pr).on("touchend.brush",ur):sr.on("mousemove.brush",pr).on("mouseup.brush",ur),lt.interrupt().selectAll("*").interrupt(),Vt)qt[0]=V[0]-qt[0],qt[1]=X[0]-qt[1];else if(ut){var ar=+/w$/.test(ut),or=+/^n/.test(ut);er=[V[1-ar]-qt[0],X[1-or]-qt[1]],qt[0]=V[ar],qt[1]=X[or]}else t.event.altKey&&(Zt=qt.slice());lt.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",Ge.style("cursor")),Qe({type:"brushstart"}),pr();function cr(){t.event.keyCode==32&&(Vt||(Zt=null,qt[0]-=V[1],qt[1]-=X[1],Vt=2),me())}function Mr(){t.event.keyCode==32&&Vt==2&&(qt[0]+=V[1],qt[1]+=X[1],Vt=0,me())}function pr(){var fr=t.mouse(He),vr=!1;er&&(fr[0]+=er[0],fr[1]+=er[1]),Vt||(t.event.altKey?(Zt||(Zt=[(V[0]+V[1])/2,(X[0]+X[1])/2]),qt[0]=V[+(fr[0]<Zt[0])],qt[1]=X[+(fr[1]<Zt[1])]):Zt=null),Ke&&Ut(fr,b,0)&&(Ne(lt),vr=!0),Nt&&Ut(fr,D,1)&&($e(lt),vr=!0),vr&&(Pe(lt),Qe({type:"brush",mode:Vt?"move":"resize"}))}function Ut(fr,vr,gr){var Cr=Fa(vr),Er=Cr[0],zr=Cr[1],Ir=qt[gr],Fr=gr?X:V,Or=Fr[1]-Fr[0],Nr,Br;if(Vt&&(Er-=Ir,zr-=Or+Ir),Nr=(gr?ye:ue)?Math.max(Er,Math.min(zr,fr[gr])):fr[gr],Vt?Br=(Nr+=Ir)+Or:(Zt&&(Ir=Math.max(Er,Math.min(zr,2*Zt[gr]-Nr))),Ir<Nr?(Br=Nr,Nr=Ir):Br=Ir),Fr[0]!=Nr||Fr[1]!=Br)return gr?he=null:$=null,Fr[0]=Nr,Fr[1]=Br,!0}function ur(){pr(),lt.style("pointer-events","all").selectAll(".resize").style("display",_e.empty()?"none":null),t.select("body").style("cursor",null),sr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Qt(),Qe({type:"brushend"})}}return _e.x=function(He){return arguments.length?(b=He,xe=gn[!b<<1|!D],_e):b},_e.y=function(He){return arguments.length?(D=He,xe=gn[!b<<1|!D],_e):D},_e.clamp=function(He){return arguments.length?(b&&D?(ue=!!He[0],ye=!!He[1]):b?ue=!!He:D&&(ye=!!He),_e):b&&D?[ue,ye]:b?ue:D?ye:null},_e.extent=function(He){var Ge,Qe,lt,ut,Ke;return arguments.length?(b&&(Ge=He[0],Qe=He[1],D&&(Ge=Ge[0],Qe=Qe[0]),$=[Ge,Qe],b.invert&&(Ge=b(Ge),Qe=b(Qe)),Qe<Ge&&(Ke=Ge,Ge=Qe,Qe=Ke),(Ge!=V[0]||Qe!=V[1])&&(V=[Ge,Qe])),D&&(lt=He[0],ut=He[1],b&&(lt=lt[1],ut=ut[1]),he=[lt,ut],D.invert&&(lt=D(lt),ut=D(ut)),ut<lt&&(Ke=lt,lt=ut,ut=Ke),(lt!=X[0]||ut!=X[1])&&(X=[lt,ut])),_e):(b&&($?(Ge=$[0],Qe=$[1]):(Ge=V[0],Qe=V[1],b.invert&&(Ge=b.invert(Ge),Qe=b.invert(Qe)),Qe<Ge&&(Ke=Ge,Ge=Qe,Qe=Ke))),D&&(he?(lt=he[0],ut=he[1]):(lt=X[0],ut=X[1],D.invert&&(lt=D.invert(lt),ut=D.invert(ut)),ut<lt&&(Ke=lt,lt=ut,ut=Ke))),b&&D?[[Ge,lt],[Qe,ut]]:b?[Ge,Qe]:D&&[lt,ut])},_e.clear=function(){return _e.empty()||(V=[0,0],X=[0,0],$=he=null),_e},_e.empty=function(){return!!b&&V[0]==V[1]||!!D&&X[0]==X[1]},t.rebind(_e,i,"on")};var cl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];t.text=Ht(function(i){return i.responseText}),t.json=function(i,b){return Yt(i,"application/json",vl,b)};function vl(i){return JSON.parse(i.responseText)}t.html=function(i,b){return Yt(i,"text/html",hl,b)};function hl(i){var b=a.createRange();return b.selectNode(a.body),b.createContextualFragment(i.responseText)}t.xml=Ht(function(i){return i.responseXML}),typeof ae=="object"&&ae.exports?ae.exports=t:this.d3=t}).apply(self)},{}],12:[function(f,ae,W){var t=typeof Reflect=="object"?Reflect:null,n=t&&typeof t.apply=="function"?t.apply:function(d,x,C){return Function.prototype.apply.call(d,x,C)},o;t&&typeof t.ownKeys=="function"?o=t.ownKeys:Object.getOwnPropertySymbols?o=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:o=function(d){return Object.getOwnPropertyNames(d)};function a(T){console&&console.warn&&console.warn(T)}var e=Number.isNaN||function(d){return d!==d};function u(){u.init.call(this)}ae.exports=u,ae.exports.once=p,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var s=10;function l(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number"||T<0||e(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");s=T}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||e(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function r(T){return T._maxListeners===void 0?u.defaultMaxListeners:T._maxListeners}u.prototype.getMaxListeners=function(){return r(this)},u.prototype.emit=function(d){for(var x=[],C=1;C<arguments.length;C++)x.push(arguments[C]);var E=d==="error",w=this._events;if(w!==void 0)E=E&&w.error===void 0;else if(!E)return!1;if(E){var H;if(x.length>0&&(H=x[0]),H instanceof Error)throw H;var F=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw F.context=H,F}var k=w[d];if(k===void 0)return!1;if(typeof k=="function")n(k,this,x);else for(var I=k.length,U=L(k,I),C=0;C<I;++C)n(U[C],this,x);return!0};function c(T,d,x,C){var E,w,H;if(l(x),w=T._events,w===void 0?(w=T._events=Object.create(null),T._eventsCount=0):(w.newListener!==void 0&&(T.emit("newListener",d,x.listener?x.listener:x),w=T._events),H=w[d]),H===void 0)H=w[d]=x,++T._eventsCount;else if(typeof H=="function"?H=w[d]=C?[x,H]:[H,x]:C?H.unshift(x):H.push(x),E=r(T),E>0&&H.length>E&&!H.warned){H.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=T,F.type=d,F.count=H.length,a(F)}return T}u.prototype.addListener=function(d,x){return c(this,d,x,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(d,x){return c(this,d,x,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(T,d,x){var C={fired:!1,wrapFn:void 0,target:T,type:d,listener:x},E=h.bind(C);return E.listener=x,C.wrapFn=E,E}u.prototype.once=function(d,x){return l(x),this.on(d,v(this,d,x)),this},u.prototype.prependOnceListener=function(d,x){return l(x),this.prependListener(d,v(this,d,x)),this},u.prototype.removeListener=function(d,x){var C,E,w,H,F;if(l(x),E=this._events,E===void 0)return this;if(C=E[d],C===void 0)return this;if(C===x||C.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete E[d],E.removeListener&&this.emit("removeListener",d,C.listener||x));else if(typeof C!="function"){for(w=-1,H=C.length-1;H>=0;H--)if(C[H]===x||C[H].listener===x){F=C[H].listener,w=H;break}if(w<0)return this;w===0?C.shift():A(C,w),C.length===1&&(E[d]=C[0]),E.removeListener!==void 0&&this.emit("removeListener",d,F||x)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(d){var x,C,E;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[d]),this;if(arguments.length===0){var w=Object.keys(C),H;for(E=0;E<w.length;++E)H=w[E],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=C[d],typeof x=="function")this.removeListener(d,x);else if(x!==void 0)for(E=x.length-1;E>=0;E--)this.removeListener(d,x[E]);return this};function y(T,d,x){var C=T._events;if(C===void 0)return[];var E=C[d];return E===void 0?[]:typeof E=="function"?x?[E.listener||E]:[E]:x?M(E):L(E,E.length)}u.prototype.listeners=function(d){return y(this,d,!0)},u.prototype.rawListeners=function(d){return y(this,d,!1)},u.listenerCount=function(T,d){return typeof T.listenerCount=="function"?T.listenerCount(d):m.call(T,d)},u.prototype.listenerCount=m;function m(T){var d=this._events;if(d!==void 0){var x=d[T];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function L(T,d){for(var x=new Array(d),C=0;C<d;++C)x[C]=T[C];return x}function A(T,d){for(;d+1<T.length;d++)T[d]=T[d+1];T.pop()}function M(T){for(var d=new Array(T.length),x=0;x<d.length;++x)d[x]=T[x].listener||T[x];return d}function p(T,d){return new Promise(function(x,C){function E(){w!==void 0&&T.removeListener("error",w),x([].slice.call(arguments))}var w;d!=="error"&&(w=function(F){T.removeListener(d,E),C(F)},T.once("error",w)),T.once(d,E)})}},{}],13:[function(f,ae,W){(function(t,n){typeof W=="object"&&typeof ae!="undefined"?n(W):(t=typeof globalThis!="undefined"?globalThis:t||self,n(t.d3=t.d3||{}))})(this,function(t){function n(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function o(w,H){if((F=(w=H?w.toExponential(H-1):w.toExponential()).indexOf("e"))<0)return null;var F,k=w.slice(0,F);return[k.length>1?k[0]+k.slice(2):k,+w.slice(F+1)]}function a(w){return w=o(Math.abs(w)),w?w[1]:NaN}function e(w,H){return function(F,k){for(var I=F.length,U=[],Q=0,J=w[0],ee=0;I>0&&J>0&&(ee+J+1>k&&(J=Math.max(1,k-ee)),U.push(F.substring(I-=J,I+J)),!((ee+=J+1)>k));)J=w[Q=(Q+1)%w.length];return U.reverse().join(H)}}function u(w){return function(H){return H.replace(/[0-9]/g,function(F){return w[+F]})}}var s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(w){if(!(H=s.exec(w)))throw new Error("invalid format: "+w);var H;return new r({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}l.prototype=r.prototype;function r(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function c(w){e:for(var H=w.length,F=1,k=-1,I;F<H;++F)switch(w[F]){case".":k=I=F;break;case"0":k===0&&(k=F),I=F;break;default:if(!+w[F])break e;k>0&&(k=0);break}return k>0?w.slice(0,k)+w.slice(I+1):w}var h;function v(w,H){var F=o(w,H);if(!F)return w+"";var k=F[0],I=F[1],U=I-(h=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,Q=k.length;return U===Q?k:U>Q?k+new Array(U-Q+1).join("0"):U>0?k.slice(0,U)+"."+k.slice(U):"0."+new Array(1-U).join("0")+o(w,Math.max(0,H+U-1))[0]}function y(w,H){var F=o(w,H);if(!F)return w+"";var k=F[0],I=F[1];return I<0?"0."+new Array(-I).join("0")+k:k.length>I+1?k.slice(0,I+1)+"."+k.slice(I+1):k+new Array(I-k.length+2).join("0")}var m={"%":function(w,H){return(w*100).toFixed(H)},b:function(w){return Math.round(w).toString(2)},c:function(w){return w+""},d:n,e:function(w,H){return w.toExponential(H)},f:function(w,H){return w.toFixed(H)},g:function(w,H){return w.toPrecision(H)},o:function(w){return Math.round(w).toString(8)},p:function(w,H){return y(w*100,H)},r:y,s:v,X:function(w){return Math.round(w).toString(16).toUpperCase()},x:function(w){return Math.round(w).toString(16)}};function L(w){return w}var A=Array.prototype.map,M=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function p(w){var H=w.grouping===void 0||w.thousands===void 0?L:e(A.call(w.grouping,Number),w.thousands+""),F=w.currency===void 0?"":w.currency[0]+"",k=w.currency===void 0?"":w.currency[1]+"",I=w.decimal===void 0?".":w.decimal+"",U=w.numerals===void 0?L:u(A.call(w.numerals,String)),Q=w.percent===void 0?"%":w.percent+"",J=w.minus===void 0?"-":w.minus+"",ee=w.nan===void 0?"NaN":w.nan+"";function R(B){B=l(B);var te=B.fill,ne=B.align,oe=B.sign,me=B.symbol,de=B.zero,ie=B.width,Z=B.comma,q=B.precision,K=B.trim,g=B.type;g==="n"?(Z=!0,g="g"):m[g]||(q===void 0&&(q=12),K=!0,g="g"),(de||te==="0"&&ne==="=")&&(de=!0,te="0",ne="=");var S=me==="$"?F:me==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",Y=me==="$"?k:/[%p]/.test(g)?Q:"",z=m[g],_=/[defgprs%]/.test(g);q=q===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,q)):Math.max(0,Math.min(20,q));function O(N){var P=S,j=Y,se,ce,fe;if(g==="c")j=z(N)+j,N="";else{N=+N;var pe=N<0||1/N<0;if(N=isNaN(N)?ee:z(Math.abs(N),q),K&&(N=c(N)),pe&&+N==0&&oe!=="+"&&(pe=!1),P=(pe?oe==="("?oe:J:oe==="-"||oe==="("?"":oe)+P,j=(g==="s"?M[8+h/3]:"")+j+(pe&&oe==="("?")":""),_){for(se=-1,ce=N.length;++se<ce;)if(fe=N.charCodeAt(se),48>fe||fe>57){j=(fe===46?I+N.slice(se+1):N.slice(se))+j,N=N.slice(0,se);break}}}Z&&!de&&(N=H(N,1/0));var be=P.length+N.length+j.length,Re=be<ie?new Array(ie-be+1).join(te):"";switch(Z&&de&&(N=H(Re+N,Re.length?ie-j.length:1/0),Re=""),ne){case"<":N=P+N+j+Re;break;case"=":N=P+Re+N+j;break;case"^":N=Re.slice(0,be=Re.length>>1)+P+N+j+Re.slice(be);break;default:N=Re+P+N+j;break}return U(N)}return O.toString=function(){return B+""},O}function G(B,te){var ne=R((B=l(B),B.type="f",B)),oe=Math.max(-8,Math.min(8,Math.floor(a(te)/3)))*3,me=Math.pow(10,-oe),de=M[8+oe/3];return function(ie){return ne(me*ie)+de}}return{format:R,formatPrefix:G}}var T;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(w){return T=p(w),t.format=T.format,t.formatPrefix=T.formatPrefix,T}function x(w){return Math.max(0,-a(Math.abs(w)))}function C(w,H){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(a(H)/3)))*3-a(Math.abs(w)))}function E(w,H){return w=Math.abs(w),H=Math.abs(H)-w,Math.max(0,a(H)-a(w))+1}t.FormatSpecifier=r,t.formatDefaultLocale=d,t.formatLocale=p,t.formatSpecifier=l,t.precisionFixed=x,t.precisionPrefix=C,t.precisionRound=E,Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(f,ae,W){(function(t,n){typeof W=="object"&&typeof ae!="undefined"?n(W,f("d3-time")):(t=t||self,n(t.d3=t.d3||{},t.d3))})(this,function(t,n){function o(Ce){if(0<=Ce.y&&Ce.y<100){var ze=new Date(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L);return ze.setFullYear(Ce.y),ze}return new Date(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L)}function a(Ce){if(0<=Ce.y&&Ce.y<100){var ze=new Date(Date.UTC(-1,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L));return ze.setUTCFullYear(Ce.y),ze}return new Date(Date.UTC(Ce.y,Ce.m,Ce.d,Ce.H,Ce.M,Ce.S,Ce.L))}function e(Ce,ze,et){return{y:Ce,m:ze,d:et,H:0,M:0,S:0,L:0}}function u(Ce){var ze=Ce.dateTime,et=Ce.date,ve=Ce.time,we=Ce.periods,Me=Ce.days,De=Ce.shortDays,je=Ce.months,We=Ce.shortMonths,ht=y(we),vt=m(we),it=y(Me),Ze=m(Me),_t=y(De),Lt=m(De),wt=y(je),Gt=m(je),Kt=y(We),$t=m(We),It={a:Fe,A:Ie,b:Ue,B:tt,c:null,d:B,e:B,f:de,H:te,I:ne,j:oe,L:me,m:ie,M:Z,p:at,q:bt,Q:Je,s:ft,S:q,u:K,U:g,V:S,w:Y,W:z,x:null,X:null,y:_,Y:O,Z:N,"%":Xe},Bt={a:Tt,A:Ft,b:dt,B:rt,c:null,d:P,e:P,f:pe,H:j,I:se,j:ce,L:fe,m:be,M:Re,p:kt,q:Rt,Q:Je,s:ft,S:ke,u:Oe,U:Be,V:Ae,w:ge,W:Ee,x:null,X:null,y:Ve,Y:xt,Z:Ye,"%":Xe},zt={a:jt,A:St,b:le,B:re,c:Le,d:H,e:H,f:J,H:k,I:k,j:F,L:Q,m:w,M:I,p:Jt,q:E,Q:R,s:G,S:U,u:A,U:M,V:p,w:L,W:T,x:Te,X:Se,y:x,Y:d,Z:C,"%":ee};It.x=ct(et,It),It.X=ct(ve,It),It.c=ct(ze,It),Bt.x=ct(et,Bt),Bt.X=ct(ve,Bt),Bt.c=ct(ze,Bt);function ct(nt,Mt){return function(Et){var pt=[],Dt=-1,Ht=0,Yt=nt.length,Pt,nr,lr;for(Et instanceof Date||(Et=new Date(+Et));++Dt<Yt;)nt.charCodeAt(Dt)===37&&(pt.push(nt.slice(Ht,Dt)),(nr=s[Pt=nt.charAt(++Dt)])!=null?Pt=nt.charAt(++Dt):nr=Pt==="e"?" ":"0",(lr=Mt[Pt])&&(Pt=lr(Et,nr)),pt.push(Pt),Ht=Dt+1);return pt.push(nt.slice(Ht,Dt)),pt.join("")}}function Wt(nt,Mt){return function(Et){var pt=e(1900,void 0,1),Dt=Ot(pt,nt,Et+="",0),Ht,Yt;if(Dt!=Et.length)return null;if("Q"in pt)return new Date(pt.Q);if("s"in pt)return new Date(pt.s*1e3+("L"in pt?pt.L:0));if(Mt&&!("Z"in pt)&&(pt.Z=0),"p"in pt&&(pt.H=pt.H%12+pt.p*12),pt.m===void 0&&(pt.m="q"in pt?pt.q:0),"V"in pt){if(pt.V<1||pt.V>53)return null;"w"in pt||(pt.w=1),"Z"in pt?(Ht=a(e(pt.y,0,1)),Yt=Ht.getUTCDay(),Ht=Yt>4||Yt===0?n.utcMonday.ceil(Ht):n.utcMonday(Ht),Ht=n.utcDay.offset(Ht,(pt.V-1)*7),pt.y=Ht.getUTCFullYear(),pt.m=Ht.getUTCMonth(),pt.d=Ht.getUTCDate()+(pt.w+6)%7):(Ht=o(e(pt.y,0,1)),Yt=Ht.getDay(),Ht=Yt>4||Yt===0?n.timeMonday.ceil(Ht):n.timeMonday(Ht),Ht=n.timeDay.offset(Ht,(pt.V-1)*7),pt.y=Ht.getFullYear(),pt.m=Ht.getMonth(),pt.d=Ht.getDate()+(pt.w+6)%7)}else("W"in pt||"U"in pt)&&("w"in pt||(pt.w="u"in pt?pt.u%7:"W"in pt?1:0),Yt="Z"in pt?a(e(pt.y,0,1)).getUTCDay():o(e(pt.y,0,1)).getDay(),pt.m=0,pt.d="W"in pt?(pt.w+6)%7+pt.W*7-(Yt+5)%7:pt.w+pt.U*7-(Yt+6)%7);return"Z"in pt?(pt.H+=pt.Z/100|0,pt.M+=pt.Z%100,a(pt)):o(pt)}}function Ot(nt,Mt,Et,pt){for(var Dt=0,Ht=Mt.length,Yt=Et.length,Pt,nr;Dt<Ht;){if(pt>=Yt)return-1;if(Pt=Mt.charCodeAt(Dt++),Pt===37){if(Pt=Mt.charAt(Dt++),nr=zt[Pt in s?Mt.charAt(Dt++):Pt],!nr||(pt=nr(nt,Et,pt))<0)return-1}else if(Pt!=Et.charCodeAt(pt++))return-1}return pt}function Jt(nt,Mt,Et){var pt=ht.exec(Mt.slice(Et));return pt?(nt.p=vt[pt[0].toLowerCase()],Et+pt[0].length):-1}function jt(nt,Mt,Et){var pt=_t.exec(Mt.slice(Et));return pt?(nt.w=Lt[pt[0].toLowerCase()],Et+pt[0].length):-1}function St(nt,Mt,Et){var pt=it.exec(Mt.slice(Et));return pt?(nt.w=Ze[pt[0].toLowerCase()],Et+pt[0].length):-1}function le(nt,Mt,Et){var pt=Kt.exec(Mt.slice(Et));return pt?(nt.m=$t[pt[0].toLowerCase()],Et+pt[0].length):-1}function re(nt,Mt,Et){var pt=wt.exec(Mt.slice(Et));return pt?(nt.m=Gt[pt[0].toLowerCase()],Et+pt[0].length):-1}function Le(nt,Mt,Et){return Ot(nt,ze,Mt,Et)}function Te(nt,Mt,Et){return Ot(nt,et,Mt,Et)}function Se(nt,Mt,Et){return Ot(nt,ve,Mt,Et)}function Fe(nt){return De[nt.getDay()]}function Ie(nt){return Me[nt.getDay()]}function Ue(nt){return We[nt.getMonth()]}function tt(nt){return je[nt.getMonth()]}function at(nt){return we[+(nt.getHours()>=12)]}function bt(nt){return 1+~~(nt.getMonth()/3)}function Tt(nt){return De[nt.getUTCDay()]}function Ft(nt){return Me[nt.getUTCDay()]}function dt(nt){return We[nt.getUTCMonth()]}function rt(nt){return je[nt.getUTCMonth()]}function kt(nt){return we[+(nt.getUTCHours()>=12)]}function Rt(nt){return 1+~~(nt.getUTCMonth()/3)}return{format:function(nt){var Mt=ct(nt+="",It);return Mt.toString=function(){return nt},Mt},parse:function(nt){var Mt=Wt(nt+="",!1);return Mt.toString=function(){return nt},Mt},utcFormat:function(nt){var Mt=ct(nt+="",Bt);return Mt.toString=function(){return nt},Mt},utcParse:function(nt){var Mt=Wt(nt+="",!0);return Mt.toString=function(){return nt},Mt}}}var s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,r=/^%/,c=/[\\^$*+?|[\]().{}]/g;function h(Ce,ze,et){var ve=Ce<0?"-":"",we=(ve?-Ce:Ce)+"",Me=we.length;return ve+(Me<et?new Array(et-Me+1).join(ze)+we:we)}function v(Ce){return Ce.replace(c,"\\$&")}function y(Ce){return new RegExp("^(?:"+Ce.map(v).join("|")+")","i")}function m(Ce){for(var ze={},et=-1,ve=Ce.length;++et<ve;)ze[Ce[et].toLowerCase()]=et;return ze}function L(Ce,ze,et){var ve=l.exec(ze.slice(et,et+1));return ve?(Ce.w=+ve[0],et+ve[0].length):-1}function A(Ce,ze,et){var ve=l.exec(ze.slice(et,et+1));return ve?(Ce.u=+ve[0],et+ve[0].length):-1}function M(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.U=+ve[0],et+ve[0].length):-1}function p(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.V=+ve[0],et+ve[0].length):-1}function T(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.W=+ve[0],et+ve[0].length):-1}function d(Ce,ze,et){var ve=l.exec(ze.slice(et,et+4));return ve?(Ce.y=+ve[0],et+ve[0].length):-1}function x(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.y=+ve[0]+(+ve[0]>68?1900:2e3),et+ve[0].length):-1}function C(Ce,ze,et){var ve=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ze.slice(et,et+6));return ve?(Ce.Z=ve[1]?0:-(ve[2]+(ve[3]||"00")),et+ve[0].length):-1}function E(Ce,ze,et){var ve=l.exec(ze.slice(et,et+1));return ve?(Ce.q=ve[0]*3-3,et+ve[0].length):-1}function w(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.m=ve[0]-1,et+ve[0].length):-1}function H(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.d=+ve[0],et+ve[0].length):-1}function F(Ce,ze,et){var ve=l.exec(ze.slice(et,et+3));return ve?(Ce.m=0,Ce.d=+ve[0],et+ve[0].length):-1}function k(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.H=+ve[0],et+ve[0].length):-1}function I(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.M=+ve[0],et+ve[0].length):-1}function U(Ce,ze,et){var ve=l.exec(ze.slice(et,et+2));return ve?(Ce.S=+ve[0],et+ve[0].length):-1}function Q(Ce,ze,et){var ve=l.exec(ze.slice(et,et+3));return ve?(Ce.L=+ve[0],et+ve[0].length):-1}function J(Ce,ze,et){var ve=l.exec(ze.slice(et,et+6));return ve?(Ce.L=Math.floor(ve[0]/1e3),et+ve[0].length):-1}function ee(Ce,ze,et){var ve=r.exec(ze.slice(et,et+1));return ve?et+ve[0].length:-1}function R(Ce,ze,et){var ve=l.exec(ze.slice(et));return ve?(Ce.Q=+ve[0],et+ve[0].length):-1}function G(Ce,ze,et){var ve=l.exec(ze.slice(et));return ve?(Ce.s=+ve[0],et+ve[0].length):-1}function B(Ce,ze){return h(Ce.getDate(),ze,2)}function te(Ce,ze){return h(Ce.getHours(),ze,2)}function ne(Ce,ze){return h(Ce.getHours()%12||12,ze,2)}function oe(Ce,ze){return h(1+n.timeDay.count(n.timeYear(Ce),Ce),ze,3)}function me(Ce,ze){return h(Ce.getMilliseconds(),ze,3)}function de(Ce,ze){return me(Ce,ze)+"000"}function ie(Ce,ze){return h(Ce.getMonth()+1,ze,2)}function Z(Ce,ze){return h(Ce.getMinutes(),ze,2)}function q(Ce,ze){return h(Ce.getSeconds(),ze,2)}function K(Ce){var ze=Ce.getDay();return ze===0?7:ze}function g(Ce,ze){return h(n.timeSunday.count(n.timeYear(Ce)-1,Ce),ze,2)}function S(Ce,ze){var et=Ce.getDay();return Ce=et>=4||et===0?n.timeThursday(Ce):n.timeThursday.ceil(Ce),h(n.timeThursday.count(n.timeYear(Ce),Ce)+(n.timeYear(Ce).getDay()===4),ze,2)}function Y(Ce){return Ce.getDay()}function z(Ce,ze){return h(n.timeMonday.count(n.timeYear(Ce)-1,Ce),ze,2)}function _(Ce,ze){return h(Ce.getFullYear()%100,ze,2)}function O(Ce,ze){return h(Ce.getFullYear()%1e4,ze,4)}function N(Ce){var ze=Ce.getTimezoneOffset();return(ze>0?"-":(ze*=-1,"+"))+h(ze/60|0,"0",2)+h(ze%60,"0",2)}function P(Ce,ze){return h(Ce.getUTCDate(),ze,2)}function j(Ce,ze){return h(Ce.getUTCHours(),ze,2)}function se(Ce,ze){return h(Ce.getUTCHours()%12||12,ze,2)}function ce(Ce,ze){return h(1+n.utcDay.count(n.utcYear(Ce),Ce),ze,3)}function fe(Ce,ze){return h(Ce.getUTCMilliseconds(),ze,3)}function pe(Ce,ze){return fe(Ce,ze)+"000"}function be(Ce,ze){return h(Ce.getUTCMonth()+1,ze,2)}function Re(Ce,ze){return h(Ce.getUTCMinutes(),ze,2)}function ke(Ce,ze){return h(Ce.getUTCSeconds(),ze,2)}function Oe(Ce){var ze=Ce.getUTCDay();return ze===0?7:ze}function Be(Ce,ze){return h(n.utcSunday.count(n.utcYear(Ce)-1,Ce),ze,2)}function Ae(Ce,ze){var et=Ce.getUTCDay();return Ce=et>=4||et===0?n.utcThursday(Ce):n.utcThursday.ceil(Ce),h(n.utcThursday.count(n.utcYear(Ce),Ce)+(n.utcYear(Ce).getUTCDay()===4),ze,2)}function ge(Ce){return Ce.getUTCDay()}function Ee(Ce,ze){return h(n.utcMonday.count(n.utcYear(Ce)-1,Ce),ze,2)}function Ve(Ce,ze){return h(Ce.getUTCFullYear()%100,ze,2)}function xt(Ce,ze){return h(Ce.getUTCFullYear()%1e4,ze,4)}function Ye(){return"+0000"}function Xe(){return"%"}function Je(Ce){return+Ce}function ft(Ce){return Math.floor(+Ce/1e3)}var yt;At({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function At(Ce){return yt=u(Ce),t.timeFormat=yt.format,t.timeParse=yt.parse,t.utcFormat=yt.utcFormat,t.utcParse=yt.utcParse,yt}var qe="%Y-%m-%dT%H:%M:%S.%LZ";function mt(Ce){return Ce.toISOString()}var st=Date.prototype.toISOString?mt:t.utcFormat(qe);function gt(Ce){var ze=new Date(Ce);return isNaN(ze)?null:ze}var Ct=+new Date("2000-01-01T00:00:00.000Z")?gt:t.utcParse(qe);t.isoFormat=st,t.isoParse=Ct,t.timeFormatDefaultLocale=At,t.timeFormatLocale=u,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(f,ae,W){(function(t,n){typeof W=="object"&&typeof ae!="undefined"?n(W):(t=t||self,n(t.d3=t.d3||{}))})(this,function(t){var n=new Date,o=new Date;function a(ge,Ee,Ve,xt){function Ye(Xe){return ge(Xe=arguments.length===0?new Date:new Date(+Xe)),Xe}return Ye.floor=function(Xe){return ge(Xe=new Date(+Xe)),Xe},Ye.ceil=function(Xe){return ge(Xe=new Date(Xe-1)),Ee(Xe,1),ge(Xe),Xe},Ye.round=function(Xe){var Je=Ye(Xe),ft=Ye.ceil(Xe);return Xe-Je<ft-Xe?Je:ft},Ye.offset=function(Xe,Je){return Ee(Xe=new Date(+Xe),Je==null?1:Math.floor(Je)),Xe},Ye.range=function(Xe,Je,ft){var yt=[],At;if(Xe=Ye.ceil(Xe),ft=ft==null?1:Math.floor(ft),!(Xe<Je)||!(ft>0))return yt;do yt.push(At=new Date(+Xe)),Ee(Xe,ft),ge(Xe);while(At<Xe&&Xe<Je);return yt},Ye.filter=function(Xe){return a(function(Je){if(Je>=Je)for(;ge(Je),!Xe(Je);)Je.setTime(Je-1)},function(Je,ft){if(Je>=Je)if(ft<0)for(;++ft<=0;)for(;Ee(Je,-1),!Xe(Je););else for(;--ft>=0;)for(;Ee(Je,1),!Xe(Je););})},Ve&&(Ye.count=function(Xe,Je){return n.setTime(+Xe),o.setTime(+Je),ge(n),ge(o),Math.floor(Ve(n,o))},Ye.every=function(Xe){return Xe=Math.floor(Xe),!isFinite(Xe)||!(Xe>0)?null:Xe>1?Ye.filter(xt?function(Je){return xt(Je)%Xe===0}:function(Je){return Ye.count(0,Je)%Xe===0}):Ye}),Ye}var e=a(function(){},function(ge,Ee){ge.setTime(+ge+Ee)},function(ge,Ee){return Ee-ge});e.every=function(ge){return ge=Math.floor(ge),!isFinite(ge)||!(ge>0)?null:ge>1?a(function(Ee){Ee.setTime(Math.floor(Ee/ge)*ge)},function(Ee,Ve){Ee.setTime(+Ee+Ve*ge)},function(Ee,Ve){return(Ve-Ee)/ge}):e};var u=e.range,s=1e3,l=6e4,r=36e5,c=864e5,h=6048e5,v=a(function(ge){ge.setTime(ge-ge.getMilliseconds())},function(ge,Ee){ge.setTime(+ge+Ee*s)},function(ge,Ee){return(Ee-ge)/s},function(ge){return ge.getUTCSeconds()}),y=v.range,m=a(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*s)},function(ge,Ee){ge.setTime(+ge+Ee*l)},function(ge,Ee){return(Ee-ge)/l},function(ge){return ge.getMinutes()}),L=m.range,A=a(function(ge){ge.setTime(ge-ge.getMilliseconds()-ge.getSeconds()*s-ge.getMinutes()*l)},function(ge,Ee){ge.setTime(+ge+Ee*r)},function(ge,Ee){return(Ee-ge)/r},function(ge){return ge.getHours()}),M=A.range,p=a(function(ge){ge.setHours(0,0,0,0)},function(ge,Ee){ge.setDate(ge.getDate()+Ee)},function(ge,Ee){return(Ee-ge-(Ee.getTimezoneOffset()-ge.getTimezoneOffset())*l)/c},function(ge){return ge.getDate()-1}),T=p.range;function d(ge){return a(function(Ee){Ee.setDate(Ee.getDate()-(Ee.getDay()+7-ge)%7),Ee.setHours(0,0,0,0)},function(Ee,Ve){Ee.setDate(Ee.getDate()+Ve*7)},function(Ee,Ve){return(Ve-Ee-(Ve.getTimezoneOffset()-Ee.getTimezoneOffset())*l)/h})}var x=d(0),C=d(1),E=d(2),w=d(3),H=d(4),F=d(5),k=d(6),I=x.range,U=C.range,Q=E.range,J=w.range,ee=H.range,R=F.range,G=k.range,B=a(function(ge){ge.setDate(1),ge.setHours(0,0,0,0)},function(ge,Ee){ge.setMonth(ge.getMonth()+Ee)},function(ge,Ee){return Ee.getMonth()-ge.getMonth()+(Ee.getFullYear()-ge.getFullYear())*12},function(ge){return ge.getMonth()}),te=B.range,ne=a(function(ge){ge.setMonth(0,1),ge.setHours(0,0,0,0)},function(ge,Ee){ge.setFullYear(ge.getFullYear()+Ee)},function(ge,Ee){return Ee.getFullYear()-ge.getFullYear()},function(ge){return ge.getFullYear()});ne.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:a(function(Ee){Ee.setFullYear(Math.floor(Ee.getFullYear()/ge)*ge),Ee.setMonth(0,1),Ee.setHours(0,0,0,0)},function(Ee,Ve){Ee.setFullYear(Ee.getFullYear()+Ve*ge)})};var oe=ne.range,me=a(function(ge){ge.setUTCSeconds(0,0)},function(ge,Ee){ge.setTime(+ge+Ee*l)},function(ge,Ee){return(Ee-ge)/l},function(ge){return ge.getUTCMinutes()}),de=me.range,ie=a(function(ge){ge.setUTCMinutes(0,0,0)},function(ge,Ee){ge.setTime(+ge+Ee*r)},function(ge,Ee){return(Ee-ge)/r},function(ge){return ge.getUTCHours()}),Z=ie.range,q=a(function(ge){ge.setUTCHours(0,0,0,0)},function(ge,Ee){ge.setUTCDate(ge.getUTCDate()+Ee)},function(ge,Ee){return(Ee-ge)/c},function(ge){return ge.getUTCDate()-1}),K=q.range;function g(ge){return a(function(Ee){Ee.setUTCDate(Ee.getUTCDate()-(Ee.getUTCDay()+7-ge)%7),Ee.setUTCHours(0,0,0,0)},function(Ee,Ve){Ee.setUTCDate(Ee.getUTCDate()+Ve*7)},function(Ee,Ve){return(Ve-Ee)/h})}var S=g(0),Y=g(1),z=g(2),_=g(3),O=g(4),N=g(5),P=g(6),j=S.range,se=Y.range,ce=z.range,fe=_.range,pe=O.range,be=N.range,Re=P.range,ke=a(function(ge){ge.setUTCDate(1),ge.setUTCHours(0,0,0,0)},function(ge,Ee){ge.setUTCMonth(ge.getUTCMonth()+Ee)},function(ge,Ee){return Ee.getUTCMonth()-ge.getUTCMonth()+(Ee.getUTCFullYear()-ge.getUTCFullYear())*12},function(ge){return ge.getUTCMonth()}),Oe=ke.range,Be=a(function(ge){ge.setUTCMonth(0,1),ge.setUTCHours(0,0,0,0)},function(ge,Ee){ge.setUTCFullYear(ge.getUTCFullYear()+Ee)},function(ge,Ee){return Ee.getUTCFullYear()-ge.getUTCFullYear()},function(ge){return ge.getUTCFullYear()});Be.every=function(ge){return!isFinite(ge=Math.floor(ge))||!(ge>0)?null:a(function(Ee){Ee.setUTCFullYear(Math.floor(Ee.getUTCFullYear()/ge)*ge),Ee.setUTCMonth(0,1),Ee.setUTCHours(0,0,0,0)},function(Ee,Ve){Ee.setUTCFullYear(Ee.getUTCFullYear()+Ve*ge)})};var Ae=Be.range;t.timeDay=p,t.timeDays=T,t.timeFriday=F,t.timeFridays=R,t.timeHour=A,t.timeHours=M,t.timeInterval=a,t.timeMillisecond=e,t.timeMilliseconds=u,t.timeMinute=m,t.timeMinutes=L,t.timeMonday=C,t.timeMondays=U,t.timeMonth=B,t.timeMonths=te,t.timeSaturday=k,t.timeSaturdays=G,t.timeSecond=v,t.timeSeconds=y,t.timeSunday=x,t.timeSundays=I,t.timeThursday=H,t.timeThursdays=ee,t.timeTuesday=E,t.timeTuesdays=Q,t.timeWednesday=w,t.timeWednesdays=J,t.timeWeek=x,t.timeWeeks=I,t.timeYear=ne,t.timeYears=oe,t.utcDay=q,t.utcDays=K,t.utcFriday=N,t.utcFridays=be,t.utcHour=ie,t.utcHours=Z,t.utcMillisecond=e,t.utcMilliseconds=u,t.utcMinute=me,t.utcMinutes=de,t.utcMonday=Y,t.utcMondays=se,t.utcMonth=ke,t.utcMonths=Oe,t.utcSaturday=P,t.utcSaturdays=Re,t.utcSecond=v,t.utcSeconds=y,t.utcSunday=S,t.utcSundays=j,t.utcThursday=O,t.utcThursdays=pe,t.utcTuesday=z,t.utcTuesdays=ce,t.utcWednesday=_,t.utcWednesdays=fe,t.utcWeek=S,t.utcWeeks=j,t.utcYear=Be,t.utcYears=Ae,Object.defineProperty(t,"__esModule",{value:!0})})},{}],16:[function(f,ae,W){arguments[4][15][0].apply(W,arguments)},{dup:15}],17:[function(f,ae,W){var t=f("is-string-blank");ae.exports=function(n){var o=typeof n;if(o==="string"){var a=n;if(n=+n,n===0&&t(a))return!1}else if(o!=="number")return!1;return n-n<1}},{"is-string-blank":52}],18:[function(f,ae,W){ae.exports=t;function t(n,o){var a=o[0],e=o[1],u=o[2],s=o[3],l=o[4],r=o[5],c=o[6],h=o[7],v=o[8],y=o[9],m=o[10],L=o[11],A=o[12],M=o[13],p=o[14],T=o[15];return n[0]=r*(m*T-L*p)-y*(c*T-h*p)+M*(c*L-h*m),n[1]=-(e*(m*T-L*p)-y*(u*T-s*p)+M*(u*L-s*m)),n[2]=e*(c*T-h*p)-r*(u*T-s*p)+M*(u*h-s*c),n[3]=-(e*(c*L-h*m)-r*(u*L-s*m)+y*(u*h-s*c)),n[4]=-(l*(m*T-L*p)-v*(c*T-h*p)+A*(c*L-h*m)),n[5]=a*(m*T-L*p)-v*(u*T-s*p)+A*(u*L-s*m),n[6]=-(a*(c*T-h*p)-l*(u*T-s*p)+A*(u*h-s*c)),n[7]=a*(c*L-h*m)-l*(u*L-s*m)+v*(u*h-s*c),n[8]=l*(y*T-L*M)-v*(r*T-h*M)+A*(r*L-h*y),n[9]=-(a*(y*T-L*M)-v*(e*T-s*M)+A*(e*L-s*y)),n[10]=a*(r*T-h*M)-l*(e*T-s*M)+A*(e*h-s*r),n[11]=-(a*(r*L-h*y)-l*(e*L-s*y)+v*(e*h-s*r)),n[12]=-(l*(y*p-m*M)-v*(r*p-c*M)+A*(r*m-c*y)),n[13]=a*(y*p-m*M)-v*(e*p-u*M)+A*(e*m-u*y),n[14]=-(a*(r*p-c*M)-l*(e*p-u*M)+A*(e*c-u*r)),n[15]=a*(r*m-c*y)-l*(e*m-u*y)+v*(e*c-u*r),n}},{}],19:[function(f,ae,W){ae.exports=t;function t(n){var o=new Float32Array(16);return o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o}},{}],20:[function(f,ae,W){ae.exports=t;function t(n,o){return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n}},{}],21:[function(f,ae,W){ae.exports=t;function t(){var n=new Float32Array(16);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],22:[function(f,ae,W){ae.exports=t;function t(n){var o=n[0],a=n[1],e=n[2],u=n[3],s=n[4],l=n[5],r=n[6],c=n[7],h=n[8],v=n[9],y=n[10],m=n[11],L=n[12],A=n[13],M=n[14],p=n[15],T=o*l-a*s,d=o*r-e*s,x=o*c-u*s,C=a*r-e*l,E=a*c-u*l,w=e*c-u*r,H=h*A-v*L,F=h*M-y*L,k=h*p-m*L,I=v*M-y*A,U=v*p-m*A,Q=y*p-m*M;return T*Q-d*U+x*I+C*k-E*F+w*H}},{}],23:[function(f,ae,W){ae.exports=t;function t(n,o){var a=o[0],e=o[1],u=o[2],s=o[3],l=a+a,r=e+e,c=u+u,h=a*l,v=e*l,y=e*r,m=u*l,L=u*r,A=u*c,M=s*l,p=s*r,T=s*c;return n[0]=1-y-A,n[1]=v+T,n[2]=m-p,n[3]=0,n[4]=v-T,n[5]=1-h-A,n[6]=L+M,n[7]=0,n[8]=m+p,n[9]=L-M,n[10]=1-h-y,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],24:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e,u,s,l=a[0],r=a[1],c=a[2],h=Math.sqrt(l*l+r*r+c*c);return Math.abs(h)<1e-6?null:(h=1/h,l*=h,r*=h,c*=h,e=Math.sin(o),u=Math.cos(o),s=1-u,n[0]=l*l*s+u,n[1]=r*l*s+c*e,n[2]=c*l*s-r*e,n[3]=0,n[4]=l*r*s-c*e,n[5]=r*r*s+u,n[6]=c*r*s+l*e,n[7]=0,n[8]=l*c*s+r*e,n[9]=r*c*s-l*e,n[10]=c*c*s+u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}},{}],25:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=o[0],u=o[1],s=o[2],l=o[3],r=e+e,c=u+u,h=s+s,v=e*r,y=e*c,m=e*h,L=u*c,A=u*h,M=s*h,p=l*r,T=l*c,d=l*h;return n[0]=1-(L+M),n[1]=y+d,n[2]=m-T,n[3]=0,n[4]=y-d,n[5]=1-(v+M),n[6]=A+p,n[7]=0,n[8]=m+T,n[9]=A-p,n[10]=1-(v+L),n[11]=0,n[12]=a[0],n[13]=a[1],n[14]=a[2],n[15]=1,n}},{}],26:[function(f,ae,W){ae.exports=t;function t(n,o){return n[0]=o[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=o[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],27:[function(f,ae,W){ae.exports=t;function t(n,o){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=1,n}},{}],28:[function(f,ae,W){ae.exports=t;function t(n,o){var a=Math.sin(o),e=Math.cos(o);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e,n[6]=a,n[7]=0,n[8]=0,n[9]=-a,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],29:[function(f,ae,W){ae.exports=t;function t(n,o){var a=Math.sin(o),e=Math.cos(o);return n[0]=e,n[1]=0,n[2]=-a,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=a,n[9]=0,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],30:[function(f,ae,W){ae.exports=t;function t(n,o){var a=Math.sin(o),e=Math.cos(o);return n[0]=e,n[1]=a,n[2]=0,n[3]=0,n[4]=-a,n[5]=e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],31:[function(f,ae,W){ae.exports=t;function t(n,o,a,e,u,s,l){var r=1/(a-o),c=1/(u-e),h=1/(s-l);return n[0]=s*2*r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s*2*c,n[6]=0,n[7]=0,n[8]=(a+o)*r,n[9]=(u+e)*c,n[10]=(l+s)*h,n[11]=-1,n[12]=0,n[13]=0,n[14]=l*s*2*h,n[15]=0,n}},{}],32:[function(f,ae,W){ae.exports=t;function t(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}},{}],33:[function(f,ae,W){ae.exports={create:f("./create"),clone:f("./clone"),copy:f("./copy"),identity:f("./identity"),transpose:f("./transpose"),invert:f("./invert"),adjoint:f("./adjoint"),determinant:f("./determinant"),multiply:f("./multiply"),translate:f("./translate"),scale:f("./scale"),rotate:f("./rotate"),rotateX:f("./rotateX"),rotateY:f("./rotateY"),rotateZ:f("./rotateZ"),fromRotation:f("./fromRotation"),fromRotationTranslation:f("./fromRotationTranslation"),fromScaling:f("./fromScaling"),fromTranslation:f("./fromTranslation"),fromXRotation:f("./fromXRotation"),fromYRotation:f("./fromYRotation"),fromZRotation:f("./fromZRotation"),fromQuat:f("./fromQuat"),frustum:f("./frustum"),perspective:f("./perspective"),perspectiveFromFieldOfView:f("./perspectiveFromFieldOfView"),ortho:f("./ortho"),lookAt:f("./lookAt"),str:f("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(f,ae,W){ae.exports=t;function t(n,o){var a=o[0],e=o[1],u=o[2],s=o[3],l=o[4],r=o[5],c=o[6],h=o[7],v=o[8],y=o[9],m=o[10],L=o[11],A=o[12],M=o[13],p=o[14],T=o[15],d=a*r-e*l,x=a*c-u*l,C=a*h-s*l,E=e*c-u*r,w=e*h-s*r,H=u*h-s*c,F=v*M-y*A,k=v*p-m*A,I=v*T-L*A,U=y*p-m*M,Q=y*T-L*M,J=m*T-L*p,ee=d*J-x*Q+C*U+E*I-w*k+H*F;return ee?(ee=1/ee,n[0]=(r*J-c*Q+h*U)*ee,n[1]=(u*Q-e*J-s*U)*ee,n[2]=(M*H-p*w+T*E)*ee,n[3]=(m*w-y*H-L*E)*ee,n[4]=(c*I-l*J-h*k)*ee,n[5]=(a*J-u*I+s*k)*ee,n[6]=(p*C-A*H-T*x)*ee,n[7]=(v*H-m*C+L*x)*ee,n[8]=(l*Q-r*I+h*F)*ee,n[9]=(e*I-a*Q-s*F)*ee,n[10]=(A*w-M*C+T*d)*ee,n[11]=(y*C-v*w-L*d)*ee,n[12]=(r*k-l*U-c*F)*ee,n[13]=(a*U-e*k+u*F)*ee,n[14]=(M*x-A*E-p*d)*ee,n[15]=(v*E-y*x+m*d)*ee,n):null}},{}],35:[function(f,ae,W){var t=f("./identity");ae.exports=n;function n(o,a,e,u){var s,l,r,c,h,v,y,m,L,A,M=a[0],p=a[1],T=a[2],d=u[0],x=u[1],C=u[2],E=e[0],w=e[1],H=e[2];return Math.abs(M-E)<1e-6&&Math.abs(p-w)<1e-6&&Math.abs(T-H)<1e-6?t(o):(y=M-E,m=p-w,L=T-H,A=1/Math.sqrt(y*y+m*m+L*L),y*=A,m*=A,L*=A,s=x*L-C*m,l=C*y-d*L,r=d*m-x*y,A=Math.sqrt(s*s+l*l+r*r),A?(A=1/A,s*=A,l*=A,r*=A):(s=0,l=0,r=0),c=m*r-L*l,h=L*s-y*r,v=y*l-m*s,A=Math.sqrt(c*c+h*h+v*v),A?(A=1/A,c*=A,h*=A,v*=A):(c=0,h=0,v=0),o[0]=s,o[1]=c,o[2]=y,o[3]=0,o[4]=l,o[5]=h,o[6]=m,o[7]=0,o[8]=r,o[9]=v,o[10]=L,o[11]=0,o[12]=-(s*M+l*p+r*T),o[13]=-(c*M+h*p+v*T),o[14]=-(y*M+m*p+L*T),o[15]=1,o)}},{"./identity":32}],36:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=o[0],u=o[1],s=o[2],l=o[3],r=o[4],c=o[5],h=o[6],v=o[7],y=o[8],m=o[9],L=o[10],A=o[11],M=o[12],p=o[13],T=o[14],d=o[15],x=a[0],C=a[1],E=a[2],w=a[3];return n[0]=x*e+C*r+E*y+w*M,n[1]=x*u+C*c+E*m+w*p,n[2]=x*s+C*h+E*L+w*T,n[3]=x*l+C*v+E*A+w*d,x=a[4],C=a[5],E=a[6],w=a[7],n[4]=x*e+C*r+E*y+w*M,n[5]=x*u+C*c+E*m+w*p,n[6]=x*s+C*h+E*L+w*T,n[7]=x*l+C*v+E*A+w*d,x=a[8],C=a[9],E=a[10],w=a[11],n[8]=x*e+C*r+E*y+w*M,n[9]=x*u+C*c+E*m+w*p,n[10]=x*s+C*h+E*L+w*T,n[11]=x*l+C*v+E*A+w*d,x=a[12],C=a[13],E=a[14],w=a[15],n[12]=x*e+C*r+E*y+w*M,n[13]=x*u+C*c+E*m+w*p,n[14]=x*s+C*h+E*L+w*T,n[15]=x*l+C*v+E*A+w*d,n}},{}],37:[function(f,ae,W){ae.exports=t;function t(n,o,a,e,u,s,l){var r=1/(o-a),c=1/(e-u),h=1/(s-l);return n[0]=-2*r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*h,n[11]=0,n[12]=(o+a)*r,n[13]=(u+e)*c,n[14]=(l+s)*h,n[15]=1,n}},{}],38:[function(f,ae,W){ae.exports=t;function t(n,o,a,e,u){var s=1/Math.tan(o/2),l=1/(e-u);return n[0]=s/a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(u+e)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*u*e*l,n[15]=0,n}},{}],39:[function(f,ae,W){ae.exports=t;function t(n,o,a,e){var u=Math.tan(o.upDegrees*Math.PI/180),s=Math.tan(o.downDegrees*Math.PI/180),l=Math.tan(o.leftDegrees*Math.PI/180),r=Math.tan(o.rightDegrees*Math.PI/180),c=2/(l+r),h=2/(u+s);return n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=-((l-r)*c*.5),n[9]=(u-s)*h*.5,n[10]=e/(a-e),n[11]=-1,n[12]=0,n[13]=0,n[14]=e*a/(a-e),n[15]=0,n}},{}],40:[function(f,ae,W){ae.exports=t;function t(n,o,a,e){var u=e[0],s=e[1],l=e[2],r=Math.sqrt(u*u+s*s+l*l),c,h,v,y,m,L,A,M,p,T,d,x,C,E,w,H,F,k,I,U,Q,J,ee,R;return Math.abs(r)<1e-6?null:(r=1/r,u*=r,s*=r,l*=r,c=Math.sin(a),h=Math.cos(a),v=1-h,y=o[0],m=o[1],L=o[2],A=o[3],M=o[4],p=o[5],T=o[6],d=o[7],x=o[8],C=o[9],E=o[10],w=o[11],H=u*u*v+h,F=s*u*v+l*c,k=l*u*v-s*c,I=u*s*v-l*c,U=s*s*v+h,Q=l*s*v+u*c,J=u*l*v+s*c,ee=s*l*v-u*c,R=l*l*v+h,n[0]=y*H+M*F+x*k,n[1]=m*H+p*F+C*k,n[2]=L*H+T*F+E*k,n[3]=A*H+d*F+w*k,n[4]=y*I+M*U+x*Q,n[5]=m*I+p*U+C*Q,n[6]=L*I+T*U+E*Q,n[7]=A*I+d*U+w*Q,n[8]=y*J+M*ee+x*R,n[9]=m*J+p*ee+C*R,n[10]=L*J+T*ee+E*R,n[11]=A*J+d*ee+w*R,o!==n&&(n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n)}},{}],41:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=Math.sin(a),u=Math.cos(a),s=o[4],l=o[5],r=o[6],c=o[7],h=o[8],v=o[9],y=o[10],m=o[11];return o!==n&&(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[4]=s*u+h*e,n[5]=l*u+v*e,n[6]=r*u+y*e,n[7]=c*u+m*e,n[8]=h*u-s*e,n[9]=v*u-l*e,n[10]=y*u-r*e,n[11]=m*u-c*e,n}},{}],42:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=Math.sin(a),u=Math.cos(a),s=o[0],l=o[1],r=o[2],c=o[3],h=o[8],v=o[9],y=o[10],m=o[11];return o!==n&&(n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[0]=s*u-h*e,n[1]=l*u-v*e,n[2]=r*u-y*e,n[3]=c*u-m*e,n[8]=s*e+h*u,n[9]=l*e+v*u,n[10]=r*e+y*u,n[11]=c*e+m*u,n}},{}],43:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=Math.sin(a),u=Math.cos(a),s=o[0],l=o[1],r=o[2],c=o[3],h=o[4],v=o[5],y=o[6],m=o[7];return o!==n&&(n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15]),n[0]=s*u+h*e,n[1]=l*u+v*e,n[2]=r*u+y*e,n[3]=c*u+m*e,n[4]=h*u-s*e,n[5]=v*u-l*e,n[6]=y*u-r*e,n[7]=m*u-c*e,n}},{}],44:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=a[0],u=a[1],s=a[2];return n[0]=o[0]*e,n[1]=o[1]*e,n[2]=o[2]*e,n[3]=o[3]*e,n[4]=o[4]*u,n[5]=o[5]*u,n[6]=o[6]*u,n[7]=o[7]*u,n[8]=o[8]*s,n[9]=o[9]*s,n[10]=o[10]*s,n[11]=o[11]*s,n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n}},{}],45:[function(f,ae,W){ae.exports=t;function t(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"}},{}],46:[function(f,ae,W){ae.exports=t;function t(n,o,a){var e=a[0],u=a[1],s=a[2],l,r,c,h,v,y,m,L,A,M,p,T;return o===n?(n[12]=o[0]*e+o[4]*u+o[8]*s+o[12],n[13]=o[1]*e+o[5]*u+o[9]*s+o[13],n[14]=o[2]*e+o[6]*u+o[10]*s+o[14],n[15]=o[3]*e+o[7]*u+o[11]*s+o[15]):(l=o[0],r=o[1],c=o[2],h=o[3],v=o[4],y=o[5],m=o[6],L=o[7],A=o[8],M=o[9],p=o[10],T=o[11],n[0]=l,n[1]=r,n[2]=c,n[3]=h,n[4]=v,n[5]=y,n[6]=m,n[7]=L,n[8]=A,n[9]=M,n[10]=p,n[11]=T,n[12]=l*e+v*u+A*s+o[12],n[13]=r*e+y*u+M*s+o[13],n[14]=c*e+m*u+p*s+o[14],n[15]=h*e+L*u+T*s+o[15]),n}},{}],47:[function(f,ae,W){ae.exports=t;function t(n,o){if(n===o){var a=o[1],e=o[2],u=o[3],s=o[6],l=o[7],r=o[11];n[1]=o[4],n[2]=o[8],n[3]=o[12],n[4]=a,n[6]=o[9],n[7]=o[13],n[8]=e,n[9]=s,n[11]=o[14],n[12]=u,n[13]=l,n[14]=r}else n[0]=o[0],n[1]=o[4],n[2]=o[8],n[3]=o[12],n[4]=o[1],n[5]=o[5],n[6]=o[9],n[7]=o[13],n[8]=o[2],n[9]=o[6],n[10]=o[10],n[11]=o[14],n[12]=o[3],n[13]=o[7],n[14]=o[11],n[15]=o[15];return n}},{}],48:[function(f,ae,W){(function(t){(function(){var n=f("is-browser"),o;typeof t.matchMedia=="function"?o=!t.matchMedia("(hover: none)").matches:o=n,ae.exports=o}).call(this)}).call(this,typeof Xa!="undefined"?Xa:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"is-browser":50}],49:[function(f,ae,W){var t=f("is-browser");function n(){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{o=!1}return o}ae.exports=t&&n()},{"is-browser":50}],50:[function(f,ae,W){ae.exports=!0},{}],51:[function(f,ae,W){ae.exports=o,ae.exports.isMobile=o,ae.exports.default=o;var t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(a){a||(a={});var e=a.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var u=a.tablet?n.test(e):t.test(e);return!u&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(u=!0),u}},{}],52:[function(f,ae,W){ae.exports=function(t){for(var n=t.length,o,a=0;a<n;a++)if(o=t.charCodeAt(a),(o<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},{}],53:[function(f,ae,W){var t={left:0,top:0};ae.exports=n;function n(a,e,u){e=e||a.currentTarget||a.srcElement,Array.isArray(u)||(u=[0,0]);var s=a.clientX||0,l=a.clientY||0,r=o(e);return u[0]=s-r.left,u[1]=l-r.top,u}function o(a){return a===window||a===document||a===document.body?t:a.getBoundingClientRect()}},{}],54:[function(f,ae,W){(function(t,n){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,e,u){e[a]=e[a]||u(),typeof ae!="undefined"&&ae.exports&&(ae.exports=e[a])})("Promise",typeof t!="undefined"?t:this,function(){var a,e,u,s=Object.prototype.toString,l=typeof n!="undefined"?function(x){return n(x)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(x,C,E,w){return Object.defineProperty(x,C,{value:E,writable:!0,configurable:w!==!1})}}catch{a=function(C,E,w){return C[E]=w,C}}u=function(){var x,C,E;function w(H,F){this.fn=H,this.self=F,this.next=void 0}return{add:function(F,k){E=new w(F,k),C?C.next=E:x=E,C=E,E=void 0},drain:function(){var F=x;for(x=C=e=void 0;F;)F.fn.call(F.self),F=F.next}}}();function r(d,x){u.add(d,x),e||(e=l(u.drain))}function c(d){var x,C=typeof d;return d!=null&&(C=="object"||C=="function")&&(x=d.then),typeof x=="function"?x:!1}function h(){for(var d=0;d<this.chain.length;d++)v(this,this.state===1?this.chain[d].success:this.chain[d].failure,this.chain[d]);this.chain.length=0}function v(d,x,C){var E,w;try{x===!1?C.reject(d.msg):(x===!0?E=d.msg:E=x.call(void 0,d.msg),E===C.promise?C.reject(TypeError("Promise-chain cycle")):(w=c(E))?w.call(E,C.resolve,C.reject):C.resolve(E))}catch(H){C.reject(H)}}function y(d){var x,C=this;if(!C.triggered){C.triggered=!0,C.def&&(C=C.def);try{(x=c(d))?r(function(){var E=new A(C);try{x.call(d,function(){y.apply(E,arguments)},function(){m.apply(E,arguments)})}catch(w){m.call(E,w)}}):(C.msg=d,C.state=1,C.chain.length>0&&r(h,C))}catch(E){m.call(new A(C),E)}}}function m(d){var x=this;x.triggered||(x.triggered=!0,x.def&&(x=x.def),x.msg=d,x.state=2,x.chain.length>0&&r(h,x))}function L(d,x,C,E){for(var w=0;w<x.length;w++)(function(F){d.resolve(x[F]).then(function(I){C(F,I)},E)})(w)}function A(d){this.def=d,this.triggered=!1}function M(d){this.promise=d,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(d){if(typeof d!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var x=new M(this);this.then=function(E,w){var H={success:typeof E=="function"?E:!0,failure:typeof w=="function"?w:!1};return H.promise=new this.constructor(function(k,I){if(typeof k!="function"||typeof I!="function")throw TypeError("Not a function");H.resolve=k,H.reject=I}),x.chain.push(H),x.state!==0&&r(h,x),H.promise},this.catch=function(E){return this.then(void 0,E)};try{d.call(void 0,function(E){y.call(x,E)},function(E){m.call(x,E)})}catch(C){m.call(x,C)}}var T=a({},"constructor",p,!1);return p.prototype=T,a(T,"__NPO__",0,!1),a(p,"resolve",function(x){var C=this;return x&&typeof x=="object"&&x.__NPO__===1?x:new C(function(w,H){if(typeof w!="function"||typeof H!="function")throw TypeError("Not a function");w(x)})}),a(p,"reject",function(x){return new this(function(E,w){if(typeof E!="function"||typeof w!="function")throw TypeError("Not a function");w(x)})}),a(p,"all",function(x){var C=this;return s.call(x)!="[object Array]"?C.reject(TypeError("Not an array")):x.length===0?C.resolve([]):new C(function(w,H){if(typeof w!="function"||typeof H!="function")throw TypeError("Not a function");var F=x.length,k=Array(F),I=0;L(C,x,function(Q,J){k[Q]=J,++I===F&&w(k)},H)})}),a(p,"race",function(x){var C=this;return s.call(x)!="[object Array]"?C.reject(TypeError("Not an array")):new C(function(w,H){if(typeof w!="function"||typeof H!="function")throw TypeError("Not a function");L(C,x,function(k,I){w(I)},H)})}),p})}).call(this)}).call(this,typeof Xa!="undefined"?Xa:typeof self!="undefined"?self:typeof window!="undefined"?window:{},f("timers").setImmediate)},{timers:66}],55:[function(f,ae,W){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function e(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var s={},l=0;l<10;l++)s["_"+String.fromCharCode(l)]=l;var r=Object.getOwnPropertyNames(s).map(function(h){return s[h]});if(r.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ae.exports=e()?Object.assign:function(u,s){for(var l,r=a(u),c,h=1;h<arguments.length;h++){l=Object(arguments[h]);for(var v in l)n.call(l,v)&&(r[v]=l[v]);if(t){c=t(l);for(var y=0;y<c.length;y++)o.call(l,c[y])&&(r[c[y]]=l[c[y]])}}return r}},{}],56:[function(f,ae,W){ae.exports=o;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function o(u){var s=[];return u.replace(n,function(l,r,c){var h=r.toLowerCase();for(c=e(c),h=="m"&&c.length>2&&(s.push([r].concat(c.splice(0,2))),h="l",r=r=="m"?"l":"L");;){if(c.length==t[h])return c.unshift(r),s.push(c);if(c.length<t[h])throw new Error("malformed path data");s.push([r].concat(c.splice(0,t[h])))}}),s}var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function e(u){var s=u.match(a);return s?s.map(Number):[]}},{}],57:[function(f,ae,W){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var t=f("./lib/build-log"),n=f("./lib/epsilon"),o=f("./lib/intersecter"),a=f("./lib/segment-chainer"),e=f("./lib/segment-selector"),u=f("./lib/geojson"),s=!1,l=n(),r;r={buildLog:function(h){return h===!0?s=t():h===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(h){return l.epsilon(h)},segments:function(h){var v=o(!0,l,s);return h.regions.forEach(v.addRegion),{segments:v.calculate(h.inverted),inverted:h.inverted}},combine:function(h,v){var y=o(!1,l,s);return{combined:y.calculate(h.segments,h.inverted,v.segments,v.inverted),inverted1:h.inverted,inverted2:v.inverted}},selectUnion:function(h){return{segments:e.union(h.combined,s),inverted:h.inverted1||h.inverted2}},selectIntersect:function(h){return{segments:e.intersect(h.combined,s),inverted:h.inverted1&&h.inverted2}},selectDifference:function(h){return{segments:e.difference(h.combined,s),inverted:h.inverted1&&!h.inverted2}},selectDifferenceRev:function(h){return{segments:e.differenceRev(h.combined,s),inverted:!h.inverted1&&h.inverted2}},selectXor:function(h){return{segments:e.xor(h.combined,s),inverted:h.inverted1!==h.inverted2}},polygon:function(h){return{regions:a(h.segments,l,s),inverted:h.inverted}},polygonFromGeoJSON:function(h){return u.toPolygon(r,h)},polygonToGeoJSON:function(h){return u.fromPolygon(r,l,h)},union:function(h,v){return c(h,v,r.selectUnion)},intersect:function(h,v){return c(h,v,r.selectIntersect)},difference:function(h,v){return c(h,v,r.selectDifference)},differenceRev:function(h,v){return c(h,v,r.selectDifferenceRev)},xor:function(h,v){return c(h,v,r.selectXor)}};function c(h,v,y){var m=r.segments(h),L=r.segments(v),A=r.combine(m,L),M=y(A);return r.polygon(M)}typeof window=="object"&&(window.PolyBool=r),ae.exports=r},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(f,ae,W){function t(){var n,o=0,a=!1;function e(u,s){return n.list.push({type:u,data:s?JSON.parse(JSON.stringify(s)):void 0}),n}return n={list:[],segmentId:function(){return o++},checkIntersection:function(u,s){return e("check",{seg1:u,seg2:s})},segmentChop:function(u,s){return e("div_seg",{seg:u,pt:s}),e("chop",{seg:u,pt:s})},statusRemove:function(u){return e("pop_seg",{seg:u})},segmentUpdate:function(u){return e("seg_update",{seg:u})},segmentNew:function(u,s){return e("new_seg",{seg:u,primary:s})},segmentRemove:function(u){return e("rem_seg",{seg:u})},tempStatus:function(u,s,l){return e("temp_status",{seg:u,above:s,below:l})},rewind:function(u){return e("rewind",{seg:u})},status:function(u,s,l){return e("status",{seg:u,above:s,below:l})},vert:function(u){return u===a?n:(a=u,e("vert",{x:u}))},log:function(u){return typeof u!="string"&&(u=JSON.stringify(u,!1,"  ")),e("log",{txt:u})},reset:function(){return e("reset")},selected:function(u){return e("selected",{segs:u})},chainStart:function(u){return e("chain_start",{seg:u})},chainRemoveHead:function(u,s){return e("chain_rem_head",{index:u,pt:s})},chainRemoveTail:function(u,s){return e("chain_rem_tail",{index:u,pt:s})},chainNew:function(u,s){return e("chain_new",{pt1:u,pt2:s})},chainMatch:function(u){return e("chain_match",{index:u})},chainClose:function(u){return e("chain_close",{index:u})},chainAddHead:function(u,s){return e("chain_add_head",{index:u,pt:s})},chainAddTail:function(u,s){return e("chain_add_tail",{index:u,pt:s})},chainConnect:function(u,s){return e("chain_con",{index1:u,index2:s})},chainReverse:function(u){return e("chain_rev",{index:u})},chainJoin:function(u,s){return e("chain_join",{index1:u,index2:s})},done:function(){return e("done")}},n}ae.exports=t},{}],59:[function(f,ae,W){function t(n){typeof n!="number"&&(n=1e-10);var o={epsilon:function(a){return typeof a=="number"&&(n=a),n},pointAboveOrOnLine:function(a,e,u){var s=e[0],l=e[1],r=u[0],c=u[1],h=a[0],v=a[1];return(r-s)*(v-l)-(c-l)*(h-s)>=-n},pointBetween:function(a,e,u){var s=a[1]-e[1],l=u[0]-e[0],r=a[0]-e[0],c=u[1]-e[1],h=r*l+s*c;if(h<n)return!1;var v=l*l+c*c;return!(h-v>-n)},pointsSameX:function(a,e){return Math.abs(a[0]-e[0])<n},pointsSameY:function(a,e){return Math.abs(a[1]-e[1])<n},pointsSame:function(a,e){return o.pointsSameX(a,e)&&o.pointsSameY(a,e)},pointsCompare:function(a,e){return o.pointsSameX(a,e)?o.pointsSameY(a,e)?0:a[1]<e[1]?-1:1:a[0]<e[0]?-1:1},pointsCollinear:function(a,e,u){var s=a[0]-e[0],l=a[1]-e[1],r=e[0]-u[0],c=e[1]-u[1];return Math.abs(s*c-r*l)<n},linesIntersect:function(a,e,u,s){var l=e[0]-a[0],r=e[1]-a[1],c=s[0]-u[0],h=s[1]-u[1],v=l*h-r*c;if(Math.abs(v)<n)return!1;var y=a[0]-u[0],m=a[1]-u[1],L=(c*m-h*y)/v,A=(l*m-r*y)/v,M={alongA:0,alongB:0,pt:[a[0]+L*l,a[1]+L*r]};return L<=-n?M.alongA=-2:L<n?M.alongA=-1:L-1<=-n?M.alongA=0:L-1<n?M.alongA=1:M.alongA=2,A<=-n?M.alongB=-2:A<n?M.alongB=-1:A-1<=-n?M.alongB=0:A-1<n?M.alongB=1:M.alongB=2,M},pointInsideRegion:function(a,e){for(var u=a[0],s=a[1],l=e[e.length-1][0],r=e[e.length-1][1],c=!1,h=0;h<e.length;h++){var v=e[h][0],y=e[h][1];y-s>n!=r-s>n&&(l-v)*(s-y)/(r-y)+v-u>n&&(c=!c),l=v,r=y}return c}};return o}ae.exports=t},{}],60:[function(f,ae,W){var t={toPolygon:function(n,o){function a(s){if(s.length<=0)return n.segments({inverted:!1,regions:[]});function l(h){var v=h.slice(0,h.length-1);return n.segments({inverted:!1,regions:[v]})}for(var r=l(s[0]),c=1;c<s.length;c++)r=n.selectDifference(n.combine(r,l(s[c])));return r}if(o.type==="Polygon")return n.polygon(a(o.coordinates));if(o.type==="MultiPolygon"){for(var e=n.segments({inverted:!1,regions:[]}),u=0;u<o.coordinates.length;u++)e=n.selectUnion(n.combine(e,a(o.coordinates[u])));return n.polygon(e)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(n,o,a){a=n.polygon(n.segments(a));function e(L,A){return o.pointInsideRegion([(L[0][0]+L[1][0])*.5,(L[0][1]+L[1][1])*.5],A)}function u(L){return{region:L,children:[]}}var s=u(null);function l(L,A){for(var M=0;M<L.children.length;M++){var p=L.children[M];if(e(A,p.region)){l(p,A);return}}for(var T=u(A),M=0;M<L.children.length;M++){var p=L.children[M];e(p.region,A)&&(T.children.push(p),L.children.splice(M,1),M--)}L.children.push(T)}for(var r=0;r<a.regions.length;r++){var c=a.regions[r];c.length<3||l(s,c)}function h(L,A){for(var M=0,p=L[L.length-1][0],T=L[L.length-1][1],d=[],x=0;x<L.length;x++){var C=L[x][0],E=L[x][1];d.push([C,E]),M+=E*p-C*T,p=C,T=E}var w=M<0;return w!==A&&d.reverse(),d.push([d[0][0],d[0][1]]),d}var v=[];function y(L){var A=[h(L.region,!1)];v.push(A);for(var M=0;M<L.children.length;M++)A.push(m(L.children[M]))}function m(L){for(var A=0;A<L.children.length;A++)y(L.children[A]);return h(L.region,!0)}for(var r=0;r<s.children.length;r++)y(s.children[r]);return v.length<=0?{type:"Polygon",coordinates:[]}:v.length==1?{type:"Polygon",coordinates:v[0]}:{type:"MultiPolygon",coordinates:v}}};ae.exports=t},{}],61:[function(f,ae,W){var t=f("./linked-list");function n(o,a,e){function u(M,p){return{id:e?e.segmentId():-1,start:M,end:p,myFill:{above:null,below:null},otherFill:null}}function s(M,p,T){return{id:e?e.segmentId():-1,start:M,end:p,myFill:{above:T.myFill.above,below:T.myFill.below},otherFill:null}}var l=t.create();function r(M,p,T,d,x,C){var E=a.pointsCompare(p,x);return E!==0?E:a.pointsSame(T,C)?0:M!==d?M?1:-1:a.pointAboveOrOnLine(T,d?x:C,d?C:x)?1:-1}function c(M,p){l.insertBefore(M,function(T){var d=r(M.isStart,M.pt,p,T.isStart,T.pt,T.other.pt);return d<0})}function h(M,p){var T=t.node({isStart:!0,pt:M.start,seg:M,primary:p,other:null,status:null});return c(T,M.end),T}function v(M,p,T){var d=t.node({isStart:!1,pt:p.end,seg:p,primary:T,other:M,status:null});M.other=d,c(d,M.pt)}function y(M,p){var T=h(M,p);return v(T,M,p),T}function m(M,p){e&&e.segmentChop(M.seg,p),M.other.remove(),M.seg.end=p,M.other.pt=p,c(M.other,M.pt)}function L(M,p){var T=s(p,M.seg.end,M.seg);return m(M,p),y(T,M.primary)}function A(M,p){var T=t.create();function d(R,G){var B=R.seg.start,te=R.seg.end,ne=G.seg.start,oe=G.seg.end;return a.pointsCollinear(B,ne,oe)?a.pointsCollinear(te,ne,oe)||a.pointAboveOrOnLine(te,ne,oe)?1:-1:a.pointAboveOrOnLine(B,ne,oe)?1:-1}function x(R){return T.findTransition(function(G){var B=d(R,G.ev);return B>0})}function C(R,G){var B=R.seg,te=G.seg,ne=B.start,oe=B.end,me=te.start,de=te.end;e&&e.checkIntersection(B,te);var ie=a.linesIntersect(ne,oe,me,de);if(ie===!1){if(!a.pointsCollinear(ne,oe,me)||a.pointsSame(ne,de)||a.pointsSame(oe,me))return!1;var Z=a.pointsSame(ne,me),q=a.pointsSame(oe,de);if(Z&&q)return G;var K=!Z&&a.pointBetween(ne,me,de),g=!q&&a.pointBetween(oe,me,de);if(Z)return g?L(G,oe):L(R,de),G;K&&(q||(g?L(G,oe):L(R,de)),L(G,ne))}else ie.alongA===0&&(ie.alongB===-1?L(R,me):ie.alongB===0?L(R,ie.pt):ie.alongB===1&&L(R,de)),ie.alongB===0&&(ie.alongA===-1?L(G,ne):ie.alongA===0?L(G,ie.pt):ie.alongA===1&&L(G,oe));return!1}for(var E=[];!l.isEmpty();){var w=l.getHead();if(e&&e.vert(w.pt[0]),w.isStart){let R=function(){if(F){var G=C(w,F);if(G)return G}return k?C(w,k):!1};e&&e.segmentNew(w.seg,w.primary);var H=x(w),F=H.before?H.before.ev:null,k=H.after?H.after.ev:null;e&&e.tempStatus(w.seg,F?F.seg:!1,k?k.seg:!1);var I=R();if(I){if(o){var U;w.seg.myFill.below===null?U=!0:U=w.seg.myFill.above!==w.seg.myFill.below,U&&(I.seg.myFill.above=!I.seg.myFill.above)}else I.seg.otherFill=w.seg.myFill;e&&e.segmentUpdate(I.seg),w.other.remove(),w.remove()}if(l.getHead()!==w){e&&e.rewind(w.seg);continue}if(o){var U;w.seg.myFill.below===null?U=!0:U=w.seg.myFill.above!==w.seg.myFill.below,k?w.seg.myFill.below=k.seg.myFill.above:w.seg.myFill.below=M,U?w.seg.myFill.above=!w.seg.myFill.below:w.seg.myFill.above=w.seg.myFill.below}else if(w.seg.otherFill===null){var Q;k?w.primary===k.primary?Q=k.seg.otherFill.above:Q=k.seg.myFill.above:Q=w.primary?p:M,w.seg.otherFill={above:Q,below:Q}}e&&e.status(w.seg,F?F.seg:!1,k?k.seg:!1),w.other.status=H.insert(t.node({ev:w}))}else{var J=w.status;if(J===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(T.exists(J.prev)&&T.exists(J.next)&&C(J.prev.ev,J.next.ev),e&&e.statusRemove(J.ev.seg),J.remove(),!w.primary){var ee=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=ee}E.push(w.seg)}l.getHead().remove()}return e&&e.done(),E}return o?{addRegion:function(M){for(var p,T=M[M.length-1],d=0;d<M.length;d++){p=T,T=M[d];var x=a.pointsCompare(p,T);x!==0&&y(u(x<0?p:T,x<0?T:p),!0)}},calculate:function(M){return A(M,!1)}}:{calculate:function(M,p,T,d){return M.forEach(function(x){y(s(x.start,x.end,x),!0)}),T.forEach(function(x){y(s(x.start,x.end,x),!1)}),A(p,d)}}}ae.exports=n},{"./linked-list":62}],62:[function(f,ae,W){var t={create:function(){var n={root:{root:!0,next:null},exists:function(o){return!(o===null||o===n.root)},isEmpty:function(){return n.root.next===null},getHead:function(){return n.root.next},insertBefore:function(o,a){for(var e=n.root,u=n.root.next;u!==null;){if(a(u)){o.prev=u.prev,o.next=u,u.prev.next=o,u.prev=o;return}e=u,u=u.next}e.next=o,o.prev=e,o.next=null},findTransition:function(o){for(var a=n.root,e=n.root.next;e!==null&&!o(e);)a=e,e=e.next;return{before:a===n.root?null:a,after:e,insert:function(u){return u.prev=a,u.next=e,a.next=u,e!==null&&(e.prev=u),u}}}};return n},node:function(n){return n.prev=null,n.next=null,n.remove=function(){n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.prev=null,n.next=null},n}};ae.exports=t},{}],63:[function(f,ae,W){function t(n,o,a){var e=[],u=[];return n.forEach(function(s){var l=s.start,r=s.end;if(o.pointsSame(l,r)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}a&&a.chainStart(s);var c={index:0,matches_head:!1,matches_pt1:!1},h={index:0,matches_head:!1,matches_pt1:!1},v=c;function y(Q,J,ee){return v.index=Q,v.matches_head=J,v.matches_pt1=ee,v===c?(v=h,!1):(v=null,!0)}for(var m=0;m<e.length;m++){var L=e[m],A=L[0];L[1];var M=L[L.length-1];if(L[L.length-2],o.pointsSame(A,l)){if(y(m,!0,!0))break}else if(o.pointsSame(A,r)){if(y(m,!0,!1))break}else if(o.pointsSame(M,l)){if(y(m,!1,!0))break}else if(o.pointsSame(M,r)&&y(m,!1,!1))break}if(v===c){e.push([l,r]),a&&a.chainNew(l,r);return}if(v===h){a&&a.chainMatch(c.index);var p=c.index,T=c.matches_pt1?r:l,d=c.matches_head,L=e[p],x=d?L[0]:L[L.length-1],C=d?L[1]:L[L.length-2],E=d?L[L.length-1]:L[0],w=d?L[L.length-2]:L[1];if(o.pointsCollinear(C,x,T)&&(d?(a&&a.chainRemoveHead(c.index,T),L.shift()):(a&&a.chainRemoveTail(c.index,T),L.pop()),x=C),o.pointsSame(E,T)){e.splice(p,1),o.pointsCollinear(w,E,x)&&(d?(a&&a.chainRemoveTail(c.index,x),L.pop()):(a&&a.chainRemoveHead(c.index,x),L.shift())),a&&a.chainClose(c.index),u.push(L);return}d?(a&&a.chainAddHead(c.index,T),L.unshift(T)):(a&&a.chainAddTail(c.index,T),L.push(T));return}function H(Q){a&&a.chainReverse(Q),e[Q].reverse()}function F(Q,J){var ee=e[Q],R=e[J],G=ee[ee.length-1],B=ee[ee.length-2],te=R[0],ne=R[1];o.pointsCollinear(B,G,te)&&(a&&a.chainRemoveTail(Q,G),ee.pop(),G=B),o.pointsCollinear(G,te,ne)&&(a&&a.chainRemoveHead(J,te),R.shift()),a&&a.chainJoin(Q,J),e[Q]=ee.concat(R),e.splice(J,1)}var k=c.index,I=h.index;a&&a.chainConnect(k,I);var U=e[k].length<e[I].length;c.matches_head?h.matches_head?U?(H(k),F(k,I)):(H(I),F(I,k)):F(I,k):h.matches_head?F(k,I):U?(H(k),F(I,k)):(H(I),F(k,I))}),u}ae.exports=t},{}],64:[function(f,ae,W){function t(o,a,e){var u=[];return o.forEach(function(s){var l=(s.myFill.above?8:0)+(s.myFill.below?4:0)+(s.otherFill&&s.otherFill.above?2:0)+(s.otherFill&&s.otherFill.below?1:0);a[l]!==0&&u.push({id:e?e.segmentId():-1,start:s.start,end:s.end,myFill:{above:a[l]===1,below:a[l]===2},otherFill:null})}),e&&e.selected(u),u}var n={union:function(o,a){return t(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],a)},intersect:function(o,a){return t(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],a)},difference:function(o,a){return t(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],a)},differenceRev:function(o,a){return t(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],a)},xor:function(o,a){return t(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],a)}};ae.exports=n},{}],65:[function(f,ae,W){var t=ae.exports={},n,o;function a(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=a}catch{n=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=e}catch{o=e}})();function u(A){if(n===setTimeout)return setTimeout(A,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(A,0);try{return n(A,0)}catch{try{return n.call(null,A,0)}catch{return n.call(this,A,0)}}}function s(A){if(o===clearTimeout)return clearTimeout(A);if((o===e||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{return o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}}var l=[],r=!1,c,h=-1;function v(){!r||!c||(r=!1,c.length?l=c.concat(l):h=-1,l.length&&y())}function y(){if(!r){var A=u(v);r=!0;for(var M=l.length;M;){for(c=l,l=[];++h<M;)c&&c[h].run();h=-1,M=l.length}c=null,r=!1,s(A)}}t.nextTick=function(A){var M=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)M[p-1]=arguments[p];l.push(new m(A,M)),l.length===1&&!r&&u(y)};function m(A,M){this.fun=A,this.array=M}m.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function L(){}t.on=L,t.addListener=L,t.once=L,t.off=L,t.removeListener=L,t.removeAllListeners=L,t.emit=L,t.prependListener=L,t.prependOnceListener=L,t.listeners=function(A){return[]},t.binding=function(A){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(A){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],66:[function(f,ae,W){(function(t,n){(function(){var o=f("process/browser.js").nextTick,a=Function.prototype.apply,e=Array.prototype.slice,u={},s=0;W.setTimeout=function(){return new l(a.call(setTimeout,window,arguments),clearTimeout)},W.setInterval=function(){return new l(a.call(setInterval,window,arguments),clearInterval)},W.clearTimeout=W.clearInterval=function(r){r.close()};function l(r,c){this._id=r,this._clearFn=c}l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},W.enroll=function(r,c){clearTimeout(r._idleTimeoutId),r._idleTimeout=c},W.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},W._unrefActive=W.active=function(r){clearTimeout(r._idleTimeoutId);var c=r._idleTimeout;c>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},c))},W.setImmediate=typeof t=="function"?t:function(r){var c=s++,h=arguments.length<2?!1:e.call(arguments,1);return u[c]=!0,o(function(){u[c]&&(h?r.apply(null,h):r.call(null),W.clearImmediate(c))}),c},W.clearImmediate=typeof n=="function"?n:function(r){delete u[r]}}).call(this)}).call(this,f("timers").setImmediate,f("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(f,ae,W){(function(t){var n=/^\s+/,o=/\s+$/,a=0,e=t.round,u=t.min,s=t.max,l=t.random;function r(_,O){if(_=_||"",O=O||{},_ instanceof r)return _;if(!(this instanceof r))return new r(_,O);var N=c(_);this._originalInput=_,this._r=N.r,this._g=N.g,this._b=N.b,this._a=N.a,this._roundA=e(100*this._a)/100,this._format=O.format||N.format,this._gradientType=O.gradientType,this._r<1&&(this._r=e(this._r)),this._g<1&&(this._g=e(this._g)),this._b<1&&(this._b=e(this._b)),this._ok=N.ok,this._tc_id=a++}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var _=this.toRgb();return(_.r*299+_.g*587+_.b*114)/1e3},getLuminance:function(){var _=this.toRgb(),O,N,P,j,se,ce;return O=_.r/255,N=_.g/255,P=_.b/255,O<=.03928?j=O/12.92:j=t.pow((O+.055)/1.055,2.4),N<=.03928?se=N/12.92:se=t.pow((N+.055)/1.055,2.4),P<=.03928?ce=P/12.92:ce=t.pow((P+.055)/1.055,2.4),.2126*j+.7152*se+.0722*ce},setAlpha:function(_){return this._a=B(_),this._roundA=e(100*this._a)/100,this},toHsv:function(){var _=m(this._r,this._g,this._b);return{h:_.h*360,s:_.s,v:_.v,a:this._a}},toHsvString:function(){var _=m(this._r,this._g,this._b),O=e(_.h*360),N=e(_.s*100),P=e(_.v*100);return this._a==1?"hsv("+O+", "+N+"%, "+P+"%)":"hsva("+O+", "+N+"%, "+P+"%, "+this._roundA+")"},toHsl:function(){var _=v(this._r,this._g,this._b);return{h:_.h*360,s:_.s,l:_.l,a:this._a}},toHslString:function(){var _=v(this._r,this._g,this._b),O=e(_.h*360),N=e(_.s*100),P=e(_.l*100);return this._a==1?"hsl("+O+", "+N+"%, "+P+"%)":"hsla("+O+", "+N+"%, "+P+"%, "+this._roundA+")"},toHex:function(_){return A(this._r,this._g,this._b,_)},toHexString:function(_){return"#"+this.toHex(_)},toHex8:function(_){return M(this._r,this._g,this._b,this._a,_)},toHex8String:function(_){return"#"+this.toHex8(_)},toRgb:function(){return{r:e(this._r),g:e(this._g),b:e(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+e(this._r)+", "+e(this._g)+", "+e(this._b)+")":"rgba("+e(this._r)+", "+e(this._g)+", "+e(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:e(te(this._r,255)*100)+"%",g:e(te(this._g,255)*100)+"%",b:e(te(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+e(te(this._r,255)*100)+"%, "+e(te(this._g,255)*100)+"%, "+e(te(this._b,255)*100)+"%)":"rgba("+e(te(this._r,255)*100)+"%, "+e(te(this._g,255)*100)+"%, "+e(te(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:R[A(this._r,this._g,this._b,!0)]||!1},toFilter:function(_){var O="#"+p(this._r,this._g,this._b,this._a),N=O,P=this._gradientType?"GradientType = 1, ":"";if(_){var j=r(_);N="#"+p(j._r,j._g,j._b,j._a)}return"progid:DXImageTransform.Microsoft.gradient("+P+"startColorstr="+O+",endColorstr="+N+")"},toString:function(_){var O=!!_;_=_||this._format;var N=!1,P=this._a<1&&this._a>=0,j=!O&&P&&(_==="hex"||_==="hex6"||_==="hex3"||_==="hex4"||_==="hex8"||_==="name");return j?_==="name"&&this._a===0?this.toName():this.toRgbString():(_==="rgb"&&(N=this.toRgbString()),_==="prgb"&&(N=this.toPercentageRgbString()),(_==="hex"||_==="hex6")&&(N=this.toHexString()),_==="hex3"&&(N=this.toHexString(!0)),_==="hex4"&&(N=this.toHex8String(!0)),_==="hex8"&&(N=this.toHex8String()),_==="name"&&(N=this.toName()),_==="hsl"&&(N=this.toHslString()),_==="hsv"&&(N=this.toHsvString()),N||this.toHexString())},clone:function(){return r(this.toString())},_applyModification:function(_,O){var N=_.apply(null,[this].concat([].slice.call(O)));return this._r=N._r,this._g=N._g,this._b=N._b,this.setAlpha(N._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(H,arguments)},_applyCombination:function(_,O){return _.apply(null,[this].concat([].slice.call(O)))},analogous:function(){return this._applyCombination(Q,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(J,arguments)},splitcomplement:function(){return this._applyCombination(U,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},r.fromRatio=function(_,O){if(typeof _=="object"){var N={};for(var P in _)_.hasOwnProperty(P)&&(P==="a"?N[P]=_[P]:N[P]=Z(_[P]));_=N}return r(_,O)};function c(_){var O={r:0,g:0,b:0},N=1,P=null,j=null,se=null,ce=!1,fe=!1;return typeof _=="string"&&(_=Y(_)),typeof _=="object"&&(S(_.r)&&S(_.g)&&S(_.b)?(O=h(_.r,_.g,_.b),ce=!0,fe=String(_.r).substr(-1)==="%"?"prgb":"rgb"):S(_.h)&&S(_.s)&&S(_.v)?(P=Z(_.s),j=Z(_.v),O=L(_.h,P,j),ce=!0,fe="hsv"):S(_.h)&&S(_.s)&&S(_.l)&&(P=Z(_.s),se=Z(_.l),O=y(_.h,P,se),ce=!0,fe="hsl"),_.hasOwnProperty("a")&&(N=_.a)),N=B(N),{ok:ce,format:_.format||fe,r:u(255,s(O.r,0)),g:u(255,s(O.g,0)),b:u(255,s(O.b,0)),a:N}}function h(_,O,N){return{r:te(_,255)*255,g:te(O,255)*255,b:te(N,255)*255}}function v(_,O,N){_=te(_,255),O=te(O,255),N=te(N,255);var P=s(_,O,N),j=u(_,O,N),se,ce,fe=(P+j)/2;if(P==j)se=ce=0;else{var pe=P-j;switch(ce=fe>.5?pe/(2-P-j):pe/(P+j),P){case _:se=(O-N)/pe+(O<N?6:0);break;case O:se=(N-_)/pe+2;break;case N:se=(_-O)/pe+4;break}se/=6}return{h:se,s:ce,l:fe}}function y(_,O,N){var P,j,se;_=te(_,360),O=te(O,100),N=te(N,100);function ce(be,Re,ke){return ke<0&&(ke+=1),ke>1&&(ke-=1),ke<1/6?be+(Re-be)*6*ke:ke<1/2?Re:ke<2/3?be+(Re-be)*(2/3-ke)*6:be}if(O===0)P=j=se=N;else{var fe=N<.5?N*(1+O):N+O-N*O,pe=2*N-fe;P=ce(pe,fe,_+1/3),j=ce(pe,fe,_),se=ce(pe,fe,_-1/3)}return{r:P*255,g:j*255,b:se*255}}function m(_,O,N){_=te(_,255),O=te(O,255),N=te(N,255);var P=s(_,O,N),j=u(_,O,N),se,ce,fe=P,pe=P-j;if(ce=P===0?0:pe/P,P==j)se=0;else{switch(P){case _:se=(O-N)/pe+(O<N?6:0);break;case O:se=(N-_)/pe+2;break;case N:se=(_-O)/pe+4;break}se/=6}return{h:se,s:ce,v:fe}}function L(_,O,N){_=te(_,360)*6,O=te(O,100),N=te(N,100);var P=t.floor(_),j=_-P,se=N*(1-O),ce=N*(1-j*O),fe=N*(1-(1-j)*O),pe=P%6,be=[N,ce,se,se,fe,N][pe],Re=[fe,N,N,ce,se,se][pe],ke=[se,se,fe,N,N,ce][pe];return{r:be*255,g:Re*255,b:ke*255}}function A(_,O,N,P){var j=[ie(e(_).toString(16)),ie(e(O).toString(16)),ie(e(N).toString(16))];return P&&j[0].charAt(0)==j[0].charAt(1)&&j[1].charAt(0)==j[1].charAt(1)&&j[2].charAt(0)==j[2].charAt(1)?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0):j.join("")}function M(_,O,N,P,j){var se=[ie(e(_).toString(16)),ie(e(O).toString(16)),ie(e(N).toString(16)),ie(q(P))];return j&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)&&se[3].charAt(0)==se[3].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0)+se[3].charAt(0):se.join("")}function p(_,O,N,P){var j=[ie(q(P)),ie(e(_).toString(16)),ie(e(O).toString(16)),ie(e(N).toString(16))];return j.join("")}r.equals=function(_,O){return!_||!O?!1:r(_).toRgbString()==r(O).toRgbString()},r.random=function(){return r.fromRatio({r:l(),g:l(),b:l()})};function T(_,O){O=O===0?0:O||10;var N=r(_).toHsl();return N.s-=O/100,N.s=ne(N.s),r(N)}function d(_,O){O=O===0?0:O||10;var N=r(_).toHsl();return N.s+=O/100,N.s=ne(N.s),r(N)}function x(_){return r(_).desaturate(100)}function C(_,O){O=O===0?0:O||10;var N=r(_).toHsl();return N.l+=O/100,N.l=ne(N.l),r(N)}function E(_,O){O=O===0?0:O||10;var N=r(_).toRgb();return N.r=s(0,u(255,N.r-e(255*-(O/100)))),N.g=s(0,u(255,N.g-e(255*-(O/100)))),N.b=s(0,u(255,N.b-e(255*-(O/100)))),r(N)}function w(_,O){O=O===0?0:O||10;var N=r(_).toHsl();return N.l-=O/100,N.l=ne(N.l),r(N)}function H(_,O){var N=r(_).toHsl(),P=(N.h+O)%360;return N.h=P<0?360+P:P,r(N)}function F(_){var O=r(_).toHsl();return O.h=(O.h+180)%360,r(O)}function k(_){var O=r(_).toHsl(),N=O.h;return[r(_),r({h:(N+120)%360,s:O.s,l:O.l}),r({h:(N+240)%360,s:O.s,l:O.l})]}function I(_){var O=r(_).toHsl(),N=O.h;return[r(_),r({h:(N+90)%360,s:O.s,l:O.l}),r({h:(N+180)%360,s:O.s,l:O.l}),r({h:(N+270)%360,s:O.s,l:O.l})]}function U(_){var O=r(_).toHsl(),N=O.h;return[r(_),r({h:(N+72)%360,s:O.s,l:O.l}),r({h:(N+216)%360,s:O.s,l:O.l})]}function Q(_,O,N){O=O||6,N=N||30;var P=r(_).toHsl(),j=360/N,se=[r(_)];for(P.h=(P.h-(j*O>>1)+720)%360;--O;)P.h=(P.h+j)%360,se.push(r(P));return se}function J(_,O){O=O||6;for(var N=r(_).toHsv(),P=N.h,j=N.s,se=N.v,ce=[],fe=1/O;O--;)ce.push(r({h:P,s:j,v:se})),se=(se+fe)%1;return ce}r.mix=function(_,O,N){N=N===0?0:N||50;var P=r(_).toRgb(),j=r(O).toRgb(),se=N/100,ce={r:(j.r-P.r)*se+P.r,g:(j.g-P.g)*se+P.g,b:(j.b-P.b)*se+P.b,a:(j.a-P.a)*se+P.a};return r(ce)},r.readability=function(_,O){var N=r(_),P=r(O);return(t.max(N.getLuminance(),P.getLuminance())+.05)/(t.min(N.getLuminance(),P.getLuminance())+.05)},r.isReadable=function(_,O,N){var P=r.readability(_,O),j,se;switch(se=!1,j=z(N),j.level+j.size){case"AAsmall":case"AAAlarge":se=P>=4.5;break;case"AAlarge":se=P>=3;break;case"AAAsmall":se=P>=7;break}return se},r.mostReadable=function(_,O,N){var P=null,j=0,se,ce,fe,pe;N=N||{},ce=N.includeFallbackColors,fe=N.level,pe=N.size;for(var be=0;be<O.length;be++)se=r.readability(_,O[be]),se>j&&(j=se,P=r(O[be]));return r.isReadable(_,P,{level:fe,size:pe})||!ce?P:(N.includeFallbackColors=!1,r.mostReadable(_,["#fff","#000"],N))};var ee=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=r.hexNames=G(ee);function G(_){var O={};for(var N in _)_.hasOwnProperty(N)&&(O[_[N]]=N);return O}function B(_){return _=parseFloat(_),(isNaN(_)||_<0||_>1)&&(_=1),_}function te(_,O){me(_)&&(_="100%");var N=de(_);return _=u(O,s(0,parseFloat(_))),N&&(_=parseInt(_*O,10)/100),t.abs(_-O)<1e-6?1:_%O/parseFloat(O)}function ne(_){return u(1,s(0,_))}function oe(_){return parseInt(_,16)}function me(_){return typeof _=="string"&&_.indexOf(".")!=-1&&parseFloat(_)===1}function de(_){return typeof _=="string"&&_.indexOf("%")!=-1}function ie(_){return _.length==1?"0"+_:""+_}function Z(_){return _<=1&&(_=_*100+"%"),_}function q(_){return t.round(parseFloat(_)*255).toString(16)}function K(_){return oe(_)/255}var g=function(){var _="[-\\+]?\\d+%?",O="[-\\+]?\\d*\\.\\d+%?",N="(?:"+O+")|(?:"+_+")",P="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",j="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?";return{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function S(_){return!!g.CSS_UNIT.exec(_)}function Y(_){_=_.replace(n,"").replace(o,"").toLowerCase();var O=!1;if(ee[_])_=ee[_],O=!0;else if(_=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var N;return(N=g.rgb.exec(_))?{r:N[1],g:N[2],b:N[3]}:(N=g.rgba.exec(_))?{r:N[1],g:N[2],b:N[3],a:N[4]}:(N=g.hsl.exec(_))?{h:N[1],s:N[2],l:N[3]}:(N=g.hsla.exec(_))?{h:N[1],s:N[2],l:N[3],a:N[4]}:(N=g.hsv.exec(_))?{h:N[1],s:N[2],v:N[3]}:(N=g.hsva.exec(_))?{h:N[1],s:N[2],v:N[3],a:N[4]}:(N=g.hex8.exec(_))?{r:oe(N[1]),g:oe(N[2]),b:oe(N[3]),a:K(N[4]),format:O?"name":"hex8"}:(N=g.hex6.exec(_))?{r:oe(N[1]),g:oe(N[2]),b:oe(N[3]),format:O?"name":"hex"}:(N=g.hex4.exec(_))?{r:oe(N[1]+""+N[1]),g:oe(N[2]+""+N[2]),b:oe(N[3]+""+N[3]),a:K(N[4]+""+N[4]),format:O?"name":"hex8"}:(N=g.hex3.exec(_))?{r:oe(N[1]+""+N[1]),g:oe(N[2]+""+N[2]),b:oe(N[3]+""+N[3]),format:O?"name":"hex"}:!1}function z(_){var O,N;return _=_||{level:"AA",size:"small"},O=(_.level||"AA").toUpperCase(),N=(_.size||"small").toLowerCase(),O!=="AA"&&O!=="AAA"&&(O="AA"),N!=="small"&&N!=="large"&&(N="small"),{level:O,size:N}}typeof ae!="undefined"&&ae.exports?ae.exports=r:window.tinycolor=r})(Math)},{}],68:[function(f,ae,W){var t=f("../main"),n=f("object-assign"),o=t.instance();function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new t.baseCalendar,n(a.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,m){if(typeof y=="string"){var L=y.match(u);return L?L[0]:""}var A=this._validateYear(y),M=y.month(),p=""+this.toChineseMonth(A,M);return m&&p.length<2&&(p="0"+p),this.isIntercalaryMonth(A,M)&&(p+="i"),p},monthNames:function(y){if(typeof y=="string"){var m=y.match(s);return m?m[0]:""}var L=this._validateYear(y),A=y.month(),M=this.toChineseMonth(L,A),p=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][M-1];return this.isIntercalaryMonth(L,A)&&(p="\u95F0"+p),p},monthNamesShort:function(y){if(typeof y=="string"){var m=y.match(l);return m?m[0]:""}var L=this._validateYear(y),A=y.month(),M=this.toChineseMonth(L,A),p=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][M-1];return this.isIntercalaryMonth(L,A)&&(p="\u95F0"+p),p},parseMonth:function(y,m){y=this._validateYear(y);var L=parseInt(m),A;if(isNaN(L))m[0]==="\u95F0"&&(A=!0,m=m.substring(1)),m[m.length-1]==="\u6708"&&(m=m.substring(0,m.length-1)),L=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(m);else{var M=m[m.length-1];A=M==="i"||M==="I"}var p=this.toMonthIndex(y,L,A);return p},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,m){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw m.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,m,L){var A=this.intercalaryMonth(y),M=L&&m!==A;if(M||m<1||m>12)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);var p;return A?!L&&m<=A?p=m-1:p=m:p=m-1,p},toChineseMonth:function(y,m){y.year&&(y=y.year(),m=y.month());var L=this.intercalaryMonth(y),A=L?12:11;if(m<0||m>A)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return L?m<L?M=m+1:M=m:M=m+1,M},intercalaryMonth:function(y){y=this._validateYear(y);var m=r[y-r[0]],L=m>>13;return L},isIntercalaryMonth:function(y,m){y.year&&(y=y.year(),m=y.month());var L=this.intercalaryMonth(y);return!!L&&L===m},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,m,L){var A=this._validateYear(y,t.local.invalidyear),M=c[A-c[0]],p=M>>9&4095,T=M>>5&15,d=M&31,x;x=o.newDate(p,T,d),x.add(4-(x.dayOfWeek()||7),"d");var C=this.toJD(y,m,L)-x.toJD();return 1+Math.floor(C/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,m){y.year&&(m=y.month(),y=y.year()),y=this._validateYear(y);var L=r[y-r[0]],A=L>>13,M=A?12:11;if(m>M)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);var p=L&1<<12-m?30:29;return p},weekDay:function(y,m,L){return(this.dayOfWeek(y,m,L)||7)<6},toJD:function(y,m,L){var A=this._validate(y,p,L,t.local.invalidDate);y=this._validateYear(A.year()),m=A.month(),L=A.day();var M=this.isIntercalaryMonth(y,m),p=this.toChineseMonth(y,m),T=v(y,p,L,M);return o.toJD(T.year,T.month,T.day)},fromJD:function(y){var m=o.fromJD(y),L=h(m.year(),m.month(),m.day()),A=this.toMonthIndex(L.year,L.month,L.isIntercalary);return this.newDate(L.year,A,L.day)},fromString:function(y){var m=y.match(e),L=this._validateYear(+m[1]),A=+m[2],M=!!m[3],p=this.toMonthIndex(L,A,M),T=+m[4];return this.newDate(L,p,T)},add:function(y,m,L){var A=y.year(),M=y.month(),p=this.isIntercalaryMonth(A,M),T=this.toChineseMonth(A,M),d=Object.getPrototypeOf(a.prototype).add.call(this,y,m,L);if(L==="y"){var x=d.year(),C=d.month(),E=this.isIntercalaryMonth(x,T),w=p&&E?this.toMonthIndex(x,T,!0):this.toMonthIndex(x,T,!1);w!==C&&d.month(w)}return d}});var e=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,u=/^\d?\d[iI]?/m,s=/^??[]?/m,l=/^??[]?/m;t.calendars.chinese=a;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],c=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function h(y,m,L,A){var M,p;if(typeof y=="object")M=y,p=m||{};else{var T=typeof y=="number"&&y>=1888&&y<=2111;if(!T)throw new Error("Solar year outside range 1888-2111");var d=typeof m=="number"&&m>=1&&m<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var x=typeof L=="number"&&L>=1&&L<=31;if(!x)throw new Error("Solar day outside range 1 - 31");M={year:y,month:m,day:L},p=A||{}}var C=c[M.year-c[0]],E=M.year<<9|M.month<<5|M.day;p.year=E>=C?M.year:M.year-1,C=c[p.year-c[0]];var w=C>>9&4095,H=C>>5&15,F=C&31,k,I=new Date(w,H-1,F),U=new Date(M.year,M.month-1,M.day);k=Math.round((U-I)/(24*3600*1e3));var Q=r[p.year-r[0]],J;for(J=0;J<13;J++){var ee=Q&1<<12-J?30:29;if(k<ee)break;k-=ee}var R=Q>>13;return!R||J<R?(p.isIntercalary=!1,p.month=1+J):J===R?(p.isIntercalary=!0,p.month=J):(p.isIntercalary=!1,p.month=J),p.day=1+k,p}function v(y,m,L,A,M){var p,T;if(typeof y=="object")T=y,p=m||{};else{var d=typeof y=="number"&&y>=1888&&y<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var x=typeof m=="number"&&m>=1&&m<=12;if(!x)throw new Error("Lunar month outside range 1 - 12");var C=typeof L=="number"&&L>=1&&L<=30;if(!C)throw new Error("Lunar day outside range 1 - 30");var E;typeof A=="object"?(E=!1,p=A):(E=!!A,p=M||{}),T={year:y,month:m,day:L,isIntercalary:E}}var w;w=T.day-1;var H=r[T.year-r[0]],F=H>>13,k;F&&(T.month>F||T.isIntercalary)?k=T.month:k=T.month-1;for(var I=0;I<k;I++){var U=H&1<<12-I?30:29;w+=U}var Q=c[T.year-c[0]],J=Q>>9&4095,ee=Q>>5&15,R=Q&31,G=new Date(J,ee-1,R+w);return p.year=G.getFullYear(),p.month=1+G.getMonth(),p.day=G.getDate(),p}},{"../main":82,"object-assign":55}],69:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var e=this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),u=e.year()+(e.year()<0?1:0);return u%4===3||u%4===-1},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(a,e,u){var s=this.newDate(a,e,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(a,e){var u=this._validate(a,e,this.minDay,t.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===13&&this.leapYear(u.year())?1:0)},weekDay:function(a,e,u){return(this.dayOfWeek(a,e,u)||7)<6},toJD:function(a,e,u){var s=this._validate(a,e,u,t.local.invalidDate);return a=s.year(),a<0&&a++,s.day()+(s.month()-1)*30+(a-1)*365+Math.floor(a/4)+this.jdEpoch-1},fromJD:function(a){var e=Math.floor(a)+.5-this.jdEpoch,u=Math.floor((e-Math.floor((e+366)/1461))/365)+1;u<=0&&u--,e=Math.floor(a)+.5-this.newDate(u,1,1).toJD();var s=Math.floor(e/30)+1,l=e-(s-1)*30+1;return this.newDate(u,s,l)}}),t.calendars.coptic=o},{"../main":82,"object-assign":55}],70:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),400},weekOfYear:function(e,u,s){var l=this.newDate(e,u,s);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/8)+1},daysInMonth:function(e,u){var s=this._validate(e,u,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);return(l.day()+1)%8},weekDay:function(e,u,s){var l=this.dayOfWeek(e,u,s);return l>=2&&l<=6},extraInfo:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);return{century:a[Math.floor((l.year()-1)/100)+1]||""}},toJD:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);return e=l.year()+(l.year()<0?1:0),u=l.month(),s=l.day(),s+(u>1?16:0)+(u>2?(u-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var u=Math.floor(e/400)+1;e-=(u-1)*400,e+=e>15?16:0;var s=Math.floor(e/32)+1,l=e-(s-1)*32+1;return this.newDate(u<=0?u-1:u,s,l)}});var a={20:"Fruitbat",21:"Anchovy"};t.calendars.discworld=o},{"../main":82,"object-assign":55}],71:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var e=this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),u=e.year()+(e.year()<0?1:0);return u%4===3||u%4===-1},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(a,e,u){var s=this.newDate(a,e,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(a,e){var u=this._validate(a,e,this.minDay,t.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===13&&this.leapYear(u.year())?1:0)},weekDay:function(a,e,u){return(this.dayOfWeek(a,e,u)||7)<6},toJD:function(a,e,u){var s=this._validate(a,e,u,t.local.invalidDate);return a=s.year(),a<0&&a++,s.day()+(s.month()-1)*30+(a-1)*365+Math.floor(a/4)+this.jdEpoch-1},fromJD:function(a){var e=Math.floor(a)+.5-this.jdEpoch,u=Math.floor((e-Math.floor((e+366)/1461))/365)+1;u<=0&&u--,e=Math.floor(a)+.5-this.newDate(u,1,1).toJD();var s=Math.floor(e/30)+1,l=e-(s-1)*30+1;return this.newDate(u,s,l)}}),t.calendars.ethiopian=o},{"../main":82,"object-assign":55}],72:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var u=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return this._leapYear(u.year())},_leapYear:function(e){return e=e<0?e+1:e,a(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,u,s){var l=this.newDate(e,u,s);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){var u=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return e=u.year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,u){return e.year&&(u=e.month(),e=e.year()),this._validate(e,u,this.minDay,t.local.invalidMonth),u===12&&this.leapYear(e)||u===8&&a(this.daysInYear(e),10)===5?30:u===9&&a(this.daysInYear(e),10)===3?29:this.daysPerMonth[u-1]},weekDay:function(e,u,s){return this.dayOfWeek(e,u,s)!==6},extraInfo:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);return{yearType:(this.leapYear(l)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(l)%10-3]}},toJD:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);e=l.year(),u=l.month(),s=l.day();var r=e<=0?e+1:e,c=this.jdEpoch+this._delay1(r)+this._delay2(r)+s+1;if(u<7){for(var h=7;h<=this.monthsInYear(e);h++)c+=this.daysInMonth(e,h);for(var h=1;h<u;h++)c+=this.daysInMonth(e,h)}else for(var h=7;h<u;h++)c+=this.daysInMonth(e,h);return c},_delay1:function(e){var u=Math.floor((235*e-234)/19),s=12084+13753*u,l=u*29+Math.floor(s/25920);return a(3*(l+1),7)<3&&l++,l},_delay2:function(e){var u=this._delay1(e-1),s=this._delay1(e),l=this._delay1(e+1);return l-s===356?2:s-u===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var u=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(u===-1?1:u+1,7,1);)u++;for(var s=e<this.toJD(u,1,1)?7:1;e>this.toJD(u,s,this.daysInMonth(u,s));)s++;var l=e-this.toJD(u,s,1)+1;return this.newDate(u,s,l)}});function a(e,u){return e-u*Math.floor(e/u)}t.calendars.hebrew=o},{"../main":82,"object-assign":55}],73:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(a){var e=this._validate(a,this.minMonth,this.minDay,t.local.invalidYear);return(e.year()*11+14)%30<11},weekOfYear:function(a,e,u){var s=this.newDate(a,e,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(a){return this.leapYear(a)?355:354},daysInMonth:function(a,e){var u=this._validate(a,e,this.minDay,t.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===12&&this.leapYear(u.year())?1:0)},weekDay:function(a,e,u){return this.dayOfWeek(a,e,u)!==5},toJD:function(a,e,u){var s=this._validate(a,e,u,t.local.invalidDate);return a=s.year(),e=s.month(),u=s.day(),a=a<=0?a+1:a,u+Math.ceil(29.5*(e-1))+(a-1)*354+Math.floor((3+11*a)/30)+this.jdEpoch-1},fromJD:function(a){a=Math.floor(a)+.5;var e=Math.floor((30*(a-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var u=Math.min(12,Math.ceil((a-29-this.toJD(e,1,1))/29.5)+1),s=a-this.toJD(e,u,1)+1;return this.newDate(e,u,s)}}),t.calendars.islamic=o},{"../main":82,"object-assign":55}],74:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var e=this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),u=e.year()<0?e.year()+1:e.year();return u%4===0},weekOfYear:function(a,e,u){var s=this.newDate(a,e,u);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(a,e){var u=this._validate(a,e,this.minDay,t.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(a,e,u){return(this.dayOfWeek(a,e,u)||7)<6},toJD:function(a,e,u){var s=this._validate(a,e,u,t.local.invalidDate);return a=s.year(),e=s.month(),u=s.day(),a<0&&a++,e<=2&&(a--,e+=12),Math.floor(365.25*(a+4716))+Math.floor(30.6001*(e+1))+u-1524.5},fromJD:function(a){var e=Math.floor(a+.5),u=e+1524,s=Math.floor((u-122.1)/365.25),l=Math.floor(365.25*s),r=Math.floor((u-l)/30.6001),c=r-Math.floor(r<14?1:13),h=s-Math.floor(c>2?4716:4715),v=u-l-Math.floor(30.6001*r);return h<=0&&h--,this.newDate(h,c,v)}}),t.calendars.julian=o},{"../main":82,"object-assign":55}],75:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(u){return this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),!1},formatYear:function(u){var s=this._validate(u,this.minMonth,this.minDay,t.local.invalidYear);u=s.year();var l=Math.floor(u/400);u=u%400,u+=u<0?400:0;var r=Math.floor(u/20);return l+"."+r+"."+u%20},forYear:function(u){if(u=u.split("."),u.length<3)throw"Invalid Mayan year";for(var s=0,l=0;l<u.length;l++){var r=parseInt(u[l],10);if(Math.abs(r)>19||l>0&&r<0)throw"Invalid Mayan year";s=s*20+r}return s},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),18},weekOfYear:function(u,s,l){return this._validate(u,s,l,t.local.invalidDate),0},daysInYear:function(u){return this._validate(u,this.minMonth,this.minDay,t.local.invalidYear),360},daysInMonth:function(u,s){return this._validate(u,s,this.minDay,t.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(u,s,l){var r=this._validate(u,s,l,t.local.invalidDate);return r.day()},weekDay:function(u,s,l){return this._validate(u,s,l,t.local.invalidDate),!0},extraInfo:function(u,s,l){var r=this._validate(u,s,l,t.local.invalidDate),c=r.toJD(),h=this._toHaab(c),v=this._toTzolkin(c);return{haabMonthName:this.local.haabMonths[h[0]-1],haabMonth:h[0],haabDay:h[1],tzolkinDayName:this.local.tzolkinMonths[v[0]-1],tzolkinDay:v[0],tzolkinTrecena:v[1]}},_toHaab:function(u){u-=this.jdEpoch;var s=a(u+8+(18-1)*20,365);return[Math.floor(s/20)+1,a(s,20)]},_toTzolkin:function(u){return u-=this.jdEpoch,[e(u+20,20),e(u+4,13)]},toJD:function(u,s,l){var r=this._validate(u,s,l,t.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(u){u=Math.floor(u)+.5-this.jdEpoch;var s=Math.floor(u/360);u=u%360,u+=u<0?360:0;var l=Math.floor(u/20),r=u%20;return this.newDate(s,l,r)}});function a(u,s){return u-s*Math.floor(u/s)}function e(u,s){return a(u-1,s)+1}t.calendars.mayan=o},{"../main":82,"object-assign":55}],76:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar;var a=t.instance("gregorian");n(o.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var u=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear);return a.leapYear(u.year()+(u.year()<1?1:0)+1469)},weekOfYear:function(e,u,s){var l=this.newDate(e,u,s);return l.add(1-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,u){var s=this._validate(e,u,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(e,u,s){return(this.dayOfWeek(e,u,s)||7)<6},toJD:function(r,u,s){var l=this._validate(r,u,s,t.local.invalidMonth),r=l.year();r<0&&r++;for(var c=l.day(),h=1;h<l.month();h++)c+=this.daysPerMonth[h-1];return c+a.toJD(r+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var u=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(u+1,1,1);)u++;for(var s=e-Math.floor(this.toJD(u,1,1)+.5)+1,l=1;s>this.daysInMonth(u,l);)s-=this.daysInMonth(u,l),l++;return this.newDate(u,l,s)}}),t.calendars.nanakshahi=o},{"../main":82,"object-assign":55}],77:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(a){return this.daysInYear(a)!==this.daysPerYear},weekOfYear:function(a,e,u){var s=this.newDate(a,e,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(a){var e=this._validate(a,this.minMonth,this.minDay,t.local.invalidYear);if(a=e.year(),typeof this.NEPALI_CALENDAR_DATA[a]=="undefined")return this.daysPerYear;for(var u=0,s=this.minMonth;s<=12;s++)u+=this.NEPALI_CALENDAR_DATA[a][s];return u},daysInMonth:function(a,e){return a.year&&(e=a.month(),a=a.year()),this._validate(a,e,this.minDay,t.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[a]=="undefined"?this.daysPerMonth[e-1]:this.NEPALI_CALENDAR_DATA[a][e]},weekDay:function(a,e,u){return this.dayOfWeek(a,e,u)!==6},toJD:function(a,e,u){var s=this._validate(a,e,u,t.local.invalidDate);a=s.year(),e=s.month(),u=s.day();var l=t.instance(),r=0,c=e,h=a;this._createMissingCalendarData(a);var v=a-(c>9||c===9&&u>=this.NEPALI_CALENDAR_DATA[h][0]?56:57);for(e!==9&&(r=u,c--);c!==9;)c<=0&&(c=12,h--),r+=this.NEPALI_CALENDAR_DATA[h][c],c--;return e===9?(r+=u-this.NEPALI_CALENDAR_DATA[h][0],r<0&&(r+=l.daysInYear(v))):r+=this.NEPALI_CALENDAR_DATA[h][9]-this.NEPALI_CALENDAR_DATA[h][0],l.newDate(v,1,1).add(r,"d").toJD()},fromJD:function(a){var e=t.instance(),u=e.fromJD(a),s=u.year(),l=u.dayOfYear(),r=s+56;this._createMissingCalendarData(r);for(var c=9,h=this.NEPALI_CALENDAR_DATA[r][0],v=this.NEPALI_CALENDAR_DATA[r][c]-h+1;l>v;)c++,c>12&&(c=1,r++),v+=this.NEPALI_CALENDAR_DATA[r][c];var y=this.NEPALI_CALENDAR_DATA[r][c]-(v-l);return this.newDate(r,c,y)},_createMissingCalendarData:function(a){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var u=a-1;u<a+2;u++)typeof this.NEPALI_CALENDAR_DATA[u]=="undefined"&&(this.NEPALI_CALENDAR_DATA[u]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),t.calendars.nepali=o},{"../main":82,"object-assign":55}],78:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var u=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return((u.year()-(u.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,u,s){var l=this.newDate(e,u,s);return l.add(-((l.dayOfWeek()+1)%7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(e,u){var s=this._validate(e,u,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(e,u,s){return this.dayOfWeek(e,u,s)!==5},toJD:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate);e=l.year(),u=l.month(),s=l.day();var r=e-(e>=0?474:473),c=474+a(r,2820);return s+(u<=7?(u-1)*31:(u-1)*30+6)+Math.floor((c*682-110)/2816)+(c-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var u=e-this.toJD(475,1,1),s=Math.floor(u/1029983),l=a(u,1029983),r=2820;if(l!==1029982){var c=Math.floor(l/366),h=a(l,366);r=Math.floor((2134*c+2816*h+2815)/1028522)+c+1}var v=r+2820*s+474;v=v<=0?v-1:v;var y=e-this.toJD(v,1,1)+1,m=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),L=e-this.toJD(v,m,1)+1;return this.newDate(v,m,L)}});function a(e,u){return e-u*Math.floor(e/u)}t.calendars.persian=o,t.calendars.jalali=o},{"../main":82,"object-assign":55}],79:[function(f,ae,W){var t=f("../main"),n=f("object-assign"),o=t.instance();function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new t.baseCalendar,n(a.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(s){var u=this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),s=this._t2gYear(u.year());return o.leapYear(s)},weekOfYear:function(r,u,s){var l=this._validate(r,this.minMonth,this.minDay,t.local.invalidYear),r=this._t2gYear(l.year());return o.weekOfYear(r,l.month(),l.day())},daysInMonth:function(e,u){var s=this._validate(e,u,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(e,u,s){return(this.dayOfWeek(e,u,s)||7)<6},toJD:function(r,u,s){var l=this._validate(r,u,s,t.local.invalidDate),r=this._t2gYear(l.year());return o.toJD(r,l.month(),l.day())},fromJD:function(e){var u=o.fromJD(e),s=this._g2tYear(u.year());return this.newDate(s,u.month(),u.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),t.calendars.taiwan=a},{"../main":82,"object-assign":55}],80:[function(f,ae,W){var t=f("../main"),n=f("object-assign"),o=t.instance();function a(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}a.prototype=new t.baseCalendar,n(a.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var u=this._validate(s,this.minMonth,this.minDay,t.local.invalidYear),s=this._t2gYear(u.year());return o.leapYear(s)},weekOfYear:function(r,u,s){var l=this._validate(r,this.minMonth,this.minDay,t.local.invalidYear),r=this._t2gYear(l.year());return o.weekOfYear(r,l.month(),l.day())},daysInMonth:function(e,u){var s=this._validate(e,u,this.minDay,t.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(e,u,s){return(this.dayOfWeek(e,u,s)||7)<6},toJD:function(r,u,s){var l=this._validate(r,u,s,t.local.invalidDate),r=this._t2gYear(l.year());return o.toJD(r,l.month(),l.day())},fromJD:function(e){var u=o.fromJD(e),s=this._g2tYear(u.year());return this.newDate(s,u.month(),u.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),t.calendars.thai=a},{"../main":82,"object-assign":55}],81:[function(f,ae,W){var t=f("../main"),n=f("object-assign");function o(e){this.local=this.regionalOptions[e||""]||this.regionalOptions[""]}o.prototype=new t.baseCalendar,n(o.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var u=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return this.daysInYear(u.year())===355},weekOfYear:function(e,u,s){var l=this.newDate(e,u,s);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var u=0,s=1;s<=12;s++)u+=this.daysInMonth(e,s);return u},daysInMonth:function(e,u){for(var s=this._validate(e,u,this.minDay,t.local.invalidMonth),l=s.toJD()-24e5+.5,r=0,c=0;c<a.length;c++){if(a[c]>l)return a[r]-a[r-1];r++}return 30},weekDay:function(e,u,s){return this.dayOfWeek(e,u,s)!==5},toJD:function(e,u,s){var l=this._validate(e,u,s,t.local.invalidDate),r=12*(l.year()-1)+l.month()-15292,c=l.day()+a[r-1]-1;return c+24e5-.5},fromJD:function(e){for(var u=e-24e5+.5,s=0,l=0;l<a.length&&!(a[l]>u);l++)s++;var r=s+15292,c=Math.floor((r-1)/12),h=c+1,v=r-12*c,y=u-a[s-1]+1;return this.newDate(h,v,y)},isValid:function(e,u,s){var l=t.baseCalendar.prototype.isValid.apply(this,arguments);return l&&(e=e.year!=null?e.year:e,l=e>=1276&&e<=1500),l},_validate:function(e,u,s,l){var r=t.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw l.replace(/\{0\}/,this.local.name);return r}}),t.calendars.ummalqura=o;var a=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(f,ae,W){var t=f("object-assign");function n(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}t(n.prototype,{instance:function(l,r){l=(l||"gregorian").toLowerCase(),r=r||"";var c=this._localCals[l+"-"+r];if(!c&&this.calendars[l]&&(c=new this.calendars[l](r),this._localCals[l+"-"+r]=c),!c)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,l);return c},newDate:function(l,r,c,h,v){return h=(l!=null&&l.year?l.calendar():typeof h=="string"?this.instance(h,v):h)||this.instance(),h.newDate(l,r,c)},substituteDigits:function(l){return function(r){return(r+"").replace(/[0-9]/g,function(c){return l[c]})}},substituteChineseDigits:function(l,r){return function(c){for(var h="",v=0;c>0;){var y=c%10;h=(y===0?"":l[y]+r[v])+h,v++,c=Math.floor(c/10)}return h.indexOf(l[1]+r[1])===0&&(h=h.substr(1)),h||l[0]}}});function o(l,r,c,h){if(this._calendar=l,this._year=r,this._month=c,this._day=h,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function a(l,r){return l=""+l,"000000".substring(0,r-l.length)+l}t(o.prototype,{newDate:function(l,r,c){return this._calendar.newDate(l==null?this:l,r,c)},year:function(l){return arguments.length===0?this._year:this.set(l,"y")},month:function(l){return arguments.length===0?this._month:this.set(l,"m")},day:function(l){return arguments.length===0?this._day:this.set(l,"d")},date:function(l,r,c){if(!this._calendar.isValid(l,r,c))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=l,this._month=r,this._day=c,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(l,r){return this._calendar.add(this,l,r)},set:function(l,r){return this._calendar.set(this,l,r)},compareTo:function(l){if(this._calendar.name!==l._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,l._calendar.local.name);var r=this._year!==l._year?this._year-l._year:this._month!==l._month?this.monthOfYear()-l.monthOfYear():this._day-l._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(l){return this._calendar.fromJD(l)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(l){return this._calendar.fromJSDate(l)},toString:function(){return(this.year()<0?"-":"")+a(Math.abs(this.year()),4)+"-"+a(this.month(),2)+"-"+a(this.day(),2)}});function e(){this.shortYearCutoff="+10"}t(e.prototype,{_validateLevel:0,newDate:function(l,r,c){return l==null?this.today():(l.year&&(this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate),c=l.day(),r=l.month(),l=l.year()),new o(this,l,r,c))},today:function(){return this.fromJSDate(new Date)},epoch:function(l){var r=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+a(Math.abs(r.year()),4)},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(l,r){var c=this._validate(l,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(c.month()+this.monthsInYear(c)-this.firstMonth)%this.monthsInYear(c)+this.minMonth},fromMonthOfYear:function(l,r){var c=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(l)+this.minMonth;return this._validate(l,c,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),c},daysInYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(l,r,c){var h=this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate);return h.toJD()-this.newDate(h.year(),this.fromMonthOfYear(h.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(l,r,c){var h=this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(h))+2)%this.daysInWeek()},extraInfo:function(l,r,c){return this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(l,r,c){return this._validate(l,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(l,this._add(l,r,c),r,c)},_add:function(l,r,c){if(this._validateLevel++,c==="d"||c==="w"){var h=l.toJD()+r*(c==="w"?this.daysInWeek():1),v=l.calendar().fromJD(h);return this._validateLevel--,[v.year(),v.month(),v.day()]}try{var y=l.year()+(c==="y"?r:0),m=l.monthOfYear()+(c==="m"?r:0),v=l.day(),L=function(p){for(;m<p.minMonth;)y--,m+=p.monthsInYear(y);for(var T=p.monthsInYear(y);m>T-1+p.minMonth;)y++,m-=T,T=p.monthsInYear(y)};c==="y"?(l.month()!==this.fromMonthOfYear(y,m)&&(m=this.newDate(y,l.month(),this.minDay).monthOfYear()),m=Math.min(m,this.monthsInYear(y)),v=Math.min(v,this.daysInMonth(y,this.fromMonthOfYear(y,m)))):c==="m"&&(L(this),v=Math.min(v,this.daysInMonth(y,this.fromMonthOfYear(y,m))));var A=[y,this.fromMonthOfYear(y,m),v];return this._validateLevel--,A}catch(M){throw this._validateLevel--,M}},_correctAdd:function(l,r,c,h){if(!this.hasYearZero&&(h==="y"||h==="m")&&(r[0]===0||l.year()>0!=r[0]>0)){var v={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[h],y=c<0?-1:1;r=this._add(l,c*v[0]+y*v[1],v[2])}return l.date(r[0],r[1],r[2])},set:function(l,r,c){this._validate(l,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var h=c==="y"?r:l.year(),v=c==="m"?r:l.month(),y=c==="d"?r:l.day();return(c==="y"||c==="m")&&(y=Math.min(y,this.daysInMonth(h,v))),l.date(h,v,y)},isValid:function(l,r,c){this._validateLevel++;var h=this.hasYearZero||l!==0;if(h){var v=this.newDate(l,r,this.minDay);h=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(v)&&c>=this.minDay&&c-this.minDay<this.daysInMonth(v)}return this._validateLevel--,h},toJSDate:function(l,r,c){var h=this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(h)).toJSDate()},fromJSDate:function(l){return this.fromJD(s.instance().fromJSDate(l).toJD())},_validate:function(l,r,c,h){if(l.year){if(this._validateLevel===0&&this.name!==l.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,l.calendar().local.name);return l}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(l,r,c))throw h.replace(/\{0\}/,this.local.name);var v=this.newDate(l,r,c);return this._validateLevel--,v}catch(y){throw this._validateLevel--,y}}});function u(l){this.local=this.regionalOptions[l]||this.regionalOptions[""]}u.prototype=new e,t(u.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var r=this._validate(c,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),c=r.year()+(r.year()<0?1:0);return c%4===0&&(c%100!==0||c%400===0)},weekOfYear:function(l,r,c){var h=this.newDate(l,r,c);return h.add(4-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(l,r){var c=this._validate(l,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[c.month()-1]+(c.month()===2&&this.leapYear(c.year())?1:0)},weekDay:function(l,r,c){return(this.dayOfWeek(l,r,c)||7)<6},toJD:function(l,r,c){var h=this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate);l=h.year(),r=h.month(),c=h.day(),l<0&&l++,r<3&&(r+=12,l--);var v=Math.floor(l/100),y=2-v+Math.floor(v/4);return Math.floor(365.25*(l+4716))+Math.floor(30.6001*(r+1))+c+y-1524.5},fromJD:function(l){var r=Math.floor(l+.5),c=Math.floor((r-186721625e-2)/36524.25);c=r+1+c-Math.floor(c/4);var h=c+1524,v=Math.floor((h-122.1)/365.25),y=Math.floor(365.25*v),m=Math.floor((h-y)/30.6001),L=h-y-Math.floor(m*30.6001),A=m-(m>13.5?13:1),M=v-(A>2.5?4716:4715);return M<=0&&M--,this.newDate(M,A,L)},toJSDate:function(l,r,c){var h=this._validate(l,r,c,s.local.invalidDate||s.regionalOptions[""].invalidDate),v=new Date(h.year(),h.month()-1,h.day());return v.setHours(0),v.setMinutes(0),v.setSeconds(0),v.setMilliseconds(0),v.setHours(v.getHours()>12?v.getHours()+2:0),v},fromJSDate:function(l){return this.newDate(l.getFullYear(),l.getMonth()+1,l.getDate())}});var s=ae.exports=new n;s.cdate=o,s.baseCalendar=e,s.calendars.gregorian=u},{"object-assign":55}],83:[function(f,ae,W){var t=f("object-assign"),n=f("./main");t(n.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),n.local=n.regionalOptions[""],t(n.cdate.prototype,{formatDate:function(o,a){return typeof o!="string"&&(a=o,o=""),this._calendar.formatDate(o||"",this,a)}}),t(n.baseCalendar.prototype,{UNIX_EPOCH:n.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:n.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(o,a,e){if(typeof o!="string"&&(e=a,a=o,o=""),!a)return"";if(a.calendar()!==this)throw n.local.invalidFormat||n.regionalOptions[""].invalidFormat;o=o||this.local.dateFormat,e=e||{};var u=e.dayNamesShort||this.local.dayNamesShort,s=e.dayNames||this.local.dayNames,l=e.monthNumbers||this.local.monthNumbers,r=e.monthNamesShort||this.local.monthNamesShort,c=e.monthNames||this.local.monthNames;e.calculateWeek||this.local.calculateWeek;for(var h=function(C,E){for(var w=1;x+w<o.length&&o.charAt(x+w)===C;)w++;return x+=w-1,Math.floor(w/(E||1))>1},v=function(C,E,w,H){var F=""+E;if(h(C,H))for(;F.length<w;)F="0"+F;return F},y=function(C,E,w,H){return h(C)?H[E]:w[E]},m=this,L=function(C){return typeof l=="function"?l.call(m,C,h("m")):p(v("m",C.month(),2))},A=function(C,E){return E?typeof c=="function"?c.call(m,C):c[C.month()-m.minMonth]:typeof r=="function"?r.call(m,C):r[C.month()-m.minMonth]},M=this.local.digits,p=function(C){return e.localNumbers&&M?M(C):C},T="",d=!1,x=0;x<o.length;x++)if(d)o.charAt(x)==="'"&&!h("'")?d=!1:T+=o.charAt(x);else switch(o.charAt(x)){case"d":T+=p(v("d",a.day(),2));break;case"D":T+=y("D",a.dayOfWeek(),u,s);break;case"o":T+=v("o",a.dayOfYear(),3);break;case"w":T+=v("w",a.weekOfYear(),2);break;case"m":T+=L(a);break;case"M":T+=A(a,h("M"));break;case"y":T+=h("y",2)?a.year():(a.year()%100<10?"0":"")+a.year()%100;break;case"Y":h("Y",2),T+=a.formatYear();break;case"J":T+=a.toJD();break;case"@":T+=(a.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":T+=(a.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?T+="'":d=!0;break;default:T+=o.charAt(x)}return T},parseDate:function(o,a,e){if(a==null)throw n.local.invalidArguments||n.regionalOptions[""].invalidArguments;if(a=typeof a=="object"?a.toString():a+"",a==="")return null;o=o||this.local.dateFormat,e=e||{};var u=e.shortYearCutoff||this.shortYearCutoff;u=typeof u!="string"?u:this.today().year()%100+parseInt(u,10);for(var s=e.dayNamesShort||this.local.dayNamesShort,l=e.dayNames||this.local.dayNames,r=e.parseMonth||this.local.parseMonth,c=e.monthNumbers||this.local.monthNumbers,h=e.monthNamesShort||this.local.monthNamesShort,v=e.monthNames||this.local.monthNames,y=-1,m=-1,L=-1,A=-1,M=-1,p=!1,T=!1,d=function(J,ee){for(var R=1;I+R<o.length&&o.charAt(I+R)===J;)R++;return I+=R-1,Math.floor(R/(ee||1))>1},x=function(J,ee){var R=d(J,ee),G=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(J)+1],B=new RegExp("^-?\\d{1,"+G+"}"),te=a.substring(k).match(B);if(!te)throw(n.local.missingNumberAt||n.regionalOptions[""].missingNumberAt).replace(/\{0\}/,k);return k+=te[0].length,parseInt(te[0],10)},C=this,E=function(){if(typeof c=="function"){d("m");var J=c.call(C,a.substring(k));return k+=J.length,J}return x("m")},w=function(J,ee,R,G){for(var B=d(J,G)?R:ee,te=0;te<B.length;te++)if(a.substr(k,B[te].length).toLowerCase()===B[te].toLowerCase())return k+=B[te].length,te+C.minMonth;throw(n.local.unknownNameAt||n.regionalOptions[""].unknownNameAt).replace(/\{0\}/,k)},H=function(){if(typeof v=="function"){var J=d("M")?v.call(C,a.substring(k)):h.call(C,a.substring(k));return k+=J.length,J}return w("M",h,v)},F=function(){if(a.charAt(k)!==o.charAt(I))throw(n.local.unexpectedLiteralAt||n.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,k);k++},k=0,I=0;I<o.length;I++)if(T)o.charAt(I)==="'"&&!d("'")?T=!1:F();else switch(o.charAt(I)){case"d":A=x("d");break;case"D":w("D",s,l);break;case"o":M=x("o");break;case"w":x("w");break;case"m":L=E();break;case"M":L=H();break;case"y":var U=I;p=!d("y",2),I=U,m=x("y",2);break;case"Y":m=x("Y",2);break;case"J":y=x("J")+.5,a.charAt(k)==="."&&(k++,x("J"));break;case"@":y=x("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=x("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":k=a.length;break;case"'":d("'")?F():T=!0;break;default:F()}if(k<a.length)throw n.local.unexpectedText||n.regionalOptions[""].unexpectedText;if(m===-1?m=this.today().year():m<100&&p&&(m+=u===-1?1900:this.today().year()-this.today().year()%100-(m<=u?0:100)),typeof L=="string"&&(L=r.call(this,m,L)),M>-1){L=1,A=M;for(var Q=this.daysInMonth(m,L);A>Q;Q=this.daysInMonth(m,L))L++,A-=Q}return y>-1?this.fromJD(y):this.newDate(m,L,A)},determineDate:function(o,a,e,u,s){e&&typeof e!="object"&&(s=u,u=e,e=null),typeof u!="string"&&(s=u,u="");var l=this,r=function(c){try{return l.parseDate(u,c,s)}catch{}c=c.toLowerCase();for(var h=(c.match(/^c/)&&e?e.newDate():null)||l.today(),v=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,y=v.exec(c);y;)h.add(parseInt(y[1],10),y[2]||"d"),y=v.exec(c);return h};return a=a?a.newDate():null,o=o==null?a:typeof o=="string"?r(o):typeof o=="number"?isNaN(o)||o===1/0||o===-1/0?a:l.today().add(o,"d"):l.newDate(o),o}})},{"./main":82,"object-assign":55}],84:[function(f,ae,W){ae.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(f,ae,W){var t=f("./arrow_paths"),n=f("../../plots/font_attributes"),o=f("../../plots/cartesian/constants"),a=f("../../plot_api/plot_template").templatedArray;f("../../constants/axis_placeable_objects"),ae.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:n({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:t.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:n({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("./draw").draw;ae.exports=function(s){var l=s._fullLayout,r=t.filterVisible(l.annotations);if(r.length&&s._fullData.length)return t.syncOrAsync([o,a],s)};function a(u){var s=u._fullLayout;t.filterVisible(s.annotations).forEach(function(l){var r=n.getFromId(u,l.xref),c=n.getFromId(u,l.yref),h=n.getRefType(l.xref),v=n.getRefType(l.yref);l._extremes={},h==="range"&&e(l,r),v==="range"&&e(l,c)})}function e(u,s){var l=s._id,r=l.charAt(0),c=u[r],h=u["a"+r],v=u[r+"ref"],y=u["a"+r+"ref"],m=u["_"+r+"padplus"],L=u["_"+r+"padminus"],A={x:1,y:-1}[r]*u[r+"shift"],M=3*u.arrowsize*u.arrowwidth||0,p=M+A,T=M-A,d=3*u.startarrowsize*u.arrowwidth||0,x=d+A,C=d-A,E;if(y===v){var w=n.findExtremes(s,[s.r2c(c)],{ppadplus:p,ppadminus:T}),H=n.findExtremes(s,[s.r2c(h)],{ppadplus:Math.max(m,x),ppadminus:Math.max(L,C)});E={min:[w.min[0],H.min[0]],max:[w.max[0],H.max[0]]}}else x=h?x+h:x,C=h?C-h:C,E=n.findExtremes(s,[s.r2c(c)],{ppadplus:Math.max(m,p,x),ppadminus:Math.max(L,T,C)});u._extremes[l]=E}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(f,ae,W){var t=f("../../lib"),n=f("../../registry"),o=f("../../plot_api/plot_template").arrayEditor;ae.exports={hasClickToShow:a,onClick:e};function a(l,r){var c=u(l,r);return c.on.length>0||c.explicitOff.length>0}function e(l,r){var c=u(l,r),h=c.on,v=c.off.concat(c.explicitOff),y={},m=l._fullLayout.annotations,L,A;if(!!(h.length||v.length)){for(L=0;L<h.length;L++)A=o(l.layout,"annotations",m[h[L]]),A.modifyItem("visible",!0),t.extendFlat(y,A.getUpdateObj());for(L=0;L<v.length;L++)A=o(l.layout,"annotations",m[v[L]]),A.modifyItem("visible",!1),t.extendFlat(y,A.getUpdateObj());return n.call("update",l,{},y)}}function u(l,r){var c=l._fullLayout.annotations,h=[],v=[],y=[],m=(r||[]).length,L,A,M,p,T,d,x,C;for(L=0;L<c.length;L++)if(M=c[L],p=M.clicktoshow,p){for(A=0;A<m;A++)if(T=r[A],d=T.xaxis,x=T.yaxis,d._id===M.xref&&x._id===M.yref&&d.d2r(T.x)===s(M._xclick,d)&&x.d2r(T.y)===s(M._yclick,x)){M.visible?p==="onout"?C=v:C=y:C=h,C.push(L);break}A===m&&M.visible&&p==="onout"&&v.push(L)}return{on:h,off:v,explicitOff:y}}function s(l,r){return r.type==="log"?r.l2r(l):r.d2r(l)}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(f,ae,W){var t=f("../../lib"),n=f("../color");ae.exports=function(a,e,u,s){s("opacity");var l=s("bgcolor"),r=s("bordercolor"),c=n.opacity(r);s("borderpad");var h=s("borderwidth"),v=s("showarrow");s("text",v?" ":u._dfltTitle.annotation),s("textangle"),t.coerceFont(s,"font",u.font),s("width"),s("align");var y=s("height");if(y&&s("valign"),v){var m=s("arrowside"),L,A;m.indexOf("end")!==-1&&(L=s("arrowhead"),A=s("arrowsize")),m.indexOf("start")!==-1&&(s("startarrowhead",L),s("startarrowsize",A)),s("arrowcolor",c?e.bordercolor:n.defaultLine),s("arrowwidth",(c&&h||1)*2),s("standoff"),s("startstandoff")}var M=s("hovertext"),p=u.hoverlabel||{};if(M){var T=s("hoverlabel.bgcolor",p.bgcolor||(n.opacity(l)?n.rgb(l):n.defaultLine)),d=s("hoverlabel.bordercolor",p.bordercolor||n.contrast(T));t.coerceFont(s,"hoverlabel.font",{family:p.font.family,size:p.font.size,color:p.font.color||d})}s("captureevents",!!M)}},{"../../lib":232,"../color":102}],89:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib/to_log_range");ae.exports=function(a,e,u,s){e=e||{};var l=u==="log"&&e.type==="linear",r=u==="linear"&&e.type==="log";if(!(l||r))return;var c=a._fullLayout.annotations,h=e._id.charAt(0),v,y;function m(A){var M=v[A],p=null;l?p=n(M,e.range):p=Math.pow(10,M),t(p)||(p=null),s(y+A,p)}for(var L=0;L<c.length;L++)v=c[L],y="annotations["+L+"].",v[h+"ref"]===e._id&&m(h),v["a"+h+"ref"]===e._id&&m("a"+h)}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("../../plots/array_container_defaults"),a=f("./common_defaults"),e=f("./attributes");ae.exports=function(l,r){o(l,r,{name:"annotations",handleItemDefaults:u})};function u(s,l,r){function c(F,k){return t.coerce(s,l,e,F,k)}var h=c("visible"),v=c("clicktoshow");if(!!(h||v)){a(s,l,r,c);for(var y=l.showarrow,m=["x","y"],L=[-10,-30],A={_fullLayout:r},M=0;M<2;M++){var p=m[M],T=n.coerceRef(s,l,A,p,"","paper");if(T!=="paper"){var d=n.getFromId(A,T);d._annIndices.push(l._index)}if(n.coercePosition(l,A,c,T,p,.5),y){var x="a"+p,C=n.coerceRef(s,l,A,x,"pixel",["pixel","paper"]);C!=="pixel"&&C!==T&&(C=l[x]="pixel");var E=C==="pixel"?L[M]:.4;n.coercePosition(l,A,c,C,x,E)}c(p+"anchor"),c(p+"shift")}if(t.noneOrAll(s,l,["x","y"]),y&&t.noneOrAll(s,l,["ax","ay"]),v){var w=c("xclick"),H=c("yclick");l._xclick=w===void 0?l.x:n.cleanPosition(w,A,l.xref),l._yclick=H===void 0?l.y:n.cleanPosition(H,A,l.yref)}}}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../plots/plots"),a=f("../../lib"),e=a.strTranslate,u=f("../../plots/cartesian/axes"),s=f("../color"),l=f("../drawing"),r=f("../fx"),c=f("../../lib/svg_text_utils"),h=f("../../lib/setcursor"),v=f("../dragelement"),y=f("../../plot_api/plot_template").arrayEditor,m=f("./draw_arrow_head");ae.exports={draw:L,drawOne:A,drawRaw:p};function L(T){var d=T._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var x=0;x<d.annotations.length;x++)d.annotations[x].visible&&A(T,x);return o.previousPromises(T)}function A(T,d){var x=T._fullLayout,C=x.annotations[d]||{},E=u.getFromId(T,C.xref),w=u.getFromId(T,C.yref);E&&E.setScale(),w&&w.setScale(),p(T,C,d,!1,E,w)}function M(T,d,x,C,E){var w=E[x],H=E[x+"ref"],F=x.indexOf("y")!==-1,k=u.getRefType(H)==="domain",I=F?C.h:C.w;return T?k?w+(F?-d:d)/T._length:T.p2r(T.r2p(w)+d):w+(F?-d:d)/I}function p(T,d,x,C,E,w){var H=T._fullLayout,F=T._fullLayout._size,k=T._context.edits,I,U;C?(I="annotation-"+C,U=C+".annotations"):(I="annotation",U="annotations");var Q=y(T.layout,U,d),J=Q.modifyBase,ee=Q.modifyItem,R=Q.getUpdateObj;H._infolayer.selectAll("."+I+'[data-index="'+x+'"]').remove();var G="clip"+H._uid+"_ann"+x;if(!d._input||d.visible===!1){t.selectAll("#"+G).remove();return}var B={x:{},y:{}},te=+d.textangle||0,ne=H._infolayer.append("g").classed(I,!0).attr("data-index",String(x)).style("opacity",d.opacity),oe=ne.append("g").classed("annotation-text-g",!0),me=k[d.showarrow?"annotationTail":"annotationPosition"],de=d.captureevents||k.annotationText||me;function ie(se){var ce={index:x,annotation:d._input,fullAnnotation:d,event:se};return C&&(ce.subplotId=C),ce}var Z=oe.append("g").style("pointer-events",de?"all":null).call(h,"pointer").on("click",function(){T._dragging=!1,T.emit("plotly_clickannotation",ie(t.event))});d.hovertext&&Z.on("mouseover",function(){var se=d.hoverlabel,ce=se.font,fe=this.getBoundingClientRect(),pe=T.getBoundingClientRect();r.loneHover({x0:fe.left-pe.left,x1:fe.right-pe.left,y:(fe.top+fe.bottom)/2-pe.top,text:d.hovertext,color:se.bgcolor,borderColor:se.bordercolor,fontFamily:ce.family,fontSize:ce.size,fontColor:ce.color},{container:H._hoverlayer.node(),outerContainer:H._paper.node(),gd:T})}).on("mouseout",function(){r.loneUnhover(H._hoverlayer.node())});var q=d.borderwidth,K=d.borderpad,g=q+K,S=Z.append("rect").attr("class","bg").style("stroke-width",q+"px").call(s.stroke,d.bordercolor).call(s.fill,d.bgcolor),Y=d.width||d.height,z=H._topclips.selectAll("#"+G).data(Y?[0]:[]);z.enter().append("clipPath").classed("annclip",!0).attr("id",G).append("rect"),z.exit().remove();var _=d.font,O=H._meta?a.templateString(d.text,H._meta):d.text,N=Z.append("text").classed("annotation-text",!0).text(O);function P(se){return se.call(l.font,_).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),c.convertToTspans(se,T,j),se}function j(){var se=N.selectAll("a");if(se.size()===1&&se.text()===N.text()){var ce=Z.insert("a",":first-child").attr({"xlink:xlink:href":se.attr("xlink:href"),"xlink:xlink:show":se.attr("xlink:show")}).style({cursor:"pointer"});ce.node().appendChild(S.node())}var fe=Z.select(".annotation-text-math-group"),pe=!fe.empty(),be=l.bBox((pe?fe:N).node()),Re=be.width,ke=be.height,Oe=d.width||Re,Be=d.height||ke,Ae=Math.round(Oe+2*g),ge=Math.round(Be+2*g);function Ee(Bt,zt){return zt==="auto"&&(Bt<1/3?zt="left":Bt>2/3?zt="right":zt="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[zt]}for(var Ve=!1,xt=["x","y"],Ye=0;Ye<xt.length;Ye++){var Xe=xt[Ye],Je=d[Xe+"ref"]||Xe,ft=d["a"+Xe+"ref"],yt={x:E,y:w}[Xe],At=(te+(Xe==="x"?0:-90))*Math.PI/180,qe=Ae*Math.cos(At),mt=ge*Math.sin(At),st=Math.abs(qe)+Math.abs(mt),gt=d[Xe+"anchor"],Ct=d[Xe+"shift"]*(Xe==="x"?1:-1),Ce=B[Xe],ze,et,ve,we,Me,De=u.getRefType(Je);if(yt&&De!=="domain"){var je=yt.r2fraction(d[Xe]);(je<0||je>1)&&(ft===Je?(je=yt.r2fraction(d["a"+Xe]),(je<0||je>1)&&(Ve=!0)):Ve=!0),ze=yt._offset+yt.r2p(d[Xe]),we=.5}else{var We=De==="domain";Xe==="x"?(ve=d[Xe],ze=We?yt._offset+yt._length*ve:ze=F.l+F.w*ve):(ve=1-d[Xe],ze=We?yt._offset+yt._length*ve:ze=F.t+F.h*ve),we=d.showarrow?.5:ve}if(d.showarrow){Ce.head=ze;var ht=d["a"+Xe];if(Me=qe*Ee(.5,d.xanchor)-mt*Ee(.5,d.yanchor),ft===Je){var vt=u.getRefType(ft);vt==="domain"?(Xe==="y"&&(ht=1-ht),Ce.tail=yt._offset+yt._length*ht):vt==="paper"?Xe==="y"?(ht=1-ht,Ce.tail=F.t+F.h*ht):Ce.tail=F.l+F.w*ht:Ce.tail=yt._offset+yt.r2p(ht),et=Me}else Ce.tail=ze+ht,et=Me+ht;Ce.text=Ce.tail+Me;var it=H[Xe==="x"?"width":"height"];if(Je==="paper"&&(Ce.head=a.constrain(Ce.head,1,it-1)),ft==="pixel"){var Ze=-Math.max(Ce.tail-3,Ce.text),_t=Math.min(Ce.tail+3,Ce.text)-it;Ze>0?(Ce.tail+=Ze,Ce.text+=Ze):_t>0&&(Ce.tail-=_t,Ce.text-=_t)}Ce.tail+=Ct,Ce.head+=Ct}else Me=st*Ee(we,gt),et=Me,Ce.text=ze+Me;Ce.text+=Ct,Me+=Ct,et+=Ct,d["_"+Xe+"padplus"]=st/2+et,d["_"+Xe+"padminus"]=st/2-et,d["_"+Xe+"size"]=st,d["_"+Xe+"shift"]=Me}if(Ve){Z.remove();return}var Lt=0,wt=0;if(d.align!=="left"&&(Lt=(Oe-Re)*(d.align==="center"?.5:1)),d.valign!=="top"&&(wt=(Be-ke)*(d.valign==="middle"?.5:1)),pe)fe.select("svg").attr({x:g+Lt-1,y:g+wt}).call(l.setClipUrl,Y?G:null,T);else{var Gt=g+wt-be.top,Kt=g+Lt-be.left;N.call(c.positionText,Kt,Gt).call(l.setClipUrl,Y?G:null,T)}z.select("rect").call(l.setRect,g,g,Oe,Be),S.call(l.setRect,q/2,q/2,Ae-q,ge-q),Z.call(l.setTranslate,Math.round(B.x.text-Ae/2),Math.round(B.y.text-ge/2)),oe.attr({transform:"rotate("+te+","+B.x.text+","+B.y.text+")"});var $t=function(Bt,zt){ne.selectAll(".annotation-arrow-g").remove();var ct=B.x.head,Wt=B.y.head,Ot=B.x.tail+Bt,Jt=B.y.tail+zt,jt=B.x.text+Bt,St=B.y.text+zt,le=a.rotationXYMatrix(te,jt,St),re=a.apply2DTransform(le),Le=a.apply2DTransform2(le),Te=+S.attr("width"),Se=+S.attr("height"),Fe=jt-.5*Te,Ie=Fe+Te,Ue=St-.5*Se,tt=Ue+Se,at=[[Fe,Ue,Fe,tt],[Fe,tt,Ie,tt],[Ie,tt,Ie,Ue],[Ie,Ue,Fe,Ue]].map(Le);if(!at.reduce(function(Dt,Ht){return Dt^!!a.segmentsIntersect(ct,Wt,ct+1e6,Wt+1e6,Ht[0],Ht[1],Ht[2],Ht[3])},!1)){at.forEach(function(Dt){var Ht=a.segmentsIntersect(Ot,Jt,ct,Wt,Dt[0],Dt[1],Dt[2],Dt[3]);Ht&&(Ot=Ht.x,Jt=Ht.y)});var bt=d.arrowwidth,Tt=d.arrowcolor,Ft=d.arrowside,dt=ne.append("g").style({opacity:s.opacity(Tt)}).classed("annotation-arrow-g",!0),rt=dt.append("path").attr("d","M"+Ot+","+Jt+"L"+ct+","+Wt).style("stroke-width",bt+"px").call(s.stroke,s.rgb(Tt));if(m(rt,Ft,d),k.annotationPosition&&rt.node().parentNode&&!C){var kt=ct,Rt=Wt;if(d.standoff){var nt=Math.sqrt(Math.pow(ct-Ot,2)+Math.pow(Wt-Jt,2));kt+=d.standoff*(Ot-ct)/nt,Rt+=d.standoff*(Jt-Wt)/nt}var Mt=dt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ot-kt)+","+(Jt-Rt),transform:e(kt,Rt)}).style("stroke-width",bt+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),Et,pt;v.init({element:Mt.node(),gd:T,prepFn:function(){var Dt=l.getTranslate(Z);Et=Dt.x,pt=Dt.y,E&&E.autorange&&J(E._name+".autorange",!0),w&&w.autorange&&J(w._name+".autorange",!0)},moveFn:function(Dt,Ht){var Yt=re(Et,pt),Pt=Yt[0]+Dt,nr=Yt[1]+Ht;Z.call(l.setTranslate,Pt,nr),ee("x",M(E,Dt,"x",F,d)),ee("y",M(w,Ht,"y",F,d)),d.axref===d.xref&&ee("ax",M(E,Dt,"ax",F,d)),d.ayref===d.yref&&ee("ay",M(w,Ht,"ay",F,d)),dt.attr("transform",e(Dt,Ht)),oe.attr({transform:"rotate("+te+","+Pt+","+nr+")"})},doneFn:function(){n.call("_guiRelayout",T,R());var Dt=document.querySelector(".js-notes-box-panel");Dt&&Dt.redraw(Dt.selectedObj)}})}}};if(d.showarrow&&$t(0,0),me){var It;v.init({element:Z.node(),gd:T,prepFn:function(){It=oe.attr("transform")},moveFn:function(Bt,zt){var ct="pointer";if(d.showarrow)d.axref===d.xref?ee("ax",M(E,Bt,"ax",F,d)):ee("ax",d.ax+Bt),d.ayref===d.yref?ee("ay",M(w,zt,"ay",F.w,d)):ee("ay",d.ay+zt),$t(Bt,zt);else{if(C)return;var Wt,Ot;if(E)Wt=M(E,Bt,"x",F,d);else{var Jt=d._xsize/F.w,jt=d.x+(d._xshift-d.xshift)/F.w-Jt/2;Wt=v.align(jt+Bt/F.w,Jt,0,1,d.xanchor)}if(w)Ot=M(w,zt,"y",F,d);else{var St=d._ysize/F.h,le=d.y-(d._yshift+d.yshift)/F.h-St/2;Ot=v.align(le-zt/F.h,St,0,1,d.yanchor)}ee("x",Wt),ee("y",Ot),(!E||!w)&&(ct=v.getCursor(E?.5:Wt,w?.5:Ot,d.xanchor,d.yanchor))}oe.attr({transform:e(Bt,zt)+It}),h(Z,ct)},clickFn:function(Bt,zt){d.captureevents&&T.emit("plotly_clickannotation",ie(zt))},doneFn:function(){h(Z),n.call("_guiRelayout",T,R());var Bt=document.querySelector(".js-notes-box-panel");Bt&&Bt.redraw(Bt.selectedObj)}})}}k.annotationText?N.call(c.makeEditable,{delegate:Z,gd:T}).call(P).on("edit",function(se){d.text=se,this.call(P),ee("text",se),E&&E.autorange&&J(E._name+".autorange",!0),w&&w.autorange&&J(w._name+".autorange",!0),n.call("_guiRelayout",T,R())}):N.call(P)}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../color"),o=f("./arrow_paths"),a=f("../../lib"),e=a.strScale,u=a.strRotate,s=a.strTranslate;ae.exports=function(r,c,h){var v=r.node(),y=o[h.arrowhead||0],m=o[h.startarrowhead||0],L=(h.arrowwidth||1)*(h.arrowsize||1),A=(h.arrowwidth||1)*(h.startarrowsize||1),M=c.indexOf("start")>=0,p=c.indexOf("end")>=0,T=y.backoff*L+h.standoff,d=m.backoff*A+h.startstandoff,x,C,E,w;if(v.nodeName==="line"){x={x:+r.attr("x1"),y:+r.attr("y1")},C={x:+r.attr("x2"),y:+r.attr("y2")};var H=x.x-C.x,F=x.y-C.y;if(E=Math.atan2(F,H),w=E+Math.PI,T&&d&&T+d>Math.sqrt(H*H+F*F)){oe();return}if(T){if(T*T>H*H+F*F){oe();return}var k=T*Math.cos(E),I=T*Math.sin(E);C.x+=k,C.y+=I,r.attr({x2:C.x,y2:C.y})}if(d){if(d*d>H*H+F*F){oe();return}var U=d*Math.cos(E),Q=d*Math.sin(E);x.x-=U,x.y-=Q,r.attr({x1:x.x,y1:x.y})}}else if(v.nodeName==="path"){var J=v.getTotalLength(),ee="";if(J<T+d){oe();return}var R=v.getPointAtLength(0),G=v.getPointAtLength(.1);E=Math.atan2(R.y-G.y,R.x-G.x),x=v.getPointAtLength(Math.min(d,J)),ee="0px,"+d+"px,";var B=v.getPointAtLength(J),te=v.getPointAtLength(J-.1);w=Math.atan2(B.y-te.y,B.x-te.x),C=v.getPointAtLength(Math.max(0,J-T));var ne=ee?d+T:T;ee+=J-ne+"px,"+J+"px",r.style("stroke-dasharray",ee)}function oe(){r.style("stroke-dasharray","0px,100px")}function me(de,ie,Z,q){!de.path||(de.noRotate&&(Z=0),t.select(v.parentNode).append("path").attr({class:r.attr("class"),d:de.path,transform:s(ie.x,ie.y)+u(Z*180/Math.PI)+e(q)}).style({fill:n.rgb(h.arrowcolor),"stroke-width":0}))}M&&me(m,x,E,A),p&&me(y,C,w,L)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(f,ae,W){var t=f("./draw"),n=f("./click");ae.exports={moduleType:"component",name:"annotations",layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),includeBasePlot:f("../../plots/cartesian/include_components")("annotations"),calcAutorange:f("./calc_autorange"),draw:t.draw,drawOne:t.drawOne,drawRaw:t.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:f("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(f,ae,W){var t=f("../annotations/attributes"),n=f("../../plot_api/edit_types").overrideAll,o=f("../../plot_api/plot_template").templatedArray;ae.exports=n(o("annotation",{visible:t.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:t.xanchor,xshift:t.xshift,yanchor:t.yanchor,yshift:t.yshift,text:t.text,textangle:t.textangle,font:t.font,width:t.width,height:t.height,opacity:t.opacity,align:t.align,valign:t.valign,bgcolor:t.bgcolor,bordercolor:t.bordercolor,borderpad:t.borderpad,borderwidth:t.borderwidth,showarrow:t.showarrow,arrowcolor:t.arrowcolor,arrowhead:t.arrowhead,startarrowhead:t.startarrowhead,arrowside:t.arrowside,arrowsize:t.arrowsize,startarrowsize:t.startarrowsize,arrowwidth:t.arrowwidth,standoff:t.standoff,startstandoff:t.startstandoff,hovertext:t.hovertext,hoverlabel:t.hoverlabel,captureevents:t.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes");ae.exports=function(e){for(var u=e.fullSceneLayout,s=u.annotations,l=0;l<s.length;l++)o(s[l],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()};function o(a,e){var u=e.fullSceneLayout,s=u.domain,l=e.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};a._xa={},t.extendFlat(a._xa,r),n.setConvert(a._xa),a._xa._offset=l.l+s.x[0]*l.w,a._xa.l2p=function(){return .5*(1+a._pdata[0]/a._pdata[3])*l.w*(s.x[1]-s.x[0])},a._ya={},t.extendFlat(a._ya,r),n.setConvert(a._ya),a._ya._offset=l.t+(1-s.y[1])*l.h,a._ya.l2p=function(){return .5*(1-a._pdata[1]/a._pdata[3])*l.h*(s.y[1]-s.y[0])}}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("../../plots/array_container_defaults"),a=f("../annotations/common_defaults"),e=f("./attributes");ae.exports=function(l,r,c){o(l,r,{name:"annotations",handleItemDefaults:u,fullLayout:c.fullLayout})};function u(s,l,r,c){function h(m,L){return t.coerce(s,l,e,m,L)}function v(m){var L=m+"axis",A={_fullLayout:{}};return A._fullLayout[L]=r[L],n.coercePosition(l,A,h,m,m,.5)}var y=h("visible");!y||(a(s,l,c.fullLayout,h),v("x"),v("y"),v("z"),t.noneOrAll(s,l,["x","y","z"]),l.xref="x",l.yref="y",l.zref="z",h("xanchor"),h("yanchor"),h("xshift"),h("yshift"),l.showarrow&&(l.axref="pixel",l.ayref="pixel",h("ax",-10),h("ay",-30),t.noneOrAll(s,l,["ax","ay"])))}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(f,ae,W){var t=f("../annotations/draw").drawRaw,n=f("../../plots/gl3d/project"),o=["x","y","z"];ae.exports=function(e){for(var u=e.fullSceneLayout,s=e.dataScale,l=u.annotations,r=0;r<l.length;r++){for(var c=l[r],h=!1,v=0;v<3;v++){var y=o[v],m=c[y],L=u[y+"axis"],A=L.r2fraction(m);if(A<0||A>1){h=!0;break}}h?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+r+'"]').remove():(c._pdata=n(e.glplot.cameraParams,[u.xaxis.r2l(c.x)*s[0],u.yaxis.r2l(c.y)*s[1],u.zaxis.r2l(c.z)*s[2]]),t(e.graphDiv,c,r,e.id,c._xa,c._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(f,ae,W){var t=f("../../registry"),n=f("../../lib");ae.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:f("./attributes")}}},layoutAttributes:f("./attributes"),handleDefaults:f("./defaults"),includeBasePlot:o,convert:f("./convert"),draw:f("./draw")};function o(a,e){var u=t.subplotsRegistry.gl3d;if(!!u)for(var s=u.attrRegex,l=Object.keys(a),r=0;r<l.length;r++){var c=l[r];s.test(c)&&(a[c].annotations||[]).length&&(n.pushUnique(e._basePlotModules,u),n.pushUnique(e._subplots.gl3d,c))}}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(f,ae,W){ae.exports=f("world-calendars/dist/main"),f("world-calendars/dist/plus"),f("world-calendars/dist/calendars/chinese"),f("world-calendars/dist/calendars/coptic"),f("world-calendars/dist/calendars/discworld"),f("world-calendars/dist/calendars/ethiopian"),f("world-calendars/dist/calendars/hebrew"),f("world-calendars/dist/calendars/islamic"),f("world-calendars/dist/calendars/julian"),f("world-calendars/dist/calendars/mayan"),f("world-calendars/dist/calendars/nanakshahi"),f("world-calendars/dist/calendars/nepali"),f("world-calendars/dist/calendars/persian"),f("world-calendars/dist/calendars/taiwan"),f("world-calendars/dist/calendars/thai"),f("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(f,ae,W){var t=f("./calendars"),n=f("../../lib"),o=f("../../constants/numerical"),a=o.EPOCHJD,e=o.ONEDAY,u={valType:"enumerated",values:n.sortObjectKeys(t.calendars),editType:"calc",dflt:"gregorian"},s=function(E,w,H,F){var k={};return k[H]=u,n.coerce(E,w,k,H,F)},l=function(E,w,H,F){for(var k=0;k<H.length;k++)s(E,w,H[k]+"calendar",F.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},c={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},h={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},v="##",y={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:v,w:v,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function m(E,w,H){for(var F=Math.floor((w+.05)/e)+a,k=A(H).fromJD(F),I=0,U,Q,J,ee,R;(I=E.indexOf("%",I))!==-1;)U=E.charAt(I+1),U==="0"||U==="-"||U==="_"?(J=3,Q=E.charAt(I+2),U==="_"&&(U="-")):(Q=U,U="0",J=2),ee=y[Q],ee?(ee===v?R=v:R=k.formatDate(ee[U]),E=E.substr(0,I)+R+E.substr(I+J),I+=R.length):I+=J;return E}var L={};function A(E){var w=L[E];return w||(w=L[E]=t.instance(E),w)}function M(E){return n.extendFlat({},u,{description:E})}function p(E){return"Sets the calendar system to use with `"+E+"` date data."}var T={xcalendar:M(p("x"))},d=n.extendFlat({},T,{ycalendar:M(p("y"))}),x=n.extendFlat({},d,{zcalendar:M(p("z"))}),C=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ae.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:x,surface:x,mesh3d:x,scattergl:d,ohlc:T,candlestick:T},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:C},yaxis:{calendar:C},scene:{xaxis:{calendar:C},yaxis:{calendar:C},zaxis:{calendar:C}},polar:{radialaxis:{calendar:C}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:u,handleDefaults:s,handleTraceDefaults:l,CANONICAL_SUNDAY:c,CANONICAL_TICK:r,DFLTRANGE:h,getCal:A,worldCalFmt:m}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(f,ae,W){W.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],W.defaultLine="#444",W.lightLine="#eee",W.background="#fff",W.borderLine="#BEC8D9",W.lightFraction=100*(14-4)/(15-4)},{}],102:[function(f,ae,W){var t=f("tinycolor2"),n=f("fast-isnumeric"),o=f("../../lib/array").isTypedArray,a=ae.exports={},e=f("./attributes");a.defaults=e.defaults;var u=a.defaultLine=e.defaultLine;a.lightLine=e.lightLine;var s=a.background=e.background;a.tinyRGB=function(r){var c=r.toRgb();return"rgb("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+")"},a.rgb=function(r){return a.tinyRGB(t(r))},a.opacity=function(r){return r?t(r).getAlpha():0},a.addOpacity=function(r,c){var h=t(r).toRgb();return"rgba("+Math.round(h.r)+", "+Math.round(h.g)+", "+Math.round(h.b)+", "+c+")"},a.combine=function(r,c){var h=t(r).toRgb();if(h.a===1)return t(r).toRgbString();var v=t(c||s).toRgb(),y=v.a===1?v:{r:255*(1-v.a)+v.r*v.a,g:255*(1-v.a)+v.g*v.a,b:255*(1-v.a)+v.b*v.a},m={r:y.r*(1-h.a)+h.r*h.a,g:y.g*(1-h.a)+h.g*h.a,b:y.b*(1-h.a)+h.b*h.a};return t(m).toRgbString()},a.contrast=function(r,c,h){var v=t(r);v.getAlpha()!==1&&(v=t(a.combine(r,s)));var y=v.isDark()?c?v.lighten(c):s:h?v.darken(h):u;return y.toString()},a.stroke=function(r,c){var h=t(c);r.style({stroke:a.tinyRGB(h),"stroke-opacity":h.getAlpha()})},a.fill=function(r,c){var h=t(c);r.style({fill:a.tinyRGB(h),"fill-opacity":h.getAlpha()})},a.clean=function(r){if(!(!r||typeof r!="object")){var c=Object.keys(r),h,v,y,m;for(h=0;h<c.length;h++)if(y=c[h],m=r[y],y.substr(y.length-5)==="color")if(Array.isArray(m))for(v=0;v<m.length;v++)m[v]=l(m[v]);else r[y]=l(m);else if(y.substr(y.length-10)==="colorscale"&&Array.isArray(m))for(v=0;v<m.length;v++)Array.isArray(m[v])&&(m[v][1]=l(m[v][1]));else if(Array.isArray(m)){var L=m[0];if(!Array.isArray(L)&&L&&typeof L=="object")for(v=0;v<m.length;v++)a.clean(m[v])}else m&&typeof m=="object"&&!o(m)&&a.clean(m)}};function l(r){if(n(r)||typeof r!="string")return r;var c=r.trim();if(c.substr(0,3)!=="rgb")return r;var h=c.match(/^rgba?\s*\(([^()]*)\)$/);if(!h)return r;var v=h[1].trim().split(/\s*[\s,]\s*/),y=c.charAt(3)==="a"&&v.length===4;if(!y&&v.length!==3)return r;for(var m=0;m<v.length;m++){if(!v[m].length||(v[m]=Number(v[m]),!(v[m]>=0)))return r;if(m===3)v[m]>1&&(v[m]=1);else if(v[m]>=1)return r}var L=Math.round(v[0]*255)+", "+Math.round(v[1]*255)+", "+Math.round(v[2]*255);return y?"rgba("+L+", "+v[3]+")":"rgb("+L+")"}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(f,ae,W){var t=f("../../plots/cartesian/layout_attributes"),n=f("../../plots/font_attributes"),o=f("../../lib/extend").extendFlat,a=f("../../plot_api/edit_types").overrideAll;ae.exports=a({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:t.linecolor,outlinewidth:t.linewidth,bordercolor:t.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:o({},t.ticks,{dflt:""}),ticklabeloverflow:o({},t.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,ticklabelstep:t.ticklabelstep,showticklabels:t.showticklabels,tickfont:n({}),tickangle:t.tickangle,tickformat:t.tickformat,tickformatstops:t.tickformatstops,tickprefix:t.tickprefix,showtickprefix:t.showtickprefix,ticksuffix:t.ticksuffix,showticksuffix:t.showticksuffix,separatethousands:t.separatethousands,exponentformat:t.exponentformat,minexponent:t.minexponent,showexponent:t.showexponent,title:{text:{valType:"string"},font:n({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:n({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(f,ae,W){ae.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(f,ae,W){var t=f("../../lib"),n=f("../../plot_api/plot_template"),o=f("../../plots/cartesian/tick_value_defaults"),a=f("../../plots/cartesian/tick_mark_defaults"),e=f("../../plots/cartesian/tick_label_defaults"),u=f("../../plots/cartesian/prefix_suffix_defaults"),s=f("./attributes");ae.exports=function(r,c,h){var v=n.newContainer(c,"colorbar"),y=r.colorbar||{};function m(k,I){return t.coerce(y,v,s,k,I)}var L=h.margin||{t:0,b:0,l:0,r:0},A=h.width-L.l-L.r,M=h.height-L.t-L.b,p=m("orientation"),T=p==="v",d=m("thicknessmode");m("thickness",d==="fraction"?30/(T?A:M):30);var x=m("lenmode");m("len",x==="fraction"?1:T?M:A),m("x",T?1.02:.5),m("xanchor",T?"left":"center"),m("xpad"),m("y",T?.5:1.02),m("yanchor",T?"middle":"bottom"),m("ypad"),t.noneOrAll(y,v,["x","y"]),m("outlinecolor"),m("outlinewidth"),m("bordercolor"),m("borderwidth"),m("bgcolor");var C=t.coerce(y,v,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:T?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");m("ticklabeloverflow",C.indexOf("inside")!==-1?"hide past domain":"hide past div"),o(y,v,m,"linear");var E=h.font,w={outerTicks:!1,font:E};C.indexOf("inside")!==-1&&(w.bgColor="black"),u(y,v,m,"linear",w),e(y,v,m,"linear",w),a(y,v,m,"linear",w),m("title.text",h._dfltTitle.colorbar);var H=v.tickfont,F=t.extendFlat({},H,{color:E.color,size:t.bigFont(H.size)});t.coerceFont(m,"title.font",F),m("title.side",T?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(f,ae,W){var t=f("@plotly/d3"),n=f("tinycolor2"),o=f("../../plots/plots"),a=f("../../registry"),e=f("../../plots/cartesian/axes"),u=f("../dragelement"),s=f("../../lib"),l=s.strTranslate,r=f("../../lib/extend").extendFlat,c=f("../../lib/setcursor"),h=f("../drawing"),v=f("../color"),y=f("../titles"),m=f("../../lib/svg_text_utils"),L=f("../colorscale/helpers").flipScale,A=f("../../plots/cartesian/axis_defaults"),M=f("../../plots/cartesian/position_defaults"),p=f("../../plots/cartesian/layout_attributes"),T=f("../../constants/alignment"),d=T.LINE_SPACING,x=T.FROM_TL,C=T.FROM_BR,E=f("./constants").cn;function w(Q){var J=Q._fullLayout,ee=J._infolayer.selectAll("g."+E.colorbar).data(H(Q),function(R){return R._id});ee.enter().append("g").attr("class",function(R){return R._id}).classed(E.colorbar,!0),ee.each(function(R){var G=t.select(this);s.ensureSingle(G,"rect",E.cbbg),s.ensureSingle(G,"g",E.cbfills),s.ensureSingle(G,"g",E.cblines),s.ensureSingle(G,"g",E.cbaxis,function(te){te.classed(E.crisp,!0)}),s.ensureSingle(G,"g",E.cbtitleunshift,function(te){te.append("g").classed(E.cbtitle,!0)}),s.ensureSingle(G,"rect",E.cboutline);var B=F(G,R,Q);B&&B.then&&(Q._promises||[]).push(B),Q._context.edits.colorbarPosition&&k(G,R,Q)}),ee.exit().each(function(R){o.autoMargin(Q,R._id)}).remove(),ee.order()}function H(Q){var J=Q._fullLayout,ee=Q.calcdata,R=[],G,B,te,ne;function oe(_){return r(_,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function me(){typeof ne.calc=="function"?ne.calc(Q,te,G):(G._fillgradient=B.reversescale?L(B.colorscale):B.colorscale,G._zrange=[B[ne.min],B[ne.max]])}for(var de=0;de<ee.length;de++){var ie=ee[de];te=ie[0].trace;var Z=te._module.colorbar;if(te.visible===!0&&Z)for(var q=Array.isArray(Z),K=q?Z:[Z],g=0;g<K.length;g++){ne=K[g];var S=ne.container;B=S?te[S]:te,B&&B.showscale&&(G=oe(B.colorbar),G._id="cb"+te.uid+(q&&S?"-"+S:""),G._traceIndex=te.index,G._propPrefix=(S?S+".":"")+"colorbar.",G._meta=te._meta,me(),R.push(G))}}for(var Y in J._colorAxes)if(B=J[Y],B.showscale){var z=J._colorAxes[Y];G=oe(B.colorbar),G._id="cb"+Y,G._propPrefix=Y+".colorbar.",G._meta=J._meta,ne={min:"cmin",max:"cmax"},z[0]!=="heatmap"&&(te=z[1],ne.calc=te._module.colorbar.calc),me(),R.push(G)}return R}function F(Q,J,ee){var R=J.orientation==="v",G=J.len,B=J.lenmode,te=J.thickness,ne=J.thicknessmode,oe=J.outlinewidth,me=J.borderwidth,de=J.bgcolor,ie=J.xanchor,Z=J.yanchor,q=J.xpad,K=J.ypad,g=J.x,S=R?J.y:1-J.y,Y=ee._fullLayout,z=Y._size,_=J._fillcolor,O=J._line,N=J.title,P=N.side,j=J._zrange||t.extent((typeof _=="function"?_:O.color).domain()),se=typeof O.color=="function"?O.color:function(){return O.color},ce=typeof _=="function"?_:function(){return _},fe=J._levels,pe=I(ee,J,j),be=pe.fill,Re=pe.line,ke=Math.round(te*(ne==="fraction"?R?z.w:z.h:1)),Oe=ke/(R?z.w:z.h),Be=Math.round(G*(B==="fraction"?R?z.h:z.w:1)),Ae=Be/(R?z.h:z.w),ge=Math.round(R?g*z.w+q:S*z.h+K),Ee={center:.5,right:1}[ie]||0,Ve={top:1,middle:.5}[Z]||0,xt=R?g-Ee*Oe:S-Ve*Oe,Ye=R?S-Ve*Ae:g-Ee*Ae,Xe=Math.round(R?z.h*(1-Ye):z.w*Ye);J._lenFrac=Ae,J._thickFrac=Oe,J._uFrac=xt,J._vFrac=Ye;var Je=J._axis=U(ee,J,j);Je.position=Oe+(R?g+q/z.w:S+K/z.h);var ft=["top","bottom"].indexOf(P)!==-1;if(R&&ft&&(Je.title.side=P,Je.titlex=g+q/z.w,Je.titley=Ye+(N.side==="top"?Ae-K/z.h:K/z.h)),!R&&!ft&&(Je.title.side=P,Je.titley=S+K/z.h,Je.titlex=Ye+q/z.w),O.color&&J.tickmode==="auto"){Je.tickmode="linear",Je.tick0=fe.start;var yt=fe.size,At=s.constrain(Be/50,4,15)+1,qe=(j[1]-j[0])/((J.nticks||At)*yt);if(qe>1){var mt=Math.pow(10,Math.floor(Math.log(qe)/Math.LN10));yt*=mt*s.roundUp(qe/mt,[2,5,10]),(Math.abs(fe.start)/fe.size+1e-6)%1<2e-6&&(Je.tick0=0)}Je.dtick=yt}Je.domain=R?[Ye+K/z.h,Ye+Ae-K/z.h]:[Ye+q/z.w,Ye+Ae-q/z.w],Je.setScale(),Q.attr("transform",l(Math.round(z.l),Math.round(z.t)));var st=Q.select("."+E.cbtitleunshift).attr("transform",l(-Math.round(z.l),-Math.round(z.t))),gt=Je.ticklabelposition,Ct=Je.title.font.size,Ce=Q.select("."+E.cbaxis),ze,et=0,ve=0;function we(ht,vt){var it={propContainer:Je,propName:J._propPrefix+"title",traceIndex:J._traceIndex,_meta:J._meta,placeholder:Y._dfltTitle.colorbar,containerGroup:Q.select("."+E.cbtitle)},Ze=ht.charAt(0)==="h"?ht.substr(1):"h"+ht;Q.selectAll("."+Ze+",."+Ze+"-math-group").remove(),y.draw(ee,ht,r(it,vt||{}))}function Me(){if(R&&ft||!R&&!ft){var ht,vt;P==="top"&&(ht=q+z.l+z.w*g,vt=K+z.t+z.h*(1-Ye-Ae)+3+Ct*.75),P==="bottom"&&(ht=q+z.l+z.w*g,vt=K+z.t+z.h*(1-Ye)-3-Ct*.25),P==="right"&&(vt=K+z.t+z.h*S+3+Ct*.75,ht=q+z.l+z.w*Ye),we(Je._id+"title",{attributes:{x:ht,y:vt,"text-anchor":R?"start":"middle"}})}}function De(){if(R&&!ft||!R&&ft){var ht=Je.position||0,vt=Je._offset+Je._length/2,it,Ze;if(P==="right")Ze=vt,it=z.l+z.w*ht+10+Ct*(Je.showticklabels?1:.5);else if(it=vt,P==="bottom"&&(Ze=z.t+z.h*ht+10+(gt.indexOf("inside")===-1?Je.tickfont.size:0)+(Je.ticks!=="intside"&&J.ticklen||0)),P==="top"){var _t=N.text.split("<br>").length;Ze=z.t+z.h*ht+10-ke-d*Ct*_t}we((R?"h":"v")+Je._id+"title",{avoid:{selection:t.select(ee).selectAll("g."+Je._id+"tick"),side:P,offsetTop:R?0:z.t,offsetLeft:R?z.l:0,maxShift:R?Y.width:Y.height},attributes:{x:it,y:Ze,"text-anchor":"middle"},transform:{rotate:R?-90:0,offset:0}})}}function je(){if(!R&&!ft||R&&ft){var ht=Q.select("."+E.cbtitle),vt=ht.select("text"),it=[-oe/2,oe/2],Ze=ht.select(".h"+Je._id+"title-math-group").node(),_t=15.6;vt.node()&&(_t=parseInt(vt.node().style.fontSize,10)*d);var Lt;if(Ze?(Lt=h.bBox(Ze),ve=Lt.width,et=Lt.height,et>_t&&(it[1]-=(et-_t)/2)):vt.node()&&!vt.classed(E.jsPlaceholder)&&(Lt=h.bBox(vt.node()),ve=Lt.width,et=Lt.height),R){if(et){if(et+=5,P==="top")Je.domain[1]-=et/z.h,it[1]*=-1;else{Je.domain[0]+=et/z.h;var wt=m.lineCount(vt);it[1]+=(1-wt)*_t}ht.attr("transform",l(it[0],it[1])),Je.setScale()}}else ve&&(P==="right"&&(Je.domain[0]+=(ve+Ct/2)/z.w),ht.attr("transform",l(it[0],it[1])),Je.setScale())}Q.selectAll("."+E.cbfills+",."+E.cblines).attr("transform",R?l(0,Math.round(z.h*(1-Je.domain[1]))):l(Math.round(z.w*Je.domain[0]),0)),Ce.attr("transform",R?l(0,Math.round(-z.t)):l(Math.round(-z.l),0));var Gt=Q.select("."+E.cbfills).selectAll("rect."+E.cbfill).attr("style","").data(be);Gt.enter().append("rect").classed(E.cbfill,!0).style("stroke","none"),Gt.exit().remove();var Kt=j.map(Je.c2p).map(Math.round).sort(function(ct,Wt){return ct-Wt});Gt.each(function(ct,Wt){var Ot=[Wt===0?j[0]:(be[Wt]+be[Wt-1])/2,Wt===be.length-1?j[1]:(be[Wt]+be[Wt+1])/2].map(Je.c2p).map(Math.round);R&&(Ot[1]=s.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,Kt[0],Kt[1]));var Jt=t.select(this).attr(R?"x":"y",ge).attr(R?"y":"x",t.min(Ot)).attr(R?"width":"height",Math.max(ke,2)).attr(R?"height":"width",Math.max(t.max(Ot)-t.min(Ot),2));if(J._fillgradient)h.gradient(Jt,ee,J._id,R?"vertical":"horizontalreversed",J._fillgradient,"fill");else{var jt=ce(ct).replace("e-","");Jt.attr("fill",n(jt).toHexString())}});var $t=Q.select("."+E.cblines).selectAll("path."+E.cbline).data(O.color&&O.width?Re:[]);$t.enter().append("path").classed(E.cbline,!0),$t.exit().remove(),$t.each(function(ct){var Wt=ge,Ot=Math.round(Je.c2p(ct))+O.width/2%1;t.select(this).attr("d","M"+(R?Wt+","+Ot:Ot+","+Wt)+(R?"h":"v")+ke).call(h.lineGroupStyle,O.width,se(ct),O.dash)}),Ce.selectAll("g."+Je._id+"tick,path").remove();var It=ge+ke+(oe||0)/2-(J.ticks==="outside"?1:0),Bt=e.calcTicks(Je),zt=e.getTickSigns(Je)[2];return e.drawTicks(ee,Je,{vals:Je.ticks==="inside"?e.clipEnds(Je,Bt):Bt,layer:Ce,path:e.makeTickPath(Je,It,zt),transFn:e.makeTransTickFn(Je)}),e.drawLabels(ee,Je,{vals:Bt,layer:Ce,transFn:e.makeTransTickLabelFn(Je),labelFns:e.makeLabelFns(Je,It)})}function We(){var ht,vt=ke+oe/2;gt.indexOf("inside")===-1&&(ht=h.bBox(Ce.node()),vt+=R?ht.width:ht.height),ze=st.select("text");var it=0,Ze=R&&P==="top",_t=!R&&P==="right",Lt=0;if(ze.node()&&!ze.classed(E.jsPlaceholder)){var wt,Gt=st.select(".h"+Je._id+"title-math-group").node();Gt&&(R&&ft||!R&&!ft)?(ht=h.bBox(Gt),it=ht.width,wt=ht.height):(ht=h.bBox(st.node()),it=ht.right-z.l-(R?ge:Xe),wt=ht.bottom-z.t-(R?Xe:ge),!R&&P==="top"&&(vt+=ht.height,Lt=ht.height)),_t&&(ze.attr("transform",l(it/2+Ct/2,0)),it*=2),vt=Math.max(vt,R?it:wt)}var Kt=(R?q:K)*2+vt+me+oe/2,$t=0;!R&&N.text&&Z==="bottom"&&S<=0&&($t=Kt/2,Kt+=$t,Lt+=$t),Y._hColorbarMoveTitle=$t,Y._hColorbarMoveCBTitle=Lt;var It=me+oe;Q.select("."+E.cbbg).attr("x",(R?ge:Xe)-It/2-(R?q:0)).attr("y",(R?Xe:ge)-(R?Be:K+Lt-$t)).attr(R?"width":"height",Math.max(Kt-$t,2)).attr(R?"height":"width",Math.max(Be+It,2)).call(v.fill,de).call(v.stroke,J.bordercolor).style("stroke-width",me);var Bt=_t?Math.max(it-10,0):0;if(Q.selectAll("."+E.cboutline).attr("x",(R?ge:Xe+q)+Bt).attr("y",(R?Xe+K-Be:ge)+(Ze?et:0)).attr(R?"width":"height",Math.max(ke,2)).attr(R?"height":"width",Math.max(Be-(R?2*K+et:2*q+Bt),2)).call(v.stroke,J.outlinecolor).style({fill:"none","stroke-width":oe}),Q.attr("transform",l(z.l-(R?Ee*Kt:0),z.t-(R?0:(1-Ve)*Kt-Lt))),!R&&(me||n(de).getAlpha()&&!n.equals(Y.paper_bgcolor,de))){var zt=Ce.selectAll("text"),ct=zt[0].length,Wt=Q.select("."+E.cbbg).node(),Ot=h.bBox(Wt),Jt=h.getTranslate(Q),jt=2;zt.each(function(Fe,Ie){var Ue=0,tt=ct-1;if(Ie===Ue||Ie===tt){var at=h.bBox(this),bt=h.getTranslate(this),Tt;if(Ie===tt){var Ft=at.right+bt.x,dt=Ot.right+Jt.x+Xe-me-jt+g;Tt=dt-Ft,Tt>0&&(Tt=0)}else if(Ie===Ue){var rt=at.left+bt.x,kt=Ot.left+Jt.x+Xe+me+jt;Tt=kt-rt,Tt<0&&(Tt=0)}Tt&&(ct<3?this.setAttribute("transform","translate("+Tt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var St={},le=x[ie],re=C[ie],Le=x[Z],Te=C[Z],Se=Kt-ke;R?(B==="pixels"?(St.y=S,St.t=Be*Le,St.b=Be*Te):(St.t=St.b=0,St.yt=S+G*Le,St.yb=S-G*Te),ne==="pixels"?(St.x=g,St.l=Kt*le,St.r=Kt*re):(St.l=Se*le,St.r=Se*re,St.xl=g-te*le,St.xr=g+te*re)):(B==="pixels"?(St.x=g,St.l=Be*le,St.r=Be*re):(St.l=St.r=0,St.xl=g+G*le,St.xr=g-G*re),ne==="pixels"?(St.y=1-S,St.t=Kt*Le,St.b=Kt*Te):(St.t=Se*Le,St.b=Se*Te,St.yt=S-te*Le,St.yb=S+te*Te)),o.autoMargin(ee,J._id,St)}return s.syncOrAsync([o.previousPromises,Me,je,De,o.previousPromises,We],ee)}function k(Q,J,ee){var R=J.orientation==="v",G=ee._fullLayout,B=G._size,te,ne,oe;u.init({element:Q.node(),gd:ee,prepFn:function(){te=Q.attr("transform"),c(Q)},moveFn:function(me,de){Q.attr("transform",te+l(me,de)),ne=u.align((R?J._uFrac:J._vFrac)+me/B.w,R?J._thickFrac:J._lenFrac,0,1,J.xanchor),oe=u.align((R?J._vFrac:1-J._uFrac)-de/B.h,R?J._lenFrac:J._thickFrac,0,1,J.yanchor);var ie=u.getCursor(ne,oe,J.xanchor,J.yanchor);c(Q,ie)},doneFn:function(){if(c(Q),ne!==void 0&&oe!==void 0){var me={};me[J._propPrefix+"x"]=ne,me[J._propPrefix+"y"]=oe,J._traceIndex!==void 0?a.call("_guiRestyle",ee,me,J._traceIndex):a.call("_guiRelayout",ee,me)}}})}function I(Q,J,ee){var R=J._levels,G=[],B=[],te,ne,oe=R.end+R.size/100,me=R.size,de=1.001*ee[0]-.001*ee[1],ie=1.001*ee[1]-.001*ee[0];for(ne=0;ne<1e5&&(te=R.start+ne*me,!(me>0?te>=oe:te<=oe));ne++)te>de&&te<ie&&G.push(te);if(J._fillgradient)B=[0];else if(typeof J._fillcolor=="function"){var Z=J._filllevels;if(Z)for(oe=Z.end+Z.size/100,me=Z.size,ne=0;ne<1e5&&(te=Z.start+ne*me,!(me>0?te>=oe:te<=oe));ne++)te>ee[0]&&te<ee[1]&&B.push(te);else B=G.map(function(q){return q-R.size/2}),B.push(B[B.length-1]+R.size)}else J._fillcolor&&typeof J._fillcolor=="string"&&(B=[0]);return R.size<0&&(G.reverse(),B.reverse()),{line:G,fill:B}}function U(Q,J,ee){var R=Q._fullLayout,G=J.orientation==="v",B={type:"linear",range:ee,tickmode:J.tickmode,nticks:J.nticks,tick0:J.tick0,dtick:J.dtick,tickvals:J.tickvals,ticktext:J.ticktext,ticks:J.ticks,ticklen:J.ticklen,tickwidth:J.tickwidth,tickcolor:J.tickcolor,showticklabels:J.showticklabels,ticklabelposition:J.ticklabelposition,ticklabeloverflow:J.ticklabeloverflow,ticklabelstep:J.ticklabelstep,tickfont:J.tickfont,tickangle:J.tickangle,tickformat:J.tickformat,exponentformat:J.exponentformat,minexponent:J.minexponent,separatethousands:J.separatethousands,showexponent:J.showexponent,showtickprefix:J.showtickprefix,tickprefix:J.tickprefix,showticksuffix:J.showticksuffix,ticksuffix:J.ticksuffix,title:J.title,showline:!0,anchor:"free",side:G?"right":"bottom",position:1},te=G?"y":"x",ne={type:"linear",_id:te+J._id},oe={letter:te,font:R.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:R.calendar};function me(de,ie){return s.coerce(B,ne,p,de,ie)}return A(B,ne,me,oe,R),M(B,ne,me,oe),ne}ae.exports={draw:w}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(f,ae,W){var t=f("../../lib");ae.exports=function(o){return t.isPlainObject(o.colorbar)}},{"../../lib":232}],108:[function(f,ae,W){ae.exports={moduleType:"component",name:"colorbar",attributes:f("./attributes"),supplyDefaults:f("./defaults"),draw:f("./draw").draw,hasColorbar:f("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(f,ae,W){var t=f("../colorbar/attributes"),n=f("../../lib/regex").counter,o=f("../../lib/sort_object_keys"),a=f("./scales.js").scales;o(a),ae.exports=function(u,s){u=u||"",s=s||{};var l=s.cLetter||"c";"onlyIfNumerical"in s?s.onlyIfNumerical:Boolean(u);var r="noScale"in s?s.noScale:u==="marker.line",c="showScaleDflt"in s?s.showScaleDflt:l==="z",h=typeof s.colorscaleDflt=="string"?a[s.colorscaleDflt]:null,v=s.editTypeOverride||"",y;"colorAttr"in s?(y=s.colorAttr,s.colorAttr):y={z:"z",c:"color"}[l];var m=l+"auto",L=l+"min",A=l+"max",M=l+"mid",p={};p[L]=p[A]=void 0;var T={};T[m]=!1;var d={};return y==="color"&&(d.color={valType:"color",arrayOk:!0,editType:v||"style"},s.anim&&(d.color.anim=!0)),d[m]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p},d[L]={valType:"number",dflt:null,editType:v||"plot",impliedEdits:T},d[A]={valType:"number",dflt:null,editType:v||"plot",impliedEdits:T},d[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:p},d.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:c,editType:"calc"},d.colorbar=t),s.noColorAxis||(d.coloraxis={valType:"subplotid",regex:n("coloraxis"),dflt:null,editType:"calc"}),d}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("./helpers").extractOpts;ae.exports=function(e,u,s){var l=e._fullLayout,r=s.vals,c=s.containerStr,h=c?n.nestedProperty(u,c).get():u,v=o(h),y=v.auto!==!1,m=v.min,L=v.max,A=v.mid,M=function(){return n.aggNums(Math.min,null,r)},p=function(){return n.aggNums(Math.max,null,r)};if(m===void 0?m=M():y&&(h._colorAx&&t(m)?m=Math.min(m,M()):m=M()),L===void 0?L=p():y&&(h._colorAx&&t(L)?L=Math.max(L,p()):L=p()),y&&A!==void 0&&(L-A>A-m?m=A-(L-A):L-A<A-m&&(L=A+(A-m))),m===L&&(m-=.5,L+=.5),v._sync("min",m),v._sync("max",L),v.autocolorscale){var T;m*L<0?T=l.colorscale.diverging:m>=0?T=l.colorscale.sequential:T=l.colorscale.sequentialminus,v._sync("colorscale",T)}}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(f,ae,W){var t=f("../../lib"),n=f("./helpers").hasColorscale,o=f("./helpers").extractOpts;ae.exports=function(e,u){function s(m,L){var A=m["_"+L];A!==void 0&&(m[L]=A)}function l(m,L){var A=L.container?t.nestedProperty(m,L.container).get():m;if(A)if(A.coloraxis)A._colorAx=u[A.coloraxis];else{var M=o(A),p=M.auto;(p||M.min===void 0)&&s(A,L.min),(p||M.max===void 0)&&s(A,L.max),M.autocolorscale&&s(A,"colorscale")}}for(var r=0;r<e.length;r++){var c=e[r],h=c._module.colorbar;if(h)if(Array.isArray(h))for(var v=0;v<h.length;v++)l(c,h[v]);else l(c,h);n(c,"marker.line")&&l(c,{container:"marker.line",min:"cmin",max:"cmax"})}for(var y in u._colorAxes)l(u[y],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("../colorbar/has_colorbar"),a=f("../colorbar/defaults"),e=f("./scales").isValid,u=f("../../registry").traceIs;function s(l,r){var c=r.slice(0,r.length-1);return r?n.nestedProperty(l,c).get()||{}:l}ae.exports=function l(r,c,h,v,y){var m=y.prefix,L=y.cLetter,A="_module"in c,M=s(r,m),p=s(c,m),T=s(c._template||{},m)||{},d=function(){return delete r.coloraxis,delete c.coloraxis,l(r,c,h,v,y)};if(A){var x=h._colorAxes||{},C=v(m+"coloraxis");if(C){var E=u(c,"contour")&&n.nestedProperty(c,"contours.coloring").get()||"heatmap",w=x[C];w?(w[2].push(d),w[0]!==E&&(w[0]=!1,n.warn(["Ignoring coloraxis:",C,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[C]=[E,c,[d]];return}}var H=M[L+"min"],F=M[L+"max"],k=t(H)&&t(F)&&H<F,I=v(m+L+"auto",!k);I?v(m+L+"mid"):(v(m+L+"min"),v(m+L+"max"));var U=M.colorscale,Q=T.colorscale,J;if(U!==void 0&&(J=!e(U)),Q!==void 0&&(J=!e(Q)),v(m+"autocolorscale",J),v(m+"colorscale"),v(m+"reversescale"),m!=="marker.line."){var ee;m&&A&&(ee=o(M));var R=v(m+"showscale",ee);R&&(m&&T&&(p._template=T),a(M,p,h))}}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(f,ae,W){var t=f("@plotly/d3"),n=f("tinycolor2"),o=f("fast-isnumeric"),a=f("../../lib"),e=f("../color"),u=f("./scales").isValid;function s(A,M,p){var T=M?a.nestedProperty(A,M).get()||{}:A,d=T[p||"color"],x=!1;if(a.isArrayOrTypedArray(d)){for(var C=0;C<d.length;C++)if(o(d[C])){x=!0;break}}return a.isPlainObject(T)&&(x||T.showscale===!0||o(T.cmin)&&o(T.cmax)||u(T.colorscale)||a.isPlainObject(T.colorbar))}var l=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function c(A){var M=A._colorAx,p=M||A,T={},d,x,C;for(x=0;x<l.length;x++)C=l[x],T[C]=p[C];if(M)for(d="c",x=0;x<r.length;x++)C=r[x],T[C]=p["c"+C];else{var E;for(x=0;x<r.length;x++){if(C=r[x],E="c"+C,E in p){T[C]=p[E];continue}E="z"+C,E in p&&(T[C]=p[E])}d=E.charAt(0)}return T._sync=function(w,H){var F=r.indexOf(w)!==-1?d+w:w;p[F]=p["_"+F]=H},T}function h(A){for(var M=c(A),p=M.min,T=M.max,d=M.reversescale?v(M.colorscale):M.colorscale,x=d.length,C=new Array(x),E=new Array(x),w=0;w<x;w++){var H=d[w];C[w]=p+H[0]*(T-p),E[w]=H[1]}return{domain:C,range:E}}function v(A){for(var M=A.length,p=new Array(M),T=M-1,d=0;T>=0;T--,d++){var x=A[T];p[d]=[1-x[0],x[1]]}return p}function y(A,M){M=M||{};for(var p=A.domain,T=A.range,d=T.length,x=new Array(d),C=0;C<d;C++){var E=n(T[C]).toRgb();x[C]=[E.r,E.g,E.b,E.a]}var w=t.scale.linear().domain(p).range(x).clamp(!0),H=M.noNumericCheck,F=M.returnArray,k;return H&&F?k=w:H?k=function(I){return L(w(I))}:F?k=function(I){return o(I)?w(I):n(I).isValid()?I:e.defaultLine}:k=function(I){return o(I)?L(w(I)):n(I).isValid()?I:e.defaultLine},k.domain=w.domain,k.range=function(){return T},k}function m(A,M){return y(h(A),M)}function L(A){var M={r:A[0],g:A[1],b:A[2],a:A[3]};return n(M).toRgbString()}ae.exports={hasColorscale:s,extractOpts:c,extractScale:h,flipScale:v,makeColorScaleFunc:y,makeColorScaleFuncFromTrace:m}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(f,ae,W){var t=f("./scales"),n=f("./helpers");ae.exports={moduleType:"component",name:"colorscale",attributes:f("./attributes"),layoutAttributes:f("./layout_attributes"),supplyLayoutDefaults:f("./layout_defaults"),handleDefaults:f("./defaults"),crossTraceDefaults:f("./cross_trace_defaults"),calc:f("./calc"),scales:t.scales,defaultScale:t.defaultScale,getScale:t.get,isValidScale:t.isValid,hasColorscale:n.hasColorscale,extractOpts:n.extractOpts,extractScale:n.extractScale,flipScale:n.flipScale,makeColorScaleFunc:n.makeColorScaleFunc,makeColorScaleFuncFromTrace:n.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(f,ae,W){var t=f("../../lib/extend").extendFlat,n=f("./attributes"),o=f("./scales").scales;ae.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:t({_isSubplotObj:!0,editType:"calc"},n("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(f,ae,W){var t=f("../../lib"),n=f("../../plot_api/plot_template"),o=f("./layout_attributes"),a=f("./defaults");ae.exports=function(u,s){function l(A,M){return t.coerce(u,s,o,A,M)}l("colorscale.sequential"),l("colorscale.sequentialminus"),l("colorscale.diverging");var r=s._colorAxes,c,h;function v(A,M){return t.coerce(c,h,o.coloraxis,A,M)}for(var y in r){var m=r[y];if(m[0])c=u[y]||{},h=n.newContainer(s,y,"coloraxis"),h._name=y,a(c,h,s,v,{prefix:"",cLetter:"c"});else{for(var L=0;L<m[2].length;L++)m[2][L]();delete s._colorAxes[y]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(f,ae,W){var t=f("tinycolor2"),n={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=n.RdBu;function a(s,l){if(l||(l=o),!s)return l;function r(){try{s=n[s]||JSON.parse(s)}catch{s=l}}return typeof s=="string"&&(r(),typeof s=="string"&&r()),e(s)?s:l}function e(s){var l=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var r=0;r<s.length;r++){var c=s[r];if(c.length!==2||+c[0]<l||!t(c[1]).isValid())return!1;l=+c[0]}return!0}function u(s){return n[s]!==void 0?!0:e(s)}ae.exports={scales:n,defaultScale:o,get:a,isValid:u}},{tinycolor2:67}],118:[function(f,ae,W){ae.exports=function(n,o,a,e,u){var s=(n-a)/(e-a),l=s+o/(e-a),r=(s+l)/2;return u==="left"||u==="bottom"?s:u==="center"||u==="middle"?r:u==="right"||u==="top"?l:s<2/3-r?s:l>4/3-r?l:r}},{}],119:[function(f,ae,W){var t=f("../../lib"),n=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ae.exports=function(a,e,u,s){return u==="left"?a=0:u==="center"?a=1:u==="right"?a=2:a=t.constrain(Math.floor(a*3),0,2),s==="bottom"?e=0:s==="middle"?e=1:s==="top"?e=2:e=t.constrain(Math.floor(e*3),0,2),n[e][a]}},{"../../lib":232}],120:[function(f,ae,W){W.selectMode=function(t){return t==="lasso"||t==="select"},W.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},W.openMode=function(t){return t==="drawline"||t==="drawopenpath"},W.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},W.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},W.selectingOrDrawing=function(t){return W.freeMode(t)||W.rectMode(t)}},{}],121:[function(f,ae,W){var t=f("mouse-event-offset"),n=f("has-hover"),o=f("has-passive-events"),a=f("../../lib").removeElement,e=f("../../plots/cartesian/constants"),u=ae.exports={};u.align=f("./align"),u.getCursor=f("./cursor");var s=f("./unhover");u.unhover=s.wrapped,u.unhoverRaw=s.raw,u.init=function(h){var v=h.gd,y=1,m=v._context.doubleClickDelay,L=h.element,A,M,p,T,d,x,C,E;v._mouseDownTime||(v._mouseDownTime=0),L.style.pointerEvents="all",L.onmousedown=F,o?(L._ontouchstart&&L.removeEventListener("touchstart",L._ontouchstart),L._ontouchstart=F,L.addEventListener("touchstart",F,{passive:!1})):L.ontouchstart=F;function w(U,Q,J){return Math.abs(U)<J&&(U=0),Math.abs(Q)<J&&(Q=0),[U,Q]}var H=h.clampFn||w;function F(U){v._dragged=!1,v._dragging=!0;var Q=r(U);A=Q[0],M=Q[1],C=U.target,x=U,E=U.buttons===2||U.ctrlKey,typeof U.clientX=="undefined"&&typeof U.clientY=="undefined"&&(U.clientX=A,U.clientY=M),p=new Date().getTime(),p-v._mouseDownTime<m?y+=1:(y=1,v._mouseDownTime=p),h.prepFn&&h.prepFn(U,A,M),n&&!E?(d=l(),d.style.cursor=window.getComputedStyle(L).cursor):n||(d=document,T=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(L).cursor),document.addEventListener("mouseup",I),document.addEventListener("touchend",I),h.dragmode!==!1&&(U.preventDefault(),document.addEventListener("mousemove",k),document.addEventListener("touchmove",k,{passive:!1}))}function k(U){U.preventDefault();var Q=r(U),J=h.minDrag||e.MINDRAG,ee=H(Q[0]-A,Q[1]-M,J),R=ee[0],G=ee[1];(R||G)&&(v._dragged=!0,u.unhover(v,U)),v._dragged&&h.moveFn&&!E&&(v._dragdata={element:L,dx:R,dy:G},h.moveFn(R,G))}function I(U){if(delete v._dragdata,h.dragmode!==!1&&(U.preventDefault(),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k)),document.removeEventListener("mouseup",I),document.removeEventListener("touchend",I),n?a(d):T&&(d.documentElement.style.cursor=T,T=null),!v._dragging){v._dragged=!1;return}if(v._dragging=!1,new Date().getTime()-v._mouseDownTime>m&&(y=Math.max(y-1,1)),v._dragged)h.doneFn&&h.doneFn();else if(h.clickFn&&h.clickFn(y,x),!E){var Q;try{Q=new MouseEvent("click",U)}catch{var J=r(U);Q=document.createEvent("MouseEvents"),Q.initMouseEvent("click",U.bubbles,U.cancelable,U.view,U.detail,U.screenX,U.screenY,J[0],J[1],U.ctrlKey,U.altKey,U.shiftKey,U.metaKey,U.button,U.relatedTarget)}C.dispatchEvent(Q)}v._dragging=!1,v._dragged=!1}};function l(){var c=document.createElement("div");c.className="dragcover";var h=c.style;return h.position="fixed",h.left=0,h.right=0,h.top=0,h.bottom=0,h.zIndex=999999999,h.background="none",document.body.appendChild(c),c}u.coverSlip=l;function r(c){return t(c.changedTouches?c.changedTouches[0]:c,document.body)}},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(f,ae,W){var t=f("../../lib/events"),n=f("../../lib/throttle"),o=f("../../lib/dom").getGraphDiv,a=f("../fx/constants"),e=ae.exports={};e.wrapped=function(u,s,l){u=o(u),u._fullLayout&&n.clear(u._fullLayout._uid+a.HOVERID),e.raw(u,s,l)},e.raw=function(s,l){var r=s._fullLayout,c=s._hoverdata;l||(l={}),!(l.target&&!s._dragged&&t.triggerHandler(s,"plotly_beforehover",l)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),s._hoverdata=void 0,l.target&&c&&s.emit("plotly_unhover",{event:l,points:c}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(f,ae,W){W.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},W.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../lib"),o=n.numberFormat,a=f("fast-isnumeric"),e=f("tinycolor2"),u=f("../../registry"),s=f("../color"),l=f("../colorscale"),r=n.strTranslate,c=f("../../lib/svg_text_utils"),h=f("../../constants/xmlns_namespaces"),v=f("../../constants/alignment"),y=v.LINE_SPACING,m=f("../../constants/interactions").DESELECTDIM,L=f("../../traces/scatter/subtypes"),A=f("../../traces/scatter/make_bubble_size_func"),M=f("../../components/fx/helpers").appendArrayPointValue,p=ae.exports={};p.font=function(ie,Z,q,K){n.isPlainObject(Z)&&(K=Z.color,q=Z.size,Z=Z.family),Z&&ie.style("font-family",Z),q+1&&ie.style("font-size",q+"px"),K&&ie.call(s.fill,K)},p.setPosition=function(ie,Z,q){ie.attr("x",Z).attr("y",q)},p.setSize=function(ie,Z,q){ie.attr("width",Z).attr("height",q)},p.setRect=function(ie,Z,q,K,g){ie.call(p.setPosition,Z,q).call(p.setSize,K,g)},p.translatePoint=function(ie,Z,q,K){var g=q.c2p(ie.x),S=K.c2p(ie.y);if(a(g)&&a(S)&&Z.node())Z.node().nodeName==="text"?Z.attr("x",g).attr("y",S):Z.attr("transform",r(g,S));else return!1;return!0},p.translatePoints=function(ie,Z,q){ie.each(function(K){var g=t.select(this);p.translatePoint(K,g,Z,q)})},p.hideOutsideRangePoint=function(ie,Z,q,K,g,S){Z.attr("display",q.isPtWithinRange(ie,g)&&K.isPtWithinRange(ie,S)?null:"none")},p.hideOutsideRangePoints=function(ie,Z){if(!!Z._hasClipOnAxisFalse){var q=Z.xaxis,K=Z.yaxis;ie.each(function(g){var S=g[0].trace,Y=S.xcalendar,z=S.ycalendar,_=u.traceIs(S,"bar-like")?".bartext":".point,.textpoint";ie.selectAll(_).each(function(O){p.hideOutsideRangePoint(O,t.select(this),q,K,Y,z)})})}},p.crispRound=function(ie,Z,q){return!Z||!a(Z)?q||0:ie._context.staticPlot?Z:Z<1?1:Math.round(Z)},p.singleLineStyle=function(ie,Z,q,K,g){Z.style("fill","none");var S=(((ie||[])[0]||{}).trace||{}).line||{},Y=q||S.width||0,z=g||S.dash||"";s.stroke(Z,K||S.color),p.dashLine(Z,z,Y)},p.lineGroupStyle=function(ie,Z,q,K){ie.style("fill","none").each(function(g){var S=(((g||[])[0]||{}).trace||{}).line||{},Y=Z||S.width||0,z=K||S.dash||"";t.select(this).call(s.stroke,q||S.color).call(p.dashLine,z,Y)})},p.dashLine=function(ie,Z,q){q=+q||0,Z=p.dashStyle(Z,q),ie.style({"stroke-dasharray":Z,"stroke-width":q+"px"})},p.dashStyle=function(ie,Z){Z=+Z||1;var q=Math.max(Z,3);return ie==="solid"?ie="":ie==="dot"?ie=q+"px,"+q+"px":ie==="dash"?ie=3*q+"px,"+3*q+"px":ie==="longdash"?ie=5*q+"px,"+5*q+"px":ie==="dashdot"?ie=3*q+"px,"+q+"px,"+q+"px,"+q+"px":ie==="longdashdot"&&(ie=5*q+"px,"+2*q+"px,"+q+"px,"+2*q+"px"),ie};function T(ie,Z,q){var K=Z.fillpattern,g=K&&p.getPatternAttr(K.shape,0,"");if(g){var S=p.getPatternAttr(K.bgcolor,0,null),Y=p.getPatternAttr(K.fgcolor,0,null),z=K.fgopacity,_=p.getPatternAttr(K.size,0,8),O=p.getPatternAttr(K.solidity,0,.3),N=Z.uid;p.pattern(ie,"point",q,N,g,_,O,void 0,K.fillmode,S,Y,z)}else Z.fillcolor&&ie.call(s.fill,Z.fillcolor)}p.singleFillStyle=function(ie,Z){var q=t.select(ie.node()),K=q.data(),g=((K[0]||[])[0]||{}).trace||{};T(ie,g,Z)},p.fillGroupStyle=function(ie,Z){ie.style("stroke-width",0).each(function(q){var K=t.select(this);q[0].trace&&T(K,q[0].trace,Z)})};var d=f("./symbol_defs");p.symbolNames=[],p.symbolFuncs=[],p.symbolNeedLines={},p.symbolNoDot={},p.symbolNoFill={},p.symbolList=[],Object.keys(d).forEach(function(ie){var Z=d[ie],q=Z.n;p.symbolList.push(q,String(q),ie,q+100,String(q+100),ie+"-open"),p.symbolNames[q]=ie,p.symbolFuncs[q]=Z.f,Z.needLine&&(p.symbolNeedLines[q]=!0),Z.noDot?p.symbolNoDot[q]=!0:p.symbolList.push(q+200,String(q+200),ie+"-dot",q+300,String(q+300),ie+"-open-dot"),Z.noFill&&(p.symbolNoFill[q]=!0)});var x=p.symbolNames.length,C="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";p.symbolNumber=function(ie){if(a(ie))ie=+ie;else if(typeof ie=="string"){var Z=0;ie.indexOf("-open")>0&&(Z=100,ie=ie.replace("-open","")),ie.indexOf("-dot")>0&&(Z+=200,ie=ie.replace("-dot","")),ie=p.symbolNames.indexOf(ie),ie>=0&&(ie+=Z)}return ie%100>=x||ie>=400?0:Math.floor(Math.max(ie,0))};function E(ie,Z){var q=ie%100;return p.symbolFuncs[q](Z)+(ie>=200?C:"")}var w={x1:1,x2:0,y1:0,y2:0},H={x1:0,x2:0,y1:1,y2:0},F=o("~f"),k={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:H},verticalreversed:{node:"linearGradient",attrs:H,reversed:!0}};p.gradient=function(ie,Z,q,K,g,S){for(var Y=g.length,z=k[K],_=new Array(Y),O=0;O<Y;O++)z.reversed?_[Y-1-O]=[F((1-g[O][0])*100),g[O][1]]:_[O]=[F(g[O][0]*100),g[O][1]];var N=Z._fullLayout,P="g"+N._uid+"-"+q,j=N._defs.select(".gradients").selectAll("#"+P).data([K+_.join(";")],n.identity);j.exit().remove(),j.enter().append(z.node).each(function(){var se=t.select(this);z.attrs&&se.attr(z.attrs),se.attr("id",P);var ce=se.selectAll("stop").data(_);ce.exit().remove(),ce.enter().append("stop"),ce.each(function(fe){var pe=e(fe[1]);t.select(this).attr({offset:fe[0]+"%","stop-color":s.tinyRGB(pe),"stop-opacity":pe.getAlpha()})})}),ie.style(S,oe(P,Z)).style(S+"-opacity",null),ie.classed("gradient_filled",!0)},p.pattern=function(ie,Z,q,K,g,S,Y,z,_,O,N,P){var j=Z==="legend";z&&(_==="overlay"?(O=z,N=s.contrast(O)):(O=void 0,N=z));var se=q._fullLayout,ce="p"+se._uid+"-"+K,fe,pe,be=function(Ve,xt,Ye,Xe,Je){return Xe+(Je-Xe)*(Ve-xt)/(Ye-xt)},Re,ke,Oe,Be,Ae={};switch(g){case"/":fe=S*Math.sqrt(2),pe=S*Math.sqrt(2),Re="M-"+fe/4+","+pe/4+"l"+fe/2+",-"+pe/2+"M0,"+pe+"L"+fe+",0M"+fe/4*3+","+pe/4*5+"l"+fe/2+",-"+pe/2,ke=Y*S,Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case"\\":fe=S*Math.sqrt(2),pe=S*Math.sqrt(2),Re="M"+fe/4*3+",-"+pe/4+"l"+fe/2+","+pe/2+"M0,0L"+fe+","+pe+"M-"+fe/4+","+pe/4*3+"l"+fe/2+","+pe/2,ke=Y*S,Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case"x":fe=S*Math.sqrt(2),pe=S*Math.sqrt(2),Re="M-"+fe/4+","+pe/4+"l"+fe/2+",-"+pe/2+"M0,"+pe+"L"+fe+",0M"+fe/4*3+","+pe/4*5+"l"+fe/2+",-"+pe/2+"M"+fe/4*3+",-"+pe/4+"l"+fe/2+","+pe/2+"M0,0L"+fe+","+pe+"M-"+fe/4+","+pe/4*3+"l"+fe/2+","+pe/2,ke=S-S*Math.sqrt(1-Y),Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case"|":fe=S,pe=S,Be="path",Re="M"+fe/2+",0L"+fe/2+","+pe,ke=Y*S,Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case"-":fe=S,pe=S,Be="path",Re="M0,"+pe/2+"L"+fe+","+pe/2,ke=Y*S,Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case"+":fe=S,pe=S,Be="path",Re="M"+fe/2+",0L"+fe/2+","+pe+"M0,"+pe/2+"L"+fe+","+pe/2,ke=S-S*Math.sqrt(1-Y),Be="path",Ae={d:Re,opacity:P,stroke:N,"stroke-width":ke+"px"};break;case".":fe=S,pe=S,Y<Math.PI/4?Oe=Math.sqrt(Y*S*S/Math.PI):Oe=be(Y,Math.PI/4,1,S/2,S/Math.sqrt(2)),Be="circle",Ae={cx:fe/2,cy:pe/2,r:Oe,opacity:P,fill:N};break}var ge=[g||"noSh",O||"noBg",N||"noFg",S,Y].join(";"),Ee=se._defs.select(".patterns").selectAll("#"+ce).data([ge],n.identity);Ee.exit().remove(),Ee.enter().append("pattern").each(function(){var Ve=t.select(this);if(Ve.attr({id:ce,width:fe+"px",height:pe+"px",patternUnits:"userSpaceOnUse",patternTransform:j?"scale(0.8)":""}),O){var xt=Ve.selectAll("rect").data([0]);xt.exit().remove(),xt.enter().append("rect").attr({width:fe+"px",height:pe+"px",fill:O})}var Ye=Ve.selectAll(Be).data([0]);Ye.exit().remove(),Ye.enter().append(Be).attr(Ae)}),ie.style("fill",oe(ce,q)).style("fill-opacity",null),ie.classed("pattern_filled",!0)},p.initGradients=function(ie){var Z=ie._fullLayout,q=n.ensureSingle(Z._defs,"g","gradients");q.selectAll("linearGradient,radialGradient").remove(),t.select(ie).selectAll(".gradient_filled").classed("gradient_filled",!1)},p.initPatterns=function(ie){var Z=ie._fullLayout,q=n.ensureSingle(Z._defs,"g","patterns");q.selectAll("pattern").remove(),t.select(ie).selectAll(".pattern_filled").classed("pattern_filled",!1)},p.getPatternAttr=function(ie,Z,q){return ie&&n.isArrayOrTypedArray(ie)?Z<ie.length?ie[Z]:q:ie},p.pointStyle=function(ie,Z,q){if(!!ie.size()){var K=p.makePointStyleFns(Z);ie.each(function(g){p.singlePointStyle(g,t.select(this),Z,K,q)})}},p.singlePointStyle=function(ie,Z,q,K,g){var S=q.marker,Y=S.line;if(Z.style("opacity",K.selectedOpacityFn?K.selectedOpacityFn(ie):ie.mo===void 0?S.opacity:ie.mo),K.ms2mrc){var z;ie.ms==="various"||S.size==="various"?z=3:z=K.ms2mrc(ie.ms),ie.mrc=z,K.selectedSizeFn&&(z=ie.mrc=K.selectedSizeFn(ie));var _=p.symbolNumber(ie.mx||S.symbol)||0;ie.om=_%200>=100,Z.attr("d",E(_,z))}var O=!1,N,P,j;if(ie.so)j=Y.outlierwidth,P=Y.outliercolor,N=S.outliercolor;else{var se=(Y||{}).width;j=(ie.mlw+1||se+1||(ie.trace?(ie.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ie?P=ie.mlcc=K.lineScale(ie.mlc):n.isArrayOrTypedArray(Y.color)?P=s.defaultLine:P=Y.color,n.isArrayOrTypedArray(S.color)&&(N=s.defaultLine,O=!0),"mc"in ie?N=ie.mcc=K.markerScale(ie.mc):N=S.color||"rgba(0,0,0,0)",K.selectedColorFn&&(N=K.selectedColorFn(ie))}if(ie.om)Z.call(s.stroke,N).style({"stroke-width":(j||1)+"px",fill:"none"});else{Z.style("stroke-width",(ie.isBlank?0:j)+"px");var ce=S.gradient,fe=ie.mgt;fe?O=!0:fe=ce&&ce.type,n.isArrayOrTypedArray(fe)&&(fe=fe[0],k[fe]||(fe=0));var pe=S.pattern,be=pe&&p.getPatternAttr(pe.shape,ie.i,"");if(fe&&fe!=="none"){var Re=ie.mgc;Re?O=!0:Re=ce.color;var ke=q.uid;O&&(ke+="-"+ie.i),p.gradient(Z,g,ke,fe,[[0,Re],[1,N]],"fill")}else if(be){var Oe=p.getPatternAttr(pe.bgcolor,ie.i,null),Be=p.getPatternAttr(pe.fgcolor,ie.i,null),Ae=pe.fgopacity,ge=p.getPatternAttr(pe.size,ie.i,8),Ee=p.getPatternAttr(pe.solidity,ie.i,.3),Ve=ie.mcc||n.isArrayOrTypedArray(pe.shape)||n.isArrayOrTypedArray(pe.bgcolor)||n.isArrayOrTypedArray(pe.size)||n.isArrayOrTypedArray(pe.solidity),xt=q.uid;Ve&&(xt+="-"+ie.i),p.pattern(Z,"point",g,xt,be,ge,Ee,ie.mcc,pe.fillmode,Oe,Be,Ae)}else s.fill(Z,N);j&&s.stroke(Z,P)}},p.makePointStyleFns=function(ie){var Z={},q=ie.marker;return Z.markerScale=p.tryColorscale(q,""),Z.lineScale=p.tryColorscale(q,"line"),u.traceIs(ie,"symbols")&&(Z.ms2mrc=L.isBubble(ie)?A(ie):function(){return(q.size||6)/2}),ie.selectedpoints&&n.extendFlat(Z,p.makeSelectedPointStyleFns(ie)),Z},p.makeSelectedPointStyleFns=function(ie){var Z={},q=ie.selected||{},K=ie.unselected||{},g=ie.marker||{},S=q.marker||{},Y=K.marker||{},z=g.opacity,_=S.opacity,O=Y.opacity,N=_!==void 0,P=O!==void 0;(n.isArrayOrTypedArray(z)||N||P)&&(Z.selectedOpacityFn=function(Oe){var Be=Oe.mo===void 0?g.opacity:Oe.mo;return Oe.selected?N?_:Be:P?O:m*Be});var j=g.color,se=S.color,ce=Y.color;(se||ce)&&(Z.selectedColorFn=function(Oe){var Be=Oe.mcc||j;return Oe.selected?se||Be:ce||Be});var fe=g.size,pe=S.size,be=Y.size,Re=pe!==void 0,ke=be!==void 0;return u.traceIs(ie,"symbols")&&(Re||ke)&&(Z.selectedSizeFn=function(Oe){var Be=Oe.mrc||fe/2;return Oe.selected?Re?pe/2:Be:ke?be/2:Be}),Z},p.makeSelectedTextStyleFns=function(ie){var Z={},q=ie.selected||{},K=ie.unselected||{},g=ie.textfont||{},S=q.textfont||{},Y=K.textfont||{},z=g.color,_=S.color,O=Y.color;return Z.selectedTextColorFn=function(N){var P=N.tc||z;return N.selected?_||P:O||(_?P:s.addOpacity(P,m))},Z},p.selectedPointStyle=function(ie,Z){if(!(!ie.size()||!Z.selectedpoints)){var q=p.makeSelectedPointStyleFns(Z),K=Z.marker||{},g=[];q.selectedOpacityFn&&g.push(function(S,Y){S.style("opacity",q.selectedOpacityFn(Y))}),q.selectedColorFn&&g.push(function(S,Y){s.fill(S,q.selectedColorFn(Y))}),q.selectedSizeFn&&g.push(function(S,Y){var z=Y.mx||K.symbol||0,_=q.selectedSizeFn(Y);S.attr("d",E(p.symbolNumber(z),_)),Y.mrc2=_}),g.length&&ie.each(function(S){for(var Y=t.select(this),z=0;z<g.length;z++)g[z](Y,S)})}},p.tryColorscale=function(ie,Z){var q=Z?n.nestedProperty(ie,Z).get():ie;if(q){var K=q.color;if((q.colorscale||q._colorAx)&&n.isArrayOrTypedArray(K))return l.makeColorScaleFuncFromTrace(q)}return n.identity};var I={start:1,end:-1,middle:0,bottom:1,top:-1};function U(ie,Z,q,K,g){var S=t.select(ie.node().parentNode),Y=Z.indexOf("top")!==-1?"top":Z.indexOf("bottom")!==-1?"bottom":"middle",z=Z.indexOf("left")!==-1?"end":Z.indexOf("right")!==-1?"start":"middle",_=K?K/.8+1:0,O=(c.lineCount(ie)-1)*y+1,N=I[z]*_,P=q*.75+I[Y]*_+(I[Y]-1)*O*q/2;ie.attr("text-anchor",z),g||S.attr("transform",r(N,P))}function Q(ie,Z){var q=ie.ts||Z.textfont.size;return a(q)&&q>0?q:0}p.textPointStyle=function(ie,Z,q){if(!!ie.size()){var K;if(Z.selectedpoints){var g=p.makeSelectedTextStyleFns(Z);K=g.selectedTextColorFn}var S=Z.texttemplate,Y=q._fullLayout;ie.each(function(z){var _=t.select(this),O=S?n.extractOption(z,Z,"txt","texttemplate"):n.extractOption(z,Z,"tx","text");if(!O&&O!==0){_.remove();return}if(S){var N=Z._module.formatLabels,P=N?N(z,Z,Y):{},j={};M(j,Z,z.i);var se=Z._meta||{};O=n.texttemplateString(O,P,Y._d3locale,j,z,se)}var ce=z.tp||Z.textposition,fe=Q(z,Z),pe=K?K(z):z.tc||Z.textfont.color;_.call(p.font,z.tf||Z.textfont.family,fe,pe).text(O).call(c.convertToTspans,q).call(U,ce,fe,z.mrc)})}},p.selectedTextStyle=function(ie,Z){if(!(!ie.size()||!Z.selectedpoints)){var q=p.makeSelectedTextStyleFns(Z);ie.each(function(K){var g=t.select(this),S=q.selectedTextColorFn(K),Y=K.tp||Z.textposition,z=Q(K,Z);s.fill(g,S);var _=u.traceIs(Z,"bar-like");U(g,Y,z,K.mrc2||K.mrc,_)})}};var J=.5;p.smoothopen=function(ie,Z){if(ie.length<3)return"M"+ie.join("L");var q="M"+ie[0],K=[],g;for(g=1;g<ie.length-1;g++)K.push(ee(ie[g-1],ie[g],ie[g+1],Z));for(q+="Q"+K[0][0]+" "+ie[1],g=2;g<ie.length-1;g++)q+="C"+K[g-2][1]+" "+K[g-1][0]+" "+ie[g];return q+="Q"+K[ie.length-3][1]+" "+ie[ie.length-1],q},p.smoothclosed=function(ie,Z){if(ie.length<3)return"M"+ie.join("L")+"Z";var q="M"+ie[0],K=ie.length-1,g=[ee(ie[K],ie[0],ie[1],Z)],S;for(S=1;S<K;S++)g.push(ee(ie[S-1],ie[S],ie[S+1],Z));for(g.push(ee(ie[K-1],ie[K],ie[0],Z)),S=1;S<=K;S++)q+="C"+g[S-1][1]+" "+g[S][0]+" "+ie[S];return q+="C"+g[K][1]+" "+g[0][0]+" "+ie[0]+"Z",q};function ee(ie,Z,q,K){var g=ie[0]-Z[0],S=ie[1]-Z[1],Y=q[0]-Z[0],z=q[1]-Z[1],_=Math.pow(g*g+S*S,J/2),O=Math.pow(Y*Y+z*z,J/2),N=(O*O*g-_*_*Y)*K,P=(O*O*S-_*_*z)*K,j=3*O*(_+O),se=3*_*(_+O);return[[t.round(Z[0]+(j&&N/j),2),t.round(Z[1]+(j&&P/j),2)],[t.round(Z[0]-(se&&N/se),2),t.round(Z[1]-(se&&P/se),2)]]}var R={hv:function(ie,Z){return"H"+t.round(Z[0],2)+"V"+t.round(Z[1],2)},vh:function(ie,Z){return"V"+t.round(Z[1],2)+"H"+t.round(Z[0],2)},hvh:function(ie,Z){return"H"+t.round((ie[0]+Z[0])/2,2)+"V"+t.round(Z[1],2)+"H"+t.round(Z[0],2)},vhv:function(ie,Z){return"V"+t.round((ie[1]+Z[1])/2,2)+"H"+t.round(Z[0],2)+"V"+t.round(Z[1],2)}},G=function(ie,Z){return"L"+t.round(Z[0],2)+","+t.round(Z[1],2)};p.steps=function(ie){var Z=R[ie]||G;return function(q){for(var K="M"+t.round(q[0][0],2)+","+t.round(q[0][1],2),g=1;g<q.length;g++)K+=Z(q[g-1],q[g]);return K}},p.makeTester=function(){var ie=n.ensureSingleById(t.select("body"),"svg","js-plotly-tester",function(q){q.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Z=n.ensureSingle(ie,"path","js-reference-point",function(q){q.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});p.tester=ie,p.testref=Z},p.savedBBoxes={};var B=0,te=1e4;p.bBox=function(ie,Z,q){q||(q=ne(ie));var K;if(q){if(K=p.savedBBoxes[q],K)return n.extendFlat({},K)}else if(ie.childNodes.length===1){var g=ie.childNodes[0];if(q=ne(g),q){var S=+g.getAttribute("x")||0,Y=+g.getAttribute("y")||0,z=g.getAttribute("transform");if(!z){var _=p.bBox(g,!1,q);return S&&(_.left+=S,_.right+=S),Y&&(_.top+=Y,_.bottom+=Y),_}if(q+="~"+S+"~"+Y+"~"+z,K=p.savedBBoxes[q],K)return n.extendFlat({},K)}}var O,N;Z?O=ie:(N=p.tester.node(),O=ie.cloneNode(!0),N.appendChild(O)),t.select(O).attr("transform",null).call(c.positionText,0,0);var P=O.getBoundingClientRect(),j=p.testref.node().getBoundingClientRect();Z||N.removeChild(O);var se={height:P.height,width:P.width,left:P.left-j.left,top:P.top-j.top,right:P.right-j.left,bottom:P.bottom-j.top};return B>=te&&(p.savedBBoxes={},B=0),q&&(p.savedBBoxes[q]=se),B++,n.extendFlat({},se)};function ne(ie){var Z=ie.getAttribute("data-unformatted");if(Z!==null)return Z+ie.getAttribute("data-math")+ie.getAttribute("text-anchor")+ie.getAttribute("style")}p.setClipUrl=function(ie,Z,q){ie.attr("clip-path",oe(Z,q))};function oe(ie,Z){if(!ie)return null;var q=Z._context,K=q._exportedPlot?"":q._baseUrl||"";return K?"url('"+K+"#"+ie+"')":"url(#"+ie+")"}p.getTranslate=function(ie){var Z=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,q=ie.attr?"attr":"getAttribute",K=ie[q]("transform")||"",g=K.replace(Z,function(S,Y,z){return[Y,z].join(" ")}).split(" ");return{x:+g[0]||0,y:+g[1]||0}},p.setTranslate=function(ie,Z,q){var K=/(\btranslate\(.*?\);?)/,g=ie.attr?"attr":"getAttribute",S=ie.attr?"attr":"setAttribute",Y=ie[g]("transform")||"";return Z=Z||0,q=q||0,Y=Y.replace(K,"").trim(),Y+=r(Z,q),Y=Y.trim(),ie[S]("transform",Y),Y},p.getScale=function(ie){var Z=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,q=ie.attr?"attr":"getAttribute",K=ie[q]("transform")||"",g=K.replace(Z,function(S,Y,z){return[Y,z].join(" ")}).split(" ");return{x:+g[0]||1,y:+g[1]||1}},p.setScale=function(ie,Z,q){var K=/(\bscale\(.*?\);?)/,g=ie.attr?"attr":"getAttribute",S=ie.attr?"attr":"setAttribute",Y=ie[g]("transform")||"";return Z=Z||1,q=q||1,Y=Y.replace(K,"").trim(),Y+="scale("+Z+","+q+")",Y=Y.trim(),ie[S]("transform",Y),Y};var me=/\s*sc.*/;p.setPointGroupScale=function(ie,Z,q){if(Z=Z||1,q=q||1,!!ie){var K=Z===1&&q===1?"":"scale("+Z+","+q+")";ie.each(function(){var g=(this.getAttribute("transform")||"").replace(me,"");g+=K,g=g.trim(),this.setAttribute("transform",g)})}};var de=/translate\([^)]*\)\s*$/;p.setTextPointsScale=function(ie,Z,q){!ie||ie.each(function(){var K,g=t.select(this),S=g.select("text");if(!!S.node()){var Y=parseFloat(S.attr("x")||0),z=parseFloat(S.attr("y")||0),_=(g.attr("transform")||"").match(de);Z===1&&q===1?K=[]:K=[r(Y,z),"scale("+Z+","+q+")",r(-Y,-z)],_&&K.push(_),g.attr("transform",K.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(f,ae,W){var t=f("@plotly/d3");ae.exports={circle:{n:0,f:function(n){var o=t.round(n,2);return"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"}},square:{n:1,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"}},diamond:{n:2,f:function(n){var o=t.round(n*1.3,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"Z"}},cross:{n:3,f:function(n){var o=t.round(n*.4,2),a=t.round(n*1.2,2);return"M"+a+","+o+"H"+o+"V"+a+"H-"+o+"V"+o+"H-"+a+"V-"+o+"H-"+o+"V-"+a+"H"+o+"V-"+o+"H"+a+"Z"}},x:{n:4,f:function(n){var o=t.round(n*.8/Math.sqrt(2),2),a="l"+o+","+o,e="l"+o+",-"+o,u="l-"+o+",-"+o,s="l-"+o+","+o;return"M0,"+o+a+e+u+e+u+s+u+s+a+s+a+"Z"}},"triangle-up":{n:5,f:function(n){var o=t.round(n*2/Math.sqrt(3),2),a=t.round(n/2,2),e=t.round(n,2);return"M-"+o+","+a+"H"+o+"L0,-"+e+"Z"}},"triangle-down":{n:6,f:function(n){var o=t.round(n*2/Math.sqrt(3),2),a=t.round(n/2,2),e=t.round(n,2);return"M-"+o+",-"+a+"H"+o+"L0,"+e+"Z"}},"triangle-left":{n:7,f:function(n){var o=t.round(n*2/Math.sqrt(3),2),a=t.round(n/2,2),e=t.round(n,2);return"M"+a+",-"+o+"V"+o+"L-"+e+",0Z"}},"triangle-right":{n:8,f:function(n){var o=t.round(n*2/Math.sqrt(3),2),a=t.round(n/2,2),e=t.round(n,2);return"M-"+a+",-"+o+"V"+o+"L"+e+",0Z"}},"triangle-ne":{n:9,f:function(n){var o=t.round(n*.6,2),a=t.round(n*1.2,2);return"M-"+a+",-"+o+"H"+o+"V"+a+"Z"}},"triangle-se":{n:10,f:function(n){var o=t.round(n*.6,2),a=t.round(n*1.2,2);return"M"+o+",-"+a+"V"+o+"H-"+a+"Z"}},"triangle-sw":{n:11,f:function(n){var o=t.round(n*.6,2),a=t.round(n*1.2,2);return"M"+a+","+o+"H-"+o+"V-"+a+"Z"}},"triangle-nw":{n:12,f:function(n){var o=t.round(n*.6,2),a=t.round(n*1.2,2);return"M-"+o+","+a+"V-"+o+"H"+a+"Z"}},pentagon:{n:13,f:function(n){var o=t.round(n*.951,2),a=t.round(n*.588,2),e=t.round(-n,2),u=t.round(n*-.309,2),s=t.round(n*.809,2);return"M"+o+","+u+"L"+a+","+s+"H-"+a+"L-"+o+","+u+"L0,"+e+"Z"}},hexagon:{n:14,f:function(n){var o=t.round(n,2),a=t.round(n/2,2),e=t.round(n*Math.sqrt(3)/2,2);return"M"+e+",-"+a+"V"+a+"L0,"+o+"L-"+e+","+a+"V-"+a+"L0,-"+o+"Z"}},hexagon2:{n:15,f:function(n){var o=t.round(n,2),a=t.round(n/2,2),e=t.round(n*Math.sqrt(3)/2,2);return"M-"+a+","+e+"H"+a+"L"+o+",0L"+a+",-"+e+"H-"+a+"L-"+o+",0Z"}},octagon:{n:16,f:function(n){var o=t.round(n*.924,2),a=t.round(n*.383,2);return"M-"+a+",-"+o+"H"+a+"L"+o+",-"+a+"V"+a+"L"+a+","+o+"H-"+a+"L-"+o+","+a+"V-"+a+"Z"}},star:{n:17,f:function(n){var o=n*1.4,a=t.round(o*.225,2),e=t.round(o*.951,2),u=t.round(o*.363,2),s=t.round(o*.588,2),l=t.round(-o,2),r=t.round(o*-.309,2),c=t.round(o*.118,2),h=t.round(o*.809,2),v=t.round(o*.382,2);return"M"+a+","+r+"H"+e+"L"+u+","+c+"L"+s+","+h+"L0,"+v+"L-"+s+","+h+"L-"+u+","+c+"L-"+e+","+r+"H-"+a+"L0,"+l+"Z"}},hexagram:{n:18,f:function(n){var o=t.round(n*.66,2),a=t.round(n*.38,2),e=t.round(n*.76,2);return"M-"+e+",0l-"+a+",-"+o+"h"+e+"l"+a+",-"+o+"l"+a+","+o+"h"+e+"l-"+a+","+o+"l"+a+","+o+"h-"+e+"l-"+a+","+o+"l-"+a+",-"+o+"h-"+e+"Z"}},"star-triangle-up":{n:19,f:function(n){var o=t.round(n*Math.sqrt(3)*.8,2),a=t.round(n*.8,2),e=t.round(n*1.6,2),u=t.round(n*4,2),s="A "+u+","+u+" 0 0 1 ";return"M-"+o+","+a+s+o+","+a+s+"0,-"+e+s+"-"+o+","+a+"Z"}},"star-triangle-down":{n:20,f:function(n){var o=t.round(n*Math.sqrt(3)*.8,2),a=t.round(n*.8,2),e=t.round(n*1.6,2),u=t.round(n*4,2),s="A "+u+","+u+" 0 0 1 ";return"M"+o+",-"+a+s+"-"+o+",-"+a+s+"0,"+e+s+o+",-"+a+"Z"}},"star-square":{n:21,f:function(n){var o=t.round(n*1.1,2),a=t.round(n*2,2),e="A "+a+","+a+" 0 0 1 ";return"M-"+o+",-"+o+e+"-"+o+","+o+e+o+","+o+e+o+",-"+o+e+"-"+o+",-"+o+"Z"}},"star-diamond":{n:22,f:function(n){var o=t.round(n*1.4,2),a=t.round(n*1.9,2),e="A "+a+","+a+" 0 0 1 ";return"M-"+o+",0"+e+"0,"+o+e+o+",0"+e+"0,-"+o+e+"-"+o+",0Z"}},"diamond-tall":{n:23,f:function(n){var o=t.round(n*.7,2),a=t.round(n*1.4,2);return"M0,"+a+"L"+o+",0L0,-"+a+"L-"+o+",0Z"}},"diamond-wide":{n:24,f:function(n){var o=t.round(n*1.4,2),a=t.round(n*.7,2);return"M0,"+a+"L"+o+",0L0,-"+a+"L-"+o+",0Z"}},hourglass:{n:25,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"H-"+o+"L"+o+",-"+o+"H-"+o+"Z"},noDot:!0},bowtie:{n:26,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"V-"+o+"L-"+o+","+o+"V-"+o+"Z"},noDot:!0},"circle-cross":{n:27,f:function(n){var o=t.round(n,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(n){var o=t.round(n,2),a=t.round(n/Math.sqrt(2),2);return"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a+"M"+o+",0A"+o+","+o+" 0 1,1 0,-"+o+"A"+o+","+o+" 0 0,1 "+o+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(n){var o=t.round(n,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+o+","+o+"H-"+o+"V-"+o+"H"+o+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(n){var o=t.round(n*1.3,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM0,-"+o+"V"+o+"M-"+o+",0H"+o},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(n){var o=t.round(n*1.3,2),a=t.round(n*.65,2);return"M"+o+",0L0,"+o+"L-"+o+",0L0,-"+o+"ZM-"+a+",-"+a+"L"+a+","+a+"M-"+a+","+a+"L"+a+",-"+a},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(n){var o=t.round(n*1.4,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(n){var o=t.round(n*1.2,2),a=t.round(n*.85,2);return"M0,"+o+"V-"+o+"M"+o+",0H-"+o+"M"+a+","+a+"L-"+a+",-"+a+"M"+a+",-"+a+"L-"+a+","+a},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(n){var o=t.round(n/2,2),a=t.round(n,2);return"M"+o+","+a+"V-"+a+"m-"+a+",0V"+a+"M"+a+","+o+"H-"+a+"m0,-"+a+"H"+a},needLine:!0,noFill:!0},"y-up":{n:37,f:function(n){var o=t.round(n*1.2,2),a=t.round(n*1.6,2),e=t.round(n*.8,2);return"M-"+o+","+e+"L0,0M"+o+","+e+"L0,0M0,-"+a+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(n){var o=t.round(n*1.2,2),a=t.round(n*1.6,2),e=t.round(n*.8,2);return"M-"+o+",-"+e+"L0,0M"+o+",-"+e+"L0,0M0,"+a+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(n){var o=t.round(n*1.2,2),a=t.round(n*1.6,2),e=t.round(n*.8,2);return"M"+e+","+o+"L0,0M"+e+",-"+o+"L0,0M-"+a+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(n){var o=t.round(n*1.2,2),a=t.round(n*1.6,2),e=t.round(n*.8,2);return"M-"+e+","+o+"L0,0M-"+e+",-"+o+"L0,0M"+a+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(n){var o=t.round(n*1.4,2);return"M"+o+",0H-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(n){var o=t.round(n*1.4,2);return"M0,"+o+"V-"+o},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(n){var o=t.round(n,2);return"M"+o+",-"+o+"L-"+o+","+o},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(n){var o=t.round(n,2);return"M"+o+","+o+"L-"+o+",-"+o},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(n){var o=t.round(n,2),a=t.round(n*2,2);return"M0,0L-"+o+","+a+"H"+o+"Z"},noDot:!0},"arrow-down":{n:46,f:function(n){var o=t.round(n,2),a=t.round(n*2,2);return"M0,0L-"+o+",-"+a+"H"+o+"Z"},noDot:!0},"arrow-left":{n:47,f:function(n){var o=t.round(n*2,2),a=t.round(n,2);return"M0,0L"+o+",-"+a+"V"+a+"Z"},noDot:!0},"arrow-right":{n:48,f:function(n){var o=t.round(n*2,2),a=t.round(n,2);return"M0,0L-"+o+",-"+a+"V"+a+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(n){var o=t.round(n,2),a=t.round(n*2,2);return"M-"+o+",0H"+o+"M0,0L-"+o+","+a+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(n){var o=t.round(n,2),a=t.round(n*2,2);return"M-"+o+",0H"+o+"M0,0L-"+o+",-"+a+"H"+o+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(n){var o=t.round(n*2,2),a=t.round(n,2);return"M0,-"+a+"V"+a+"M0,0L"+o+",-"+a+"V"+a+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(n){var o=t.round(n*2,2),a=t.round(n,2);return"M0,-"+a+"V"+a+"M0,0L-"+o+",-"+a+"V"+a+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(f,ae,W){ae.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../registry"),o=f("../../plots/cartesian/axes"),a=f("../../lib"),e=f("./compute_error");ae.exports=function(l){for(var r=l.calcdata,c=0;c<r.length;c++){var h=r[c],v=h[0].trace;if(v.visible===!0&&n.traceIs(v,"errorBarsOK")){var y=o.getFromId(l,v.xaxis),m=o.getFromId(l,v.yaxis);u(h,v,y,"x"),u(h,v,m,"y")}}};function u(s,l,r,c){var h=l["error_"+c]||{},v=h.visible&&["linear","log"].indexOf(r.type)!==-1,y=[];if(!!v){for(var m=e(h),L=0;L<s.length;L++){var A=s[L],M=A.i;if(M===void 0)M=L;else if(M===null)continue;var p=A[c];if(!!t(r.c2l(p))){var T=m(p,M);if(t(T[0])&&t(T[1])){var d=A[c+"s"]=p-T[0],x=A[c+"h"]=p+T[1];y.push(d,x)}}}var C=r._id,E=l._extremes[C],w=o.findExtremes(r,y,a.extendFlat({tozero:E.opts.tozero},{padded:!0}));E.min=E.min.concat(w.min),E.max=E.max.concat(w.max)}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(f,ae,W){ae.exports=function(o){var a=o.type,e=o.symmetric;if(a==="data"){var u=o.array||[];if(e)return function(h,v){var y=+u[v];return[y,y]};var s=o.arrayminus||[];return function(h,v){var y=+u[v],m=+s[v];return!isNaN(y)||!isNaN(m)?[m||0,y||0]:[NaN,NaN]}}else{var l=t(a,o.value),r=t(a,o.valueminus);return e||o.valueminus===void 0?function(h){var v=l(h);return[v,v]}:function(h){return[r(h),l(h)]}}};function t(n,o){if(n==="percent")return function(a){return Math.abs(a*o/100)};if(n==="constant")return function(){return Math.abs(o)};if(n==="sqrt")return function(a){return Math.sqrt(Math.abs(a))}}},{}],129:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../registry"),o=f("../../lib"),a=f("../../plot_api/plot_template"),e=f("./attributes");ae.exports=function(u,s,l,r){var c="error_"+r.axis,h=a.newContainer(s,c),v=u[c]||{};function y(d,x){return o.coerce(v,h,e,d,x)}var m=v.array!==void 0||v.value!==void 0||v.type==="sqrt",L=y("visible",m);if(L!==!1){var A=y("type","array"in v?"data":"percent"),M=!0;A!=="sqrt"&&(M=y("symmetric",!((A==="data"?"arrayminus":"valueminus")in v))),A==="data"?(y("array"),y("traceref"),M||(y("arrayminus"),y("tracerefminus"))):(A==="percent"||A==="constant")&&(y("value"),M||y("valueminus"));var p="copy_"+r.inherit+"style";if(r.inherit){var T=s["error_"+r.inherit];(T||{}).visible&&y(p,!(v.color||t(v.thickness)||t(v.width)))}(!r.inherit||!h[p])&&(y("color",l),y("thickness"),y("width",n.traceIs(s,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(f,ae,W){var t=f("../../lib"),n=f("../../plot_api/edit_types").overrideAll,o=f("./attributes"),a={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var e={error_x:t.extendFlat({},o),error_y:t.extendFlat({},o),error_z:t.extendFlat({},o)};delete e.error_x.copy_ystyle,delete e.error_y.copy_ystyle,delete e.error_z.copy_ystyle,delete e.error_z.copy_zstyle,ae.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:n(e,"calc","nested"),scattergl:n(a,"calc","nested")}},supplyDefaults:f("./defaults"),calc:f("./calc"),makeComputeError:f("./compute_error"),plot:f("./plot"),style:f("./style"),hoverInfo:u};function u(s,l,r){(l.error_y||{}).visible&&(r.yerr=s.yh-s.y,l.error_y.symmetric||(r.yerrneg=s.y-s.ys)),(l.error_x||{}).visible&&(r.xerr=s.xh-s.x,l.error_x.symmetric||(r.xerrneg=s.x-s.xs))}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../drawing"),a=f("../../traces/scatter/subtypes");ae.exports=function(s,l,r,c){var h,v=r.xaxis,y=r.yaxis,m=c&&c.duration>0;l.each(function(L){var A=L[0].trace,M=A.error_x||{},p=A.error_y||{},T;A.ids&&(T=function(E){return E.id});var d=a.hasMarkers(A)&&A.marker.maxdisplayed>0;!p.visible&&!M.visible&&(L=[]);var x=t.select(this).selectAll("g.errorbar").data(L,T);if(x.exit().remove(),!!L.length){M.visible||x.selectAll("path.xerror").remove(),p.visible||x.selectAll("path.yerror").remove(),x.style("opacity",1);var C=x.enter().append("g").classed("errorbar",!0);m&&C.style("opacity",0).transition().duration(c.duration).style("opacity",1),o.setClipUrl(x,r.layerClipId,s),x.each(function(E){var w=t.select(this),H=e(E,v,y);if(!(d&&!E.vis)){var F,k=w.select("path.yerror");if(p.visible&&n(H.x)&&n(H.yh)&&n(H.ys)){var I=p.width;F="M"+(H.x-I)+","+H.yh+"h"+2*I+"m-"+I+",0V"+H.ys,H.noYS||(F+="m-"+I+",0h"+2*I),h=!k.size(),h?k=w.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):m&&(k=k.transition().duration(c.duration).ease(c.easing)),k.attr("d",F)}else k.remove();var U=w.select("path.xerror");if(M.visible&&n(H.y)&&n(H.xh)&&n(H.xs)){var Q=(M.copy_ystyle?p:M).width;F="M"+H.xh+","+(H.y-Q)+"v"+2*Q+"m0,-"+Q+"H"+H.xs,H.noXS||(F+="m0,-"+Q+"v"+2*Q),h=!U.size(),h?U=w.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):m&&(U=U.transition().duration(c.duration).ease(c.easing)),U.attr("d",F)}else U.remove()}})}})};function e(u,s,l){var r={x:s.c2p(u.x),y:l.c2p(u.y)};return u.yh!==void 0&&(r.yh=l.c2p(u.yh),r.ys=l.c2p(u.ys),n(r.ys)||(r.noYS=!0,r.ys=l.c2p(u.ys,!0))),u.xh!==void 0&&(r.xh=s.c2p(u.xh),r.xs=s.c2p(u.xs),n(r.xs)||(r.noXS=!0,r.xs=s.c2p(u.xs,!0))),r}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../color");ae.exports=function(a){a.each(function(e){var u=e[0].trace,s=u.error_y||{},l=u.error_x||{},r=t.select(this);r.selectAll("path.yerror").style("stroke-width",s.thickness+"px").call(n.stroke,s.color),l.copy_ystyle&&(l=s),r.selectAll("path.xerror").style("stroke-width",l.thickness+"px").call(n.stroke,l.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(f,ae,W){var t=f("../../plots/font_attributes"),n=f("./layout_attributes").hoverlabel,o=f("../../lib/extend").extendFlat;ae.exports={hoverlabel:{bgcolor:o({},n.bgcolor,{arrayOk:!0}),bordercolor:o({},n.bordercolor,{arrayOk:!0}),font:t({arrayOk:!0,editType:"none"}),align:o({},n.align,{arrayOk:!0}),namelength:o({},n.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(f,ae,W){var t=f("../../lib"),n=f("../../registry");ae.exports=function(e){var u=e.calcdata,s=e._fullLayout;function l(y){return function(m){return t.coerceHoverinfo({hoverinfo:m},{_module:y._module},s)}}for(var r=0;r<u.length;r++){var c=u[r],h=c[0].trace;if(!n.traceIs(h,"pie-like")){var v=n.traceIs(h,"2dMap")?o:t.fillArray;v(h.hoverinfo,c,"hi",l(h)),h.hovertemplate&&v(h.hovertemplate,c,"ht"),h.hoverlabel&&(v(h.hoverlabel.bgcolor,c,"hbg"),v(h.hoverlabel.bordercolor,c,"hbc"),v(h.hoverlabel.font.size,c,"hts"),v(h.hoverlabel.font.color,c,"htc"),v(h.hoverlabel.font.family,c,"htf"),v(h.hoverlabel.namelength,c,"hnl"),v(h.hoverlabel.align,c,"hta"))}}};function o(a,e,u,s){s=s||t.identity,Array.isArray(a)&&(e[0][u]=s(a))}},{"../../lib":232,"../../registry":318}],135:[function(f,ae,W){var t=f("../../registry"),n=f("./hover").hover;ae.exports=function(a,e,u){var s=t.getComponentMethod("annotations","onClick")(a,a._hoverdata);u!==void 0&&n(a,e,u,!0);function l(){a.emit("plotly_click",{points:a._hoverdata,event:e})}a._hoverdata&&e&&e.target&&(s&&s.then?s.then(l):l(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(f,ae,W){ae.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(f,ae,W){var t=f("../../lib"),n=f("./attributes"),o=f("./hoverlabel_defaults");ae.exports=function(e,u,s,l){function r(h,v){return t.coerce(e,u,n,h,v)}var c=t.extendFlat({},l.hoverlabel);u.hovertemplate&&(c.namelength=-1),o(e,u,r,c)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(f,ae,W){var t=f("../../lib");W.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},W.isTraceInSubplots=function(s,l){if(s.type==="splom"){for(var r=s.xaxes||[],c=s.yaxes||[],h=0;h<r.length;h++)for(var v=0;v<c.length;v++)if(l.indexOf(r[h]+c[v])!==-1)return!0;return!1}return l.indexOf(W.getSubplot(s))!==-1},W.flat=function(s,l){for(var r=new Array(s.length),c=0;c<s.length;c++)r[c]=l;return r},W.p2c=function(s,l){for(var r=new Array(s.length),c=0;c<s.length;c++)r[c]=s[c].p2c(l);return r},W.getDistanceFunction=function(s,l,r,c){return s==="closest"?c||W.quadrature(l,r):s.charAt(0)==="x"?l:r},W.getClosest=function(s,l,r){if(r.index!==!1)r.index>=0&&r.index<s.length?r.distance=0:r.index=!1;else for(var c=0;c<s.length;c++){var h=l(s[c]);h<=r.distance&&(r.index=c,r.distance=h)}return r},W.inbox=function(s,l,r){return s*l<0||s===0?r:1/0},W.quadrature=function(s,l){return function(r){var c=s(r),h=l(r);return Math.sqrt(c*c+h*h)}},W.makeEventData=function(s,l,r){var c="index"in s?s.index:s.pointNumber,h={data:l._input,fullData:l,curveNumber:l.index,pointNumber:c};if(l._indexToPoints){var v=l._indexToPoints[c];v.length===1?h.pointIndex=v[0]:h.pointIndices=v}else h.pointIndex=c;return l._module.eventData?h=l._module.eventData(h,s,l,r,c):("xVal"in s?h.x=s.xVal:"x"in s&&(h.x=s.x),"yVal"in s?h.y=s.yVal:"y"in s&&(h.y=s.y),s.xa&&(h.xaxis=s.xa),s.ya&&(h.yaxis=s.ya),s.zLabelVal!==void 0&&(h.z=s.zLabelVal)),W.appendArrayPointValue(h,l,c),h},W.appendArrayPointValue=function(s,l,r){var c=l._arrayAttrs;if(!!c)for(var h=0;h<c.length;h++){var v=c[h],y=o(v);if(s[y]===void 0){var m=t.nestedProperty(l,v).get(),L=a(m,r);L!==void 0&&(s[y]=L)}}},W.appendArrayMultiPointValues=function(s,l,r){var c=l._arrayAttrs;if(!!c)for(var h=0;h<c.length;h++){var v=c[h],y=o(v);if(s[y]===void 0){for(var m=t.nestedProperty(l,v).get(),L=new Array(r.length),A=0;A<r.length;A++)L[A]=a(m,r[A]);s[y]=L}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(s){return n[s]||s}function a(s,l){if(Array.isArray(l)){if(Array.isArray(s)&&Array.isArray(s[l[0]]))return s[l[0]][l[1]]}else return s[l]}var e={x:!0,y:!0},u={"x unified":!0,"y unified":!0};W.isUnifiedHover=function(s){return typeof s!="string"?!1:!!u[s]},W.isXYhover=function(s){return typeof s!="string"?!1:!!e[s]}},{"../../lib":232}],139:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("tinycolor2"),a=f("../../lib"),e=a.strTranslate,u=a.strRotate,s=f("../../lib/events"),l=f("../../lib/svg_text_utils"),r=f("../../lib/override_cursor"),c=f("../drawing"),h=f("../color"),v=f("../dragelement"),y=f("../../plots/cartesian/axes"),m=f("../../registry"),L=f("./helpers"),A=f("./constants"),M=f("../legend/defaults"),p=f("../legend/draw"),T=A.YANGLE,d=Math.PI*T/180,x=1/Math.sin(d),C=Math.cos(d),E=Math.sin(d),w=A.HOVERARROWSIZE,H=A.HOVERTEXTPAD,F={box:!0,ohlc:!0,violin:!0,candlestick:!0},k={scatter:!0,scattergl:!0,splom:!0};W.hover=function(S,Y,z,_){S=a.getGraphDiv(S);var O=Y.target;a.throttle(S._fullLayout._uid+A.HOVERID,A.HOVERMINTIME,function(){I(S,Y,z,_,O)})},W.loneHover=function(S,Y){var z=!0;Array.isArray(S)||(z=!1,S=[S]);var _=Y.gd,O=Z(_),N=q(_),P=S.map(function(ke){var Oe=ke._x0||ke.x0||ke.x||0,Be=ke._x1||ke.x1||ke.x||0,Ae=ke._y0||ke.y0||ke.y||0,ge=ke._y1||ke.y1||ke.y||0,Ee=ke.eventData;if(Ee){var Ve=Math.min(Oe,Be),xt=Math.max(Oe,Be),Ye=Math.min(Ae,ge),Xe=Math.max(Ae,ge),Je=ke.trace;if(m.traceIs(Je,"gl3d")){var ft=_._fullLayout[Je.scene]._scene.container,yt=ft.offsetLeft,At=ft.offsetTop;Ve+=yt,xt+=yt,Ye+=At,Xe+=At}Ee.bbox={x0:Ve+N,x1:xt+N,y0:Ye+O,y1:Xe+O},Y.inOut_bbox&&Y.inOut_bbox.push(Ee.bbox)}else Ee=!1;return{color:ke.color||h.defaultLine,x0:ke.x0||ke.x||0,x1:ke.x1||ke.x||0,y0:ke.y0||ke.y||0,y1:ke.y1||ke.y||0,xLabel:ke.xLabel,yLabel:ke.yLabel,zLabel:ke.zLabel,text:ke.text,name:ke.name,idealAlign:ke.idealAlign,borderColor:ke.borderColor,fontFamily:ke.fontFamily,fontSize:ke.fontSize,fontColor:ke.fontColor,nameLength:ke.nameLength,textAlign:ke.textAlign,trace:ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ke.hovertemplate||!1,hovertemplateLabels:ke.hovertemplateLabels||!1,eventData:Ee}}),j=!1,se=J(P,{gd:_,hovermode:"closest",rotateLabels:j,bgColor:Y.bgColor||h.background,container:t.select(Y.container),outerContainer:Y.outerContainer||Y.container}),ce=5,fe=0,pe=0;se.sort(function(ke,Oe){return ke.y0-Oe.y0}).each(function(ke,Oe){var Be=ke.y0-ke.by/2;Be-ce<fe?ke.offset=fe-Be+ce:ke.offset=0,fe=Be+ke.by+ke.offset,Oe===Y.anchorIndex&&(pe=ke.offset)}).each(function(ke){ke.offset-=pe});var be=_._fullLayout._invScaleX,Re=_._fullLayout._invScaleY;return G(se,j,be,Re),z?se:se.node()};function I(g,S,Y,z,_){Y||(Y="xy");var O=Array.isArray(Y)?Y:[Y],N=g._fullLayout,P=N._plots||[],j=P[Y],se=N._has("cartesian");if(j){var ce=j.overlays.map(function(Pt){return Pt.id});O=O.concat(ce)}for(var fe=O.length,pe=new Array(fe),be=new Array(fe),Re=!1,ke=0;ke<fe;ke++){var Oe=O[ke];if(P[Oe])Re=!0,pe[ke]=P[Oe].xaxis,be[ke]=P[Oe].yaxis;else if(N[Oe]&&N[Oe]._subplot){var Be=N[Oe]._subplot;pe[ke]=Be.xaxis,be[ke]=Be.yaxis}else{a.warn("Unrecognized subplot: "+Oe);return}}var Ae=S.hovermode||N.hovermode;if(Ae&&!Re&&(Ae="closest"),["x","y","closest","x unified","y unified"].indexOf(Ae)===-1||!g.calcdata||g.querySelector(".zoombox")||g._dragging)return v.unhoverRaw(g,S);var ge=N.hoverdistance;ge===-1&&(ge=1/0);var Ee=N.spikedistance;Ee===-1&&(Ee=1/0);var Ve=[],xt=[],Ye,Xe,Je,ft,yt,At,qe,mt,st,gt,Ct,Ce,ze,et={hLinePoint:null,vLinePoint:null},ve=!1;if(Array.isArray(S))for(Ae="array",Je=0;Je<S.length;Je++)yt=g.calcdata[S[Je].curveNumber||0],yt&&(At=yt[0].trace,yt[0].trace.hoverinfo!=="skip"&&(xt.push(yt),At.orientation==="h"&&(ve=!0)));else{for(ft=0;ft<g.calcdata.length;ft++)yt=g.calcdata[ft],At=yt[0].trace,At.hoverinfo!=="skip"&&L.isTraceInSubplots(At,O)&&(xt.push(yt),At.orientation==="h"&&(ve=!0));var we=!_,Me,De;if(we)"xpx"in S?Me=S.xpx:Me=pe[0]._length/2,"ypx"in S?De=S.ypx:De=be[0]._length/2;else{if(s.triggerHandler(g,"plotly_beforehover",S)===!1)return;var je=_.getBoundingClientRect();Me=S.clientX-je.left,De=S.clientY-je.top,N._calcInverseTransform(g);var We=a.apply3DTransform(N._invTransform)(Me,De);if(Me=We[0],De=We[1],Me<0||Me>pe[0]._length||De<0||De>be[0]._length)return v.unhoverRaw(g,S)}if(S.pointerX=Me+pe[0]._offset,S.pointerY=De+be[0]._offset,"xval"in S?Ye=L.flat(O,S.xval):Ye=L.p2c(pe,Me),"yval"in S?Xe=L.flat(O,S.yval):Xe=L.p2c(be,De),!n(Ye[0])||!n(Xe[0]))return a.warn("Fx.hover failed",S,g),v.unhoverRaw(g,S)}var ht=1/0;function vt(Pt,nr){for(ft=0;ft<xt.length;ft++)if(yt=xt[ft],!(!yt||!yt[0]||!yt[0].trace)&&(At=yt[0].trace,!(At.visible!==!0||At._length===0)&&["carpet","contourcarpet"].indexOf(At._module.name)===-1)){if(At.type==="splom"?(mt=0,qe=O[mt]):(qe=L.getSubplot(At),mt=O.indexOf(qe)),st=Ae,L.isUnifiedHover(st)&&(st=st.charAt(0)),Ce={cd:yt,trace:At,xa:pe[mt],ya:be[mt],maxHoverDistance:ge,maxSpikeDistance:Ee,index:!1,distance:Math.min(ht,ge),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:At.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},N[qe]&&(Ce.subplot=N[qe]._subplot),N._splomScenes&&N._splomScenes[At.uid]&&(Ce.scene=N._splomScenes[At.uid]),ze=Ve.length,st==="array"){var lr=S[ft];"pointNumber"in lr?(Ce.index=lr.pointNumber,st="closest"):(st="","xval"in lr&&(gt=lr.xval,st="x"),"yval"in lr&&(Ct=lr.yval,st=st?"closest":"y"))}else Pt!==void 0&&nr!==void 0?(gt=Pt,Ct=nr):(gt=Ye[mt],Ct=Xe[mt]);if(ge!==0)if(At._module&&At._module.hoverPoints){var Xt=At._module.hoverPoints(Ce,gt,Ct,st,{finiteRange:!0,hoverLayer:N._hoverlayer});if(Xt)for(var tr,rr=0;rr<Xt.length;rr++)tr=Xt[rr],n(tr.x0)&&n(tr.y0)&&Ve.push(B(tr,Ae))}else a.log("Unrecognized trace type in hover:",At);if(Ae==="closest"&&Ve.length>ze&&(Ve.splice(0,ze),ht=Ve[0].distance),se&&Ee!==0&&Ve.length===0){Ce.distance=Ee,Ce.index=!1;var ir=At._module.hoverPoints(Ce,gt,Ct,"closest",{hoverLayer:N._hoverlayer});if(ir&&(ir=ir.filter(function(wr){return wr.spikeDistance<=Ee})),ir&&ir.length){var hr,mr=ir.filter(function(wr){return wr.xa.showspikes&&wr.xa.spikesnap!=="hovered data"});if(mr.length){var dr=mr[0];n(dr.x0)&&n(dr.y0)&&(hr=Ze(dr),(!et.vLinePoint||et.vLinePoint.spikeDistance>hr.spikeDistance)&&(et.vLinePoint=hr))}var br=ir.filter(function(wr){return wr.ya.showspikes&&wr.ya.spikesnap!=="hovered data"});if(br.length){var _r=br[0];n(_r.x0)&&n(_r.y0)&&(hr=Ze(_r),(!et.hLinePoint||et.hLinePoint.spikeDistance>hr.spikeDistance)&&(et.hLinePoint=hr))}}}}}vt();function it(Pt,nr,lr){for(var Xt=null,tr=1/0,rr,ir=0;ir<Pt.length;ir++)rr=Pt[ir].spikeDistance,lr&&ir===0&&(rr=-1/0),rr<=tr&&rr<=nr&&(Xt=Pt[ir],tr=rr);return Xt}function Ze(Pt){return Pt?{xa:Pt.xa,ya:Pt.ya,x:Pt.xSpike!==void 0?Pt.xSpike:(Pt.x0+Pt.x1)/2,y:Pt.ySpike!==void 0?Pt.ySpike:(Pt.y0+Pt.y1)/2,distance:Pt.distance,spikeDistance:Pt.spikeDistance,curveNumber:Pt.trace.index,color:Pt.color,pointNumber:Pt.index}:null}var _t={fullLayout:N,container:N._hoverlayer,event:S},Lt=g._spikepoints,wt={vLinePoint:et.vLinePoint,hLinePoint:et.hLinePoint};g._spikepoints=wt;var Gt=function(){Ve.sort(function(Pt,nr){return Pt.distance-nr.distance}),Ve=de(Ve,Ae)};Gt();var Kt=Ae.charAt(0),$t=(Kt==="x"||Kt==="y")&&Ve[0]&&k[Ve[0].trace.type];if(se&&Ee!==0&&Ve.length!==0){var It=Ve.filter(function(Pt){return Pt.ya.showspikes}),Bt=it(It,Ee,$t);et.hLinePoint=Ze(Bt);var zt=Ve.filter(function(Pt){return Pt.xa.showspikes}),ct=it(zt,Ee,$t);et.vLinePoint=Ze(ct)}if(Ve.length===0){var Wt=v.unhoverRaw(g,S);return se&&(et.hLinePoint!==null||et.vLinePoint!==null)&&oe(Lt)&&te(g,et,_t),Wt}if(se&&oe(Lt)&&te(g,et,_t),L.isXYhover(st)&&Ve[0].length!==0&&Ve[0].trace.type!=="splom"){var Ot=Ve[0];F[Ot.trace.type]?Ve=Ve.filter(function(Pt){return Pt.trace.index===Ot.trace.index}):Ve=[Ot];var Jt=Ve.length,jt=ie("x",Ot,N),St=ie("y",Ot,N);vt(jt,St);var le=[],re={},Le=0,Te=function(Pt){var nr=F[Pt.trace.type]?U(Pt):Pt.trace.index;if(!re[nr])Le++,re[nr]=Le,le.push(Pt);else{var lr=re[nr]-1,Xt=le[lr];lr>0&&Math.abs(Pt.distance)<Math.abs(Xt.distance)&&(le[lr]=Pt)}},Se;for(Se=0;Se<Jt;Se++)Te(Ve[Se]);for(Se=Ve.length-1;Se>Jt-1;Se--)Te(Ve[Se]);Ve=le,Gt()}var Fe=g._hoverdata,Ie=[],Ue=Z(g),tt=q(g);for(Je=0;Je<Ve.length;Je++){var at=Ve[Je],bt=L.makeEventData(at,at.trace,at.cd);if(at.hovertemplate!==!1){var Tt=!1;at.cd[at.index]&&at.cd[at.index].ht&&(Tt=at.cd[at.index].ht),at.hovertemplate=Tt||at.trace.hovertemplate||!1}if(at.xa&&at.ya){var Ft=at.x0+at.xa._offset,dt=at.x1+at.xa._offset,rt=at.y0+at.ya._offset,kt=at.y1+at.ya._offset,Rt=Math.min(Ft,dt),nt=Math.max(Ft,dt),Mt=Math.min(rt,kt),Et=Math.max(rt,kt);bt.bbox={x0:Rt+tt,x1:nt+tt,y0:Mt+Ue,y1:Et+Ue}}at.eventData=[bt],Ie.push(bt)}g._hoverdata=Ie;var pt=Ae==="y"&&(xt.length>1||Ve.length>1)||Ae==="closest"&&ve&&Ve.length>1,Dt=h.combine(N.plot_bgcolor||h.background,N.paper_bgcolor),Ht=J(Ve,{gd:g,hovermode:Ae,rotateLabels:pt,bgColor:Dt,container:N._hoverlayer,outerContainer:N._paper.node(),commonLabelOpts:N.hoverlabel,hoverdistance:N.hoverdistance});if(L.isUnifiedHover(Ae)||(R(Ht,pt?"xa":"ya",N),G(Ht,pt,N._invScaleX,N._invScaleY)),_&&_.tagName){var Yt=m.getComponentMethod("annotations","hasClickToShow")(g,Ie);r(t.select(_),Yt?"pointer":"")}!_||z||!ne(g,S,Fe)||(Fe&&g.emit("plotly_unhover",{event:S,points:Fe}),g.emit("plotly_hover",{event:S,points:g._hoverdata,xaxes:pe,yaxes:be,xvals:Ye,yvals:Xe}))}function U(g){return[g.trace.index,g.index,g.x0,g.y0,g.name,g.attr,g.xa?g.xa._id:"",g.ya?g.ya._id:""].join(",")}var Q=/<extra>([\s\S]*)<\/extra>/;function J(g,S){var Y=S.gd,z=Y._fullLayout,_=S.hovermode,O=S.rotateLabels,N=S.bgColor,P=S.container,j=S.outerContainer,se=S.commonLabelOpts||{};if(g.length===0)return[[]];var ce=S.fontFamily||A.HOVERFONT,fe=S.fontSize||A.HOVERFONTSIZE,pe=g[0],be=pe.xa,Re=pe.ya,ke=_.charAt(0),Oe=pe[ke+"Label"],Be=K(Y,j),Ae=Be.top,ge=Be.width,Ee=Be.height,Ve=Oe!==void 0&&pe.distance<=S.hoverdistance&&(_==="x"||_==="y");if(Ve){var xt=!0,Ye,Xe;for(Ye=0;Ye<g.length;Ye++)if(xt&&g[Ye].zLabel===void 0&&(xt=!1),Xe=g[Ye].hoverinfo||g[Ye].trace.hoverinfo,Xe){var Je=Array.isArray(Xe)?Xe:Xe.split("+");if(Je.indexOf("all")===-1&&Je.indexOf(_)===-1){Ve=!1;break}}xt&&(Ve=!1)}var ft=P.selectAll("g.axistext").data(Ve?[0]:[]);if(ft.enter().append("g").classed("axistext",!0),ft.exit().remove(),ft.each(function(){var ct=t.select(this),Wt=a.ensureSingle(ct,"path","",function(kt){kt.style({"stroke-width":"1px"})}),Ot=a.ensureSingle(ct,"text","",function(kt){kt.attr("data-notex",1)}),Jt=se.bgcolor||h.defaultLine,jt=se.bordercolor||h.contrast(Jt),St=h.contrast(Jt),le={family:se.font.family||ce,size:se.font.size||fe,color:se.font.color||St};Wt.style({fill:Jt,stroke:jt}),Ot.text(Oe).call(c.font,le).call(l.positionText,0,0).call(l.convertToTspans,Y),ct.attr("transform","");var re=K(Y,Ot.node()),Le,Te;if(_==="x"){var Se=be.side==="top"?"-":"";Ot.attr("text-anchor","middle").call(l.positionText,0,be.side==="top"?Ae-re.bottom-w-H:Ae-re.top+w+H),Le=be._offset+(pe.x0+pe.x1)/2,Te=Re._offset+(be.side==="top"?0:Re._length);var Fe=re.width/2+H;Le<Fe?(Le=Fe,Wt.attr("d","M-"+(Fe-w)+",0L-"+(Fe-w*2)+","+Se+w+"H"+(H+re.width/2)+"v"+Se+(H*2+re.height)+"H-"+Fe+"V"+Se+w+"Z")):Le>z.width-Fe?(Le=z.width-Fe,Wt.attr("d","M"+(Fe-w)+",0L"+Fe+","+Se+w+"v"+Se+(H*2+re.height)+"H-"+Fe+"V"+Se+w+"H"+(Fe-w*2)+"Z")):Wt.attr("d","M0,0L"+w+","+Se+w+"H"+(H+re.width/2)+"v"+Se+(H*2+re.height)+"H-"+(H+re.width/2)+"V"+Se+w+"H-"+w+"Z")}else{var Ie,Ue,tt;Re.side==="right"?(Ie="start",Ue=1,tt="",Le=be._offset+be._length):(Ie="end",Ue=-1,tt="-",Le=be._offset),Te=Re._offset+(pe.y0+pe.y1)/2,Ot.attr("text-anchor",Ie),Wt.attr("d","M0,0L"+tt+w+","+w+"V"+(H+re.height/2)+"h"+tt+(H*2+re.width)+"V-"+(H+re.height/2)+"H"+tt+w+"V-"+w+"Z");var at=re.height/2,bt=Ae-re.top-at,Tt="clip"+z._uid+"commonlabel"+Re._id,Ft;if(Le<re.width+2*H+w){Ft="M-"+(w+H)+"-"+at+"h-"+(re.width-H)+"V"+at+"h"+(re.width-H)+"Z";var dt=re.width-Le+H;l.positionText(Ot,dt,bt),Ie==="end"&&Ot.selectAll("tspan").each(function(){var kt=t.select(this),Rt=c.tester.append("text").text(kt.text()).call(c.font,le),nt=K(Y,Rt.node());Math.round(nt.width)<Math.round(re.width)&&kt.attr("x",dt-nt.width),Rt.remove()})}else l.positionText(Ot,Ue*(H+w),bt),Ft=null;var rt=z._topclips.selectAll("#"+Tt).data(Ft?[0]:[]);rt.enter().append("clipPath").attr("id",Tt).append("path"),rt.exit().remove(),rt.select("path").attr("d",Ft),c.setClipUrl(Ot,Ft?Tt:null,Y)}ct.attr("transform",e(Le,Te))}),L.isUnifiedHover(_)){P.selectAll("g.hovertext").remove();var yt=g.filter(function(ct){return ct.hoverinfo!=="none"});if(yt.length===0)return;var At=z.hoverlabel,qe=At.font,mt={showlegend:!0,legend:{title:{text:Oe,font:qe},font:qe,bgcolor:At.bgcolor,bordercolor:At.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:z.legend?z.legend.traceorder:void 0,orientation:"v"}},st={font:qe};M(mt,st,Y._fullData);var gt=st.legend;gt.entries=[];for(var Ct=0;Ct<yt.length;Ct++){var Ce=yt[Ct];if(Ce.hoverinfo!=="none"){var ze=ee(Ce,!0,_,z,Oe),et=ze[0],ve=ze[1];Ce.name=ve,ve!==""?Ce.text=ve+" : "+et:Ce.text=et;var we=Ce.cd[Ce.index];we&&(we.mc&&(Ce.mc=we.mc),we.mcc&&(Ce.mc=we.mcc),we.mlc&&(Ce.mlc=we.mlc),we.mlcc&&(Ce.mlc=we.mlcc),we.mlw&&(Ce.mlw=we.mlw),we.mrc&&(Ce.mrc=we.mrc),we.dir&&(Ce.dir=we.dir)),Ce._distinct=!0,gt.entries.push([Ce])}}gt.entries.sort(function(ct,Wt){return ct[0].trace.index-Wt[0].trace.index}),gt.layer=P,gt._inHover=!0,gt._groupTitleFont=At.grouptitlefont,p(Y,gt);var Me=P.select("g.legend"),De=K(Y,Me.node()),je=De.width+2*H,We=De.height+2*H,ht=yt[0],vt=(ht.x0+ht.x1)/2,it=(ht.y0+ht.y1)/2,Ze=!(m.traceIs(ht.trace,"bar-like")||m.traceIs(ht.trace,"box-violin")),_t,Lt;ke==="y"?Ze?(Lt=it-H,_t=it+H):(Lt=Math.min.apply(null,yt.map(function(ct){return Math.min(ct.y0,ct.y1)})),_t=Math.max.apply(null,yt.map(function(ct){return Math.max(ct.y0,ct.y1)}))):Lt=_t=a.mean(yt.map(function(ct){return(ct.y0+ct.y1)/2}))-We/2;var wt,Gt;ke==="x"?Ze?(wt=vt+H,Gt=vt-H):(wt=Math.max.apply(null,yt.map(function(ct){return Math.max(ct.x0,ct.x1)})),Gt=Math.min.apply(null,yt.map(function(ct){return Math.min(ct.x0,ct.x1)}))):wt=Gt=a.mean(yt.map(function(ct){return(ct.x0+ct.x1)/2}))-je/2;var Kt=be._offset,$t=Re._offset;_t+=$t,wt+=Kt,Gt+=Kt-je,Lt+=$t-We;var It,Bt;return wt+je<ge&&wt>=0?It=wt:Gt+je<ge&&Gt>=0?It=Gt:Kt+je<ge?It=Kt:wt-vt<vt-Gt+je?It=ge-je:It=0,It+=H,_t+We<Ee&&_t>=0?Bt=_t:Lt+We<Ee&&Lt>=0?Bt=Lt:$t+We<Ee?Bt=$t:_t-it<it-Lt+We?Bt=Ee-We:Bt=0,Bt+=H,Me.attr("transform",e(It-1,Bt-1)),Me}var zt=P.selectAll("g.hovertext").data(g,function(ct){return U(ct)});return zt.enter().append("g").classed("hovertext",!0).each(function(){var ct=t.select(this);ct.append("rect").call(h.fill,h.addOpacity(N,.8)),ct.append("text").classed("name",!0),ct.append("path").style("stroke-width","1px"),ct.append("text").classed("nums",!0).call(c.font,ce,fe)}),zt.exit().remove(),zt.each(function(ct){var Wt=t.select(this).attr("transform",""),Ot=ct.color;Array.isArray(Ot)&&(Ot=Ot[ct.eventData[0].pointNumber]);var Jt=ct.bgcolor||Ot,jt=h.combine(h.opacity(Jt)?Jt:h.defaultLine,N),St=h.combine(h.opacity(Ot)?Ot:h.defaultLine,N),le=ct.borderColor||h.contrast(jt),re=ee(ct,Ve,_,z,Oe,Wt),Le=re[0],Te=re[1],Se=Wt.select("text.nums").call(c.font,ct.fontFamily||ce,ct.fontSize||fe,ct.fontColor||le).text(Le).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,Y),Fe=Wt.select("text.name"),Ie=0,Ue=0;if(Te&&Te!==Le){Fe.call(c.font,ct.fontFamily||ce,ct.fontSize||fe,St).text(Te).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,Y);var tt=K(Y,Fe.node());Ie=tt.width+2*H,Ue=tt.height+2*H}else Fe.remove(),Wt.select("rect").remove();Wt.select("path").style({fill:jt,stroke:le});var at=ct.xa._offset+(ct.x0+ct.x1)/2,bt=ct.ya._offset+(ct.y0+ct.y1)/2,Tt=Math.abs(ct.x1-ct.x0),Ft=Math.abs(ct.y1-ct.y0),dt=K(Y,Se.node()),rt=dt.width/z._invScaleX,kt=dt.height/z._invScaleY;ct.ty0=(Ae-dt.top)/z._invScaleY,ct.bx=rt+2*H,ct.by=Math.max(kt+2*H,Ue),ct.anchor="start",ct.txwidth=rt,ct.tx2width=Ie,ct.offset=0;var Rt=(rt+w+H+Ie)*z._invScaleX,nt,Mt;if(O)ct.pos=at,nt=bt+Ft/2+Rt<=Ee,Mt=bt-Ft/2-Rt>=0,(ct.idealAlign==="top"||!nt)&&Mt?(bt-=Ft/2,ct.anchor="end"):nt?(bt+=Ft/2,ct.anchor="start"):ct.anchor="middle";else if(ct.pos=bt,nt=at+Tt/2+Rt<=ge,Mt=at-Tt/2-Rt>=0,(ct.idealAlign==="left"||!nt)&&Mt)at-=Tt/2,ct.anchor="end";else if(nt)at+=Tt/2,ct.anchor="start";else{ct.anchor="middle";var Et=Rt/2,pt=at+Et-ge,Dt=at-Et;pt>0&&(at-=pt),Dt<0&&(at+=-Dt)}Se.attr("text-anchor",ct.anchor),Ie&&Fe.attr("text-anchor",ct.anchor),Wt.attr("transform",e(at,bt)+(O?u(T):""))}),zt}function ee(g,S,Y,z,_,O){var N="",P="";g.nameOverride!==void 0&&(g.name=g.nameOverride),g.name&&(g.trace._meta&&(g.name=a.templateString(g.name,g.trace._meta)),N=me(g.name,g.nameLength));var j=Y.charAt(0),se=j==="x"?"y":"x";g.zLabel!==void 0?(g.xLabel!==void 0&&(P+="x: "+g.xLabel+"<br>"),g.yLabel!==void 0&&(P+="y: "+g.yLabel+"<br>"),g.trace.type!=="choropleth"&&g.trace.type!=="choroplethmapbox"&&(P+=(P?"z: ":"")+g.zLabel)):S&&g[j+"Label"]===_?P=g[se+"Label"]||"":g.xLabel===void 0?g.yLabel!==void 0&&g.trace.type!=="scattercarpet"&&(P=g.yLabel):g.yLabel===void 0?P=g.xLabel:P="("+g.xLabel+", "+g.yLabel+")",(g.text||g.text===0)&&!Array.isArray(g.text)&&(P+=(P?"<br>":"")+g.text),g.extraText!==void 0&&(P+=(P?"<br>":"")+g.extraText),O&&P===""&&!g.hovertemplate&&(N===""&&O.remove(),P=N);var ce=g.hovertemplate||!1;if(ce){var fe=g.hovertemplateLabels||g;g[j+"Label"]!==_&&(fe[j+"other"]=fe[j+"Val"],fe[j+"otherLabel"]=fe[j+"Label"]),P=a.hovertemplateString(ce,fe,z._d3locale,g.eventData[0]||{},g.trace._meta),P=P.replace(Q,function(pe,be){return N=me(be,g.nameLength),""})}return[P,N]}function R(g,S,Y){var z=0,_=1,O=g.size(),N=new Array(O),P=0;g.each(function(Ye){var Xe=Ye[S],Je=Xe._id.charAt(0)==="x",ft=Xe.range;P===0&&ft&&ft[0]>ft[1]!==Je&&(_=-1),N[P++]=[{datum:Ye,traceIndex:Ye.trace.index,dp:0,pos:Ye.pos,posref:Ye.posref,size:Ye.by*(Je?x:1)/2,pmin:0,pmax:Je?Y.width:Y.height}]}),N.sort(function(Ye,Xe){return Ye[0].posref-Xe[0].posref||_*(Xe[0].traceIndex-Ye[0].traceIndex)});var j,se,ce,fe,pe,be,Re;function ke(Ye){var Xe=Ye[0],Je=Ye[Ye.length-1];if(se=Xe.pmin-Xe.pos-Xe.dp+Xe.size,ce=Je.pos+Je.dp+Je.size-Xe.pmax,se>.01){for(pe=Ye.length-1;pe>=0;pe--)Ye[pe].dp+=se;j=!1}if(!(ce<.01)){if(se<-.01){for(pe=Ye.length-1;pe>=0;pe--)Ye[pe].dp-=ce;j=!1}if(!!j){var ft=0;for(fe=0;fe<Ye.length;fe++)be=Ye[fe],be.pos+be.dp+be.size>Xe.pmax&&ft++;for(fe=Ye.length-1;fe>=0&&!(ft<=0);fe--)be=Ye[fe],be.pos>Xe.pmax-1&&(be.del=!0,ft--);for(fe=0;fe<Ye.length&&!(ft<=0);fe++)if(be=Ye[fe],be.pos<Xe.pmin+1)for(be.del=!0,ft--,ce=be.size*2,pe=Ye.length-1;pe>=0;pe--)Ye[pe].dp-=ce;for(fe=Ye.length-1;fe>=0&&!(ft<=0);fe--)be=Ye[fe],be.pos+be.dp+be.size>Xe.pmax&&(be.del=!0,ft--)}}}for(;!j&&z<=O;){for(z++,j=!0,fe=0;fe<N.length-1;){var Oe=N[fe],Be=N[fe+1],Ae=Oe[Oe.length-1],ge=Be[0];if(se=Ae.pos+Ae.dp+Ae.size-ge.pos-ge.dp+ge.size,se>.01&&Ae.pmin===ge.pmin&&Ae.pmax===ge.pmax){for(pe=Be.length-1;pe>=0;pe--)Be[pe].dp+=se;for(Oe.push.apply(Oe,Be),N.splice(fe+1,1),Re=0,pe=Oe.length-1;pe>=0;pe--)Re+=Oe[pe].dp;for(ce=Re/Oe.length,pe=Oe.length-1;pe>=0;pe--)Oe[pe].dp-=ce;j=!1}else fe++}N.forEach(ke)}for(fe=N.length-1;fe>=0;fe--){var Ee=N[fe];for(pe=Ee.length-1;pe>=0;pe--){var Ve=Ee[pe],xt=Ve.datum;xt.offset=Ve.dp,xt.del=Ve.del}}}function G(g,S,Y,z){var _=function(N){return N*Y},O=function(N){return N*z};g.each(function(N){var P=t.select(this);if(N.del)return P.remove();var j=P.select("text.nums"),se=N.anchor,ce=se==="end"?-1:1,fe={start:1,end:-1,middle:0}[se],pe=fe*(w+H),be=pe+fe*(N.txwidth+H),Re=0,ke=N.offset,Oe=se==="middle";Oe&&(pe-=N.tx2width/2,be+=N.txwidth/2+H),S&&(ke*=-E,Re=N.offset*C),P.select("path").attr("d",Oe?"M-"+_(N.bx/2+N.tx2width/2)+","+O(ke-N.by/2)+"h"+_(N.bx)+"v"+O(N.by)+"h-"+_(N.bx)+"Z":"M0,0L"+_(ce*w+Re)+","+O(w+ke)+"v"+O(N.by/2-w)+"h"+_(ce*N.bx)+"v-"+O(N.by)+"H"+_(ce*w+Re)+"V"+O(ke-w)+"Z");var Be=Re+pe,Ae=ke+N.ty0-N.by/2+H,ge=N.textAlign||"auto";ge!=="auto"&&(ge==="left"&&se!=="start"?(j.attr("text-anchor","start"),Be=Oe?-N.bx/2-N.tx2width/2+H:-N.bx-H):ge==="right"&&se!=="end"&&(j.attr("text-anchor","end"),Be=Oe?N.bx/2-N.tx2width/2-H:N.bx+H)),j.call(l.positionText,_(Be),O(Ae)),N.tx2width&&(P.select("text.name").call(l.positionText,_(be+fe*H+Re),O(ke+N.ty0-N.by/2+H)),P.select("rect").call(c.setRect,_(be+(fe-1)*N.tx2width/2+Re),O(ke-N.by/2-1),_(N.tx2width),O(N.by+2)))})}function B(g,S){var Y=g.index,z=g.trace||{},_=g.cd[0],O=g.cd[Y]||{};function N(pe){return pe||n(pe)&&pe===0}var P=Array.isArray(Y)?function(pe,be){var Re=a.castOption(_,Y,pe);return N(Re)?Re:a.extractOption({},z,"",be)}:function(pe,be){return a.extractOption(O,z,pe,be)};function j(pe,be,Re){var ke=P(be,Re);N(ke)&&(g[pe]=ke)}if(j("hoverinfo","hi","hoverinfo"),j("bgcolor","hbg","hoverlabel.bgcolor"),j("borderColor","hbc","hoverlabel.bordercolor"),j("fontFamily","htf","hoverlabel.font.family"),j("fontSize","hts","hoverlabel.font.size"),j("fontColor","htc","hoverlabel.font.color"),j("nameLength","hnl","hoverlabel.namelength"),j("textAlign","hta","hoverlabel.align"),g.posref=S==="y"||S==="closest"&&z.orientation==="h"?g.xa._offset+(g.x0+g.x1)/2:g.ya._offset+(g.y0+g.y1)/2,g.x0=a.constrain(g.x0,0,g.xa._length),g.x1=a.constrain(g.x1,0,g.xa._length),g.y0=a.constrain(g.y0,0,g.ya._length),g.y1=a.constrain(g.y1,0,g.ya._length),g.xLabelVal!==void 0&&(g.xLabel="xLabel"in g?g.xLabel:y.hoverLabelText(g.xa,g.xLabelVal,z.xhoverformat),g.xVal=g.xa.c2d(g.xLabelVal)),g.yLabelVal!==void 0&&(g.yLabel="yLabel"in g?g.yLabel:y.hoverLabelText(g.ya,g.yLabelVal,z.yhoverformat),g.yVal=g.ya.c2d(g.yLabelVal)),g.zLabelVal!==void 0&&g.zLabel===void 0&&(g.zLabel=String(g.zLabelVal)),!isNaN(g.xerr)&&!(g.xa.type==="log"&&g.xerr<=0)){var se=y.tickText(g.xa,g.xa.c2l(g.xerr),"hover").text;g.xerrneg!==void 0?g.xLabel+=" +"+se+" / -"+y.tickText(g.xa,g.xa.c2l(g.xerrneg),"hover").text:g.xLabel+=" \xB1 "+se,S==="x"&&(g.distance+=1)}if(!isNaN(g.yerr)&&!(g.ya.type==="log"&&g.yerr<=0)){var ce=y.tickText(g.ya,g.ya.c2l(g.yerr),"hover").text;g.yerrneg!==void 0?g.yLabel+=" +"+ce+" / -"+y.tickText(g.ya,g.ya.c2l(g.yerrneg),"hover").text:g.yLabel+=" \xB1 "+ce,S==="y"&&(g.distance+=1)}var fe=g.hoverinfo||g.trace.hoverinfo;return fe&&fe!=="all"&&(fe=Array.isArray(fe)?fe:fe.split("+"),fe.indexOf("x")===-1&&(g.xLabel=void 0),fe.indexOf("y")===-1&&(g.yLabel=void 0),fe.indexOf("z")===-1&&(g.zLabel=void 0),fe.indexOf("text")===-1&&(g.text=void 0),fe.indexOf("name")===-1&&(g.name=void 0)),g}function te(g,S,Y){var z=Y.container,_=Y.fullLayout,O=_._size,N=Y.event,P=!!S.hLinePoint,j=!!S.vLinePoint,se,ce;if(z.selectAll(".spikeline").remove(),!!(j||P)){var fe=h.combine(_.plot_bgcolor,_.paper_bgcolor);if(P){var pe=S.hLinePoint,be,Re;se=pe&&pe.xa,ce=pe&&pe.ya;var ke=ce.spikesnap;ke==="cursor"?(be=N.pointerX,Re=N.pointerY):(be=se._offset+pe.x,Re=ce._offset+pe.y);var Oe=o.readability(pe.color,fe)<1.5?h.contrast(fe):pe.color,Be=ce.spikemode,Ae=ce.spikethickness,ge=ce.spikecolor||Oe,Ee=y.getPxPosition(g,ce),Ve,xt;if(Be.indexOf("toaxis")!==-1||Be.indexOf("across")!==-1){if(Be.indexOf("toaxis")!==-1&&(Ve=Ee,xt=be),Be.indexOf("across")!==-1){var Ye=ce._counterDomainMin,Xe=ce._counterDomainMax;ce.anchor==="free"&&(Ye=Math.min(Ye,ce.position),Xe=Math.max(Xe,ce.position)),Ve=O.l+Ye*O.w,xt=O.l+Xe*O.w}z.insert("line",":first-child").attr({x1:Ve,x2:xt,y1:Re,y2:Re,"stroke-width":Ae,stroke:ge,"stroke-dasharray":c.dashStyle(ce.spikedash,Ae)}).classed("spikeline",!0).classed("crisp",!0),z.insert("line",":first-child").attr({x1:Ve,x2:xt,y1:Re,y2:Re,"stroke-width":Ae+2,stroke:fe}).classed("spikeline",!0).classed("crisp",!0)}Be.indexOf("marker")!==-1&&z.insert("circle",":first-child").attr({cx:Ee+(ce.side!=="right"?Ae:-Ae),cy:Re,r:Ae,fill:ge}).classed("spikeline",!0)}if(j){var Je=S.vLinePoint,ft,yt;se=Je&&Je.xa,ce=Je&&Je.ya;var At=se.spikesnap;At==="cursor"?(ft=N.pointerX,yt=N.pointerY):(ft=se._offset+Je.x,yt=ce._offset+Je.y);var qe=o.readability(Je.color,fe)<1.5?h.contrast(fe):Je.color,mt=se.spikemode,st=se.spikethickness,gt=se.spikecolor||qe,Ct=y.getPxPosition(g,se),Ce,ze;if(mt.indexOf("toaxis")!==-1||mt.indexOf("across")!==-1){if(mt.indexOf("toaxis")!==-1&&(Ce=Ct,ze=yt),mt.indexOf("across")!==-1){var et=se._counterDomainMin,ve=se._counterDomainMax;se.anchor==="free"&&(et=Math.min(et,se.position),ve=Math.max(ve,se.position)),Ce=O.t+(1-ve)*O.h,ze=O.t+(1-et)*O.h}z.insert("line",":first-child").attr({x1:ft,x2:ft,y1:Ce,y2:ze,"stroke-width":st,stroke:gt,"stroke-dasharray":c.dashStyle(se.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),z.insert("line",":first-child").attr({x1:ft,x2:ft,y1:Ce,y2:ze,"stroke-width":st+2,stroke:fe}).classed("spikeline",!0).classed("crisp",!0)}mt.indexOf("marker")!==-1&&z.insert("circle",":first-child").attr({cx:ft,cy:Ct-(se.side!=="top"?st:-st),r:st,fill:gt}).classed("spikeline",!0)}}}function ne(g,S,Y){if(!Y||Y.length!==g._hoverdata.length)return!0;for(var z=Y.length-1;z>=0;z--){var _=Y[z],O=g._hoverdata[z];if(_.curveNumber!==O.curveNumber||String(_.pointNumber)!==String(O.pointNumber)||String(_.pointNumbers)!==String(O.pointNumbers))return!0}return!1}function oe(g,S){return!S||S.vLinePoint!==g._spikepoints.vLinePoint||S.hLinePoint!==g._spikepoints.hLinePoint}function me(g,S){return l.plainText(g||"",{len:S,allowedTags:["br","sub","sup","b","i","em"]})}function de(g,S){for(var Y=S.charAt(0),z=[],_=[],O=[],N=0;N<g.length;N++){var P=g[N];m.traceIs(P.trace,"bar-like")||m.traceIs(P.trace,"box-violin")?O.push(P):P.trace[Y+"period"]?_.push(P):z.push(P)}return z.concat(_).concat(O)}function ie(g,S,Y){var z=S[g+"a"],_=S[g+"Val"],O=S.cd[0];if(z.type==="category")_=z._categoriesMap[_];else if(z.type==="date"){var N=S.trace[g+"periodalignment"];if(N){var P=S.cd[S.index],j=P[g+"Start"];j===void 0&&(j=P[g]);var se=P[g+"End"];se===void 0&&(se=P[g]);var ce=se-j;N==="end"?_+=ce:N==="middle"&&(_+=ce/2)}_=z.d2c(_)}return O&&O.t&&O.t.posLetter===z._id&&(Y.boxmode==="group"||Y.violinmode==="group")&&(_+=O.t.dPos),_}function Z(g){return g.offsetTop+g.clientTop}function q(g){return g.offsetLeft+g.clientLeft}function K(g,S){var Y=g._fullLayout,z=S.getBoundingClientRect(),_=z.x,O=z.y,N=_+z.width,P=O+z.height,j=a.apply3DTransform(Y._invTransform)(_,O),se=a.apply3DTransform(Y._invTransform)(N,P),ce=j[0],fe=j[1],pe=se[0],be=se[1];return{x:ce,y:fe,width:pe-ce,height:be-fe,top:Math.min(fe,be),left:Math.min(ce,pe),right:Math.max(ce,pe),bottom:Math.max(fe,be)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(f,ae,W){var t=f("../../lib"),n=f("../color"),o=f("./helpers").isUnifiedHover;ae.exports=function(e,u,s,l){l=l||{};var r=u.legend;function c(h){l.font[h]||(l.font[h]=r?u.legend.font[h]:u.font[h])}u&&o(u.hovermode)&&(l.font||(l.font={}),c("size"),c("family"),c("color"),r?(l.bgcolor||(l.bgcolor=n.combine(u.legend.bgcolor,u.paper_bgcolor)),l.bordercolor||(l.bordercolor=u.legend.bordercolor)):l.bgcolor||(l.bgcolor=u.paper_bgcolor)),s("hoverlabel.bgcolor",l.bgcolor),s("hoverlabel.bordercolor",l.bordercolor),s("hoverlabel.namelength",l.namelength),t.coerceFont(s,"hoverlabel.font",l.font),s("hoverlabel.align",l.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(f,ae,W){var t=f("../../lib"),n=f("./layout_attributes");ae.exports=function(a,e){function u(s,l){return e[s]!==void 0?e[s]:t.coerce(a,e,n,s,l)}return u("clickmode"),u("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../lib"),o=f("../dragelement"),a=f("./helpers"),e=f("./layout_attributes"),u=f("./hover");ae.exports={moduleType:"component",name:"fx",constants:f("./constants"),schema:{layout:e},attributes:f("./attributes"),layoutAttributes:e,supplyLayoutGlobalDefaults:f("./layout_global_defaults"),supplyDefaults:f("./defaults"),supplyLayoutDefaults:f("./layout_defaults"),calc:f("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:l,castHoverinfo:r,hover:u.hover,unhover:o.unhover,loneHover:u.loneHover,loneUnhover:s,click:f("./click")};function s(c){var h=n.isD3Selection(c)?c:t.select(c);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()}function l(c,h,v){return n.castOption(c,h,"hoverlabel."+v)}function r(c,h,v){function y(m){return n.coerceHoverinfo({hoverinfo:m},{_module:c._module},h)}return n.castOption(c,v,"hoverinfo",y)}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(f,ae,W){var t=f("./constants"),n=f("../../plots/font_attributes"),o=n({editType:"none"});o.family.dflt=t.HOVERFONT,o.size.dflt=t.HOVERFONTSIZE,ae.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:o,grouptitlefont:n({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(f,ae,W){var t=f("../../lib"),n=f("./layout_attributes"),o=f("./hovermode_defaults"),a=f("./hoverlabel_defaults");ae.exports=function(u,s){function l(m,L){return t.coerce(u,s,n,m,L)}var r=o(u,s);r&&(l("hoverdistance"),l("spikedistance"));var c=l("dragmode");c==="select"&&l("selectdirection");var h=s._has("mapbox"),v=s._has("geo"),y=s._basePlotModules.length;s.dragmode==="zoom"&&((h||v)&&y===1||h&&v&&y===2)&&(s.dragmode="pan"),a(u,s,l),t.coerceFont(l,"hoverlabel.grouptitlefont",s.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(f,ae,W){var t=f("../../lib"),n=f("./hoverlabel_defaults"),o=f("./layout_attributes");ae.exports=function(e,u){function s(l,r){return t.coerce(e,u,o,l,r)}n(e,u,s)}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(f,ae,W){var t=f("../../lib"),n=f("../../lib/regex").counter,o=f("../../plots/domain").attributes,a=f("../../plots/cartesian/constants").idRegex,e=f("../../plot_api/plot_template"),u={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[n("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(v,y,m){var L=y[m+"axes"],A=Object.keys((v._splomAxes||{})[m]||{});if(Array.isArray(L))return L;if(A.length)return A}function l(v,y){var m=v.grid||{},L=s(y,m,"x"),A=s(y,m,"y");if(!v.grid&&!L&&!A)return;var M=Array.isArray(m.subplots)&&Array.isArray(m.subplots[0]),p=Array.isArray(L),T=Array.isArray(A),d=p&&L!==m.xaxes&&T&&A!==m.yaxes,x,C;M?(x=m.subplots.length,C=m.subplots[0].length):(T&&(x=A.length),p&&(C=L.length));var E=e.newContainer(y,"grid");function w(G,B){return t.coerce(m,E,u,G,B)}var H=w("rows",x),F=w("columns",C);if(!(H*F>1)){delete y.grid;return}if(!M&&!p&&!T){var k=w("pattern")==="independent";k&&(M=!0)}E._hasSubplotGrid=M;var I=w("roworder"),U=I==="top to bottom",Q=M?.2:.1,J=M?.3:.1,ee,R;d&&y._splomGridDflt&&(ee=y._splomGridDflt.xside,R=y._splomGridDflt.yside),E._domains={x:r("x",w,Q,ee,F),y:r("y",w,J,R,H,U)}}function r(v,y,m,L,A,M){var p=y(v+"gap",m),T=y("domain."+v);y(v+"side",L);for(var d=new Array(A),x=T[0],C=(T[1]-x)/(A-p),E=C*(1-p),w=0;w<A;w++){var H=x+C*w;d[M?A-1-w:w]=[H,H+E]}return d}function c(v,y){var m=y.grid;if(!(!m||!m._domains)){var L=v.grid||{},A=y._subplots,M=m._hasSubplotGrid,p=m.rows,T=m.columns,d=m.pattern==="independent",x,C,E,w,H,F,k,I=m._axisMap={};if(M){var U=L.subplots||[];F=m.subplots=new Array(p);var Q=1;for(x=0;x<p;x++){var J=F[x]=new Array(T),ee=U[x]||[];for(C=0;C<T;C++)if(d?(H=Q===1?"xy":"x"+Q+"y"+Q,Q++):H=ee[C],J[C]="",A.cartesian.indexOf(H)!==-1){if(k=H.indexOf("y"),E=H.slice(0,k),w=H.slice(k),I[E]!==void 0&&I[E]!==C||I[w]!==void 0&&I[w]!==x)continue;J[C]=H,I[E]=C,I[w]=x}}}else{var R=s(y,L,"x"),G=s(y,L,"y");m.xaxes=h(R,A.xaxis,T,I,"x"),m.yaxes=h(G,A.yaxis,p,I,"y")}var B=m._anchors={},te=m.roworder==="top to bottom";for(var ne in I){var oe=ne.charAt(0),me=m[oe+"side"],de,ie,Z;if(me.length<8)B[ne]="free";else if(oe==="x"){if(me.charAt(0)==="t"===te?(de=0,ie=1,Z=p):(de=p-1,ie=-1,Z=-1),M){var q=I[ne];for(x=de;x!==Z;x+=ie)if(H=F[x][q],!!H&&(k=H.indexOf("y"),H.slice(0,k)===ne)){B[ne]=H.slice(k);break}}else for(x=de;x!==Z;x+=ie)if(w=m.yaxes[x],A.cartesian.indexOf(ne+w)!==-1){B[ne]=w;break}}else if(me.charAt(0)==="l"?(de=0,ie=1,Z=T):(de=T-1,ie=-1,Z=-1),M){var K=I[ne];for(x=de;x!==Z;x+=ie)if(H=F[K][x],!!H&&(k=H.indexOf("y"),H.slice(k)===ne)){B[ne]=H.slice(0,k);break}}else for(x=de;x!==Z;x+=ie)if(E=m.xaxes[x],A.cartesian.indexOf(E+ne)!==-1){B[ne]=E;break}}}}function h(v,y,m,L,A){var M=new Array(m),p;function T(d,x){y.indexOf(x)!==-1&&L[x]===void 0?(M[d]=x,L[x]=d):M[d]=""}if(Array.isArray(v))for(p=0;p<m;p++)T(p,v[p]);else for(T(0,A),p=1;p<m;p++)T(p,A+(p+1));return M}ae.exports={moduleType:"component",name:"grid",schema:{layout:{grid:u}},layoutAttributes:u,sizeDefaults:l,contentDefaults:c}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(f,ae,W){var t=f("../../plots/cartesian/constants"),n=f("../../plot_api/plot_template").templatedArray;f("../../constants/axis_placeable_objects"),ae.exports=n("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",t.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",t.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib/to_log_range");ae.exports=function(a,e,u,s){e=e||{};var l=u==="log"&&e.type==="linear",r=u==="linear"&&e.type==="log";if(!!(l||r)){for(var c=a._fullLayout.images,h=e._id.charAt(0),v,y,m=0;m<c.length;m++)if(v=c[m],y="images["+m+"].",v[h+"ref"]===e._id){var L=v[h],A=v["size"+h],M=null,p=null;if(l){M=n(L,e.range);var T=A/Math.pow(10,M)/2;p=2*Math.log(T+Math.sqrt(1+T*T))/Math.LN10}else M=Math.pow(10,L),p=M*(Math.pow(10,A/2)-Math.pow(10,-A/2));t(M)?t(p)||(p=null):(M=null,p=null),s(y+h,M),s(y+"size"+h,p)}}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("../../plots/array_container_defaults"),a=f("./attributes"),e="images";ae.exports=function(l,r){var c={name:e,handleItemDefaults:u};o(l,r,c)};function u(s,l,r){function c(T,d){return t.coerce(s,l,a,T,d)}var h=c("source"),v=c("visible",!!h);if(!v)return l;c("layer"),c("xanchor"),c("yanchor"),c("sizex"),c("sizey"),c("sizing"),c("opacity");for(var y={_fullLayout:r},m=["x","y"],L=0;L<2;L++){var A=m[L],M=n.coerceRef(s,l,y,A,"paper",void 0);if(M!=="paper"){var p=n.getFromId(y,M);p._imgIndices.push(l._index)}n.coercePosition(l,y,c,M,A,0)}return l}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../drawing"),o=f("../../plots/cartesian/axes"),a=f("../../plots/cartesian/axis_ids"),e=f("../../constants/xmlns_namespaces");ae.exports=function(s){var l=s._fullLayout,r=[],c={},h=[],v,y;for(y=0;y<l.images.length;y++){var m=l.images[y];if(m.visible)if(m.layer==="below"&&m.xref!=="paper"&&m.yref!=="paper"){v=a.ref2id(m.xref)+a.ref2id(m.yref);var L=l._plots[v];if(!L){h.push(m);continue}L.mainplot&&(v=L.mainplot.id),c[v]||(c[v]=[]),c[v].push(m)}else m.layer==="above"?r.push(m):h.push(m)}var A={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(w){var H=t.select(this);if(this._imgSrc!==w.source)if(H.attr("xmlns",e.svg),w.source&&w.source.slice(0,5)==="data:")H.attr("xlink:href",w.source),this._imgSrc=w.source;else{var F=new Promise(function(k){var I=new Image;this.img=I,I.setAttribute("crossOrigin","anonymous"),I.onerror=U,I.onload=function(){var Q=document.createElement("canvas");Q.width=this.width,Q.height=this.height;var J=Q.getContext("2d",{willReadFrequently:!0});J.drawImage(this,0,0);var ee=Q.toDataURL("image/png");H.attr("xlink:href",ee),k()},H.on("error",U),I.src=w.source,this._imgSrc=w.source;function U(){H.remove(),k()}}.bind(this));s._promises.push(F)}}function p(w){var H=t.select(this),F=o.getFromId(s,w.xref),k=o.getFromId(s,w.yref),I=o.getRefType(w.xref)==="domain",U=o.getRefType(w.yref)==="domain",Q=l._size,J,ee;F!==void 0?J=typeof w.xref=="string"&&I?F._length*w.sizex:Math.abs(F.l2p(w.sizex)-F.l2p(0)):J=w.sizex*Q.w,k!==void 0?ee=typeof w.yref=="string"&&U?k._length*w.sizey:Math.abs(k.l2p(w.sizey)-k.l2p(0)):ee=w.sizey*Q.h;var R=J*A.x[w.xanchor].offset,G=ee*A.y[w.yanchor].offset,B=A.x[w.xanchor].sizing+A.y[w.yanchor].sizing,te,ne;switch(F!==void 0?te=typeof w.xref=="string"&&I?F._length*w.x+F._offset:F.r2p(w.x)+F._offset:te=w.x*Q.w+Q.l,te+=R,k!==void 0?ne=typeof w.yref=="string"&&U?k._length*(1-w.y)+k._offset:k.r2p(w.y)+k._offset:ne=Q.h-w.y*Q.h+Q.t,ne+=G,w.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}H.attr({x:te,y:ne,width:J,height:ee,preserveAspectRatio:B,opacity:w.opacity});var oe=F&&o.getRefType(w.xref)!=="domain"?F._id:"",me=k&&o.getRefType(w.yref)!=="domain"?k._id:"",de=oe+me;n.setClipUrl(H,de?"clip"+l._uid+de:null,s)}var T=l._imageLowerLayer.selectAll("image").data(h),d=l._imageUpperLayer.selectAll("image").data(r);T.enter().append("image"),d.enter().append("image"),T.exit().remove(),d.exit().remove(),T.each(function(w){M.bind(this)(w),p.bind(this)(w)}),d.each(function(w){M.bind(this)(w),p.bind(this)(w)});var x=Object.keys(l._plots);for(y=0;y<x.length;y++){v=x[y];var C=l._plots[v];if(!!C.imagelayer){var E=C.imagelayer.selectAll("image").data(c[v]||[]);E.enter().append("image"),E.exit().remove(),E.each(function(w){M.bind(this)(w),p.bind(this)(w)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(f,ae,W){ae.exports={moduleType:"component",name:"images",layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),includeBasePlot:f("../../plots/cartesian/include_components")("images"),draw:f("./draw"),convertCoords:f("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(f,ae,W){var t=f("../../plots/font_attributes"),n=f("../color/attributes");ae.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:t({editType:"legend"}),grouptitlefont:t({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:t({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(f,ae,W){ae.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(f,ae,W){var t=f("../../registry"),n=f("../../lib"),o=f("../../plot_api/plot_template"),a=f("../../plots/attributes"),e=f("./attributes"),u=f("../../plots/layout_attributes"),s=f("./helpers");ae.exports=function(r,c,h){var v=r.legend||{},y=o.newContainer(c,"legend");function m(ee,R){return n.coerce(v,y,e,ee,R)}for(var L,A=function(ee,R){var G=L._input,B=L;return n.coerce(G,B,a,ee,R)},M=c.font||{},p=n.coerceFont(m,"grouptitlefont",n.extendFlat({},M,{size:Math.round(M.size*1.1)})),T=0,d=!1,x="normal",C=0;C<h.length;C++)L=h[C],L.visible&&((L.showlegend||L._dfltShowLegend&&!(L._module&&L._module.attributes&&L._module.attributes.showlegend&&L._module.attributes.showlegend.dflt===!1))&&(T++,L.showlegend&&(d=!0,(t.traceIs(L,"pie-like")||L._input.showlegend===!0)&&T++),n.coerceFont(A,"legendgrouptitle.font",p)),(t.traceIs(L,"bar")&&c.barmode==="stack"||["tonextx","tonexty"].indexOf(L.fill)!==-1)&&(x=s.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),L.legendgroup!==void 0&&L.legendgroup!==""&&(x=s.isReversed({traceorder:x})?"reversed+grouped":"grouped"));var E=n.coerce(r,c,u,"showlegend",d&&T>1);if(E===!1&&(c.legend=void 0),!(E===!1&&!v.uirevision)&&(m("uirevision",c.uirevision),E!==!1)){m("bgcolor",c.paper_bgcolor),m("bordercolor"),m("borderwidth");var w=n.coerceFont(m,"font",c.font),H=m("orientation"),F=H==="h",k,I,U;F?(k=0,t.getComponentMethod("rangeslider","isVisible")(r.xaxis)?(I=1.1,U="bottom"):(I=-.1,U="top")):(k=1.02,I=1,U="auto"),m("traceorder",x),s.isGrouped(c.legend)&&m("tracegroupgap"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("x",k),m("xanchor"),m("y",I),m("yanchor",U),m("valign"),n.noneOrAll(v,y,["x","y"]);var Q=m("title.text");if(Q){m("title.side",F?"left":"top");var J=n.extendFlat({},w,{size:n.bigFont(w.size)});n.coerceFont(m,"title.font",J)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../lib"),o=f("../../plots/plots"),a=f("../../registry"),e=f("../../lib/events"),u=f("../dragelement"),s=f("../drawing"),l=f("../color"),r=f("../../lib/svg_text_utils"),c=f("./handle_click"),h=f("./constants"),v=f("../../constants/alignment"),y=v.LINE_SPACING,m=v.FROM_TL,L=v.FROM_BR,A=f("./get_legend_data"),M=f("./style"),p=f("./helpers"),T=1;ae.exports=function(R,G){return G||(G=R._fullLayout.legend||{}),d(R,G)};function d(ee,R){var G=ee._fullLayout,B="legend"+G._uid,te,ne=R._inHover;if(ne?(te=R.layer,B+="-hover"):te=G._infolayer,!!te){ee._legendMouseDownTime||(ee._legendMouseDownTime=0);var oe;if(ne){if(!R.entries)return;oe=A(R.entries,R)}else{if(!ee.calcdata)return;oe=G.showlegend&&A(ee.calcdata,R)}var me=G.hiddenlabels||[];if(!ne&&(!G.showlegend||!oe.length))return te.selectAll(".legend").remove(),G._topdefs.select("#"+B).remove(),o.autoMargin(ee,"legend");var de=n.ensureSingle(te,"g","legend",function(_){ne||_.attr("pointer-events","all")}),ie=n.ensureSingleById(G._topdefs,"clipPath",B,function(_){_.append("rect")}),Z=n.ensureSingle(de,"rect","bg",function(_){_.attr("shape-rendering","crispEdges")});Z.call(l.stroke,R.bordercolor).call(l.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px");var q=n.ensureSingle(de,"g","scrollbox"),K=R.title;if(R._titleWidth=0,R._titleHeight=0,K.text){var g=n.ensureSingle(q,"text","legendtitletext");g.attr("text-anchor","start").call(s.font,K.font).text(K.text),H(g,q,ee,R,T)}else q.selectAll(".legendtitletext").remove();var S=n.ensureSingle(de,"rect","scrollbar",function(_){_.attr(h.scrollBarEnterAttrs).call(l.fill,h.scrollBarColor)}),Y=q.selectAll("g.groups").data(oe);Y.enter().append("g").attr("class","groups"),Y.exit().remove();var z=Y.selectAll("g.traces").data(n.identity);z.enter().append("g").attr("class","traces"),z.exit().remove(),z.style("opacity",function(_){var O=_[0].trace;return a.traceIs(O,"pie-like")?me.indexOf(_[0].label)!==-1?.5:1:O.visible==="legendonly"?.5:1}).each(function(){t.select(this).call(C,ee,R)}).call(M,ee,R).each(function(){ne||t.select(this).call(w,ee)}),n.syncOrAsync([o.previousPromises,function(){return I(ee,Y,z,R)},function(){var _=G._size,O=R.borderwidth;if(!ne){var N=U(ee);if(N)return;var P=_.l+_.w*R.x-m[Q(R)]*R._width,j=_.t+_.h*(1-R.y)-m[J(R)]*R._effHeight;if(G.margin.autoexpand){var se=P,ce=j;P=n.constrain(P,0,G.width-R._width),j=n.constrain(j,0,G.height-R._effHeight),P!==se&&n.log("Constrain legend.x to make legend fit inside graph"),j!==ce&&n.log("Constrain legend.y to make legend fit inside graph")}s.setTranslate(de,P,j)}if(S.on(".drag",null),de.on("wheel",null),ne||R._height<=R._maxHeight||ee._context.staticPlot){var fe=R._effHeight;ne&&(fe=R._height),Z.attr({width:R._width-O,height:fe-O,x:O/2,y:O/2}),s.setTranslate(q,0,0),ie.select("rect").attr({width:R._width-2*O,height:fe-2*O,x:O,y:O}),s.setClipUrl(q,B,ee),s.setRect(S,0,0,0,0),delete R._scrollY}else{var pe=Math.max(h.scrollBarMinHeight,R._effHeight*R._effHeight/R._height),be=R._effHeight-pe-2*h.scrollBarMargin,Re=R._height-R._effHeight,ke=be/Re,Oe=Math.min(R._scrollY||0,Re);Z.attr({width:R._width-2*O+h.scrollBarWidth+h.scrollBarMargin,height:R._effHeight-O,x:O/2,y:O/2}),ie.select("rect").attr({width:R._width-2*O+h.scrollBarWidth+h.scrollBarMargin,height:R._effHeight-2*O,x:O,y:O+Oe}),s.setClipUrl(q,B,ee),Xe(Oe,pe,ke),de.on("wheel",function(){Oe=n.constrain(R._scrollY+t.event.deltaY/be*Re,0,Re),Xe(Oe,pe,ke),Oe!==0&&Oe!==Re&&t.event.preventDefault()});var Be,Ae,ge,Ee=function(qe,mt,st){var gt=(st-mt)/ke+qe;return n.constrain(gt,0,Re)},Ve=function(qe,mt,st){var gt=(mt-st)/ke+qe;return n.constrain(gt,0,Re)},xt=t.behavior.drag().on("dragstart",function(){var qe=t.event.sourceEvent;qe.type==="touchstart"?Be=qe.changedTouches[0].clientY:Be=qe.clientY,ge=Oe}).on("drag",function(){var qe=t.event.sourceEvent;qe.buttons===2||qe.ctrlKey||(qe.type==="touchmove"?Ae=qe.changedTouches[0].clientY:Ae=qe.clientY,Oe=Ee(ge,Be,Ae),Xe(Oe,pe,ke))});S.call(xt);var Ye=t.behavior.drag().on("dragstart",function(){var qe=t.event.sourceEvent;qe.type==="touchstart"&&(Be=qe.changedTouches[0].clientY,ge=Oe)}).on("drag",function(){var qe=t.event.sourceEvent;qe.type==="touchmove"&&(Ae=qe.changedTouches[0].clientY,Oe=Ve(ge,Be,Ae),Xe(Oe,pe,ke))});q.call(Ye)}function Xe(qe,mt,st){R._scrollY=ee._fullLayout.legend._scrollY=qe,s.setTranslate(q,0,-qe),s.setRect(S,R._width,h.scrollBarMargin+qe*st,h.scrollBarWidth,mt),ie.select("rect").attr("y",O+qe)}if(ee._context.edits.legendPosition){var Je,ft,yt,At;de.classed("cursor-move",!0),u.init({element:de.node(),gd:ee,prepFn:function(){var qe=s.getTranslate(de);yt=qe.x,At=qe.y},moveFn:function(qe,mt){var st=yt+qe,gt=At+mt;s.setTranslate(de,st,gt),Je=u.align(st,0,_.l,_.l+_.w,R.xanchor),ft=u.align(gt,0,_.t+_.h,_.t,R.yanchor)},doneFn:function(){Je!==void 0&&ft!==void 0&&a.call("_guiRelayout",ee,{"legend.x":Je,"legend.y":ft})},clickFn:function(qe,mt){var st=te.selectAll("g.traces").filter(function(){var gt=this.getBoundingClientRect();return mt.clientX>=gt.left&&mt.clientX<=gt.right&&mt.clientY>=gt.top&&mt.clientY<=gt.bottom});st.size()>0&&x(ee,de,st,qe,mt)}})}}],ee)}}function x(ee,R,G,B,te){var ne=G.data()[0][0].trace,oe={event:te,node:G.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:ee.data,layout:ee.layout,frames:ee._transitionData._frames,config:ee._context,fullData:ee._fullData,fullLayout:ee._fullLayout};ne._group&&(oe.group=ne._group),a.traceIs(ne,"pie-like")&&(oe.label=G.datum()[0].label);var me=e.triggerHandler(ee,"plotly_legendclick",oe);if(me!==!1){if(B===1)R._clickTimeout=setTimeout(function(){!ee._fullLayout||c(G,ee,B)},ee._context.doubleClickDelay);else if(B===2){R._clickTimeout&&clearTimeout(R._clickTimeout),ee._legendMouseDownTime=0;var de=e.triggerHandler(ee,"plotly_legenddoubleclick",oe);de!==!1&&c(G,ee,B)}}}function C(ee,R,G){var B=ee.data()[0][0],te=B.trace,ne=a.traceIs(te,"pie-like"),oe=!G._inHover&&R._context.edits.legendText&&!ne,me=G._maxNameLength,de,ie;B.groupTitle?(de=B.groupTitle.text,ie=B.groupTitle.font):(ie=G.font,G.entries?de=B.text:(de=ne?B.label:te.name,te._meta&&(de=n.templateString(de,te._meta))));var Z=n.ensureSingle(ee,"text","legendtext");Z.attr("text-anchor","start").call(s.font,ie).text(oe?E(de,me):de);var q=G.itemwidth+h.itemGap*2;r.positionText(Z,q,0),oe?Z.call(r.makeEditable,{gd:R,text:de}).call(H,ee,R,G).on("edit",function(K){this.text(E(K,me)).call(H,ee,R,G);var g=B.trace._fullInput||{},S={};if(a.hasTransform(g,"groupby")){var Y=a.getTransformIndices(g,"groupby"),z=Y[Y.length-1],_=n.keyedContainer(g,"transforms["+z+"].styles","target","value.name");_.set(B.trace._group,K),S=_.constructUpdate()}else S.name=K;return a.call("_guiRestyle",R,S,te.index)}):H(Z,ee,R,G)}function E(ee,R){var G=Math.max(4,R);if(ee&&ee.trim().length>=G/2)return ee;ee=ee||"";for(var B=G-ee.length;B>0;B--)ee+=" ";return ee}function w(ee,R){var G=R._context.doubleClickDelay,B,te=1,ne=n.ensureSingle(ee,"rect","legendtoggle",function(oe){R._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(l.fill,"rgba(0,0,0,0)")});R._context.staticPlot||(ne.on("mousedown",function(){B=new Date().getTime(),B-R._legendMouseDownTime<G?te+=1:(te=1,R._legendMouseDownTime=B)}),ne.on("mouseup",function(){if(!(R._dragged||R._editing)){var oe=R._fullLayout.legend;new Date().getTime()-R._legendMouseDownTime>G&&(te=Math.max(te-1,1)),x(R,oe,ee,te,t.event)}}))}function H(ee,R,G,B,te){B._inHover&&ee.attr("data-notex",!0),r.convertToTspans(ee,G,function(){F(R,G,B,te)})}function F(ee,R,G,B){var te=ee.data()[0][0];if(!G._inHover&&te&&!te.trace.showlegend){ee.remove();return}var ne=ee.select("g[class*=math-group]"),oe=ne.node();G||(G=R._fullLayout.legend);var me=G.borderwidth,de;B===T?de=G.title.font:te.groupTitle?de=te.groupTitle.font:de=G.font;var ie=de.size*y,Z,q;if(oe){var K=s.bBox(oe);Z=K.height,q=K.width,B===T?s.setTranslate(ne,me,me+Z*.75):s.setTranslate(ne,0,Z*.25)}else{var g=ee.select(B===T?".legendtitletext":".legendtext"),S=r.lineCount(g),Y=g.node();if(Z=ie*S,q=Y?s.bBox(Y).width:0,B===T)G.title.side==="left"&&(q+=h.itemGap*2),r.positionText(g,me+h.titlePad,me+ie);else{var z=h.itemGap*2+G.itemwidth;te.groupTitle&&(z=h.itemGap,q-=G.itemwidth),r.positionText(g,z,-ie*((S-1)/2-.3))}}B===T?(G._titleWidth=q,G._titleHeight=Z):(te.lineHeight=ie,te.height=Math.max(Z,16)+3,te.width=q)}function k(ee){var R=0,G=0,B=ee.title.side;return B&&(B.indexOf("left")!==-1&&(R=ee._titleWidth),B.indexOf("top")!==-1&&(G=ee._titleHeight)),[R,G]}function I(ee,R,G,B){var te=ee._fullLayout;B||(B=te.legend);var ne=te._size,oe=p.isVertical(B),me=p.isGrouped(B),de=B.borderwidth,ie=2*de,Z=h.itemGap,q=B.itemwidth+Z*2,K=2*(de+Z),g=J(B),S=B.y<0||B.y===0&&g==="top",Y=B.y>1||B.y===1&&g==="bottom",z=B.tracegroupgap;B._maxHeight=Math.max(S||Y?te.height/2:ne.h,30);var _=0;B._width=0,B._height=0;var O=k(B);if(oe)G.each(function(Je){var ft=Je[0].height;s.setTranslate(this,de+O[0],de+O[1]+B._height+ft/2+Z),B._height+=ft,B._width=Math.max(B._width,Je[0].width)}),_=q+B._width,B._width+=Z+q+ie,B._height+=K,me&&(R.each(function(Je,ft){s.setTranslate(this,0,ft*B.tracegroupgap)}),B._height+=(B._lgroupsLength-1)*B.tracegroupgap);else{var N=Q(B),P=B.x<0||B.x===0&&N==="right",j=B.x>1||B.x===1&&N==="left",se=Y||S,ce=te.width/2;B._maxWidth=Math.max(P?se&&N==="left"?ne.l+ne.w:ce:j?se&&N==="right"?ne.r+ne.w:ce:ne.w,2*q);var fe=0,pe=0;G.each(function(Je){var ft=Je[0].width+q;fe=Math.max(fe,ft),pe+=ft}),_=null;var be=0;if(me){var Re=0,ke=0,Oe=0;R.each(function(){var Je=0,ft=0;t.select(this).selectAll("g.traces").each(function(At){var qe=At[0].width,mt=At[0].height;s.setTranslate(this,O[0],O[1]+de+Z+mt/2+ft),ft+=mt,Je=Math.max(Je,q+qe)});var yt=Je+Z;ke>0&&yt+de+ke>B._maxWidth?(be=Math.max(be,ke),ke=0,Oe+=Re+z,Re=ft):Re=Math.max(Re,ft),s.setTranslate(this,ke,Oe),ke+=yt}),B._width=Math.max(be,ke)+de,B._height=Oe+Re+K}else{var Be=G.size(),Ae=pe+ie+(Be-1)*Z<B._maxWidth,ge=0,Ee=0,Ve=0,xt=0;G.each(function(Je){var ft=Je[0].height,yt=q+Je[0].width,At=(Ae?yt:fe)+Z;At+de+Ee-Z>=B._maxWidth&&(be=Math.max(be,xt),Ee=0,Ve+=ge,B._height+=ge,ge=0),s.setTranslate(this,O[0]+de+Ee,O[1]+de+Ve+ft/2+Z),xt=Ee+yt+Z,Ee+=At,ge=Math.max(ge,ft)}),Ae?(B._width=Ee+ie,B._height=ge+K):(B._width=Math.max(be,xt)+ie,B._height+=ge+K)}}B._width=Math.ceil(Math.max(B._width+O[0],B._titleWidth+2*(de+h.titlePad))),B._height=Math.ceil(Math.max(B._height+O[1],B._titleHeight+2*(de+h.itemGap))),B._effHeight=Math.min(B._height,B._maxHeight);var Ye=ee._context.edits,Xe=Ye.legendText||Ye.legendPosition;G.each(function(Je){var ft=t.select(this).select(".legendtoggle"),yt=Je[0].height,At=Xe?q:_||q+Je[0].width;oe||(At+=Z/2),s.setRect(ft,0,-yt/2,At,yt)})}function U(ee){var R=ee._fullLayout,G=R.legend,B=Q(G),te=J(G);return o.autoMargin(ee,"legend",{x:G.x,y:G.y,l:G._width*m[B],r:G._width*L[B],b:G._effHeight*L[te],t:G._effHeight*m[te]})}function Q(ee){return n.isRightAnchor(ee)?"right":n.isCenterAnchor(ee)?"center":"left"}function J(ee){return n.isBottomAnchor(ee)?"bottom":n.isMiddleAnchor(ee)?"middle":"top"}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(f,ae,W){var t=f("../../registry"),n=f("./helpers");ae.exports=function(a,e){var u=e._inHover,s=n.isGrouped(e),l=n.isReversed(e),r={},c=[],h=!1,v={},y=0,m=0,L,A;function M(G,B){if(G===""||!n.isGrouped(e)){var te="~~i"+y;c.push(te),r[te]=[B],y++}else c.indexOf(G)===-1?(c.push(G),h=!0,r[G]=[B]):r[G].push(B)}for(L=0;L<a.length;L++){var p=a[L],T=p[0],d=T.trace,x=d.legendgroup;if(!(!u&&(!d.visible||!d.showlegend)))if(t.traceIs(d,"pie-like"))for(v[x]||(v[x]={}),A=0;A<p.length;A++){var C=p[A].label;v[x][C]||(M(x,{label:C,color:p[A].color,i:p[A].i,trace:d,pts:p[A].pts}),v[x][C]=!0,m=Math.max(m,(C||"").length))}else M(x,T),m=Math.max(m,(d.name||"").length)}if(!c.length)return[];var E=!h||!s,w=[];for(L=0;L<c.length;L++){var H=r[c[L]];E?w.push(H[0]):w.push(H)}for(E&&(w=[w]),L=0;L<w.length;L++){var F=1/0;for(A=0;A<w[L].length;A++){var k=w[L][A].trace.legendrank;F>k&&(F=k)}w[L][0]._groupMinRank=F,w[L][0]._preGroupSort=L}var I=function(G,B){return G[0]._groupMinRank-B[0]._groupMinRank||G[0]._preGroupSort-B[0]._preGroupSort},U=function(G,B){return G.trace.legendrank-B.trace.legendrank||G._preSort-B._preSort};for(w.forEach(function(G,B){G[0]._preGroupSort=B}),w.sort(I),L=0;L<w.length;L++){w[L].forEach(function(G,B){G._preSort=B}),w[L].sort(U);var Q=w[L][0].trace,J=null;for(A=0;A<w[L].length;A++){var ee=w[L][A].trace.legendgrouptitle;if(ee&&ee.text){J=ee,u&&(ee.font=e._groupTitleFont);break}}if(l&&w[L].reverse(),J){var R=!1;for(A=0;A<w[L].length;A++)if(t.traceIs(w[L][A].trace,"pie-like")){R=!0;break}w[L].unshift({i:-1,groupTitle:J,noClick:R,trace:{showlegend:Q.showlegend,legendgroup:Q.legendgroup,visible:e.groupclick==="toggleitem"?!0:Q.visible}})}for(A=0;A<w[L].length;A++)w[L][A]=[w[L][A]]}return e._lgroupsLength=w.length,e._maxNameLength=m,w}},{"../../registry":318,"./helpers":158}],157:[function(f,ae,W){var t=f("../../lib"),n=f("../../registry"),o=!0;ae.exports=function(e,u,s){var l=u._fullLayout;if(u._dragged||u._editing)return;var r=l.legend.itemclick,c=l.legend.itemdoubleclick,h=l.legend.groupclick;s===1&&r==="toggle"&&c==="toggleothers"&&o&&u.data&&u._context.showTips&&t.notifier(t._(u,"Double-click on legend to isolate one trace"),"long"),o=!1;var v;if(s===1?v=r:s===2&&(v=c),!v)return;var y=h==="togglegroup",m=l.hiddenlabels?l.hiddenlabels.slice():[],L=e.data()[0][0];if(L.groupTitle&&L.noClick)return;var A=u._fullData,M=L.trace,p=M.legendgroup,T,d,x,C,E,w,H={},F=[],k=[],I=[];function U(K,g,S){var Y=F.indexOf(K),z=H[g];return z||(z=H[g]=[]),F.indexOf(K)===-1&&(F.push(K),Y=F.length-1),z[Y]=S,Y}function Q(K,g){if(!(L.groupTitle&&!y)){var S=K._fullInput;if(n.hasTransform(S,"groupby")){var Y=k[S.index];if(!Y){var z=n.getTransformIndices(S,"groupby"),_=z[z.length-1];Y=t.keyedContainer(S,"transforms["+_+"].styles","target","value.visible"),k[S.index]=Y}var O=Y.get(K._group);O===void 0&&(O=!0),O!==!1&&Y.set(K._group,g),I[S.index]=U(S.index,"visible",S.visible!==!1)}else{var N=S.visible===!1?!1:g;U(S.index,"visible",N)}}}if(n.traceIs(M,"pie-like")){var J=L.label,ee=m.indexOf(J);v==="toggle"?ee===-1?m.push(J):m.splice(ee,1):v==="toggleothers"&&(m=[],u.calcdata[0].forEach(function(K){J!==K.label&&m.push(K.label)}),u._fullLayout.hiddenlabels&&u._fullLayout.hiddenlabels.length===m.length&&ee===-1&&(m=[])),n.call("_guiRelayout",u,"hiddenlabels",m)}else{var R=p&&p.length,G=[],B;if(R)for(T=0;T<A.length;T++)B=A[T],!!B.visible&&B.legendgroup===p&&G.push(T);if(v==="toggle"){var te;switch(M.visible){case!0:te="legendonly";break;case!1:te=!1;break;case"legendonly":te=!0;break}if(R)if(y)for(T=0;T<A.length;T++)A[T].visible!==!1&&A[T].legendgroup===p&&Q(A[T],te);else Q(M,te);else Q(M,te)}else if(v==="toggleothers"){var ne,oe,me,de,ie=!0;for(T=0;T<A.length;T++)if(ne=A[T]===M,me=A[T].showlegend!==!0,!(ne||me)&&(oe=R&&A[T].legendgroup===p,!oe&&A[T].visible===!0&&!n.traceIs(A[T],"notLegendIsolatable"))){ie=!1;break}for(T=0;T<A.length;T++)if(A[T].visible!==!1&&!n.traceIs(A[T],"notLegendIsolatable"))switch(M.visible){case"legendonly":Q(A[T],!0);break;case!0:de=ie?!0:"legendonly",ne=A[T]===M,me=A[T].showlegend!==!0&&!A[T].legendgroup,oe=ne||R&&A[T].legendgroup===p,Q(A[T],oe||me?!0:de);break}}for(T=0;T<k.length;T++)if(x=k[T],!!x){var Z=x.constructUpdate(),q=Object.keys(Z);for(d=0;d<q.length;d++)C=q[d],w=H[C]=H[C]||[],w[I[T]]=Z[C]}for(E=Object.keys(H),T=0;T<E.length;T++)for(C=E[T],d=0;d<F.length;d++)H[C].hasOwnProperty(d)||(H[C][d]=void 0);n.call("_guiRestyle",u,H,F)}}},{"../../lib":232,"../../registry":318}],158:[function(f,ae,W){W.isGrouped=function(n){return(n.traceorder||"").indexOf("grouped")!==-1},W.isVertical=function(n){return n.orientation!=="h"},W.isReversed=function(n){return(n.traceorder||"").indexOf("reversed")!==-1}},{}],159:[function(f,ae,W){ae.exports={moduleType:"component",name:"legend",layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),draw:f("./draw"),style:f("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../lib"),a=o.strTranslate,e=f("../drawing"),u=f("../color"),s=f("../colorscale/helpers").extractOpts,l=f("../../traces/scatter/subtypes"),r=f("../../traces/pie/style_one"),c=f("../../traces/pie/helpers").castOption,h=f("./constants"),v=12,y=5,m=2,L=10,A=5;ae.exports=function(x,C,E){var w=C._fullLayout;E||(E=w.legend);var H=E.itemsizing==="constant",F=E.itemwidth,k=(F+h.itemGap*2)/2,I=a(k,0),U=function(q,K,g,S){var Y;if(q+1)Y=q;else if(K&&K.width>0)Y=K.width;else return 0;return H?S:Math.min(Y,g)};x.each(function(q){var K=t.select(this),g=o.ensureSingle(K,"g","layers");g.style("opacity",q[0].trace.opacity);var S=E.valign,Y=q[0].lineHeight,z=q[0].height;if(S==="middle"||!Y||!z)g.attr("transform",null);else{var _={top:1,bottom:-1}[S],O=_*(.5*(Y-z+3));g.attr("transform",a(0,O))}var N=g.selectAll("g.legendfill").data([q]);N.enter().append("g").classed("legendfill",!0);var P=g.selectAll("g.legendlines").data([q]);P.enter().append("g").classed("legendlines",!0);var j=g.selectAll("g.legendsymbols").data([q]);j.enter().append("g").classed("legendsymbols",!0),j.selectAll("g.legendpoints").data([q]).enter().append("g").classed("legendpoints",!0)}).each(Z).each(ee).each(G).each(R).each(te).each(de).each(me).each(Q).each(J).each(ne).each(oe);function Q(q){var K=p(q),g=K.showFill,S=K.showLine,Y=K.showGradientLine,z=K.showGradientFill,_=K.anyFill,O=K.anyLine,N=q[0],P=N.trace,j,se,ce=s(P),fe=ce.colorscale,pe=ce.reversescale,be=function(Ee){if(Ee.size())if(g)e.fillGroupStyle(Ee,C);else{var Ve="legendfill-"+P.uid;e.gradient(Ee,C,Ve,M(pe),fe,"fill")}},Re=function(Ee){if(Ee.size()){var Ve="legendline-"+P.uid;e.lineGroupStyle(Ee),e.gradient(Ee,C,Ve,M(pe),fe,"stroke")}},ke=l.hasMarkers(P)||!_?"M5,0":O?"M5,-2":"M5,-3",Oe=t.select(this),Be=Oe.select(".legendfill").selectAll("path").data(g||z?[q]:[]);if(Be.enter().append("path").classed("js-fill",!0),Be.exit().remove(),Be.attr("d",ke+"h"+F+"v6h-"+F+"z").call(be),S||Y){var Ae=U(void 0,P.line,L,y);se=o.minExtend(P,{line:{width:Ae}}),j=[o.minExtend(N,{trace:se})]}var ge=Oe.select(".legendlines").selectAll("path").data(S||Y?[j]:[]);ge.enter().append("path").classed("js-line",!0),ge.exit().remove(),ge.attr("d",ke+(Y?"l"+F+",0.0001":"h"+F)).call(S?e.lineGroupStyle:Re)}function J(q){var K=p(q),g=K.anyFill,S=K.anyLine,Y=K.showLine,z=K.showMarker,_=q[0],O=_.trace,N=!z&&!S&&!g&&l.hasText(O),P,j;function se(Be,Ae,ge,Ee){var Ve=o.nestedProperty(O,Be).get(),xt=o.isArrayOrTypedArray(Ve)&&Ae?Ae(Ve):Ve;if(H&&xt&&Ee!==void 0&&(xt=Ee),ge){if(xt<ge[0])return ge[0];if(xt>ge[1])return ge[1]}return xt}function ce(Be){return _._distinct&&_.index&&Be[_.index]?Be[_.index]:Be[0]}if(z||N||Y){var fe={},pe={};if(z){fe.mc=se("marker.color",ce),fe.mx=se("marker.symbol",ce),fe.mo=se("marker.opacity",o.mean,[.2,1]),fe.mlc=se("marker.line.color",ce),fe.mlw=se("marker.line.width",o.mean,[0,5],m),pe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var be=se("marker.size",o.mean,[2,16],v);fe.ms=be,pe.marker.size=be}Y&&(pe.line={width:se("line.width",ce,[0,10],y)}),N&&(fe.tx="Aa",fe.tp=se("textposition",ce),fe.ts=10,fe.tc=se("textfont.color",ce),fe.tf=se("textfont.family",ce)),P=[o.minExtend(_,fe)],j=o.minExtend(O,pe),j.selectedpoints=null,j.texttemplate=null}var Re=t.select(this).select("g.legendpoints"),ke=Re.selectAll("path.scatterpts").data(z?P:[]);ke.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",I),ke.exit().remove(),ke.call(e.pointStyle,j,C),z&&(P[0].mrc=3);var Oe=Re.selectAll("g.pointtext").data(N?P:[]);Oe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",I),Oe.exit().remove(),Oe.selectAll("text").call(e.textPointStyle,j,C)}function ee(q){var K=q[0].trace,g=K.type==="waterfall";if(q[0]._distinct&&g){var S=q[0].trace[q[0].dir].marker;return q[0].mc=S.color,q[0].mlw=S.line.width,q[0].mlc=S.line.color,B(q,this,"waterfall")}var Y=[];K.visible&&g&&(Y=q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=t.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Y);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",I).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(_){var O=t.select(this),N=K[_[0]].marker,P=U(void 0,N.line,A,m);O.attr("d",_[1]).style("stroke-width",P+"px").call(u.fill,N.color),P&&O.call(u.stroke,N.line.color)})}function R(q){B(q,this)}function G(q){B(q,this,"funnel")}function B(q,K,g){var S=q[0].trace,Y=S.marker||{},z=Y.line||{},_=g?S.visible&&S.type===g:n.traceIs(S,"bar"),O=t.select(K).select("g.legendpoints").selectAll("path.legend"+g).data(_?[q]:[]);O.enter().append("path").classed("legend"+g,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),O.exit().remove(),O.each(function(N){var P=t.select(this),j=N[0],se=U(j.mlw,Y.line,A,m);P.style("stroke-width",se+"px");var ce=j.mcc;if(!E._inHover&&"mc"in j){var fe=s(Y),pe=fe.mid;pe===void 0&&(pe=(fe.max+fe.min)/2),ce=e.tryColorscale(Y,"")(pe)}var be=ce||j.mc||Y.color,Re=Y.pattern,ke=Re&&e.getPatternAttr(Re.shape,0,"");if(ke){var Oe=e.getPatternAttr(Re.bgcolor,0,null),Be=e.getPatternAttr(Re.fgcolor,0,null),Ae=Re.fgopacity,ge=T(Re.size,8,10),Ee=T(Re.solidity,.5,1),Ve="legend-"+S.uid;P.call(e.pattern,"legend",C,Ve,ke,ge,Ee,ce,Re.fillmode,Oe,Be,Ae)}else P.call(u.fill,be);se&&u.stroke(P,j.mlc||z.color)})}function te(q){var K=q[0].trace,g=t.select(this).select("g.legendpoints").selectAll("path.legendbox").data(K.visible&&n.traceIs(K,"box-violin")?[q]:[]);g.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),g.exit().remove(),g.each(function(){var S=t.select(this);if((K.boxpoints==="all"||K.points==="all")&&u.opacity(K.fillcolor)===0&&u.opacity((K.line||{}).color)===0){var Y=o.minExtend(K,{marker:{size:H?v:o.constrain(K.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});g.call(e.pointStyle,Y,C)}else{var z=U(void 0,K.line,A,m);S.style("stroke-width",z+"px").call(u.fill,K.fillcolor),z&&u.stroke(S,K.line.color)}})}function ne(q){var K=q[0].trace,g=t.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(K.visible&&K.type==="candlestick"?[q,q]:[]);g.enter().append("path").classed("legendcandle",!0).attr("d",function(S,Y){return Y?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",I).style("stroke-miterlimit",1),g.exit().remove(),g.each(function(S,Y){var z=t.select(this),_=K[Y?"increasing":"decreasing"],O=U(void 0,_.line,A,m);z.style("stroke-width",O+"px").call(u.fill,_.fillcolor),O&&u.stroke(z,_.line.color)})}function oe(q){var K=q[0].trace,g=t.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(K.visible&&K.type==="ohlc"?[q,q]:[]);g.enter().append("path").classed("legendohlc",!0).attr("d",function(S,Y){return Y?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",I).style("stroke-miterlimit",1),g.exit().remove(),g.each(function(S,Y){var z=t.select(this),_=K[Y?"increasing":"decreasing"],O=U(void 0,_.line,A,m);z.style("fill","none").call(e.dashLine,_.line.dash,O),O&&u.stroke(z,_.line.color)})}function me(q){ie(q,this,"pie")}function de(q){ie(q,this,"funnelarea")}function ie(q,K,g){var S=q[0],Y=S.trace,z=g?Y.visible&&Y.type===g:n.traceIs(Y,g),_=t.select(K).select("g.legendpoints").selectAll("path.legend"+g).data(z?[q]:[]);if(_.enter().append("path").classed("legend"+g,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),_.exit().remove(),_.size()){var O=(Y.marker||{}).line,N=U(c(O.width,S.pts),O,A,m),P=o.minExtend(Y,{marker:{line:{width:N}}});P.marker.line.color=O.color;var j=o.minExtend(S,{trace:P});r(_,j,P)}}function Z(q){var K=q[0].trace,g,S=[];if(K.visible)switch(K.type){case"histogram2d":case"heatmap":S=[["M-15,-2V4H15V-2Z"]],g=!0;break;case"choropleth":case"choroplethmapbox":S=[["M-6,-6V6H6V-6Z"]],g=!0;break;case"densitymapbox":S=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],g="radial";break;case"cone":S=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],g=!1;break;case"streamtube":S=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],g=!1;break;case"surface":S=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],g=!0;break;case"mesh3d":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],g=!1;break;case"volume":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],g=!0;break;case"isosurface":S=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],g=!1;break}var Y=t.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(S);Y.enter().append("path").classed("legend3dandfriends",!0).attr("transform",I).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(z,_){var O=t.select(this),N=s(K),P=N.colorscale,j=N.reversescale,se=function(be){if(be.size()){var Re="legendfill-"+K.uid;e.gradient(be,C,Re,M(j,g==="radial"),P,"fill")}},ce;if(P){if(!g){var pe=P.length;ce=_===0?P[j?pe-1:0][1]:_===1?P[j?0:pe-1][1]:P[Math.floor((pe-1)/2)][1]}}else{var fe=K.vertexcolor||K.facecolor||K.color;ce=o.isArrayOrTypedArray(fe)?fe[_]||fe[0]:fe}O.attr("d",z[0]),ce?O.call(u.fill,ce):O.call(se)})}};function M(d,x){var C=x?"radial":"horizontal";return C+(d?"":"reversed")}function p(d){var x=d[0].trace,C=x.contours,E=l.hasLines(x),w=l.hasMarkers(x),H=x.visible&&x.fill&&x.fill!=="none",F=!1,k=!1;if(C){var I=C.coloring;I==="lines"?F=!0:E=I==="none"||I==="heatmap"||C.showlines,C.type==="constraint"?H=C._operation!=="=":(I==="fill"||I==="heatmap")&&(k=!0)}return{showMarker:w,showLine:E,showFill:H,showGradientLine:F,showGradientFill:k,anyLine:E||F,anyFill:H||k}}function T(d,x,C){return d&&o.isArrayOrTypedArray(d)?x:d>C?C:d}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(f,ae,W){f("./constants"),ae.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(f,ae,W){var t=f("../../registry"),n=f("../../plots/plots"),o=f("../../plots/cartesian/axis_ids"),a=f("../../fonts/ploticon"),e=f("../shapes/draw").eraseActiveShape,u=f("../../lib"),s=u._,l=ae.exports={};l.toImage={name:"toImage",title:function(d){var x=d._context.toImageButtonOptions||{},C=x.format||"png";return C==="png"?s(d,"Download plot as a png"):s(d,"Download plot")},icon:a.camera,click:function(d){var x=d._context.toImageButtonOptions,C={format:x.format||"png"};u.notifier(s(d,"Taking snapshot - this may take a few seconds"),"long"),C.format!=="svg"&&u.isIE()&&(u.notifier(s(d,"IE only supports svg.  Changing format to svg."),"long"),C.format="svg"),["filename","width","height","scale"].forEach(function(E){E in x&&(C[E]=x[E])}),t.call("downloadImage",d,C).then(function(E){u.notifier(s(d,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){u.notifier(s(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},l.sendDataToCloud={name:"sendDataToCloud",title:function(d){return s(d,"Edit in Chart Studio")},icon:a.disk,click:function(d){n.sendDataToCloud(d)}},l.editInChartStudio={name:"editInChartStudio",title:function(d){return s(d,"Edit in Chart Studio")},icon:a.pencil,click:function(d){n.sendDataToCloud(d)}},l.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:r},l.pan2d={name:"pan2d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:r},l.select2d={name:"select2d",_cat:"select",title:function(d){return s(d,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:r},l.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return s(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:r},l.drawclosedpath={name:"drawclosedpath",title:function(d){return s(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:r},l.drawopenpath={name:"drawopenpath",title:function(d){return s(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:r},l.drawline={name:"drawline",title:function(d){return s(d,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:r},l.drawrect={name:"drawrect",title:function(d){return s(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:r},l.drawcircle={name:"drawcircle",title:function(d){return s(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:r},l.eraseshape={name:"eraseshape",title:function(d){return s(d,"Erase active shape")},icon:a.eraseshape,click:e},l.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:r},l.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:r},l.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return s(d,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:r},l.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return s(d,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:r},l.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return s(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:r},l.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return s(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:r};function r(d,x){var C=x.currentTarget,E=C.getAttribute("data-attr"),w=C.getAttribute("data-val")||!0,H=d._fullLayout,F={},k=o.list(d,null,!0),I=H._cartesianSpikesEnabled,U,Q;if(E==="zoom"){var J=w==="in"?.5:2,ee=(1+J)/2,R=(1-J)/2,G;for(Q=0;Q<k.length;Q++)if(U=k[Q],!U.fixedrange)if(G=U._name,w==="auto")F[G+".autorange"]=!0;else if(w==="reset"){if(U._rangeInitial===void 0)F[G+".autorange"]=!0;else{var B=U._rangeInitial.slice();F[G+".range[0]"]=B[0],F[G+".range[1]"]=B[1]}U._showSpikeInitial!==void 0&&(F[G+".showspikes"]=U._showSpikeInitial,I==="on"&&!U._showSpikeInitial&&(I="off"))}else{var te=[U.r2l(U.range[0]),U.r2l(U.range[1])],ne=[ee*te[0]+R*te[1],ee*te[1]+R*te[0]];F[G+".range[0]"]=U.l2r(ne[0]),F[G+".range[1]"]=U.l2r(ne[1])}}else E==="hovermode"&&(w==="x"||w==="y")&&(w=H._isHoriz?"y":"x",C.setAttribute("data-val",w)),F[E]=w;H._cartesianSpikesEnabled=I,t.call("_guiRelayout",d,F)}l.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return s(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:c},l.pan3d={name:"pan3d",_cat:"pan",title:function(d){return s(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:c},l.orbitRotation={name:"orbitRotation",title:function(d){return s(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:c},l.tableRotation={name:"tableRotation",title:function(d){return s(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:c};function c(d,x){for(var C=x.currentTarget,E=C.getAttribute("data-attr"),w=C.getAttribute("data-val")||!0,H=d._fullLayout._subplots.gl3d||[],F={},k=E.split("."),I=0;I<H.length;I++)F[H[I]+"."+k[1]]=w;var U=w==="pan"?w:"zoom";F.dragmode=U,t.call("_guiRelayout",d,F)}l.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return s(d,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:h},l.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return s(d,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:h};function h(d,x){for(var C=x.currentTarget,E=C.getAttribute("data-attr"),w=E==="resetLastSave",H=E==="resetDefault",F=d._fullLayout,k=F._subplots.gl3d||[],I={},U=0;U<k.length;U++){var Q=k[U],J=Q+".camera",ee=Q+".aspectratio",R=Q+".aspectmode",G=F[Q]._scene,B;w?(I[J+".up"]=G.viewInitial.up,I[J+".eye"]=G.viewInitial.eye,I[J+".center"]=G.viewInitial.center,B=!0):H&&(I[J+".up"]=null,I[J+".eye"]=null,I[J+".center"]=null,B=!0),B&&(I[ee+".x"]=G.viewInitial.aspectratio.x,I[ee+".y"]=G.viewInitial.aspectratio.y,I[ee+".z"]=G.viewInitial.aspectratio.z,I[R]=G.viewInitial.aspectmode)}t.call("_guiRelayout",d,I)}l.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:y};function v(d,x){var C=x.currentTarget,E=C._previousVal,w=d._fullLayout,H=w._subplots.gl3d||[],F=["xaxis","yaxis","zaxis"],k={},I={};if(E)I=E,C._previousVal=null;else{for(var U=0;U<H.length;U++){var Q=H[U],J=w[Q],ee=Q+".hovermode";k[ee]=J.hovermode,I[ee]=!1;for(var R=0;R<3;R++){var G=F[R],B=Q+"."+G+".showspikes";I[B]=!1,k[B]=J[G].showspikes}}C._previousVal=k}return I}function y(d,x){var C=v(d,x);t.call("_guiRelayout",d,C)}l.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:m},l.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:m},l.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return s(d,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:m},l.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:A};function m(d,x){for(var C=x.currentTarget,E=C.getAttribute("data-attr"),w=C.getAttribute("data-val")||!0,H=d._fullLayout,F=H._subplots.geo||[],k=0;k<F.length;k++){var I=F[k],U=H[I];if(E==="zoom"){var Q=U.projection.scale,J=w==="in"?2*Q:.5*Q;t.call("_guiRelayout",d,I+".projection.scale",J)}}E==="reset"&&T(d,"geo")}l.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:A},l.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:A};function L(d){var x=d._fullLayout;return x.hovermode?!1:x._has("cartesian")?x._isHoriz?"y":"x":"closest"}function A(d){var x=L(d);t.call("_guiRelayout",d,"hovermode",x)}l.resetViewSankey={name:"resetSankeyGroup",title:function(d){return s(d,"Reset view")},icon:a.home,click:function(d){for(var x={"node.groups":[],"node.x":[],"node.y":[]},C=0;C<d._fullData.length;C++){var E=d._fullData[C]._viewInitial;x["node.groups"].push(E.node.groups.slice()),x["node.x"].push(E.node.x.slice()),x["node.y"].push(E.node.y.slice())}t.call("restyle",d,x)}},l.toggleHover={name:"toggleHover",title:function(d){return s(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(d,x){var C=v(d,x);C.hovermode=L(d),t.call("_guiRelayout",d,C)}},l.resetViews={name:"resetViews",title:function(d){return s(d,"Reset views")},icon:a.home,click:function(d,x){var C=x.currentTarget;C.setAttribute("data-attr","zoom"),C.setAttribute("data-val","reset"),r(d,x),C.setAttribute("data-attr","resetLastSave"),h(d,x),T(d,"geo"),T(d,"mapbox")}},l.toggleSpikelines={name:"toggleSpikelines",title:function(d){return s(d,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var x=d._fullLayout,C=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=C==="on"?"off":"on",t.call("_guiRelayout",d,M(d))}};function M(d){for(var x=d._fullLayout,C=x._cartesianSpikesEnabled==="on",E=o.list(d,null,!0),w={},H=0;H<E.length;H++){var F=E[H];w[F._name+".showspikes"]=C?!0:F._showSpikeInitial}return w}l.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return s(d,"Reset view")},attr:"reset",icon:a.home,click:function(d){T(d,"mapbox")}},l.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return s(d,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:p},l.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return s(d,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:p};function p(d,x){for(var C=x.currentTarget,E=C.getAttribute("data-val"),w=d._fullLayout,H=w._subplots.mapbox||[],F=1.05,k={},I=0;I<H.length;I++){var U=H[I],Q=w[U].zoom,J=E==="in"?F*Q:Q/F;k[U+".zoom"]=J}t.call("_guiRelayout",d,k)}function T(d,x){for(var C=d._fullLayout,E=C._subplots[x]||[],w={},H=0;H<E.length;H++)for(var F=E[H],k=C[F]._subplot,I=k.viewInitial,U=Object.keys(I),Q=0;Q<U.length;Q++){var J=U[Q];w[F+"."+J]=I[J]}t.call("_guiRelayout",d,w)}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(f,ae,W){var t=f("./buttons"),n=Object.keys(t),o=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(o),e=[],u=function(s){if(a.indexOf(s._cat||s.name)===-1){var l=s.name,r=(s._cat||s.name).toLowerCase();e.indexOf(l)===-1&&e.push(l),e.indexOf(r)===-1&&e.push(r)}};n.forEach(function(s){u(t[s])}),e.sort(),ae.exports={DRAW_MODES:o,backButtons:a,foreButtons:e}},{"./buttons":162}],164:[function(f,ae,W){var t=f("../../lib"),n=f("../color"),o=f("../../plot_api/plot_template"),a=f("./attributes");ae.exports=function(u,s){var l=u.modebar||{},r=o.newContainer(s,"modebar");function c(v,y){return t.coerce(l,r,a,v,y)}c("orientation"),c("bgcolor",n.addOpacity(s.paper_bgcolor,.5));var h=n.contrast(n.rgb(s.modebar.bgcolor));c("color",n.addOpacity(h,.3)),c("activecolor",n.addOpacity(h,.7)),c("uirevision",s.uirevision),c("add"),c("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(f,ae,W){ae.exports={moduleType:"component",name:"modebar",layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),manage:f("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(f,ae,W){var t=f("../../plots/cartesian/axis_ids"),n=f("../../traces/scatter/subtypes"),o=f("../../registry"),a=f("../fx/helpers").isUnifiedHover,e=f("./modebar"),u=f("./buttons"),s=f("./constants").DRAW_MODES,l=f("../../lib").extendDeep;ae.exports=function(A){var M=A._fullLayout,p=A._context,T=M._modeBar;if(!p.displayModeBar&&!p.watermark){T&&(T.destroy(),delete M._modeBar);return}if(!Array.isArray(p.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(p.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=p.modeBarButtons,x;Array.isArray(d)&&d.length?x=m(d):!p.displayModeBar&&p.watermark?x=[]:x=r(A),T?T.update(A,x):M._modeBar=e(A,x)};function r(L){var A=L._fullLayout,M=L._fullData,p=L._context;function T(_,O){if(typeof O=="string"){if(O.toLowerCase()===_.toLowerCase())return!0}else{var N=O.name,P=O._cat||O.name;if(N===_||P===_.toLowerCase())return!0}return!1}var d=A.modebar.add;typeof d=="string"&&(d=[d]);var x=A.modebar.remove;typeof x=="string"&&(x=[x]);var C=p.modeBarButtonsToAdd.concat(d.filter(function(_){for(var O=0;O<p.modeBarButtonsToRemove.length;O++)if(T(_,p.modeBarButtonsToRemove[O]))return!1;return!0})),E=p.modeBarButtonsToRemove.concat(x.filter(function(_){for(var O=0;O<p.modeBarButtonsToAdd.length;O++)if(T(_,p.modeBarButtonsToAdd[O]))return!1;return!0})),w=A._has("cartesian"),H=A._has("gl3d"),F=A._has("geo"),k=A._has("pie"),I=A._has("funnelarea"),U=A._has("gl2d"),Q=A._has("ternary"),J=A._has("mapbox"),ee=A._has("polar"),R=A._has("smith"),G=A._has("sankey"),B=c(A),te=a(A.hovermode),ne=[];function oe(_){if(!!_.length){for(var O=[],N=0;N<_.length;N++){for(var P=_[N],j=u[P],se=j.name.toLowerCase(),ce=(j._cat||j.name).toLowerCase(),fe=!1,pe=0;pe<E.length;pe++){var be=E[pe].toLowerCase();if(be===se||be===ce){fe=!0;break}}fe||O.push(u[P])}ne.push(O)}}var me=["toImage"];p.showEditInChartStudio?me.push("editInChartStudio"):p.showSendToCloud&&me.push("sendDataToCloud"),oe(me);var de=[],ie=[],Z=[],q=[];(w||U||k||I||Q)+F+H+J+ee+R>1?(ie=["toggleHover"],Z=["resetViews"]):F?(de=["zoomInGeo","zoomOutGeo"],ie=["hoverClosestGeo"],Z=["resetGeo"]):H?(ie=["hoverClosest3d"],Z=["resetCameraDefault3d","resetCameraLastSave3d"]):J?(de=["zoomInMapbox","zoomOutMapbox"],ie=["toggleHover"],Z=["resetViewMapbox"]):U?ie=["hoverClosestGl2d"]:k?ie=["hoverClosestPie"]:G?(ie=["hoverClosestCartesian","hoverCompareCartesian"],Z=["resetViewSankey"]):ie=["toggleHover"],w&&(ie=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(v(M)||te)&&(ie=[]),(w||U)&&!B&&(de=["zoomIn2d","zoomOut2d","autoScale2d"],Z[0]!=="resetViews"&&(Z=["resetScale2d"])),H?q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(w||U)&&!B||Q?q=["zoom2d","pan2d"]:J||F?q=["pan2d"]:ee&&(q=["zoom2d"]),h(M)&&q.push("select2d","lasso2d");var K=[],g=function(_){K.indexOf(_)===-1&&ie.indexOf(_)!==-1&&K.push(_)};if(Array.isArray(C)){for(var S=[],Y=0;Y<C.length;Y++){var z=C[Y];typeof z=="string"?(z=z.toLowerCase(),s.indexOf(z)!==-1?(A._has("mapbox")||A._has("cartesian"))&&q.push(z):z==="togglespikelines"?g("toggleSpikelines"):z==="togglehover"?g("toggleHover"):z==="hovercompare"?g("hoverCompareCartesian"):z==="hoverclosest"?(g("hoverClosestCartesian"),g("hoverClosestGeo"),g("hoverClosest3d"),g("hoverClosestGl2d"),g("hoverClosestPie")):z==="v1hovermode"&&(g("toggleHover"),g("hoverClosestCartesian"),g("hoverCompareCartesian"),g("hoverClosestGeo"),g("hoverClosest3d"),g("hoverClosestGl2d"),g("hoverClosestPie"))):S.push(z)}C=S}return oe(q),oe(de.concat(Z)),oe(K),y(ne,C)}function c(L){for(var A=t.list({_fullLayout:L},null,!0),M=0;M<A.length;M++)if(!A[M].fixedrange)return!1;return!0}function h(L){for(var A=!1,M=0;M<L.length&&!A;M++){var p=L[M];!p._module||!p._module.selectPoints||(o.traceIs(p,"scatter-like")?(n.hasMarkers(p)||n.hasText(p))&&(A=!0):o.traceIs(p,"box-violin")?(p.boxpoints==="all"||p.points==="all")&&(A=!0):A=!0)}return A}function v(L){for(var A=0;A<L.length;A++)if(!o.traceIs(L[A],"noHover"))return!1;return!0}function y(L,A){if(A.length)if(Array.isArray(A[0]))for(var M=0;M<A.length;M++)L.push(A[M]);else L.push(A);return L}function m(L){for(var A=l([],L),M=0;M<A.length;M++)for(var p=A[M],T=0;T<p.length;T++){var d=p[T];if(typeof d=="string")if(u[d]!==void 0)A[M][T]=u[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return A}},{"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../../lib"),a=f("../../fonts/ploticon"),e=f("../../version").version,u=new DOMParser;function s(h){this.container=h.container,this.element=document.createElement("div"),this.update(h.graphInfo,h.buttons),this.container.appendChild(this.element)}var l=s.prototype;l.update=function(h,v){this.graphInfo=h;var y=this.graphInfo._context,m=this.graphInfo._fullLayout,L="modebar-"+m._uid;this.element.setAttribute("id",L),this._uid=L,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),m.modebar.orientation==="v"&&(this.element.className+=" vertical",v=v.reverse());var A=m.modebar,M=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(L),o.addRelatedStyleRule(L,M+"#"+L+" .modebar-group","background-color: "+A.bgcolor),o.addRelatedStyleRule(L,"#"+L+" .modebar-btn .icon path","fill: "+A.color),o.addRelatedStyleRule(L,"#"+L+" .modebar-btn:hover .icon path","fill: "+A.activecolor),o.addRelatedStyleRule(L,"#"+L+" .modebar-btn.active .icon path","fill: "+A.activecolor);var p=!this.hasButtons(v),T=this.hasLogo!==y.displaylogo,d=this.locale!==y.locale;if(this.locale=y.locale,(p||T||d)&&(this.removeAllButtons(),this.updateButtons(v),y.watermark||y.displaylogo)){var x=this.getLogo();y.watermark&&(x.className=x.className+" watermark"),m.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},l.updateButtons=function(h){var v=this;this.buttons=h,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var m=v.createGroup();y.forEach(function(L){var A=L.name;if(!A)throw new Error("must provide button 'name' in button config");if(v.buttonsNames.indexOf(A)!==-1)throw new Error("button name '"+A+"' is taken");v.buttonsNames.push(A);var M=v.createButton(L);v.buttonElements.push(M),m.appendChild(M)}),v.element.appendChild(m)})},l.createGroup=function(){var h=document.createElement("div");return h.className="modebar-group",h},l.createButton=function(h){var v=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var m=h.title;m===void 0?m=h.name:typeof m=="function"&&(m=m(this.graphInfo)),(m||m===0)&&y.setAttribute("data-title",m),h.attr!==void 0&&y.setAttribute("data-attr",h.attr);var L=h.val;L!==void 0&&(typeof L=="function"&&(L=L(this.graphInfo)),y.setAttribute("data-val",L));var A=h.click;if(typeof A!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(p){h.click(v.graphInfo,p),v.updateActiveButton(p.currentTarget)}),y.setAttribute("data-toggle",h.toggle||!1),h.toggle&&t.select(y).classed("active",!0);var M=h.icon;return typeof M=="function"?y.appendChild(M()):y.appendChild(this.createIcon(M||a.question)),y.setAttribute("data-gravity",h.gravity||"n"),y},l.createIcon=function(h){var v=n(h.height)?Number(h.height):h.ascent-h.descent,y="http://www.w3.org/2000/svg",m;if(h.path){m=document.createElementNS(y,"svg"),m.setAttribute("viewBox",[0,0,h.width,v].join(" ")),m.setAttribute("class","icon");var L=document.createElementNS(y,"path");L.setAttribute("d",h.path),h.transform?L.setAttribute("transform",h.transform):h.ascent!==void 0&&L.setAttribute("transform","matrix(1 0 0 -1 0 "+h.ascent+")"),m.appendChild(L)}if(h.svg){var A=u.parseFromString(h.svg,"application/xml");m=A.childNodes[0]}return m.setAttribute("height","1em"),m.setAttribute("width","1em"),m},l.updateActiveButton=function(h){var v=this.graphInfo._fullLayout,y=h!==void 0?h.getAttribute("data-attr"):null;this.buttonElements.forEach(function(m){var L=m.getAttribute("data-val")||!0,A=m.getAttribute("data-attr"),M=m.getAttribute("data-toggle")==="true",p=t.select(m);if(M)A===y&&p.classed("active",!p.classed("active"));else{var T=A===null?A:o.nestedProperty(v,A).get();p.classed("active",T===L)}})},l.hasButtons=function(h){var v=this.buttons;if(!v||h.length!==v.length)return!1;for(var y=0;y<h.length;++y){if(h[y].length!==v[y].length)return!1;for(var m=0;m<h[y].length;m++)if(h[y][m].name!==v[y][m].name)return!1}return!0};function r(h){return h+" (v"+e+")"}l.getLogo=function(){var h=this.createGroup(),v=document.createElement("a");return v.href="https://plotly.com/",v.target="_blank",v.setAttribute("data-title",r(o._(this.graphInfo,"Produced with Plotly.js"))),v.className="modebar-btn plotlyjsicon modebar-btn--logo",v.appendChild(this.createIcon(a.newplotlylogo)),h.appendChild(v),h},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)};function c(h,v){var y=h._fullLayout,m=new s({graphInfo:h,container:y._modebardiv.node(),buttons:v});return y._privateplot&&t.select(m.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),m}ae.exports=c},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(f,ae,W){var t=f("../../plots/font_attributes"),n=f("../color/attributes"),o=f("../../plot_api/plot_template").templatedArray,a=o("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ae.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:t({editType:"plot"}),bgcolor:{valType:"color",dflt:n.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(f,ae,W){ae.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(f,ae,W){var t=f("../../lib"),n=f("../color"),o=f("../../plot_api/plot_template"),a=f("../../plots/array_container_defaults"),e=f("./attributes"),u=f("./constants");ae.exports=function(c,h,v,y,m){var L=c.rangeselector||{},A=o.newContainer(h,"rangeselector");function M(C,E){return t.coerce(L,A,e,C,E)}var p=a(L,A,{name:"buttons",handleItemDefaults:s,calendar:m}),T=M("visible",p.length>0);if(T){var d=l(h,v,y);M("x",d[0]),M("y",d[1]),t.noneOrAll(c,h,["x","y"]),M("xanchor"),M("yanchor"),t.coerceFont(M,"font",v.font);var x=M("bgcolor");M("activecolor",n.contrast(x,u.lightAmount,u.darkAmount)),M("bordercolor"),M("borderwidth")}};function s(r,c,h,v){var y=v.calendar;function m(M,p){return t.coerce(r,c,e.buttons,M,p)}var L=m("visible");if(L){var A=m("step");A!=="all"&&(y&&y!=="gregorian"&&(A==="month"||A==="year")?c.stepmode="backward":m("stepmode"),m("count")),m("label")}}function l(r,c,h){for(var v=h.filter(function(A){return c[A].anchor===r._id}),y=0,m=0;m<v.length;m++){var L=c[v[m]].domain;L&&(y=Math.max(L[1],y))}return[r.domain[0],y+u.yPad]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../plots/plots"),a=f("../color"),e=f("../drawing"),u=f("../../lib"),s=u.strTranslate,l=f("../../lib/svg_text_utils"),r=f("../../plots/cartesian/axis_ids"),c=f("../../constants/alignment"),h=c.LINE_SPACING,v=c.FROM_TL,y=c.FROM_BR,m=f("./constants"),L=f("./get_update_object");ae.exports=function(H){var F=H._fullLayout,k=F._infolayer.selectAll(".rangeselector").data(A(H),M);k.enter().append("g").classed("rangeselector",!0),k.exit().remove(),k.style({cursor:"pointer","pointer-events":"all"}),k.each(function(I){var U=t.select(this),Q=I,J=Q.rangeselector,ee=U.selectAll("g.button").data(u.filterVisible(J.buttons));ee.enter().append("g").classed("button",!0),ee.exit().remove(),ee.each(function(R){var G=t.select(this),B=L(Q,R);R._isActive=p(Q,R,B),G.call(T,J,R),G.call(x,J,R,H),G.on("click",function(){H._dragged||n.call("_guiRelayout",H,B)}),G.on("mouseover",function(){R._isHovered=!0,G.call(T,J,R)}),G.on("mouseout",function(){R._isHovered=!1,G.call(T,J,R)})}),E(H,ee,J,Q._name,U)})};function A(w){for(var H=r.list(w,"x",!0),F=[],k=0;k<H.length;k++){var I=H[k];I.rangeselector&&I.rangeselector.visible&&F.push(I)}return F}function M(w){return w._id}function p(w,H,F){if(H.step==="all")return w.autorange===!0;var k=Object.keys(F);return w.range[0]===F[k[0]]&&w.range[1]===F[k[1]]}function T(w,H,F){var k=u.ensureSingle(w,"rect","selector-rect",function(I){I.attr("shape-rendering","crispEdges")});k.attr({rx:m.rx,ry:m.ry}),k.call(a.stroke,H.bordercolor).call(a.fill,d(H,F)).style("stroke-width",H.borderwidth+"px")}function d(w,H){return H._isActive||H._isHovered?w.activecolor:w.bgcolor}function x(w,H,F,k){function I(Q){l.convertToTspans(Q,k)}var U=u.ensureSingle(w,"text","selector-text",function(Q){Q.attr("text-anchor","middle")});U.call(e.font,H.font).text(C(F,k._fullLayout._meta)).call(I)}function C(w,H){return w.label?H?u.templateString(w.label,H):w.label:w.step==="all"?"all":w.count+w.step.charAt(0)}function E(w,H,F,k,I){var U=0,Q=0,J=F.borderwidth;H.each(function(){var ne=t.select(this),oe=ne.select(".selector-text"),me=F.font.size*h,de=Math.max(me*l.lineCount(oe),16)+3;Q=Math.max(Q,de)}),H.each(function(){var ne=t.select(this),oe=ne.select(".selector-rect"),me=ne.select(".selector-text"),de=me.node()&&e.bBox(me.node()).width,ie=F.font.size*h,Z=l.lineCount(me),q=Math.max(de+10,m.minButtonWidth);ne.attr("transform",s(J+U,J)),oe.attr({x:0,y:0,width:q,height:Q}),l.positionText(me,q/2,Q/2-(Z-1)*ie/2+3),U+=q+5});var ee=w._fullLayout._size,R=ee.l+ee.w*F.x,G=ee.t+ee.h*(1-F.y),B="left";u.isRightAnchor(F)&&(R-=U,B="right"),u.isCenterAnchor(F)&&(R-=U/2,B="center");var te="top";u.isBottomAnchor(F)&&(G-=Q,te="bottom"),u.isMiddleAnchor(F)&&(G-=Q/2,te="middle"),U=Math.ceil(U),Q=Math.ceil(Q),R=Math.round(R),G=Math.round(G),o.autoMargin(w,k+"-range-selector",{x:F.x,y:F.y,l:U*v[B],r:U*y[B],b:Q*y[te],t:Q*v[te]}),I.attr("transform",s(R,G))}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(f,ae,W){var t=f("d3-time"),n=f("../../lib").titleCase;ae.exports=function(e,u){var s=e._name,l={};if(u.step==="all")l[s+".autorange"]=!0;else{var r=o(e,u);l[s+".range[0]"]=r[0],l[s+".range[1]"]=r[1]}return l};function o(a,e){var u=a.range,s=new Date(a.r2l(u[1])),l=e.step,r=t["utc"+n(l)],c=e.count,h;switch(e.stepmode){case"backward":h=a.l2r(+r.offset(s,-c));break;case"todate":var v=r.offset(s,-c);h=a.l2r(+r.ceil(v));break}var y=u[1];return[h,y]}},{"../../lib":232,"d3-time":16}],173:[function(f,ae,W){ae.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:f("./attributes")}}},layoutAttributes:f("./attributes"),handleDefaults:f("./defaults"),draw:f("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(f,ae,W){var t=f("../color/attributes");ae.exports={bgcolor:{valType:"color",dflt:t.background,editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(f,ae,W){var t=f("../../plots/cartesian/axis_ids").list,n=f("../../plots/cartesian/autorange").getAutoRange,o=f("./constants");ae.exports=function(e){for(var u=t(e,"x",!0),s=0;s<u.length;s++){var l=u[s],r=l[o.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=n(e,l))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(f,ae,W){ae.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(f,ae,W){var t=f("../../lib"),n=f("../../plot_api/plot_template"),o=f("../../plots/cartesian/axis_ids"),a=f("./attributes"),e=f("./oppaxis_attributes");ae.exports=function(s,l,r){var c=s[r],h=l[r];if(!(c.rangeslider||l._requestRangeslider[h._id]))return;t.isPlainObject(c.rangeslider)||(c.rangeslider={});var v=c.rangeslider,y=n.newContainer(h,"rangeslider");function m(k,I){return t.coerce(v,y,a,k,I)}var L,A;function M(k,I){return t.coerce(L,A,e,k,I)}var p=m("visible");if(!!p){m("bgcolor",l.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!h.isValidRange(v.range)),m("range");var T=l._subplots;if(T)for(var d=T.cartesian.filter(function(k){return k.substr(0,k.indexOf("y"))===o.name2id(r)}).map(function(k){return k.substr(k.indexOf("y"),k.length)}),x=t.simpleMap(d,o.id2name),C=0;C<x.length;C++){var E=x[C];L=v[E]||{},A=n.newContainer(y,E,"yaxis");var w=l[E],H;L.range&&w.isValidRange(L.range)&&(H="fixed");var F=M("rangemode",H);F!=="match"&&M("range",w.range.slice())}y._input=v}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../plots/plots"),a=f("../../lib"),e=a.strTranslate,u=f("../drawing"),s=f("../color"),l=f("../titles"),r=f("../../plots/cartesian"),c=f("../../plots/cartesian/axis_ids"),h=f("../dragelement"),v=f("../../lib/setcursor"),y=f("./constants");ae.exports=function(w){for(var H=w._fullLayout,F=H._rangeSliderData,k=0;k<F.length;k++){var I=F[k][y.name];I._clipId=I._id+"-"+H._uid}function U(J){return J._name}var Q=H._infolayer.selectAll("g."+y.containerClassName).data(F,U);Q.exit().each(function(J){var ee=J[y.name];H._topdefs.select("#"+ee._clipId).remove()}).remove(),F.length!==0&&(Q.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),Q.each(function(J){var ee=t.select(this),R=J[y.name],G=H[c.id2name(J.anchor)],B=R[c.id2name(J.anchor)];if(R.range){var te=a.simpleMap(R.range,J.r2l),ne=a.simpleMap(J.range,J.r2l),oe;ne[0]<ne[1]?oe=[Math.min(te[0],ne[0]),Math.max(te[1],ne[1])]:oe=[Math.max(te[0],ne[0]),Math.min(te[1],ne[1])],R.range=R._input.range=a.simpleMap(oe,J.l2r)}J.cleanRange("rangeslider.range");var me=H._size,de=J.domain;R._width=me.w*(de[1]-de[0]);var ie=Math.round(me.l+me.w*de[0]),Z=Math.round(me.t+me.h*(1-J._counterDomainMin)+(J.side==="bottom"?J._depth:0)+R._offsetShift+y.extraPad);ee.attr("transform",e(ie,Z)),R._rl=a.simpleMap(R.range,J.r2l);var q=R._rl[0],K=R._rl[1],g=K-q;if(R.p2d=function(ce){return ce/R._width*g+q},R.d2p=function(ce){return(ce-q)/g*R._width},J.rangebreaks){var S=J.locateBreaks(q,K);if(S.length){var Y,z,_=0;for(Y=0;Y<S.length;Y++)z=S[Y],_+=z.max-z.min;var O=R._width/(K-q-_),N=[-O*q];for(Y=0;Y<S.length;Y++)z=S[Y],N.push(N[N.length-1]-O*(z.max-z.min));for(R.d2p=function(ce){for(var fe=N[0],pe=0;pe<S.length;pe++){var be=S[pe];if(ce>=be.max)fe=N[pe+1];else if(ce<be.min)break}return fe+O*ce},Y=0;Y<S.length;Y++)z=S[Y],z.pmin=R.d2p(z.min),z.pmax=R.d2p(z.max);R.p2d=function(ce){for(var fe=N[0],pe=0;pe<S.length;pe++){var be=S[pe];if(ce>=be.pmax)fe=N[pe+1];else if(ce<be.pmin)break}return(ce-fe)/O}}}if(B.rangemode!=="match"){var P=G.r2l(B.range[0]),j=G.r2l(B.range[1]),se=j-P;R.d2pOppAxis=function(ce){return(ce-P)/se*R._height}}ee.call(M,w,J,R).call(p,w,J,R).call(T,w,J,R).call(x,w,J,R,B).call(C,w,J,R).call(E,w,J,R),m(ee,w,J,R),A(ee,w,J,R,G,B),J.side==="bottom"&&l.draw(w,J._id+"title",{propContainer:J,propName:J._name+".title",placeholder:H._dfltTitle.x,attributes:{x:J._offset+J._length/2,y:Z+R._height+R._offsetShift+10+1.5*J.title.font.size,"text-anchor":"middle"}})}))};function m(w,H,F,k){if(H._context.staticPlot)return;var I=w.select("rect."+y.slideBoxClassName).node(),U=w.select("rect."+y.grabAreaMinClassName).node(),Q=w.select("rect."+y.grabAreaMaxClassName).node();function J(){var ee=t.event,R=ee.target,G=ee.clientX||ee.touches[0].clientX,B=G-w.node().getBoundingClientRect().left,te=k.d2p(F._rl[0]),ne=k.d2p(F._rl[1]),oe=h.coverSlip();this.addEventListener("touchmove",me),this.addEventListener("touchend",de),oe.addEventListener("mousemove",me),oe.addEventListener("mouseup",de);function me(ie){var Z=ie.clientX||ie.touches[0].clientX,q=+Z-G,K,g,S;switch(R){case I:S="ew-resize",K=te+q,g=ne+q;break;case U:S="col-resize",K=te+q,g=ne;break;case Q:S="col-resize",K=te,g=ne+q;break;default:S="ew-resize",K=B,g=B+q;break}if(g<K){var Y=g;g=K,K=Y}k._pixelMin=K,k._pixelMax=g,v(t.select(oe),S),L(w,H,F,k)}function de(){oe.removeEventListener("mousemove",me),oe.removeEventListener("mouseup",de),this.removeEventListener("touchmove",me),this.removeEventListener("touchend",de),a.removeElement(oe)}}w.on("mousedown",J),w.on("touchstart",J)}function L(w,H,F,k){function I(J){return F.l2r(a.constrain(J,k._rl[0],k._rl[1]))}var U=I(k.p2d(k._pixelMin)),Q=I(k.p2d(k._pixelMax));window.requestAnimationFrame(function(){n.call("_guiRelayout",H,F._name+".range",[U,Q])})}function A(w,H,F,k,I,U){var Q=y.handleWidth/2;function J(ie){return a.constrain(ie,0,k._width)}function ee(ie){return a.constrain(ie,0,k._height)}function R(ie){return a.constrain(ie,-Q,k._width+Q)}var G=J(k.d2p(F._rl[0])),B=J(k.d2p(F._rl[1]));if(w.select("rect."+y.slideBoxClassName).attr("x",G).attr("width",B-G),w.select("rect."+y.maskMinClassName).attr("width",G),w.select("rect."+y.maskMaxClassName).attr("x",B).attr("width",k._width-B),U.rangemode!=="match"){var te=k._height-ee(k.d2pOppAxis(I._rl[1])),ne=k._height-ee(k.d2pOppAxis(I._rl[0]));w.select("rect."+y.maskMinOppAxisClassName).attr("x",G).attr("height",te).attr("width",B-G),w.select("rect."+y.maskMaxOppAxisClassName).attr("x",G).attr("y",ne).attr("height",k._height-ne).attr("width",B-G),w.select("rect."+y.slideBoxClassName).attr("y",te).attr("height",ne-te)}var oe=.5,me=Math.round(R(G-Q))-oe,de=Math.round(R(B-Q))+oe;w.select("g."+y.grabberMinClassName).attr("transform",e(me,oe)),w.select("g."+y.grabberMaxClassName).attr("transform",e(de,oe))}function M(w,H,F,k){var I=a.ensureSingle(w,"rect",y.bgClassName,function(ee){ee.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),U=k.borderwidth%2===0?k.borderwidth:k.borderwidth-1,Q=-k._offsetShift,J=u.crispRound(H,k.borderwidth);I.attr({width:k._width+U,height:k._height+U,transform:e(Q,Q),fill:k.bgcolor,stroke:k.bordercolor,"stroke-width":J})}function p(w,H,F,k){var I=H._fullLayout,U=a.ensureSingleById(I._topdefs,"clipPath",k._clipId,function(Q){Q.append("rect").attr({x:0,y:0})});U.select("rect").attr({width:k._width,height:k._height})}function T(w,H,F,k){var I=H.calcdata,U=w.selectAll("g."+y.rangePlotClassName).data(F._subplotsWith,a.identity);U.enter().append("g").attr("class",function(J){return y.rangePlotClassName+" "+J}).call(u.setClipUrl,k._clipId,H),U.order(),U.exit().remove();var Q;U.each(function(J,ee){var R=t.select(this),G=ee===0,B=c.getFromId(H,J,"y"),te=B._name,ne=k[te],oe={data:[],layout:{xaxis:{type:F.type,domain:[0,1],range:k.range.slice(),calendar:F.calendar},width:k._width,height:k._height,margin:{t:0,b:0,l:0,r:0}},_context:H._context};F.rangebreaks&&(oe.layout.xaxis.rangebreaks=F.rangebreaks),oe.layout[te]={type:B.type,domain:[0,1],range:ne.rangemode!=="match"?ne.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(oe.layout[te].rangebreaks=B.rangebreaks),o.supplyDefaults(oe);var me=oe._fullLayout.xaxis,de=oe._fullLayout[te];me.clearCalc(),me.setScale(),de.clearCalc(),de.setScale();var ie={id:J,plotgroup:R,xaxis:me,yaxis:de,isRangePlot:!0};G?Q=ie:(ie.mainplot="xy",ie.mainplotinfo=Q),r.rangePlot(H,ie,d(I,J))})}function d(w,H){for(var F=[],k=0;k<w.length;k++){var I=w[k],U=I[0].trace;U.xaxis+U.yaxis===H&&F.push(I)}return F}function x(w,H,F,k,I){var U=a.ensureSingle(w,"rect",y.maskMinClassName,function(R){R.attr({x:0,y:0,"shape-rendering":"crispEdges"})});U.attr("height",k._height).call(s.fill,y.maskColor);var Q=a.ensureSingle(w,"rect",y.maskMaxClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});if(Q.attr("height",k._height).call(s.fill,y.maskColor),I.rangemode!=="match"){var J=a.ensureSingle(w,"rect",y.maskMinOppAxisClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});J.attr("width",k._width).call(s.fill,y.maskOppAxisColor);var ee=a.ensureSingle(w,"rect",y.maskMaxOppAxisClassName,function(R){R.attr({y:0,"shape-rendering":"crispEdges"})});ee.attr("width",k._width).style("border-top",y.maskOppBorder).call(s.fill,y.maskOppAxisColor)}}function C(w,H,F,k){if(!H._context.staticPlot){var I=a.ensureSingle(w,"rect",y.slideBoxClassName,function(U){U.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})});I.attr({height:k._height,fill:y.slideBoxFill})}}function E(w,H,F,k){var I=a.ensureSingle(w,"g",y.grabberMinClassName),U=a.ensureSingle(w,"g",y.grabberMaxClassName),Q={x:0,width:y.handleWidth,rx:y.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},J={y:Math.round(k._height/4),height:Math.round(k._height/2)},ee=a.ensureSingle(I,"rect",y.handleMinClassName,function(ne){ne.attr(Q)});ee.attr(J);var R=a.ensureSingle(U,"rect",y.handleMaxClassName,function(ne){ne.attr(Q)});R.attr(J);var G={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:H._context.staticPlot?void 0:y.grabAreaCursor},B=a.ensureSingle(I,"rect",y.grabAreaMinClassName,function(ne){ne.attr(G)});B.attr("height",k._height);var te=a.ensureSingle(U,"rect",y.grabAreaMaxClassName,function(ne){ne.attr(G)});te.attr("height",k._height)}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(f,ae,W){var t=f("../../plots/cartesian/axis_ids"),n=f("../../lib/svg_text_utils"),o=f("./constants"),a=f("../../constants/alignment").LINE_SPACING,e=o.name;function u(s){var l=s&&s[e];return l&&l.visible}W.isVisible=u,W.makeData=function(s){var l=t.list({_fullLayout:s},"x",!0),r=s.margin,c=[];if(!s._has("gl2d"))for(var h=0;h<l.length;h++){var v=l[h];if(u(v)){c.push(v);var y=v[e];y._id=e+v._id,y._height=(s.height-r.b-r.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}s._rangeSliderData=c},W.autoMarginOpts=function(s,l){var r=s._fullLayout,c=l[e],h=l._id.charAt(0),v=0,y=0;if(l.side==="bottom"&&(v=l._depth,l.title.text!==r._dfltTitle[h])){y=1.5*l.title.font.size+10+c._offsetShift;var m=(l.title.text.match(n.BR_TAG_ALL)||[]).length;y+=m*l.title.font.size*a}return{x:0,y:l._counterDomainMin,l:0,r:0,t:0,b:c._height+v+Math.max(r.margin.b,y),pad:o.extraPad+c._offsetShift*2}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(f,ae,W){var t=f("../../lib"),n=f("./attributes"),o=f("./oppaxis_attributes"),a=f("./helpers");ae.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:t.extendFlat({},n,{yaxis:o})}}},layoutAttributes:f("./attributes"),handleDefaults:f("./defaults"),calcAutorange:f("./calc_autorange"),draw:f("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(f,ae,W){ae.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(f,ae,W){var t=f("../annotations/attributes"),n=f("../../traces/scatter/attributes").line,o=f("../drawing/attributes").dash,a=f("../../lib/extend").extendFlat,e=f("../../plot_api/plot_template").templatedArray;f("../../constants/axis_placeable_objects"),ae.exports=e("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},t.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},t.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},n.color,{editType:"arraydraw"}),width:a({},n.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("./constants"),a=f("./helpers");ae.exports=function(c){var h=c._fullLayout,v=t.filterVisible(h.shapes);if(!(!v.length||!c._fullData.length))for(var y=0;y<v.length;y++){var m=v[y];m._extremes={};var L,A,M=n.getRefType(m.xref),p=n.getRefType(m.yref);if(m.xref!=="paper"&&M!=="domain"){var T=m.xsizemode==="pixel"?m.xanchor:m.x0,d=m.xsizemode==="pixel"?m.xanchor:m.x1;L=n.getFromId(c,m.xref),A=l(L,T,d,m.path,o.paramIsX),A&&(m._extremes[L._id]=n.findExtremes(L,A,e(m)))}if(m.yref!=="paper"&&p!=="domain"){var x=m.ysizemode==="pixel"?m.yanchor:m.y0,C=m.ysizemode==="pixel"?m.yanchor:m.y1;L=n.getFromId(c,m.yref),A=l(L,x,C,m.path,o.paramIsY),A&&(m._extremes[L._id]=n.findExtremes(L,A,u(m)))}}};function e(r){return s(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function u(r){return s(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function s(r,c,h,v,y,m){var L=r/2,A=m;if(c==="pixel"){var M=y?a.extractPathCoords(y,m?o.paramIsY:o.paramIsX):[h,v],p=t.aggNums(Math.max,null,M),T=t.aggNums(Math.min,null,M),d=T<0?Math.abs(T)+L:L,x=p>0?p+L:L;return{ppad:L,ppadplus:A?d:x,ppadminus:A?x:d}}else return{ppad:L}}function l(r,c,h,v,y){var m=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(c!==void 0)return[m(c),m(h)];if(!!v){var L=1/0,A=-1/0,M=v.match(o.segmentRE),p,T,d,x,C;for(r.type==="date"&&(m=a.decodeDate(m)),p=0;p<M.length;p++)T=M[p],d=y[T.charAt(0)].drawn,d!==void 0&&(x=M[p].substr(1).match(o.paramRE),!(!x||x.length<d)&&(C=m(x[d]),C<L&&(L=C),C>A&&(A=C)));if(A>=L)return[L,A]}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(f,ae,W){ae.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/cartesian/axes"),o=f("../../plots/array_container_defaults"),a=f("./attributes"),e=f("./helpers");ae.exports=function(l,r){o(l,r,{name:"shapes",handleItemDefaults:u})};function u(s,l,r){function c(te,ne){return t.coerce(s,l,a,te,ne)}var h=c("visible");if(!!h){var v=c("path"),y=v?"path":"rect",m=c("type",y);l.type!=="path"&&delete l.path,c("editable"),c("layer"),c("opacity"),c("fillcolor"),c("fillrule");var L=c("line.width");L&&(c("line.color"),c("line.dash"));for(var A=c("xsizemode"),M=c("ysizemode"),p=["x","y"],T=0;T<2;T++){var d=p[T],x=d+"anchor",C=d==="x"?A:M,E={_fullLayout:r},w,H,F,k=n.coerceRef(s,l,E,d,void 0,"paper"),I=n.getRefType(k);if(I==="range"?(w=n.getFromId(E,k),w._shapeIndices.push(l._index),F=e.rangeToShapePosition(w),H=e.shapePositionToRange(w)):H=F=t.identity,m!=="path"){var U=.25,Q=.75,J=d+"0",ee=d+"1",R=s[J],G=s[ee];s[J]=H(s[J],!0),s[ee]=H(s[ee],!0),C==="pixel"?(c(J,0),c(ee,10)):(n.coercePosition(l,E,c,k,J,U),n.coercePosition(l,E,c,k,ee,Q)),l[J]=F(l[J]),l[ee]=F(l[ee]),s[J]=R,s[ee]=G}if(C==="pixel"){var B=s[x];s[x]=H(s[x],!0),n.coercePosition(l,E,c,k,x,.25),l[x]=F(l[x]),s[x]=B}}m==="path"?c("path"):t.noneOrAll(s,l,["x0","x1","y0","y1"])}}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(f,ae,W){var t=f("../../registry"),n=f("../../lib"),o=f("../../plots/cartesian/axes"),a=f("./draw_newshape/helpers").readPaths,e=f("./draw_newshape/display_outlines"),u=f("../../plots/cartesian/handle_outline").clearOutlineControllers,s=f("../color"),l=f("../drawing"),r=f("../../plot_api/plot_template").arrayEditor,c=f("../dragelement"),h=f("../../lib/setcursor"),v=f("./constants"),y=f("./helpers");ae.exports={draw:m,drawOne:M,eraseActiveShape:H};function m(F){var k=F._fullLayout;k._shapeUpperLayer.selectAll("path").remove(),k._shapeLowerLayer.selectAll("path").remove();for(var I in k._plots){var U=k._plots[I].shapelayer;U&&U.selectAll("path").remove()}for(var Q=0;Q<k.shapes.length;Q++)k.shapes[Q].visible&&M(F,Q)}function L(F){return!!F._fullLayout._drawing}function A(F){return!F._context.edits.shapePosition}function M(F,k){F._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+k+'"]').remove();var I=y.makeOptionsAndPlotinfo(F,k),U=I.options,Q=I.plotinfo;if(!U._input||U.visible===!1)return;if(U.layer!=="below")ee(F._fullLayout._shapeUpperLayer);else if(U.xref==="paper"||U.yref==="paper")ee(F._fullLayout._shapeLowerLayer);else if(Q._hadPlotinfo){var J=Q.mainplotinfo||Q;ee(J.shapelayer)}else ee(F._fullLayout._shapeLowerLayer);function ee(R){var G=d(F,U),B={"data-index":k,"fill-rule":U.fillrule,d:G},te=U.opacity,ne=U.fillcolor,oe=U.line.width?U.line.color:"rgba(0,0,0,0)",me=U.line.width,de=U.line.dash;!me&&U.editable===!0&&(me=5,de="solid");var ie=G[G.length-1]!=="Z",Z=A(F)&&U.editable&&F._fullLayout._activeShapeIndex===k;Z&&(ne=ie?"rgba(0,0,0,0)":F._fullLayout.activeshape.fillcolor,te=F._fullLayout.activeshape.opacity);var q=R.append("path").attr(B).style("opacity",te).call(s.stroke,oe).call(s.fill,ne).call(l.dashLine,de,me);p(q,F,U);var K;if((Z||F._context.edits.shapePosition)&&(K=r(F.layout,"shapes",U)),Z){q.style({cursor:"move"});var g={element:q.node(),plotinfo:Q,gd:F,editHelpers:K,isActiveShape:!0},S=a(G,F);e(S,q,g)}else F._context.edits.shapePosition?T(F,q,U,k,R,K):U.editable===!0&&q.style("pointer-events",ie||s.opacity(ne)*te<=.5?"stroke":"all");q.node().addEventListener("click",function(){return E(F,q)})}}function p(F,k,I){var U=(I.xref+I.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(F,U?"clip"+k._fullLayout._uid+U:null,k)}function T(F,k,I,U,Q,J){var ee=10,R=10,G=I.xsizemode==="pixel",B=I.ysizemode==="pixel",te=I.type==="line",ne=I.type==="path",oe=J.modifyItem,me,de,ie,Z,q,K,g,S,Y,z,_,O,N,P,j,se=o.getFromId(F,I.xref),ce=o.getRefType(I.xref),fe=o.getFromId(F,I.yref),pe=o.getRefType(I.yref),be=y.getDataToPixel(F,se,!1,ce),Re=y.getDataToPixel(F,fe,!0,pe),ke=y.getPixelToData(F,se,!1,ce),Oe=y.getPixelToData(F,fe,!0,pe),Be=Ee(),Ae={element:Be.node(),gd:F,prepFn:Ye,doneFn:Xe,clickFn:Je},ge;c.init(Ae),Be.node().onmousemove=xt;function Ee(){return te?Ve():k}function Ve(){var st=10,gt=Math.max(I.line.width,st),Ct=Q.append("g").attr("data-index",U);Ct.append("path").attr("d",k.attr("d")).style({cursor:"move","stroke-width":gt,"stroke-opacity":"0"});var Ce={"fill-opacity":"0"},ze=Math.max(gt/2,st);return Ct.append("circle").attr({"data-line-point":"start-point",cx:G?be(I.xanchor)+I.x0:be(I.x0),cy:B?Re(I.yanchor)-I.y0:Re(I.y0),r:ze}).style(Ce).classed("cursor-grab",!0),Ct.append("circle").attr({"data-line-point":"end-point",cx:G?be(I.xanchor)+I.x1:be(I.x1),cy:B?Re(I.yanchor)-I.y1:Re(I.y1),r:ze}).style(Ce).classed("cursor-grab",!0),Ct}function xt(st){if(L(F)){ge=null;return}if(te)st.target.tagName==="path"?ge="move":ge=st.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var gt=Ae.element.getBoundingClientRect(),Ct=gt.right-gt.left,Ce=gt.bottom-gt.top,ze=st.clientX-gt.left,et=st.clientY-gt.top,ve=!ne&&Ct>ee&&Ce>R&&!st.shiftKey?c.getCursor(ze/Ct,1-et/Ce):"move";h(k,ve),ge=ve.split("-")[0]}}function Ye(st){L(F)||(G&&(q=be(I.xanchor)),B&&(K=Re(I.yanchor)),I.type==="path"?j=I.path:(me=G?I.x0:be(I.x0),de=B?I.y0:Re(I.y0),ie=G?I.x1:be(I.x1),Z=B?I.y1:Re(I.y1)),me<ie?(Y=me,N="x0",z=ie,P="x1"):(Y=ie,N="x1",z=me,P="x0"),!B&&de<Z||B&&de>Z?(g=de,_="y0",S=Z,O="y1"):(g=Z,_="y1",S=de,O="y0"),xt(st),At(Q,I),mt(k,I,F),Ae.moveFn=ge==="move"?ft:yt,Ae.altKey=st.altKey)}function Xe(){L(F)||(h(k),qe(Q),p(k,F,I),t.call("_guiRelayout",F,J.getUpdateObj()))}function Je(){L(F)||qe(Q)}function ft(st,gt){if(I.type==="path"){var Ct=function(et){return et},Ce=Ct,ze=Ct;G?oe("xanchor",I.xanchor=ke(q+st)):(Ce=function(ve){return ke(be(ve)+st)},se&&se.type==="date"&&(Ce=y.encodeDate(Ce))),B?oe("yanchor",I.yanchor=Oe(K+gt)):(ze=function(ve){return Oe(Re(ve)+gt)},fe&&fe.type==="date"&&(ze=y.encodeDate(ze))),oe("path",I.path=C(j,Ce,ze))}else G?oe("xanchor",I.xanchor=ke(q+st)):(oe("x0",I.x0=ke(me+st)),oe("x1",I.x1=ke(ie+st))),B?oe("yanchor",I.yanchor=Oe(K+gt)):(oe("y0",I.y0=Oe(de+gt)),oe("y1",I.y1=Oe(Z+gt)));k.attr("d",d(F,I)),At(Q,I)}function yt(st,gt){if(ne){var Ct=function(wt){return wt},Ce=Ct,ze=Ct;G?oe("xanchor",I.xanchor=ke(q+st)):(Ce=function(Gt){return ke(be(Gt)+st)},se&&se.type==="date"&&(Ce=y.encodeDate(Ce))),B?oe("yanchor",I.yanchor=Oe(K+gt)):(ze=function(Gt){return Oe(Re(Gt)+gt)},fe&&fe.type==="date"&&(ze=y.encodeDate(ze))),oe("path",I.path=C(j,Ce,ze))}else if(te){if(ge==="resize-over-start-point"){var et=me+st,ve=B?de-gt:de+gt;oe("x0",I.x0=G?et:ke(et)),oe("y0",I.y0=B?ve:Oe(ve))}else if(ge==="resize-over-end-point"){var we=ie+st,Me=B?Z-gt:Z+gt;oe("x1",I.x1=G?we:ke(we)),oe("y1",I.y1=B?Me:Oe(Me))}}else{var De=function(wt){return ge.indexOf(wt)!==-1},je=De("n"),We=De("s"),ht=De("w"),vt=De("e"),it=je?g+gt:g,Ze=We?S+gt:S,_t=ht?Y+st:Y,Lt=vt?z+st:z;B&&(je&&(it=g-gt),We&&(Ze=S-gt)),(!B&&Ze-it>R||B&&it-Ze>R)&&(oe(_,I[_]=B?it:Oe(it)),oe(O,I[O]=B?Ze:Oe(Ze))),Lt-_t>ee&&(oe(N,I[N]=G?_t:ke(_t)),oe(P,I[P]=G?Lt:ke(Lt)))}k.attr("d",d(F,I)),At(Q,I)}function At(st,gt){(G||B)&&Ct();function Ct(){var Ce=gt.type!=="path",ze=st.selectAll(".visual-cue").data([0]),et=1;ze.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":et}).classed("visual-cue",!0);var ve=be(G?gt.xanchor:n.midRange(Ce?[gt.x0,gt.x1]:y.extractPathCoords(gt.path,v.paramIsX))),we=Re(B?gt.yanchor:n.midRange(Ce?[gt.y0,gt.y1]:y.extractPathCoords(gt.path,v.paramIsY)));if(ve=y.roundPositionForSharpStrokeRendering(ve,et),we=y.roundPositionForSharpStrokeRendering(we,et),G&&B){var Me="M"+(ve-1-et)+","+(we-1-et)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ze.attr("d",Me)}else if(G){var De="M"+(ve-1-et)+","+(we-9-et)+"v18 h2 v-18 Z";ze.attr("d",De)}else{var je="M"+(ve-9-et)+","+(we-1-et)+"h18 v2 h-18 Z";ze.attr("d",je)}}}function qe(st){st.selectAll(".visual-cue").remove()}function mt(st,gt,Ct){var Ce=gt.xref,ze=gt.yref,et=o.getFromId(Ct,Ce),ve=o.getFromId(Ct,ze),we="";Ce!=="paper"&&!et.autorange&&(we+=Ce),ze!=="paper"&&!ve.autorange&&(we+=ze),l.setClipUrl(st,we?"clip"+Ct._fullLayout._uid+we:null,Ct)}}function d(F,k){var I=k.type,U=o.getRefType(k.xref),Q=o.getRefType(k.yref),J=o.getFromId(F,k.xref),ee=o.getFromId(F,k.yref),R=F._fullLayout._size,G,B,te,ne,oe,me,de,ie;if(J?U==="domain"?B=function(N){return J._offset+J._length*N}:(G=y.shapePositionToRange(J),B=function(N){return J._offset+J.r2p(G(N,!0))}):B=function(N){return R.l+R.w*N},ee?Q==="domain"?ne=function(N){return ee._offset+ee._length*(1-N)}:(te=y.shapePositionToRange(ee),ne=function(N){return ee._offset+ee.r2p(te(N,!0))}):ne=function(N){return R.t+R.h*(1-N)},I==="path")return J&&J.type==="date"&&(B=y.decodeDate(B)),ee&&ee.type==="date"&&(ne=y.decodeDate(ne)),x(k,B,ne);if(k.xsizemode==="pixel"){var Z=B(k.xanchor);oe=Z+k.x0,me=Z+k.x1}else oe=B(k.x0),me=B(k.x1);if(k.ysizemode==="pixel"){var q=ne(k.yanchor);de=q-k.y0,ie=q-k.y1}else de=ne(k.y0),ie=ne(k.y1);if(I==="line")return"M"+oe+","+de+"L"+me+","+ie;if(I==="rect")return"M"+oe+","+de+"H"+me+"V"+ie+"H"+oe+"Z";var K=(oe+me)/2,g=(de+ie)/2,S=Math.abs(K-oe),Y=Math.abs(g-de),z="A"+S+","+Y,_=K+S+","+g,O=K+","+(g-Y);return"M"+_+z+" 0 1,1 "+O+z+" 0 0,1 "+_+"Z"}function x(F,k,I){var U=F.path,Q=F.xsizemode,J=F.ysizemode,ee=F.xanchor,R=F.yanchor;return U.replace(v.segmentRE,function(G){var B=0,te=G.charAt(0),ne=v.paramIsX[te],oe=v.paramIsY[te],me=v.numParams[te],de=G.substr(1).replace(v.paramRE,function(ie){return ne[B]?Q==="pixel"?ie=k(ee)+Number(ie):ie=k(ie):oe[B]&&(J==="pixel"?ie=I(R)-Number(ie):ie=I(ie)),B++,B>me&&(ie="X"),ie});return B>me&&(de=de.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+G)),te+de})}function C(F,k,I){return F.replace(v.segmentRE,function(U){var Q=0,J=U.charAt(0),ee=v.paramIsX[J],R=v.paramIsY[J],G=v.numParams[J],B=U.substr(1).replace(v.paramRE,function(te){return Q>=G||(ee[Q]?te=k(te):R[Q]&&(te=I(te)),Q++),te});return J+B})}function E(F,k){if(!!A(F)){var I=k.node(),U=+I.getAttribute("data-index");if(U>=0){if(U===F._fullLayout._activeShapeIndex){w(F);return}F._fullLayout._activeShapeIndex=U,F._fullLayout._deactivateShape=w,m(F)}}}function w(F){if(!!A(F)){var k=F._fullLayout._activeShapeIndex;k>=0&&(u(F),delete F._fullLayout._activeShapeIndex,m(F))}}function H(F){if(!!A(F)){u(F);var k=F._fullLayout._activeShapeIndex,I=(F.layout||{}).shapes||[];if(k<I.length){for(var U=[],Q=0;Q<I.length;Q++)Q!==k&&U.push(I[Q]);delete F._fullLayout._activeShapeIndex,t.call("_guiRelayout",F,{shapes:U})}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(f,ae,W){var t=f("../../drawing/attributes").dash,n=f("../../../lib/extend").extendFlat;ae.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:n({},t,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(f,ae,W){var t=32;ae.exports={CIRCLE_SIDES:t,i000:0,i090:t/4,i180:t/2,i270:t/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(f,ae,W){var t=f("../../color");ae.exports=function(o,a,e){e("newshape.drawdirection"),e("newshape.layer"),e("newshape.fillcolor"),e("newshape.fillrule"),e("newshape.opacity");var u=e("newshape.line.width");if(u){var s=(o||{}).plot_bgcolor||"#FFF";e("newshape.line.color",t.contrast(s)),e("newshape.line.dash")}e("activeshape.fillcolor"),e("activeshape.opacity")}},{"../../color":102}],190:[function(f,ae,W){var t=f("../../dragelement"),n=f("../../dragelement/helpers"),o=n.drawMode,a=f("../../../registry"),e=f("./constants"),u=e.i000,s=e.i090,l=e.i180,r=e.i270,c=f("../../../plots/cartesian/handle_outline"),h=c.clearOutlineControllers,v=f("./helpers"),y=v.pointsShapeRectangle,m=v.pointsShapeEllipse,L=v.writePaths,A=f("./newshapes");ae.exports=function p(T,d,x,C){C||(C=0);var E=x.gd;function w(){p(T,d,x,C++),m(T[0])&&H({redrawing:!0})}function H(z){x.isActiveShape=!1;var _=A(d,x);Object.keys(_).length&&a.call((z||{}).redrawing?"relayout":"_guiRelayout",E,_)}var F=x.isActiveShape,k=E._fullLayout,I=k._zoomlayer,U=x.dragmode,Q=o(U);Q?E._fullLayout._drawing=!0:E._fullLayout._activeShapeIndex>=0&&h(E),d.attr("d",L(T));var J,ee,R,G,B;if(F&&!C){B=M([],T);var te=I.append("g").attr("class","outline-controllers");Z(te),Y()}function ne(z){R=+z.srcElement.getAttribute("data-i"),G=+z.srcElement.getAttribute("data-j"),J[R][G].moveFn=oe}function oe(z,_){if(!!T.length){var O=B[R][G][1],N=B[R][G][2],P=T[R],j=P.length;if(y(P)){for(var se=0;se<j;se++)if(se!==G){var ce=P[se];ce[1]===P[G][1]&&(ce[1]=O+z),ce[2]===P[G][2]&&(ce[2]=N+_)}if(P[G][1]=O+z,P[G][2]=N+_,!y(P))for(var fe=0;fe<j;fe++)for(var pe=0;pe<P[fe].length;pe++)P[fe][pe]=B[R][fe][pe]}else P[G][1]=O+z,P[G][2]=N+_;w()}}function me(){H()}function de(){if(!!T.length&&!!T[R]&&!!T[R].length){for(var z=[],_=0;_<T[R].length;_++)_!==G&&z.push(T[R][_]);z.length>1&&!(z.length===2&&z[1][0]==="Z")&&(G===0&&(z[0][0]="M"),T[R]=z,w(),H())}}function ie(z,_){if(z===2){R=+_.srcElement.getAttribute("data-i"),G=+_.srcElement.getAttribute("data-j");var O=T[R];!y(O)&&!m(O)&&de()}}function Z(z){J=[];for(var _=0;_<T.length;_++){var O=T[_],N=y(O),P=!N&&m(O);J[_]=[];for(var j=0;j<O.length;j++)if(O[j][0]!=="Z"&&!(P&&j!==u&&j!==s&&j!==l&&j!==r)){var se=O[j][1],ce=O[j][2],fe=z.append("circle").classed("cursor-grab",!0).attr("data-i",_).attr("data-j",j).attr("cx",se).attr("cy",ce).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});J[_][j]={element:fe.node(),gd:E,prepFn:ne,doneFn:me,clickFn:ie},t.init(J[_][j])}}}function q(z,_){if(!!T.length)for(var O=0;O<T.length;O++)for(var N=0;N<T[O].length;N++)for(var P=0;P+2<T[O][N].length;P+=2)T[O][N][P+1]=B[O][N][P+1]+z,T[O][N][P+2]=B[O][N][P+2]+_}function K(z,_){q(z,_),w()}function g(z){R=+z.srcElement.getAttribute("data-i"),R||(R=0),ee[R].moveFn=K}function S(){H()}function Y(){if(ee=[],!!T.length){var z=0;ee[z]={element:d[0][0],gd:E,prepFn:g,doneFn:S},t.init(ee[z])}}};function M(p,T){for(var d=0;d<T.length;d++){var x=T[d];p[d]=[];for(var C=0;C<x.length;C++){p[d][C]=[];for(var E=0;E<x[C].length;E++)p[d][C][E]=x[C][E]}}return p}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(f,ae,W){var t=f("parse-svg-path"),n=f("./constants"),o=n.CIRCLE_SIDES,a=n.SQRT2,e=f("../../../plots/cartesian/helpers"),u=e.p2r,s=e.r2p,l=[0,3,4,5,6,1,2],r=[0,3,4,1,2];W.writePaths=function(v){var y=v.length;if(!y)return"M0,0Z";for(var m="",L=0;L<y;L++)for(var A=v[L].length,M=0;M<A;M++){var p=v[L][M][0];if(p==="Z")m+="Z";else for(var T=v[L][M].length,d=0;d<T;d++){var x=d;p==="Q"||p==="S"?x=r[d]:p==="C"&&(x=l[d]),m+=v[L][M][x],d>0&&d<T-1&&(m+=",")}}return m},W.readPaths=function(v,y,m,L){var A=t(v),M=[],p=-1,T=function(){p++,M[p]=[]},d,x=0,C=0,E,w,H=function(){E=x,w=C};H();for(var F=0;F<A.length;F++){var k=[],I,U,Q,J,ee=A[F][0],R=ee;switch(ee){case"M":T(),x=+A[F][1],C=+A[F][2],k.push([R,x,C]),H();break;case"Q":case"S":I=+A[F][1],Q=+A[F][2],x=+A[F][3],C=+A[F][4],k.push([R,x,C,I,Q]);break;case"C":I=+A[F][1],Q=+A[F][2],U=+A[F][3],J=+A[F][4],x=+A[F][5],C=+A[F][6],k.push([R,x,C,I,Q,U,J]);break;case"T":case"L":x=+A[F][1],C=+A[F][2],k.push([R,x,C]);break;case"H":R="L",x=+A[F][1],k.push([R,x,C]);break;case"V":R="L",C=+A[F][1],k.push([R,x,C]);break;case"A":R="L";var G=+A[F][1],B=+A[F][2];+A[F][4]||(G=-G,B=-B);var te=x-G,ne=C;for(d=1;d<=o/2;d++){var oe=2*Math.PI*d/o;k.push([R,te+G*Math.cos(oe),ne+B*Math.sin(oe)])}break;case"Z":(x!==E||C!==w)&&(x=E,C=w,k.push([R,x,C]));break}for(var me=(m||{}).domain,de=y._fullLayout._size,ie=m&&m.xsizemode==="pixel",Z=m&&m.ysizemode==="pixel",q=L===!1,K=0;K<k.length;K++){for(d=0;d+2<7;d+=2){var g=k[K][d+1],S=k[K][d+2];g===void 0||S===void 0||(x=g,C=S,m&&(m.xaxis&&m.xaxis.p2r?(q&&(g-=m.xaxis._offset),ie?g=s(m.xaxis,m.xanchor)+g:g=u(m.xaxis,g)):(q&&(g-=de.l),me?g=me.x[0]+g/de.w:g=g/de.w),m.yaxis&&m.yaxis.p2r?(q&&(S-=m.yaxis._offset),Z?S=s(m.yaxis,m.yanchor)-S:S=u(m.yaxis,S)):(q&&(S-=de.t),me?S=me.y[1]-S/de.h:S=1-S/de.h)),k[K][d+1]=g,k[K][d+2]=S)}M[p].push(k[K].slice())}}return M};function c(v,y){return Math.abs(v-y)<=1e-6}function h(v,y){var m=y[1]-v[1],L=y[2]-v[2];return Math.sqrt(m*m+L*L)}W.pointsShapeRectangle=function(v){var y=v.length;if(y!==5)return!1;for(var m=1;m<3;m++){var L=v[0][m]-v[1][m],A=v[3][m]-v[2][m];if(!c(L,A))return!1;var M=v[0][m]-v[3][m],p=v[1][m]-v[2][m];if(!c(M,p))return!1}return!c(v[0][1],v[1][1])&&!c(v[0][1],v[3][1])?!1:!!(h(v[0],v[1])*h(v[0],v[3]))},W.pointsShapeEllipse=function(v){var y=v.length;if(y!==o+1)return!1;y=o;for(var m=0;m<y;m++){var L=(y*2-m)%y,A=(y/2+L)%y,M=(y/2+m)%y;if(!c(h(v[m],v[M]),h(v[L],v[A])))return!1}return!0},W.handleEllipse=function(v,y,m){if(!v)return[y,m];var L=W.ellipseOver({x0:y[0],y0:y[1],x1:m[0],y1:m[1]}),A=(L.x1+L.x0)/2,M=(L.y1+L.y0)/2,p=(L.x1-L.x0)/2,T=(L.y1-L.y0)/2;p||(p=T=T/a),T||(T=p=p/a);for(var d=[],x=0;x<o;x++){var C=x*2*Math.PI/o;d.push([A+p*Math.cos(C),M+T*Math.sin(C)])}return d},W.ellipseOver=function(v){var y=v.x0,m=v.y0,L=v.x1,A=v.y1,M=L-y,p=A-m;y-=M,m-=p;var T=(y+L)/2,d=(m+A)/2,x=a;return M*=x,p*=x,{x0:T-M,y0:d-p,x1:T+M,y1:d+p}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(f,ae,W){var t=f("../../dragelement/helpers"),n=t.drawMode,o=t.openMode,a=f("./constants"),e=a.i000,u=a.i090,s=a.i180,l=a.i270,r=a.cos45,c=a.sin45,h=f("../../../plots/cartesian/helpers"),v=h.p2r,y=h.r2p,m=f("../../../plots/cartesian/handle_outline"),L=m.clearSelect,A=f("./helpers"),M=A.readPaths,p=A.writePaths,T=A.ellipseOver;ae.exports=function(C,E){if(!!C.length){var w=C[0][0];if(!!w){var H=w.getAttribute("d"),F=E.gd,k=F._fullLayout.newshape,I=E.plotinfo,U=I.xaxis,Q=I.yaxis,J=!!I.domain||!I.xaxis,ee=!!I.domain||!I.yaxis,R=E.isActiveShape,G=E.dragmode,B=(F.layout||{}).shapes||[];if(!n(G)&&R!==void 0){var te=F._fullLayout._activeShapeIndex;if(te<B.length)switch(F._fullLayout.shapes[te].type){case"rect":G="drawrect";break;case"circle":G="drawcircle";break;case"line":G="drawline";break;case"path":var ne=B[te].path||"";ne[ne.length-1]==="Z"?G="drawclosedpath":G="drawopenpath";break}}var oe=o(G),me=M(H,F,I,R),de={editable:!0,xref:J?"paper":U._id,yref:ee?"paper":Q._id,layer:k.layer,opacity:k.opacity,line:{color:k.line.color,width:k.line.width,dash:k.line.dash}};oe||(de.fillcolor=k.fillcolor,de.fillrule=k.fillrule);var ie;if(me.length===1&&(ie=me[0]),ie&&G==="drawrect")de.type="rect",de.x0=ie[0][1],de.y0=ie[0][2],de.x1=ie[2][1],de.y1=ie[2][2];else if(ie&&G==="drawline")de.type="line",de.x0=ie[0][1],de.y0=ie[0][2],de.x1=ie[1][1],de.y1=ie[1][2];else if(ie&&G==="drawcircle"){de.type="circle";var Z=ie[e][1],q=ie[u][1],K=ie[s][1],g=ie[l][1],S=ie[e][2],Y=ie[u][2],z=ie[s][2],_=ie[l][2],O=I.xaxis&&(I.xaxis.type==="date"||I.xaxis.type==="log"),N=I.yaxis&&(I.yaxis.type==="date"||I.yaxis.type==="log");O&&(Z=y(I.xaxis,Z),q=y(I.xaxis,q),K=y(I.xaxis,K),g=y(I.xaxis,g)),N&&(S=y(I.yaxis,S),Y=y(I.yaxis,Y),z=y(I.yaxis,z),_=y(I.yaxis,_));var P=(q+g)/2,j=(S+z)/2,se=(g-q+K-Z)/2,ce=(_-Y+z-S)/2,fe=T({x0:P,y0:j,x1:P+se*r,y1:j+ce*c});O&&(fe.x0=v(I.xaxis,fe.x0),fe.x1=v(I.xaxis,fe.x1)),N&&(fe.y0=v(I.yaxis,fe.y0),fe.y1=v(I.yaxis,fe.y1)),de.x0=fe.x0,de.y0=fe.y0,de.x1=fe.x1,de.y1=fe.y1}else de.type="path",U&&Q&&d(me,U,Q),de.path=p(me),ie=null;L(F);for(var pe=E.editHelpers,be=(pe||{}).modifyItem,Re=[],ke=0;ke<B.length;ke++){var Oe=F._fullLayout.shapes[ke];if(Re[ke]=Oe._input,R!==void 0&&ke===F._fullLayout._activeShapeIndex){var Be=de;switch(Oe.type){case"line":case"rect":case"circle":be("x0",Be.x0),be("x1",Be.x1),be("y0",Be.y0),be("y1",Be.y1);break;case"path":be("path",Be.path);break}}}return R===void 0?(Re.push(de),Re):pe?pe.getUpdateObj():{}}}};function d(x,C,E){var w=C.type==="date",H=E.type==="date";if(!w&&!H)return x;for(var F=0;F<x.length;F++)for(var k=0;k<x[F].length;k++)for(var I=0;I+2<x[F][k].length;I+=2)w&&(x[F][k][I+1]=x[F][k][I+1].replace(" ","_")),H&&(x[F][k][I+2]=x[F][k][I+2].replace(" ","_"));return x}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(f,ae,W){var t=f("./constants"),n=f("../../lib");W.rangeToShapePosition=function(o){return o.type==="log"?o.r2d:function(a){return a}},W.shapePositionToRange=function(o){return o.type==="log"?o.d2r:function(a){return a}},W.decodeDate=function(o){return function(a){return a.replace&&(a=a.replace("_"," ")),o(a)}},W.encodeDate=function(o){return function(a){return o(a).replace(" ","_")}},W.extractPathCoords=function(o,a){var e=[],u=o.match(t.segmentRE);return u.forEach(function(s){var l=a[s.charAt(0)].drawn;if(l!==void 0){var r=s.substr(1).match(t.paramRE);!r||r.length<l||e.push(n.cleanNumber(r[l]))}}),e},W.getDataToPixel=function(o,a,e,u){var s=o._fullLayout._size,l;if(a)if(u==="domain")l=function(c){return a._length*(e?1-c:c)+a._offset};else{var r=W.shapePositionToRange(a);l=function(c){return a._offset+a.r2p(r(c,!0))},a.type==="date"&&(l=W.decodeDate(l))}else e?l=function(c){return s.t+s.h*(1-c)}:l=function(c){return s.l+s.w*c};return l},W.getPixelToData=function(o,a,e,u){var s=o._fullLayout._size,l;if(a)if(u==="domain")l=function(c){var h=(c-a._offset)/a._length;return e?1-h:h};else{var r=W.rangeToShapePosition(a);l=function(c){return r(a.p2r(c-a._offset))}}else e?l=function(c){return 1-(c-s.t)/s.h}:l=function(c){return(c-s.l)/s.w};return l},W.roundPositionForSharpStrokeRendering=function(o,a){var e=Math.round(a%2)===1,u=Math.round(o);return e?u+.5:u},W.makeOptionsAndPlotinfo=function(o,a){var e=o._fullLayout.shapes[a]||{},u=o._fullLayout._plots[e.xref+e.yref],s=!!u;return s?u._hadPlotinfo=!0:(u={},e.xref&&e.xref!=="paper"&&(u.xaxis=o._fullLayout[e.xref+"axis"]),e.yref&&e.yref!=="paper"&&(u.yaxis=o._fullLayout[e.yref+"axis"])),u.xsizemode=e.xsizemode,u.ysizemode=e.ysizemode,u.xanchor=e.xanchor,u.yanchor=e.yanchor,{options:e,plotinfo:u}}},{"../../lib":232,"./constants":184}],194:[function(f,ae,W){var t=f("./draw");ae.exports={moduleType:"component",name:"shapes",layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),supplyDrawNewShapeDefaults:f("./draw_newshape/defaults"),includeBasePlot:f("../../plots/cartesian/include_components")("shapes"),calcAutorange:f("./calc_autorange"),draw:t.draw,drawOne:t.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(f,ae,W){var t=f("../../plots/font_attributes"),n=f("../../plots/pad_attributes"),o=f("../../lib/extend").extendDeepAll,a=f("../../plot_api/edit_types").overrideAll,e=f("../../plots/animation_attributes"),u=f("../../plot_api/plot_template").templatedArray,s=f("./constants"),l=u("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ae.exports=a(u("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:l,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(n({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:e.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:t({})},font:t({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(f,ae,W){ae.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/array_container_defaults"),o=f("./attributes"),a=f("./constants"),e=a.name,u=o.steps;ae.exports=function(c,h){n(c,h,{name:e,handleItemDefaults:s})};function s(r,c,h){function v(d,x){return t.coerce(r,c,o,d,x)}for(var y=n(r,c,{name:"steps",handleItemDefaults:l}),m=0,L=0;L<y.length;L++)y[L].visible&&m++;var A;if(m<2?A=c.visible=!1:A=v("visible"),!!A){c._stepCount=m;var M=c._visibleSteps=t.filterVisible(y),p=v("active");(y[p]||{}).visible||(c.active=M[0]._index),v("x"),v("y"),t.noneOrAll(r,c,["x","y"]),v("xanchor"),v("yanchor"),v("len"),v("lenmode"),v("pad.t"),v("pad.r"),v("pad.b"),v("pad.l"),t.coerceFont(v,"font",h.font);var T=v("currentvalue.visible");T&&(v("currentvalue.xanchor"),v("currentvalue.prefix"),v("currentvalue.suffix"),v("currentvalue.offset"),t.coerceFont(v,"currentvalue.font",c.font)),v("transition.duration"),v("transition.easing"),v("bgcolor"),v("activebgcolor"),v("bordercolor"),v("borderwidth"),v("ticklen"),v("tickwidth"),v("tickcolor"),v("minorticklen")}}function l(r,c){function h(m,L){return t.coerce(r,c,u,m,L)}var v;if(r.method!=="skip"&&!Array.isArray(r.args)?v=c.visible=!1:v=h("visible"),v){h("method"),h("args");var y=h("label","step-"+c._index);h("value",y),h("execute")}}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../plots/plots"),o=f("../color"),a=f("../drawing"),e=f("../../lib"),u=e.strTranslate,s=f("../../lib/svg_text_utils"),l=f("../../plot_api/plot_template").arrayEditor,r=f("./constants"),c=f("../../constants/alignment"),h=c.LINE_SPACING,v=c.FROM_TL,y=c.FROM_BR;ae.exports=function(G){var B=G._fullLayout,te=L(B,G),ne=B._infolayer.selectAll("g."+r.containerClassName).data(te.length>0?[0]:[]);ne.enter().append("g").classed(r.containerClassName,!0).style("cursor","ew-resize");function oe(Z){Z._commandObserver&&(Z._commandObserver.remove(),delete Z._commandObserver),n.autoMargin(G,m(Z))}if(ne.exit().each(function(){t.select(this).selectAll("g."+r.groupClassName).each(oe)}).remove(),te.length!==0){var me=ne.selectAll("g."+r.groupClassName).data(te,A);me.enter().append("g").classed(r.groupClassName,!0),me.exit().each(oe).remove();for(var de=0;de<te.length;de++){var ie=te[de];M(G,ie)}me.each(function(Z){var q=t.select(this);k(Z),n.manageCommandObserver(G,Z,Z._visibleSteps,function(K){var g=q.data()[0];g.active!==K.index&&(g._dragging||w(G,q,g,K.index,!1,!0))}),p(G,t.select(this),Z)})}};function m(R){return r.autoMarginIdRoot+R._index}function L(R,G){for(var B=R[r.name],te=[],ne=0;ne<B.length;ne++){var oe=B[ne];!oe.visible||(oe._gd=G,te.push(oe))}return te}function A(R){return R._index}function M(R,G){var B=a.tester.selectAll("g."+r.labelGroupClass).data(G._visibleSteps);B.enter().append("g").classed(r.labelGroupClass,!0);var te=0,ne=0;B.each(function(Y){var z=t.select(this),_=x(z,{step:Y},G),O=_.node();if(O){var N=a.bBox(O);ne=Math.max(ne,N.height),te=Math.max(te,N.width)}}),B.remove();var oe=G._dims={};oe.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var me=R._fullLayout._size;oe.lx=me.l+me.w*G.x,oe.ly=me.t+me.h*(1-G.y),G.lenmode==="fraction"?oe.outerLength=Math.round(me.w*G.len):oe.outerLength=G.len,oe.inputAreaStart=0,oe.inputAreaLength=Math.round(oe.outerLength-G.pad.l-G.pad.r);var de=oe.inputAreaLength-2*r.stepInset,ie=de/(G._stepCount-1),Z=te+r.labelPadding;if(oe.labelStride=Math.max(1,Math.ceil(Z/ie)),oe.labelHeight=ne,oe.currentValueMaxWidth=0,oe.currentValueHeight=0,oe.currentValueTotalHeight=0,oe.currentValueMaxLines=1,G.currentvalue.visible){var q=a.tester.append("g");B.each(function(Y){var z=T(q,G,Y.label),_=z.node()&&a.bBox(z.node())||{width:0,height:0},O=s.lineCount(z);oe.currentValueMaxWidth=Math.max(oe.currentValueMaxWidth,Math.ceil(_.width)),oe.currentValueHeight=Math.max(oe.currentValueHeight,Math.ceil(_.height)),oe.currentValueMaxLines=Math.max(oe.currentValueMaxLines,O)}),oe.currentValueTotalHeight=oe.currentValueHeight+G.currentvalue.offset,q.remove()}oe.height=oe.currentValueTotalHeight+r.tickOffset+G.ticklen+r.labelOffset+oe.labelHeight+G.pad.t+G.pad.b;var K="left";e.isRightAnchor(G)&&(oe.lx-=oe.outerLength,K="right"),e.isCenterAnchor(G)&&(oe.lx-=oe.outerLength/2,K="center");var g="top";e.isBottomAnchor(G)&&(oe.ly-=oe.height,g="bottom"),e.isMiddleAnchor(G)&&(oe.ly-=oe.height/2,g="middle"),oe.outerLength=Math.ceil(oe.outerLength),oe.height=Math.ceil(oe.height),oe.lx=Math.round(oe.lx),oe.ly=Math.round(oe.ly);var S={y:G.y,b:oe.height*y[g],t:oe.height*v[g]};G.lenmode==="fraction"?(S.l=0,S.xl=G.x-G.len*v[K],S.r=0,S.xr=G.x+G.len*y[K]):(S.x=G.x,S.l=oe.outerLength*v[K],S.r=oe.outerLength*y[K]),n.autoMargin(R,m(G),S)}function p(R,G,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),G.call(T,B).call(ee,B).call(C,B).call(F,B).call(J,R,B).call(d,R,B);var te=B._dims;a.setTranslate(G,te.lx+B.pad.l,te.ly+B.pad.t),G.call(I,B,!1),G.call(T,B)}function T(R,G,B){if(!!G.currentvalue.visible){var te=G._dims,ne,oe;switch(G.currentvalue.xanchor){case"right":ne=te.inputAreaLength-r.currentValueInset-te.currentValueMaxWidth,oe="left";break;case"center":ne=te.inputAreaLength*.5,oe="middle";break;default:ne=r.currentValueInset,oe="left"}var me=e.ensureSingle(R,"text",r.labelClass,function(g){g.attr({"text-anchor":oe,"data-notex":1})}),de=G.currentvalue.prefix?G.currentvalue.prefix:"";if(typeof B=="string")de+=B;else{var ie=G.steps[G.active].label,Z=G._gd._fullLayout._meta;Z&&(ie=e.templateString(ie,Z)),de+=ie}G.currentvalue.suffix&&(de+=G.currentvalue.suffix),me.call(a.font,G.currentvalue.font).text(de).call(s.convertToTspans,G._gd);var q=s.lineCount(me),K=(te.currentValueMaxLines+1-q)*G.currentvalue.font.size*h;return s.positionText(me,ne,K),me}}function d(R,G,B){var te=e.ensureSingle(R,"rect",r.gripRectClass,function(ne){ne.call(H,G,R,B).style("pointer-events","all")});te.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(o.stroke,B.bordercolor).call(o.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function x(R,G,B){var te=e.ensureSingle(R,"text",r.labelClass,function(me){me.attr({"text-anchor":"middle","data-notex":1})}),ne=G.step.label,oe=B._gd._fullLayout._meta;return oe&&(ne=e.templateString(ne,oe)),te.call(a.font,B.font).text(ne).call(s.convertToTspans,B._gd),te}function C(R,G){var B=e.ensureSingle(R,"g",r.labelsClass),te=G._dims,ne=B.selectAll("g."+r.labelGroupClass).data(te.labelSteps);ne.enter().append("g").classed(r.labelGroupClass,!0),ne.exit().remove(),ne.each(function(oe){var me=t.select(this);me.call(x,oe,G),a.setTranslate(me,U(G,oe.fraction),r.tickOffset+G.ticklen+G.font.size*h+r.labelOffset+te.currentValueTotalHeight)})}function E(R,G,B,te,ne){var oe=Math.round(te*(B._stepCount-1)),me=B._visibleSteps[oe]._index;me!==B.active&&w(R,G,B,me,!0,ne)}function w(R,G,B,te,ne,oe){var me=B.active;B.active=te,l(R.layout,r.name,B).applyUpdate("active",te);var de=B.steps[B.active];G.call(I,B,oe),G.call(T,B),R.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:ne,previousActive:me}),de&&de.method&&ne&&(G._nextMethod?(G._nextMethod.step=de,G._nextMethod.doCallback=ne,G._nextMethod.doTransition=oe):(G._nextMethod={step:de,doCallback:ne,doTransition:oe},G._nextMethodRaf=window.requestAnimationFrame(function(){var ie=G._nextMethod.step;!ie.method||(ie.execute&&n.executeAPICommand(R,ie.method,ie.args),G._nextMethod=null,G._nextMethodRaf=null)})))}function H(R,G,B){var te=B.node(),ne=t.select(G);function oe(){return B.data()[0]}function me(){var de=oe();G.emit("plotly_sliderstart",{slider:de});var ie=B.select("."+r.gripRectClass);t.event.stopPropagation(),t.event.preventDefault(),ie.call(o.fill,de.activebgcolor);var Z=Q(de,t.mouse(te)[0]);E(G,B,de,Z,!0),de._dragging=!0;function q(){var g=oe(),S=Q(g,t.mouse(te)[0]);E(G,B,g,S,!1)}ne.on("mousemove",q),ne.on("touchmove",q);function K(){var g=oe();g._dragging=!1,ie.call(o.fill,g.bgcolor),ne.on("mouseup",null),ne.on("mousemove",null),ne.on("touchend",null),ne.on("touchmove",null),G.emit("plotly_sliderend",{slider:g,step:g.steps[g.active]})}ne.on("mouseup",K),ne.on("touchend",K)}R.on("mousedown",me),R.on("touchstart",me)}function F(R,G){var B=R.selectAll("rect."+r.tickRectClass).data(G._visibleSteps),te=G._dims;B.enter().append("rect").classed(r.tickRectClass,!0),B.exit().remove(),B.attr({width:G.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(ne,oe){var me=oe%te.labelStride===0,de=t.select(this);de.attr({height:me?G.ticklen:G.minorticklen}).call(o.fill,G.tickcolor),a.setTranslate(de,U(G,oe/(G._stepCount-1))-.5*G.tickwidth,(me?r.tickOffset:r.minorTickOffset)+te.currentValueTotalHeight)})}function k(R){var G=R._dims;G.labelSteps=[];for(var B=R._stepCount,te=0;te<B;te+=G.labelStride)G.labelSteps.push({fraction:te/(B-1),step:R._visibleSteps[te]})}function I(R,G,B){for(var te=R.select("rect."+r.gripRectClass),ne=0,oe=0;oe<G._stepCount;oe++)if(G._visibleSteps[oe]._index===G.active){ne=oe;break}var me=U(G,ne/(G._stepCount-1));if(!G._invokingCommand){var de=te;B&&G.transition.duration>0&&(de=de.transition().duration(G.transition.duration).ease(G.transition.easing)),de.attr("transform",u(me-r.gripWidth*.5,G._dims.currentValueTotalHeight))}}function U(R,G){var B=R._dims;return B.inputAreaStart+r.stepInset+(B.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,G))}function Q(R,G){var B=R._dims;return Math.min(1,Math.max(0,(G-r.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*r.stepInset-2*B.inputAreaStart)))}function J(R,G,B){var te=B._dims,ne=e.ensureSingle(R,"rect",r.railTouchRectClass,function(oe){oe.call(H,G,R,B).style("pointer-events","all")});ne.attr({width:te.inputAreaLength,height:Math.max(te.inputAreaWidth,r.tickOffset+B.ticklen+te.labelHeight)}).call(o.fill,B.bgcolor).attr("opacity",0),a.setTranslate(ne,0,te.currentValueTotalHeight)}function ee(R,G){var B=G._dims,te=B.inputAreaLength-r.railInset*2,ne=e.ensureSingle(R,"rect",r.railRectClass);ne.attr({width:te,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,G.bordercolor).call(o.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px"),a.setTranslate(ne,r.railInset,(B.inputAreaWidth-r.railWidth)*.5+B.currentValueTotalHeight)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(f,ae,W){var t=f("./constants");ae.exports={moduleType:"component",name:t.name,layoutAttributes:f("./attributes"),supplyLayoutDefaults:f("./defaults"),draw:f("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../../plots/plots"),a=f("../../registry"),e=f("../../lib"),u=e.strTranslate,s=f("../drawing"),l=f("../color"),r=f("../../lib/svg_text_utils"),c=f("../../constants/interactions"),h=f("../../constants/alignment").OPPOSITE_SIDE,v=/ [XY][0-9]* /;function y(m,L,A){var M=A.propContainer,p=A.propName,T=A.placeholder,d=A.traceIndex,x=A.avoid||{},C=A.attributes,E=A.transform,w=A.containerGroup,H=m._fullLayout,F=1,k=!1,I=M.title,U=(I&&I.text?I.text:"").trim(),Q=I&&I.font?I.font:{},J=Q.family,ee=Q.size,R=Q.color,G;p==="title.text"?G="titleText":p.indexOf("axis")!==-1?G="axisTitleText":p.indexOf("colorbar"!==-1)&&(G="colorbarTitleText");var B=m._context.edits[G];U===""?F=0:U.replace(v," % ")===T.replace(v," % ")&&(F=.2,k=!0,B||(U="")),A._meta?U=e.templateString(U,A._meta):H._meta&&(U=e.templateString(U,H._meta));var te=U||B,ne;w||(w=e.ensureSingle(H._infolayer,"g","g-"+L),ne=H._hColorbarMoveTitle);var oe=w.selectAll("text").data(te?[0]:[]);if(oe.enter().append("text"),oe.text(U).attr("class",L),oe.exit().remove(),!te)return w;function me(q){e.syncOrAsync([de,ie],q)}function de(q){var K;return!E&&ne&&(E={}),E?(K="",E.rotate&&(K+="rotate("+[E.rotate,C.x,C.y]+")"),(E.offset||ne)&&(K+=u(0,(E.offset||0)-(ne||0)))):K=null,q.attr("transform",K),q.style({"font-family":J,"font-size":t.round(ee,2)+"px",fill:l.rgb(R),opacity:F*l.opacity(R),"font-weight":o.fontWeight}).attr(C).call(r.convertToTspans,m),o.previousPromises(m)}function ie(q){var K=t.select(q.node().parentNode);if(x&&x.selection&&x.side&&U){K.attr("transform",null);var g=h[x.side],S=x.side==="left"||x.side==="top"?-1:1,Y=n(x.pad)?x.pad:2,z=s.bBox(K.node()),_={left:0,top:0,right:H.width,bottom:H.height},O=x.maxShift||S*(_[x.side]-z[x.side]),N=0;if(O<0)N=O;else{var P=x.offsetLeft||0,j=x.offsetTop||0;z.left-=P,z.right-=P,z.top-=j,z.bottom-=j,x.selection.each(function(){var ce=s.bBox(this);e.bBoxIntersect(z,ce,Y)&&(N=Math.max(N,S*(ce[x.side]-z[g])+Y))}),N=Math.min(O,N)}if(N>0||O<0){var se={left:[-N,0],right:[N,0],top:[0,-N],bottom:[0,N]}[x.side];K.attr("transform",u(se[0],se[1]))}}}oe.call(me);function Z(){F=0,k=!0,oe.text(T).on("mouseover.opacity",function(){t.select(this).transition().duration(c.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){t.select(this).transition().duration(c.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(U?oe.on(".opacity",null):Z(),oe.call(r.makeEditable,{gd:m}).on("edit",function(q){d!==void 0?a.call("_guiRestyle",m,p,q,d):a.call("_guiRelayout",m,p,q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(me)}).on("input",function(q){this.text(q||" ").call(r.positionText,C.x,C.y)})),oe.classed("js-placeholder",k),w}ae.exports={draw:y}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(f,ae,W){var t=f("../../plots/font_attributes"),n=f("../color/attributes"),o=f("../../lib/extend").extendFlat,a=f("../../plot_api/edit_types").overrideAll,e=f("../../plots/pad_attributes"),u=f("../../plot_api/plot_template").templatedArray,s=u("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ae.exports=a(u("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(e({editType:"arraydraw"}),{}),font:t({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:n.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(f,ae,W){ae.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},{}],203:[function(f,ae,W){var t=f("../../lib"),n=f("../../plots/array_container_defaults"),o=f("./attributes"),a=f("./constants"),e=a.name,u=o.buttons;ae.exports=function(c,h){var v={name:e,handleItemDefaults:s};n(c,h,v)};function s(r,c,h){function v(L,A){return t.coerce(r,c,o,L,A)}var y=n(r,c,{name:"buttons",handleItemDefaults:l}),m=v("visible",y.length>0);!m||(v("active"),v("direction"),v("type"),v("showactive"),v("x"),v("y"),t.noneOrAll(r,c,["x","y"]),v("xanchor"),v("yanchor"),v("pad.t"),v("pad.r"),v("pad.b"),v("pad.l"),t.coerceFont(v,"font",h.font),v("bgcolor",h.paper_bgcolor),v("bordercolor"),v("borderwidth"))}function l(r,c){function h(y,m){return t.coerce(r,c,u,y,m)}var v=h("visible",r.method==="skip"||Array.isArray(r.args));v&&(h("method"),h("args"),h("args2"),h("label"),h("execute"))}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../plots/plots"),o=f("../color"),a=f("../drawing"),e=f("../../lib"),u=f("../../lib/svg_text_utils"),s=f("../../plot_api/plot_template").arrayEditor,l=f("../../constants/alignment").LINE_SPACING,r=f("./constants"),c=f("./scrollbox");ae.exports=function(Q){var J=Q._fullLayout,ee=e.filterVisible(J[r.name]);function R(ie){n.autoMargin(Q,F(ie))}var G=J._menulayer.selectAll("g."+r.containerClassName).data(ee.length>0?[0]:[]);if(G.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){t.select(this).selectAll("g."+r.headerGroupClassName).each(R)}).remove(),ee.length!==0){var B=G.selectAll("g."+r.headerGroupClassName).data(ee,h);B.enter().append("g").classed(r.headerGroupClassName,!0);for(var te=e.ensureSingle(G,"g",r.dropdownButtonGroupClassName,function(ie){ie.style("pointer-events","all")}),ne=0;ne<ee.length;ne++){var oe=ee[ne];H(Q,oe)}var me="updatemenus"+J._uid,de=new c(Q,te,me);B.enter().size()&&(te.node().parentNode.appendChild(te.node()),te.call(I)),B.exit().each(function(ie){te.call(I),R(ie)}).remove(),B.each(function(ie){var Z=t.select(this),q=ie.type==="dropdown"?te:null;n.manageCommandObserver(Q,ie,ie.buttons,function(K){m(Q,ie,ie.buttons[K.index],Z,q,de,K.index,!0)}),ie.type==="dropdown"?(L(Q,Z,te,de,ie),y(te,ie)&&A(Q,Z,te,de,ie)):A(Q,Z,null,null,ie)})}};function h(U){return U._index}function v(U){return+U.attr(r.menuIndexAttrName)==-1}function y(U,Q){return+U.attr(r.menuIndexAttrName)===Q._index}function m(U,Q,J,ee,R,G,B,te){Q.active=B,s(U.layout,r.name,Q).applyUpdate("active",B),Q.type==="buttons"?A(U,ee,null,null,Q):Q.type==="dropdown"&&(R.attr(r.menuIndexAttrName,"-1"),L(U,ee,R,G,Q),te||A(U,ee,R,G,Q))}function L(U,Q,J,ee,R){var G=e.ensureSingle(Q,"g",r.headerClassName,function(ie){ie.style("pointer-events","all")}),B=R._dims,te=R.active,ne=R.buttons[te]||r.blankHeaderOpts,oe={y:R.pad.t,yPad:0,x:R.pad.l,xPad:0,index:0},me={width:B.headerWidth,height:B.headerHeight};G.call(T,R,ne,U).call(k,R,oe,me);var de=e.ensureSingle(Q,"text",r.headerArrowClassName,function(ie){ie.attr("text-anchor","end").call(a.font,R.font).text(r.arrowSymbol[R.direction])});de.attr({x:B.headerWidth-r.arrowOffsetX+R.pad.l,y:B.headerHeight/2+r.textOffsetY+R.pad.t}),G.on("click",function(){J.call(I,String(y(J,R)?-1:R._index)),A(U,Q,J,ee,R)}),G.on("mouseover",function(){G.call(E)}),G.on("mouseout",function(){G.call(w,R)}),a.setTranslate(Q,B.lx,B.ly)}function A(U,Q,J,ee,R){J||(J=Q,J.attr("pointer-events","all"));var G=!v(J)||R.type==="buttons"?R.buttons:[],B=R.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,te=J.selectAll("g."+B).data(e.filterVisible(G)),ne=te.enter().append("g").classed(B,!0),oe=te.exit();R.type==="dropdown"?(ne.attr("opacity","0").transition().attr("opacity","1"),oe.transition().attr("opacity","0").remove()):oe.remove();var me=0,de=0,ie=R._dims,Z=["up","down"].indexOf(R.direction)!==-1;R.type==="dropdown"&&(Z?de=ie.headerHeight+r.gapButtonHeader:me=ie.headerWidth+r.gapButtonHeader),R.type==="dropdown"&&R.direction==="up"&&(de=-r.gapButtonHeader+r.gapButton-ie.openHeight),R.type==="dropdown"&&R.direction==="left"&&(me=-r.gapButtonHeader+r.gapButton-ie.openWidth);var q={x:ie.lx+me+R.pad.l,y:ie.ly+de+R.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},K={l:q.x+R.borderwidth,t:q.y+R.borderwidth};te.each(function(g,S){var Y=t.select(this);Y.call(T,R,g,U).call(k,R,q),Y.on("click",function(){t.event.defaultPrevented||(g.execute&&(g.args2&&R.active===S?(m(U,R,g,Q,J,ee,-1),n.executeAPICommand(U,g.method,g.args2)):(m(U,R,g,Q,J,ee,S),n.executeAPICommand(U,g.method,g.args))),U.emit("plotly_buttonclicked",{menu:R,button:g,active:R.active}))}),Y.on("mouseover",function(){Y.call(E)}),Y.on("mouseout",function(){Y.call(w,R),te.call(C,R)})}),te.call(C,R),Z?(K.w=Math.max(ie.openWidth,ie.headerWidth),K.h=q.y-K.t):(K.w=q.x-K.l,K.h=Math.max(ie.openHeight,ie.headerHeight)),K.direction=R.direction,ee&&(te.size()?M(U,Q,J,ee,R,K):p(ee))}function M(U,Q,J,ee,R,G){var B=R.direction,te=B==="up"||B==="down",ne=R._dims,oe=R.active,me,de,ie;if(te)for(de=0,ie=0;ie<oe;ie++)de+=ne.heights[ie]+r.gapButton;else for(me=0,ie=0;ie<oe;ie++)me+=ne.widths[ie]+r.gapButton;ee.enable(G,me,de),ee.hbar&&ee.hbar.attr("opacity","0").transition().attr("opacity","1"),ee.vbar&&ee.vbar.attr("opacity","0").transition().attr("opacity","1")}function p(U){var Q=!!U.hbar,J=!!U.vbar;Q&&U.hbar.transition().attr("opacity","0").each("end",function(){Q=!1,J||U.disable()}),J&&U.vbar.transition().attr("opacity","0").each("end",function(){J=!1,Q||U.disable()})}function T(U,Q,J,ee){U.call(d,Q).call(x,Q,J,ee)}function d(U,Q){var J=e.ensureSingle(U,"rect",r.itemRectClassName,function(ee){ee.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});J.call(o.stroke,Q.bordercolor).call(o.fill,Q.bgcolor).style("stroke-width",Q.borderwidth+"px")}function x(U,Q,J,ee){var R=e.ensureSingle(U,"text",r.itemTextClassName,function(te){te.attr({"text-anchor":"start","data-notex":1})}),G=J.label,B=ee._fullLayout._meta;B&&(G=e.templateString(G,B)),R.call(a.font,Q.font).text(G).call(u.convertToTspans,ee)}function C(U,Q){var J=Q.active;U.each(function(ee,R){var G=t.select(this);R===J&&Q.showactive&&G.select("rect."+r.itemRectClassName).call(o.fill,r.activeColor)})}function E(U){U.select("rect."+r.itemRectClassName).call(o.fill,r.hoverColor)}function w(U,Q){U.select("rect."+r.itemRectClassName).call(o.fill,Q.bgcolor)}function H(U,Q){var J=Q._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ee=a.tester.selectAll("g."+r.dropdownButtonClassName).data(e.filterVisible(Q.buttons));ee.enter().append("g").classed(r.dropdownButtonClassName,!0);var R=["up","down"].indexOf(Q.direction)!==-1;ee.each(function(me,de){var ie=t.select(this);ie.call(T,Q,me,U);var Z=ie.select("."+r.itemTextClassName),q=Z.node()&&a.bBox(Z.node()).width,K=Math.max(q+r.textPadX,r.minWidth),g=Q.font.size*l,S=u.lineCount(Z),Y=Math.max(g*S,r.minHeight)+r.textOffsetY;Y=Math.ceil(Y),K=Math.ceil(K),J.widths[de]=K,J.heights[de]=Y,J.height1=Math.max(J.height1,Y),J.width1=Math.max(J.width1,K),R?(J.totalWidth=Math.max(J.totalWidth,K),J.openWidth=J.totalWidth,J.totalHeight+=Y+r.gapButton,J.openHeight+=Y+r.gapButton):(J.totalWidth+=K+r.gapButton,J.openWidth+=K+r.gapButton,J.totalHeight=Math.max(J.totalHeight,Y),J.openHeight=J.totalHeight)}),R?J.totalHeight-=r.gapButton:J.totalWidth-=r.gapButton,J.headerWidth=J.width1+r.arrowPadX,J.headerHeight=J.height1,Q.type==="dropdown"&&(R?(J.width1+=r.arrowPadX,J.totalHeight=J.height1):J.totalWidth=J.width1,J.totalWidth+=r.arrowPadX),ee.remove();var G=J.totalWidth+Q.pad.l+Q.pad.r,B=J.totalHeight+Q.pad.t+Q.pad.b,te=U._fullLayout._size;J.lx=te.l+te.w*Q.x,J.ly=te.t+te.h*(1-Q.y);var ne="left";e.isRightAnchor(Q)&&(J.lx-=G,ne="right"),e.isCenterAnchor(Q)&&(J.lx-=G/2,ne="center");var oe="top";e.isBottomAnchor(Q)&&(J.ly-=B,oe="bottom"),e.isMiddleAnchor(Q)&&(J.ly-=B/2,oe="middle"),J.totalWidth=Math.ceil(J.totalWidth),J.totalHeight=Math.ceil(J.totalHeight),J.lx=Math.round(J.lx),J.ly=Math.round(J.ly),n.autoMargin(U,F(Q),{x:Q.x,y:Q.y,l:G*({right:1,center:.5}[ne]||0),r:G*({left:1,center:.5}[ne]||0),b:B*({top:1,middle:.5}[oe]||0),t:B*({bottom:1,middle:.5}[oe]||0)})}function F(U){return r.autoMarginIdRoot+U._index}function k(U,Q,J,ee){ee=ee||{};var R=U.select("."+r.itemRectClassName),G=U.select("."+r.itemTextClassName),B=Q.borderwidth,te=J.index,ne=Q._dims;a.setTranslate(U,B+J.x,B+J.y);var oe=["up","down"].indexOf(Q.direction)!==-1,me=ee.height||(oe?ne.heights[te]:ne.height1);R.attr({x:0,y:0,width:ee.width||(oe?ne.width1:ne.widths[te]),height:me});var de=Q.font.size*l,ie=u.lineCount(G),Z=(ie-1)*de/2;u.positionText(G,r.textOffsetX,me/2-Z+r.textOffsetY),oe?J.y+=ne.heights[te]+J.yPad:J.x+=ne.widths[te]+J.xPad,J.index++}function I(U,Q){U.attr(r.menuIndexAttrName,Q||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(f,ae,W){arguments[4][199][0].apply(W,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(f,ae,W){ae.exports=e;var t=f("@plotly/d3"),n=f("../color"),o=f("../drawing"),a=f("../../lib");function e(u,s,l){this.gd=u,this.container=s,this.id=l,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.barWidth=2,e.barLength=20,e.barRadius=2,e.barPad=1,e.barColor="#808BA4",e.prototype.enable=function(s,l,r){var c=this.gd._fullLayout,h=c.width,v=c.height;this.position=s;var y=this.position.l,m=this.position.w,L=this.position.t,A=this.position.h,M=this.position.direction,p=M==="down",T=M==="left",d=M==="right",x=M==="up",C=m,E=A,w,H,F,k;!p&&!T&&!d&&!x&&(this.position.direction="down",p=!0);var I=p||x;I?(w=y,H=w+C,p?(F=L,k=Math.min(F+E,v),E=k-F):(k=L+E,F=Math.max(k-E,0),E=k-F)):(F=L,k=F+E,T?(H=y+C,w=Math.max(H-C,0),C=H-w):(w=y,H=Math.min(w+C,h),C=H-w)),this._box={l:w,t:F,w:C,h:E};var U=m>C,Q=e.barLength+2*e.barPad,J=e.barWidth+2*e.barPad,ee=y,R=L+A;R+J>v&&(R=v-J);var G=this.container.selectAll("rect.scrollbar-horizontal").data(U?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-horizontal",!0).call(n.fill,e.barColor),U?(this.hbar=G.attr({rx:e.barRadius,ry:e.barRadius,x:ee,y:R,width:Q,height:J}),this._hbarXMin=ee+Q/2,this._hbarTranslateMax=C-Q):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=A>E,te=e.barWidth+2*e.barPad,ne=e.barLength+2*e.barPad,oe=y+m,me=L;oe+te>h&&(oe=h-te);var de=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);de.exit().on(".drag",null).remove(),de.enter().append("rect").classed("scrollbar-vertical",!0).call(n.fill,e.barColor),B?(this.vbar=de.attr({rx:e.barRadius,ry:e.barRadius,x:oe,y:me,width:te,height:ne}),this._vbarYMin=me+ne/2,this._vbarTranslateMax=E-ne):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ie=this.id,Z=w-.5,q=B?H+te+.5:H+.5,K=F-.5,g=U?k+J+.5:k+.5,S=c._topdefs.selectAll("#"+ie).data(U||B?[0]:[]);if(S.exit().remove(),S.enter().append("clipPath").attr("id",ie).append("rect"),U||B?(this._clipRect=S.select("rect").attr({x:Math.floor(Z),y:Math.floor(K),width:Math.ceil(q)-Math.floor(Z),height:Math.ceil(g)-Math.floor(K)}),this.container.call(o.setClipUrl,ie,this.gd),this.bg.attr({x:y,y:L,width:m,height:A})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),U||B){var Y=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Y);var z=t.behavior.drag().on("dragstart",function(){t.event.sourceEvent.preventDefault(),t.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));U&&this.hbar.on(".drag",null).call(z),B&&this.vbar.on(".drag",null).call(z)}this.setTranslate(l,r)},e.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},e.prototype._onBoxDrag=function(){var s=this.translateX,l=this.translateY;this.hbar&&(s-=t.event.dx),this.vbar&&(l-=t.event.dy),this.setTranslate(s,l)},e.prototype._onBoxWheel=function(){var s=this.translateX,l=this.translateY;this.hbar&&(s+=t.event.deltaY),this.vbar&&(l+=t.event.deltaY),this.setTranslate(s,l)},e.prototype._onBarDrag=function(){var s=this.translateX,l=this.translateY;if(this.hbar){var r=s+this._hbarXMin,c=r+this._hbarTranslateMax,h=a.constrain(t.event.x,r,c),v=(h-r)/(c-r),y=this.position.w-this._box.w;s=v*y}if(this.vbar){var m=l+this._vbarYMin,L=m+this._vbarTranslateMax,A=a.constrain(t.event.y,m,L),M=(A-m)/(L-m),p=this.position.h-this._box.h;l=M*p}this.setTranslate(s,l)},e.prototype.setTranslate=function(s,l){var r=this.position.w-this._box.w,c=this.position.h-this._box.h;if(s=a.constrain(s||0,0,r),l=a.constrain(l||0,0,c),this.translateX=s,this.translateY=l,this.container.call(o.setTranslate,this._box.l-this.position.l-s,this._box.t-this.position.t-l),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+s-.5),y:Math.floor(this.position.t+l-.5)}),this.hbar){var h=s/r;this.hbar.call(o.setTranslate,s+h*this._hbarTranslateMax,l)}if(this.vbar){var v=l/c;this.vbar.call(o.setTranslate,s,l+v*this._vbarTranslateMax)}}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(f,ae,W){ae.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(f,ae,W){ae.exports={axisRefDescription:function(t,n,o){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",n,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",n,"("+o+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",n,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",n,"and the",o,"of the domain of the","second",t,"axis."].join(" ")}}},{}],209:[function(f,ae,W){ae.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(f,ae,W){ae.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(f,ae,W){ae.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(f,ae,W){ae.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(f,ae,W){W.xmlns="http://www.w3.org/2000/xmlns/",W.svg="http://www.w3.org/2000/svg",W.xlink="http://www.w3.org/1999/xlink",W.svgAttrs={xmlns:W.svg,"xmlns:xlink":W.xlink}},{}],214:[function(f,ae,W){W.version=f("./version").version,f("native-promise-only"),f("../build/plotcss");for(var t=f("./registry"),n=W.register=t.register,o=f("./plot_api"),a=Object.keys(o),e=0;e<a.length;e++){var u=a[e];u.charAt(0)!=="_"&&(W[u]=o[u]),n({moduleType:"apiMethod",name:u,fn:o[u]})}n(f("./traces/scatter")),n([f("./components/legend"),f("./components/fx"),f("./components/annotations"),f("./components/annotations3d"),f("./components/shapes"),f("./components/images"),f("./components/updatemenus"),f("./components/sliders"),f("./components/rangeslider"),f("./components/rangeselector"),f("./components/grid"),f("./components/errorbars"),f("./components/colorscale"),f("./components/colorbar"),f("./components/modebar")]),n([f("./locale-en"),f("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(n(window.PlotlyLocales),delete window.PlotlyLocales),W.Icons=f("./fonts/ploticon");var s=f("./components/fx"),l=f("./plots/plots");W.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},W.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},W.Snapshot=f("./snapshot"),W.PlotSchema=f("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(f,ae,W){ae.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(f,ae,W){W.isLeftAnchor=function(n){return n.xanchor==="left"||n.xanchor==="auto"&&n.x<=1/3},W.isCenterAnchor=function(n){return n.xanchor==="center"||n.xanchor==="auto"&&n.x>1/3&&n.x<2/3},W.isRightAnchor=function(n){return n.xanchor==="right"||n.xanchor==="auto"&&n.x>=2/3},W.isTopAnchor=function(n){return n.yanchor==="top"||n.yanchor==="auto"&&n.y>=2/3},W.isMiddleAnchor=function(n){return n.yanchor==="middle"||n.yanchor==="auto"&&n.y>1/3&&n.y<2/3},W.isBottomAnchor=function(n){return n.yanchor==="bottom"||n.yanchor==="auto"&&n.y<=1/3}},{}],217:[function(f,ae,W){var t=f("./mod"),n=t.mod,o=t.modHalf,a=Math.PI,e=2*a;function u(M){return M/180*a}function s(M){return M/a*180}function l(M){return Math.abs(M[1]-M[0])>e-1e-14}function r(M,p){return o(p-M,e)}function c(M,p){return Math.abs(r(M,p))}function h(M,p){if(l(p))return!0;var T,d;p[0]<p[1]?(T=p[0],d=p[1]):(T=p[1],d=p[0]),T=n(T,e),d=n(d,e),T>d&&(d+=e);var x=n(M,e),C=x+e;return x>=T&&x<=d||C>=T&&C<=d}function v(M,p,T,d){if(!h(p,d))return!1;var x,C;return T[0]<T[1]?(x=T[0],C=T[1]):(x=T[1],C=T[0]),M>=x&&M<=C}function y(M,p,T,d,x,C,E){x=x||0,C=C||0;var w=l([T,d]),H,F,k,I,U;w?(H=0,F=a,k=e):T<d?(H=T,k=d):(H=d,k=T),M<p?(I=M,U=p):(I=p,U=M);function Q(G,B){return[G*Math.cos(B)+x,C-G*Math.sin(B)]}var J=Math.abs(k-H)<=a?0:1;function ee(G,B,te){return"A"+[G,G]+" "+[0,J,te]+" "+Q(G,B)}var R;return w?I===null?R="M"+Q(U,H)+ee(U,F,0)+ee(U,k,0)+"Z":R="M"+Q(I,H)+ee(I,F,0)+ee(I,k,0)+"ZM"+Q(U,H)+ee(U,F,1)+ee(U,k,1)+"Z":I===null?(R="M"+Q(U,H)+ee(U,k,0),E&&(R+="L0,0Z")):R="M"+Q(I,H)+"L"+Q(U,H)+ee(U,k,0)+"L"+Q(I,k)+ee(I,H,1)+"Z",R}function m(M,p,T,d,x){return y(null,M,p,T,d,x,0)}function L(M,p,T,d,x){return y(null,M,p,T,d,x,1)}function A(M,p,T,d,x,C){return y(M,p,T,d,x,C,1)}ae.exports={deg2rad:u,rad2deg:s,angleDelta:r,angleDist:c,isFullCircle:l,isAngleInsideSector:h,isPtInsideSector:v,pathArc:m,pathSector:L,pathAnnulus:A}},{"./mod":239}],218:[function(f,ae,W){var t=Array.isArray,n=ArrayBuffer,o=DataView;function a(l){return n.isView(l)&&!(l instanceof o)}W.isTypedArray=a;function e(l){return t(l)||a(l)}W.isArrayOrTypedArray=e;function u(l){return!e(l[0])}W.isArray1D=u,W.ensureArray=function(l,r){return t(l)||(l=[]),l.length=r,l},W.concat=function(){var l=[],r=!0,c=0,h,v,y,m,L,A,M,p;for(y=0;y<arguments.length;y++)m=arguments[y],A=m.length,A&&(v?l.push(m):(v=m,L=A),t(m)?h=!1:(r=!1,c?h!==m.constructor&&(h=!1):h=m.constructor),c+=A);if(!c)return[];if(!l.length)return v;if(r)return v.concat.apply(v,l);if(h){for(M=new h(c),M.set(v),y=0;y<l.length;y++)m=l[y],M.set(m,L),L+=m.length;return M}for(M=new Array(c),p=0;p<v.length;p++)M[p]=v[p];for(y=0;y<l.length;y++){for(m=l[y],p=0;p<m.length;p++)M[L+p]=m[p];L+=p}return M},W.maxRowLength=function(l){return s(l,Math.max,0)},W.minRowLength=function(l){return s(l,Math.min,1/0)};function s(l,r,c){if(e(l))if(e(l[0])){for(var h=c,v=0;v<l.length;v++)h=r(h,l[v].length);return h}else return l.length;return 0}},{}],219:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ae.exports=function(e){return typeof e=="string"&&(e=e.replace(o,"")),t(e)?Number(e):n}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(f,ae,W){ae.exports=function(n){var o=n._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0,depth:!0})})}},{}],221:[function(f,ae,W){ae.exports=function(n){n._responsiveChartHandler&&(window.removeEventListener("resize",n._responsiveChartHandler),delete n._responsiveChartHandler)}},{}],222:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("tinycolor2"),o=f("../plots/attributes"),a=f("../components/colorscale/scales"),e=f("../components/color"),u=f("../constants/interactions").DESELECTDIM,s=f("./nested_property"),l=f("./regex").counter,r=f("./mod").modHalf,c=f("./array").isArrayOrTypedArray;W.valObjectMeta={data_array:{coerceFunction:function(v,y,m){c(v)?y.set(v):m!==void 0&&y.set(m)}},enumerated:{coerceFunction:function(v,y,m,L){L.coerceNumber&&(v=+v),L.values.indexOf(v)===-1?y.set(m):y.set(v)},validateFunction:function(v,y){y.coerceNumber&&(v=+v);for(var m=y.values,L=0;L<m.length;L++){var A=String(m[L]);if(A.charAt(0)==="/"&&A.charAt(A.length-1)==="/"){var M=new RegExp(A.substr(1,A.length-2));if(M.test(v))return!0}else if(v===m[L])return!0}return!1}},boolean:{coerceFunction:function(v,y,m){v===!0||v===!1?y.set(v):y.set(m)}},number:{coerceFunction:function(v,y,m,L){!t(v)||L.min!==void 0&&v<L.min||L.max!==void 0&&v>L.max?y.set(m):y.set(+v)}},integer:{coerceFunction:function(v,y,m,L){v%1||!t(v)||L.min!==void 0&&v<L.min||L.max!==void 0&&v>L.max?y.set(m):y.set(+v)}},string:{coerceFunction:function(v,y,m,L){if(typeof v!="string"){var A=typeof v=="number";L.strict===!0||!A?y.set(m):y.set(String(v))}else L.noBlank&&!v?y.set(m):y.set(v)}},color:{coerceFunction:function(v,y,m){n(v).isValid()?y.set(v):y.set(m)}},colorlist:{coerceFunction:function(v,y,m){function L(A){return n(A).isValid()}!Array.isArray(v)||!v.length?y.set(m):v.every(L)?y.set(v):y.set(m)}},colorscale:{coerceFunction:function(v,y,m){y.set(a.get(v,m))}},angle:{coerceFunction:function(v,y,m){v==="auto"?y.set("auto"):t(v)?y.set(r(+v,360)):y.set(m)}},subplotid:{coerceFunction:function(v,y,m,L){var A=L.regex||l(m);if(typeof v=="string"&&A.test(v)){y.set(v);return}y.set(m)},validateFunction:function(v,y){var m=y.dflt;return v===m?!0:typeof v!="string"?!1:!!l(m).test(v)}},flaglist:{coerceFunction:function(v,y,m,L){if(typeof v!="string"){y.set(m);return}if((L.extras||[]).indexOf(v)!==-1){y.set(v);return}for(var A=v.split("+"),M=0;M<A.length;){var p=A[M];L.flags.indexOf(p)===-1||A.indexOf(p)<M?A.splice(M,1):M++}A.length?y.set(A.join("+")):y.set(m)}},any:{coerceFunction:function(v,y,m){v===void 0?y.set(m):y.set(v)}},info_array:{coerceFunction:function(v,y,m,L){function A(Q,J,ee){var R,G={set:function(B){R=B}};return ee===void 0&&(ee=J.dflt),W.valObjectMeta[J.valType].coerceFunction(Q,G,ee,J),R}var M=L.dimensions===2||L.dimensions==="1-2"&&Array.isArray(v)&&Array.isArray(v[0]);if(!Array.isArray(v)){y.set(m);return}var p=L.items,T=[],d=Array.isArray(p),x=d&&M&&Array.isArray(p[0]),C=M&&d&&!x,E=d&&!C?p.length:v.length,w,H,F,k,I,U;if(m=Array.isArray(m)?m:[],M)for(w=0;w<E;w++)for(T[w]=[],F=Array.isArray(v[w])?v[w]:[],C?I=p.length:d?I=p[w].length:I=F.length,H=0;H<I;H++)C?k=p[H]:d?k=p[w][H]:k=p,U=A(F[H],k,(m[w]||[])[H]),U!==void 0&&(T[w][H]=U);else for(w=0;w<E;w++)U=A(v[w],d?p[w]:p,m[w]),U!==void 0&&(T[w]=U);y.set(T)},validateFunction:function(v,y){if(!Array.isArray(v))return!1;var m=y.items,L=Array.isArray(m),A=y.dimensions===2;if(!y.freeLength&&v.length!==m.length)return!1;for(var M=0;M<v.length;M++)if(A){if(!Array.isArray(v[M])||!y.freeLength&&v[M].length!==m[M].length)return!1;for(var p=0;p<v[M].length;p++)if(!h(v[M][p],L?m[M][p]:m))return!1}else if(!h(v[M],L?m[M]:m))return!1;return!0}}},W.coerce=function(v,y,m,L,A){var M=s(m,L).get(),p=s(v,L),T=s(y,L),d=p.get(),x=y._template;if(d===void 0&&x&&(d=s(x,L).get(),x=0),A===void 0&&(A=M.dflt),M.arrayOk&&c(d))return T.set(d),d;var C=W.valObjectMeta[M.valType].coerceFunction;C(d,T,A,M);var E=T.get();return x&&E===A&&!h(d,M)&&(d=s(x,L).get(),C(d,T,A,M),E=T.get()),E},W.coerce2=function(v,y,m,L,A){var M=s(v,L),p=W.coerce(v,y,m,L,A),T=M.get();return T!=null?p:!1},W.coerceFont=function(v,y,m){var L={};return m=m||{},L.family=v(y+".family",m.family),L.size=v(y+".size",m.size),L.color=v(y+".color",m.color),L},W.coercePattern=function(v,y,m,L){var A=v(y+".shape");if(A){v(y+".solidity"),v(y+".size");var M=v(y+".fillmode"),p=M==="overlay";if(!L){var T=v(y+".bgcolor",p?m:void 0);v(y+".fgcolor",p?e.contrast(T):m)}v(y+".fgopacity",p?.5:1)}},W.coerceHoverinfo=function(v,y,m){var L=y._module.attributes,A=L.hoverinfo?L:o,M=A.hoverinfo,p;if(m._dataLength===1){var T=M.dflt==="all"?M.flags.slice():M.dflt.split("+");T.splice(T.indexOf("name"),1),p=T.join("+")}return W.coerce(v,y,A,"hoverinfo",p)},W.coerceSelectionMarkerOpacity=function(v,y){if(!!v.marker){var m=v.marker.opacity;if(m!==void 0){var L,A;!c(m)&&!v.selected&&!v.unselected&&(L=m,A=u*m),y("selected.marker.opacity",L),y("unselected.marker.opacity",A)}}};function h(v,y){var m=W.valObjectMeta[y.valType];if(y.arrayOk&&c(v))return!0;if(m.validateFunction)return m.validateFunction(v,y);var L={},A=L,M={set:function(p){A=p}};return m.coerceFunction(v,M,L,y),A!==L}W.validate=h},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(f,ae,W){var t=f("d3-time-format").timeFormat,n=f("fast-isnumeric"),o=f("./loggers"),a=f("./mod").mod,e=f("../constants/numerical"),u=e.BADNUM,s=e.ONEDAY,l=e.ONEHOUR,r=e.ONEMIN,c=e.ONESEC,h=e.EPOCHJD,v=f("../registry"),y=f("d3-time-format").utcFormat,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,L=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,A=new Date().getFullYear()-70;function M(R){return R&&v.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}W.dateTick0=function(R,G){var B=p(R,!!G);if(G<2)return B;var te=W.dateTime2ms(B,R);return te+=s*(G-1),W.ms2DateTime(te,0,R)};function p(R,G){return M(R)?G?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[R]:v.getComponentMethod("calendars","CANONICAL_TICK")[R]:G?"2000-01-02":"2000-01-01"}W.dfltRange=function(R){return M(R)?v.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},W.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"};var T,d;W.dateTime2ms=function(R,G){if(W.isJSDate(R)){var B=R.getTimezoneOffset()*r,te=(R.getUTCMinutes()-R.getMinutes())*r+(R.getUTCSeconds()-R.getSeconds())*c+(R.getUTCMilliseconds()-R.getMilliseconds());if(te){var ne=3*r;B=B-ne/2+a(te-B+ne/2,ne)}return R=Number(R)-B,R>=T&&R<=d?R:u}if(typeof R!="string"&&typeof R!="number")return u;R=String(R);var oe=M(G),me=R.charAt(0);oe&&(me==="G"||me==="g")&&(R=R.substr(1),G="");var de=oe&&G.substr(0,7)==="chinese",ie=R.match(de?L:m);if(!ie)return u;var Z=ie[1],q=ie[3]||"1",K=Number(ie[5]||1),g=Number(ie[7]||0),S=Number(ie[9]||0),Y=Number(ie[11]||0);if(oe){if(Z.length===2)return u;Z=Number(Z);var z;try{var _=v.getComponentMethod("calendars","getCal")(G);if(de){var O=q.charAt(q.length-1)==="i";q=parseInt(q,10),z=_.newDate(Z,_.toMonthIndex(Z,q,O),K)}else z=_.newDate(Z,Number(q),K)}catch{return u}return z?(z.toJD()-h)*s+g*l+S*r+Y*c:u}Z.length===2?Z=(Number(Z)+2e3-A)%100+A:Z=Number(Z),q-=1;var N=new Date(Date.UTC(2e3,q,K,g,S));return N.setUTCFullYear(Z),N.getUTCMonth()!==q||N.getUTCDate()!==K?u:N.getTime()+Y*c},T=W.MIN_MS=W.dateTime2ms("-9999"),d=W.MAX_MS=W.dateTime2ms("9999-12-31 23:59:59.9999"),W.isDateTime=function(R,G){return W.dateTime2ms(R,G)!==u};function x(R,G){return String(R+Math.pow(10,G)).substr(1)}var C=90*s,E=3*l,w=5*r;W.ms2DateTime=function(R,G,B){if(typeof R!="number"||!(R>=T&&R<=d))return u;G||(G=0);var te=Math.floor(a(R+.05,1)*10),ne=Math.round(R-te/10),oe,me,de,ie,Z,q;if(M(B)){var K=Math.floor(ne/s)+h,g=Math.floor(a(R,s));try{oe=v.getComponentMethod("calendars","getCal")(B).fromJD(K).formatDate("yyyy-mm-dd")}catch{oe=y("G%Y-%m-%d")(new Date(ne))}if(oe.charAt(0)==="-")for(;oe.length<11;)oe="-0"+oe.substr(1);else for(;oe.length<10;)oe="0"+oe;me=G<C?Math.floor(g/l):0,de=G<C?Math.floor(g%l/r):0,ie=G<E?Math.floor(g%r/c):0,Z=G<w?g%c*10+te:0}else q=new Date(ne),oe=y("%Y-%m-%d")(q),me=G<C?q.getUTCHours():0,de=G<C?q.getUTCMinutes():0,ie=G<E?q.getUTCSeconds():0,Z=G<w?q.getUTCMilliseconds()*10+te:0;return H(oe,me,de,ie,Z)},W.ms2DateTimeLocal=function(R){if(!(R>=T+s&&R<=d-s))return u;var G=Math.floor(a(R+.05,1)*10),B=new Date(Math.round(R-G/10)),te=t("%Y-%m-%d")(B),ne=B.getHours(),oe=B.getMinutes(),me=B.getSeconds(),de=B.getUTCMilliseconds()*10+G;return H(te,ne,oe,me,de)};function H(R,G,B,te,ne){if((G||B||te||ne)&&(R+=" "+x(G,2)+":"+x(B,2),(te||ne)&&(R+=":"+x(te,2),ne))){for(var oe=4;ne%10===0;)oe-=1,ne/=10;R+="."+x(ne,oe)}return R}W.cleanDate=function(R,G,B){if(R===u)return G;if(W.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(M(B))return o.error("JS Dates and milliseconds are incompatible with world calendars",R),G;if(R=W.ms2DateTimeLocal(+R),!R&&G!==void 0)return G}else if(!W.isDateTime(R,B))return o.error("unrecognized date",R),G;return R};var F=/%\d?f/g,k=/%h/g,I={1:"1",2:"1",3:"2",4:"2"};function U(R,G,B,te){R=R.replace(F,function(oe){var me=Math.min(+oe.charAt(1)||6,6),de=(G/1e3%1+2).toFixed(me).substr(2).replace(/0+$/,"")||"0";return de});var ne=new Date(Math.floor(G+.05));if(R=R.replace(k,function(){return I[B("%q")(ne)]}),M(te))try{R=v.getComponentMethod("calendars","worldCalFmt")(R,G,te)}catch{return"Invalid"}return B(R)(ne)}var Q=[59,59.9,59.99,59.999,59.9999];function J(R,G){var B=a(R+.05,s),te=x(Math.floor(B/l),2)+":"+x(a(Math.floor(B/r),60),2);if(G!=="M"){n(G)||(G=0);var ne=Math.min(a(R/c,60),Q[G]),oe=(100+ne).toFixed(G).substr(1);G>0&&(oe=oe.replace(/0+$/,"").replace(/[\.]$/,"")),te+=":"+oe}return te}W.formatDate=function(R,G,B,te,ne,oe){if(ne=M(ne)&&ne,!G)if(B==="y")G=oe.year;else if(B==="m")G=oe.month;else if(B==="d")G=oe.dayMonth+`
`+oe.year;else return J(R,B)+`
`+U(oe.dayMonthYear,R,te,ne);return U(G,R,te,ne)};var ee=3*s;W.incrementMonth=function(R,G,B){B=M(B)&&B;var te=a(R,s);if(R=Math.round(R-te),B)try{var ne=Math.round(R/s)+h,oe=v.getComponentMethod("calendars","getCal")(B),me=oe.fromJD(ne);return G%12?oe.add(me,G,"m"):oe.add(me,G/12,"y"),(me.toJD()-h)*s+te}catch{o.error("invalid ms "+R+" in calendar "+B)}var de=new Date(R+ee);return de.setUTCMonth(de.getUTCMonth()+G)+te-ee},W.findExactDates=function(R,G){for(var B=0,te=0,ne=0,oe=0,me,de,ie=M(G)&&v.getComponentMethod("calendars","getCal")(G),Z=0;Z<R.length;Z++){if(de=R[Z],!n(de)){oe++;continue}if(!(de%s))if(ie)try{me=ie.fromJD(de/s+h),me.day()===1?me.month()===1?B++:te++:ne++}catch{}else me=new Date(de),me.getUTCDate()===1?me.getUTCMonth()===0?B++:te++:ne++}te+=B,ne+=te;var q=R.length-oe;return{exactYears:B/q,exactMonths:te/q,exactDays:ne/q}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(f,ae,W){var t=f("@plotly/d3"),n=f("./loggers"),o=f("./matrix"),a=f("gl-mat4");function e(A){var M;if(typeof A=="string"){if(M=document.getElementById(A),M===null)throw new Error("No DOM element with id '"+A+"' exists on the page.");return M}else if(A==null)throw new Error("DOM element provided is null or undefined");return A}function u(A){var M=t.select(A);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function s(A){var M=A&&A.parentNode;M&&M.removeChild(A)}function l(A,M){r("global",A,M)}function r(A,M,p){var T="plotly.js-style-"+A,d=document.getElementById(T);d||(d=document.createElement("style"),d.setAttribute("id",T),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var x=d.sheet;x.insertRule?x.insertRule(M+"{"+p+"}",0):x.addRule?x.addRule(M,p,0):n.warn("addStyleRule failed")}function c(A){var M="plotly.js-style-"+A,p=document.getElementById(M);p&&s(p)}function h(A){var M=y(A),p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(T){var d=v(T);if(d){var x=o.convertCssMatrix(d);p=a.multiply(p,p,x)}}),p}function v(A){var M=window.getComputedStyle(A,null),p=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return p==="none"?null:p.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(T){return+T})}function y(A){for(var M=[];m(A);)M.push(A),A=A.parentNode;return M}function m(A){return A&&(A instanceof Element||A instanceof HTMLElement)}function L(A,M){return A&&M&&A.x===M.x&&A.y===M.y&&A.top===M.top&&A.left===M.left&&A.right===M.right&&A.bottom===M.bottom}ae.exports={getGraphDiv:e,isPlotDiv:u,removeElement:s,addStyleRule:l,addRelatedStyleRule:r,deleteRelatedStyleRule:c,getFullTransformMatrix:h,getElementTransformMatrix:v,getElementAndAncestors:y,equalDomRects:L}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(f,ae,W){var t=f("events").EventEmitter,n={init:function(o){if(o._ev instanceof t)return o;var a=new t,e=new t;return o._ev=a,o._internalEv=e,o.on=a.on.bind(a),o.once=a.once.bind(a),o.removeListener=a.removeListener.bind(a),o.removeAllListeners=a.removeAllListeners.bind(a),o._internalOn=e.on.bind(e),o._internalOnce=e.once.bind(e),o._removeInternalListener=e.removeListener.bind(e),o._removeAllInternalListeners=e.removeAllListeners.bind(e),o.emit=function(u,s){typeof jQuery!="undefined"&&jQuery(o).trigger(u,s),a.emit(u,s),e.emit(u,s)},o},triggerHandler:function(o,a,e){var u,s;typeof jQuery!="undefined"&&(u=jQuery(o).triggerHandler(a,e));var l=o._ev;if(!l)return u;var r=l._events[a];if(!r)return u;function c(v){if(v.listener){if(l.removeListener(a,v.listener),!v.fired)return v.fired=!0,v.listener.apply(l,[e])}else return v.apply(l,[e])}r=Array.isArray(r)?r:[r];var h;for(h=0;h<r.length-1;h++)c(r[h]);return s=c(r[h]),u!==void 0?u:s},purge:function(o){return delete o._ev,delete o.on,delete o.once,delete o.removeListener,delete o.removeAllListeners,delete o.emit,delete o._ev,delete o._internalEv,delete o._internalOn,delete o._internalOnce,delete o._removeInternalListener,delete o._removeAllInternalListeners,o}};ae.exports=n},{events:12}],226:[function(f,ae,W){var t=f("./is_plain_object.js"),n=Array.isArray;function o(e,u){var s,l;for(s=0;s<e.length;s++){if(l=e[s],l!==null&&typeof l=="object")return!1;l!==void 0&&(u[s]=l)}return!0}W.extendFlat=function(){return a(arguments,!1,!1,!1)},W.extendDeep=function(){return a(arguments,!0,!1,!1)},W.extendDeepAll=function(){return a(arguments,!0,!0,!1)},W.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)};function a(e,u,s,l){var r=e[0],c=e.length,h,v,y,m,L,A,M;if(c===2&&n(r)&&n(e[1])&&r.length===0){if(M=o(e[1],r),M)return r;r.splice(0,r.length)}for(var p=1;p<c;p++){h=e[p];for(v in h)y=r[v],m=h[v],l&&n(m)?r[v]=m:u&&m&&(t(m)||(L=n(m)))?(L?(L=!1,A=y&&n(y)?y:[]):A=y&&t(y)?y:{},r[v]=a([A,m],u,s,l)):(typeof m!="undefined"||s)&&(r[v]=m)}return r}},{"./is_plain_object.js":233}],227:[function(f,ae,W){ae.exports=function(n){for(var o={},a=[],e=0,u=0;u<n.length;u++){var s=n[u];o[s]!==1&&(o[s]=1,a[e++]=s)}return a}},{}],228:[function(f,ae,W){ae.exports=function(e){for(var u=o(e)?n:t,s=[],l=0;l<e.length;l++){var r=e[l];u(r)&&s.push(r)}return s};function t(a){return a.visible===!0}function n(a){var e=a[0].trace;return e.visible===!0&&e._length!==0}function o(a){return Array.isArray(a)&&Array.isArray(a[0])&&a[0][0]&&a[0][0].trace}},{}],229:[function(f,ae,W){var t=f("./mod").mod;W.segmentsIntersect=n;function n(s,l,r,c,h,v,y,m){var L=r-s,A=h-s,M=y-h,p=c-l,T=v-l,d=m-v,x=L*d-M*p;if(x===0)return null;var C=(A*d-M*T)/x,E=(A*p-L*T)/x;return E<0||E>1||C<0||C>1?null:{x:s+L*C,y:l+p*C}}W.segmentDistance=function(l,r,c,h,v,y,m,L){if(n(l,r,c,h,v,y,m,L))return 0;var A=c-l,M=h-r,p=m-v,T=L-y,d=A*A+M*M,x=p*p+T*T,C=Math.min(o(A,M,d,v-l,y-r),o(A,M,d,m-l,L-r),o(p,T,x,l-v,r-y),o(p,T,x,c-v,h-y));return Math.sqrt(C)};function o(s,l,r,c,h){var v=c*s+h*l;if(v<0)return c*c+h*h;if(v>r){var y=c-s,m=h-l;return y*y+m*m}else{var L=c*l-h*s;return L*L/r}}var a,e,u;W.getTextLocation=function(l,r,c,h){if((l!==e||h!==u)&&(a={},e=l,u=h),a[c])return a[c];var v=l.getPointAtLength(t(c-h/2,r)),y=l.getPointAtLength(t(c+h/2,r)),m=Math.atan((y.y-v.y)/(y.x-v.x)),L=l.getPointAtLength(t(c,r)),A=(L.x*4+v.x+y.x)/6,M=(L.y*4+v.y+y.y)/6,p={x:A,y:M,theta:m};return a[c]=p,p},W.clearLocationCache=function(){e=null},W.getVisibleSegment=function(l,r,c){var h=r.left,v=r.right,y=r.top,m=r.bottom,L=0,A=l.getTotalLength(),M=A,p,T;function d(C){var E=l.getPointAtLength(C);C===0?p=E:C===A&&(T=E);var w=E.x<h?h-E.x:E.x>v?E.x-v:0,H=E.y<y?y-E.y:E.y>m?E.y-m:0;return Math.sqrt(w*w+H*H)}for(var x=d(L);x;){if(L+=x+c,L>M)return;x=d(L)}for(x=d(M);x;){if(M-=x+c,L>M)return;x=d(M)}return{min:L,max:M,len:M-L,total:A,isClosed:L===0&&M===A&&Math.abs(p.x-T.x)<.1&&Math.abs(p.y-T.y)<.1}},W.findPointOnPath=function(l,r,c,h){h=h||{};for(var v=h.pathLength||l.getTotalLength(),y=h.tolerance||.001,m=h.iterationLimit||30,L=l.getPointAtLength(0)[c]>l.getPointAtLength(v)[c]?-1:1,A=0,M=0,p=v,T,d,x;A<m;){if(T=(M+p)/2,d=l.getPointAtLength(T),x=d[c]-r,Math.abs(x)<y)return d;L*x>0?p=T:M=T,A++}return d}},{"./mod":239}],230:[function(f,ae,W){ae.exports=function(n){return n}},{}],231:[function(f,ae,W){ae.exports=function(n,o){if(!o)return n;var a=1/Math.abs(o),e=a>1?(a*n+a*o)/a:n+o,u=String(e).length;if(u>16){var s=String(o).length,l=String(n).length;if(u>=l+s){var r=parseFloat(e).toPrecision(12);r.indexOf("e+")===-1&&(e=+r)}}return e}},{}],232:[function(f,ae,W){var t=f("@plotly/d3"),n=f("d3-time-format").utcFormat,o=f("d3-format").format,a=f("fast-isnumeric"),e=f("../constants/numerical"),u=e.FP_SAFE,s=-u,l=e.BADNUM,r=ae.exports={};r.adjustFormat=function(q){return!q||/^\d[.]\df/.test(q)||/[.]\d%/.test(q)?q:q==="0.f"?"~f":/^\d%/.test(q)?"~%":/^\ds/.test(q)?"~s":!/^[~,.0$]/.test(q)&&/[&fps]/.test(q)?"~"+q:q};var c={};r.warnBadFormat=function(Z){var q=String(Z);c[q]||(c[q]=1,r.warn('encountered bad format: "'+q+'"'))},r.noFormat=function(Z){return String(Z)},r.numberFormat=function(Z){var q;try{q=o(r.adjustFormat(Z))}catch{return r.warnBadFormat(Z),r.noFormat}return q},r.nestedProperty=f("./nested_property"),r.keyedContainer=f("./keyed_container"),r.relativeAttr=f("./relative_attr"),r.isPlainObject=f("./is_plain_object"),r.toLogRange=f("./to_log_range"),r.relinkPrivateKeys=f("./relink_private");var h=f("./array");r.isTypedArray=h.isTypedArray,r.isArrayOrTypedArray=h.isArrayOrTypedArray,r.isArray1D=h.isArray1D,r.ensureArray=h.ensureArray,r.concat=h.concat,r.maxRowLength=h.maxRowLength,r.minRowLength=h.minRowLength;var v=f("./mod");r.mod=v.mod,r.modHalf=v.modHalf;var y=f("./coerce");r.valObjectMeta=y.valObjectMeta,r.coerce=y.coerce,r.coerce2=y.coerce2,r.coerceFont=y.coerceFont,r.coercePattern=y.coercePattern,r.coerceHoverinfo=y.coerceHoverinfo,r.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,r.validate=y.validate;var m=f("./dates");r.dateTime2ms=m.dateTime2ms,r.isDateTime=m.isDateTime,r.ms2DateTime=m.ms2DateTime,r.ms2DateTimeLocal=m.ms2DateTimeLocal,r.cleanDate=m.cleanDate,r.isJSDate=m.isJSDate,r.formatDate=m.formatDate,r.incrementMonth=m.incrementMonth,r.dateTick0=m.dateTick0,r.dfltRange=m.dfltRange,r.findExactDates=m.findExactDates,r.MIN_MS=m.MIN_MS,r.MAX_MS=m.MAX_MS;var L=f("./search");r.findBin=L.findBin,r.sorterAsc=L.sorterAsc,r.sorterDes=L.sorterDes,r.distinctVals=L.distinctVals,r.roundUp=L.roundUp,r.sort=L.sort,r.findIndexOfMin=L.findIndexOfMin,r.sortObjectKeys=f("./sort_object_keys");var A=f("./stats");r.aggNums=A.aggNums,r.len=A.len,r.mean=A.mean,r.median=A.median,r.midRange=A.midRange,r.variance=A.variance,r.stdev=A.stdev,r.interp=A.interp;var M=f("./matrix");r.init2dArray=M.init2dArray,r.transposeRagged=M.transposeRagged,r.dot=M.dot,r.translationMatrix=M.translationMatrix,r.rotationMatrix=M.rotationMatrix,r.rotationXYMatrix=M.rotationXYMatrix,r.apply3DTransform=M.apply3DTransform,r.apply2DTransform=M.apply2DTransform,r.apply2DTransform2=M.apply2DTransform2,r.convertCssMatrix=M.convertCssMatrix,r.inverseTransformMatrix=M.inverseTransformMatrix;var p=f("./angles");r.deg2rad=p.deg2rad,r.rad2deg=p.rad2deg,r.angleDelta=p.angleDelta,r.angleDist=p.angleDist,r.isFullCircle=p.isFullCircle,r.isAngleInsideSector=p.isAngleInsideSector,r.isPtInsideSector=p.isPtInsideSector,r.pathArc=p.pathArc,r.pathSector=p.pathSector,r.pathAnnulus=p.pathAnnulus;var T=f("./anchor_utils");r.isLeftAnchor=T.isLeftAnchor,r.isCenterAnchor=T.isCenterAnchor,r.isRightAnchor=T.isRightAnchor,r.isTopAnchor=T.isTopAnchor,r.isMiddleAnchor=T.isMiddleAnchor,r.isBottomAnchor=T.isBottomAnchor;var d=f("./geometry2d");r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var x=f("./extend");r.extendFlat=x.extendFlat,r.extendDeep=x.extendDeep,r.extendDeepAll=x.extendDeepAll,r.extendDeepNoArrays=x.extendDeepNoArrays;var C=f("./loggers");r.log=C.log,r.warn=C.warn,r.error=C.error;var E=f("./regex");r.counterRegex=E.counter;var w=f("./throttle");r.throttle=w.throttle,r.throttleDone=w.done,r.clearThrottle=w.clear;var H=f("./dom");r.getGraphDiv=H.getGraphDiv,r.isPlotDiv=H.isPlotDiv,r.removeElement=H.removeElement,r.addStyleRule=H.addStyleRule,r.addRelatedStyleRule=H.addRelatedStyleRule,r.deleteRelatedStyleRule=H.deleteRelatedStyleRule,r.getFullTransformMatrix=H.getFullTransformMatrix,r.getElementTransformMatrix=H.getElementTransformMatrix,r.getElementAndAncestors=H.getElementAndAncestors,r.equalDomRects=H.equalDomRects,r.clearResponsive=f("./clear_responsive"),r.preserveDrawingBuffer=f("./preserve_drawing_buffer"),r.makeTraceGroups=f("./make_trace_groups"),r._=f("./localize"),r.notifier=f("./notifier"),r.filterUnique=f("./filter_unique"),r.filterVisible=f("./filter_visible"),r.pushUnique=f("./push_unique"),r.increment=f("./increment"),r.cleanNumber=f("./clean_number"),r.ensureNumber=function(q){return a(q)?(q=Number(q),q>u||q<s?l:q):l},r.isIndex=function(Z,q){return q!==void 0&&Z>=q?!1:a(Z)&&Z>=0&&Z%1===0},r.noop=f("./noop"),r.identity=f("./identity"),r.repeat=function(Z,q){for(var K=new Array(q),g=0;g<q;g++)K[g]=Z;return K},r.swapAttrs=function(Z,q,K,g){K||(K="x"),g||(g="y");for(var S=0;S<q.length;S++){var Y=q[S],z=r.nestedProperty(Z,Y.replace("?",K)),_=r.nestedProperty(Z,Y.replace("?",g)),O=z.get();z.set(_.get()),_.set(O)}},r.raiseToTop=function(q){q.parentNode.appendChild(q)},r.cancelTransition=function(Z){return Z.transition().duration(0)},r.constrain=function(Z,q,K){return q>K?Math.max(K,Math.min(q,Z)):Math.max(q,Math.min(K,Z))},r.bBoxIntersect=function(Z,q,K){return K=K||0,Z.left<=q.right+K&&q.left<=Z.right+K&&Z.top<=q.bottom+K&&q.top<=Z.bottom+K},r.simpleMap=function(Z,q,K,g,S){for(var Y=Z.length,z=new Array(Y),_=0;_<Y;_++)z[_]=q(Z[_],K,g,S);return z},r.randstr=function Z(q,K,g,S){if(g||(g=16),K===void 0&&(K=24),K<=0)return"0";var Y=Math.log(Math.pow(2,K))/Math.log(g),z="",_,O,N;for(_=2;Y===1/0;_*=2)Y=Math.log(Math.pow(2,K/_))/Math.log(g)*_;var P=Y-Math.floor(Y);for(_=0;_<Math.floor(Y);_++)N=Math.floor(Math.random()*g).toString(g),z=N+z;P&&(O=Math.pow(g,P),N=Math.floor(Math.random()*O).toString(g),z=N+z);var j=parseInt(z,g);return q&&q[z]||j!==1/0&&j>=Math.pow(2,K)?S>10?(r.warn("randstr failed uniqueness"),z):Z(q,K,g,(S||0)+1):z},r.OptionControl=function(Z,q){Z||(Z={}),q||(q="opt");var K={};return K.optionList=[],K._newoption=function(g){g[q]=Z,K[g.name]=g,K.optionList.push(g)},K["_"+q]=Z,K},r.smooth=function(Z,q){if(q=Math.round(q)||0,q<2)return Z;var K=Z.length,g=2*K,S=2*q-1,Y=new Array(S),z=new Array(K),_,O,N,P;for(_=0;_<S;_++)Y[_]=(1-Math.cos(Math.PI*(_+1)/q))/(2*q);for(_=0;_<K;_++){for(P=0,O=0;O<S;O++)N=_+O+1-q,N<-K?N-=g*Math.round(N/g):N>=g&&(N-=g*Math.floor(N/g)),N<0?N=-1-N:N>=K&&(N=g-1-N),P+=Z[N]*Y[O];z[_]=P}return z},r.syncOrAsync=function(Z,q,K){var g,S;function Y(){return r.syncOrAsync(Z,q,K)}for(;Z.length;)if(S=Z.splice(0,1)[0],g=S(q),g&&g.then)return g.then(Y);return K&&K(q)},r.stripTrailingSlash=function(Z){return Z.substr(-1)==="/"?Z.substr(0,Z.length-1):Z},r.noneOrAll=function(Z,q,K){if(!!Z){var g=!1,S=!0,Y,z;for(Y=0;Y<K.length;Y++)z=Z[K[Y]],z!=null?g=!0:S=!1;if(g&&!S)for(Y=0;Y<K.length;Y++)Z[K[Y]]=q[K[Y]]}},r.mergeArray=function(Z,q,K,g){var S=typeof g=="function";if(r.isArrayOrTypedArray(Z))for(var Y=Math.min(Z.length,q.length),z=0;z<Y;z++){var _=Z[z];q[z][K]=S?g(_):_}},r.mergeArrayCastPositive=function(Z,q,K){return r.mergeArray(Z,q,K,function(g){var S=+g;return isFinite(S)&&S>0?S:0})},r.fillArray=function(Z,q,K,g){if(g=g||r.identity,r.isArrayOrTypedArray(Z))for(var S=0;S<q.length;S++)q[S][K]=g(Z[S])},r.castOption=function(Z,q,K,g){g=g||r.identity;var S=r.nestedProperty(Z,K).get();return r.isArrayOrTypedArray(S)?Array.isArray(q)&&r.isArrayOrTypedArray(S[q[0]])?g(S[q[0]][q[1]]):g(S[q]):S},r.extractOption=function(Z,q,K,g){if(K in Z)return Z[K];var S=r.nestedProperty(q,g).get();if(!Array.isArray(S))return S};function F(Z){var q={};for(var K in Z)for(var g=Z[K],S=0;S<g.length;S++)q[g[S]]=+K;return q}r.tagSelected=function(Z,q,K){var g=q.selectedpoints,S=q._indexToPoints,Y;S&&(Y=F(S));function z(j){return j!==void 0&&j<Z.length}for(var _=0;_<g.length;_++){var O=g[_];if(r.isIndex(O)||r.isArrayOrTypedArray(O)&&r.isIndex(O[0])&&r.isIndex(O[1])){var N=Y?Y[O]:O,P=K?K[N]:N;z(P)&&(Z[P].selected=1)}}},r.selIndices2selPoints=function(Z){var q=Z.selectedpoints,K=Z._indexToPoints;if(K){for(var g=F(K),S=[],Y=0;Y<q.length;Y++){var z=q[Y];if(r.isIndex(z)){var _=g[z];r.isIndex(_)&&S.push(_)}}return S}else return q},r.getTargetArray=function(Z,q){var K=q.target;if(typeof K=="string"&&K){var g=r.nestedProperty(Z,K).get();return Array.isArray(g)?g:!1}else if(Array.isArray(K))return K;return!1},r.minExtend=function(Z,q){var K={};typeof q!="object"&&(q={});var g=3,S=Object.keys(Z),Y,z,_;for(Y=0;Y<S.length;Y++)z=S[Y],_=Z[z],!(z.charAt(0)==="_"||typeof _=="function")&&(z==="module"?K[z]=_:Array.isArray(_)?z==="colorscale"?K[z]=_.slice():K[z]=_.slice(0,g):r.isTypedArray(_)?K[z]=_.subarray(0,g):_&&typeof _=="object"?K[z]=r.minExtend(Z[z],q[z]):K[z]=_);for(S=Object.keys(q),Y=0;Y<S.length;Y++)z=S[Y],_=q[z],(typeof _!="object"||!(z in K)||typeof K[z]!="object")&&(K[z]=_);return K},r.titleCase=function(Z){return Z.charAt(0).toUpperCase()+Z.substr(1)},r.containsAny=function(Z,q){for(var K=0;K<q.length;K++)if(Z.indexOf(q[K])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var k=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return k.test(window.navigator.userAgent)};var I=/iPad|iPhone|iPod/;r.isIOS=function(){return I.test(window.navigator.userAgent)};var U=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var Z=U.exec(window.navigator.userAgent);if(Z&&Z.length===2){var q=parseInt(Z[1]);if(!isNaN(q))return q}return null},r.isD3Selection=function(Z){return Z instanceof t.selection},r.ensureSingle=function(Z,q,K,g){var S=Z.select(q+(K?"."+K:""));if(S.size())return S;var Y=Z.append(q);return K&&Y.classed(K,!0),g&&Y.call(g),Y},r.ensureSingleById=function(Z,q,K,g){var S=Z.select(q+"#"+K);if(S.size())return S;var Y=Z.append(q).attr("id",K);return g&&Y.call(g),Y},r.objectFromPath=function(Z,q){for(var K=Z.split("."),g,S=g={},Y=0;Y<K.length;Y++){var z=K[Y],_=null,O=K[Y].match(/(.*)\[([0-9]+)\]/);O?(z=O[1],_=O[2],g=g[z]=[],Y===K.length-1?g[_]=q:g[_]={},g=g[_]):(Y===K.length-1?g[z]=q:g[z]={},g=g[z])}return S};var Q=/^([^\[\.]+)\.(.+)?/,J=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(Z){var q,K,g,S,Y,z,_;if(typeof Z=="object"&&!Array.isArray(Z))for(K in Z)Z.hasOwnProperty(K)&&((q=K.match(Q))?(S=Z[K],g=q[1],delete Z[K],Z[g]=r.extendDeepNoArrays(Z[g]||{},r.objectFromPath(K,r.expandObjectPaths(S))[g])):(q=K.match(J))?(S=Z[K],g=q[1],Y=parseInt(q[2]),delete Z[K],Z[g]=Z[g]||[],q[3]==="."?(_=q[4],z=Z[g][Y]=Z[g][Y]||{},r.extendDeepNoArrays(z,r.objectFromPath(_,r.expandObjectPaths(S)))):Z[g][Y]=r.expandObjectPaths(S)):Z[K]=r.expandObjectPaths(Z[K]));return Z},r.numSeparate=function(Z,q,K){if(K||(K=!1),typeof q!="string"||q.length===0)throw new Error("Separator string required for formatting!");typeof Z=="number"&&(Z=String(Z));var g=/(\d+)(\d{3})/,S=q.charAt(0),Y=q.charAt(1),z=Z.split("."),_=z[0],O=z.length>1?S+z[1]:"";if(Y&&(z.length>1||_.length>4||K))for(;g.test(_);)_=_.replace(g,"$1"+Y+"$2");return _+O},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ee=/^\w*$/;r.templateString=function(Z,q){var K={};return Z.replace(r.TEMPLATE_STRING_REGEX,function(g,S){var Y;return ee.test(S)?Y=q[S]:(K[S]=K[S]||r.nestedProperty(q,S).get,Y=K[S]()),r.isValidTextValue(Y)?Y:""})};var R={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return te.apply(R,arguments)};var G={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return te.apply(G,arguments)};var B=/^[:|\|]/;function te(Z,q,K){var g=this,S=arguments;q||(q={});var Y={};return Z.replace(r.TEMPLATE_STRING_REGEX,function(z,_,O){var N=_==="xother"||_==="yother",P=_==="_xother"||_==="_yother",j=_==="_xother_"||_==="_yother_",se=_==="xother_"||_==="yother_",ce=N||P||se||j,fe=_;(P||j)&&(fe=fe.substring(1)),(se||j)&&(fe=fe.substring(0,fe.length-1));var pe;if(ce){if(pe=q[fe],pe===void 0)return""}else{var be,Re;for(Re=3;Re<S.length;Re++)if(be=S[Re],!!be){if(be.hasOwnProperty(fe)){pe=be[fe];break}if(ee.test(fe)||(pe=r.nestedProperty(be,fe).get(),pe=Y[fe]||r.nestedProperty(be,fe).get(),pe&&(Y[fe]=pe)),pe!==void 0)break}}if(pe===void 0&&g)return g.count<g.max&&(r.warn("Variable '"+fe+"' in "+g.name+" could not be found!"),pe=z),g.count===g.max&&r.warn("Too many "+g.name+" warnings - additional warnings will be suppressed"),g.count++,z;if(O){var ke;if(O[0]===":"&&(ke=K?K.numberFormat:r.numberFormat,pe=ke(O.replace(B,""))(pe)),O[0]==="|"){ke=K?K.timeFormat:n;var Oe=r.dateTime2ms(pe);pe=r.formatDate(Oe,O.replace(B,""),!1,ke)}}else{var Be=fe+"Label";q.hasOwnProperty(Be)&&(pe=q[Be])}return ce&&(pe="("+pe+")",(P||j)&&(pe=" "+pe),(se||j)&&(pe=pe+" ")),pe})}var ne=48,oe=57;r.subplotSort=function(Z,q){for(var K=Math.min(Z.length,q.length)+1,g=0,S=0,Y=0;Y<K;Y++){var z=Z.charCodeAt(Y)||0,_=q.charCodeAt(Y)||0,O=z>=ne&&z<=oe,N=_>=ne&&_<=oe;if(O&&(g=10*g+z-ne),N&&(S=10*S+_-ne),!O||!N){if(g!==S)return g-S;if(z!==_)return z-_}}return S-g};var me=2e9;r.seedPseudoRandom=function(){me=2e9},r.pseudoRandom=function(){var Z=me;return me=(69069*me+1)%4294967296,Math.abs(me-Z)<429496729?r.pseudoRandom():me/4294967296},r.fillText=function(Z,q,K){var g=Array.isArray(K)?function(z){K.push(z)}:function(z){K.text=z},S=r.extractOption(Z,q,"htx","hovertext");if(r.isValidTextValue(S))return g(S);var Y=r.extractOption(Z,q,"tx","text");if(r.isValidTextValue(Y))return g(Y)},r.isValidTextValue=function(Z){return Z||Z===0},r.formatPercent=function(Z,q){q=q||0;for(var K=(Math.round(100*Z*Math.pow(10,q))*Math.pow(.1,q)).toFixed(q)+"%",g=0;g<q;g++)K.indexOf(".")!==-1&&(K=K.replace("0%","%"),K=K.replace(".%","%"));return K},r.isHidden=function(Z){var q=window.getComputedStyle(Z).display;return!q||q==="none"},r.strTranslate=function(Z,q){return Z||q?"translate("+Z+","+q+")":""},r.strRotate=function(Z){return Z?"rotate("+Z+")":""},r.strScale=function(Z){return Z!==1?"scale("+Z+")":""},r.getTextTransform=function(Z){var q=Z.noCenter,K=Z.textX,g=Z.textY,S=Z.targetX,Y=Z.targetY,z=Z.anchorX||0,_=Z.anchorY||0,O=Z.rotate,N=Z.scale;return N?N>1&&(N=1):N=0,r.strTranslate(S-N*(K+z),Y-N*(g+_))+r.strScale(N)+(O?"rotate("+O+(q?"":" "+K+" "+g)+")":"")},r.ensureUniformFontSize=function(Z,q){var K=r.extendFlat({},q);return K.size=Math.max(q.size,Z._fullLayout.uniformtext.minsize||0),K},r.join2=function(Z,q,K){var g=Z.length;return g>1?Z.slice(0,-1).join(q)+K+Z[g-1]:Z.join(q)},r.bigFont=function(Z){return Math.round(1.2*Z)};var de=r.getFirefoxVersion(),ie=de!==null&&de<86;r.getPositionFromD3Event=function(){return ie?[t.event.layerX,t.event.layerY]:[t.event.offsetX,t.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(f,ae,W){ae.exports=function(n){return window&&window.process&&window.process.versions?Object.prototype.toString.call(n)==="[object Object]":Object.prototype.toString.call(n)==="[object Object]"&&Object.getPrototypeOf(n).hasOwnProperty("hasOwnProperty")}},{}],234:[function(f,ae,W){var t=f("./nested_property"),n=/^\w*$/,o=0,a=1,e=2,u=3,s=4;ae.exports=function(r,c,h,v){h=h||"name",v=v||"value";var y,m,L,A={};c&&c.length?(L=t(r,c),m=L.get()):m=r,c=c||"";var M={};if(m)for(y=0;y<m.length;y++)M[m[y][h]]=y;var p=n.test(v),T={set:function(d,x){var C=x===null?s:o;if(!m){if(!L||C===s)return;m=[],L.set(m)}var E=M[d];if(E===void 0){if(C===s)return;C=C|u,E=m.length,M[d]=E}else x!==(p?m[E][v]:t(m[E],v).get())&&(C=C|e);var w=m[E]=m[E]||{};return w[h]=d,p?w[v]=x:t(w,v).set(x),x!==null&&(C=C&~s),A[E]=A[E]|C,T},get:function(d){if(!!m){var x=M[d];if(x!==void 0)return p?m[x][v]:t(m[x],v).get()}},rename:function(d,x){var C=M[d];return C===void 0||(A[C]=A[C]|a,M[x]=C,delete M[d],m[C][h]=x),T},remove:function(d){var x=M[d];if(x===void 0)return T;var C=m[x];if(Object.keys(C).length>2)return A[x]=A[x]|e,T.set(d,null);if(p){for(y=x;y<m.length;y++)A[y]=A[y]|u;for(y=x;y<m.length;y++)M[m[y][h]]--;m.splice(x,1),delete M[d]}else t(C,v).set(null),A[x]=A[x]|e|s;return T},constructUpdate:function(){for(var d,x,C={},E=Object.keys(A),w=0;w<E.length;w++)x=E[w],d=c+"["+x+"]",m[x]?(A[x]&a&&(C[d+"."+h]=m[x][h]),A[x]&e&&(p?C[d+"."+v]=A[x]&s?null:m[x][v]:C[d+"."+v]=A[x]&s?null:t(m[x],v).get())):C[d]=null;return C}};return T}},{"./nested_property":240}],235:[function(f,ae,W){var t=f("../registry");ae.exports=function(o,a){for(var e=o._context.locale,u=0;u<2;u++){for(var s=o._context.locales,l=0;l<2;l++){var r=(s[e]||{}).dictionary;if(r){var c=r[a];if(c)return c}s=t.localeRegistry}var h=e.split("-")[0];if(h===e)break;e=h}return a}},{"../registry":318}],236:[function(f,ae,W){var t=f("../plot_api/plot_config").dfltConfig,n=f("./notifier"),o=ae.exports={};o.log=function(){var a;if(t.logging>1){var e=["LOG:"];for(a=0;a<arguments.length;a++)e.push(arguments[a]);console.trace.apply(console,e)}if(t.notifyOnLogging>1){var u=[];for(a=0;a<arguments.length;a++)u.push(arguments[a]);n(u.join("<br>"),"long")}},o.warn=function(){var a;if(t.logging>0){var e=["WARN:"];for(a=0;a<arguments.length;a++)e.push(arguments[a]);console.trace.apply(console,e)}if(t.notifyOnLogging>0){var u=[];for(a=0;a<arguments.length;a++)u.push(arguments[a]);n(u.join("<br>"),"stick")}},o.error=function(){var a;if(t.logging>0){var e=["ERROR:"];for(a=0;a<arguments.length;a++)e.push(arguments[a]);console.error.apply(console,e)}if(t.notifyOnLogging>0){var u=[];for(a=0;a<arguments.length;a++)u.push(arguments[a]);n(u.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(f,ae,W){var t=f("@plotly/d3");ae.exports=function(o,a,e){var u=o.selectAll("g."+e.replace(/\s/g,".")).data(a,function(l){return l[0].trace.uid});u.exit().remove(),u.enter().append("g").attr("class",e),u.order();var s=o.classed("rangeplot")?"nodeRangePlot3":"node3";return u.each(function(l){l[0][s]=t.select(this)}),u}},{"@plotly/d3":11}],238:[function(f,ae,W){var t=f("gl-mat4");W.init2dArray=function(n,o){for(var a=new Array(n),e=0;e<n;e++)a[e]=new Array(o);return a},W.transposeRagged=function(n){var o=0,a=n.length,e,u;for(e=0;e<a;e++)o=Math.max(o,n[e].length);var s=new Array(o);for(e=0;e<o;e++)for(s[e]=new Array(a),u=0;u<a;u++)s[e][u]=n[u][e];return s},W.dot=function(n,o){if(!(n.length&&o.length)||n.length!==o.length)return null;var a=n.length,e,u;if(n[0].length)for(e=new Array(a),u=0;u<a;u++)e[u]=W.dot(n[u],o);else if(o[0].length){var s=W.transposeRagged(o);for(e=new Array(s.length),u=0;u<s.length;u++)e[u]=W.dot(n,s[u])}else for(e=0,u=0;u<a;u++)e+=n[u]*o[u];return e},W.translationMatrix=function(n,o){return[[1,0,n],[0,1,o],[0,0,1]]},W.rotationMatrix=function(n){var o=n*Math.PI/180;return[[Math.cos(o),-Math.sin(o),0],[Math.sin(o),Math.cos(o),0],[0,0,1]]},W.rotationXYMatrix=function(n,o,a){return W.dot(W.dot(W.translationMatrix(o,a),W.rotationMatrix(n)),W.translationMatrix(-o,-a))},W.apply3DTransform=function(n){return function(){var o=arguments,a=arguments.length===1?o[0]:[o[0],o[1],o[2]||0];return W.dot(n,[a[0],a[1],a[2],1]).slice(0,3)}},W.apply2DTransform=function(n){return function(){var o=arguments;o.length===3&&(o=o[0]);var a=arguments.length===1?o[0]:[o[0],o[1]];return W.dot(n,[a[0],a[1],1]).slice(0,2)}},W.apply2DTransform2=function(n){var o=W.apply2DTransform(n);return function(a){return o(a.slice(0,2)).concat(o(a.slice(2,4)))}},W.convertCssMatrix=function(n){if(n){var o=n.length;if(o===16)return n;if(o===6)return[n[0],n[1],0,0,n[2],n[3],0,0,0,0,1,0,n[4],n[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},W.inverseTransformMatrix=function(n){var o=[];return t.invert(o,n),[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[10],o[11]],[o[12],o[13],o[14],o[15]]]}},{"gl-mat4":33}],239:[function(f,ae,W){function t(o,a){var e=o%a;return e<0?e+a:e}function n(o,a){return Math.abs(o)>a/2?o-Math.round(o/a)*a:o}ae.exports={mod:t,modHalf:n}},{}],240:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("./array").isArrayOrTypedArray;ae.exports=function(v,y){if(t(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";for(var m=0,L=y.split("."),A,M,p;m<L.length;){if(A=String(L[m]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),A){if(A[1])L[m]=A[1];else if(m===0)L.splice(0,1);else throw"bad property string";for(M=A[2].substr(1,A[2].length-2).split("]["),p=0;p<M.length;p++)m++,L.splice(m,0,Number(M[p]))}m++}return typeof v!="object"?c(v,y,L):{set:u(v,L,y),get:o(v,L),astr:y,parts:L,obj:v}};function o(h,v){return function(){var y=h,m,L,A,M,p;for(M=0;M<v.length-1;M++){if(m=v[M],m===-1){for(L=!0,A=[],p=0;p<y.length;p++)A[p]=o(y[p],v.slice(M+1))(),A[p]!==A[0]&&(L=!1);return L?A[0]:A}if(typeof m=="number"&&!n(y)||(y=y[m],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(A=y[v[M]],A!==null))return A}}var a=/(^|\.)args\[/;function e(h,v){return h===void 0||h===null&&!v.match(a)}function u(h,v,y){return function(m){var L=h,A="",M=e(m,y),p,T;for(T=0;T<v.length-1;T++){if(p=v[T],typeof p=="number"&&!n(L))throw"array index but container is not an array";if(p===-1){if(M=!l(L,v.slice(T+1),m,y),M)break;return}if(!r(L,p,v[T+1],M))break;if(L=L[p],typeof L!="object"||L===null)throw"container is not an object";A=s(A,p)}if(M){if(T===v.length-1&&(delete L[v[T]],Array.isArray(L)&&+v[T]===L.length-1))for(;L.length&&L[L.length-1]===void 0;)L.pop()}else L[v[T]]=m}}function s(h,v){var y=v;return t(v)?y="["+v+"]":h&&(y="."+v),h+y}function l(h,v,y,m){var L=n(y),A=!0,M=y,p=m.replace("-1",0),T=L?!1:e(y,p),d=v[0],x;for(x=0;x<h.length;x++)p=m.replace("-1",x),L&&(M=y[x%y.length],T=e(M,p)),T&&(A=!1),r(h,x,d,T)&&u(h[x],v,m.replace("-1",x))(M);return A}function r(h,v,y,m){if(h[v]===void 0){if(m)return!1;typeof y=="number"?h[v]=[]:h[v]={}}return!0}function c(h,v,y){return{set:function(){throw"bad container"},get:function(){},astr:v,parts:y,obj:h}}},{"./array":218,"fast-isnumeric":17}],241:[function(f,ae,W){ae.exports=function(){}},{}],242:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=[];ae.exports=function(a,e){if(o.indexOf(a)!==-1)return;o.push(a);var u=1e3;n(e)?u=e:e==="long"&&(u=3e3);var s=t.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var l=s.selectAll(".notifier-note").data(o);function r(c){c.duration(700).style("opacity",0).each("end",function(h){var v=o.indexOf(h);v!==-1&&o.splice(v,1),t.select(this).remove()})}l.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(c){var h=t.select(this);h.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){h.transition().call(r)});for(var v=h.append("p"),y=c.split(/<br\s*\/?>/g),m=0;m<y.length;m++)m&&v.append("br"),v.append("span").text(y[m]);e==="stick"?h.transition().duration(350).style("opacity",1):h.transition().duration(700).style("opacity",1).transition().delay(u).call(r)})}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(f,ae,W){var t=f("./setcursor"),n="data-savedcursor",o="!!";ae.exports=function(e,u){var s=e.attr(n);if(u){if(!s){for(var l=(e.attr("class")||"").split(" "),r=0;r<l.length;r++){var c=l[r];c.indexOf("cursor-")===0&&e.attr(n,c.substr(7)).classed(c,!1)}e.attr(n)||e.attr(n,o)}t(e,u)}else s&&(e.attr(n,null),s===o?t(e):t(e,s))}},{"./setcursor":252}],244:[function(f,ae,W){var t=f("./matrix").dot,n=f("../constants/numerical").BADNUM,o=ae.exports={};o.tester=function(e){var u=e.slice(),s=u[0][0],l=s,r=u[0][1],c=r,h;for(u.push(u[0]),h=1;h<u.length;h++)s=Math.min(s,u[h][0]),l=Math.max(l,u[h][0]),r=Math.min(r,u[h][1]),c=Math.max(c,u[h][1]);var v=!1,y;u.length===5&&(u[0][0]===u[1][0]?u[2][0]===u[3][0]&&u[0][1]===u[3][1]&&u[1][1]===u[2][1]&&(v=!0,y=function(p){return p[0]===u[0][0]}):u[0][1]===u[1][1]&&u[2][1]===u[3][1]&&u[0][0]===u[3][0]&&u[1][0]===u[2][0]&&(v=!0,y=function(p){return p[1]===u[0][1]}));function m(p,T){var d=p[0],x=p[1];return!(d===n||d<s||d>l||x===n||x<r||x>c||T&&y(p))}function L(p,T){var d=p[0],x=p[1];if(d===n||d<s||d>l||x===n||x<r||x>c)return!1;var C=u.length,E=u[0][0],w=u[0][1],H=0,F,k,I,U,Q;for(F=1;F<C;F++)if(k=E,I=w,E=u[F][0],w=u[F][1],U=Math.min(k,E),!(d<U||d>Math.max(k,E)||x>Math.max(I,w)))if(x<Math.min(I,w))d!==U&&H++;else{if(E===k?Q=x:Q=I+(d-k)*(w-I)/(E-k),x===Q)return!(F===1&&T);x<=Q&&d!==U&&H++}return H%2===1}var A=!0,M=u[0];for(h=1;h<u.length;h++)if(M[0]!==u[h][0]||M[1]!==u[h][1]){A=!1;break}return{xmin:s,xmax:l,ymin:r,ymax:c,pts:u,contains:v?m:L,isRect:v,degenerate:A}},o.isSegmentBent=function(e,u,s,l){var r=e[u],c=[e[s][0]-r[0],e[s][1]-r[1]],h=t(c,c),v=Math.sqrt(h),y=[-c[1]/v,c[0]/v],m,L,A;for(m=u+1;m<s;m++)if(L=[e[m][0]-r[0],e[m][1]-r[1]],A=t(L,c),A<0||A>h||Math.abs(t(L,y))>l)return!0;return!1},o.filter=function(e,u){var s=[e[0]],l=0,r=0;function c(v){e.push(v);var y=s.length,m=l;s.splice(r+1);for(var L=m+1;L<e.length;L++)(L===e.length-1||o.isSegmentBent(e,m,L+1,u))&&(s.push(e[L]),s.length<y-2&&(l=L,r=s.length-1),m=L)}if(e.length>1){var h=e.pop();c(h)}return{addPt:c,raw:e,filtered:s}}},{"../constants/numerical":212,"./matrix":238}],245:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("is-mobile");ae.exports=function(e){var u;if(e&&e.hasOwnProperty("userAgent")?u=e.userAgent:u=o(),typeof u!="string")return!0;var s=n({ua:{headers:{"user-agent":u}},tablet:!0,featureDetect:!1});if(!s)for(var l=u.split(" "),r=1;r<l.length;r++){var c=l[r];if(c.indexOf("Safari")!==-1)for(var h=r-1;h>-1;h--){var v=l[h];if(v.substr(0,8)==="Version/"){var y=v.substr(8).split(".")[0];if(t(y)&&(y=+y),y>=13)return!0}}}return s};function o(){var a;return typeof navigator!="undefined"&&(a=navigator.userAgent),a&&a.headers&&typeof a.headers["user-agent"]=="string"&&(a=a.headers["user-agent"]),a}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(f,ae,W){ae.exports=function(n,o){if(o instanceof RegExp){for(var a=o.toString(),e=0;e<n.length;e++)if(n[e]instanceof RegExp&&n[e].toString()===a)return n;n.push(o)}else(o||o===0)&&n.indexOf(o)===-1&&n.push(o);return n}},{}],247:[function(f,ae,W){var t=f("../lib"),n=f("../plot_api/plot_config").dfltConfig;function o(e,u){for(var s=[],l,r=0;r<u.length;r++)l=u[r],l===e?s[r]=l:typeof l=="object"?s[r]=Array.isArray(l)?t.extendDeep([],l):t.extendDeepAll({},l):s[r]=l;return s}var a={};a.add=function(e,u,s,l,r){var c,h;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},h=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(c={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(h,e.undoQueue.queue.length-h,c),e.undoQueue.index+=1):c=e.undoQueue.queue[h-1],e.undoQueue.beginSequence=!1,c&&(c.undo.calls.unshift(u),c.undo.args.unshift(s),c.redo.calls.push(l),c.redo.args.push(r)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)},a.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},a.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},a.undo=function(u){var s,l;if(!(u.undoQueue===void 0||isNaN(u.undoQueue.index)||u.undoQueue.index<=0)){for(u.undoQueue.index--,s=u.undoQueue.queue[u.undoQueue.index],u.undoQueue.inSequence=!0,l=0;l<s.undo.calls.length;l++)a.plotDo(u,s.undo.calls[l],s.undo.args[l]);u.undoQueue.inSequence=!1,u.autoplay=!1}},a.redo=function(u){var s,l;if(!(u.undoQueue===void 0||isNaN(u.undoQueue.index)||u.undoQueue.index>=u.undoQueue.queue.length)){for(s=u.undoQueue.queue[u.undoQueue.index],u.undoQueue.inSequence=!0,l=0;l<s.redo.calls.length;l++)a.plotDo(u,s.redo.calls[l],s.redo.args[l]);u.undoQueue.inSequence=!1,u.autoplay=!1,u.undoQueue.index++}},a.plotDo=function(e,u,s){e.autoplay=!0,s=o(e,s),u.apply(null,s)},ae.exports=a},{"../lib":232,"../plot_api/plot_config":266}],248:[function(f,ae,W){W.counter=function(t,n,o,a){var e=(n||"")+(o?"":"$"),u=a===!1?"":"^";return t==="xy"?new RegExp(u+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+e):new RegExp(u+t+"([2-9]|[1-9][0-9]+)?"+e)}},{}],249:[function(f,ae,W){var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,n=/^[^\.\[\]]+$/;ae.exports=function(o,a){for(;a;){var e=o.match(t);if(e)o=e[1];else if(o.match(n))o="";else throw new Error("bad relativeAttr call:"+[o,a]);if(a.charAt(0)==="^")a=a.slice(1);else break}return o&&a.charAt(0)!=="["?o+"."+a:o+a}},{}],250:[function(f,ae,W){var t=f("./array").isArrayOrTypedArray,n=f("./is_plain_object");ae.exports=function o(a,e){for(var u in e){var s=e[u],l=a[u];if(l!==s)if(u.charAt(0)==="_"||typeof s=="function"){if(u in a)continue;a[u]=s}else if(t(s)&&t(l)&&n(s[0])){if(u==="customdata"||u==="ids")continue;for(var r=Math.min(s.length,l.length),c=0;c<r;c++)l[c]!==s[c]&&n(s[c])&&n(l[c])&&o(l[c],s[c])}else n(s)&&n(l)&&(o(l,s),Object.keys(l).length||delete a[u])}}},{"./array":218,"./is_plain_object":233}],251:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("./loggers"),o=f("./identity"),a=f("../constants/numerical").BADNUM,e=1e-9;W.findBin=function(c,h,v){if(t(h.start))return v?Math.ceil((c-h.start)/h.size-e)-1:Math.floor((c-h.start)/h.size+e);var y=0,m=h.length,L=0,A=m>1?(h[m-1]-h[0])/(m-1):1,M,p;for(A>=0?p=v?u:s:p=v?r:l,c+=A*e*(v?-1:1)*(A>=0?1:-1);y<m&&L++<100;)M=Math.floor((y+m)/2),p(h[M],c)?y=M+1:m=M;return L>90&&n.log("Long binary search..."),y-1};function u(c,h){return c<h}function s(c,h){return c<=h}function l(c,h){return c>h}function r(c,h){return c>=h}W.sorterAsc=function(c,h){return c-h},W.sorterDes=function(c,h){return h-c},W.distinctVals=function(c){var h=c.slice();h.sort(W.sorterAsc);var v;for(v=h.length-1;v>-1&&h[v]===a;v--);for(var y=h[v]-h[0]||1,m=y/(v||1)/1e4,L=[],A,M=0;M<=v;M++){var p=h[M],T=p-A;A===void 0?(L.push(p),A=p):T>m&&(y=Math.min(y,T),L.push(p),A=p)}return{vals:L,minDiff:y}},W.roundUp=function(c,h,v){for(var y=0,m=h.length-1,L,A=0,M=v?0:1,p=v?1:0,T=v?Math.ceil:Math.floor;y<m&&A++<100;)L=T((y+m)/2),h[L]<=c?y=L+M:m=L-p;return h[y]},W.sort=function(c,h){for(var v=0,y=0,m=1;m<c.length;m++){var L=h(c[m],c[m-1]);if(L<0?v=1:L>0&&(y=1),v&&y)return c.sort(h)}return y?c:c.reverse()},W.findIndexOfMin=function(c,h){h=h||o;for(var v=1/0,y,m=0;m<c.length;m++){var L=h(c[m]);L<v&&(v=L,y=m)}return y}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(f,ae,W){ae.exports=function(n,o){(n.attr("class")||"").split(" ").forEach(function(a){a.indexOf("cursor-")===0&&n.classed(a,!1)}),o&&n.classed("cursor-"+o,!0)}},{}],253:[function(f,ae,W){ae.exports=function(n){return Object.keys(n).sort()}},{}],254:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("./array").isArrayOrTypedArray;W.aggNums=function(o,a,e,u){var s,l;if((!u||u>e.length)&&(u=e.length),t(a)||(a=!1),n(e[0])){for(l=new Array(u),s=0;s<u;s++)l[s]=W.aggNums(o,a,e[s]);e=l}for(s=0;s<u;s++)t(a)?t(e[s])&&(a=o(+a,+e[s])):a=e[s];return a},W.len=function(o){return W.aggNums(function(a){return a+1},0,o)},W.mean=function(o,a){return a||(a=W.len(o)),W.aggNums(function(e,u){return e+u},0,o)/a},W.midRange=function(o){if(!(o===void 0||o.length===0))return(W.aggNums(Math.max,null,o)+W.aggNums(Math.min,null,o))/2},W.variance=function(o,a,e){return a||(a=W.len(o)),t(e)||(e=W.mean(o,a)),W.aggNums(function(u,s){return u+Math.pow(s-e,2)},0,o)/a},W.stdev=function(o,a,e){return Math.sqrt(W.variance(o,a,e))},W.median=function(o){var a=o.slice().sort();return W.interp(a,.5)},W.interp=function(o,a){if(!t(a))throw"n should be a finite number";if(a=a*o.length-.5,a<0)return o[0];if(a>o.length-1)return o[o.length-1];var e=a%1;return e*o[Math.ceil(a)]+(1-e)*o[Math.floor(a)]}},{"./array":218,"fast-isnumeric":17}],255:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../lib"),o=n.strTranslate,a=f("../constants/xmlns_namespaces"),e=f("../constants/alignment").LINE_SPACING,u=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;W.convertToTspans=function(B,te,ne){var oe=B.text(),me=!B.attr("data-notex")&&te&&te._context.typesetMath&&typeof MathJax!="undefined"&&oe.match(u),de=t.select(B.node().parentNode);if(de.empty())return;var ie=B.attr("class")?B.attr("class").split(" ")[0]:"text";ie+="-math",de.selectAll("svg."+ie).remove(),de.selectAll("g."+ie+"-group").remove(),B.style("display",null).attr({"data-unformatted":oe,"data-math":"N"});function Z(){de.empty()||(ie=B.attr("class")+"-math",de.select("svg."+ie).remove()),B.text("").style("white-space","pre");var q=J(B.node(),oe);q&&B.style("pointer-events","all"),W.positionText(B),ne&&ne.call(B)}return me?(te&&te._promises||[]).push(new Promise(function(q){B.style("display","none");var K=parseInt(B.node().style.fontSize,10),g={fontSize:K};h(me[2],g,function(S,Y,z){de.selectAll("svg."+ie).remove(),de.selectAll("g."+ie+"-group").remove();var _=S&&S.select("svg");if(!_||!_.node()){Z(),q();return}var O=de.append("g").classed(ie+"-group",!0).attr({"pointer-events":"none","data-unformatted":oe,"data-math":"Y"});O.node().appendChild(_.node()),Y&&Y.node()&&_.node().insertBefore(Y.node().cloneNode(!0),_.node().firstChild);var N=z.width,P=z.height;_.attr({class:ie,height:P,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var j=B.node().style.fill||"black",se=_.select("g");se.attr({fill:j,stroke:j});var ce=se.node().getBoundingClientRect(),fe=ce.width,pe=ce.height;(fe>N||pe>P)&&(_.style("overflow","hidden"),ce=_.node().getBoundingClientRect(),fe=ce.width,pe=ce.height);var be=+B.attr("x"),Re=+B.attr("y"),ke=K||B.node().getBoundingClientRect().height,Oe=-ke/4;if(ie[0]==="y")O.attr({transform:"rotate("+[-90,be,Re]+")"+o(-fe/2,Oe-pe/2)});else if(ie[0]==="l")Re=Oe-pe/2;else if(ie[0]==="a"&&ie.indexOf("atitle")!==0)be=0,Re=Oe;else{var Be=B.attr("text-anchor");be=be-fe*(Be==="middle"?.5:Be==="end"?1:0),Re=Re+Oe-pe/2}_.attr({x:be,y:Re}),ne&&ne.call(B,O),q(O)})})):Z(),B};var s=/(<|&lt;|&#60;)/g,l=/(>|&gt;|&#62;)/g;function r(B){return B.replace(s,"\\lt ").replace(l,"\\gt ")}var c=[["$","$"],["\\(","\\)"]];function h(B,te,ne){var oe=parseInt((MathJax.version||"").split(".")[0]);if(oe!==2&&oe!==3){n.warn("No MathJax version:",MathJax.version);return}var me,de,ie,Z,q=function(){return de=n.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:c},displayAlign:"left"})},K=function(){de=n.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=c},g=function(){if(me=MathJax.Hub.config.menuSettings.renderer,me!=="SVG")return MathJax.Hub.setRenderer("SVG")},S=function(){me=MathJax.config.startup.output,me!=="svg"&&(MathJax.config.startup.output="svg")},Y=function(){var j="math-output-"+n.randstr({},64);Z=t.select("body").append("div").attr({id:j}).style({visibility:"hidden",position:"absolute","font-size":te.fontSize+"px"}).text(r(B));var se=Z.node();return oe===2?MathJax.Hub.Typeset(se):MathJax.typeset([se])},z=function(){var j=Z.select(oe===2?".MathJax_SVG":".MathJax"),se=!j.empty()&&Z.select("svg").node();if(!se)n.log("There was an error in the tex syntax.",B),ne();else{var ce=se.getBoundingClientRect(),fe;oe===2?fe=t.select("body").select("#MathJax_SVG_glyphs"):fe=j.select("defs"),ne(j,fe,ce)}Z.remove()},_=function(){if(me!=="SVG")return MathJax.Hub.setRenderer(me)},O=function(){me!=="svg"&&(MathJax.config.startup.output=me)},N=function(){return ie!==void 0&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(de)},P=function(){MathJax.config=de};oe===2?MathJax.Hub.Queue(q,g,Y,z,_,N):oe===3&&(K(),S(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Y(),z(),O(),P()}))}var v={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},m={sub:"-0.21em",sup:"0.42em"},L="\u200B",A=["http:","https:","mailto:","",void 0,":"],M=W.NEWLINES=/(\r\n?|\n)/g,p=/(<[^<>]*>)/,T=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;W.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,C=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,E=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,w=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function H(B,te){if(!B)return null;var ne=B.match(te),oe=ne&&(ne[3]||ne[4]);return oe&&U(oe)}var F=/(^|;)\s*color:/;W.plainText=function(B,te){te=te||{};for(var ne=te.len!==void 0&&te.len!==-1?te.len:1/0,oe=te.allowedTags!==void 0?te.allowedTags:["br"],me="...",de=me.length,ie=B.split(p),Z=[],q="",K=0,g=0;g<ie.length;g++){var S=ie[g],Y=S.match(T),z=Y&&Y[2].toLowerCase();if(z)oe.indexOf(z)!==-1&&(Z.push(S),q=z);else{var _=S.length;if(K+_<ne)Z.push(S),K+=_;else if(K<ne){var O=ne-K;q&&(q!=="br"||O<=de||_<=de)&&Z.pop(),ne>de?Z.push(S.substr(0,O-de)+me):Z.push(S.substr(0,O));break}q=""}}return Z.join("")};var k={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},I=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function U(B){return B.replace(I,function(te,ne){var oe;return ne.charAt(0)==="#"?oe=Q(ne.charAt(1)==="x"?parseInt(ne.substr(2),16):parseInt(ne.substr(1),10)):oe=k[ne],oe||te})}W.convertEntities=U;function Q(B){if(!(B>1114111)){var te=String.fromCodePoint;if(te)return te(B);var ne=String.fromCharCode;return B<=65535?ne(B):ne((B>>10)+55232,B%1024+56320)}}function J(B,te){te=te.replace(M," ");var ne=!1,oe=[],me,de=-1;function ie(){de++;var pe=document.createElementNS(a.svg,"tspan");t.select(pe).attr({class:"line",dy:de*e+"em"}),B.appendChild(pe),me=pe;var be=oe;if(oe=[{node:pe}],be.length>1)for(var Re=1;Re<be.length;Re++)Z(be[Re])}function Z(pe){var be=pe.type,Re={},ke;if(be==="a"){ke="a";var Oe=pe.target,Be=pe.href,Ae=pe.popup;Be&&(Re={"xlink:xlink:show":Oe==="_blank"||Oe.charAt(0)!=="_"?"new":"replace",target:Oe,"xlink:xlink:href":Be},Ae&&(Re.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ae+'");return false;'))}else ke="tspan";pe.style&&(Re.style=pe.style);var ge=document.createElementNS(a.svg,ke);if(be==="sup"||be==="sub"){q(me,L),me.appendChild(ge);var Ee=document.createElementNS(a.svg,"tspan");q(Ee,L),t.select(Ee).attr("dy",m[be]),Re.dy=y[be],me.appendChild(ge),me.appendChild(Ee)}else me.appendChild(ge);t.select(ge).attr(Re),me=pe.node=ge,oe.push(pe)}function q(pe,be){pe.appendChild(document.createTextNode(be))}function K(pe){if(oe.length===1){n.log("Ignoring unexpected end tag </"+pe+">.",te);return}var be=oe.pop();pe!==be.type&&n.log("Start tag <"+be.type+"> doesnt match end tag <"+pe+">. Pretending it did match.",te),me=oe[oe.length-1].node}var g=d.test(te);g?ie():(me=B,oe=[{node:B}]);for(var S=te.split(p),Y=0;Y<S.length;Y++){var z=S[Y],_=z.match(T),O=_&&_[2].toLowerCase(),N=v[O];if(O==="br")ie();else if(N===void 0)q(me,U(z));else if(_[1])K(O);else{var P=_[4],j={type:O},se=H(P,x);if(se?(se=se.replace(F,"$1 fill:"),N&&(se+=";"+N)):N&&(se=N),se&&(j.style=se),O==="a"){ne=!0;var ce=H(P,C);if(ce){var fe=ee(ce);fe&&(j.href=fe,j.target=H(P,E)||"_blank",j.popup=H(P,w))}}Z(j)}}return ne}function ee(B){var te=encodeURI(decodeURI(B)),ne=document.createElement("a"),oe=document.createElement("a");ne.href=B,oe.href=te;var me=ne.protocol,de=oe.protocol;return A.indexOf(me)!==-1&&A.indexOf(de)!==-1?te:""}W.sanitizeHTML=function(te){te=te.replace(M," ");for(var ne=document.createElement("p"),oe=ne,me=[],de=te.split(p),ie=0;ie<de.length;ie++){var Z=de[ie],q=Z.match(T),K=q&&q[2].toLowerCase();if(K in v)if(q[1])me.length&&(oe=me.pop());else{var g=q[4],S=H(g,x),Y=S?{style:S}:{};if(K==="a"){var z=H(g,C);if(z){var _=ee(z);if(_){Y.href=_;var O=H(g,E);O&&(Y.target=O)}}}var N=document.createElement(K);oe.appendChild(N),t.select(N).attr(Y),oe=N,me.push(N)}else oe.appendChild(document.createTextNode(U(Z)))}var P="innerHTML";return ne[P]},W.lineCount=function(te){return te.selectAll("tspan.line").size()||1},W.positionText=function(te,ne,oe){return te.each(function(){var me=t.select(this);function de(q,K){return K===void 0?(K=me.attr(q),K===null&&(me.attr(q,0),K=0)):me.attr(q,K),K}var ie=de("x",ne),Z=de("y",oe);this.nodeName==="text"&&me.selectAll("tspan.line").attr({x:ie,y:Z})})};function R(B,te,ne){var oe=ne.horizontalAlign,me=ne.verticalAlign||"top",de=B.node().getBoundingClientRect(),ie=te.node().getBoundingClientRect(),Z,q,K;return me==="bottom"?q=function(){return de.bottom-Z.height}:me==="middle"?q=function(){return de.top+(de.height-Z.height)/2}:q=function(){return de.top},oe==="right"?K=function(){return de.right-Z.width}:oe==="center"?K=function(){return de.left+(de.width-Z.width)/2}:K=function(){return de.left},function(){Z=this.node().getBoundingClientRect();var g=K()-ie.left,S=q()-ie.top,Y=ne.gd||{};if(ne.gd){Y._fullLayout._calcInverseTransform(Y);var z=n.apply3DTransform(Y._fullLayout._invTransform)(g,S);g=z[0],S=z[1]}return this.style({top:S+"px",left:g+"px","z-index":1e3}),this}}var G="1px ";W.makeTextShadow=function(B){var te=G,ne=G,oe=G;return te+ne+oe+B+", -"+te+"-"+ne+oe+B+", "+te+"-"+ne+oe+B+", -"+te+ne+oe+B},W.makeEditable=function(B,te){var ne=te.gd,oe=te.delegate,me=t.dispatch("edit","input","cancel"),de=oe||B;if(B.style({"pointer-events":oe?"none":"all"}),B.size()!==1)throw new Error("boo");function ie(){q(),B.style({opacity:0});var K=de.attr("class"),g;K?g="."+K.split(" ")[0]+"-math-group":g="[class*=-math-group]",g&&t.select(B.node().parentNode).select(g).style({opacity:0})}function Z(K){var g=K.node(),S=document.createRange();S.selectNodeContents(g);var Y=window.getSelection();Y.removeAllRanges(),Y.addRange(S),g.focus()}function q(){var K=t.select(ne),g=K.select(".svg-container"),S=g.append("div"),Y=B.node().style,z=parseFloat(Y.fontSize||12),_=te.text;_===void 0&&(_=B.attr("data-unformatted")),S.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Y.fontFamily||"Arial","font-size":z,color:te.fill||Y.fill||"black",opacity:1,"background-color":te.background||"transparent",outline:"#ffffff33 1px solid",margin:[-z/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(_).call(R(B,g,te)).on("blur",function(){ne._editing=!1,B.text(this.textContent).style({opacity:1});var O=t.select(this).attr("class"),N;O?N="."+O.split(" ")[0]+"-math-group":N="[class*=-math-group]",N&&t.select(B.node().parentNode).select(N).style({opacity:0});var P=this.textContent;t.select(this).transition().duration(0).remove(),t.select(document).on("mouseup",null),me.edit.call(B,P)}).on("focus",function(){var O=this;ne._editing=!0,t.select(document).on("mouseup",function(){if(t.event.target===O)return!1;document.activeElement===S.node()&&S.node().blur()})}).on("keyup",function(){t.event.which===27?(ne._editing=!1,B.style({opacity:1}),t.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),me.cancel.call(B,this.textContent)):(me.input.call(B,this.textContent),t.select(this).call(R(B,g,te)))}).on("keydown",function(){t.event.which===13&&this.blur()}).call(Z)}return te.immediate?ie():de.on("click",ie),t.rebind(B,me,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(f,ae,W){var t={};W.throttle=function(a,e,u){var s=t[a],l=Date.now();if(!s){for(var r in t)t[r].ts<l-6e4&&delete t[r];s=t[a]={ts:0,timer:null}}n(s);function c(){u(),s.ts=Date.now(),s.onDone&&(s.onDone(),s.onDone=null)}if(l>s.ts+e){c();return}s.timer=setTimeout(function(){c(),s.timer=null},e)},W.done=function(o){var a=t[o];return!a||!a.timer?Promise.resolve():new Promise(function(e){var u=a.onDone;a.onDone=function(){u&&u(),e(),a.onDone=null}})},W.clear=function(o){if(o)n(t[o]),delete t[o];else for(var a in t)W.clear(a)};function n(o){o&&o.timer!==null&&(clearTimeout(o.timer),o.timer=null)}},{}],257:[function(f,ae,W){var t=f("fast-isnumeric");ae.exports=function(o,a){if(o>0)return Math.log(o)/Math.LN10;var e=Math.log(Math.min(a[0],a[1]))/Math.LN10;return t(e)||(e=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),e}},{"fast-isnumeric":17}],258:[function(f,ae,W){ae.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(f,ae,W){ae.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(f,ae,W){var t=f("../registry");ae.exports=function(o){for(var a=t.layoutArrayContainers,e=t.layoutArrayRegexes,u=o.split("[")[0],s,l,r=0;r<e.length;r++)if(l=o.match(e[r]),l&&l.index===0){s=l[0];break}if(s||(s=a[a.indexOf(u)]),!s)return!1;var c=o.substr(s.length);return c?(l=c.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),l?{array:s,index:Number(l[1]),property:l[3]||""}:!1):{array:s,index:"",property:""}}},{"../registry":318}],261:[function(f,ae,W){var t=f("../lib"),n=t.extendFlat,o=t.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},e={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},u=a.flags.slice().concat(["fullReplot"]),s=e.flags.slice().concat("layoutReplot");ae.exports={traces:a,layout:e,traceFlags:function(){return l(u)},layoutFlags:function(){return l(s)},update:function(h,v){var y=v.editType;if(y&&y!=="none")for(var m=y.split("+"),L=0;L<m.length;L++)h[m[L]]=!0},overrideAll:r};function l(h){for(var v={},y=0;y<h.length;y++)v[h[y]]=!1;return v}function r(h,v,y){var m=n({},h);for(var L in m){var A=m[L];o(A)&&(m[L]=c(A,v,y,L))}return y==="from-root"&&(m.editType=v),m}function c(h,v,y,m){if(h.valType){var L=n({},h);if(L.editType=v,Array.isArray(h.items)){L.items=new Array(h.items.length);for(var A=0;A<h.items.length;A++)L.items[A]=c(h.items[A],v)}return L}else return r(h,v,m.charAt(0)==="_"?"nested":"from-root")}},{"../lib":232}],262:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("gl-mat4/fromQuat"),o=f("../registry"),a=f("../lib"),e=f("../plots/plots"),u=f("../plots/cartesian/axis_ids"),s=f("../components/color"),l=u.cleanId,r=u.getFromTrace,c=o.traceIs;W.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&a.log("Clearing previous rejected promises from queue."),d._promises=[]},W.cleanLayout=function(d){var x,C;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var E=(e.subplotsRegistry.cartesian||{}).attrRegex,w=(e.subplotsRegistry.polar||{}).attrRegex,H=(e.subplotsRegistry.ternary||{}).attrRegex,F=(e.subplotsRegistry.gl3d||{}).attrRegex,k=Object.keys(d);for(x=0;x<k.length;x++){var I=k[x];if(E&&E.test(I)){var U=d[I];U.anchor&&U.anchor!=="free"&&(U.anchor=l(U.anchor)),U.overlaying&&(U.overlaying=l(U.overlaying)),U.type||(U.isdate?U.type="date":U.islog?U.type="log":U.isdate===!1&&U.islog===!1&&(U.type="linear")),(U.autorange==="withzero"||U.autorange==="tozero")&&(U.autorange=!0,U.rangemode="tozero"),delete U.islog,delete U.isdate,delete U.categories,A(U,"domain")&&delete U.domain,U.autotick!==void 0&&(U.tickmode===void 0&&(U.tickmode=U.autotick?"auto":"linear"),delete U.autotick),v(U)}else if(w&&w.test(I)){var Q=d[I];v(Q.radialaxis)}else if(H&&H.test(I)){var J=d[I];v(J.aaxis),v(J.baxis),v(J.caxis)}else if(F&&F.test(I)){var ee=d[I],R=ee.cameraposition;if(Array.isArray(R)&&R[0].length===4){var G=R[0],B=R[1],te=R[2],ne=n([],G),oe=[];for(C=0;C<3;++C)oe[C]=B[C]+te*ne[2+4*C];ee.camera={eye:{x:oe[0],y:oe[1],z:oe[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete ee.cameraposition}v(ee.xaxis),v(ee.yaxis),v(ee.zaxis)}}var me=Array.isArray(d.annotations)?d.annotations.length:0;for(x=0;x<me;x++){var de=d.annotations[x];!a.isPlainObject(de)||(de.ref&&(de.ref==="paper"?(de.xref="paper",de.yref="paper"):de.ref==="data"&&(de.xref="x",de.yref="y"),delete de.ref),h(de,"xref"),h(de,"yref"))}var ie=Array.isArray(d.shapes)?d.shapes.length:0;for(x=0;x<ie;x++){var Z=d.shapes[x];!a.isPlainObject(Z)||(h(Z,"xref"),h(Z,"yref"))}var q=Array.isArray(d.images)?d.images.length:0;for(x=0;x<q;x++){var K=d.images[x];!a.isPlainObject(K)||(h(K,"xref"),h(K,"yref"))}var g=d.legend;return g&&(g.x>3?(g.x=1.02,g.xanchor="left"):g.x<-2&&(g.x=-.02,g.xanchor="right"),g.y>3?(g.y=1.02,g.yanchor="bottom"):g.y<-2&&(g.y=-.02,g.yanchor="top")),v(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),s.clean(d),d.template&&d.template.layout&&W.cleanLayout(d.template.layout),d};function h(d,x){var C=d[x],E=x.charAt(0);C&&C!=="paper"&&(d[x]=l(C,E,!0))}function v(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),x("titlefont","font"),x("titleposition","position"),x("titleside","side"),x("titleoffset","offset"));function x(C,E){var w=d[C],H=d.title&&d.title[E];w&&!H&&(d.title||(d.title={}),d.title[E]=d[C],delete d[C])}}W.cleanData=function(d){for(var x=0;x<d.length;x++){var C=d[x],E;if(C.type==="histogramy"&&"xbins"in C&&!("ybins"in C)&&(C.ybins=C.xbins,delete C.xbins),C.error_y&&"opacity"in C.error_y){var w=s.defaults,H=C.error_y.color||(c(C,"bar")?s.defaultLine:w[x%w.length]);C.error_y.color=s.addOpacity(s.rgb(H),s.opacity(H)*C.error_y.opacity),delete C.error_y.opacity}if("bardir"in C&&(C.bardir==="h"&&(c(C,"bar")||C.type.substr(0,9)==="histogram")&&(C.orientation="h",W.swapXYData(C)),delete C.bardir),C.type==="histogramy"&&W.swapXYData(C),(C.type==="histogramx"||C.type==="histogramy")&&(C.type="histogram"),"scl"in C&&!("colorscale"in C)&&(C.colorscale=C.scl,delete C.scl),"reversescl"in C&&!("reversescale"in C)&&(C.reversescale=C.reversescl,delete C.reversescl),C.xaxis&&(C.xaxis=l(C.xaxis,"x")),C.yaxis&&(C.yaxis=l(C.yaxis,"y")),c(C,"gl3d")&&C.scene&&(C.scene=e.subplotsRegistry.gl3d.cleanId(C.scene)),!c(C,"pie-like")&&!c(C,"bar-like"))if(Array.isArray(C.textposition))for(E=0;E<C.textposition.length;E++)C.textposition[E]=L(C.textposition[E]);else C.textposition&&(C.textposition=L(C.textposition));var F=o.getModule(C);if(F&&F.colorbar){var k=F.colorbar.container,I=k?C[k]:C;I&&I.colorscale&&(I.colorscale==="YIGnBu"&&(I.colorscale="YlGnBu"),I.colorscale==="YIOrRd"&&(I.colorscale="YlOrRd"))}if(C.type==="surface"&&a.isPlainObject(C.contours)){var U=["x","y","z"];for(E=0;E<U.length;E++){var Q=C.contours[U[E]];!a.isPlainObject(Q)||(Q.highlightColor&&(Q.highlightcolor=Q.highlightColor,delete Q.highlightColor),Q.highlightWidth&&(Q.highlightwidth=Q.highlightWidth,delete Q.highlightWidth))}}if(C.type==="candlestick"||C.type==="ohlc"){var J=(C.increasing||{}).showlegend!==!1,ee=(C.decreasing||{}).showlegend!==!1,R=y(C.increasing),G=y(C.decreasing);if(R!==!1&&G!==!1){var B=m(R,G,J,ee);B&&(C.name=B)}else(R||G)&&!C.name&&(C.name=R||G)}if(Array.isArray(C.transforms)){var te=C.transforms;for(E=0;E<te.length;E++){var ne=te[E];if(!!a.isPlainObject(ne))switch(ne.type){case"filter":ne.filtersrc&&(ne.target=ne.filtersrc,delete ne.filtersrc),ne.calendar&&(ne.valuecalendar||(ne.valuecalendar=ne.calendar),delete ne.calendar);break;case"groupby":if(ne.styles=ne.styles||ne.style,ne.styles&&!Array.isArray(ne.styles)){var oe=ne.styles,me=Object.keys(oe);ne.styles=[];for(var de=0;de<me.length;de++)ne.styles.push({target:me[de],value:oe[me[de]]})}break}}}A(C,"line")&&delete C.line,"marker"in C&&(A(C.marker,"line")&&delete C.marker.line,A(C,"marker")&&delete C.marker),s.clean(C),C.autobinx&&(delete C.autobinx,delete C.xbins),C.autobiny&&(delete C.autobiny,delete C.ybins),v(C),C.colorbar&&v(C.colorbar),C.marker&&C.marker.colorbar&&v(C.marker.colorbar),C.line&&C.line.colorbar&&v(C.line.colorbar),C.aaxis&&v(C.aaxis),C.baxis&&v(C.baxis)}};function y(d){if(!a.isPlainObject(d))return!1;var x=d.name;return delete d.name,delete d.showlegend,(typeof x=="string"||typeof x=="number")&&String(x)}function m(d,x,C,E){if(C&&!E)return d;if(E&&!C||!d.trim())return x;if(!x.trim())return d;var w=Math.min(d.length,x.length),H;for(H=0;H<w&&d.charAt(H)===x.charAt(H);H++);var F=d.substr(0,H);return F.trim()}function L(d){var x="middle",C="center";return typeof d=="string"&&(d.indexOf("top")!==-1?x="top":d.indexOf("bottom")!==-1&&(x="bottom"),d.indexOf("left")!==-1?C="left":d.indexOf("right")!==-1&&(C="right")),x+" "+C}function A(d,x){return x in d&&typeof d[x]=="object"&&Object.keys(d[x]).length===0}W.swapXYData=function(d){var x;if(a.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var C=d.error_y,E="copy_ystyle"in C?C.copy_ystyle:!(C.color||C.thickness||C.width);a.swapAttrs(d,["error_?.copy_ystyle"]),E&&a.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var w=d.hoverinfo.split("+");for(x=0;x<w.length;x++)w[x]==="x"?w[x]="y":w[x]==="y"&&(w[x]="x");d.hoverinfo=w.join("+")}},W.coerceTraceIndices=function(d,x){if(t(x))return[x];if(!Array.isArray(x)||!x.length)return d.data.map(function(w,H){return H});if(Array.isArray(x)){for(var C=[],E=0;E<x.length;E++)a.isIndex(x[E],d.data.length)?C.push(x[E]):a.warn("trace index (",x[E],") is not a number or is out of bounds");return C}return x},W.manageArrayContainers=function(d,x,C){var E=d.obj,w=d.parts,H=w.length,F=w[H-1],k=t(F);if(k&&x===null){var I=w.slice(0,H-1).join("."),U=a.nestedProperty(E,I).get();U.splice(F,1)}else k&&d.get()===void 0&&d.get()===void 0&&(C[d.astr]=null),d.set(x)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function p(d){var x=d.search(M);if(x>0)return d.substr(0,x)}W.hasParent=function(d,x){for(var C=p(x);C;){if(C in d)return!0;C=p(C)}return!1};var T=["x","y","z"];W.clearAxisTypes=function(d,x,C){for(var E=0;E<x.length;E++)for(var w=d._fullData[E],H=0;H<3;H++){var F=r(d,w,T[H]);if(F&&F.type!=="log"){var k=F._name,I=F._id.substr(1);if(I.substr(0,5)==="scene"){if(C[I]!==void 0)continue;k=I+"."+k}var U=k+".type";C[k]===void 0&&C[U]===void 0&&a.nestedProperty(d.layout,U).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(f,ae,W){var t=f("./plot_api");W._doPlot=t._doPlot,W.newPlot=t.newPlot,W.restyle=t.restyle,W.relayout=t.relayout,W.redraw=t.redraw,W.update=t.update,W._guiRestyle=t._guiRestyle,W._guiRelayout=t._guiRelayout,W._guiUpdate=t._guiUpdate,W._storeDirectGUIEdit=t._storeDirectGUIEdit,W.react=t.react,W.extendTraces=t.extendTraces,W.prependTraces=t.prependTraces,W.addTraces=t.addTraces,W.deleteTraces=t.deleteTraces,W.moveTraces=t.moveTraces,W.purge=t.purge,W.addFrames=t.addFrames,W.deleteFrames=t.deleteFrames,W.animate=t.animate,W.setPlotConfig=t.setPlotConfig,W.toImage=f("./to_image"),W.validate=f("./validate"),W.downloadImage=f("../snapshot/download");var n=f("./template_api");W.makeTemplate=n.makeTemplate,W.validateTemplate=n.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(f,ae,W){var t=f("../lib/is_plain_object"),n=f("../lib/noop"),o=f("../lib/loggers"),a=f("../lib/search").sorterAsc,e=f("../registry");W.containerArrayMatch=f("./container_array_match");var u=W.isAddVal=function(r){return r==="add"||t(r)},s=W.isRemoveVal=function(r){return r===null||r==="remove"};W.applyContainerArrayChanges=function(r,c,h,v,y){var m=c.astr,L=e.getComponentMethod(m,"supplyLayoutDefaults"),A=e.getComponentMethod(m,"draw"),M=e.getComponentMethod(m,"drawOne"),p=v.replot||v.recalc||L===n||A===n,T=r.layout,d=r._fullLayout;if(h[""]){Object.keys(h).length>1&&o.warn("Full array edits are incompatible with other edits",m);var x=h[""][""];if(s(x))c.set(null);else if(Array.isArray(x))c.set(x);else return o.warn("Unrecognized full array edit value",m,x),!0;return p?!1:(L(T,d),A(r),!0)}var C=Object.keys(h).map(Number).sort(a),E=c.get(),w=E||[],H=y(d,m).get(),F=[],k=-1,I=w.length,U,Q,J,ee,R,G,B,te;for(U=0;U<C.length;U++){if(J=C[U],ee=h[J],R=Object.keys(ee),G=ee[""],B=u(G),J<0||J>w.length-(B?0:1)){o.warn("index out of range",m,J);continue}if(G!==void 0)R.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",m,J),s(G)?F.push(J):B?(G==="add"&&(G={}),w.splice(J,0,G),H&&H.splice(J,0,{})):o.warn("Unrecognized full object edit value",m,J,G),k===-1&&(k=J);else for(Q=0;Q<R.length;Q++)te=m+"["+J+"].",y(w[J],R[Q],te).set(ee[R[Q]])}for(U=F.length-1;U>=0;U--)w.splice(F[U],1),H&&H.splice(F[U],1);if(w.length?E||c.set(w):c.set(null),p)return!1;if(L(T,d),M!==n){var ne;if(k===-1)ne=C;else{for(I=Math.max(w.length,I),ne=[],U=0;U<C.length&&(J=C[U],!(J>=k));U++)ne.push(J);for(U=k;U<I;U++)ne.push(U)}for(U=0;U<ne.length;U++)M(r,ne[U])}else A(r);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("has-hover"),a=f("../lib"),e=a.nestedProperty,u=f("../lib/events"),s=f("../lib/queue"),l=f("../registry"),r=f("./plot_schema"),c=f("../plots/plots"),h=f("../plots/cartesian/axes"),v=f("../components/drawing"),y=f("../components/color"),m=f("../plots/cartesian/graph_interact").initInteractions,L=f("../constants/xmlns_namespaces"),A=f("../plots/cartesian/select").clearSelect,M=f("./plot_config").dfltConfig,p=f("./manage_arrays"),T=f("./helpers"),d=f("./subroutines"),x=f("./edit_types"),C=f("../plots/cartesian/constants").AX_NAME_PATTERN,E=0,w=5;function H(ve,we,Me,De){var je;if(ve=a.getGraphDiv(ve),u.init(ve),a.isPlainObject(we)){var We=we;we=We.data,Me=We.layout,De=We.config,je=We.frames}var ht=u.triggerHandler(ve,"plotly_beforeplot",[we,Me,De]);if(ht===!1)return Promise.reject();!we&&!Me&&!a.isPlotDiv(ve)&&a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ve);function vt(){if(je)return W.addFrames(ve,je)}Q(ve,De),Me||(Me={}),t.select(ve).classed("js-plotly-plot",!0),v.makeTester(),Array.isArray(ve._promises)||(ve._promises=[]);var it=(ve.data||[]).length===0&&Array.isArray(we);Array.isArray(we)&&(T.cleanData(we),it?ve.data=we:ve.data.push.apply(ve.data,we),ve.empty=!1),(!ve.layout||it)&&(ve.layout=T.cleanLayout(Me)),c.supplyDefaults(ve);var Ze=ve._fullLayout,_t=Ze._has("cartesian");Ze._replotting=!0,(it||Ze._shouldCreateBgLayer)&&(et(ve),Ze._shouldCreateBgLayer&&delete Ze._shouldCreateBgLayer),v.initGradients(ve),v.initPatterns(ve),it&&h.saveShowSpikeInitial(ve);var Lt=!ve.calcdata||ve.calcdata.length!==(ve._fullData||[]).length;Lt&&c.doCalcdata(ve);for(var wt=0;wt<ve.calcdata.length;wt++)ve.calcdata[wt][0].trace=ve._fullData[wt];ve._context.responsive?ve._responsiveChartHandler||(ve._responsiveChartHandler=function(){a.isHidden(ve)||c.resize(ve)},window.addEventListener("resize",ve._responsiveChartHandler)):a.clearResponsive(ve);var Gt=a.extendFlat({},Ze._size),Kt=0;function $t(){for(var St=Ze._basePlotModules,le=0;le<St.length;le++)St[le].drawFramework&&St[le].drawFramework(ve);!Ze._glcanvas&&Ze._has("gl")&&(Ze._glcanvas=Ze._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Se){return Se.key}),Ze._glcanvas.enter().append("canvas").attr("class",function(Se){return"gl-canvas gl-canvas-"+Se.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var re=ve._context.plotGlPixelRatio;if(Ze._glcanvas){Ze._glcanvas.attr("width",Ze.width*re).attr("height",Ze.height*re).style("width",Ze.width+"px").style("height",Ze.height+"px");var Le=Ze._glcanvas.data()[0].regl;if(Le&&(Math.floor(Ze.width*re)!==Le._gl.drawingBufferWidth||Math.floor(Ze.height*re)!==Le._gl.drawingBufferHeight)){var Te="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Kt)a.error(Te);else return a.log(Te+" Clearing graph and plotting again."),c.cleanPlot([],{},ve._fullData,Ze),c.supplyDefaults(ve),Ze=ve._fullLayout,c.doCalcdata(ve),Kt++,$t()}}return Ze.modebar.orientation==="h"?Ze._modebardiv.style("height",null).style("width","100%"):Ze._modebardiv.style("width",null).style("height",Ze.height+"px"),c.previousPromises(ve)}function It(){if(c.clearAutoMarginIds(ve),d.drawMarginPushers(ve),h.allowAutoMargin(ve),Ze._has("pie"))for(var St=ve._fullData,le=0;le<St.length;le++){var re=St[le];re.type==="pie"&&re.automargin&&c.allowAutoMargin(ve,"pie."+re.uid+".automargin")}return c.doAutoMargin(ve),c.previousPromises(ve)}function Bt(){if(!!c.didMarginChange(Gt,Ze._size))return a.syncOrAsync([It,d.layoutStyles],ve)}function zt(){if(!Lt){ct();return}return a.syncOrAsync([l.getComponentMethod("shapes","calcAutorange"),l.getComponentMethod("annotations","calcAutorange"),ct],ve)}function ct(){ve._transitioning||(d.doAutoRangeAndConstraints(ve),it&&h.saveRangeInitial(ve),l.getComponentMethod("rangeslider","calcAutorange")(ve))}function Wt(){return h.draw(ve,it?"":"redraw")}var Ot=[c.previousPromises,vt,$t,It,Bt];_t&&Ot.push(zt),Ot.push(d.layoutStyles),_t&&Ot.push(Wt,function(le){le._fullLayout._insideTickLabelsAutorange&&j(le,le._fullLayout._insideTickLabelsAutorange).then(function(){le._fullLayout._insideTickLabelsAutorange=void 0})}),Ot.push(d.drawData,d.finalDraw,m,c.addLinks,c.rehover,c.redrag,c.doAutoMargin,Jt,c.previousPromises);function Jt(St){St._fullLayout._insideTickLabelsAutorange&&it&&h.saveRangeInitial(St,!0)}var jt=a.syncOrAsync(Ot,ve);return(!jt||!jt.then)&&(jt=Promise.resolve()),jt.then(function(){return F(ve),ve})}function F(ve){var we=ve._fullLayout;we._redrawFromAutoMarginCount?we._redrawFromAutoMarginCount--:ve.emit("plotly_afterplot")}function k(ve){return a.extendFlat(M,ve)}function I(ve,we){try{ve._fullLayout._paper.style("background",we)}catch(Me){a.error(Me)}}function U(ve,we){var Me=y.combine(we,"white");I(ve,Me)}function Q(ve,we){if(!ve._context){ve._context=a.extendDeep({},M);var Me=t.select("base");ve._context._baseUrl=Me.size()&&Me.attr("href")?window.location.href.split("#")[0]:""}var De=ve._context,je,We,ht;if(we){for(We=Object.keys(we),je=0;je<We.length;je++)ht=We[je],!(ht==="editable"||ht==="edits")&&ht in De&&(ht==="setBackground"&&we[ht]==="opaque"?De[ht]=U:De[ht]=we[ht]);we.plot3dPixelRatio&&!De.plotGlPixelRatio&&(De.plotGlPixelRatio=De.plot3dPixelRatio);var vt=we.editable;if(vt!==void 0)for(De.editable=vt,We=Object.keys(De.edits),je=0;je<We.length;je++)De.edits[We[je]]=vt;if(we.edits)for(We=Object.keys(we.edits),je=0;je<We.length;je++)ht=We[je],ht in De.edits&&(De.edits[ht]=we.edits[ht]);De._exportedPlot=we._exportedPlot}De.staticPlot&&(De.editable=!1,De.edits={},De.autosizable=!1,De.scrollZoom=!1,De.doubleClick=!1,De.showTips=!1,De.showLink=!1,De.displayModeBar=!1),De.displayModeBar==="hover"&&!o&&(De.displayModeBar=!0),(De.setBackground==="transparent"||typeof De.setBackground!="function")&&(De.setBackground=I),De._hasZeroHeight=De._hasZeroHeight||ve.clientHeight===0,De._hasZeroWidth=De._hasZeroWidth||ve.clientWidth===0;var it=De.scrollZoom,Ze=De._scrollZoom={};if(it===!0)Ze.cartesian=1,Ze.gl3d=1,Ze.geo=1,Ze.mapbox=1;else if(typeof it=="string"){var _t=it.split("+");for(je=0;je<_t.length;je++)Ze[_t[je]]=1}else it!==!1&&(Ze.gl3d=1,Ze.geo=1,Ze.mapbox=1)}function J(ve){if(ve=a.getGraphDiv(ve),!a.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);return T.cleanData(ve.data),T.cleanLayout(ve.layout),ve.calcdata=void 0,W._doPlot(ve).then(function(){return ve.emit("plotly_redraw"),ve})}function ee(ve,we,Me,De){return ve=a.getGraphDiv(ve),c.cleanPlot([],{},ve._fullData||[],ve._fullLayout||{}),c.purge(ve),W._doPlot(ve,we,Me,De)}function R(ve,we){var Me=we+1,De=[],je,We;for(je=0;je<ve.length;je++)We=ve[je],We<0?De.push(Me+We):De.push(We);return De}function G(ve,we,Me){var De,je;for(De=0;De<we.length;De++){if(je=we[De],je!==parseInt(je,10))throw new Error("all values in "+Me+" must be integers");if(je>=ve.data.length||je<-ve.data.length)throw new Error(Me+" must be valid indices for gd.data.");if(we.indexOf(je,De+1)>-1||je>=0&&we.indexOf(-ve.data.length+je)>-1||je<0&&we.indexOf(ve.data.length+je)>-1)throw new Error("each index in "+Me+" must be unique.")}}function B(ve,we,Me){if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof we=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(we)||(we=[we]),G(ve,we,"currentIndices"),typeof Me!="undefined"&&!Array.isArray(Me)&&(Me=[Me]),typeof Me!="undefined"&&G(ve,Me,"newIndices"),typeof Me!="undefined"&&we.length!==Me.length)throw new Error("current and new indices must be of equal length.")}function te(ve,we,Me){var De,je;if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof we=="undefined")throw new Error("traces must be defined.");for(Array.isArray(we)||(we=[we]),De=0;De<we.length;De++)if(je=we[De],typeof je!="object"||Array.isArray(je)||je===null)throw new Error("all values in traces array must be non-array objects");if(typeof Me!="undefined"&&!Array.isArray(Me)&&(Me=[Me]),typeof Me!="undefined"&&Me.length!==we.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ne(ve,we,Me,De){var je=a.isPlainObject(De);if(!Array.isArray(ve.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(we))throw new Error("update must be a key:value object");if(typeof Me=="undefined")throw new Error("indices must be an integer or array of integers");G(ve,Me,"indices");for(var We in we){if(!Array.isArray(we[We])||we[We].length!==Me.length)throw new Error("attribute "+We+" must be an array of length equal to indices array length");if(je&&(!(We in De)||!Array.isArray(De[We])||De[We].length!==we[We].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function oe(ve,we,Me,De){var je=a.isPlainObject(De),We=[],ht,vt,it,Ze,_t;Array.isArray(Me)||(Me=[Me]),Me=R(Me,ve.data.length-1);for(var Lt in we)for(var wt=0;wt<Me.length;wt++){if(ht=ve.data[Me[wt]],it=e(ht,Lt),vt=it.get(),Ze=we[Lt][wt],!a.isArrayOrTypedArray(Ze))throw new Error("attribute: "+Lt+" index: "+wt+" must be an array");if(!a.isArrayOrTypedArray(vt))throw new Error("cannot extend missing or non-array attribute: "+Lt);if(vt.constructor!==Ze.constructor)throw new Error("cannot extend array with an array of a different type: "+Lt);_t=je?De[Lt][wt]:De,n(_t)||(_t=-1),We.push({prop:it,target:vt,insert:Ze,maxp:Math.floor(_t)})}return We}function me(ve,we,Me,De,je){ne(ve,we,Me,De);for(var We=oe(ve,we,Me,De),ht={},vt={},it=0;it<We.length;it++){var Ze=We[it].prop,_t=We[it].maxp,Lt=je(We[it].target,We[it].insert,_t);Ze.set(Lt[0]),Array.isArray(ht[Ze.astr])||(ht[Ze.astr]=[]),ht[Ze.astr].push(Lt[1]),Array.isArray(vt[Ze.astr])||(vt[Ze.astr]=[]),vt[Ze.astr].push(We[it].target.length)}return{update:ht,maxPoints:vt}}function de(ve,we){var Me=new ve.constructor(ve.length+we.length);return Me.set(ve),Me.set(we,ve.length),Me}function ie(ve,we,Me,De){ve=a.getGraphDiv(ve);function je(it,Ze,_t){var Lt,wt;if(a.isTypedArray(it))if(_t<0){var Gt=new it.constructor(0),Kt=de(it,Ze);_t<0?(Lt=Kt,wt=Gt):(Lt=Gt,wt=Kt)}else if(Lt=new it.constructor(_t),wt=new it.constructor(it.length+Ze.length-_t),_t===Ze.length)Lt.set(Ze),wt.set(it);else if(_t<Ze.length){var $t=Ze.length-_t;Lt.set(Ze.subarray($t)),wt.set(it),wt.set(Ze.subarray(0,$t),it.length)}else{var It=_t-Ze.length,Bt=it.length-It;Lt.set(it.subarray(Bt)),Lt.set(Ze,It),wt.set(it.subarray(0,Bt))}else Lt=it.concat(Ze),wt=_t>=0&&_t<Lt.length?Lt.splice(0,Lt.length-_t):[];return[Lt,wt]}var We=me(ve,we,Me,De,je),ht=W.redraw(ve),vt=[ve,We.update,Me,We.maxPoints];return s.add(ve,W.prependTraces,vt,ie,arguments),ht}function Z(ve,we,Me,De){ve=a.getGraphDiv(ve);function je(it,Ze,_t){var Lt,wt;if(a.isTypedArray(it))if(_t<=0){var Gt=new it.constructor(0),Kt=de(Ze,it);_t<0?(Lt=Kt,wt=Gt):(Lt=Gt,wt=Kt)}else if(Lt=new it.constructor(_t),wt=new it.constructor(it.length+Ze.length-_t),_t===Ze.length)Lt.set(Ze),wt.set(it);else if(_t<Ze.length){var $t=Ze.length-_t;Lt.set(Ze.subarray(0,$t)),wt.set(Ze.subarray($t)),wt.set(it,$t)}else{var It=_t-Ze.length;Lt.set(Ze),Lt.set(it.subarray(0,It),Ze.length),wt.set(it.subarray(It))}else Lt=Ze.concat(it),wt=_t>=0&&_t<Lt.length?Lt.splice(_t,Lt.length):[];return[Lt,wt]}var We=me(ve,we,Me,De,je),ht=W.redraw(ve),vt=[ve,We.update,Me,We.maxPoints];return s.add(ve,W.extendTraces,vt,Z,arguments),ht}function q(ve,we,Me){ve=a.getGraphDiv(ve);var De=[],je=W.deleteTraces,We=q,ht=[ve,De],vt=[ve,we],it,Ze;for(te(ve,we,Me),Array.isArray(we)||(we=[we]),we=we.map(function(_t){return a.extendFlat({},_t)}),T.cleanData(we),it=0;it<we.length;it++)ve.data.push(we[it]);for(it=0;it<we.length;it++)De.push(-we.length+it);if(typeof Me=="undefined")return Ze=W.redraw(ve),s.add(ve,je,ht,We,vt),Ze;Array.isArray(Me)||(Me=[Me]);try{B(ve,De,Me)}catch(_t){throw ve.data.splice(ve.data.length-we.length,we.length),_t}return s.startSequence(ve),s.add(ve,je,ht,We,vt),Ze=W.moveTraces(ve,De,Me),s.stopSequence(ve),Ze}function K(ve,we){ve=a.getGraphDiv(ve);var Me=[],De=W.addTraces,je=K,We=[ve,Me,we],ht=[ve,we],vt,it;if(typeof we=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(we)||(we=[we]),G(ve,we,"indices"),we=R(we,ve.data.length-1),we.sort(a.sorterDes),vt=0;vt<we.length;vt+=1)it=ve.data.splice(we[vt],1)[0],Me.push(it);var Ze=W.redraw(ve);return s.add(ve,De,We,je,ht),Ze}function g(ve,we,Me){ve=a.getGraphDiv(ve);var De=[],je=[],We=g,ht=g,vt=[ve,Me,we],it=[ve,we,Me],Ze;if(B(ve,we,Me),we=Array.isArray(we)?we:[we],typeof Me=="undefined")for(Me=[],Ze=0;Ze<we.length;Ze++)Me.push(-we.length+Ze);for(Me=Array.isArray(Me)?Me:[Me],we=R(we,ve.data.length-1),Me=R(Me,ve.data.length-1),Ze=0;Ze<ve.data.length;Ze++)we.indexOf(Ze)===-1&&De.push(ve.data[Ze]);for(Ze=0;Ze<we.length;Ze++)je.push({newIndex:Me[Ze],trace:ve.data[we[Ze]]});for(je.sort(function(Lt,wt){return Lt.newIndex-wt.newIndex}),Ze=0;Ze<je.length;Ze+=1)De.splice(je[Ze].newIndex,0,je[Ze].trace);ve.data=De;var _t=W.redraw(ve);return s.add(ve,We,vt,ht,it),_t}function S(ve,we,Me,De){ve=a.getGraphDiv(ve),T.clearPromiseQueue(ve);var je={};if(typeof we=="string")je[we]=Me;else if(a.isPlainObject(we))je=a.extendFlat({},we),De===void 0&&(De=Me);else return a.warn("Restyle fail.",we,Me,De),Promise.reject();Object.keys(je).length&&(ve.changed=!0);var We=T.coerceTraceIndices(ve,De),ht=N(ve,je,We),vt=ht.flags;vt.calc&&(ve.calcdata=void 0),vt.clearAxisTypes&&T.clearAxisTypes(ve,We,{});var it=[];vt.fullReplot?it.push(W._doPlot):(it.push(c.previousPromises),c.supplyDefaults(ve),vt.markerSize&&(c.doCalcdata(ve),ce(it)),vt.style&&it.push(d.doTraceStyle),vt.colorbars&&it.push(d.doColorBars),it.push(F)),it.push(c.rehover,c.redrag),s.add(ve,S,[ve,ht.undoit,ht.traces],S,[ve,ht.redoit,ht.traces]);var Ze=a.syncOrAsync(it,ve);return(!Ze||!Ze.then)&&(Ze=Promise.resolve()),Ze.then(function(){return ve.emit("plotly_restyle",ht.eventData),ve})}function Y(ve){return ve===void 0?null:ve}function z(ve,we){return we?function(Me,De,je){var We=e(Me,De),ht=We.set;return We.set=function(vt){var it=(je||"")+De;_(it,We.get(),vt,ve),ht(vt)},We}:e}function _(ve,we,Me,De){if(Array.isArray(we)||Array.isArray(Me))for(var je=Array.isArray(we)?we:[],We=Array.isArray(Me)?Me:[],ht=Math.max(je.length,We.length),vt=0;vt<ht;vt++)_(ve+"["+vt+"]",je[vt],We[vt],De);else if(a.isPlainObject(we)||a.isPlainObject(Me)){var it=a.isPlainObject(we)?we:{},Ze=a.isPlainObject(Me)?Me:{},_t=a.extendFlat({},it,Ze);for(var Lt in _t)_(ve+"."+Lt,it[Lt],Ze[Lt],De)}else De[ve]===void 0&&(De[ve]=Y(we))}function O(ve,we,Me){for(var De in Me){var je=e(ve,De);_(De,je.get(),Me[De],we)}}function N(ve,we,Me){var De=ve._fullLayout,je=ve._fullData,We=ve.data,ht=De._guiEditing,vt=z(De._preGUI,ht),it=a.extendDeepAll({},we),Ze;P(we);var _t=x.traceFlags(),Lt={},wt={},Gt;function Kt(){return Me.map(function(){})}function $t(Yt){var Pt=h.id2name(Yt);Gt.indexOf(Pt)===-1&&Gt.push(Pt)}function It(Yt){return"LAYOUT"+Yt+".autorange"}function Bt(Yt){return"LAYOUT"+Yt+".range"}function zt(Yt){for(var Pt=Yt;Pt<je.length;Pt++)if(je[Pt]._input===We[Yt])return je[Pt]}function ct(Yt,Pt,nr){if(Array.isArray(Yt)){Yt.forEach(function(rr){ct(rr,Pt,nr)});return}if(!(Yt in we||T.hasParent(we,Yt))){var lr;if(Yt.substr(0,6)==="LAYOUT")lr=vt(ve.layout,Yt.replace("LAYOUT",""));else{var Xt=Me[nr],tr=De._tracePreGUI[zt(Xt)._fullInput.uid];lr=z(tr,ht)(We[Xt],Yt)}Yt in wt||(wt[Yt]=Kt()),wt[Yt][nr]===void 0&&(wt[Yt][nr]=Y(lr.get())),Pt!==void 0&&lr.set(Pt)}}function Wt(Yt){return function(Pt){return je[Pt][Yt]}}function Ot(Yt){return function(Pt,nr){return Pt===!1?je[Me[nr]][Yt]:null}}for(var Jt in we){if(T.hasParent(we,Jt))throw new Error("cannot set "+Jt+" and a parent attribute simultaneously");var jt=we[Jt],St,le,re,Le,Te,Se;if((Jt==="autobinx"||Jt==="autobiny")&&(Jt=Jt.charAt(Jt.length-1)+"bins",Array.isArray(jt)?jt=jt.map(Ot(Jt)):jt===!1?jt=Me.map(Wt(Jt)):jt=null),Lt[Jt]=jt,Jt.substr(0,6)==="LAYOUT"){re=vt(ve.layout,Jt.replace("LAYOUT","")),wt[Jt]=[Y(re.get())],re.set(Array.isArray(jt)?jt[0]:jt),_t.calc=!0;continue}for(wt[Jt]=Kt(),Ze=0;Ze<Me.length;Ze++){St=We[Me[Ze]],le=zt(Me[Ze]);var Fe=De._tracePreGUI[le._fullInput.uid];if(re=z(Fe,ht)(St,Jt),Le=re.get(),Te=Array.isArray(jt)?jt[Ze%jt.length]:jt,Te!==void 0){var Ie=re.parts[re.parts.length-1],Ue=Jt.substr(0,Jt.length-Ie.length-1),tt=Ue?Ue+".":"",at=Ue?e(le,Ue).get():le;if(Se=r.getTraceValObject(le,re.parts),Se&&Se.impliedEdits&&Te!==null)for(var bt in Se.impliedEdits)ct(a.relativeAttr(Jt,bt),Se.impliedEdits[bt],Ze);else if((Ie==="thicknessmode"||Ie==="lenmode")&&Le!==Te&&(Te==="fraction"||Te==="pixels")&&at){var Tt=De._size,Ft=at.orient,dt=Ft==="top"||Ft==="bottom";if(Ie==="thicknessmode"){var rt=dt?Tt.h:Tt.w;ct(tt+"thickness",at.thickness*(Te==="fraction"?1/rt:rt),Ze)}else{var kt=dt?Tt.w:Tt.h;ct(tt+"len",at.len*(Te==="fraction"?1/kt:kt),Ze)}}else if(Jt==="type"&&(Te==="pie"!=(Le==="pie")||Te==="funnelarea"!=(Le==="funnelarea"))){var Rt="x",nt="y";(Te==="bar"||Le==="bar")&&St.orientation==="h"&&(Rt="y",nt="x"),a.swapAttrs(St,["?","?src"],"labels",Rt),a.swapAttrs(St,["d?","?0"],"label",Rt),a.swapAttrs(St,["?","?src"],"values",nt),Le==="pie"||Le==="funnelarea"?(e(St,"marker.color").set(e(St,"marker.colors").get()),De._pielayer.selectAll("g.trace").remove()):l.traceIs(St,"cartesian")&&e(St,"marker.colors").set(e(St,"marker.color").get())}wt[Jt][Ze]=Y(Le);var Mt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Mt.indexOf(Jt)!==-1){if(Jt==="orientation"){re.set(Te);var Et=St.x&&!St.y?"h":"v";if((re.get()||Et)===le.orientation)continue}else Jt==="orientationaxes"&&(St.orientation={v:"h",h:"v"}[le.orientation]);T.swapXYData(St),_t.calc=_t.clearAxisTypes=!0}else c.dataArrayContainers.indexOf(re.parts[0])!==-1?(T.manageArrayContainers(re,Te,wt),_t.calc=!0):(Se?Se.arrayOk&&!l.traceIs(le,"regl")&&(a.isArrayOrTypedArray(Te)||a.isArrayOrTypedArray(Le))?_t.calc=!0:x.update(_t,Se):_t.calc=!0,re.set(Te))}}if(["swapxyaxes","orientationaxes"].indexOf(Jt)!==-1&&h.swap(ve,Me),Jt==="orientationaxes"){var pt=e(ve.layout,"hovermode"),Dt=pt.get();Dt==="x"?pt.set("y"):Dt==="y"?pt.set("x"):Dt==="x unified"?pt.set("y unified"):Dt==="y unified"&&pt.set("x unified")}if(["orientation","type"].indexOf(Jt)!==-1){for(Gt=[],Ze=0;Ze<Me.length;Ze++){var Ht=We[Me[Ze]];l.traceIs(Ht,"cartesian")&&($t(Ht.xaxis||"x"),$t(Ht.yaxis||"y"))}ct(Gt.map(It),!0,0),ct(Gt.map(Bt),[0,1],0)}}return(_t.calc||_t.plot)&&(_t.fullReplot=!0),{flags:_t,undoit:wt,redoit:Lt,traces:Me,eventData:a.extendDeepNoArrays([],[it,Me])}}function P(ve){var we=a.counterRegex("axis",".title",!1,!1),Me=/colorbar\.title$/,De=Object.keys(ve),je,We,ht;for(je=0;je<De.length;je++)We=De[je],ht=ve[We],(We==="title"||we.test(We)||Me.test(We))&&(typeof ht=="string"||typeof ht=="number")?vt(We,We.replace("title","title.text")):We.indexOf("titlefont")>-1&&We.indexOf("grouptitlefont")===-1?vt(We,We.replace("titlefont","title.font")):We.indexOf("titleposition")>-1?vt(We,We.replace("titleposition","title.position")):We.indexOf("titleside")>-1?vt(We,We.replace("titleside","title.side")):We.indexOf("titleoffset")>-1&&vt(We,We.replace("titleoffset","title.offset"));function vt(it,Ze){ve[Ze]=ve[it],delete ve[it]}}function j(ve,we,Me){ve=a.getGraphDiv(ve),T.clearPromiseQueue(ve);var De={};if(typeof we=="string")De[we]=Me;else if(a.isPlainObject(we))De=a.extendFlat({},we);else return a.warn("Relayout fail.",we,Me),Promise.reject();Object.keys(De).length&&(ve.changed=!0);var je=Re(ve,De),We=je.flags;We.calc&&(ve.calcdata=void 0);var ht=[c.previousPromises];We.layoutReplot?ht.push(d.layoutReplot):Object.keys(De).length&&(se(ve,We,je)||c.supplyDefaults(ve),We.legend&&ht.push(d.doLegend),We.layoutstyle&&ht.push(d.layoutStyles),We.axrange&&ce(ht,je.rangesAltered),We.ticks&&ht.push(d.doTicksRelayout),We.modebar&&ht.push(d.doModeBar),We.camera&&ht.push(d.doCamera),We.colorbars&&ht.push(d.doColorBars),ht.push(F)),ht.push(c.rehover,c.redrag),s.add(ve,j,[ve,je.undoit],j,[ve,je.redoit]);var vt=a.syncOrAsync(ht,ve);return(!vt||!vt.then)&&(vt=Promise.resolve(ve)),vt.then(function(){return ve.emit("plotly_relayout",je.eventData),ve})}function se(ve,we,Me){var De=ve._fullLayout;if(!we.axrange)return!1;for(var je in we)if(je!=="axrange"&&we[je])return!1;for(var We in Me.rangesAltered){var ht=h.id2name(We),vt=ve.layout[ht],it=De[ht];if(it.autorange=vt.autorange,vt.range&&(it.range=vt.range.slice()),it.cleanRange(),it._matchGroup){for(var Ze in it._matchGroup)if(Ze!==We){var _t=De[h.id2name(Ze)];_t.autorange=it.autorange,_t.range=it.range.slice(),_t._input.range=it.range.slice()}}}return!0}function ce(ve,we){var Me=we?function(De){var je=[],We=!0;for(var ht in we){var vt=h.getFromId(De,ht);if(je.push(ht),(vt.ticklabelposition||"").indexOf("inside")!==-1&&vt._anchorAxis&&je.push(vt._anchorAxis._id),vt._matchGroup)for(var it in vt._matchGroup)we[it]||je.push(it);vt.automargin&&(We=!1)}return h.draw(De,je,{skipTitle:We})}:function(De){return h.draw(De,"redraw")};ve.push(A,d.doAutoRangeAndConstraints,Me,d.drawData,d.finalDraw)}var fe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,pe=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Re(ve,we){var Me=ve.layout,De=ve._fullLayout,je=De._guiEditing,We=z(De._preGUI,je),ht=Object.keys(we),vt=h.list(ve),it=a.extendDeepAll({},we),Ze={},_t,Lt,wt;for(P(we),ht=Object.keys(we),Lt=0;Lt<ht.length;Lt++)if(ht[Lt].indexOf("allaxes")===0){for(wt=0;wt<vt.length;wt++){var Gt=vt[wt]._id.substr(1),Kt=Gt.indexOf("scene")!==-1?Gt+".":"",$t=ht[Lt].replace("allaxes",Kt+vt[wt]._name);we[$t]||(we[$t]=we[ht[Lt]])}delete we[ht[Lt]]}var It=x.layoutFlags(),Bt={},zt={};function ct(Xt,tr){if(Array.isArray(Xt)){Xt.forEach(function(ir){ct(ir,tr)});return}if(!(Xt in we||T.hasParent(we,Xt))){var rr=We(Me,Xt);Xt in zt||(zt[Xt]=Y(rr.get())),tr!==void 0&&rr.set(tr)}}var Wt={},Ot;function Jt(Xt){var tr=h.name2id(Xt.split(".")[0]);return Wt[tr]=1,tr}for(var jt in we){if(T.hasParent(we,jt))throw new Error("cannot set "+jt+" and a parent attribute simultaneously");for(var St=We(Me,jt),le=we[jt],re=St.parts.length,Le=re-1;Le>0&&typeof St.parts[Le]!="string";)Le--;var Te=St.parts[Le],Se=St.parts[Le-1]+"."+Te,Fe=St.parts.slice(0,Le).join("."),Ie=e(ve.layout,Fe).get(),Ue=e(De,Fe).get(),tt=St.get();if(le!==void 0){Bt[jt]=le,zt[jt]=Te==="reverse"?le:Y(tt);var at=r.getLayoutValObject(De,St.parts);if(at&&at.impliedEdits&&le!==null)for(var bt in at.impliedEdits)ct(a.relativeAttr(jt,bt),at.impliedEdits[bt]);if(["width","height"].indexOf(jt)!==-1)if(le){ct("autosize",null);var Tt=jt==="height"?"width":"height";ct(Tt,De[Tt])}else De[jt]=ve._initialAutoSize[jt];else if(jt==="autosize")ct("width",le?null:De.width),ct("height",le?null:De.height);else if(Se.match(fe))Jt(Se),e(De,Fe+"._inputRange").set(null);else if(Se.match(pe)){Jt(Se),e(De,Fe+"._inputRange").set(null);var Ft=e(De,Fe).get();Ft._inputDomain&&(Ft._input.domain=Ft._inputDomain.slice())}else Se.match(be)&&e(De,Fe+"._inputDomain").set(null);if(Te==="type"){Ot=Ie;var dt=Ue.type==="linear"&&le==="log",rt=Ue.type==="log"&&le==="linear";if(dt||rt){if(!Ot||!Ot.range)ct(Fe+".autorange",!0);else if(Ue.autorange)dt&&(Ot.range=Ot.range[1]>Ot.range[0]?[1,2]:[2,1]);else{var kt=Ot.range[0],Rt=Ot.range[1];dt?(kt<=0&&Rt<=0&&ct(Fe+".autorange",!0),kt<=0?kt=Rt/1e6:Rt<=0&&(Rt=kt/1e6),ct(Fe+".range[0]",Math.log(kt)/Math.LN10),ct(Fe+".range[1]",Math.log(Rt)/Math.LN10)):(ct(Fe+".range[0]",Math.pow(10,kt)),ct(Fe+".range[1]",Math.pow(10,Rt)))}Array.isArray(De._subplots.polar)&&De._subplots.polar.length&&De[St.parts[0]]&&St.parts[1]==="radialaxis"&&delete De[St.parts[0]]._subplot.viewInitial["radialaxis.range"],l.getComponentMethod("annotations","convertCoords")(ve,Ue,le,ct),l.getComponentMethod("images","convertCoords")(ve,Ue,le,ct)}else ct(Fe+".autorange",!0),ct(Fe+".range",null);e(De,Fe+"._inputRange").set(null)}else if(Te.match(C)){var nt=e(De,jt).get(),Mt=(le||{}).type;(!Mt||Mt==="-")&&(Mt="linear"),l.getComponentMethod("annotations","convertCoords")(ve,nt,Mt,ct),l.getComponentMethod("images","convertCoords")(ve,nt,Mt,ct)}var Et=p.containerArrayMatch(jt);if(Et){_t=Et.array,Lt=Et.index;var pt=Et.property,Dt=at||{editType:"calc"};Lt!==""&&pt===""&&(p.isAddVal(le)?zt[jt]=null:p.isRemoveVal(le)?zt[jt]=(e(Me,_t).get()||[])[Lt]:a.warn("unrecognized full object value",we)),x.update(It,Dt),Ze[_t]||(Ze[_t]={});var Ht=Ze[_t][Lt];Ht||(Ht=Ze[_t][Lt]={}),Ht[pt]=le,delete we[jt]}else Te==="reverse"?(Ie.range?Ie.range.reverse():(ct(Fe+".autorange",!0),Ie.range=[1,0]),Ue.autorange?It.calc=!0:It.plot=!0):(jt==="dragmode"&&(le===!1&&tt!==!1||le!==!1&&tt===!1)||De._has("scatter-like")&&De._has("regl")&&jt==="dragmode"&&(le==="lasso"||le==="select")&&!(tt==="lasso"||tt==="select")||De._has("gl2d")?It.plot=!0:at?x.update(It,at):It.calc=!0,St.set(le))}}for(_t in Ze){var Yt=p.applyContainerArrayChanges(ve,We(Me,_t),Ze[_t],It,We);Yt||(It.plot=!0)}for(var Pt in Wt){Ot=h.getFromId(ve,Pt);var nr=Ot&&Ot._constraintGroup;if(nr){It.calc=!0;for(var lr in nr)Wt[lr]||(h.getFromId(ve,lr)._constraintShrinkable=!0)}}return(ke(ve)||we.height||we.width)&&(It.plot=!0),(It.plot||It.calc)&&(It.layoutReplot=!0),{flags:It,rangesAltered:Wt,undoit:zt,redoit:Bt,eventData:it}}function ke(ve){var we=ve._fullLayout,Me=we.width,De=we.height;return ve.layout.autosize&&c.plotAutoSize(ve,ve.layout,we),we.width!==Me||we.height!==De}function Oe(ve,we,Me,De){ve=a.getGraphDiv(ve),T.clearPromiseQueue(ve),a.isPlainObject(we)||(we={}),a.isPlainObject(Me)||(Me={}),Object.keys(we).length&&(ve.changed=!0),Object.keys(Me).length&&(ve.changed=!0);var je=T.coerceTraceIndices(ve,De),We=N(ve,a.extendFlat({},we),je),ht=We.flags,vt=Re(ve,a.extendFlat({},Me)),it=vt.flags;(ht.calc||it.calc)&&(ve.calcdata=void 0),ht.clearAxisTypes&&T.clearAxisTypes(ve,je,Me);var Ze=[];it.layoutReplot?Ze.push(d.layoutReplot):ht.fullReplot?Ze.push(W._doPlot):(Ze.push(c.previousPromises),se(ve,it,vt)||c.supplyDefaults(ve),ht.style&&Ze.push(d.doTraceStyle),(ht.colorbars||it.colorbars)&&Ze.push(d.doColorBars),it.legend&&Ze.push(d.doLegend),it.layoutstyle&&Ze.push(d.layoutStyles),it.axrange&&ce(Ze,vt.rangesAltered),it.ticks&&Ze.push(d.doTicksRelayout),it.modebar&&Ze.push(d.doModeBar),it.camera&&Ze.push(d.doCamera),Ze.push(F)),Ze.push(c.rehover,c.redrag),s.add(ve,Oe,[ve,We.undoit,vt.undoit,We.traces],Oe,[ve,We.redoit,vt.redoit,We.traces]);var _t=a.syncOrAsync(Ze,ve);return(!_t||!_t.then)&&(_t=Promise.resolve(ve)),_t.then(function(){return ve.emit("plotly_update",{data:We.eventData,layout:vt.eventData}),ve})}function Be(ve){return function(Me){Me._fullLayout._guiEditing=!0;var De=ve.apply(null,arguments);return Me._fullLayout._guiEditing=!1,De}}var Ae=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ge=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ee(ve,we){for(var Me=0;Me<we.length;Me++){var De=we[Me],je=ve.match(De.pattern);if(je){var We=je[1]||"";return{head:We,tail:ve.substr(We.length+1),attr:De.attr}}}}function Ve(ve,we){var Me=e(we,ve).get();if(Me!==void 0)return Me;var De=ve.split(".");for(De.pop();De.length>1;)if(De.pop(),Me=e(we,De.join(".")+".uirevision").get(),Me!==void 0)return Me;return we.uirevision}function xt(ve,we){for(var Me=0;Me<we.length;Me++)if(we[Me]._fullInput.uid===ve)return Me;return-1}function Ye(ve,we,Me){for(var De=0;De<we.length;De++)if(we[De].uid===ve)return De;return!we[Me]||we[Me].uid?-1:Me}function Xe(ve,we){var Me=a.isPlainObject(ve),De=Array.isArray(ve);return Me||De?(Me&&a.isPlainObject(we)||De&&Array.isArray(we))&&JSON.stringify(ve)===JSON.stringify(we):ve===we}function Je(ve,we,Me,De){var je=De._preGUI,We,ht,vt,it,Ze,_t,Lt,wt,Gt,Kt,$t=[],It={},Bt={};for(We in je){if(Ze=Ee(We,Ae),Ze){if(Gt=Ze.head,Kt=Ze.tail,ht=Ze.attr||Gt+".uirevision",vt=e(De,ht).get(),it=vt&&Ve(ht,we),it&&it===vt){if(_t=je[We],_t===null&&(_t=void 0),Lt=e(we,We),wt=Lt.get(),Xe(wt,_t)){wt===void 0&&Kt==="autorange"&&$t.push(Gt),Lt.set(Y(e(De,We).get()));continue}else if(Kt==="autorange"||Kt.substr(0,6)==="range["){var zt=je[Gt+".range[0]"],ct=je[Gt+".range[1]"],Wt=je[Gt+".autorange"];if(Wt||Wt===null&&zt===null&&ct===null){if(!(Gt in It)){var Ot=e(we,Gt).get();It[Gt]=Ot&&(Ot.autorange||Ot.autorange!==!1&&(!Ot.range||Ot.range.length!==2))}if(It[Gt]){Lt.set(Y(e(De,We).get()));continue}}}}}else a.warn("unrecognized GUI edit: "+We);delete je[We],Ze&&Ze.tail.substr(0,6)==="range["&&(Bt[Ze.head]=1)}for(var Jt=0;Jt<$t.length;Jt++){var jt=$t[Jt];if(Bt[jt]){var St=e(we,jt).get();St&&delete St.autorange}}var le=De._tracePreGUI;for(var re in le){var Le=le[re],Te=null,Se;for(We in Le){if(!Te){var Fe=xt(re,Me);if(Fe<0){delete le[re];break}var Ie=Me[Fe];Se=Ie._fullInput;var Ue=Ye(re,ve,Se.index);if(Ue<0){delete le[re];break}Te=ve[Ue]}if(Ze=Ee(We,ge),Ze){if(Ze.attr?(vt=e(De,Ze.attr).get(),it=vt&&Ve(Ze.attr,we)):(vt=Se.uirevision,it=Te.uirevision,it===void 0&&(it=we.uirevision)),it&&it===vt&&(_t=Le[We],_t===null&&(_t=void 0),Lt=e(Te,We),wt=Lt.get(),Xe(wt,_t))){Lt.set(Y(e(Se,We).get()));continue}}else a.warn("unrecognized GUI edit: "+We+" in trace uid "+re);delete Le[We]}}}function ft(ve,we,Me,De){var je,We;function ht(){return W.addFrames(ve,je)}ve=a.getGraphDiv(ve),T.clearPromiseQueue(ve);var vt=ve._fullData,it=ve._fullLayout;if(!a.isPlotDiv(ve)||!vt||!it)We=W.newPlot(ve,we,Me,De);else{if(a.isPlainObject(we)){var Ze=we;we=Ze.data,Me=Ze.layout,De=Ze.config,je=Ze.frames}var _t=!1;if(De){var Lt=a.extendDeep({},ve._context);ve._context=void 0,Q(ve,De),_t=mt(Lt,ve._context)}ve.data=we||[],T.cleanData(ve.data),ve.layout=Me||{},T.cleanLayout(ve.layout),Je(ve.data,ve.layout,vt,it),c.supplyDefaults(ve,{skipUpdateCalc:!0});var wt=ve._fullData,Gt=ve._fullLayout,Kt=Gt.datarevision===void 0,$t=Gt.transition,It=At(ve,it,Gt,Kt,$t),Bt=It.newDataRevision,zt=yt(ve,vt,wt,Kt,$t,Bt);if(ke(ve)&&(It.layoutReplot=!0),zt.calc||It.calc){ve.calcdata=void 0;for(var ct=Object.getOwnPropertyNames(Gt),Wt=0;Wt<ct.length;Wt++){var Ot=ct[Wt],Jt=Ot.substring(0,5);if(Jt==="xaxis"||Jt==="yaxis"){var jt=Gt[Ot]._emptyCategories;jt&&jt()}}}else c.supplyDefaultsUpdateCalc(ve.calcdata,wt);var St=[];if(je&&(ve._transitionData={},c.createTransitionData(ve),St.push(ht)),Gt.transition&&!_t&&(zt.anim||It.anim))It.ticks&&St.push(d.doTicksRelayout),c.doCalcdata(ve),d.doAutoRangeAndConstraints(ve),St.push(function(){return c.transitionFromReact(ve,zt,It,it)});else if(zt.fullReplot||It.layoutReplot||_t)ve._fullLayout._skipDefaults=!0,St.push(W._doPlot);else{for(var le in It.arrays){var re=It.arrays[le];if(re.length){var Le=l.getComponentMethod(le,"drawOne");if(Le!==a.noop)for(var Te=0;Te<re.length;Te++)Le(ve,re[Te]);else{var Se=l.getComponentMethod(le,"draw");if(Se===a.noop)throw new Error("cannot draw components: "+le);Se(ve)}}}St.push(c.previousPromises),zt.style&&St.push(d.doTraceStyle),(zt.colorbars||It.colorbars)&&St.push(d.doColorBars),It.legend&&St.push(d.doLegend),It.layoutstyle&&St.push(d.layoutStyles),It.axrange&&ce(St),It.ticks&&St.push(d.doTicksRelayout),It.modebar&&St.push(d.doModeBar),It.camera&&St.push(d.doCamera),St.push(F)}St.push(c.rehover,c.redrag),We=a.syncOrAsync(St,ve),(!We||!We.then)&&(We=Promise.resolve(ve))}return We.then(function(){return ve.emit("plotly_react",{data:we,layout:Me}),ve})}function yt(ve,we,Me,De,je,We){var ht=we.length===Me.length;if(!je&&!ht)return{fullReplot:!0,calc:!0};var vt=x.traceFlags();vt.arrays={},vt.nChanges=0,vt.nChangesAnim=0;var it,Ze;function _t(Gt){var Kt=r.getTraceValObject(Ze,Gt);return!Ze._module.animatable&&Kt.anim&&(Kt.anim=!1),Kt}var Lt={getValObject:_t,flags:vt,immutable:De,transition:je,newDataRevision:We,gd:ve},wt={};for(it=0;it<we.length;it++)if(Me[it]){if(Ze=Me[it]._fullInput,c.hasMakesDataTransform(Ze)&&(Ze=Me[it]),wt[Ze.uid])continue;wt[Ze.uid]=1,qe(we[it]._fullInput,Ze,[],Lt)}return(vt.calc||vt.plot)&&(vt.fullReplot=!0),je&&vt.nChanges&&vt.nChangesAnim&&(vt.anim=vt.nChanges===vt.nChangesAnim&&ht?"all":"some"),vt}function At(ve,we,Me,De,je){var We=x.layoutFlags();We.arrays={},We.rangesAltered={},We.nChanges=0,We.nChangesAnim=0;function ht(it){return r.getLayoutValObject(Me,it)}var vt={getValObject:ht,flags:We,immutable:De,transition:je,gd:ve};return qe(we,Me,[],vt),(We.plot||We.calc)&&(We.layoutReplot=!0),je&&We.nChanges&&We.nChangesAnim&&(We.anim=We.nChanges===We.nChangesAnim?"all":"some"),We}function qe(ve,we,Me,De){var je,We,ht,vt=De.getValObject,it=De.flags,Ze=De.immutable,_t=De.inArray,Lt=De.arrayIndex;function wt(){var Fe=je.editType;if(_t&&Fe.indexOf("arraydraw")!==-1){a.pushUnique(it.arrays[_t],Lt);return}x.update(it,je),Fe!=="none"&&it.nChanges++,De.transition&&je.anim&&it.nChangesAnim++,(fe.test(ht)||pe.test(ht))&&(it.rangesAltered[Me[0]]=1),be.test(ht)&&e(we,"_inputDomain").set(null),We==="datarevision"&&(it.newDataRevision=1)}function Gt(Fe){return Fe.valType==="data_array"||Fe.arrayOk}for(We in ve){if(it.calc&&!De.transition)return;var Kt=ve[We],$t=we[We],It=Me.concat(We);if(ht=It.join("."),!(We.charAt(0)==="_"||typeof Kt=="function"||Kt===$t)){if((We==="tick0"||We==="dtick")&&Me[0]!=="geo"){var Bt=we.tickmode;if(Bt==="auto"||Bt==="array"||!Bt)continue}if(!(We==="range"&&we.autorange)&&!((We==="zmin"||We==="zmax")&&we.type==="contourcarpet")&&(je=vt(It),!!je&&!(je._compareAsJSON&&JSON.stringify(Kt)===JSON.stringify($t)))){var zt=je.valType,ct,Wt=Gt(je),Ot=Array.isArray(Kt),Jt=Array.isArray($t);if(Ot&&Jt){var jt="_input_"+We,St=ve[jt],le=we[jt];if(Array.isArray(St)&&St===le)continue}if($t===void 0)Wt&&Ot?it.calc=!0:wt();else if(je._isLinkedToArray){var re=[],Le=!1;_t||(it.arrays[We]=re);var Te=Math.min(Kt.length,$t.length),Se=Math.max(Kt.length,$t.length);if(Te!==Se)if(je.editType==="arraydraw")Le=!0;else{wt();continue}for(ct=0;ct<Te;ct++)qe(Kt[ct],$t[ct],It.concat(ct),a.extendFlat({inArray:We,arrayIndex:ct},De));if(Le)for(ct=Te;ct<Se;ct++)re.push(ct)}else!zt&&a.isPlainObject(Kt)?qe(Kt,$t,It,De):Wt?Ot&&Jt?(Ze&&(it.calc=!0),(Ze||De.newDataRevision)&&wt()):Ot!==Jt?it.calc=!0:wt():Ot&&Jt?(Kt.length!==$t.length||String(Kt)!==String($t))&&wt():wt()}}}for(We in we)if(!(We in ve||We.charAt(0)==="_"||typeof we[We]=="function"))if(je=vt(Me.concat(We)),Gt(je)&&Array.isArray(we[We])){it.calc=!0;return}else wt()}function mt(ve,we){var Me;for(Me in ve)if(Me.charAt(0)!=="_"){var De=ve[Me],je=we[Me];if(De!==je)if(a.isPlainObject(De)&&a.isPlainObject(je)){if(mt(De,je))return!0}else if(Array.isArray(De)&&Array.isArray(je)){if(De.length!==je.length)return!0;for(var We=0;We<De.length;We++)if(De[We]!==je[We])if(a.isPlainObject(De[We])&&a.isPlainObject(je[We])){if(mt(De[We],je[We]))return!0}else return!0}else return!0}}function st(ve,we,Me){if(ve=a.getGraphDiv(ve),!a.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var De=ve._transitionData;De._frameQueue||(De._frameQueue=[]),Me=c.supplyAnimationDefaults(Me);var je=Me.transition,We=Me.frame;De._frameWaitingCnt===void 0&&(De._frameWaitingCnt=0);function ht(Ze){return Array.isArray(je)?Ze>=je.length?je[0]:je[Ze]:je}function vt(Ze){return Array.isArray(We)?Ze>=We.length?We[0]:We[Ze]:We}function it(Ze,_t){var Lt=0;return function(){if(Ze&&++Lt===_t)return Ze()}}return new Promise(function(Ze,_t){function Lt(){if(De._frameQueue.length!==0){for(;De._frameQueue.length;){var Te=De._frameQueue.pop();Te.onInterrupt&&Te.onInterrupt()}ve.emit("plotly_animationinterrupted",[])}}function wt(Te){if(Te.length!==0){for(var Se=0;Se<Te.length;Se++){var Fe;Te[Se].type==="byname"?Fe=c.computeFrame(ve,Te[Se].name):Fe=Te[Se].data;var Ie=vt(Se),Ue=ht(Se);Ue.duration=Math.min(Ue.duration,Ie.duration);var tt={frame:Fe,name:Te[Se].name,frameOpts:Ie,transitionOpts:Ue};Se===Te.length-1&&(tt.onComplete=it(Ze,2),tt.onInterrupt=_t),De._frameQueue.push(tt)}Me.mode==="immediate"&&(De._lastFrameAt=-1/0),De._animationRaf||$t()}}function Gt(){ve.emit("plotly_animated"),window.cancelAnimationFrame(De._animationRaf),De._animationRaf=null}function Kt(){De._currentFrame&&De._currentFrame.onComplete&&De._currentFrame.onComplete();var Te=De._currentFrame=De._frameQueue.shift();if(Te){var Se=Te.name?Te.name.toString():null;ve._fullLayout._currentFrame=Se,De._lastFrameAt=Date.now(),De._timeToNext=Te.frameOpts.duration,c.transition(ve,Te.frame.data,Te.frame.layout,T.coerceTraceIndices(ve,Te.frame.traces),Te.frameOpts,Te.transitionOpts).then(function(){Te.onComplete&&Te.onComplete()}),ve.emit("plotly_animatingframe",{name:Se,frame:Te.frame,animation:{frame:Te.frameOpts,transition:Te.transitionOpts}})}else Gt()}function $t(){ve.emit("plotly_animating"),De._lastFrameAt=-1/0,De._timeToNext=0,De._runningTransitions=0,De._currentFrame=null;var Te=function(){De._animationRaf=window.requestAnimationFrame(Te),Date.now()-De._lastFrameAt>De._timeToNext&&Kt()};Te()}var It=0;function Bt(Te){return Array.isArray(je)?It>=je.length?Te.transitionOpts=je[It]:Te.transitionOpts=je[0]:Te.transitionOpts=je,It++,Te}var zt,ct,Wt=[],Ot=we==null,Jt=Array.isArray(we),jt=!Ot&&!Jt&&a.isPlainObject(we);if(jt)Wt.push({type:"object",data:Bt(a.extendFlat({},we))});else if(Ot||["string","number"].indexOf(typeof we)!==-1)for(zt=0;zt<De._frames.length;zt++)ct=De._frames[zt],!!ct&&(Ot||String(ct.group)===String(we))&&Wt.push({type:"byname",name:String(ct.name),data:Bt({name:ct.name})});else if(Jt)for(zt=0;zt<we.length;zt++){var St=we[zt];["number","string"].indexOf(typeof St)!==-1?(St=String(St),Wt.push({type:"byname",name:St,data:Bt({name:St})})):a.isPlainObject(St)&&Wt.push({type:"object",data:Bt(a.extendFlat({},St))})}for(zt=0;zt<Wt.length;zt++)if(ct=Wt[zt],ct.type==="byname"&&!De._frameHash[ct.data.name]){a.warn('animate failure: frame not found: "'+ct.data.name+'"'),_t();return}["next","immediate"].indexOf(Me.mode)!==-1&&Lt(),Me.direction==="reverse"&&Wt.reverse();var le=ve._fullLayout._currentFrame;if(le&&Me.fromcurrent){var re=-1;for(zt=0;zt<Wt.length;zt++)if(ct=Wt[zt],ct.type==="byname"&&ct.name===le){re=zt;break}if(re>0&&re<Wt.length-1){var Le=[];for(zt=0;zt<Wt.length;zt++)ct=Wt[zt],(Wt[zt].type!=="byname"||zt>re)&&Le.push(ct);Wt=Le}}Wt.length>0?wt(Wt):(ve.emit("plotly_animated"),Ze())})}function gt(ve,we,Me){if(ve=a.getGraphDiv(ve),we==null)return Promise.resolve();if(!a.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var De,je,We,ht,vt=ve._transitionData._frames,it=ve._transitionData._frameHash;if(!Array.isArray(we))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+we);var Ze=vt.length+we.length*2,_t=[],Lt={};for(De=we.length-1;De>=0;De--)if(!!a.isPlainObject(we[De])){var wt=we[De].name,Gt=(it[wt]||Lt[wt]||{}).name,Kt=we[De].name,$t=it[Gt]||Lt[Gt];Gt&&Kt&&typeof Kt=="number"&&$t&&E<w&&(E++,a.warn('addFrames: overwriting frame "'+(it[Gt]||Lt[Gt]).name+'" with a frame whose name of type "number" also equates to "'+Gt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===w&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Lt[wt]={name:wt},_t.push({frame:c.supplyFrameDefaults(we[De]),index:Me&&Me[De]!==void 0&&Me[De]!==null?Me[De]:Ze+De})}_t.sort(function(jt,St){return jt.index>St.index?-1:jt.index<St.index?1:0});var It=[],Bt=[],zt=vt.length;for(De=_t.length-1;De>=0;De--){if(je=_t[De].frame,typeof je.name=="number"&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!je.name)for(;it[je.name="frame "+ve._transitionData._counter++];);if(it[je.name]){for(We=0;We<vt.length&&(vt[We]||{}).name!==je.name;We++);It.push({type:"replace",index:We,value:je}),Bt.unshift({type:"replace",index:We,value:vt[We]})}else ht=Math.max(0,Math.min(_t[De].index,zt)),It.push({type:"insert",index:ht,value:je}),Bt.unshift({type:"delete",index:ht}),zt++}var ct=c.modifyFrames,Wt=c.modifyFrames,Ot=[ve,Bt],Jt=[ve,It];return s&&s.add(ve,ct,Ot,Wt,Jt),c.modifyFrames(ve,It)}function Ct(ve,we){if(ve=a.getGraphDiv(ve),!a.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);var Me,De,je=ve._transitionData._frames,We=[],ht=[];if(!we)for(we=[],Me=0;Me<je.length;Me++)we.push(Me);for(we=we.slice(),we.sort(),Me=we.length-1;Me>=0;Me--)De=we[Me],We.push({type:"delete",index:De}),ht.unshift({type:"insert",index:De,value:je[De]});var vt=c.modifyFrames,it=c.modifyFrames,Ze=[ve,ht],_t=[ve,We];return s&&s.add(ve,vt,Ze,it,_t),c.modifyFrames(ve,We)}function Ce(ve){ve=a.getGraphDiv(ve);var we=ve._fullLayout||{},Me=ve._fullData||[];return c.cleanPlot([],{},Me,we),c.purge(ve),u.purge(ve),we._container&&we._container.remove(),delete ve._context,ve}function ze(ve){var we=ve._fullLayout,Me=ve.getBoundingClientRect();if(!a.equalDomRects(Me,we._lastBBox)){var De=we._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(ve));we._invScaleX=Math.sqrt(De[0][0]*De[0][0]+De[0][1]*De[0][1]+De[0][2]*De[0][2]),we._invScaleY=Math.sqrt(De[1][0]*De[1][0]+De[1][1]*De[1][1]+De[1][2]*De[1][2]),we._lastBBox=Me}}function et(ve){var we=t.select(ve),Me=ve._fullLayout;if(Me._calcInverseTransform=ze,Me._calcInverseTransform(ve),Me._container=we.selectAll(".plot-container").data([0]),Me._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Me._paperdiv=Me._container.selectAll(".svg-container").data([0]),Me._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Me._glcontainer=Me._paperdiv.selectAll(".gl-container").data([{}]),Me._glcontainer.enter().append("div").classed("gl-container",!0),Me._paperdiv.selectAll(".main-svg").remove(),Me._paperdiv.select(".modebar-container").remove(),Me._paper=Me._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Me._toppaper=Me._paperdiv.append("svg").classed("main-svg",!0),Me._modebardiv=Me._paperdiv.append("div"),delete Me._modeBar,Me._hoverpaper=Me._paperdiv.append("svg").classed("main-svg",!0),!Me._uid){var De={};t.selectAll("defs").each(function(){this.id&&(De[this.id.split("-")[1]]=1)}),Me._uid=a.randstr(De)}Me._paperdiv.selectAll(".main-svg").attr(L.svgAttrs),Me._defs=Me._paper.append("defs").attr("id","defs-"+Me._uid),Me._clips=Me._defs.append("g").classed("clips",!0),Me._topdefs=Me._toppaper.append("defs").attr("id","topdefs-"+Me._uid),Me._topclips=Me._topdefs.append("g").classed("clips",!0),Me._bgLayer=Me._paper.append("g").classed("bglayer",!0),Me._draggers=Me._paper.append("g").classed("draglayer",!0);var je=Me._paper.append("g").classed("layer-below",!0);Me._imageLowerLayer=je.append("g").classed("imagelayer",!0),Me._shapeLowerLayer=je.append("g").classed("shapelayer",!0),Me._cartesianlayer=Me._paper.append("g").classed("cartesianlayer",!0),Me._polarlayer=Me._paper.append("g").classed("polarlayer",!0),Me._smithlayer=Me._paper.append("g").classed("smithlayer",!0),Me._ternarylayer=Me._paper.append("g").classed("ternarylayer",!0),Me._geolayer=Me._paper.append("g").classed("geolayer",!0),Me._funnelarealayer=Me._paper.append("g").classed("funnelarealayer",!0),Me._pielayer=Me._paper.append("g").classed("pielayer",!0),Me._iciclelayer=Me._paper.append("g").classed("iciclelayer",!0),Me._treemaplayer=Me._paper.append("g").classed("treemaplayer",!0),Me._sunburstlayer=Me._paper.append("g").classed("sunburstlayer",!0),Me._indicatorlayer=Me._toppaper.append("g").classed("indicatorlayer",!0),Me._glimages=Me._paper.append("g").classed("glimages",!0);var We=Me._toppaper.append("g").classed("layer-above",!0);Me._imageUpperLayer=We.append("g").classed("imagelayer",!0),Me._shapeUpperLayer=We.append("g").classed("shapelayer",!0),Me._infolayer=Me._toppaper.append("g").classed("infolayer",!0),Me._menulayer=Me._toppaper.append("g").classed("menulayer",!0),Me._zoomlayer=Me._toppaper.append("g").classed("zoomlayer",!0),Me._hoverlayer=Me._hoverpaper.append("g").classed("hoverlayer",!0),Me._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ve.emit("plotly_framework")}W.animate=st,W.addFrames=gt,W.deleteFrames=Ct,W.addTraces=q,W.deleteTraces=K,W.extendTraces=ie,W.moveTraces=g,W.prependTraces=Z,W.newPlot=ee,W._doPlot=H,W.purge=Ce,W.react=ft,W.redraw=J,W.relayout=j,W.restyle=S,W.setPlotConfig=k,W.update=Oe,W._guiRelayout=Be(j),W._guiRestyle=Be(S),W._guiUpdate=Be(Oe),W._storeDirectGUIEdit=O},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(f,ae,W){var t={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},n={};function o(a,e){for(var u in a){var s=a[u];s.valType?e[u]=s.dflt:(e[u]||(e[u]={}),o(s,e[u]))}}o(t,n),ae.exports={configAttributes:t,dfltConfig:n}},{}],267:[function(f,ae,W){var t=f("../registry"),n=f("../lib"),o=f("../plots/attributes"),a=f("../plots/layout_attributes"),e=f("../plots/frame_attributes"),u=f("../plots/animation_attributes"),s=f("./plot_config").configAttributes,l=f("./edit_types"),r=n.extendDeepAll,c=n.isPlainObject,h=n.isArrayOrTypedArray,v=n.nestedProperty,y=n.valObjectMeta,m="_isSubplotObj",L="_isLinkedToArray",A="_arrayAttrRegexps",M="_deprecated",p=[m,L,A,M];W.IS_SUBPLOT_OBJ=m,W.IS_LINKED_TO_ARRAY=L,W.DEPRECATED=M,W.UNDERSCORE_ATTRS=p,W.get=function(){var ee={};t.allTypes.forEach(function(G){ee[G]=C(G)});var R={};return Object.keys(t.transformsRegistry).forEach(function(G){R[G]=w(G)}),{defs:{valObjects:y,metaKeys:p.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{}},traces:ee,layout:E(),transforms:R,frames:H(),animation:F(u),config:F(s)}},W.crawl=function(ee,R,G,B){var te=G||0;B=B||"",Object.keys(ee).forEach(function(ne){var oe=ee[ne];if(p.indexOf(ne)===-1){var me=(B?B+".":"")+ne;R(oe,ne,ee,te,me),!W.isValObject(oe)&&c(oe)&&ne!=="impliedEdits"&&W.crawl(oe,R,te+1,me)}})},W.isValObject=function(ee){return ee&&ee.valType!==void 0},W.findArrayAttributes=function(ee){var R=[],G=[],B=[],te,ne;function oe(K,g,S,Y){G=G.slice(0,Y).concat([g]),B=B.slice(0,Y).concat([K&&K._isLinkedToArray]);var z=K&&(K.valType==="data_array"||K.arrayOk===!0)&&!(G[Y-1]==="colorbar"&&(g==="ticktext"||g==="tickvals"));!z||me(te,0,"")}function me(K,g,S){var Y=K[G[g]],z=S+G[g];if(g===G.length-1)h(Y)&&R.push(ne+z);else if(B[g]){if(Array.isArray(Y))for(var _=0;_<Y.length;_++)c(Y[_])&&me(Y[_],g+1,z+"["+_+"].")}else c(Y)&&me(Y,g+1,z+".")}te=ee,ne="",W.crawl(o,oe),ee._module&&ee._module.attributes&&W.crawl(ee._module.attributes,oe);var de=ee.transforms;if(de)for(var ie=0;ie<de.length;ie++){var Z=de[ie],q=Z._module;q&&(ne="transforms["+ie+"].",te=Z,W.crawl(q.attributes,oe))}return R},W.getTraceValObject=function(ee,R){var G=R[0],B=1,te,ne;if(G==="transforms"){if(R.length===1)return o.transforms;var oe=ee.transforms;if(!Array.isArray(oe)||!oe.length)return!1;var me=R[1];if(!x(me)||me>=oe.length)return!1;te=(t.transformsRegistry[oe[me].type]||{}).attributes,ne=te&&te[R[2]],B=3}else{var de=ee._module;if(de||(de=(t.modules[ee.type||o.type.dflt]||{})._module),!de)return!1;if(te=de.attributes,ne=te&&te[G],!ne){var ie=de.basePlotModule;ie&&ie.attributes&&(ne=ie.attributes[G])}ne||(ne=o[G])}return d(ne,R,B)},W.getLayoutValObject=function(ee,R){var G=T(ee,R[0]);return d(G,R,1)};function T(ee,R){var G,B,te,ne,oe=ee._basePlotModules;if(oe){var me;for(G=0;G<oe.length;G++){if(te=oe[G],te.attrRegex&&te.attrRegex.test(R)){if(te.layoutAttrOverrides)return te.layoutAttrOverrides;!me&&te.layoutAttributes&&(me=te.layoutAttributes)}var de=te.baseLayoutAttrOverrides;if(de&&R in de)return de[R]}if(me)return me}var ie=ee._modules;if(ie){for(G=0;G<ie.length;G++)if(ne=ie[G].layoutAttributes,ne&&R in ne)return ne[R]}for(B in t.componentsRegistry){if(te=t.componentsRegistry[B],te.name==="colorscale"&&R.indexOf("coloraxis")===0)return te.layoutAttributes[R];if(!te.schema&&R===te.name)return te.layoutAttributes}return R in a?a[R]:!1}function d(ee,R,G){if(!ee)return!1;if(ee._isLinkedToArray){if(x(R[G]))G++;else if(G<R.length)return!1}for(;G<R.length;G++){var B=ee[R[G]];if(c(B))ee=B;else break;if(G===R.length-1)break;if(ee._isLinkedToArray){if(G++,!x(R[G]))return!1}else if(ee.valType==="info_array"){G++;var te=R[G];if(!x(te))return!1;var ne=ee.items;if(Array.isArray(ne)){if(te>=ne.length)return!1;if(ee.dimensions===2){if(G++,R.length===G)return ee;var oe=R[G];if(!x(oe))return!1;ee=ne[te][oe]}else ee=ne[te]}else ee=ne}}return ee}function x(ee){return ee===Math.round(ee)&&ee>=0}function C(ee){var R,G;R=t.modules[ee]._module,G=R.basePlotModule;var B={};B.type=null;var te=r({},o),ne=r({},R.attributes);W.crawl(ne,function(de,ie,Z,q,K){v(te,K).set(void 0),de===void 0&&v(ne,K).set(void 0)}),r(B,te),t.traceIs(ee,"noOpacity")&&delete B.opacity,t.traceIs(ee,"showLegend")||(delete B.showlegend,delete B.legendgroup),t.traceIs(ee,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),R.selectPoints||delete B.selectedpoints,r(B,ne),G.attributes&&r(B,G.attributes),B.type=ee;var oe={meta:R.meta||{},categories:R.categories||{},animatable:Boolean(R.animatable),type:ee,attributes:F(B)};if(R.layoutAttributes){var me={};r(me,R.layoutAttributes),oe.layoutAttributes=F(me)}return R.animatable||W.crawl(oe,function(de){W.isValObject(de)&&"anim"in de&&delete de.anim}),oe}function E(){var ee={},R,G;r(ee,a);for(R in t.subplotsRegistry)if(G=t.subplotsRegistry[R],!!G.layoutAttributes)if(Array.isArray(G.attr))for(var B=0;B<G.attr.length;B++)Q(ee,G,G.attr[B]);else{var te=G.attr==="subplot"?G.name:G.attr;Q(ee,G,te)}for(R in t.componentsRegistry){G=t.componentsRegistry[R];var ne=G.schema;if(ne&&(ne.subplots||ne.layout)){var oe=ne.subplots;if(oe&&oe.xaxis&&!oe.yaxis)for(var me in oe.xaxis)delete ee.yaxis[me]}else G.name==="colorscale"?r(ee,G.layoutAttributes):G.layoutAttributes&&J(ee,G.layoutAttributes,G.name)}return{layoutAttributes:F(ee)}}function w(ee){var R=t.transformsRegistry[ee],G=r({},R.attributes);return Object.keys(t.componentsRegistry).forEach(function(B){var te=t.componentsRegistry[B];te.schema&&te.schema.transforms&&te.schema.transforms[ee]&&Object.keys(te.schema.transforms[ee]).forEach(function(ne){J(G,te.schema.transforms[ee][ne],ne)})}),{attributes:F(G)}}function H(){var ee={frames:r({},e)};return F(ee),ee.frames}function F(ee){return k(ee),I(ee),U(ee),ee}function k(ee){function R(B){return{valType:"string",editType:"none"}}function G(B,te,ne){W.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(ne[te+"src"]=R()):c(B)&&(B.role="object")}W.crawl(ee,G)}function I(ee){function R(G,B,te){if(!!G){var ne=G[L];!ne||(delete G[L],te[B]={items:{}},te[B].items[ne]=G,te[B].role="object")}}W.crawl(ee,R)}function U(ee){function R(G){for(var B in G)if(c(G[B]))R(G[B]);else if(Array.isArray(G[B]))for(var te=0;te<G[B].length;te++)R(G[B][te]);else G[B]instanceof RegExp&&(G[B]=G[B].toString())}R(ee)}function Q(ee,R,G){var B=v(ee,G),te=r({},R.layoutAttributes);te[m]=!0,B.set(te)}function J(ee,R,G){var B=v(ee,G);B.set(r(B.get()||{},R))}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(f,ae,W){var t=f("../lib"),n=f("../plots/attributes"),o="templateitemname",a={name:{valType:"string",editType:"none"}};a[o]={valType:"string",editType:"calc"},W.templatedArray=function(s,l){return l._isLinkedToArray=s,l.name=a.name,l[o]=a[o],l},W.traceTemplater=function(s){var l={},r,c;for(r in s)c=s[r],Array.isArray(c)&&c.length&&(l[r]=0);function h(v){r=t.coerce(v,{},n,"type");var y={type:r,_template:null};if(r in l){c=s[r];var m=l[r]%c.length;l[r]++,y._template=c[m]}return y}return{newTrace:h}},W.newContainer=function(s,l,r){var c=s._template,h=c&&(c[l]||r&&c[r]);t.isPlainObject(h)||(h=null);var v=s[l]={_template:h};return v},W.arrayTemplater=function(s,l,r){var c=s._template,h=c&&c[u(l)],v=c&&c[l];(!Array.isArray(v)||!v.length)&&(v=[]);var y={};function m(A){var M={name:A.name,_input:A},p=M[o]=A[o];if(!e(p))return M._template=h,M;for(var T=0;T<v.length;T++){var d=v[T];if(d.name===p)return y[p]=1,M._template=d,M}return M[r]=A[r]||!1,M._template=!1,M}function L(){for(var A=[],M=0;M<v.length;M++){var p=v[M],T=p.name;if(e(T)&&!y[T]){var d={_template:p,name:T,_input:{_templateitemname:T}};d[o]=p[o],A.push(d),y[T]=1}}return A}return{newItem:m,defaultItems:L}};function e(s){return s&&typeof s=="string"}function u(s){var l=s.length-1;return s.charAt(l)!=="s"&&t.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}W.arrayDefaultKey=u,W.arrayEditor=function(s,l,r){var c=(t.nestedProperty(s,l).get()||[]).length,h=r._index,v=h>=c&&(r._input||{})._templateitemname;v&&(h=c);var y=l+"["+h+"]",m;function L(){m={},v&&(m[y]={},m[y][o]=v)}L();function A(d,x){m[d]=x}function M(d,x){v?t.nestedProperty(m[y],d).set(x):m[y+"."+d]=x}function p(){var d=m;return L(),d}function T(d,x){d&&M(d,x);var C=p();for(var E in C)t.nestedProperty(s,E).set(C[E])}return{modifyBase:A,modifyItem:M,getUpdateObj:p,applyUpdate:T}}},{"../lib":232,"../plots/attributes":275}],269:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../registry"),o=f("../plots/plots"),a=f("../lib"),e=f("../lib/clear_gl_canvases"),u=f("../components/color"),s=f("../components/drawing"),l=f("../components/titles"),r=f("../components/modebar"),c=f("../plots/cartesian/axes"),h=f("../constants/alignment"),v=f("../plots/cartesian/constraints"),y=v.enforce,m=v.clean,L=f("../plots/cartesian/autorange").doAutoRange,A="start",M="middle",p="end";W.layoutStyles=function(I){return a.syncOrAsync([o.doAutoMargin,d],I)};function T(I,U,Q){for(var J=0;J<Q.length;J++){var ee=Q[J][0],R=Q[J][1];if(!(ee[0]>=I[1]||ee[1]<=I[0])&&R[0]<U[1]&&R[1]>U[0])return!0}return!1}function d(I){var U=I._fullLayout,Q=U._size,J=Q.p,ee=c.list(I,"",!0),R,G,B,te,ne,oe;if(U._paperdiv.style({width:I._context.responsive&&U.autosize&&!I._context._hasZeroWidth&&!I.layout.width?"100%":U.width+"px",height:I._context.responsive&&U.autosize&&!I._context._hasZeroHeight&&!I.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(s.setSize,U.width,U.height),I._context.setBackground(I,U.paper_bgcolor),W.drawMainTitle(I),r.manage(I),!U._has("cartesian"))return o.previousPromises(I);function me(mt,st,gt){var Ct=mt._lw/2;if(mt._id.charAt(0)==="x"){if(st){if(gt==="top")return st._offset-J-Ct}else return Q.t+Q.h*(1-(mt.position||0))+Ct%1;return st._offset+st._length+J+Ct}if(st){if(gt==="right")return st._offset+st._length+J+Ct}else return Q.l+Q.w*(mt.position||0)+Ct%1;return st._offset-J-Ct}for(R=0;R<ee.length;R++){te=ee[R];var de=te._anchorAxis;te._linepositions={},te._lw=s.crispRound(I,te.linewidth,1),te._mainLinePosition=me(te,de,te.side),te._mainMirrorPosition=te.mirror&&de?me(te,de,h.OPPOSITE_SIDE[te.side]):null}var ie=[],Z=[],q=[],K=u.opacity(U.paper_bgcolor)===1&&u.opacity(U.plot_bgcolor)===1&&U.paper_bgcolor===U.plot_bgcolor;for(G in U._plots)if(B=U._plots[G],B.mainplot)B.bg&&B.bg.remove(),B.bg=void 0;else{var g=B.xaxis.domain,S=B.yaxis.domain,Y=B.plotgroup;if(T(g,S,q)){var z=Y.node(),_=B.bg=a.ensureSingle(Y,"rect","bg");z.insertBefore(_.node(),z.childNodes[0]),Z.push(G)}else Y.select("rect.bg").remove(),q.push([g,S]),K||(ie.push(G),Z.push(G))}var O=U._bgLayer.selectAll(".bg").data(ie);for(O.enter().append("rect").classed("bg",!0),O.exit().remove(),O.each(function(mt){U._plots[mt].bg=t.select(this)}),R=0;R<Z.length;R++)B=U._plots[Z[R]],ne=B.xaxis,oe=B.yaxis,B.bg&&ne._offset!==void 0&&oe._offset!==void 0&&B.bg.call(s.setRect,ne._offset-J,oe._offset-J,ne._length+2*J,oe._length+2*J).call(u.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(G in U._plots){B=U._plots[G],ne=B.xaxis,oe=B.yaxis;var N=B.clipId="clip"+U._uid+G+"plot",P=a.ensureSingleById(U._clips,"clipPath",N,function(mt){mt.classed("plotclip",!0).append("rect")});B.clipRect=P.select("rect").attr({width:ne._length,height:oe._length}),s.setTranslate(B.plot,ne._offset,oe._offset);var j,se;B._hasClipOnAxisFalse?(j=null,se=N):(j=N,se=null),s.setClipUrl(B.plot,j,I),B.layerClipId=se}var ce,fe,pe,be,Re,ke,Oe,Be,Ae,ge,Ee,Ve,xt;function Ye(mt){return"M"+ce+","+mt+"H"+fe}function Xe(mt){return"M"+ne._offset+","+mt+"h"+ne._length}function Je(mt){return"M"+mt+","+Be+"V"+Oe}function ft(mt){return"M"+mt+","+oe._offset+"v"+oe._length}function yt(mt,st,gt){if(!mt.showline||G!==mt._mainSubplot)return"";if(!mt._anchorAxis)return gt(mt._mainLinePosition);var Ct=st(mt._mainLinePosition);return mt.mirror&&(Ct+=st(mt._mainMirrorPosition)),Ct}for(G in U._plots){B=U._plots[G],ne=B.xaxis,oe=B.yaxis;var At="M0,0";x(ne,G)&&(Re=E(ne,"left",oe,ee),ce=ne._offset-(Re?J+Re:0),ke=E(ne,"right",oe,ee),fe=ne._offset+ne._length+(ke?J+ke:0),pe=me(ne,oe,"bottom"),be=me(ne,oe,"top"),xt=!ne._anchorAxis||G!==ne._mainSubplot,xt&&(ne.mirror==="allticks"||ne.mirror==="all")&&(ne._linepositions[G]=[pe,be]),At=yt(ne,Ye,Xe),xt&&ne.showline&&(ne.mirror==="all"||ne.mirror==="allticks")&&(At+=Ye(pe)+Ye(be)),B.xlines.style("stroke-width",ne._lw+"px").call(u.stroke,ne.showline?ne.linecolor:"rgba(0,0,0,0)")),B.xlines.attr("d",At);var qe="M0,0";x(oe,G)&&(Ee=E(oe,"bottom",ne,ee),Oe=oe._offset+oe._length+(Ee?J:0),Ve=E(oe,"top",ne,ee),Be=oe._offset-(Ve?J:0),Ae=me(oe,ne,"left"),ge=me(oe,ne,"right"),xt=!oe._anchorAxis||G!==oe._mainSubplot,xt&&(oe.mirror==="allticks"||oe.mirror==="all")&&(oe._linepositions[G]=[Ae,ge]),qe=yt(oe,Je,ft),xt&&oe.showline&&(oe.mirror==="all"||oe.mirror==="allticks")&&(qe+=Je(Ae)+Je(ge)),B.ylines.style("stroke-width",oe._lw+"px").call(u.stroke,oe.showline?oe.linecolor:"rgba(0,0,0,0)")),B.ylines.attr("d",qe)}return c.makeClipPaths(I),o.previousPromises(I)}function x(I,U){return(I.ticks||I.showline)&&(U===I._mainSubplot||I.mirror==="all"||I.mirror==="allticks")}function C(I,U,Q){if(!Q.showline||!Q._lw)return!1;if(Q.mirror==="all"||Q.mirror==="allticks")return!0;var J=Q._anchorAxis;if(!J)return!1;var ee=h.FROM_BL[U];return Q.side===U?J.domain[ee]===I.domain[ee]:Q.mirror&&J.domain[1-ee]===I.domain[1-ee]}function E(I,U,Q,J){if(C(I,U,Q))return Q._lw;for(var ee=0;ee<J.length;ee++){var R=J[ee];if(R._mainAxis===Q._mainAxis&&C(I,U,R))return R._lw}return 0}W.drawMainTitle=function(I){var U=I._fullLayout,Q=F(U),J=k(U);l.draw(I,"gtitle",{propContainer:U,propName:"title.text",placeholder:U._dfltTitle.plot,attributes:{x:w(U,Q),y:H(U,J),"text-anchor":Q,dy:J}})};function w(I,U){var Q=I.title,J=I._size,ee=0;switch(U===A?ee=Q.pad.l:U===p&&(ee=-Q.pad.r),Q.xref){case"paper":return J.l+J.w*Q.x+ee;case"container":default:return I.width*Q.x+ee}}function H(I,U){var Q=I.title,J=I._size,ee=0;if(U==="0em"||!U?ee=-Q.pad.b:U===h.CAP_SHIFT+"em"&&(ee=Q.pad.t),Q.y==="auto")return J.t/2;switch(Q.yref){case"paper":return J.t+J.h-J.h*Q.y+ee;case"container":default:return I.height-I.height*Q.y+ee}}function F(I){var U=I.title,Q=M;return a.isRightAnchor(U)?Q=p:a.isLeftAnchor(U)&&(Q=A),Q}function k(I){var U=I.title,Q="0em";return a.isTopAnchor(U)?Q=h.CAP_SHIFT+"em":a.isMiddleAnchor(U)&&(Q=h.MID_SHIFT+"em"),Q}W.doTraceStyle=function(I){var U=I.calcdata,Q=[],J;for(J=0;J<U.length;J++){var ee=U[J],R=ee[0]||{},G=R.trace||{},B=G._module||{},te=B.arraysToCalcdata;te&&te(ee,G);var ne=B.editStyle;ne&&Q.push({fn:ne,cd0:R})}if(Q.length){for(J=0;J<Q.length;J++){var oe=Q[J];oe.fn(I,oe.cd0)}e(I),W.redrawReglTraces(I)}return o.style(I),n.getComponentMethod("legend","draw")(I),o.previousPromises(I)},W.doColorBars=function(I){return n.getComponentMethod("colorbar","draw")(I),o.previousPromises(I)},W.layoutReplot=function(I){var U=I.layout;return I.layout=void 0,n.call("_doPlot",I,"",U)},W.doLegend=function(I){return n.getComponentMethod("legend","draw")(I),o.previousPromises(I)},W.doTicksRelayout=function(I){return c.draw(I,"redraw"),I._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(I),e(I),W.redrawReglTraces(I)),W.drawMainTitle(I),o.previousPromises(I)},W.doModeBar=function(I){var U=I._fullLayout;r.manage(I);for(var Q=0;Q<U._basePlotModules.length;Q++){var J=U._basePlotModules[Q].updateFx;J&&J(I)}return o.previousPromises(I)},W.doCamera=function(I){for(var U=I._fullLayout,Q=U._subplots.gl3d,J=0;J<Q.length;J++){var ee=U[Q[J]],R=ee._scene;R.setViewport(ee)}},W.drawData=function(I){var U=I._fullLayout;e(I);for(var Q=U._basePlotModules,J=0;J<Q.length;J++)Q[J].plot(I);return W.redrawReglTraces(I),o.style(I),n.getComponentMethod("shapes","draw")(I),n.getComponentMethod("annotations","draw")(I),n.getComponentMethod("images","draw")(I),U._replotting=!1,o.previousPromises(I)},W.redrawReglTraces=function(I){var U=I._fullLayout;if(U._has("regl")){var Q=I._fullData,J=[],ee=[],R,G;for(U._hasOnlyLargeSploms&&U._splomGrid.draw(),R=0;R<Q.length;R++){var B=Q[R];B.visible===!0&&B._length!==0&&(B.type==="splom"?U._splomScenes[B.uid].draw():B.type==="scattergl"?a.pushUnique(J,B.xaxis+B.yaxis):B.type==="scatterpolargl"&&a.pushUnique(ee,B.subplot))}for(R=0;R<J.length;R++)G=U._plots[J[R]],G._scene&&G._scene.draw();for(R=0;R<ee.length;R++)G=U[ee[R]]._subplot,G._scene&&G._scene.draw()}},W.doAutoRangeAndConstraints=function(I){for(var U=c.list(I,"",!0),Q,J={},ee=0;ee<U.length;ee++)if(Q=U[ee],!J[Q._id]){J[Q._id]=1,m(I,Q),L(I,Q);var R=Q._matchGroup;if(R)for(var G in R){var B=c.getFromId(I,G);L(I,B,Q.range),J[G]=1}}y(I)},W.finalDraw=function(I){n.getComponentMethod("rangeslider","draw")(I),n.getComponentMethod("rangeselector","draw")(I)},W.drawMarginPushers=function(I){n.getComponentMethod("legend","draw")(I),n.getComponentMethod("rangeselector","draw")(I),n.getComponentMethod("sliders","draw")(I),n.getComponentMethod("updatemenus","draw")(I),n.getComponentMethod("colorbar","draw")(I)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(f,ae,W){var t=f("../lib"),n=t.isPlainObject,o=f("./plot_schema"),a=f("../plots/plots"),e=f("../plots/attributes"),u=f("./plot_template"),s=f("./plot_config").dfltConfig;W.makeTemplate=function(A){A=t.isPlainObject(A)?A:t.getGraphDiv(A),A=t.extendDeep({_context:s},{data:A.data,layout:A.layout}),a.supplyDefaults(A);var M=A.data||[],p=A.layout||{};p._basePlotModules=A._fullLayout._basePlotModules,p._modules=A._fullLayout._modules;var T={data:{},layout:{}};M.forEach(function(U){var Q={};c(U,Q,v.bind(null,U));var J=t.coerce(U,{},e,"type"),ee=T.data[J];ee||(ee=T.data[J]=[]),ee.push(Q)}),c(p,T.layout,h.bind(null,p)),delete T.layout.template;var d=p.template;if(n(d)){var x=d.layout,C,E,w,H,F,k;n(x)&&l(x,T.layout);var I=d.data;if(n(I)){for(E in T.data)if(w=I[E],Array.isArray(w)){for(F=T.data[E],k=F.length,H=w.length,C=0;C<k;C++)l(w[C%H],F[C]);for(C=k;C<H;C++)F.push(t.extendDeep({},w[C]))}for(E in I)E in T.data||(T.data[E]=t.extendDeep([],I[E]))}}return T};function l(A,M){A=t.extendDeep({},A);var p=Object.keys(A).sort(),T,d;function x(F,k,I){if(n(k)&&n(F))l(F,k);else if(Array.isArray(k)&&Array.isArray(F)){var U=u.arrayTemplater({_template:A},I);for(d=0;d<k.length;d++){var Q=k[d],J=U.newItem(Q)._template;J&&l(J,Q)}var ee=U.defaultItems();for(d=0;d<ee.length;d++)k.push(ee[d]._template);for(d=0;d<k.length;d++)delete k[d].templateitemname}}for(T=0;T<p.length;T++){var C=p[T],E=A[C];if(C in M?x(E,M[C],C):M[C]=E,r(C)===C)for(var w in M){var H=r(w);w!==H&&H===C&&!(w in A)&&x(E,M[w],C)}}}function r(A){return A.replace(/[0-9]+$/,"")}function c(A,M,p,T,d){var x=d&&p(d);for(var C in A){var E=A[C],w=y(A,C,T),H=y(A,C,d),F=p(H);if(!F){var k=r(C);k!==C&&(H=y(A,k,d),F=p(H))}if(!(x&&x===F)&&!(!F||F._noTemplating||F.valType==="data_array"||F.arrayOk&&Array.isArray(E)))if(!F.valType&&n(E))c(E,M,p,w,H);else if(F._isLinkedToArray&&Array.isArray(E))for(var I=!1,U=0,Q={},J=0;J<E.length;J++){var ee=E[J];if(n(ee)){var R=ee.name;if(R)Q[R]||(c(ee,M,p,y(E,U,w),y(E,U,H)),U++,Q[R]=1);else if(!I){var G=u.arrayDefaultKey(C),B=y(A,G,T),te=y(E,U,w);c(ee,M,p,te,y(E,U,H));var ne=t.nestedProperty(M,te),oe=t.nestedProperty(M,B);oe.set(ne.get()),ne.set(null),I=!0}}}else{var me=t.nestedProperty(M,w);me.set(E)}}}function h(A,M){return o.getLayoutValObject(A,t.nestedProperty({},M).parts)}function v(A,M){return o.getTraceValObject(A,t.nestedProperty({},M).parts)}function y(A,M,p){var T;return p?Array.isArray(A)?T=p+"["+M+"]":T=p+"."+M:T=M,T}W.validateTemplate=function(A,M){var p=t.extendDeep({},{_context:s,data:A.data,layout:A.layout}),T=p.layout||{};n(M)||(M=T.template||{});var d=M.layout,x=M.data,C=[];p.layout=T,p.layout.template=M,a.supplyDefaults(p);var E=p._fullLayout,w=p._fullData,H={};function F(B,te){for(var ne in B)if(ne.charAt(0)!=="_"&&n(B[ne])){var oe=r(ne),me=[],de;for(de=0;de<te.length;de++)me.push(y(B,ne,te[de])),oe!==ne&&me.push(y(B,oe,te[de]));for(de=0;de<me.length;de++)H[me[de]]=1;F(B[ne],me)}}function k(B,te){for(var ne in B)if(ne.indexOf("defaults")===-1&&n(B[ne])){var oe=y(B,ne,te);H[oe]?k(B[ne],oe):C.push({code:"unused",path:oe})}}if(n(d)?(F(E,["layout"]),k(d,"layout")):C.push({code:"layout"}),!n(x))C.push({code:"data"});else{for(var I={},U,Q=0;Q<w.length;Q++){var J=w[Q];U=J.type,I[U]=(I[U]||0)+1,J._fullInput._template||C.push({code:"missing",index:J._fullInput.index,traceType:U})}for(U in x){var ee=x[U].length,R=I[U]||0;ee>R?C.push({code:"unused",traceType:U,templateCount:ee,dataCount:R}):R>ee&&C.push({code:"reused",traceType:U,templateCount:ee,dataCount:R})}}function G(B,te){for(var ne in B)if(ne.charAt(0)!=="_"){var oe=B[ne],me=y(B,ne,te);n(oe)?(Array.isArray(B)&&oe._template===!1&&oe.templateitemname&&C.push({code:"missing",path:me,templateitemname:oe.templateitemname}),G(oe,me)):Array.isArray(oe)&&m(oe)&&G(oe,me)}}if(G({data:w,layout:E},""),C.length)return C.map(L)};function m(A){for(var M=0;M<A.length;M++)if(n(A[M]))return!0}function L(A){var M;switch(A.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":A.path?M="There are no templates for item "+A.path+" with name "+A.templateitemname:M="There are no templates for trace "+A.index+", of type "+A.traceType+".";break;case"unused":A.path?M="The template item at "+A.path+" was not used in constructing the plot.":A.dataCount?M="Some of the templates of type "+A.traceType+" were not used. The template has "+A.templateCount+" traces, the data only has "+A.dataCount+" of this type.":M="The template has "+A.templateCount+" traces of type "+A.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+A.traceType+" were used more than once. The template has "+A.templateCount+" traces, the data has "+A.dataCount+" of this type.";break}return A.msg=M,A}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("./plot_api"),o=f("../plots/plots"),a=f("../lib"),e=f("../snapshot/helpers"),u=f("../snapshot/tosvg"),s=f("../snapshot/svgtoimg"),l=f("../version").version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function c(h,v){v=v||{};var y,m,L,A;a.isPlainObject(h)?(y=h.data||[],m=h.layout||{},L=h.config||{},A={}):(h=a.getGraphDiv(h),y=a.extendDeep([],h.data),m=a.extendDeep({},h.layout),L=h._context,A=h._fullLayout||{});function M(R){return!(R in v)||a.validate(v[R],r[R])}if(!M("width")&&v.width!==null||!M("height")&&v.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+a.join2(r.format.values,", "," or ")+".");var p={};function T(R,G){return a.coerce(v,p,r,R,G)}var d=T("format"),x=T("width"),C=T("height"),E=T("scale"),w=T("setBackground"),H=T("imageDataOnly"),F=document.createElement("div");F.style.position="absolute",F.style.left="-5000px",document.body.appendChild(F);var k=a.extendFlat({},m);x?k.width=x:v.width===null&&t(A.width)&&(k.width=A.width),C?k.height=C:v.height===null&&t(A.height)&&(k.height=A.height);var I=a.extendFlat({},L,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),U=e.getRedrawFunc(F);function Q(){return new Promise(function(R){setTimeout(R,e.getDelay(F._fullLayout))})}function J(){return new Promise(function(R,G){var B=u(F,d,E),te=F._fullLayout.width,ne=F._fullLayout.height;function oe(){n.purge(F),document.body.removeChild(F)}if(d==="full-json"){var me=o.graphJson(F,!1,"keepdata","object",!0,!0);return me.version=l,me=JSON.stringify(me),oe(),R(H?me:e.encodeJSON(me))}if(oe(),d==="svg")return R(H?B:e.encodeSVG(B));var de=document.createElement("canvas");de.id=a.randstr(),s({format:d,width:te,height:ne,scale:E,canvas:de,svg:B,promise:!0}).then(R).catch(G)})}function ee(R){return H?R.replace(e.IMAGE_URL_PREFIX,""):R}return new Promise(function(R,G){n.newPlot(F,y,k,I).then(U).then(Q).then(J).then(function(B){R(ee(B))}).catch(function(B){G(B)})})}ae.exports=c},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(f,ae,W){var t=f("../lib"),n=f("../plots/plots"),o=f("./plot_schema"),a=f("./plot_config").dfltConfig,e=t.isPlainObject,u=Array.isArray,s=t.isArrayOrTypedArray;ae.exports=function(T,d){T===void 0&&(T=[]),d===void 0&&(d={});var x=o.get(),C=[],E={_context:t.extendFlat({},a)},w,H;u(T)?(E.data=t.extendDeep([],T),w=T):(E.data=[],w=[],C.push(v("array","data"))),e(d)?(E.layout=t.extendDeep({},d),H=d):(E.layout={},H={},arguments.length>1&&C.push(v("object","layout"))),n.supplyDefaults(E);for(var F=E._fullData,k=w.length,I=0;I<k;I++){var U=w[I],Q=["data",I];if(!e(U)){C.push(v("object",Q));continue}var J=F[I],ee=J.type,R=x.traces[ee].attributes;R.type={valType:"enumerated",values:[ee]},J.visible===!1&&U.visible!==!1&&C.push(v("invisible",Q)),l(U,J,R,C,Q);var G=U.transforms,B=J.transforms;if(G){u(G)||C.push(v("array",Q,["transforms"])),Q.push("transforms");for(var te=0;te<G.length;te++){var ne=["transforms",te],oe=G[te].type;if(!e(G[te])){C.push(v("object",Q,ne));continue}var me=x.transforms[oe]?x.transforms[oe].attributes:{};me.type={valType:"enumerated",values:Object.keys(x.transforms)},l(G[te],B[te],me,C,Q,ne)}}}var de=E._fullLayout,ie=r(x,F);return l(H,de,ie,C,"layout"),C.length===0?void 0:C};function l(p,T,d,x,C,E){E=E||[];for(var w=Object.keys(p),H=0;H<w.length;H++){var F=w[H];if(F!=="transforms"){var k=E.slice();k.push(F);var I=p[F],U=T[F],Q=m(d,F),J=(Q||{}).valType,ee=J==="info_array",R=J==="colorscale",G=(Q||{}).items;if(!y(d,F))x.push(v("schema",C,k));else if(e(I)&&e(U)&&J!=="any")l(I,U,Q,x,C,k);else if(ee&&u(I)){I.length>U.length&&x.push(v("unused",C,k.concat(U.length)));var B=U.length,te=Array.isArray(G);te&&(B=Math.min(B,G.length));var ne,oe,me,de,ie;if(Q.dimensions===2)for(oe=0;oe<B;oe++)if(u(I[oe])){I[oe].length>U[oe].length&&x.push(v("unused",C,k.concat(oe,U[oe].length)));var Z=U[oe].length;for(ne=0;ne<(te?Math.min(Z,G[oe].length):Z);ne++)me=te?G[oe][ne]:G,de=I[oe][ne],ie=U[oe][ne],t.validate(de,me)?ie!==de&&ie!==+de&&x.push(v("dynamic",C,k.concat(oe,ne),de,ie)):x.push(v("value",C,k.concat(oe,ne),de))}else x.push(v("array",C,k.concat(oe),I[oe]));else for(oe=0;oe<B;oe++)me=te?G[oe]:G,de=I[oe],ie=U[oe],t.validate(de,me)?ie!==de&&ie!==+de&&x.push(v("dynamic",C,k.concat(oe),de,ie)):x.push(v("value",C,k.concat(oe),de))}else if(Q.items&&!ee&&u(I)){var q=G[Object.keys(G)[0]],K=[],g,S;for(g=0;g<U.length;g++){var Y=U[g]._index||g;if(S=k.slice(),S.push(Y),e(I[Y])&&e(U[g])){K.push(Y);var z=I[Y],_=U[g];e(z)&&z.visible!==!1&&_.visible===!1?x.push(v("invisible",C,S)):l(z,_,q,x,C,S)}}for(g=0;g<I.length;g++)S=k.slice(),S.push(g),e(I[g])?K.indexOf(g)===-1&&x.push(v("unused",C,S)):x.push(v("object",C,S,I[g]))}else!e(I)&&e(U)?x.push(v("object",C,k,I)):!s(I)&&s(U)&&!ee&&!R?x.push(v("array",C,k,I)):F in T?t.validate(I,Q)?Q.valType==="enumerated"&&(Q.coerceNumber&&I!==+U||I!==U)&&x.push(v("dynamic",C,k,I,U)):x.push(v("value",C,k,I)):x.push(v("unused",C,k,I))}}return x}function r(p,T){for(var d=p.layout.layoutAttributes,x=0;x<T.length;x++){var C=T[x],E=p.traces[C.type],w=E.layoutAttributes;w&&(C.subplot?t.extendFlat(d[E.attributes.subplot.dflt],w):t.extendFlat(d,w))}return d}var c={object:function(p,T){var d;return p==="layout"&&T===""?d="The layout argument":p[0]==="data"&&T===""?d="Trace "+p[1]+" in the data argument":d=h(p)+"key "+T,d+" must be linked to an object container"},array:function(p,T){var d;return p==="data"?d="The data argument":d=h(p)+"key "+T,d+" must be linked to an array container"},schema:function(p,T){return h(p)+"key "+T+" is not part of the schema"},unused:function(p,T,d){var x=e(d)?"container":"key";return h(p)+x+" "+T+" did not get coerced"},dynamic:function(p,T,d,x){return[h(p)+"key",T,"(set to '"+d+"')","got reset to","'"+x+"'","during defaults."].join(" ")},invisible:function(p,T){return(T?h(p)+"item "+T:"Trace "+p[1])+" got defaulted to be not visible"},value:function(p,T,d){return[h(p)+"key "+T,"is set to an invalid value ("+d+")"].join(" ")}};function h(p){return u(p)?"In data trace "+p[1]+", ":"In "+p+", "}function v(p,T,d,x,C){d=d||"";var E,w;u(T)?(E=T[0],w=T[1]):(E=T,w=null);var H=M(d),F=c[p](T,H,x,C);return t.log(F),{code:p,container:E,trace:w,path:d,astr:H,msg:F}}function y(p,T){var d=A(T),x=d.keyMinusId,C=d.id;return x in p&&p[x]._isSubplotObj&&C?!0:T in p}function m(p,T){if(T in p)return p[T];var d=A(T);return p[d.keyMinusId]}var L=t.counterRegex("([a-z]+)");function A(p){var T=p.match(L);return{keyMinusId:T&&T[1],id:T&&T[2]}}function M(p){if(!u(p))return String(p);for(var T="",d=0;d<p.length;d++){var x=p[d];typeof x=="number"?T=T.substr(0,T.length-1)+"["+x+"]":T+=x,d<p.length-1&&(T+=".")}return T}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(f,ae,W){ae.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(f,ae,W){var t=f("../lib"),n=f("../plot_api/plot_template");ae.exports=function(a,e,u){var s=u.name,l=u.inclusionAttr||"visible",r=e[s],c=t.isArrayOrTypedArray(a[s])?a[s]:[],h=e[s]=[],v=n.arrayTemplater(e,s,l),y,m;for(y=0;y<c.length;y++){var L=c[y];t.isPlainObject(L)?m=v.newItem(L):(m=v.newItem({}),m[l]=!1),m._index=y,m[l]!==!1&&u.handleItemDefaults(L,m,e,u),h.push(m)}var A=v.defaultItems();for(y=0;y<A.length;y++)m=A[y],m._index=h.length,u.handleItemDefaults({},m,e,u,{}),h.push(m);if(t.isArrayOrTypedArray(r)){var M=Math.min(r.length,h.length);for(y=0;y<M;y++)t.relinkPrivateKeys(h[y],r[y])}return h}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(f,ae,W){var t=f("./font_attributes"),n=f("../components/fx/attributes");ae.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:t({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:n.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=n.dateTime2ms,a=n.incrementMonth,e=f("../../constants/numerical"),u=e.ONEAVGMONTH;ae.exports=function(l,r,c,h){if(r.type!=="date")return{vals:h};var v=l[c+"periodalignment"];if(!v)return{vals:h};var y=l[c+"period"],m;if(t(y)){if(y=+y,y<=0)return{vals:h}}else if(typeof y=="string"&&y.charAt(0)==="M"){var L=+y.substring(1);if(L>0&&Math.round(L)===L)m=L;else return{vals:h}}for(var A=r.calendar,M=v==="start",p=v==="end",T=l[c+"period0"],d=o(T,A)||0,x=[],C=[],E=[],w=h.length,H=0;H<w;H++){var F=h[H],k,I,U;if(m){for(k=Math.round((F-d)/(m*u)),U=a(d,m*k,A);U>F;)U=a(U,-m,A);for(;U<=F;)U=a(U,m,A);I=a(U,-m,A)}else{for(k=Math.round((F-d)/y),U=d+k*y;U>F;)U-=y;for(;U<=F;)U+=y;I=U-y}x[H]=M?I:p?U:(I+U)/2,C[H]=I,E[H]=U}return{vals:x,starts:C,ends:E}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(f,ae,W){ae.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../../lib"),a=f("../../constants/numerical").FP_SAFE,e=f("../../registry"),u=f("../../components/drawing"),s=f("./axis_ids"),l=s.getFromId,r=s.isLinked;ae.exports={getAutoRange:c,makePadFn:v,doAutoRange:A,findExtremes:M,concatExtremes:L};function c(w,H){var F,k,I=[],U=w._fullLayout,Q=v(U,H,0),J=v(U,H,1),ee=L(w,H),R=ee.min,G=ee.max;if(R.length===0||G.length===0)return o.simpleMap(H.range,H.r2l);var B=R[0].val,te=G[0].val;for(F=1;F<R.length&&B===te;F++)B=Math.min(B,R[F].val);for(F=1;F<G.length&&B===te;F++)te=Math.max(te,G[F].val);var ne=!1;if(H.range){var oe=o.simpleMap(H.range,H.r2l);ne=oe[1]<oe[0]}H.autorange==="reversed"&&(ne=!0,H.autorange=!0);var me=H.rangemode,de=me==="tozero",ie=me==="nonnegative",Z=H._length,q=Z/10,K=0,g,S,Y,z,_,O;for(F=0;F<R.length;F++)for(g=R[F],k=0;k<G.length;k++)S=G[k],O=S.val-g.val-h(H,g.val,S.val),O>0&&(_=Z-Q(g)-J(S),_>q?O/_>K&&(Y=g,z=S,K=O/_):O/Z>K&&(Y={val:g.val,nopad:1},z={val:S.val,nopad:1},K=O/Z));function N(fe,pe){return Math.max(fe,J(pe))}if(B===te){var P=B-1,j=B+1;if(de)if(B===0)I=[0,1];else{var se=(B>0?G:R).reduce(N,0),ce=B/(1-Math.min(.5,se/Z));I=B>0?[0,ce]:[ce,0]}else ie?I=[Math.max(0,P),Math.max(1,j)]:I=[P,j]}else de?(Y.val>=0&&(Y={val:0,nopad:1}),z.val<=0&&(z={val:0,nopad:1})):ie&&(Y.val-K*Q(Y)<0&&(Y={val:0,nopad:1}),z.val<=0&&(z={val:1,nopad:1})),K=(z.val-Y.val-h(H,g.val,S.val))/(Z-Q(Y)-J(z)),I=[Y.val-K*Q(Y),z.val+K*J(z)];return ne&&I.reverse(),o.simpleMap(I,H.l2r||Number)}function h(w,H,F){var k=0;if(w.rangebreaks)for(var I=w.locateBreaks(H,F),U=0;U<I.length;U++){var Q=I[U];k+=Q.max-Q.min}return k}function v(w,H,F){var k=.05*H._length,I=H._anchorAxis||{};if((H.ticklabelposition||"").indexOf("inside")!==-1||(I.ticklabelposition||"").indexOf("inside")!==-1){var U=H.autorange==="reversed";if(!U){var Q=o.simpleMap(H.range,H.r2l);U=Q[1]<Q[0]}U&&(F=!F)}var J=0;return r(w,H._id)||(J=m(w,H,F)),k=Math.max(J,k),H.constrain==="domain"&&H._inputDomain&&(k*=(H._inputDomain[1]-H._inputDomain[0])/(H.domain[1]-H.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?k:J)}}var y=3;function m(w,H,F){var k=0,I=H._id.charAt(0)==="x";for(var U in w._plots){var Q=w._plots[U];if(!(H._id!==Q.xaxis._id&&H._id!==Q.yaxis._id)){var J=(I?Q.yaxis:Q.xaxis)||{};if((J.ticklabelposition||"").indexOf("inside")!==-1&&(!F&&(J.side==="left"||J.side==="bottom")||F&&(J.side==="top"||J.side==="right"))){if(J._vals){var ee=o.deg2rad(J._tickAngles[J._id+"tick"]||0),R=Math.abs(Math.cos(ee)),G=Math.abs(Math.sin(ee));if(!J._vals[0].bb){var B=J._id+"tick",te=J._selections[B];te.each(function(Z){var q=t.select(this),K=q.select(".text-math-group");K.empty()&&(Z.bb=u.bBox(q.node()))})}for(var ne=0;ne<J._vals.length;ne++){var oe=J._vals[ne],me=oe.bb;if(me){var de=2*y+me.width,ie=2*y+me.height;k=Math.max(k,I?Math.max(de*R,ie*G):Math.max(ie*R,de*G))}}}J.ticks==="inside"&&J.ticklabelposition==="inside"&&(k+=J.ticklen||0)}}}return k}function L(w,H,F){var k=H._id,I=w._fullData,U=w._fullLayout,Q=[],J=[],ee,R,G;function B(de,ie){for(ee=0;ee<ie.length;ee++){var Z=de[ie[ee]],q=(Z._extremes||{})[k];if(Z.visible===!0&&q){for(R=0;R<q.min.length;R++)G=q.min[R],p(Q,G.val,G.pad,{extrapad:G.extrapad});for(R=0;R<q.max.length;R++)G=q.max[R],T(J,G.val,G.pad,{extrapad:G.extrapad})}}}if(B(I,H._traceIndices),B(U.annotations||[],H._annIndices||[]),B(U.shapes||[],H._shapeIndices||[]),H._matchGroup&&!F){for(var te in H._matchGroup)if(te!==H._id){var ne=l(w,te),oe=L(w,ne,!0),me=H._length/ne._length;for(R=0;R<oe.min.length;R++)G=oe.min[R],p(Q,G.val,G.pad*me,{extrapad:G.extrapad});for(R=0;R<oe.max.length;R++)G=oe.max[R],T(J,G.val,G.pad*me,{extrapad:G.extrapad})}}return{min:Q,max:J}}function A(w,H,F){if(H.setScale(),H.autorange){H.range=F?F.slice():c(w,H),H._r=H.range.slice(),H._rl=o.simpleMap(H._r,H.r2l);var k=H._input,I={};I[H._attr+".range"]=H.range,I[H._attr+".autorange"]=H.autorange,e.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,I),k.range=H.range.slice(),k.autorange=H.autorange}var U=H._anchorAxis;if(U&&U.rangeslider){var Q=U.rangeslider[H._name];Q&&Q.rangemode==="auto"&&(Q.range=c(w,H)),U._input.rangeslider[H._name]=o.extendFlat({},Q)}}function M(w,H,F){F||(F={}),w._m||w.setScale();var k=[],I=[],U=H.length,Q=F.padded||!1,J=F.tozero&&(w.type==="linear"||w.type==="-"),ee=w.type==="log",R=!1,G=F.vpadLinearized||!1,B,te,ne,oe,me,de,ie,Z,q;function K(P){if(Array.isArray(P))return R=!0,function(se){return Math.max(Number(P[se]||0),0)};var j=Math.max(Number(P||0),0);return function(){return j}}var g=K((w._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),S=K((w._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),Y=K(F.vpadplus||F.vpad),z=K(F.vpadminus||F.vpad);if(!R){if(Z=1/0,q=-1/0,ee)for(B=0;B<U;B++)te=H[B],te<Z&&te>0&&(Z=te),te>q&&te<a&&(q=te);else for(B=0;B<U;B++)te=H[B],te<Z&&te>-a&&(Z=te),te>q&&te<a&&(q=te);H=[Z,q],U=2}var _={tozero:J,extrapad:Q};function O(P){ne=H[P],n(ne)&&(de=g(P),ie=S(P),G?(oe=w.c2l(ne)-z(P),me=w.c2l(ne)+Y(P)):(Z=ne-z(P),q=ne+Y(P),ee&&Z<q/10&&(Z=q/10),oe=w.c2l(Z),me=w.c2l(q)),J&&(oe=Math.min(0,oe),me=Math.max(0,me)),x(oe)&&p(k,oe,ie,_),x(me)&&T(I,me,de,_))}var N=Math.min(6,U);for(B=0;B<N;B++)O(B);for(B=U-1;B>=N;B--)O(B);return{min:k,max:I,opts:F}}function p(w,H,F,k){d(w,H,F,k,C)}function T(w,H,F,k){d(w,H,F,k,E)}function d(w,H,F,k,I){for(var U=k.tozero,Q=k.extrapad,J=!0,ee=0;ee<w.length&&J;ee++){var R=w[ee];if(I(R.val,H)&&R.pad>=F&&(R.extrapad||!Q)){J=!1;break}else I(H,R.val)&&R.pad<=F&&(Q||!R.extrapad)&&(w.splice(ee,1),ee--)}if(J){var G=U&&H===0;w.push({val:H,pad:G?0:F,extrapad:G?!1:Q})}}function x(w){return n(w)&&Math.abs(w)<a}function C(w,H){return w<=H}function E(w,H){return w>=H}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../../plots/plots"),a=f("../../registry"),e=f("../../lib"),u=e.strTranslate,s=f("../../lib/svg_text_utils"),l=f("../../components/titles"),r=f("../../components/color"),c=f("../../components/drawing"),h=f("./layout_attributes"),v=f("./clean_ticks"),y=f("../../constants/numerical"),m=y.ONEMAXYEAR,L=y.ONEAVGYEAR,A=y.ONEMINYEAR,M=y.ONEMAXQUARTER,p=y.ONEAVGQUARTER,T=y.ONEMINQUARTER,d=y.ONEMAXMONTH,x=y.ONEAVGMONTH,C=y.ONEMINMONTH,E=y.ONEWEEK,w=y.ONEDAY,H=w/2,F=y.ONEHOUR,k=y.ONEMIN,I=y.ONESEC,U=y.MINUS_SIGN,Q=y.BADNUM,J={K:"zeroline"},ee={K:"gridline",L:"path"},R={K:"minor-gridline",L:"path"},G={K:"tick",L:"path"},B={K:"tick",L:"text"},te=f("../../constants/alignment"),ne=te.MID_SHIFT,oe=te.CAP_SHIFT,me=te.LINE_SPACING,de=te.OPPOSITE_SIDE,ie=3,Z=ae.exports={};Z.setConvert=f("./set_convert");var q=f("./axis_autotype"),K=f("./axis_ids"),g=K.idSort,S=K.isLinked;Z.id2name=K.id2name,Z.name2id=K.name2id,Z.cleanId=K.cleanId,Z.list=K.list,Z.listIds=K.listIds,Z.getFromId=K.getFromId,Z.getFromTrace=K.getFromTrace;var Y=f("./autorange");Z.getAutoRange=Y.getAutoRange,Z.findExtremes=Y.findExtremes;var z=1e-4;function _(le){var re=(le[1]-le[0])*z;return[le[0]-re,le[1]+re]}Z.coerceRef=function(le,re,Le,Te,Se,Fe){var Ie=Te.charAt(Te.length-1),Ue=Le._fullLayout._subplots[Ie+"axis"],tt=Te+"ref",at={};return Se||(Se=Ue[0]||(typeof Fe=="string"?Fe:Fe[0])),Fe||(Fe=Se),Ue=Ue.concat(Ue.map(function(bt){return bt+" domain"})),at[tt]={valType:"enumerated",values:Ue.concat(Fe?typeof Fe=="string"?[Fe]:Fe:[]),dflt:Se},e.coerce(le,re,at,tt)},Z.getRefType=function(le){return le===void 0?le:le==="paper"?"paper":le==="pixel"?"pixel":/( domain)$/.test(le)?"domain":"range"},Z.coercePosition=function(le,re,Le,Te,Se,Fe){var Ie,Ue,tt=Z.getRefType(Te);if(tt!=="range")Ie=e.ensureNumber,Ue=Le(Se,Fe);else{var at=Z.getFromId(re,Te);Fe=at.fraction2r(Fe),Ue=Le(Se,Fe),Ie=at.cleanPos}le[Se]=Ie(Ue)},Z.cleanPosition=function(le,re,Le){var Te=Le==="paper"||Le==="pixel"?e.ensureNumber:Z.getFromId(re,Le).cleanPos;return Te(le)},Z.redrawComponents=function(le,re){re=re||Z.listIds(le);var Le=le._fullLayout;function Te(Se,Fe,Ie,Ue){for(var tt=a.getComponentMethod(Se,Fe),at={},bt=0;bt<re.length;bt++)for(var Tt=Le[Z.id2name(re[bt])],Ft=Tt[Ie],dt=0;dt<Ft.length;dt++){var rt=Ft[dt];if(!at[rt]&&(tt(le,rt),at[rt]=1,Ue))return}}Te("annotations","drawOne","_annIndices"),Te("shapes","drawOne","_shapeIndices"),Te("images","draw","_imgIndices",!0)};var O=Z.getDataConversions=function(le,re,Le,Te){var Se,Fe=Le==="x"||Le==="y"||Le==="z"?Le:Te;if(Array.isArray(Fe)){if(Se={type:q(Te,void 0,{autotypenumbers:le._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(Se),Se.type==="category")for(var Ie=0;Ie<Te.length;Ie++)Se.d2c(Te[Ie])}else Se=Z.getFromTrace(le,re,Fe);return Se?{d2c:Se.d2c,c2d:Se.c2d}:Fe==="ids"?{d2c:P,c2d:P}:{d2c:N,c2d:N}};function N(le){return+le}function P(le){return String(le)}Z.getDataToCoordFunc=function(le,re,Le,Te){return O(le,re,Le,Te).d2c},Z.counterLetter=function(le){var re=le.charAt(0);if(re==="x")return"y";if(re==="y")return"x"},Z.minDtick=function(le,re,Le,Te){["log","category","multicategory"].indexOf(le.type)!==-1||!Te?le._minDtick=0:le._minDtick===void 0?(le._minDtick=re,le._forceTick0=Le):le._minDtick&&((le._minDtick/re+1e-6)%1<2e-6&&((Le-le._forceTick0)/re%1+1.000001)%1<2e-6?(le._minDtick=re,le._forceTick0=Le):((re/le._minDtick+1e-6)%1>2e-6||((Le-le._forceTick0)/le._minDtick%1+1.000001)%1>2e-6)&&(le._minDtick=0))},Z.saveRangeInitial=function(le,re){for(var Le=Z.list(le,"",!0),Te=!1,Se=0;Se<Le.length;Se++){var Fe=Le[Se],Ie=Fe._rangeInitial===void 0,Ue=Ie||!(Fe.range[0]===Fe._rangeInitial[0]&&Fe.range[1]===Fe._rangeInitial[1]);(Ie&&Fe.autorange===!1||re&&Ue)&&(Fe._rangeInitial=Fe.range.slice(),Te=!0)}return Te},Z.saveShowSpikeInitial=function(le,re){for(var Le=Z.list(le,"",!0),Te=!1,Se="on",Fe=0;Fe<Le.length;Fe++){var Ie=Le[Fe],Ue=Ie._showSpikeInitial===void 0,tt=Ue||Ie.showspikes!==Ie._showspikes;(Ue||re&&tt)&&(Ie._showSpikeInitial=Ie.showspikes,Te=!0),Se==="on"&&!Ie.showspikes&&(Se="off")}return le._fullLayout._cartesianSpikesEnabled=Se,Te},Z.autoBin=function(le,re,Le,Te,Se,Fe){var Ie=e.aggNums(Math.min,null,le),Ue=e.aggNums(Math.max,null,le);if(re.type==="category"||re.type==="multicategory")return{start:Ie-.5,end:Ue+.5,size:Math.max(1,Math.round(Fe)||1),_dataSpan:Ue-Ie};Se||(Se=re.calendar);var tt;if(re.type==="log"?tt={type:"linear",range:[Ie,Ue]}:tt={type:re.type,range:e.simpleMap([Ie,Ue],re.c2r,0,Se),calendar:Se},Z.setConvert(tt),Fe=Fe&&v.dtick(Fe,tt.type),Fe)tt.dtick=Fe,tt.tick0=v.tick0(void 0,tt.type,Se);else{var at;if(Le)at=(Ue-Ie)/Le;else{var bt=e.distinctVals(le),Tt=Math.pow(10,Math.floor(Math.log(bt.minDiff)/Math.LN10)),Ft=Tt*e.roundUp(bt.minDiff/Tt,[.9,1.9,4.9,9.9],!0);at=Math.max(Ft,2*e.stdev(le)/Math.pow(le.length,Te?.25:.4)),n(at)||(at=1)}Z.autoTicks(tt,at)}var dt=tt.dtick,rt=Z.tickIncrement(Z.tickFirst(tt),dt,"reverse",Se),kt,Rt;if(typeof dt=="number")rt=j(rt,le,tt,Ie,Ue),Rt=1+Math.floor((Ue-rt)/dt),kt=rt+Rt*dt;else for(tt.dtick.charAt(0)==="M"&&(rt=se(rt,le,dt,Ie,Se)),kt=rt,Rt=0;kt<=Ue;)kt=Z.tickIncrement(kt,dt,!1,Se),Rt++;return{start:re.c2r(rt,0,Se),end:re.c2r(kt,0,Se),size:dt,_dataSpan:Ue-Ie}};function j(le,re,Le,Te,Se){var Fe=0,Ie=0,Ue=0,tt=0;function at(dt){return(1+(dt-le)*100/Le.dtick)%100<2}for(var bt=0;bt<re.length;bt++)re[bt]%1===0?Ue++:n(re[bt])||tt++,at(re[bt])&&Fe++,at(re[bt]+Le.dtick/2)&&Ie++;var Tt=re.length-tt;if(Ue===Tt&&Le.type!=="date")Le.dtick<1?le=Te-.5*Le.dtick:(le-=.5,le+Le.dtick<Te&&(le+=Le.dtick));else if(Ie<Tt*.1&&(Fe>Tt*.3||at(Te)||at(Se))){var Ft=Le.dtick/2;le+=le+Ft<Te?Ft:-Ft}return le}function se(le,re,Le,Te,Se){var Fe=e.findExactDates(re,Se),Ie=.8;if(Fe.exactDays>Ie){var Ue=Number(Le.substr(1));Fe.exactYears>Ie&&Ue%12===0?le=Z.tickIncrement(le,"M6","reverse")+w*1.5:Fe.exactMonths>Ie?le=Z.tickIncrement(le,"M1","reverse")+w*15.5:le-=H;var tt=Z.tickIncrement(le,Le);if(tt<=Te)return tt}return le}Z.prepMinorTicks=function(le,re,Le){if(!re.minor.dtick){delete le.dtick;var Te=re.dtick&&n(re._tmin),Se;if(Te){var Fe=Z.tickIncrement(re._tmin,re.dtick,!0);Se=[re._tmin,Fe*.99+re._tmin*.01]}else{var Ie=e.simpleMap(re.range,re.r2l);Se=[Ie[0],.8*Ie[0]+.2*Ie[1]]}if(le.range=e.simpleMap(Se,re.l2r),le._isMinor=!0,Z.prepTicks(le,Le),Te){var Ue=n(re.dtick),tt=n(le.dtick),at=Ue?re.dtick:+re.dtick.substring(1),bt=tt?le.dtick:+le.dtick.substring(1);Ue&&tt?ce(at,bt)?at===2*E&&bt===2*w&&(le.dtick=E):at===2*E&&bt===3*w?le.dtick=E:at===E&&!(re._input.minor||{}).nticks?le.dtick=w:fe(at/bt,2.5)?le.dtick=at/2:le.dtick=at:String(re.dtick).charAt(0)==="M"?tt?le.dtick="M1":ce(at,bt)?at>=12&&bt===2&&(le.dtick="M3"):le.dtick=re.dtick:String(le.dtick).charAt(0)==="L"?String(re.dtick).charAt(0)==="L"?ce(at,bt)||(le.dtick=fe(at/bt,2.5)?re.dtick/2:re.dtick):le.dtick="D1":le.dtick==="D2"&&+re.dtick>1&&(le.dtick=1)}le.range=re.range}re.minor._tick0Init===void 0&&(le.tick0=re.tick0)};function ce(le,re){return Math.abs((le/re+.5)%1-.5)<.001}function fe(le,re){return Math.abs(le/re-1)<.001}Z.prepTicks=function(le,re){var Le=e.simpleMap(le.range,le.r2l,void 0,void 0,re);if(le.tickmode==="auto"||!le.dtick){var Te=le.nticks,Se;Te||(le.type==="category"||le.type==="multicategory"?(Se=le.tickfont?e.bigFont(le.tickfont.size||12):15,Te=le._length/Se):(Se=le._id.charAt(0)==="y"?40:80,Te=e.constrain(le._length/Se,4,9)+1),le._name==="radialaxis"&&(Te*=2)),le.minor&&le.minor.tickmode!=="array"||le.tickmode==="array"&&(Te*=100),le._roughDTick=Math.abs(Le[1]-Le[0])/Te,Z.autoTicks(le,le._roughDTick),le._minDtick>0&&le.dtick<le._minDtick*2&&(le.dtick=le._minDtick,le.tick0=le.l2r(le._forceTick0))}le.ticklabelmode==="period"&&be(le),le.tick0||(le.tick0=le.type==="date"?"2000-01-01":0),le.type==="date"&&le.dtick<.1&&(le.dtick=.1),Xe(le)};function pe(le){return+le.substring(1)}function be(le){var re;function Le(){return!(n(le.dtick)||le.dtick.charAt(0)!=="M")}var Te=Le(),Se=Z.getTickFormat(le);if(Se){var Fe=le._dtickInit!==le.dtick;/%[fLQsSMX]/.test(Se)||(/%[HI]/.test(Se)?(re=F,Fe&&!Te&&le.dtick<F&&(le.dtick=F)):/%p/.test(Se)?(re=H,Fe&&!Te&&le.dtick<H&&(le.dtick=H)):/%[Aadejuwx]/.test(Se)?(re=w,Fe&&!Te&&le.dtick<w&&(le.dtick=w)):/%[UVW]/.test(Se)?(re=E,Fe&&!Te&&le.dtick<E&&(le.dtick=E)):/%[Bbm]/.test(Se)?(re=x,Fe&&(Te?pe(le.dtick)<1:le.dtick<C)&&(le.dtick="M1")):/%[q]/.test(Se)?(re=p,Fe&&(Te?pe(le.dtick)<3:le.dtick<T)&&(le.dtick="M3")):/%[Yy]/.test(Se)&&(re=L,Fe&&(Te?pe(le.dtick)<12:le.dtick<A)&&(le.dtick="M12")))}Te=Le(),Te&&le.tick0===le._dowTick0&&(le.tick0=le._rawTick0),le._definedDelta=re}function Re(le,re,Le){for(var Te=0;Te<le.length;Te++){var Se=le[Te].value,Fe=Te,Ie=Te+1;Te<le.length-1?(Fe=Te,Ie=Te+1):Te>0?(Fe=Te-1,Ie=Te):(Fe=Te,Ie=Te);var Ue=le[Fe].value,tt=le[Ie].value,at=Math.abs(tt-Ue),bt=Le||at,Tt=0;bt>=A?at>=A&&at<=m?Tt=at:Tt=L:Le===p&&bt>=T?at>=T&&at<=M?Tt=at:Tt=p:bt>=C?at>=C&&at<=d?Tt=at:Tt=x:Le===E&&bt>=E?Tt=E:bt>=w?Tt=w:Le===H&&bt>=H?Tt=H:Le===F&&bt>=F&&(Tt=F);var Ft;Tt>=at&&(Tt=at,Ft=!0);var dt=Se+Tt;if(re.rangebreaks&&Tt>0){for(var rt=84,kt=0,Rt=0;Rt<rt;Rt++){var nt=(Rt+.5)/rt;re.maskBreaks(Se*(1-nt)+nt*dt)!==Q&&kt++}Tt*=kt/rt,Tt||(le[Te].drop=!0),Ft&&at>E&&(Tt=at)}(Tt>0||Te===0)&&(le[Te].periodX=Se+Tt/2)}}Z.calcTicks=function(re,Le){for(var Te=re.type,Se=re.calendar,Fe=re.ticklabelstep,Ie=re.ticklabelmode==="period",Ue=e.simpleMap(re.range,re.r2l,void 0,void 0,Le),tt=Ue[1]<Ue[0],at=Math.min(Ue[0],Ue[1]),bt=Math.max(Ue[0],Ue[1]),Tt=Math.max(1e3,re._length||0),Ft=[],dt=[],rt=[],kt=[],Rt=re.minor&&(re.minor.ticks||re.minor.showgrid),nt=1;nt>=(Rt?0:1);nt--){var Mt=!nt;nt?(re._dtickInit=re.dtick,re._tick0Init=re.tick0):(re.minor._dtickInit=re.minor.dtick,re.minor._tick0Init=re.minor.tick0);var Et=nt?re:e.extendFlat({},re,re.minor);if(Mt?Z.prepMinorTicks(Et,re,Le):Z.prepTicks(Et,Le),Et.tickmode==="array"){nt?(rt=[],Ft=ke(re)):(kt=[],dt=ke(re));continue}var pt=_(Ue),Dt=pt[0],Ht=pt[1],Yt=n(Et.dtick),Pt=Te==="log"&&!(Yt||Et.dtick.charAt(0)==="L"),nr=Z.tickFirst(Et,Le);if(nt){if(re._tmin=nr,nr<Dt!==tt)break;(Te==="category"||Te==="multicategory")&&(Ht=tt?Math.max(-.5,Ht):Math.min(re._categories.length-.5,Ht))}var lr=null,Xt=nr,tr;if(nt){var rr;Yt?rr=re.dtick:Te==="date"?typeof re.dtick=="string"&&re.dtick.charAt(0)==="M"&&(rr=x*re.dtick.substring(1)):rr=re._roughDTick,tr=Math.round((re.r2l(Xt)-re.r2l(re.tick0))/rr)-1}var ir=Et.dtick;for(Et.rangebreaks&&Et._tick0Init!==Et.tick0&&(Xt=Jt(Xt,re),tt||(Xt=Z.tickIncrement(Xt,ir,!tt,Se))),nt&&Ie&&(Xt=Z.tickIncrement(Xt,ir,!tt,Se),tr--);tt?Xt>=Ht:Xt<=Ht;Xt=Z.tickIncrement(Xt,ir,tt,Se)){if(nt&&tr++,Et.rangebreaks&&!tt){if(Xt<Dt)continue;if(Et.maskBreaks(Xt)===Q&&Jt(Xt,Et)>=bt)break}if(rt.length>Tt||Xt===lr)break;lr=Xt;var hr={value:Xt};nt?(Pt&&Xt!==(Xt|0)&&(hr.simpleLabel=!0),Fe>1&&tr%Fe&&(hr.skipLabel=!0),rt.push(hr)):(hr.minor=!0,kt.push(hr))}}if(Rt){var mr=re.minor.ticks==="inside"&&re.ticks==="outside"||re.minor.ticks==="outside"&&re.ticks==="inside";if(!mr){for(var dr=rt.map(function(Tr){return Tr.value}),br=[],_r=0;_r<kt.length;_r++){var wr=kt[_r],xr=wr.value;if(dr.indexOf(xr)===-1){for(var Sr=!1,Dr=0;!Sr&&Dr<rt.length;Dr++)1e7+rt[Dr].value===1e7+xr&&(Sr=!0);Sr||br.push(wr)}}kt=br}}Ie&&Re(rt,re,re._definedDelta);var yr;if(re.rangebreaks){var na=re._id.charAt(0)==="y",qr=1;re.tickmode==="auto"&&(qr=re.tickfont?re.tickfont.size:12);var Hr=NaN;for(yr=rt.length-1;yr>-1;yr--){if(rt[yr].drop){rt.splice(yr,1);continue}rt[yr].value=Jt(rt[yr].value,re);var Yr=re.c2p(rt[yr].value);(na?Hr>Yr-qr:Hr<Yr+qr)?rt.splice(tt?yr+1:yr,1):Hr=Yr}}Ot(re)&&Math.abs(Ue[1]-Ue[0])===360&&rt.pop(),re._tmax=(rt[rt.length-1]||{}).value,re._prevDateHead="",re._inCalcTicks=!0;var Xr,Kr=function(Tr){Tr.text="",re._prevDateHead=Xr};rt=rt.concat(kt);var Ur,Ar;for(yr=0;yr<rt.length;yr++){var pa=rt[yr].minor,ia=rt[yr].value;pa?dt.push({x:ia,minor:!0}):(Xr=re._prevDateHead,Ur=Z.tickText(re,ia,!1,rt[yr].simpleLabel),Ar=rt[yr].periodX,Ar!==void 0&&(Ur.periodX=Ar,(Ar>bt||Ar<at)&&(Ar>bt&&(Ur.periodX=bt),Ar<at&&(Ur.periodX=at),Kr(Ur))),rt[yr].skipLabel&&Kr(Ur),Ft.push(Ur))}return Ft=Ft.concat(dt),re._inCalcTicks=!1,Ie&&Ft.length&&(Ft[0].noTick=!0),Ft};function ke(le){var re=e.simpleMap(le.range,le.r2l),Le=_(re),Te=Math.min(Le[0],Le[1]),Se=Math.max(Le[0],Le[1]),Fe=le.type==="category"?le.d2l_noadd:le.d2l;le.type==="log"&&String(le.dtick).charAt(0)!=="L"&&(le.dtick="L"+Math.pow(10,Math.floor(Math.min(le.range[0],le.range[1]))-1));for(var Ie=[],Ue=0;Ue<=1;Ue++)if(!(Ue&&!le.minor)){var tt=Ue?le.minor.tickvals:le.tickvals,at=Ue?[]:le.ticktext;if(!!tt){Array.isArray(at)||(at=[]);for(var bt=0;bt<tt.length;bt++){var Tt=Fe(tt[bt]);if(Tt>Te&&Tt<Se){var Ft=at[bt]===void 0?Z.tickText(le,Tt):Je(le,Tt,String(at[bt]));Ue&&(Ft.minor=!0,Ft.text=""),Ie.push(Ft)}}}}return le.rangebreaks&&(Ie=Ie.filter(function(dt){return le.maskBreaks(dt.x)!==Q})),Ie}var Oe=[2,5,10],Be=[1,2,3,6,12],Ae=[1,2,5,10,15,30],ge=[1,2,3,7,14],Ee=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ve=[-.301,0,.301,.699,1],xt=[15,30,45,90,180];function Ye(le,re,Le){return re*e.roundUp(le/re,Le)}Z.autoTicks=function(le,re,Le){var Te;function Se(Tt){return Math.pow(Tt,Math.floor(Math.log(re)/Math.LN10))}if(le.type==="date"){le.tick0=e.dateTick0(le.calendar,0);var Fe=2*re;if(Fe>L)re/=L,Te=Se(10),le.dtick="M"+12*Ye(re,Te,Oe);else if(Fe>x)re/=x,le.dtick="M"+Ye(re,1,Be);else if(Fe>w){if(le.dtick=Ye(re,w,le._hasDayOfWeekBreaks?[1,2,7,14]:ge),!Le){var Ie=Z.getTickFormat(le),Ue=le.ticklabelmode==="period";Ue&&(le._rawTick0=le.tick0),/%[uVW]/.test(Ie)?le.tick0=e.dateTick0(le.calendar,2):le.tick0=e.dateTick0(le.calendar,1),Ue&&(le._dowTick0=le.tick0)}}else Fe>F?le.dtick=Ye(re,F,Be):Fe>k?le.dtick=Ye(re,k,Ae):Fe>I?le.dtick=Ye(re,I,Ae):(Te=Se(10),le.dtick=Ye(re,Te,Oe))}else if(le.type==="log"){le.tick0=0;var tt=e.simpleMap(le.range,le.r2l);if(le._isMinor&&(re*=1.5),re>.7)le.dtick=Math.ceil(re);else if(Math.abs(tt[1]-tt[0])<1){var at=1.5*Math.abs((tt[1]-tt[0])/re);re=Math.abs(Math.pow(10,tt[1])-Math.pow(10,tt[0]))/at,Te=Se(10),le.dtick="L"+Ye(re,Te,Oe)}else le.dtick=re>.3?"D2":"D1"}else le.type==="category"||le.type==="multicategory"?(le.tick0=0,le.dtick=Math.ceil(Math.max(re,1))):Ot(le)?(le.tick0=0,Te=1,le.dtick=Ye(re,Te,xt)):(le.tick0=0,Te=Se(10),le.dtick=Ye(re,Te,Oe));if(le.dtick===0&&(le.dtick=1),!n(le.dtick)&&typeof le.dtick!="string"){var bt=le.dtick;throw le.dtick=1,"ax.dtick error: "+String(bt)}};function Xe(le){var re=le.dtick;if(le._tickexponent=0,!n(re)&&typeof re!="string"&&(re=1),(le.type==="category"||le.type==="multicategory")&&(le._tickround=null),le.type==="date"){var Le=le.r2l(le.tick0),Te=le.l2r(Le).replace(/(^-|i)/g,""),Se=Te.length;if(String(re).charAt(0)==="M")Se>10||Te.substr(5)!=="01-01"?le._tickround="d":le._tickround=+re.substr(1)%12===0?"y":"m";else if(re>=w&&Se<=10||re>=w*15)le._tickround="d";else if(re>=k&&Se<=16||re>=F)le._tickround="M";else if(re>=I&&Se<=19||re>=k)le._tickround="S";else{var Fe=le.l2r(Le+re).replace(/^-/,"").length;le._tickround=Math.max(Se,Fe)-20,le._tickround<0&&(le._tickround=4)}}else if(n(re)||re.charAt(0)==="L"){var Ie=le.range.map(le.r2d||Number);n(re)||(re=Number(re.substr(1))),le._tickround=2-Math.floor(Math.log(re)/Math.LN10+.01);var Ue=Math.max(Math.abs(Ie[0]),Math.abs(Ie[1])),tt=Math.floor(Math.log(Ue)/Math.LN10+.01),at=le.minexponent===void 0?3:le.minexponent;Math.abs(tt)>at&&(Ce(le.exponentformat)&&!ze(tt)?le._tickexponent=3*Math.round((tt-1)/3):le._tickexponent=tt)}else le._tickround=null}Z.tickIncrement=function(le,re,Le,Te){var Se=Le?-1:1;if(n(re))return e.increment(le,Se*re);var Fe=re.charAt(0),Ie=Se*Number(re.substr(1));if(Fe==="M")return e.incrementMonth(le,Ie,Te);if(Fe==="L")return Math.log(Math.pow(10,le)+Ie)/Math.LN10;if(Fe==="D"){var Ue=re==="D2"?Ve:Ee,tt=le+Se*.01,at=e.roundUp(e.mod(tt,1),Ue,Le);return Math.floor(tt)+Math.log(t.round(Math.pow(10,at),1))/Math.LN10}throw"unrecognized dtick "+String(re)},Z.tickFirst=function(le,re){var Le=le.r2l||Number,Te=e.simpleMap(le.range,Le,void 0,void 0,re),Se=Te[1]<Te[0],Fe=Se?Math.floor:Math.ceil,Ie=_(Te)[0],Ue=le.dtick,tt=Le(le.tick0);if(n(Ue)){var at=Fe((Ie-tt)/Ue)*Ue+tt;return(le.type==="category"||le.type==="multicategory")&&(at=e.constrain(at,0,le._categories.length-1)),at}var bt=Ue.charAt(0),Tt=Number(Ue.substr(1));if(bt==="M"){for(var Ft=0,dt=tt,rt,kt,Rt;Ft<10;){if(rt=Z.tickIncrement(dt,Ue,Se,le.calendar),(rt-Ie)*(dt-Ie)<=0)return Se?Math.min(dt,rt):Math.max(dt,rt);kt=(Ie-(dt+rt)/2)/(rt-dt),Rt=bt+(Math.abs(Math.round(kt))||1)*Tt,dt=Z.tickIncrement(dt,Rt,kt<0?!Se:Se,le.calendar),Ft++}return e.error("tickFirst did not converge",le),dt}else{if(bt==="L")return Math.log(Fe((Math.pow(10,Ie)-tt)/Tt)*Tt+tt)/Math.LN10;if(bt==="D"){var nt=Ue==="D2"?Ve:Ee,Mt=e.roundUp(e.mod(Ie,1),nt,Se);return Math.floor(Ie)+Math.log(t.round(Math.pow(10,Mt),1))/Math.LN10}else throw"unrecognized dtick "+String(Ue)}},Z.tickText=function(le,re,Le,Te){var Se=Je(le,re),Fe=le.tickmode==="array",Ie=Le||Fe,Ue=le.type,tt=Ue==="category"?le.d2l_noadd:le.d2l,at;if(Fe&&Array.isArray(le.ticktext)){var bt=e.simpleMap(le.range,le.r2l),Tt=(Math.abs(bt[1]-bt[0])-(le._lBreaks||0))/1e4;for(at=0;at<le.ticktext.length&&!(Math.abs(re-tt(le.tickvals[at]))<Tt);at++);if(at<le.ticktext.length)return Se.text=String(le.ticktext[at]),Se}function Ft(kt){if(kt===void 0)return!0;if(Le)return kt==="none";var Rt={first:le._tmin,last:le._tmax}[kt];return kt!=="all"&&re!==Rt}var dt=Le?"never":le.exponentformat!=="none"&&Ft(le.showexponent)?"hide":"";if(Ue==="date"?ft(le,Se,Le,Ie):Ue==="log"?yt(le,Se,Le,Ie,dt):Ue==="category"?At(le,Se):Ue==="multicategory"?qe(le,Se,Le):Ot(le)?st(le,Se,Le,Ie,dt):mt(le,Se,Le,Ie,dt),Te||(le.tickprefix&&!Ft(le.showtickprefix)&&(Se.text=le.tickprefix+Se.text),le.ticksuffix&&!Ft(le.showticksuffix)&&(Se.text+=le.ticksuffix)),le.tickson==="boundaries"||le.showdividers){var rt=function(kt){var Rt=le.l2p(kt);return Rt>=0&&Rt<=le._length?kt:null};Se.xbnd=[rt(Se.x-.5),rt(Se.x+le.dtick-.5)]}return Se},Z.hoverLabelText=function(le,re,Le){Le&&(le=e.extendFlat({},le,{hoverformat:Le}));var Te=Array.isArray(re)?re[0]:re,Se=Array.isArray(re)?re[1]:void 0;if(Se!==void 0&&Se!==Te)return Z.hoverLabelText(le,Te,Le)+" - "+Z.hoverLabelText(le,Se,Le);var Fe=le.type==="log"&&Te<=0,Ie=Z.tickText(le,le.c2l(Fe?-Te:Te),"hover").text;return Fe?Te===0?"0":U+Ie:Ie};function Je(le,re,Le){var Te=le.tickfont||{};return{x:re,dx:0,dy:0,text:Le||"",fontSize:Te.size,font:Te.family,fontColor:Te.color}}function ft(le,re,Le,Te){var Se=le._tickround,Fe=Le&&le.hoverformat||Z.getTickFormat(le);Te&&(n(Se)?Se=4:Se={y:"m",m:"d",d:"M",M:"S",S:4}[Se]);var Ie=e.formatDate(re.x,Fe,Se,le._dateFormat,le.calendar,le._extraFormat),Ue,tt=Ie.indexOf(`
`);if(tt!==-1&&(Ue=Ie.substr(tt+1),Ie=Ie.substr(0,tt)),Te&&(Ie==="00:00:00"||Ie==="00:00"?(Ie=Ue,Ue=""):Ie.length===8&&(Ie=Ie.replace(/:00$/,""))),Ue)if(Le)Se==="d"?Ie+=", "+Ue:Ie=Ue+(Ie?", "+Ie:"");else if(!le._inCalcTicks||le._prevDateHead!==Ue)le._prevDateHead=Ue,Ie+="<br>"+Ue;else{var at=jt(le),bt=le._trueSide||le.side;(!at&&bt==="top"||at&&bt==="bottom")&&(Ie+="<br> ")}re.text=Ie}function yt(le,re,Le,Te,Se){var Fe=le.dtick,Ie=re.x,Ue=le.tickformat,tt=typeof Fe=="string"&&Fe.charAt(0);if(Se==="never"&&(Se=""),Te&&tt!=="L"&&(Fe="L3",tt="L"),Ue||tt==="L")re.text=et(Math.pow(10,Ie),le,Se,Te);else if(n(Fe)||tt==="D"&&e.mod(Ie+.01,1)<.1){var at=Math.round(Ie),bt=Math.abs(at),Tt=le.exponentformat;Tt==="power"||Ce(Tt)&&ze(at)?(at===0?re.text=1:at===1?re.text="10":re.text="10<sup>"+(at>1?"":U)+bt+"</sup>",re.fontSize*=1.25):(Tt==="e"||Tt==="E")&&bt>2?re.text="1"+Tt+(at>0?"+":U)+bt:(re.text=et(Math.pow(10,Ie),le,"","fakehover"),Fe==="D1"&&le._id.charAt(0)==="y"&&(re.dy-=re.fontSize/6))}else if(tt==="D")re.text=String(Math.round(Math.pow(10,e.mod(Ie,1)))),re.fontSize*=.75;else throw"unrecognized dtick "+String(Fe);if(le.dtick==="D1"){var Ft=String(re.text).charAt(0);(Ft==="0"||Ft==="1")&&(le._id.charAt(0)==="y"?re.dx-=re.fontSize/4:(re.dy+=re.fontSize/2,re.dx+=(le.range[1]>le.range[0]?1:-1)*re.fontSize*(Ie<0?.5:.25)))}}function At(le,re){var Le=le._categories[Math.round(re.x)];Le===void 0&&(Le=""),re.text=String(Le)}function qe(le,re,Le){var Te=Math.round(re.x),Se=le._categories[Te]||[],Fe=Se[1]===void 0?"":String(Se[1]),Ie=Se[0]===void 0?"":String(Se[0]);Le?re.text=Ie+" - "+Fe:(re.text=Fe,re.text2=Ie)}function mt(le,re,Le,Te,Se){Se==="never"?Se="":le.showexponent==="all"&&Math.abs(re.x/le.dtick)<1e-6&&(Se="hide"),re.text=et(re.x,le,Se,Te)}function st(le,re,Le,Te,Se){if(le.thetaunit==="radians"&&!Le){var Fe=re.x/180;if(Fe===0)re.text="0";else{var Ie=gt(Fe);if(Ie[1]>=100)re.text=et(e.deg2rad(re.x),le,Se,Te);else{var Ue=re.x<0;Ie[1]===1?Ie[0]===1?re.text="\u03C0":re.text=Ie[0]+"\u03C0":re.text=["<sup>",Ie[0],"</sup>","\u2044","<sub>",Ie[1],"</sub>","\u03C0"].join(""),Ue&&(re.text=U+re.text)}}}else re.text=et(re.x,le,Se,Te)}function gt(le){function re(Ue,tt){return Math.abs(Ue-tt)<=1e-6}function Le(Ue,tt){return re(tt,0)?Ue:Le(tt,Ue%tt)}function Te(Ue){for(var tt=1;!re(Math.round(Ue*tt)/tt,Ue);)tt*=10;return tt}var Se=Te(le),Fe=le*Se,Ie=Math.abs(Le(Fe,Se));return[Math.round(Fe/Ie),Math.round(Se/Ie)]}var Ct=["f","p","n","\u03BC","m","","k","M","G","T"];function Ce(le){return le==="SI"||le==="B"}function ze(le){return le>14||le<-15}function et(le,re,Le,Te){var Se=le<0,Fe=re._tickround,Ie=Le||re.exponentformat||"B",Ue=re._tickexponent,tt=Z.getTickFormat(re),at=re.separatethousands;if(Te){var bt={exponentformat:Ie,minexponent:re.minexponent,dtick:re.showexponent==="none"?re.dtick:n(le)&&Math.abs(le)||1,range:re.showexponent==="none"?re.range.map(re.r2d):[0,le||1]};Xe(bt),Fe=(Number(bt._tickround)||0)+4,Ue=bt._tickexponent,re.hoverformat&&(tt=re.hoverformat)}if(tt)return re._numFormat(tt)(le).replace(/-/g,U);var Tt=Math.pow(10,-Fe)/2;if(Ie==="none"&&(Ue=0),le=Math.abs(le),le<Tt)le="0",Se=!1;else{if(le+=Tt,Ue&&(le*=Math.pow(10,-Ue),Fe+=Ue),Fe===0)le=String(Math.floor(le));else if(Fe<0){le=String(Math.round(le)),le=le.substr(0,le.length+Fe);for(var Ft=Fe;Ft<0;Ft++)le+="0"}else{le=String(le);var dt=le.indexOf(".")+1;dt&&(le=le.substr(0,dt+Fe).replace(/\.?0+$/,""))}le=e.numSeparate(le,re._separators,at)}if(Ue&&Ie!=="hide"){Ce(Ie)&&ze(Ue)&&(Ie="power");var rt;Ue<0?rt=U+-Ue:Ie!=="power"?rt="+"+Ue:rt=String(Ue),Ie==="e"||Ie==="E"?le+=Ie+rt:Ie==="power"?le+="\xD710<sup>"+rt+"</sup>":Ie==="B"&&Ue===9?le+="B":Ce(Ie)&&(le+=Ct[Ue/3+5])}return Se?U+le:le}Z.getTickFormat=function(le){var re;function Le(tt){return typeof tt!="string"?tt:Number(tt.replace("M",""))*x}function Te(tt,at){var bt=["L","D"];if(typeof tt==typeof at){if(typeof tt=="number")return tt-at;var Tt=bt.indexOf(tt.charAt(0)),Ft=bt.indexOf(at.charAt(0));return Tt===Ft?Number(tt.replace(/(L|D)/g,""))-Number(at.replace(/(L|D)/g,"")):Tt-Ft}else return typeof tt=="number"?1:-1}function Se(tt,at,bt){var Tt=bt||function(rt){return rt},Ft=at[0],dt=at[1];return(!Ft&&typeof Ft!="number"||Tt(Ft)<=Tt(tt))&&(!dt&&typeof dt!="number"||Tt(dt)>=Tt(tt))}function Fe(tt,at){var bt=at[0]===null,Tt=at[1]===null,Ft=Te(tt,at[0])>=0,dt=Te(tt,at[1])<=0;return(bt||Ft)&&(Tt||dt)}var Ie,Ue;if(le.tickformatstops&&le.tickformatstops.length>0)switch(le.type){case"date":case"linear":{for(re=0;re<le.tickformatstops.length;re++)if(Ue=le.tickformatstops[re],Ue.enabled&&Se(le.dtick,Ue.dtickrange,Le)){Ie=Ue;break}break}case"log":{for(re=0;re<le.tickformatstops.length;re++)if(Ue=le.tickformatstops[re],Ue.enabled&&Fe(le.dtick,Ue.dtickrange)){Ie=Ue;break}break}}return Ie?Ie.value:le.tickformat},Z.getSubplots=function(le,re){var Le=le._fullLayout._subplots,Te=Le.cartesian.concat(Le.gl2d||[]),Se=re?Z.findSubplotsWithAxis(Te,re):Te;return Se.sort(function(Fe,Ie){var Ue=Fe.substr(1).split("y"),tt=Ie.substr(1).split("y");return Ue[0]===tt[0]?+Ue[1]-+tt[1]:+Ue[0]-+tt[0]}),Se},Z.findSubplotsWithAxis=function(le,re){for(var Le=new RegExp(re._id.charAt(0)==="x"?"^"+re._id+"y":re._id+"$"),Te=[],Se=0;Se<le.length;Se++){var Fe=le[Se];Le.test(Fe)&&Te.push(Fe)}return Te},Z.makeClipPaths=function(le){var re=le._fullLayout;if(!re._hasOnlyLargeSploms){var Le={_offset:0,_length:re.width,_id:""},Te={_offset:0,_length:re.height,_id:""},Se=Z.list(le,"x",!0),Fe=Z.list(le,"y",!0),Ie=[],Ue,tt;for(Ue=0;Ue<Se.length;Ue++)for(Ie.push({x:Se[Ue],y:Te}),tt=0;tt<Fe.length;tt++)Ue===0&&Ie.push({x:Le,y:Fe[tt]}),Ie.push({x:Se[Ue],y:Fe[tt]});var at=re._clips.selectAll(".axesclip").data(Ie,function(bt){return bt.x._id+bt.y._id});at.enter().append("clipPath").classed("axesclip",!0).attr("id",function(bt){return"clip"+re._uid+bt.x._id+bt.y._id}).append("rect"),at.exit().remove(),at.each(function(bt){t.select(this).select("rect").attr({x:bt.x._offset||0,y:bt.y._offset||0,width:bt.x._length||1,height:bt.y._length||1})})}},Z.draw=function(le,re,Le){var Te=le._fullLayout;re==="redraw"&&Te._paper.selectAll("g.subplot").each(function(Fe){var Ie=Fe[0],Ue=Te._plots[Ie];if(Ue){var tt=Ue.xaxis,at=Ue.yaxis;Ue.xaxislayer.selectAll("."+tt._id+"tick").remove(),Ue.yaxislayer.selectAll("."+at._id+"tick").remove(),Ue.xaxislayer.selectAll("."+tt._id+"tick2").remove(),Ue.yaxislayer.selectAll("."+at._id+"tick2").remove(),Ue.xaxislayer.selectAll("."+tt._id+"divider").remove(),Ue.yaxislayer.selectAll("."+at._id+"divider").remove(),Ue.minorGridlayer&&Ue.minorGridlayer.selectAll("path").remove(),Ue.gridlayer&&Ue.gridlayer.selectAll("path").remove(),Ue.zerolinelayer&&Ue.zerolinelayer.selectAll("path").remove(),Te._infolayer.select(".g-"+tt._id+"title").remove(),Te._infolayer.select(".g-"+at._id+"title").remove()}});var Se=!re||re==="redraw"?Z.listIds(le):re;return e.syncOrAsync(Se.map(function(Fe){return function(){if(!!Fe){var Ie=Z.getFromId(le,Fe),Ue=Z.drawOne(le,Ie,Le);return Ie._r=Ie.range.slice(),Ie._rl=e.simpleMap(Ie._r,Ie.r2l),Ue}}}))},Z.drawOne=function(le,re,Le){Le=Le||{};var Te,Se,Fe;re.setScale();var Ie=le._fullLayout,Ue=re._id,tt=Ue.charAt(0),at=Z.counterLetter(Ue),bt=Ie._plots[re._mainSubplot];if(!bt)return;var Tt=bt[tt+"axislayer"],Ft=re._mainLinePosition,dt=re._mainMirrorPosition,rt=re._vals=Z.calcTicks(re),kt=[re.mirror,Ft,dt].join("_");for(Te=0;Te<rt.length;Te++)rt[Te].axInfo=kt;re._selections={},re._tickAngles&&(re._prevTickAngles=re._tickAngles),re._tickAngles={},re._depth=null;var Rt={};function nt(Tr){var Gr=Ue+(Tr||"tick");return Rt[Gr]||(Rt[Gr]=De(re,Gr)),Rt[Gr]}if(!!re.visible){var Mt=Z.makeTransTickFn(re),Et=Z.makeTransTickLabelFn(re),pt,Dt,Ht=re.ticks==="inside",Yt=re.ticks==="outside";if(re.tickson==="boundaries"){var Pt=ve(re,rt);Dt=Z.clipEnds(re,Pt),pt=Ht?Dt:Pt}else Dt=Z.clipEnds(re,rt),pt=Ht&&re.ticklabelmode!=="period"?Dt:rt;var nr=re._gridVals=Dt,lr=Me(re,rt);if(!Ie._hasOnlyLargeSploms){var Xt=re._subplotsWith,tr={};for(Te=0;Te<Xt.length;Te++){Se=Xt[Te],Fe=Ie._plots[Se];var rr=Fe[at+"axis"],ir=rr._mainAxis._id;if(!tr[ir]){tr[ir]=1;var hr=tt==="x"?"M0,"+rr._offset+"v"+rr._length:"M"+rr._offset+",0h"+rr._length;Z.drawGrid(le,re,{vals:nr,counterAxis:rr,layer:Fe.gridlayer.select("."+Ue),minorLayer:Fe.minorGridlayer.select("."+Ue),path:hr,transFn:Mt}),Z.drawZeroLine(le,re,{counterAxis:rr,layer:Fe.zerolinelayer,path:hr,transFn:Mt})}}}var mr,dr=Z.getTickSigns(re),br=Z.getTickSigns(re,"minor");if(re.ticks||re.minor&&re.minor.ticks){var _r=Z.makeTickPath(re,Ft,dr[2]),wr=Z.makeTickPath(re,Ft,br[2],{minor:!0}),xr,Sr,Dr,yr;if(re._anchorAxis&&re.mirror&&re.mirror!==!0?(xr=Z.makeTickPath(re,dt,dr[3]),Sr=Z.makeTickPath(re,dt,br[3],{minor:!0}),Dr=_r+xr,yr=wr+Sr):(xr="",Sr="",Dr=_r,yr=wr),re.showdividers&&Yt&&re.tickson==="boundaries"){var na={};for(Te=0;Te<lr.length;Te++)na[lr[Te].x]=1;mr=function(Tr){return na[Tr.x]?xr:Dr}}else mr=function(Tr){return Tr.minor?yr:Dr}}if(Z.drawTicks(le,re,{vals:pt,layer:Tt,path:mr,transFn:Mt}),re.mirror==="allticks"){var qr=Object.keys(re._linepositions||{});for(Te=0;Te<qr.length;Te++){Se=qr[Te],Fe=Ie._plots[Se];var Hr=re._linepositions[Se]||[],Yr=Hr[0],Xr=Hr[1],Kr=Hr[2],Ur=Z.makeTickPath(re,Yr,Kr?dr[0]:br[0],{minor:Kr})+Z.makeTickPath(re,Xr,Kr?dr[1]:br[1],{minor:Kr});Z.drawTicks(le,re,{vals:pt,layer:Fe[tt+"axislayer"],path:Ur,transFn:Mt})}}var Ar=[];if(Ar.push(function(){return Z.drawLabels(le,re,{vals:rt,layer:Tt,plotinfo:Fe,transFn:Et,labelFns:Z.makeLabelFns(re,Ft)})}),re.type==="multicategory"){var pa={x:2,y:10}[tt];Ar.push(function(){var Tr={x:"height",y:"width"}[tt],Gr=nt()[Tr]+pa+(re._tickAngles[Ue+"tick"]?re.tickfont.size*me:0);return Z.drawLabels(le,re,{vals:we(re,rt),layer:Tt,cls:Ue+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Mt,labelFns:Z.makeLabelFns(re,Ft+Gr*dr[4])})}),Ar.push(function(){return re._depth=dr[4]*(nt("tick2")[re.side]-Ft),vt(le,re,{vals:lr,layer:Tt,path:Z.makeTickPath(re,Ft,dr[4],{len:re._depth}),transFn:Mt})})}else re.title.hasOwnProperty("standoff")&&Ar.push(function(){re._depth=dr[4]*(nt()[re.side]-Ft)});var ia=a.getComponentMethod("rangeslider","isVisible")(re);return Ar.push(function(){var Tr=re.side.charAt(0),Gr=de[re.side].charAt(0),ma=Z.getPxPosition(le,re),ua=Yt?re.ticklen:0,Lr,Rr,ea,Ca;if((re.automargin||ia)&&(re.type==="multicategory"?Lr=nt("tick2"):(Lr=nt(),tt==="x"&&Tr==="b"&&(re._depth=Math.max(Lr.width>0?Lr.bottom-ma:0,ua)))),re.automargin){Rr={x:0,y:0,r:0,l:0,t:0,b:0};var oa=[0,1];if(tt==="x"){if(Tr==="b"?Rr[Tr]=re._depth:(Rr[Tr]=re._depth=Math.max(Lr.width>0?ma-Lr.top:0,ua),oa.reverse()),Lr.width>0){var La=Lr.right-(re._offset+re._length);La>0&&(Rr.xr=1,Rr.r=La);var ta=re._offset-Lr.left;ta>0&&(Rr.xl=0,Rr.l=ta)}}else if(Tr==="l"?Rr[Tr]=re._depth=Math.max(Lr.height>0?ma-Lr.left:0,ua):(Rr[Tr]=re._depth=Math.max(Lr.height>0?Lr.right-ma:0,ua),oa.reverse()),Lr.height>0){var ra=Lr.bottom-(re._offset+re._length);ra>0&&(Rr.yb=0,Rr.b=ra);var Sa=re._offset-Lr.top;Sa>0&&(Rr.yt=1,Rr.t=Sa)}Rr[at]=re.anchor==="free"?re.position:re._anchorAxis.domain[oa[0]],re.title.text!==Ie._dfltTitle[tt]&&(Rr[Tr]+=it(re)+(re.title.standoff||0)),re.mirror&&re.anchor!=="free"&&(ea={x:0,y:0,r:0,l:0,t:0,b:0},ea[Gr]=re.linewidth,re.mirror&&re.mirror!==!0&&(ea[Gr]+=ua),re.mirror===!0||re.mirror==="ticks"?ea[at]=re._anchorAxis.domain[oa[1]]:(re.mirror==="all"||re.mirror==="allticks")&&(ea[at]=[re._counterDomainMin,re._counterDomainMax][oa[1]]))}ia&&(Ca=a.getComponentMethod("rangeslider","autoMarginOpts")(le,re)),o.autoMargin(le,Kt(re),Rr),o.autoMargin(le,$t(re),ea),o.autoMargin(le,It(re),Ca)}),!Le.skipTitle&&!(ia&&re.side==="bottom")&&Ar.push(function(){return Ze(le,re)}),e.syncOrAsync(Ar)}};function ve(le,re){var Le=[],Te,Se=function(Fe,Ie){var Ue=Fe.xbnd[Ie];Ue!==null&&Le.push(e.extendFlat({},Fe,{x:Ue}))};if(re.length){for(Te=0;Te<re.length;Te++)Se(re[Te],0);Se(re[Te-1],1)}return Le}function we(le,re){for(var Le=[],Te={},Se=0;Se<re.length;Se++){var Fe=re[Se];Te[Fe.text2]?Te[Fe.text2].push(Fe.x):Te[Fe.text2]=[Fe.x]}for(var Ie in Te)Le.push(Je(le,e.interp(Te[Ie],.5),Ie));return Le}function Me(le,re){var Le=[],Te,Se,Fe=re.length&&re[re.length-1].x<re[0].x,Ie=function(tt,at){var bt=tt.xbnd[at];bt!==null&&Le.push(e.extendFlat({},tt,{x:bt}))};if(le.showdividers&&re.length){for(Te=0;Te<re.length;Te++){var Ue=re[Te];Ue.text2!==Se&&Ie(Ue,Fe?1:0),Se=Ue.text2}Ie(re[Te-1],Fe?0:1)}return Le}function De(le,re){var Le,Te,Se,Fe;return le._selections[re].size()?(Le=1/0,Te=-1/0,Se=1/0,Fe=-1/0,le._selections[re].each(function(){var Ie=Gt(this),Ue=c.bBox(Ie.node().parentNode);Le=Math.min(Le,Ue.top),Te=Math.max(Te,Ue.bottom),Se=Math.min(Se,Ue.left),Fe=Math.max(Fe,Ue.right)})):(Le=0,Te=0,Se=0,Fe=0),{top:Le,bottom:Te,left:Se,right:Fe,height:Te-Le,width:Fe-Se}}Z.getTickSigns=function(le,re){var Le=le._id.charAt(0),Te={x:"top",y:"right"}[Le],Se=le.side===Te?1:-1,Fe=[-1,1,Se,-Se],Ie=re?(le.minor||{}).ticks:le.ticks;return Ie!=="inside"==(Le==="x")&&(Fe=Fe.map(function(Ue){return-Ue})),le.side&&Fe.push({l:-1,t:-1,r:1,b:1}[le.side.charAt(0)]),Fe},Z.makeTransTickFn=function(le){return le._id.charAt(0)==="x"?function(re){return u(le._offset+le.l2p(re.x),0)}:function(re){return u(0,le._offset+le.l2p(re.x))}},Z.makeTransTickLabelFn=function(le){var re=We(le),Le=re[0],Te=re[1];return le._id.charAt(0)==="x"?function(Se){return u(Le+le._offset+le.l2p(je(Se)),Te)}:function(Se){return u(Te,Le+le._offset+le.l2p(je(Se)))}};function je(le){return le.periodX!==void 0?le.periodX:le.x}function We(le){var re=le.ticklabelposition||"",Le=function(dt){return re.indexOf(dt)!==-1},Te=Le("top"),Se=Le("left"),Fe=Le("right"),Ie=Le("bottom"),Ue=Le("inside"),tt=Ie||Se||Te||Fe;if(!tt&&!Ue)return[0,0];var at=le.side,bt=tt?(le.tickwidth||0)/2:0,Tt=ie,Ft=le.tickfont?le.tickfont.size:12;return(Ie||Te)&&(bt+=Ft*oe,Tt+=(le.linewidth||0)/2),(Se||Fe)&&(bt+=(le.linewidth||0)/2,Tt+=ie),Ue&&at==="top"&&(Tt-=Ft*(1-oe)),(Se||Te)&&(bt=-bt),(at==="bottom"||at==="right")&&(Tt=-Tt),[tt?bt:0,Ue?Tt:0]}Z.makeTickPath=function(le,re,Le,Te){Te||(Te={});var Se=Te.minor;if(Se&&!le.minor)return"";var Fe=Te.len!==void 0?Te.len:Se?le.minor.ticklen:le.ticklen,Ie=le._id.charAt(0),Ue=(le.linewidth||1)/2;return Ie==="x"?"M0,"+(re+Ue*Le)+"v"+Fe*Le:"M"+(re+Ue*Le)+",0h"+Fe*Le},Z.makeLabelFns=function(le,re,Le){var Te=le.ticklabelposition||"",Se=function(tr){return Te.indexOf(tr)!==-1},Fe=Se("top"),Ie=Se("left"),Ue=Se("right"),tt=Se("bottom"),at=tt||Ie||Fe||Ue,bt=Se("inside"),Tt=Te==="inside"&&le.ticks==="inside"||!bt&&le.ticks==="outside"&&le.tickson!=="boundaries",Ft=0,dt=0,rt=Tt?le.ticklen:0;if(bt?rt*=-1:at&&(rt=0),Tt&&(Ft+=rt,Le)){var kt=e.deg2rad(Le);Ft=rt*Math.cos(kt)+1,dt=rt*Math.sin(kt)}le.showticklabels&&(Tt||le.showline)&&(Ft+=.2*le.tickfont.size),Ft+=(le.linewidth||1)/2*(bt?-1:1);var Rt={labelStandoff:Ft,labelShift:dt},nt,Mt,Et,pt,Dt=0,Ht=le.side,Yt=le._id.charAt(0),Pt=le.tickangle,nr;if(Yt==="x")nr=!bt&&Ht==="bottom"||bt&&Ht==="top",pt=nr?1:-1,bt&&(pt*=-1),nt=dt*pt,Mt=re+Ft*pt,Et=nr?1:-.2,Math.abs(Pt)===90&&(bt?Et+=ne:Pt===-90&&Ht==="bottom"?Et=oe:Pt===90&&Ht==="top"?Et=ne:Et=.5,Dt=ne/2*(Pt/90)),Rt.xFn=function(tr){return tr.dx+nt+Dt*tr.fontSize},Rt.yFn=function(tr){return tr.dy+Mt+tr.fontSize*Et},Rt.anchorFn=function(tr,rr){if(at){if(Ie)return"end";if(Ue)return"start"}return!n(rr)||rr===0||rr===180?"middle":rr*pt<0!==bt?"end":"start"},Rt.heightFn=function(tr,rr,ir){return rr<-60||rr>60?-.5*ir:le.side==="top"!==bt?-ir:0};else if(Yt==="y"){if(nr=!bt&&Ht==="left"||bt&&Ht==="right",pt=nr?1:-1,bt&&(pt*=-1),nt=Ft,Mt=dt*pt,Et=0,!bt&&Math.abs(Pt)===90&&(Pt===-90&&Ht==="left"||Pt===90&&Ht==="right"?Et=oe:Et=.5),bt){var lr=n(Pt)?+Pt:0;if(lr!==0){var Xt=e.deg2rad(lr);Dt=Math.abs(Math.sin(Xt))*oe*pt,Et=0}}Rt.xFn=function(tr){return tr.dx+re-(nt+tr.fontSize*Et)*pt+Dt*tr.fontSize},Rt.yFn=function(tr){return tr.dy+Mt+tr.fontSize*ne},Rt.anchorFn=function(tr,rr){return n(rr)&&Math.abs(rr)===90?"middle":nr?"end":"start"},Rt.heightFn=function(tr,rr,ir){return le.side==="right"&&(rr*=-1),rr<-30?-ir:rr<30?-.5*ir:0}}return Rt};function ht(le){return[le.text,le.x,le.axInfo,le.font,le.fontSize,le.fontColor].join("_")}Z.drawTicks=function(le,re,Le){Le=Le||{};var Te=re._id+"tick",Se=[].concat(re.minor&&re.minor.ticks?Le.vals.filter(function(Ie){return Ie.minor&&!Ie.noTick}):[]).concat(re.ticks?Le.vals.filter(function(Ie){return!Ie.minor&&!Ie.noTick}):[]),Fe=Le.layer.selectAll("path."+Te).data(Se,ht);Fe.exit().remove(),Fe.enter().append("path").classed(Te,1).classed("ticks",1).classed("crisp",Le.crisp!==!1).each(function(Ie){return r.stroke(t.select(this),Ie.minor?re.minor.tickcolor:re.tickcolor)}).style("stroke-width",function(Ie){return c.crispRound(le,Ie.minor?re.minor.tickwidth:re.tickwidth,1)+"px"}).attr("d",Le.path).style("display",null),St(re,[G]),Fe.attr("transform",Le.transFn)},Z.drawGrid=function(le,re,Le){Le=Le||{};var Te=re._id+"grid",Se=re.minor&&re.minor.showgrid,Fe=Se?Le.vals.filter(function(nt){return nt.minor}):[],Ie=re.showgrid?Le.vals.filter(function(nt){return!nt.minor}):[],Ue=Le.counterAxis;if(Ue&&Z.shouldShowZeroLine(le,re,Ue))for(var tt=re.tickmode==="array",at=0;at<Ie.length;at++){var bt=Ie[at].x;if(tt?!bt:Math.abs(bt)<re.dtick/100)if(Ie=Ie.slice(0,at).concat(Ie.slice(at+1)),tt)at--;else break}re._gw=c.crispRound(le,re.gridwidth,1);for(var Tt=Se?c.crispRound(le,re.minor.gridwidth,1):0,Ft=Le.layer,dt=Le.minorLayer,rt=1;rt>=0;rt--){var kt=rt?Ft:dt;if(!!kt){var Rt=kt.selectAll("path."+Te).data(rt?Ie:Fe,ht);Rt.exit().remove(),Rt.enter().append("path").classed(Te,1).classed("crisp",Le.crisp!==!1),Rt.attr("transform",Le.transFn).attr("d",Le.path).each(function(nt){return r.stroke(t.select(this),nt.minor?re.minor.gridcolor:re.gridcolor||"#ddd")}).style("stroke-dasharray",function(nt){return c.dashStyle(nt.minor?re.minor.griddash:re.griddash,nt.minor?re.minor.gridwidth:re.gridwidth)}).style("stroke-width",function(nt){return(nt.minor?Tt:re._gw)+"px"}).style("display",null),typeof Le.path=="function"&&Rt.attr("d",Le.path)}}St(re,[ee,R])},Z.drawZeroLine=function(le,re,Le){Le=Le||Le;var Te=re._id+"zl",Se=Z.shouldShowZeroLine(le,re,Le.counterAxis),Fe=Le.layer.selectAll("path."+Te).data(Se?[{x:0,id:re._id}]:[]);Fe.exit().remove(),Fe.enter().append("path").classed(Te,1).classed("zl",1).classed("crisp",Le.crisp!==!1).each(function(){Le.layer.selectAll("path").sort(function(Ie,Ue){return g(Ie.id,Ue.id)})}),Fe.attr("transform",Le.transFn).attr("d",Le.path).call(r.stroke,re.zerolinecolor||r.defaultLine).style("stroke-width",c.crispRound(le,re.zerolinewidth,re._gw||1)+"px").style("display",null),St(re,[J])},Z.drawLabels=function(le,re,Le){Le=Le||{};var Te=le._fullLayout,Se=re._id,Fe=Se.charAt(0),Ie=Le.cls||Se+"tick",Ue=Le.vals.filter(function(pt){return pt.text}),tt=Le.labelFns,at=Le.secondary?0:re.tickangle,bt=(re._prevTickAngles||{})[Ie],Tt=Le.layer.selectAll("g."+Ie).data(re.showticklabels?Ue:[],ht),Ft=[];Tt.enter().append("g").classed(Ie,1).append("text").attr("text-anchor","middle").each(function(pt){var Dt=t.select(this),Ht=le._promises.length;Dt.call(s.positionText,tt.xFn(pt),tt.yFn(pt)).call(c.font,pt.font,pt.fontSize,pt.fontColor).text(pt.text).call(s.convertToTspans,le),le._promises[Ht]?Ft.push(le._promises.pop().then(function(){dt(Dt,at)})):dt(Dt,at)}),St(re,[B]),Tt.exit().remove(),Le.repositionOnUpdate&&Tt.each(function(pt){t.select(this).select("text").call(s.positionText,tt.xFn(pt),tt.yFn(pt))});function dt(pt,Dt){pt.each(function(Ht){var Yt=t.select(this),Pt=Yt.select(".text-math-group"),nr=tt.anchorFn(Ht,Dt),lr=Le.transFn.call(Yt.node(),Ht)+(n(Dt)&&+Dt!=0?" rotate("+Dt+","+tt.xFn(Ht)+","+(tt.yFn(Ht)-Ht.fontSize/2)+")":""),Xt=s.lineCount(Yt),tr=me*Ht.fontSize,rr=tt.heightFn(Ht,n(Dt)?+Dt:0,(Xt-1)*tr);if(rr&&(lr+=u(0,rr)),Pt.empty()){var ir=Yt.select("text");ir.attr({transform:lr,"text-anchor":nr}),ir.style("opacity",1),re._adjustTickLabelsOverflow&&re._adjustTickLabelsOverflow()}else{var hr=c.bBox(Pt.node()).width,mr=hr*{end:-.5,start:.5}[nr];Pt.attr("transform",lr+u(mr,0))}})}re._adjustTickLabelsOverflow=function(){var pt=re.ticklabeloverflow;if(!(!pt||pt==="allow")){var Dt=pt.indexOf("hide")!==-1,Ht=re._id.charAt(0)==="x",Yt=0,Pt=Ht?le._fullLayout.width:le._fullLayout.height;if(pt.indexOf("domain")!==-1){var nr=e.simpleMap(re.range,re.r2l);Yt=re.l2p(nr[0])+re._offset,Pt=re.l2p(nr[1])+re._offset}var lr=Math.min(Yt,Pt),Xt=Math.max(Yt,Pt),tr=re.side,rr=1/0,ir=-1/0;Tt.each(function(br){var _r=t.select(this),wr=_r.select(".text-math-group");if(wr.empty()){var xr=c.bBox(_r.node()),Sr=0;Ht?(xr.right>Xt||xr.left<lr)&&(Sr=1):(xr.bottom>Xt||xr.top+(re.tickangle?0:br.fontSize/4)<lr)&&(Sr=1);var Dr=_r.select("text");Sr?Dt&&Dr.style("opacity",0):(Dr.style("opacity",1),tr==="bottom"||tr==="right"?rr=Math.min(rr,Ht?xr.top:xr.left):rr=-1/0,tr==="top"||tr==="left"?ir=Math.max(ir,Ht?xr.bottom:xr.right):ir=1/0)}});for(var hr in Te._plots){var mr=Te._plots[hr];if(!(re._id!==mr.xaxis._id&&re._id!==mr.yaxis._id)){var dr=Ht?mr.yaxis:mr.xaxis;dr&&(dr["_visibleLabelMin_"+re._id]=rr,dr["_visibleLabelMax_"+re._id]=ir)}}}},re._hideCounterAxisInsideTickLabels=function(pt){var Dt=re._id.charAt(0)==="x",Ht=[];for(var Yt in Te._plots){var Pt=Te._plots[Yt];re._id!==Pt.xaxis._id&&re._id!==Pt.yaxis._id||Ht.push(Dt?Pt.yaxis:Pt.xaxis)}Ht.forEach(function(nr,lr){nr&&jt(nr)&&(pt||[J,R,ee,G,B]).forEach(function(Xt){var tr=Xt.K==="tick"&&Xt.L==="text"&&re.ticklabelmode==="period",rr=Te._plots[re._mainSubplot],ir;Xt.K===J.K?ir=rr.zerolinelayer.selectAll("."+re._id+"zl"):Xt.K===R.K?ir=rr.minorGridlayer.selectAll("."+re._id):Xt.K===ee.K?ir=rr.gridlayer.selectAll("."+re._id):ir=rr[re._id.charAt(0)+"axislayer"],ir.each(function(){var hr=t.select(this);Xt.L&&(hr=hr.selectAll(Xt.L)),hr.each(function(mr){var dr=re.l2p(tr?je(mr):mr.x)+re._offset,br=t.select(this);dr<re["_visibleLabelMax_"+nr._id]&&dr>re["_visibleLabelMin_"+nr._id]?br.style("display","none"):Xt.K==="tick"&&!lr&&br.style("display",null)})})})})},dt(Tt,bt+1?bt:at);function rt(){return Ft.length&&Promise.all(Ft)}var kt=null;function Rt(){if(dt(Tt,at),Ue.length&&Fe==="x"&&!n(at)&&(re.type!=="log"||String(re.dtick).charAt(0)!=="D")){kt=0;var pt=0,Dt=[],Ht;if(Tt.each(function(xr){pt=Math.max(pt,xr.fontSize);var Sr=re.l2p(xr.x),Dr=Gt(this),yr=c.bBox(Dr.node());Dt.push({top:0,bottom:10,height:10,left:Sr-yr.width/2,right:Sr+yr.width/2+2,width:yr.width+2})}),(re.tickson==="boundaries"||re.showdividers)&&!Le.secondary){var Yt=2;for(re.ticks&&(Yt+=re.tickwidth/2),Ht=0;Ht<Dt.length;Ht++){var Pt=Ue[Ht].xbnd,nr=Dt[Ht];if(Pt[0]!==null&&nr.left-re.l2p(Pt[0])<Yt||Pt[1]!==null&&re.l2p(Pt[1])-nr.right<Yt){kt=90;break}}}else{var lr=Ue.length,Xt=Math.abs((Ue[lr-1].x-Ue[0].x)*re._m)/(lr-1),tr=re.ticklabelposition||"",rr=function(xr){return tr.indexOf(xr)!==-1},ir=rr("top"),hr=rr("left"),mr=rr("right"),dr=rr("bottom"),br=dr||hr||ir||mr,_r=br?(re.tickwidth||0)+2*ie:0,wr=Xt<pt*2.5||re.type==="multicategory"||re._name==="realaxis";for(Ht=0;Ht<Dt.length-1;Ht++)if(e.bBoxIntersect(Dt[Ht],Dt[Ht+1],_r)){kt=wr?90:30;break}}kt&&dt(Tt,kt)}}re._selections&&(re._selections[Ie]=Tt);var nt=[rt];re.automargin&&Te._redrawFromAutoMarginCount&&bt===90?(kt=90,nt.push(function(){dt(Tt,bt)})):nt.push(Rt),re._tickAngles&&nt.push(function(){re._tickAngles[Ie]=kt===null?n(at)?at:0:kt});var Mt=re._anchorAxis;Mt&&Mt.autorange&&jt(re)&&!S(Te,re._id)&&(Te._insideTickLabelsAutorange||(Te._insideTickLabelsAutorange={}),Te._insideTickLabelsAutorange[Mt._name+".autorange"]=Mt.autorange,nt.push(function(){Tt.each(function(Dt,Ht){var Yt=Gt(this),Pt=Yt.select(".text-math-group");Pt.empty()&&(re._vals[Ht].bb=c.bBox(Yt.node()))})}));var Et=e.syncOrAsync(nt);return Et&&Et.then&&le._promises.push(Et),Et};function vt(le,re,Le){var Te=re._id+"divider",Se=Le.vals,Fe=Le.layer.selectAll("path."+Te).data(Se,ht);Fe.exit().remove(),Fe.enter().insert("path",":first-child").classed(Te,1).classed("crisp",1).call(r.stroke,re.dividercolor).style("stroke-width",c.crispRound(le,re.dividerwidth,1)+"px"),Fe.attr("transform",Le.transFn).attr("d",Le.path)}Z.getPxPosition=function(le,re){var Le=le._fullLayout._size,Te=re._id.charAt(0),Se=re.side,Fe;if(re.anchor!=="free"?Fe=re._anchorAxis:Te==="x"?Fe={_offset:Le.t+(1-(re.position||0))*Le.h,_length:0}:Te==="y"&&(Fe={_offset:Le.l+(re.position||0)*Le.w,_length:0}),Se==="top"||Se==="left")return Fe._offset;if(Se==="bottom"||Se==="right")return Fe._offset+Fe._length};function it(le){var re=le.title.font.size,Le=(le.title.text.match(s.BR_TAG_ALL)||[]).length;return le.title.hasOwnProperty("standoff")?Le?re*(oe+Le*me):re*oe:Le?re*(Le+1)*me:re}function Ze(le,re){var Le=le._fullLayout,Te=re._id,Se=Te.charAt(0),Fe=re.title.font.size,Ie;if(re.title.hasOwnProperty("standoff"))Ie=re._depth+re.title.standoff+it(re);else{var Ue=jt(re);if(re.type==="multicategory")Ie=re._depth;else{var tt=1.5*Fe;Ue&&(tt=.5*Fe,re.ticks==="outside"&&(tt+=re.ticklen)),Ie=10+tt+(re.linewidth?re.linewidth-1:0)}Ue||(Se==="x"?Ie+=re.side==="top"?Fe*(re.showticklabels?1:0):Fe*(re.showticklabels?1.5:.5):Ie+=re.side==="right"?Fe*(re.showticklabels?1:.5):Fe*(re.showticklabels?.5:0))}var at=Z.getPxPosition(le,re),bt,Tt,Ft;Se==="x"?(Tt=re._offset+re._length/2,Ft=re.side==="top"?at-Ie:at+Ie):(Ft=re._offset+re._length/2,Tt=re.side==="right"?at+Ie:at-Ie,bt={rotate:"-90",offset:0});var dt;if(re.type!=="multicategory"){var rt=re._selections[re._id+"tick"];if(dt={selection:rt,side:re.side},rt&&rt.node()&&rt.node().parentNode){var kt=c.getTranslate(rt.node().parentNode);dt.offsetLeft=kt.x,dt.offsetTop=kt.y}re.title.hasOwnProperty("standoff")&&(dt.pad=0)}return l.draw(le,Te+"title",{propContainer:re,propName:re._name+".title.text",placeholder:Le._dfltTitle[Se],avoid:dt,transform:bt,attributes:{x:Tt,y:Ft,"text-anchor":"middle"}})}Z.shouldShowZeroLine=function(le,re,Le){var Te=e.simpleMap(re.range,re.r2l);return Te[0]*Te[1]<=0&&re.zeroline&&(re.type==="linear"||re.type==="-")&&!(re.rangebreaks&&re.maskBreaks(0)===Q)&&(_t(re,0)||!Lt(le,re,Le,Te)||wt(le,re))},Z.clipEnds=function(le,re){return re.filter(function(Le){return _t(le,Le.x)})};function _t(le,re){var Le=le.l2p(re);return Le>1&&Le<le._length-1}function Lt(le,re,Le,Te){var Se=Le._mainAxis;if(!Se)return;var Fe=le._fullLayout,Ie=re._id.charAt(0),Ue=Z.counterLetter(re._id),tt=re._offset+(Math.abs(Te[0])<Math.abs(Te[1])==(Ie==="x")?0:re._length);function at(rt){if(!rt.showline||!rt.linewidth)return!1;var kt=Math.max((rt.linewidth+re.zerolinewidth)/2,1);function Rt(Et){return typeof Et=="number"&&Math.abs(Et-tt)<kt}if(Rt(rt._mainLinePosition)||Rt(rt._mainMirrorPosition))return!0;var nt=rt._linepositions||{};for(var Mt in nt)if(Rt(nt[Mt][0])||Rt(nt[Mt][1]))return!0}var bt=Fe._plots[Le._mainSubplot];if(!(bt.mainplotinfo||bt).overlays.length)return at(Le);for(var Tt=Z.list(le,Ue),Ft=0;Ft<Tt.length;Ft++){var dt=Tt[Ft];if(dt._mainAxis===Se&&at(dt))return!0}}function wt(le,re){for(var Le=le._fullData,Te=re._mainSubplot,Se=re._id.charAt(0),Fe=0;Fe<Le.length;Fe++){var Ie=Le[Fe];if(Ie.visible===!0&&Ie.xaxis+Ie.yaxis===Te&&(a.traceIs(Ie,"bar-like")&&Ie.orientation==={x:"h",y:"v"}[Se]||Ie.fill&&Ie.fill.charAt(Ie.fill.length-1)===Se))return!0}return!1}function Gt(le){var re=t.select(le),Le=re.select(".text-math-group");return Le.empty()?re.select("text"):Le}Z.allowAutoMargin=function(le){for(var re=Z.list(le,"",!0),Le=0;Le<re.length;Le++){var Te=re[Le];Te.automargin&&(o.allowAutoMargin(le,Kt(Te)),Te.mirror&&o.allowAutoMargin(le,$t(Te))),a.getComponentMethod("rangeslider","isVisible")(Te)&&o.allowAutoMargin(le,It(Te))}};function Kt(le){return le._id+".automargin"}function $t(le){return Kt(le)+".mirror"}function It(le){return le._id+".rangeslider"}Z.swap=function(le,re){for(var Le=Bt(le,re),Te=0;Te<Le.length;Te++)ct(le,Le[Te].x,Le[Te].y)};function Bt(le,re){var Le=[],Te,Se;for(Te=0;Te<re.length;Te++){var Fe=[],Ie=le._fullData[re[Te]].xaxis,Ue=le._fullData[re[Te]].yaxis;if(!(!Ie||!Ue)){for(Se=0;Se<Le.length;Se++)(Le[Se].x.indexOf(Ie)!==-1||Le[Se].y.indexOf(Ue)!==-1)&&Fe.push(Se);if(!Fe.length){Le.push({x:[Ie],y:[Ue]});continue}var tt=Le[Fe[0]],at;if(Fe.length>1)for(Se=1;Se<Fe.length;Se++)at=Le[Fe[Se]],zt(tt.x,at.x),zt(tt.y,at.y);zt(tt.x,[Ie]),zt(tt.y,[Ue])}}return Le}function zt(le,re){for(var Le=0;Le<re.length;Le++)le.indexOf(re[Le])===-1&&le.push(re[Le])}function ct(le,re,Le){var Te=[],Se=[],Fe=le.layout,Ie,Ue;for(Ie=0;Ie<re.length;Ie++)Te.push(Z.getFromId(le,re[Ie]));for(Ie=0;Ie<Le.length;Ie++)Se.push(Z.getFromId(le,Le[Ie]));var tt=Object.keys(h),at=["anchor","domain","overlaying","position","side","tickangle","editType"],bt=["linear","log"];for(Ie=0;Ie<tt.length;Ie++){var Tt=tt[Ie],Ft=Te[0][Tt],dt=Se[0][Tt],rt=!0,kt=!1,Rt=!1;if(!(Tt.charAt(0)==="_"||typeof Ft=="function"||at.indexOf(Tt)!==-1)){for(Ue=1;Ue<Te.length&&rt;Ue++){var nt=Te[Ue][Tt];Tt==="type"&&bt.indexOf(Ft)!==-1&&bt.indexOf(nt)!==-1&&Ft!==nt?kt=!0:nt!==Ft&&(rt=!1)}for(Ue=1;Ue<Se.length&&rt;Ue++){var Mt=Se[Ue][Tt];Tt==="type"&&bt.indexOf(dt)!==-1&&bt.indexOf(Mt)!==-1&&dt!==Mt?Rt=!0:Se[Ue][Tt]!==dt&&(rt=!1)}rt&&(kt&&(Fe[Te[0]._name].type="linear"),Rt&&(Fe[Se[0]._name].type="linear"),Wt(Fe,Tt,Te,Se,le._fullLayout._dfltTitle))}}for(Ie=0;Ie<le._fullLayout.annotations.length;Ie++){var Et=le._fullLayout.annotations[Ie];re.indexOf(Et.xref)!==-1&&Le.indexOf(Et.yref)!==-1&&e.swapAttrs(Fe.annotations[Ie],["?"])}}function Wt(le,re,Le,Te,Se){var Fe=e.nestedProperty,Ie=Fe(le[Le[0]._name],re).get(),Ue=Fe(le[Te[0]._name],re).get(),tt;for(re==="title"&&(Ie&&Ie.text===Se.x&&(Ie.text=Se.y),Ue&&Ue.text===Se.y&&(Ue.text=Se.x)),tt=0;tt<Le.length;tt++)Fe(le,Le[tt]._name+"."+re).set(Ue);for(tt=0;tt<Te.length;tt++)Fe(le,Te[tt]._name+"."+re).set(Ie)}function Ot(le){return le._id==="angularaxis"}function Jt(le,re){for(var Le=re._rangebreaks.length,Te=0;Te<Le;Te++){var Se=re._rangebreaks[Te];if(le>=Se.min&&le<Se.max)return Se.max}return le}function jt(le){return(le.ticklabelposition||"").indexOf("inside")!==-1}function St(le,re){jt(le._anchorAxis||{})&&le._hideCounterAxisInsideTickLabels&&le._hideCounterAxisInsideTickLabels(re)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("../../constants/numerical").BADNUM,a=n.isArrayOrTypedArray,e=n.isDateTime,u=n.cleanNumber,s=Math.round;ae.exports=function(L,A,M){var p=L,T=M.noMultiCategory;if(a(p)&&!p.length)return"-";if(!T&&y(p))return"multicategory";if(T&&Array.isArray(p[0])){for(var d=[],x=0;x<p.length;x++)if(a(p[x]))for(var C=0;C<p[x].length;C++)d.push(p[x][C]);p=d}if(c(p,A))return"date";var E=M.autotypenumbers!=="strict";return v(p,E)?"category":r(p,E)?"linear":"-"};function l(m,L){return L?t(m):typeof m=="number"}function r(m,L){for(var A=m.length,M=0;M<A;M++)if(l(m[M],L))return!0;return!1}function c(m,L){for(var A=m.length,M=h(A),p=0,T=0,d={},x=0;x<A;x+=M){var C=s(x),E=m[C],w=String(E);d[w]||(d[w]=1,e(E,L)&&p++,t(E)&&T++)}return p>T*2}function h(m){return Math.max(1,(m-1)/1e3)}function v(m,L){for(var A=m.length,M=h(A),p=0,T=0,d={},x=0;x<A;x+=M){var C=s(x),E=m[C],w=String(E);if(!d[w]){d[w]=1;var H=typeof E;H==="boolean"?T++:(L?u(E)!==o:H==="number")?p++:H==="string"&&T++}}return T>p*2}function y(m){return a(m[0])&&a(m[1])}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../registry"),o=f("../../lib"),a=f("../../plot_api/plot_template"),e=f("../array_container_defaults"),u=f("./layout_attributes"),s=f("./tick_value_defaults"),l=f("./tick_mark_defaults"),r=f("./tick_label_defaults"),c=f("./prefix_suffix_defaults"),h=f("./category_order_defaults"),v=f("./line_grid_defaults"),y=f("./set_convert"),m=f("./constants").WEEKDAY_PATTERN,L=f("./constants").HOUR_PATTERN;ae.exports=function(d,x,C,E,w){var H=E.letter,F=E.font||{},k=E.splomStash||{},I=C("visible",!E.visibleDflt),U=x._template||{},Q=x.type||U.type||"-",J;if(Q==="date"){var ee=n.getComponentMethod("calendars","handleDefaults");ee(d,x,"calendar",E.calendar),E.noTicklabelmode||(J=C("ticklabelmode"))}var R="";(!E.noTicklabelposition||Q==="multicategory")&&(R=o.coerce(d,x,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:J==="period"?["outside","inside"]:H==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),E.noTicklabeloverflow||C("ticklabeloverflow",R.indexOf("inside")!==-1?"hide past domain":Q==="category"||Q==="multicategory"?"allow":"hide past div"),y(x,w);var G=!x.isValidRange(d.range);G&&E.reverseDflt&&(G="reversed");var B=C("autorange",G);B&&(Q==="linear"||Q==="-")&&C("rangemode"),C("range"),x.cleanRange(),h(d,x,C,E),Q!=="category"&&!E.noHover&&C("hoverformat");var te=C("color"),ne=te!==u.color.dflt?te:F.color,oe=k.label||w._dfltTitle[H];if(c(d,x,C,Q,E),!I)return x;C("title.text",oe),o.coerceFont(C,"title.font",{family:F.family,size:o.bigFont(F.size),color:ne}),s(d,x,C,Q);var me=E.hasMinor;if(me&&(a.newContainer(x,"minor"),s(d,x,C,Q,{isMinor:!0})),r(d,x,C,Q,E),l(d,x,C,E),me){var de=E.isMinor;E.isMinor=!0,l(d,x,C,E),E.isMinor=de}v(d,x,C,{dfltColor:te,bgColor:E.bgColor,showGrid:E.showGrid,hasMinor:me,attributes:u}),me&&!x.minor.ticks&&!x.minor.showgrid&&delete x.minor,(x.showline||x.ticks)&&C("mirror"),E.automargin&&C("automargin");var ie=Q==="multicategory";if(!E.noTickson&&(Q==="category"||ie)&&(x.ticks||x.showgrid)){var Z;ie&&(Z="boundaries");var q=C("tickson",Z);q==="boundaries"&&delete x.ticklabelposition}if(ie){var K=C("showdividers");K&&(C("dividercolor"),C("dividerwidth"))}if(Q==="date")if(e(d,x,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:A}),!x.rangebreaks.length)delete x.rangebreaks;else{for(var g=0;g<x.rangebreaks.length;g++)if(x.rangebreaks[g].pattern===m){x._hasDayOfWeekBreaks=!0;break}if(y(x,w),w._has("scattergl")||w._has("splom"))for(var S=0;S<E.data.length;S++){var Y=E.data[S];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,o.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return x};function A(T,d,x){function C(J,ee){return o.coerce(T,d,u.rangebreaks,J,ee)}var E=C("enabled");if(E){var w=C("bounds");if(w&&w.length>=2){var H="",F,k;if(w.length===2){for(F=0;F<2;F++)if(k=p(w[F]),k){H=m;break}}var I=C("pattern",H);if(I===m)for(F=0;F<2;F++)k=p(w[F]),k&&(d.bounds[F]=w[F]=k-1);if(I)for(F=0;F<2;F++)switch(k=w[F],I){case m:if(!t(k)){d.enabled=!1;return}if(k=+k,k!==Math.floor(k)||k<0||k>=7){d.enabled=!1;return}d.bounds[F]=w[F]=k;break;case L:if(!t(k)){d.enabled=!1;return}if(k=+k,k<0||k>24){d.enabled=!1;return}d.bounds[F]=w[F]=k;break}if(x.autorange===!1){var U=x.range;if(U[0]<U[1]){if(w[0]<U[0]&&w[1]>U[1]){d.enabled=!1;return}}else if(w[0]>U[0]&&w[1]<U[1]){d.enabled=!1;return}}}else{var Q=C("values");if(Q&&Q.length)C("dvalue");else{d.enabled=!1;return}}}}var M={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function p(T){if(typeof T=="string")return M[T.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(f,ae,W){var t=f("../../constants/docs"),n=t.FORMAT_LINK,o=t.DATE_FORMAT_LINK;function a(s,l){return{valType:"string",dflt:"",editType:"none",description:(l?e:u)("hover text",s)+["By default the values are formatted using "+(l?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function e(s,l){return["Sets the "+s+" formatting rule"+(l?"for `"+l+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+n+"."].join(" ")}function u(s,l){return e(s,l)+[" And for dates see: "+o+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ae.exports={axisHoverFormat:a,descriptionOnlyNumbers:e,descriptionWithDates:u}},{"../../constants/docs":209}],283:[function(f,ae,W){var t=f("../../registry"),n=f("./constants");W.id2name=function(e){if(!(typeof e!="string"||!e.match(n.AX_ID_PATTERN))){var u=e.split(" ")[0].substr(1);return u==="1"&&(u=""),e.charAt(0)+"axis"+u}},W.name2id=function(e){if(!!e.match(n.AX_NAME_PATTERN)){var u=e.substr(5);return u==="1"&&(u=""),e.charAt(0)+u}},W.cleanId=function(e,u,s){var l=/( domain)$/.test(e);if(!(typeof e!="string"||!e.match(n.AX_ID_PATTERN))&&!(u&&e.charAt(0)!==u)&&!(l&&!s)){var r=e.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),e.charAt(0)+r+(l&&s?" domain":"")}},W.list=function(a,e,u){var s=a._fullLayout;if(!s)return[];var l=W.listIds(a,e),r=new Array(l.length),c;for(c=0;c<l.length;c++){var h=l[c];r[c]=s[h.charAt(0)+"axis"+h.substr(1)]}if(!u){var v=s._subplots.gl3d||[];for(c=0;c<v.length;c++){var y=s[v[c]];e?r.push(y[e+"axis"]):r.push(y.xaxis,y.yaxis,y.zaxis)}}return r},W.listIds=function(a,e){var u=a._fullLayout;if(!u)return[];var s=u._subplots;return e?s[e+"axis"]:s.xaxis.concat(s.yaxis)},W.getFromId=function(a,e,u){var s=a._fullLayout;return e=e===void 0||typeof e!="string"?e:e.replace(" domain",""),u==="x"?e=e.replace(/y[0-9]*/,""):u==="y"&&(e=e.replace(/x[0-9]*/,"")),s[W.id2name(e)]},W.getFromTrace=function(a,e,u){var s=a._fullLayout,l=null;if(t.traceIs(e,"gl3d")){var r=e.scene;r.substr(0,5)==="scene"&&(l=s[r][u+"axis"])}else l=W.getFromId(a,e[u+"axis"]||u);return l},W.idSort=function(a,e){var u=a.charAt(0),s=e.charAt(0);return u!==s?u>s?1:-1:+(a.substr(1)||1)-+(e.substr(1)||1)},W.ref2id=function(a){return/^[xyz]/.test(a)?a.split(" ")[0]:!1};function o(a,e){if(e&&e.length){for(var u=0;u<e.length;u++)if(e[u][a])return!0}return!1}W.isLinked=function(a,e){return o(e,a._axisMatchGroups)||o(e,a._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(f,ae,W){function t(n,o){var a=o.dataAttr||n._id.charAt(0),e={},u,s,l;if(o.axData)u=o.axData;else for(u=[],s=0;s<o.data.length;s++){var r=o.data[s];r[a+"axis"]===n._id&&u.push(r)}for(s=0;s<u.length;s++){var c=u[s][a];for(l=0;l<c.length;l++){var h=c[l];h!=null&&(e[h]=1)}}return Object.keys(e)}ae.exports=function(o,a,e,u){if(a.type==="category"){var s=o.categoryarray,l=Array.isArray(s)&&s.length>0,r;l&&(r="array");var c=e("categoryorder",r),h;c==="array"&&(h=e("categoryarray")),!l&&c==="array"&&(c=a.categoryorder="trace"),c==="trace"?a._initialCategories=[]:c==="array"?a._initialCategories=h.slice():(h=t(a,u).sort(),c==="category ascending"?a._initialCategories=h:c==="category descending"&&(a._initialCategories=h.reverse()))}}},{}],285:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("../../constants/numerical"),a=o.ONEDAY,e=o.ONEWEEK;W.dtick=function(u,s){var l=s==="log",r=s==="date",c=s==="category",h=r?a:1;if(!u)return h;if(t(u))return u=Number(u),u<=0?h:c?Math.max(1,Math.round(u)):r?Math.max(.1,u):u;if(typeof u!="string"||!(r||l))return h;var v=u.charAt(0),y=u.substr(1);return y=t(y)?Number(y):0,y<=0||!(r&&v==="M"&&y===Math.round(y)||l&&v==="L"||l&&v==="D"&&(y===1||y===2))?h:u},W.tick0=function(u,s,l,r){if(s==="date")return n.cleanDate(u,n.dateTick0(l,r%e===0?1:0));if(!(r==="D1"||r==="D2"))return t(u)?Number(u):0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(f,ae,W){var t=f("../../lib/regex").counter;ae.exports={idRegex:{x:t("x","( domain)?"),y:t("y","( domain)?")},attrRegex:t("[xy]axis"),xAxisMatch:t("xaxis"),yAxisMatch:t("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(f,ae,W){var t=f("../../lib"),n=f("./autorange"),o=f("./axis_ids").id2name,a=f("./layout_attributes"),e=f("./scale_zoom"),u=f("./set_convert"),s=f("../../constants/numerical").ALMOST_EQUAL,l=f("../../constants/alignment").FROM_BL;W.handleDefaults=function(A,M,p){var T=p.axIds,d=p.axHasImage,x=M._axisConstraintGroups=[],C=M._axisMatchGroups=[],E,w,H,F,k,I,U,Q;for(E=0;E<T.length;E++)F=o(T[E]),k=A[F],I=M[F],r(k,I,{axIds:T,layoutOut:M,hasImage:d[F]});function J(de,ie){for(E=0;E<de.length;E++){w=de[E];for(H in w)M[o(H)][ie]=w}}for(J(C,"_matchGroup"),E=0;E<x.length;E++){w=x[E];for(H in w)if(I=M[o(H)],I.fixedrange){for(var ee in w){var R=o(ee);(A[R]||{}).fixedrange===!1&&t.warn("fixedrange was specified as false for axis "+R+" but was overridden because another axis in its constraint group has fixedrange true"),M[R].fixedrange=!0}break}}for(E=0;E<x.length;){w=x[E];for(H in w){I=M[o(H)],I._matchGroup&&Object.keys(I._matchGroup).length===Object.keys(w).length&&(x.splice(E,1),E--);break}E++}J(x,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,te=!1;function ne(){Q=I[U],U==="rangebreaks"&&(te=I._hasDayOfWeekBreaks)}for(E=0;E<C.length;E++){w=C[E];for(var oe=0;oe<G.length;oe++){U=G[oe],Q=null;var me;for(H in w)if(F=o(H),k=A[F],I=M[F],U in I){if(!I.matches&&(me=I,U in k)){ne();break}Q===null&&U in k&&ne()}if(U==="range"&&Q&&(B=!0),U==="autorange"&&Q===null&&B&&(Q=!1),Q===null&&U in me&&(Q=me[U]),Q!==null)for(H in w)I=M[o(H)],I[U]=U==="range"?Q.slice():Q,U==="rangebreaks"&&(I._hasDayOfWeekBreaks=te,u(I,M))}}};function r(A,M,p){var T=p.axIds,d=p.layoutOut,x=p.hasImage,C=d._axisConstraintGroups,E=d._axisMatchGroups,w=M._id,H=w.charAt(0),F=((d._splomAxes||{})[H]||{})[w]||{},k=M._id,I=k.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function U(K,g){return t.coerce(A,M,a,K,g)}U("constrain",x?"domain":"range"),t.coerce(A,M,{constraintoward:{valType:"enumerated",values:I?["left","center","right"]:["bottom","middle","top"],dflt:I?"center":"middle"}},"constraintoward");var Q=M.type,J,ee,R=[];for(J=0;J<T.length;J++)if(ee=T[J],ee!==k){var G=d[o(ee)];G.type===Q&&R.push(ee)}var B=h(C,k);if(B){var te=[];for(J=0;J<R.length;J++)ee=R[J],B[ee]||te.push(ee);R=te}var ne=R.length,oe,me;ne&&(A.matches||F.matches)&&(oe=t.coerce(A,M,{matches:{valType:"enumerated",values:R,dflt:R.indexOf(F.matches)!==-1?F.matches:void 0}},"matches"));var de=x&&!I?M.anchor:void 0;if(ne&&!oe&&(A.scaleanchor||de)&&(me=t.coerce(A,M,{scaleanchor:{valType:"enumerated",values:R}},"scaleanchor",de)),oe){M._matchGroup=v(E,k,oe,1);var ie=d[o(oe)],Z=c(d,M)/c(d,ie);I!==(oe.charAt(0)==="x")&&(Z=(I?"x":"y")+Z),v(C,k,oe,Z)}else A.matches&&T.indexOf(A.matches)!==-1&&t.warn("ignored "+M._name+'.matches: "'+A.matches+'" to avoid an infinite loop');if(me){var q=U("scaleratio");q||(q=M.scaleratio=1),v(C,k,me,q)}else A.scaleanchor&&T.indexOf(A.scaleanchor)!==-1&&t.warn("ignored "+M._name+'.scaleanchor: "'+A.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function c(A,M){var p=M.domain;return p||(p=A[o(M.overlaying)].domain),p[1]-p[0]}function h(A,M){for(var p=0;p<A.length;p++)if(A[p][M])return A[p];return null}function v(A,M,p,T){var d,x,C,E,w,H=h(A,M);H===null?(H={},H[M]=1,w=A.length,A.push(H)):w=A.indexOf(H);var F=Object.keys(H);for(d=0;d<A.length;d++)if(C=A[d],d!==w&&C[p]){var k=C[p];for(x=0;x<F.length;x++)E=F[x],C[E]=y(k,y(T,H[E]));A.splice(w,1);return}if(T!==1)for(x=0;x<F.length;x++){var I=F[x];H[I]=y(T,H[I])}H[p]=1}function y(A,M){var p="",T="",d,x;typeof A=="string"&&(p=A.match(/^[xy]*/)[0],d=p.length,A=+A.substr(d)),typeof M=="string"&&(T=M.match(/^[xy]*/)[0],x=T.length,M=+M.substr(x));var C=A*M;return!d&&!x?C:!d||!x||p.charAt(0)===T.charAt(0)?p+T+A*M:d===x?C:(d>x?p.substr(x):T.substr(d))+C}function m(A,M){for(var p=M._size,T=p.h/p.w,d={},x=Object.keys(A),C=0;C<x.length;C++){var E=x[C],w=A[E];if(typeof w=="string"){var H=w.match(/^[xy]*/)[0],F=H.length;w=+w.substr(F);for(var k=H.charAt(0)==="y"?T:1/T,I=0;I<F;I++)w*=k}d[E]=w}return d}W.enforce=function(M){var p=M._fullLayout,T=p._axisConstraintGroups||[],d,x,C,E,w,H,F,k;for(d=0;d<T.length;d++){C=m(T[d],p);var I=Object.keys(C),U=1/0,Q=0,J=1/0,ee={},R={},G=!1;for(x=0;x<I.length;x++)E=I[x],R[E]=w=p[o(E)],w._inputDomain?w.domain=w._inputDomain.slice():w._inputDomain=w.domain.slice(),w._inputRange||(w._inputRange=w.range.slice()),w.setScale(),ee[E]=H=Math.abs(w._m)/C[E],U=Math.min(U,H),(w.constrain==="domain"||!w._constraintShrinkable)&&(J=Math.min(J,H)),delete w._constraintShrinkable,Q=Math.max(Q,H),w.constrain==="domain"&&(G=!0);if(!(U>s*Q&&!G)){for(x=0;x<I.length;x++)if(E=I[x],H=ee[E],w=R[E],F=w.constrain,H!==J||F==="domain")if(k=H/J,F==="range")e(w,k);else{var B=w._inputDomain,te=(w.domain[1]-w.domain[0])/(B[1]-B[0]),ne=(w.r2l(w.range[1])-w.r2l(w.range[0]))/(w.r2l(w._inputRange[1])-w.r2l(w._inputRange[0]));if(k/=te,k*ne<1){w.domain=w._input.domain=B.slice(),e(w,k);continue}if(ne<1&&(w.range=w._input.range=w._inputRange.slice(),k*=ne),w.autorange){var oe=w.r2l(w.range[0]),me=w.r2l(w.range[1]),de=(oe+me)/2,ie=de,Z=de,q=Math.abs(me-de),K=de-q*k*1.0001,g=de+q*k*1.0001,S=n.makePadFn(p,w,0),Y=n.makePadFn(p,w,1);L(w,k);var z=Math.abs(w._m),_=n.concatExtremes(M,w),O=_.min,N=_.max,P,j;for(j=0;j<O.length;j++)P=O[j].val-S(O[j])/z,P>K&&P<ie&&(ie=P);for(j=0;j<N.length;j++)P=N[j].val+Y(N[j])/z,P<g&&P>Z&&(Z=P);var se=(Z-ie)/(2*q);k/=se,ie=w.l2r(ie),Z=w.l2r(Z),w.range=w._input.range=oe<me?[ie,Z]:[Z,ie]}L(w,k)}}}},W.getAxisGroup=function(M,p){for(var T=M._axisMatchGroups,d=0;d<T.length;d++){var x=T[d];if(x[p])return"g"+d}return p},W.clean=function(M,p){if(p._inputDomain){for(var T=!1,d=p._id,x=M._fullLayout._axisConstraintGroups,C=0;C<x.length;C++)if(x[C][d]){T=!0;break}(!T||p.constrain!=="domain")&&(p._input.domain=p.domain=p._inputDomain,delete p._inputDomain)}};function L(A,M){var p=A._inputDomain,T=l[A.constraintoward],d=p[0]+(p[1]-p[0])*T;A.domain=A._input.domain=[d+(p[0]-d)/M,d+(p[1]-d)/M],A.setScale()}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../lib"),o=n.numberFormat,a=f("tinycolor2"),e=f("has-passive-events"),u=f("../../registry"),s=n.strTranslate,l=f("../../lib/svg_text_utils"),r=f("../../components/color"),c=f("../../components/drawing"),h=f("../../components/fx"),v=f("./axes"),y=f("../../lib/setcursor"),m=f("../../components/dragelement"),L=f("../../components/dragelement/helpers"),A=L.selectingOrDrawing,M=L.freeMode,p=f("../../constants/alignment").FROM_TL,T=f("../../lib/clear_gl_canvases"),d=f("../../plot_api/subroutines").redrawReglTraces,x=f("../plots"),C=f("./axis_ids").getFromId,E=f("./select").prepSelect,w=f("./select").clearSelect,H=f("./select").selectOnClick,F=f("./scale_zoom"),k=f("./constants"),I=k.MINDRAG,U=k.MINZOOM,Q=!0;function J(P,j,se,ce,fe,pe,be,Re){var ke=P._fullLayout._zoomlayer,Oe=be+Re==="nsew",Be=(be+Re).length===1,Ae,ge,Ee,Ve,xt,Ye,Xe,Je,ft,yt,At,qe,mt,st,gt,Ct,Ce,ze,et,ve,we,Me,De;function je(){if(Ae=j.xaxis,ge=j.yaxis,ft=Ae._length,yt=ge._length,Xe=Ae._offset,Je=ge._offset,Ee={},Ee[Ae._id]=Ae,Ve={},Ve[ge._id]=ge,be&&Re)for(var dt=j.overlays,rt=0;rt<dt.length;rt++){var kt=dt[rt].xaxis;Ee[kt._id]=kt;var Rt=dt[rt].yaxis;Ve[Rt._id]=Rt}xt=N(Ee),Ye=N(Ve),mt=G(xt,Re),st=G(Ye,be),gt=!st&&!mt,qe=_(P,P._fullLayout._axisMatchGroups,Ee,Ve),At=_(P,P._fullLayout._axisConstraintGroups,Ee,Ve,qe);var nt=At.isSubplotConstrained||qe.isSubplotConstrained;Ct=Re||nt,Ce=be||nt;var Mt=P._fullLayout;ze=Mt._has("scattergl"),et=Mt._has("splom"),ve=Mt._has("svg")}je();var We=me(st+mt,P._fullLayout.dragmode,Oe),ht=R(j,be+Re+"drag",We,se,ce,fe,pe);if(gt&&!Oe)return ht.onmousedown=null,ht.style.pointerEvents="none",ht;var vt={element:ht,gd:P,plotinfo:j};vt.prepFn=function(dt,rt,kt){var Rt=vt.dragmode,nt=P._fullLayout.dragmode;nt!==Rt&&(vt.dragmode=nt),je(),Me=P._fullLayout._invScaleX,De=P._fullLayout._invScaleY,gt||(Oe?dt.shiftKey?nt==="pan"?nt="zoom":A(nt)||(nt="pan"):dt.ctrlKey&&(nt="pan"):nt="pan"),M(nt)?vt.minDrag=1:vt.minDrag=void 0,A(nt)?(vt.xaxes=xt,vt.yaxes=Ye,E(dt,rt,kt,vt,nt)):(vt.clickFn=Ze,A(Rt)&&it(),gt||(nt==="zoom"?(vt.moveFn=Ot,vt.doneFn=jt,vt.minDrag=1,Wt(dt,rt,kt)):nt==="pan"&&(vt.moveFn=Se,vt.doneFn=tt))),P._fullLayout._redrag=function(){var Mt=P._dragdata;if(Mt&&Mt.element===ht){var Et=P._fullLayout.dragmode;A(Et)||(je(),at([0,0,ft,yt]),vt.moveFn(Mt.dx,Mt.dy))}}};function it(){vt.plotinfo.selection=!1,w(P)}function Ze(dt,rt){var kt=vt.gd;if(kt._fullLayout._activeShapeIndex>=0){kt._fullLayout._deactivateShape(kt);return}var Rt=kt._fullLayout.clickmode;if(K(kt),dt===2&&!Be&&Ue(),Oe)Rt.indexOf("select")>-1&&H(rt,kt,xt,Ye,j.id,vt),Rt.indexOf("event")>-1&&h.click(kt,rt,j.id);else if(dt===1&&Be){var nt=be?ge:Ae,Mt=be==="s"||Re==="w"?0:1,Et=nt._name+".range["+Mt+"]",pt=B(nt,Mt),Dt="left",Ht="middle";if(nt.fixedrange)return;be?(Ht=be==="n"?"top":"bottom",nt.side==="right"&&(Dt="right")):Re==="e"&&(Dt="right"),kt._context.showAxisRangeEntryBoxes&&t.select(ht).call(l.makeEditable,{gd:kt,immediate:!0,background:kt._fullLayout.paper_bgcolor,text:String(pt),fill:nt.tickfont?nt.tickfont.color:"#444",horizontalAlign:Dt,verticalAlign:Ht}).on("edit",function(Yt){var Pt=nt.d2r(Yt);Pt!==void 0&&u.call("_guiRelayout",kt,Et,Pt)})}}m.init(vt);var _t,Lt,wt,Gt,Kt,$t,It,Bt,zt,ct;function Wt(dt,rt,kt){var Rt=ht.getBoundingClientRect();_t=rt-Rt.left,Lt=kt-Rt.top,P._fullLayout._calcInverseTransform(P);var nt=n.apply3DTransform(P._fullLayout._invTransform)(_t,Lt);_t=nt[0],Lt=nt[1],wt={l:_t,r:_t,w:0,t:Lt,b:Lt,h:0},Gt=P._hmpixcount?P._hmlumcount/P._hmpixcount:a(P._fullLayout.plot_bgcolor).getLuminance(),Kt="M0,0H"+ft+"V"+yt+"H0V0",$t=!1,It="xy",ct=!1,Bt=de(ke,Gt,Xe,Je,Kt),zt=ie(ke,Xe,Je)}function Ot(dt,rt){if(P._transitioningWithDuration)return!1;var kt=Math.max(0,Math.min(ft,Me*dt+_t)),Rt=Math.max(0,Math.min(yt,De*rt+Lt)),nt=Math.abs(kt-_t),Mt=Math.abs(Rt-Lt);wt.l=Math.min(_t,kt),wt.r=Math.max(_t,kt),wt.t=Math.min(Lt,Rt),wt.b=Math.max(Lt,Rt);function Et(){It="",wt.r=wt.l,wt.t=wt.b,zt.attr("d","M0,0Z")}if(At.isSubplotConstrained)nt>U||Mt>U?(It="xy",nt/ft>Mt/yt?(Mt=nt*yt/ft,Lt>Rt?wt.t=Lt-Mt:wt.b=Lt+Mt):(nt=Mt*ft/yt,_t>kt?wt.l=_t-nt:wt.r=_t+nt),zt.attr("d",z(wt))):Et();else if(qe.isSubplotConstrained)if(nt>U||Mt>U){It="xy";var pt=Math.min(wt.l/ft,(yt-wt.b)/yt),Dt=Math.max(wt.r/ft,(yt-wt.t)/yt);wt.l=pt*ft,wt.r=Dt*ft,wt.b=(1-pt)*yt,wt.t=(1-Dt)*yt,zt.attr("d",z(wt))}else Et();else!st||Mt<Math.min(Math.max(nt*.6,I),U)?nt<I||!mt?Et():(wt.t=0,wt.b=yt,It="x",zt.attr("d",S(wt,Lt))):!mt||nt<Math.min(Mt*.6,U)?(wt.l=0,wt.r=ft,It="y",zt.attr("d",Y(wt,_t))):(It="xy",zt.attr("d",z(wt)));wt.w=wt.r-wt.l,wt.h=wt.b-wt.t,It&&(ct=!0),P._dragged=ct,Z(Bt,zt,wt,Kt,$t,Gt),Jt(),P.emit("plotly_relayouting",we),$t=!0}function Jt(){we={},(It==="xy"||It==="x")&&(te(xt,wt.l/ft,wt.r/ft,we,At.xaxes),Fe("x",we)),(It==="xy"||It==="y")&&(te(Ye,(yt-wt.b)/yt,(yt-wt.t)/yt,we,At.yaxes),Fe("y",we))}function jt(){Jt(),K(P),tt(),g(P)}var St=[0,0,ft,yt],le=null,re=k.REDRAWDELAY,Le=j.mainplot?P._fullLayout._plots[j.mainplot]:j;function Te(dt){if(!P._context._scrollZoom.cartesian&&!P._fullLayout._enablescrollzoom)return;if(it(),P._transitioningWithDuration){dt.preventDefault(),dt.stopPropagation();return}je(),clearTimeout(le);var rt=-dt.deltaY;if(isFinite(rt)||(rt=dt.wheelDelta/10),!isFinite(rt)){n.log("Did not find wheel motion attributes: ",dt);return}var kt=Math.exp(-Math.min(Math.max(rt,-20),20)/200),Rt=Le.draglayer.select(".nsewdrag").node().getBoundingClientRect(),nt=(dt.clientX-Rt.left)/Rt.width,Mt=(Rt.bottom-dt.clientY)/Rt.height,Et;function pt(Dt,Ht,Yt){if(Dt.fixedrange)return;var Pt=n.simpleMap(Dt.range,Dt.r2l),nr=Pt[0]+(Pt[1]-Pt[0])*Ht;function lr(Xt){return Dt.l2r(nr+(Xt-nr)*Yt)}Dt.range=Pt.map(lr)}if(Ct){for(Re||(nt=.5),Et=0;Et<xt.length;Et++)pt(xt[Et],nt,kt);Fe("x"),St[2]*=kt,St[0]+=St[2]*nt*(1/kt-1)}if(Ce){for(be||(Mt=.5),Et=0;Et<Ye.length;Et++)pt(Ye[Et],Mt,kt);Fe("y"),St[3]*=kt,St[1]+=St[3]*(1-Mt)*(1/kt-1)}at(St),Ie(),P.emit("plotly_relayouting",we),le=setTimeout(function(){!P._fullLayout||(St=[0,0,ft,yt],tt())},re),dt.preventDefault()}be.length*Re.length!==1&&O(ht,Te);function Se(dt,rt){if(dt=dt*Me,rt=rt*De,P._transitioningWithDuration)return;if(P._fullLayout._replotting=!0,mt==="ew"||st==="ns"){var kt=mt?-dt:0,Rt=st?-rt:0;if(qe.isSubplotConstrained){if(mt&&st){var nt=(dt/ft-rt/yt)/2;dt=nt*ft,rt=-nt*yt,kt=-dt,Rt=-rt}st?kt=-Rt*ft/yt:Rt=-kt*yt/ft}mt&&(ne(xt,dt),Fe("x")),st&&(ne(Ye,rt),Fe("y")),at([kt,Rt,ft,yt]),Ie(),P.emit("plotly_relayouting",we);return}function Mt(lr,Xt,tr){for(var rr=1-Xt,ir,hr,mr=0;mr<lr.length;mr++){var dr=lr[mr];if(!dr.fixedrange){ir=dr,hr=dr._rl[rr]+(dr._rl[Xt]-dr._rl[rr])/oe(tr/dr._length);var br=dr.l2r(hr);br!==!1&&br!==void 0&&(dr.range[Xt]=br)}}return ir._length*(ir._rl[Xt]-hr)/(ir._rl[Xt]-ir._rl[rr])}var Et=mt==="w"==(st==="n")?1:-1;if(mt&&st&&(At.isSubplotConstrained||qe.isSubplotConstrained)){var pt=(dt/ft+Et*rt/yt)/2;dt=pt*ft,rt=Et*pt*yt}var Dt,Ht;if(mt==="w"?dt=Mt(xt,0,dt):mt==="e"?dt=Mt(xt,1,-dt):mt||(dt=0),st==="n"?rt=Mt(Ye,1,rt):st==="s"?rt=Mt(Ye,0,-rt):st||(rt=0),Dt=mt==="w"?dt:0,Ht=st==="n"?rt:0,At.isSubplotConstrained&&!qe.isSubplotConstrained||qe.isSubplotConstrained&&mt&&st&&Et>0){var Yt;if(qe.isSubplotConstrained||!mt&&st.length===1){for(Yt=0;Yt<xt.length;Yt++)xt[Yt].range=xt[Yt]._r.slice(),F(xt[Yt],1-rt/yt);dt=rt*ft/yt,Dt=dt/2}if(qe.isSubplotConstrained||!st&&mt.length===1){for(Yt=0;Yt<Ye.length;Yt++)Ye[Yt].range=Ye[Yt]._r.slice(),F(Ye[Yt],1-dt/ft);rt=dt*yt/ft,Ht=rt/2}}(!qe.isSubplotConstrained||!st)&&Fe("x"),(!qe.isSubplotConstrained||!mt)&&Fe("y");var Pt=ft-dt,nr=yt-rt;qe.isSubplotConstrained&&!(mt&&st)&&(mt?(Ht=Dt?0:dt*yt/ft,nr=Pt*yt/ft):(Dt=Ht?0:rt*ft/yt,Pt=nr*ft/yt)),at([Dt,Ht,Pt,nr]),Ie(),P.emit("plotly_relayouting",we)}function Fe(dt,rt){for(var kt=qe.isSubplotConstrained?{x:Ye,y:xt}[dt]:qe[dt+"axes"],Rt=qe.isSubplotConstrained?{x:xt,y:Ye}[dt]:[],nt=0;nt<kt.length;nt++){var Mt=kt[nt],Et=Mt._id,pt=qe.xLinks[Et]||qe.yLinks[Et],Dt=Rt[0]||Ee[pt]||Ve[pt];Dt&&(rt?(rt[Mt._name+".range[0]"]=rt[Dt._name+".range[0]"],rt[Mt._name+".range[1]"]=rt[Dt._name+".range[1]"]):Mt.range=Dt.range.slice())}}function Ie(){var dt=[],rt;function kt(Mt){for(rt=0;rt<Mt.length;rt++)Mt[rt].fixedrange||dt.push(Mt[rt]._id)}for(Ct&&(kt(xt),kt(At.xaxes),kt(qe.xaxes)),Ce&&(kt(Ye),kt(At.yaxes),kt(qe.yaxes)),we={},rt=0;rt<dt.length;rt++){var Rt=dt[rt],nt=C(P,Rt);v.drawOne(P,nt,{skipTitle:!0}),we[nt._name+".range[0]"]=nt.range[0],we[nt._name+".range[1]"]=nt.range[1]}v.redrawComponents(P,dt)}function Ue(){if(!P._transitioningWithDuration){var dt=P._context.doubleClick,rt=[];mt&&(rt=rt.concat(xt)),st&&(rt=rt.concat(Ye)),qe.xaxes&&(rt=rt.concat(qe.xaxes)),qe.yaxes&&(rt=rt.concat(qe.yaxes));var kt={},Rt,nt,Mt;if(dt==="reset+autosize"){for(dt="autosize",nt=0;nt<rt.length;nt++)if(Rt=rt[nt],Rt._rangeInitial&&(Rt.range[0]!==Rt._rangeInitial[0]||Rt.range[1]!==Rt._rangeInitial[1])||!Rt._rangeInitial&&!Rt.autorange){dt="reset";break}}if(dt==="autosize")for(nt=0;nt<rt.length;nt++)Rt=rt[nt],Rt.fixedrange||(kt[Rt._name+".autorange"]=!0);else if(dt==="reset")for((mt||At.isSubplotConstrained)&&(rt=rt.concat(At.xaxes)),st&&!At.isSubplotConstrained&&(rt=rt.concat(At.yaxes)),At.isSubplotConstrained&&(mt?st||(rt=rt.concat(Ye)):rt=rt.concat(xt)),nt=0;nt<rt.length;nt++)Rt=rt[nt],Rt.fixedrange||(Rt._rangeInitial?(Mt=Rt._rangeInitial,kt[Rt._name+".range[0]"]=Mt[0],kt[Rt._name+".range[1]"]=Mt[1]):kt[Rt._name+".autorange"]=!0);P.emit("plotly_doubleclick",null),u.call("_guiRelayout",P,kt)}}function tt(){at([0,0,ft,yt]),n.syncOrAsync([x.previousPromises,function(){P._fullLayout._replotting=!1,u.call("_guiRelayout",P,we)}],P)}function at(dt){var rt=P._fullLayout,kt=rt._plots,Rt=rt._subplots.cartesian,nt,Mt,Et,pt;if(et&&u.subplotsRegistry.splom.drag(P),ze){for(nt=0;nt<Rt.length;nt++)if(Mt=kt[Rt[nt]],Et=Mt.xaxis,pt=Mt.yaxis,Mt._scene){var Dt=n.simpleMap(Et.range,Et.r2l),Ht=n.simpleMap(pt.range,pt.r2l);Mt._scene.update({range:[Dt[0],Ht[0],Dt[1],Ht[1]]})}}if((et||ze)&&(T(P),d(P)),ve){var Yt=dt[2]/Ae._length,Pt=dt[3]/ge._length;for(nt=0;nt<Rt.length;nt++){Mt=kt[Rt[nt]],Et=Mt.xaxis,pt=Mt.yaxis;var nr=(Ct||qe.isSubplotConstrained)&&!Et.fixedrange&&Ee[Et._id],lr=(Ce||qe.isSubplotConstrained)&&!pt.fixedrange&&Ve[pt._id],Xt,tr,rr,ir;if(nr?(Xt=Yt,rr=Re||qe.isSubplotConstrained?dt[0]:Ft(Et,Xt)):qe.xaHash[Et._id]?(Xt=Yt,rr=dt[0]*Et._length/Ae._length):qe.yaHash[Et._id]?(Xt=Pt,rr=st==="ns"?-dt[1]*Et._length/ge._length:Ft(Et,Xt,{n:"top",s:"bottom"}[st])):(Xt=bt(Et,Yt,Pt),rr=Tt(Et,Xt)),lr?(tr=Pt,ir=be||qe.isSubplotConstrained?dt[1]:Ft(pt,tr)):qe.yaHash[pt._id]?(tr=Pt,ir=dt[1]*pt._length/ge._length):qe.xaHash[pt._id]?(tr=Yt,ir=mt==="ew"?-dt[0]*pt._length/Ae._length:Ft(pt,tr,{e:"right",w:"left"}[mt])):(tr=bt(pt,Yt,Pt),ir=Tt(pt,tr)),!(!Xt&&!tr)){Xt||(Xt=1),tr||(tr=1);var hr=Et._offset-rr/Xt,mr=pt._offset-ir/tr;Mt.clipRect.call(c.setTranslate,rr,ir).call(c.setScale,Xt,tr),Mt.plot.call(c.setTranslate,hr,mr).call(c.setScale,1/Xt,1/tr),(Xt!==Mt.xScaleFactor||tr!==Mt.yScaleFactor)&&(c.setPointGroupScale(Mt.zoomScalePts,Xt,tr),c.setTextPointsScale(Mt.zoomScaleTxt,Xt,tr)),c.hideOutsideRangePoints(Mt.clipOnAxisFalseTraces,Mt),Mt.xScaleFactor=Xt,Mt.yScaleFactor=tr}}}}function bt(dt,rt,kt){return dt.fixedrange?0:Ct&&At.xaHash[dt._id]?rt:Ce&&(At.isSubplotConstrained?At.xaHash:At.yaHash)[dt._id]?kt:0}function Tt(dt,rt){return rt?(dt.range=dt._r.slice(),F(dt,rt),Ft(dt,rt)):0}function Ft(dt,rt,kt){return dt._length*(1-rt)*p[kt||dt.constraintoward||"middle"]}return ht}function ee(P,j,se,ce){var fe=n.ensureSingle(P.draglayer,j,se,function(pe){pe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",P.id)});return fe.call(y,ce),fe.node()}function R(P,j,se,ce,fe,pe,be){var Re=ee(P,"rect",j,se);return t.select(Re).call(c.setRect,ce,fe,pe,be),Re}function G(P,j){for(var se=0;se<P.length;se++)if(!P[se].fixedrange)return j;return""}function B(P,j){var se=P.range[j],ce=Math.abs(se-P.range[1-j]),fe;return P.type==="date"?se:P.type==="log"?(fe=Math.ceil(Math.max(0,-Math.log(ce)/Math.LN10))+3,o("."+fe+"g")(Math.pow(10,se))):(fe=Math.floor(Math.log(Math.abs(se))/Math.LN10)-Math.floor(Math.log(ce)/Math.LN10)+4,o("."+String(fe)+"g")(se))}function te(P,j,se,ce,fe){for(var pe=0;pe<P.length;pe++){var be=P[pe];if(!be.fixedrange)if(be.rangebreaks){var Re=be._id.charAt(0)==="y",ke=Re?1-j:j,Oe=Re?1-se:se;ce[be._name+".range[0]"]=be.l2r(be.p2l(ke*be._length)),ce[be._name+".range[1]"]=be.l2r(be.p2l(Oe*be._length))}else{var Be=be._rl[0],Ae=be._rl[1]-Be;ce[be._name+".range[0]"]=be.l2r(Be+Ae*j),ce[be._name+".range[1]"]=be.l2r(Be+Ae*se)}}if(fe&&fe.length){var ge=(j+(1-se))/2;te(fe,ge,1-ge,ce,[])}}function ne(P,j){for(var se=0;se<P.length;se++){var ce=P[se];if(!ce.fixedrange)if(ce.rangebreaks){var fe=0,pe=ce._length,be=ce.p2l(fe+j)-ce.p2l(fe),Re=ce.p2l(pe+j)-ce.p2l(pe),ke=(be+Re)/2;ce.range=[ce.l2r(ce._rl[0]-ke),ce.l2r(ce._rl[1]-ke)]}else ce.range=[ce.l2r(ce._rl[0]-j/ce._m),ce.l2r(ce._rl[1]-j/ce._m)]}}function oe(P){return 1-(P>=0?Math.min(P,.9):1/(1/Math.max(P,-.3)+3.222))}function me(P,j,se){return P?P==="nsew"?se?"":j==="pan"?"move":"crosshair":P.toLowerCase()+"-resize":"pointer"}function de(P,j,se,ce,fe){return P.append("path").attr("class","zoombox").style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(se,ce)).attr("d",fe+"Z")}function ie(P,j,se){return P.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(j,se)).attr("d","M0,0Z")}function Z(P,j,se,ce,fe,pe){P.attr("d",ce+"M"+se.l+","+se.t+"v"+se.h+"h"+se.w+"v-"+se.h+"h-"+se.w+"Z"),q(P,j,fe,pe)}function q(P,j,se,ce){se||(P.transition().style("fill",ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200))}function K(P){t.select(P).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function g(P){Q&&P.data&&P._context.showTips&&(n.notifier(n._(P,"Double-click to zoom back out"),"long"),Q=!1)}function S(P,j){return"M"+(P.l-.5)+","+(j-U-.5)+"h-3v"+(2*U+1)+"h3ZM"+(P.r+.5)+","+(j-U-.5)+"h3v"+(2*U+1)+"h-3Z"}function Y(P,j){return"M"+(j-U-.5)+","+(P.t-.5)+"v-3h"+(2*U+1)+"v3ZM"+(j-U-.5)+","+(P.b+.5)+"v3h"+(2*U+1)+"v-3Z"}function z(P){var j=Math.floor(Math.min(P.b-P.t,P.r-P.l,U)/2);return"M"+(P.l-3.5)+","+(P.t-.5+j)+"h3v"+-j+"h"+j+"v-3h-"+(j+3)+"ZM"+(P.r+3.5)+","+(P.t-.5+j)+"h-3v"+-j+"h"+-j+"v-3h"+(j+3)+"ZM"+(P.r+3.5)+","+(P.b+.5-j)+"h-3v"+j+"h"+-j+"v3h"+(j+3)+"ZM"+(P.l-3.5)+","+(P.b+.5-j)+"h3v"+j+"h"+j+"v3h-"+(j+3)+"Z"}function _(P,j,se,ce,fe){for(var pe=!1,be={},Re={},ke,Oe,Be,Ae,ge=(fe||{}).xaHash,Ee=(fe||{}).yaHash,Ve=0;Ve<j.length;Ve++){var xt=j[Ve];for(ke in se)if(xt[ke]){for(Be in xt)!(fe&&(ge[Be]||Ee[Be]))&&!(Be.charAt(0)==="x"?se:ce)[Be]&&(be[Be]=ke);for(Oe in ce)!(fe&&(ge[Oe]||Ee[Oe]))&&xt[Oe]&&(pe=!0)}for(Oe in ce)if(xt[Oe])for(Ae in xt)!(fe&&(ge[Ae]||Ee[Ae]))&&!(Ae.charAt(0)==="x"?se:ce)[Ae]&&(Re[Ae]=Oe)}pe&&(n.extendFlat(be,Re),Re={});var Ye={},Xe=[];for(Be in be){var Je=C(P,Be);Xe.push(Je),Ye[Je._id]=Je}var ft={},yt=[];for(Ae in Re){var At=C(P,Ae);yt.push(At),ft[At._id]=At}return{xaHash:Ye,yaHash:ft,xaxes:Xe,yaxes:yt,xLinks:be,yLinks:Re,isSubplotConstrained:pe}}function O(P,j){if(!e)P.onwheel!==void 0?P.onwheel=j:P.onmousewheel!==void 0?P.onmousewheel=j:P.isAddedWheelEvent||(P.isAddedWheelEvent=!0,P.addEventListener("wheel",j,{passive:!1}));else{var se=P.onwheel!==void 0?"wheel":"mousewheel";P._onwheel&&P.removeEventListener(se,P._onwheel),P._onwheel=j,P.addEventListener(se,j,{passive:!1})}}function N(P){var j=[];for(var se in P)j.push(P[se]);return j}ae.exports={makeDragBox:J,makeDragger:ee,makeRectDragger:R,makeZoombox:de,makeCorners:ie,updateZoombox:Z,xyCorners:z,transitionZoombox:q,removeZoombox:K,showDoubleClickNotifier:g,attachWheelEventHandler:O}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../components/fx"),o=f("../../components/dragelement"),a=f("../../lib/setcursor"),e=f("./dragbox").makeDragBox,u=f("./constants").DRAGGERSIZE;W.initInteractions=function(l){var r=l._fullLayout;if(l._context.staticPlot){t.select(l).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var c=Object.keys(r._plots||{}).sort(function(v,y){if((r._plots[v].mainplot&&!0)===(r._plots[y].mainplot&&!0)){var m=v.split("y"),L=y.split("y");return m[0]===L[0]?Number(m[1]||1)-Number(L[1]||1):Number(m[0]||1)-Number(L[0]||1)}return r._plots[v].mainplot?1:-1});c.forEach(function(v){var y=r._plots[v],m=y.xaxis,L=y.yaxis;if(!y.mainplot){var A=e(l,y,m._offset,L._offset,m._length,L._length,"ns","ew");A.onmousemove=function(T){l._fullLayout._rehover=function(){l._fullLayout._hoversubplot===v&&l._fullLayout._plots[v]&&n.hover(l,T,v)},n.hover(l,T,v),l._fullLayout._lasthover=A,l._fullLayout._hoversubplot=v},A.onmouseout=function(T){l._dragging||(l._fullLayout._hoversubplot=null,o.unhover(l,T))},l._context.showAxisDragHandles&&(e(l,y,m._offset-u,L._offset-u,u,u,"n","w"),e(l,y,m._offset+m._length,L._offset-u,u,u,"n","e"),e(l,y,m._offset-u,L._offset+L._length,u,u,"s","w"),e(l,y,m._offset+m._length,L._offset+L._length,u,u,"s","e"))}if(l._context.showAxisDragHandles){if(v===m._mainSubplot){var M=m._mainLinePosition;m.side==="top"&&(M-=u),e(l,y,m._offset+m._length*.1,M,m._length*.8,u,"","ew"),e(l,y,m._offset,M,m._length*.1,u,"","w"),e(l,y,m._offset+m._length*.9,M,m._length*.1,u,"","e")}if(v===L._mainSubplot){var p=L._mainLinePosition;L.side!=="right"&&(p-=u),e(l,y,p,L._offset+L._length*.1,u,L._length*.8,"ns",""),e(l,y,p,L._offset+L._length*.9,u,L._length*.1,"s",""),e(l,y,p,L._offset,u,L._length*.1,"n","")}}});var h=r._hoverlayer.node();h.onmousemove=function(v){v.target=l._fullLayout._lasthover,n.hover(l,v,r._hoversubplot)},h.onclick=function(v){v.target=l._fullLayout._lasthover,n.click(l,v)},h.onmousedown=function(v){l._fullLayout._lasthover.onmousedown(v)},W.updateFx(l)}},W.updateFx=function(s){var l=s._fullLayout,r=l.dragmode==="pan"?"move":"crosshair";a(l._draggers,r)}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(f,ae,W){function t(o){var a=o._fullLayout._zoomlayer;a&&a.selectAll(".outline-controllers").remove()}function n(o){var a=o._fullLayout._zoomlayer;a&&a.selectAll(".select-outline").remove(),o._fullLayout._drawing=!1}ae.exports={clearOutlineControllers:t,clearSelect:n}},{}],291:[function(f,ae,W){var t=f("../../lib").strTranslate;function n(u,s){switch(u.type){case"log":return u.p2d(s);case"date":return u.p2r(s,0,u.calendar);default:return u.p2r(s)}}function o(u,s){switch(u.type){case"log":return u.d2p(s);case"date":return u.r2p(s,0,u.calendar);default:return u.r2p(s)}}function a(u){var s=u._id.charAt(0)==="y"?1:0;return function(l){return n(u,l[s])}}function e(u){return t(u.xaxis._offset,u.yaxis._offset)}ae.exports={p2r:n,r2p:o,axValue:a,getTransform:e}},{"../../lib":232}],292:[function(f,ae,W){var t=f("../../registry"),n=f("../../lib"),o=f("./axis_ids");ae.exports=function(e){return function(s,l){var r=s[e];if(!!Array.isArray(r))for(var c=t.subplotsRegistry.cartesian,h=c.idRegex,v=l._subplots,y=v.xaxis,m=v.yaxis,L=v.cartesian,A=l._has("cartesian")||l._has("gl2d"),M=0;M<r.length;M++){var p=r[M];if(!!n.isPlainObject(p)){var T=o.cleanId(p.xref,"x",!1),d=o.cleanId(p.yref,"y",!1),x=h.x.test(T),C=h.y.test(d);if(x||C){A||n.pushUnique(l._basePlotModules,c);var E=!1;x&&y.indexOf(T)===-1&&(y.push(T),E=!0),C&&m.indexOf(d)===-1&&(m.push(d),E=!0),E&&x&&C&&L.push(T+d)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../lib"),a=f("../plots"),e=f("../../components/drawing"),u=f("../get_data").getModuleCalcData,s=f("./axis_ids"),l=f("./constants"),r=f("../../constants/xmlns_namespaces"),c=o.ensureSingle;function h(M,p,T){return o.ensureSingle(M,p,T,function(d){d.datum(T)})}W.name="cartesian",W.attr=["xaxis","yaxis"],W.idRoot=["x","y"],W.idRegex=l.idRegex,W.attrRegex=l.attrRegex,W.attributes=f("./attributes"),W.layoutAttributes=f("./layout_attributes"),W.supplyLayoutDefaults=f("./layout_defaults"),W.transitionAxes=f("./transition_axes"),W.finalizeSubplots=function(M,p){var T=p._subplots,d=T.xaxis,x=T.yaxis,C=T.cartesian,E=C.concat(T.gl2d||[]),w={},H={},F,k,I;for(F=0;F<E.length;F++){var U=E[F].split("y");w[U[0]]=1,H["y"+U[1]]=1}for(F=0;F<d.length;F++)k=d[F],w[k]||(I=(M[s.id2name(k)]||{}).anchor,l.idRegex.y.test(I)||(I="y"),C.push(k+I),E.push(k+I),H[I]||(H[I]=1,o.pushUnique(x,I)));for(F=0;F<x.length;F++)I=x[F],H[I]||(k=(M[s.id2name(I)]||{}).anchor,l.idRegex.x.test(k)||(k="x"),C.push(k+I),E.push(k+I),w[k]||(w[k]=1,o.pushUnique(d,k)));if(!E.length){k="",I="";for(var Q in M)if(l.attrRegex.test(Q)){var J=Q.charAt(0);J==="x"?(!k||+Q.substr(5)<+k.substr(5))&&(k=Q):(!I||+Q.substr(5)<+I.substr(5))&&(I=Q)}k=k?s.name2id(k):"x",I=I?s.name2id(I):"y",d.push(k),x.push(I),C.push(k+I)}},W.plot=function(M,p,T,d){var x=M._fullLayout,C=x._subplots.cartesian,E=M.calcdata,w;if(!Array.isArray(p))for(p=[],w=0;w<E.length;w++)p.push(w);for(w=0;w<C.length;w++){for(var H=C[w],F=x._plots[H],k=[],I,U=0;U<E.length;U++){var Q=E[U],J=Q[0].trace;J.xaxis+J.yaxis===H&&((p.indexOf(J.index)!==-1||J.carpet)&&(I&&I[0].trace.xaxis+I[0].trace.yaxis===H&&["tonextx","tonexty","tonext"].indexOf(J.fill)!==-1&&k.indexOf(I)===-1&&k.push(I),k.push(Q)),I=Q)}v(M,F,k,T,d)}};function v(M,p,T,d,x){for(var C=l.traceLayerClasses,E=M._fullLayout,w=E._modules,H,F,k,I=[],U=[],Q=0;Q<w.length;Q++){H=w[Q];var J=H.name,ee=n.modules[J].categories;if(ee.svg){var R=H.layerName||J+"layer",G=H.plot;F=u(T,G),k=F[0],T=F[1],k.length&&I.push({i:C.indexOf(R),className:R,plotMethod:G,cdModule:k}),ee.zoomScale&&U.push("."+R)}}I.sort(function(ne,oe){return ne.i-oe.i});var B=p.plot.selectAll("g.mlayer").data(I,function(ne){return ne.className});if(B.enter().append("g").attr("class",function(ne){return ne.className}).classed("mlayer",!0).classed("rangeplot",p.isRangePlot),B.exit().remove(),B.order(),B.each(function(ne){var oe=t.select(this),me=ne.className;ne.plotMethod(M,p,ne.cdModule,oe,d,x),l.clipOnAxisFalseQuery.indexOf("."+me)===-1&&e.setClipUrl(oe,p.layerClipId,M)}),E._has("scattergl")&&(H=n.getModule("scattergl"),k=u(T,H)[0],H.plot(M,p,k)),!M._context.staticPlot&&(p._hasClipOnAxisFalse&&(p.clipOnAxisFalseTraces=p.plot.selectAll(l.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),U.length)){var te=p.plot.selectAll(U.join(",")).selectAll(".trace");p.zoomScalePts=te.selectAll("path.point"),p.zoomScaleTxt=te.selectAll(".textpoint")}}W.clean=function(M,p,T,d){var x=d._plots||{},C=p._plots||{},E=d._subplots||{},w,H,F;if(d._hasOnlyLargeSploms&&!p._hasOnlyLargeSploms)for(F in x)w=x[F],w.plotgroup&&w.plotgroup.remove();var k=d._has&&d._has("gl"),I=p._has&&p._has("gl");if(k&&!I)for(F in x)w=x[F],w._scene&&w._scene.destroy();if(E.xaxis&&E.yaxis){var U=s.listIds({_fullLayout:d});for(H=0;H<U.length;H++){var Q=U[H];p[s.id2name(Q)]||d._infolayer.selectAll(".g-"+Q+"title").remove()}}var J=d._has&&d._has("cartesian"),ee=p._has&&p._has("cartesian");if(J&&!ee)L(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(E.cartesian)for(H=0;H<E.cartesian.length;H++){var R=E.cartesian[H];if(!C[R]){var G="."+R+",."+R+"-x,."+R+"-y";d._cartesianlayer.selectAll(G).remove(),A(R,d)}}},W.drawFramework=function(M){var p=M._fullLayout,T=y(M),d=p._cartesianlayer.selectAll(".subplot").data(T,String);d.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),d.order(),d.exit().call(L,p),d.each(function(x){var C=x[0],E=p._plots[C];E.plotgroup=t.select(this),m(M,E),E.draglayer=c(p._draggers,"g",C)})},W.rangePlot=function(M,p,T){m(M,p),v(M,p,T),a.style(M)};function y(M){var p=M._fullLayout,T=p._subplots.cartesian,d=T.length,x,C,E,w,H,F,k=[],I=[];for(x=0;x<d;x++){E=T[x],w=p._plots[E],H=w.xaxis,F=w.yaxis;var U=H._mainAxis,Q=F._mainAxis,J=U._id+Q._id,ee=p._plots[J];w.overlays=[],J!==E&&ee?(w.mainplot=J,w.mainplotinfo=ee,I.push(E)):(w.mainplot=void 0,w.mainplotinfo=void 0,k.push(E))}for(x=0;x<I.length;x++)E=I[x],w=p._plots[E],w.mainplotinfo.overlays.push(w);var R=k.concat(I),G=new Array(d);for(x=0;x<d;x++){E=R[x],w=p._plots[E],H=w.xaxis,F=w.yaxis;var B=[E,H.layer,F.layer,H.overlaying||"",F.overlaying||""];for(C=0;C<w.overlays.length;C++)B.push(w.overlays[C].id);G[x]=B}return G}function m(M,p){var T=p.plotgroup,d=p.id,x=l.layerValue2layerClass[p.xaxis.layer],C=l.layerValue2layerClass[p.yaxis.layer],E=M._fullLayout._hasOnlyLargeSploms;if(p.mainplot){var H=p.mainplotinfo,F=H.plotgroup,k=d+"-x",I=d+"-y";p.minorGridlayer=H.minorGridlayer,p.gridlayer=H.gridlayer,p.zerolinelayer=H.zerolinelayer,c(H.overlinesBelow,"path",k),c(H.overlinesBelow,"path",I),c(H.overaxesBelow,"g",k),c(H.overaxesBelow,"g",I),p.plot=c(H.overplot,"g",d),c(H.overlinesAbove,"path",k),c(H.overlinesAbove,"path",I),c(H.overaxesAbove,"g",k),c(H.overaxesAbove,"g",I),p.xlines=F.select(".overlines-"+x).select("."+k),p.ylines=F.select(".overlines-"+C).select("."+I),p.xaxislayer=F.select(".overaxes-"+x).select("."+k),p.yaxislayer=F.select(".overaxes-"+C).select("."+I)}else if(E)p.xlines=c(T,"path","xlines-above"),p.ylines=c(T,"path","ylines-above"),p.xaxislayer=c(T,"g","xaxislayer-above"),p.yaxislayer=c(T,"g","yaxislayer-above");else{var w=c(T,"g","layer-subplot");p.shapelayer=c(w,"g","shapelayer"),p.imagelayer=c(w,"g","imagelayer"),p.minorGridlayer=c(T,"g","minor-gridlayer"),p.gridlayer=c(T,"g","gridlayer"),p.zerolinelayer=c(T,"g","zerolinelayer"),c(T,"path","xlines-below"),c(T,"path","ylines-below"),p.overlinesBelow=c(T,"g","overlines-below"),c(T,"g","xaxislayer-below"),c(T,"g","yaxislayer-below"),p.overaxesBelow=c(T,"g","overaxes-below"),p.plot=c(T,"g","plot"),p.overplot=c(T,"g","overplot"),p.xlines=c(T,"path","xlines-above"),p.ylines=c(T,"path","ylines-above"),p.overlinesAbove=c(T,"g","overlines-above"),c(T,"g","xaxislayer-above"),c(T,"g","yaxislayer-above"),p.overaxesAbove=c(T,"g","overaxes-above"),p.xlines=T.select(".xlines-"+x),p.ylines=T.select(".ylines-"+C),p.xaxislayer=T.select(".xaxislayer-"+x),p.yaxislayer=T.select(".yaxislayer-"+C)}E||(h(p.minorGridlayer,"g",p.xaxis._id),h(p.minorGridlayer,"g",p.yaxis._id),p.minorGridlayer.selectAll("g").map(function(U){return U[0]}).sort(s.idSort),h(p.gridlayer,"g",p.xaxis._id),h(p.gridlayer,"g",p.yaxis._id),p.gridlayer.selectAll("g").map(function(U){return U[0]}).sort(s.idSort)),p.xlines.style("fill","none").classed("crisp",!0),p.ylines.style("fill","none").classed("crisp",!0)}function L(M,p){if(!!M){var T={};M.each(function(H){var F=H[0],k=t.select(this);k.remove(),A(F,p),T[F]=!0});for(var d in p._plots)for(var x=p._plots[d],C=x.overlays||[],E=0;E<C.length;E++){var w=C[E];T[w.id]&&w.plot.selectAll(".trace").remove()}}}function A(M,p){p._draggers.selectAll("g."+M).remove(),p._defs.select("#clip"+p._uid+M+"plot").remove()}W.toSVG=function(M){var p=M._fullLayout._glimages,T=t.select(M).selectAll(".svg-container"),d=T.filter(function(C,E){return E===T.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function x(){var C=this,E=C.toDataURL("image/png"),w=p.append("svg:image");w.attr({xmlns:r.svg,"xlink:href":E,preserveAspectRatio:"none",x:0,y:0,width:C.style.width,height:C.style.height})}d.each(x)},W.updateFx=f("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(f,ae,W){var t=f("../font_attributes"),n=f("../../components/color/attributes"),o=f("../../components/drawing/attributes").dash,a=f("../../lib/extend").extendFlat,e=f("../../plot_api/plot_template").templatedArray,u=f("../../plots/cartesian/axis_format_attributes").descriptionWithDates,s=f("../../constants/numerical").ONEDAY,l=f("./constants"),r=l.HOUR_PATTERN,c=l.WEEKDAY_PATTERN,h={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function v(w){return{valType:"integer",min:0,dflt:w?5:0,editType:"ticks"}}var y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},L={valType:"data_array",editType:"ticks"},A={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function M(w){var H={valType:"number",min:0,editType:"ticks"};return w||(H.dflt=5),H}function p(w){var H={valType:"number",min:0,editType:"ticks"};return w||(H.dflt=1),H}var T={valType:"color",dflt:n.defaultLine,editType:"ticks"},d={valType:"color",dflt:n.lightLine,editType:"ticks"};function x(w){var H={valType:"number",min:0,editType:"ticks"};return w||(H.dflt=1),H}var C=a({},o,{editType:"ticks"}),E={valType:"boolean",editType:"ticks"};ae.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:n.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:t({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"calc"},rangebreaks:e("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[c,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:h,nticks:v(),tick0:y,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:L,ticktext:{valType:"data_array",editType:"ticks"},ticks:A,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:M(),tickwidth:p(),tickcolor:T,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:t({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:u("tick label")},tickformatstops:e("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:u("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:n.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:E,gridcolor:d,gridwidth:x(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:n.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},minor:{tickmode:h,nticks:v("minor"),tick0:y,dtick:m,tickvals:L,ticks:A,ticklen:M("minor"),tickwidth:p("minor"),tickcolor:T,gridcolor:d,gridwidth:x("minor"),griddash:C,showgrid:E,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:t({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(f,ae,W){var t=f("../../lib"),n=f("../../components/color"),o=f("../../components/fx/helpers").isUnifiedHover,a=f("../../components/fx/hovermode_defaults"),e=f("../../plot_api/plot_template"),u=f("../layout_attributes"),s=f("./layout_attributes"),l=f("./type_defaults"),r=f("./axis_defaults"),c=f("./constraints"),h=f("./position_defaults"),v=f("./axis_ids"),y=v.id2name,m=v.name2id,L=f("./constants").AX_ID_PATTERN,A=f("../../registry"),M=A.traceIs,p=A.getComponentMethod;function T(d,x,C){Array.isArray(d[x])?d[x].push(C):d[x]=[C]}ae.exports=function(x,C,E){var w=C.autotypenumbers,H={},F={},k={},I={},U={},Q={},J={},ee={},R={},G={},B,te;for(B=0;B<E.length;B++){var ne=E[B];if(!(!M(ne,"cartesian")&&!M(ne,"gl2d"))){var oe;if(ne.xaxis)oe=y(ne.xaxis),T(H,oe,ne);else if(ne.xaxes)for(te=0;te<ne.xaxes.length;te++)T(H,y(ne.xaxes[te]),ne);var me;if(ne.yaxis)me=y(ne.yaxis),T(H,me,ne);else if(ne.yaxes)for(te=0;te<ne.yaxes.length;te++)T(H,y(ne.yaxes[te]),ne);if(ne.type==="funnel"?ne.orientation==="h"?(oe&&(F[oe]=!0),me&&(J[me]=!0)):me&&(k[me]=!0):ne.type==="image"?(me&&(ee[me]=!0),oe&&(ee[oe]=!0)):(me&&(U[me]=!0,Q[me]=!0),(!M(ne,"carpet")||ne.type==="carpet"&&!ne._cheater)&&oe&&(I[oe]=!0)),ne.type==="carpet"&&ne._cheater&&oe&&(F[oe]=!0),M(ne,"2dMap")&&(R[oe]=!0,R[me]=!0),M(ne,"oriented")){var de=ne.orientation==="h"?me:oe;G[de]=!0}}}var ie=C._subplots,Z=ie.xaxis,q=ie.yaxis,K=t.simpleMap(Z,y),g=t.simpleMap(q,y),S=K.concat(g),Y=n.background;Z.length&&q.length&&(Y=t.coerce(x,C,u,"plot_bgcolor"));var z=n.combine(Y,C.paper_bgcolor),_,O,N,P,j;function se(){var et=H[_]||[];j._traceIndices=et.map(function(ve){return ve._expandedIndex}),j._annIndices=[],j._shapeIndices=[],j._imgIndices=[],j._subplotsWith=[],j._counterAxes=[],j._name=j._attr=_,j._id=O}function ce(et,ve){return t.coerce(P,j,s,et,ve)}function fe(et,ve){return t.coerce2(P,j,s,et,ve)}function pe(et){return et==="x"?q:Z}function be(et,ve){for(var we=et==="x"?K:g,Me=[],De=0;De<we.length;De++){var je=we[De];je!==ve&&!(x[je]||{}).overlaying&&Me.push(m(je))}return Me}var Re={x:pe("x"),y:pe("y")},ke=Re.x.concat(Re.y),Oe={},Be=[];function Ae(){var et=P.matches;L.test(et)&&ke.indexOf(et)===-1&&(Oe[et]=P.type,Be=Object.keys(Oe))}var ge=a(x,C),Ee=o(ge);for(B=0;B<S.length;B++){_=S[B],O=m(_),N=_.charAt(0),t.isPlainObject(x[_])||(x[_]={}),P=x[_],j=e.newContainer(C,_,N+"axis"),se();var Ve=N==="x"&&!I[_]&&F[_]||N==="y"&&!U[_]&&k[_],xt=N==="y"&&(!Q[_]&&J[_]||ee[_]),Ye={hasMinor:!0,letter:N,font:C.font,outerTicks:R[_],showGrid:!G[_],data:H[_]||[],bgColor:z,calendar:C.calendar,automargin:!0,visibleDflt:Ve,reverseDflt:xt,autotypenumbersDflt:w,splomStash:((C._splomAxes||{})[N]||{})[O]};ce("uirevision",C.uirevision),l(P,j,ce,Ye),r(P,j,ce,Ye,C);var Xe=Ee&&N===ge.charAt(0),Je=fe("spikecolor",Ee?j.color:void 0),ft=fe("spikethickness",Ee?1.5:void 0),yt=fe("spikedash",Ee?"dot":void 0),At=fe("spikemode",Ee?"across":void 0),qe=fe("spikesnap"),mt=ce("showspikes",!!Xe||!!Je||!!ft||!!yt||!!At||!!qe);mt||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap),h(P,j,ce,{letter:N,counterAxes:Re[N],overlayableAxes:be(N,_),grid:C.grid}),ce("title.standoff"),Ae(),j._input=P}for(B=0;B<Be.length;){O=Be[B++],_=y(O),N=_.charAt(0),t.isPlainObject(x[_])||(x[_]={}),P=x[_],j=e.newContainer(C,_,N+"axis"),se();var st={letter:N,font:C.font,outerTicks:R[_],showGrid:!G[_],data:[],bgColor:z,calendar:C.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:w,splomStash:((C._splomAxes||{})[N]||{})[O]};ce("uirevision",C.uirevision),j.type=Oe[O]||"linear",r(P,j,ce,st,C),h(P,j,ce,{letter:N,counterAxes:Re[N],overlayableAxes:be(N,_),grid:C.grid}),ce("fixedrange"),Ae(),j._input=P}var gt=p("rangeslider","handleDefaults"),Ct=p("rangeselector","handleDefaults");for(B=0;B<K.length;B++)_=K[B],P=x[_],j=C[_],gt(x,C,_),j.type==="date"&&Ct(P,j,C,g,j.calendar),ce("fixedrange");for(B=0;B<g.length;B++){_=g[B],P=x[_],j=C[_];var Ce=C[y(j.anchor)],ze=p("rangeslider","isVisible")(Ce);ce("fixedrange",ze)}c.handleDefaults(x,C,{axIds:ke.concat(Be).sort(v.idSort),axHasImage:ee})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(f,ae,W){var t=f("tinycolor2").mix,n=f("../../components/color/attributes"),o=f("../../lib");ae.exports=function(e,u,s,l){l=l||{};var r=l.dfltColor;function c(k,I){return o.coerce2(e,u,l.attributes,k,I)}var h=c("linecolor",r),v=c("linewidth"),y=s("showline",l.showLine||!!h||!!v);y||(delete u.linecolor,delete u.linewidth);var m=t(r,l.bgColor,l.blend||n.lightFraction).toRgbString(),L=c("gridcolor",m),A=c("gridwidth"),M=c("griddash"),p=s("showgrid",l.showGrid||!!L||!!A||!!M);if(p||(delete u.gridcolor,delete u.gridwidth,delete u.griddash),l.hasMinor){var T=t(u.gridcolor,l.bgColor,67).toRgbString(),d=c("minor.gridcolor",T),x=c("minor.gridwidth",u.gridwidth||1),C=c("minor.griddash",u.griddash||"solid"),E=s("minor.showgrid",!!d||!!x||!!C);E||(delete u.minor.gridcolor,delete u.minor.gridwidth,delete u.minor.griddash)}if(!l.noZeroLine){var w=c("zerolinecolor",r),H=c("zerolinewidth"),F=s("zeroline",l.showGrid||!!w||!!H);F||(delete u.zerolinecolor,delete u.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib");ae.exports=function(a,e,u,s){var l=s.counterAxes||[],r=s.overlayableAxes||[],c=s.letter,h=s.grid,v,y,m,L;h&&(y=h._domains[c][h._axisMap[e._id]],v=h._anchors[e._id],y&&(m=h[c+"side"].split(" ")[0],L=h.domain[c][m==="right"||m==="top"?1:0])),y=y||[0,1],v=v||(t(a.position)?"free":l[0]||"free"),m=m||(c==="x"?"bottom":"left"),L=L||0;var A=n.coerce(a,e,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:v}},"anchor");A==="free"&&u("position",L),n.coerce(a,e,{side:{valType:"enumerated",values:c==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");var M=!1;if(r.length&&(M=n.coerce(a,e,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!M){var p=u("domain",y);p[0]>p[1]-1/4096&&(e.domain=y),n.noneOrAll(a.domain,e.domain,y)}return u("layer"),e}},{"../../lib":232,"fast-isnumeric":17}],298:[function(f,ae,W){var t=f("./show_dflt");ae.exports=function(o,a,e,u,s){s||(s={});var l=s.tickSuffixDflt,r=t(o),c=e("tickprefix");c&&e("showtickprefix",r);var h=e("ticksuffix",l);h&&e("showticksuffix",r)}},{"./show_dflt":302}],299:[function(f,ae,W){var t=f("../../constants/alignment").FROM_BL;ae.exports=function(o,a,e){e===void 0&&(e=t[o.constraintoward||"center"]);var u=[o.r2l(o.range[0]),o.r2l(o.range[1])],s=u[0]+(u[1]-u[0])*e;o.range=o._input.range=[o.l2r(s+(u[0]-s)*a),o.l2r(s+(u[1]-s)*a)],o.setScale()}},{"../../constants/alignment":207}],300:[function(f,ae,W){var t=f("polybooljs"),n=f("../../registry"),o=f("../../components/drawing").dashStyle,a=f("../../components/color"),e=f("../../components/fx"),u=f("../../components/fx/helpers").makeEventData,s=f("../../components/dragelement/helpers"),l=s.freeMode,r=s.rectMode,c=s.drawMode,h=s.openMode,v=s.selectMode,y=f("../../components/shapes/draw_newshape/display_outlines"),m=f("../../components/shapes/draw_newshape/helpers").handleEllipse,L=f("../../components/shapes/draw_newshape/newshapes"),A=f("../../lib"),M=f("../../lib/polygon"),p=f("../../lib/throttle"),T=f("./axis_ids").getFromId,d=f("../../lib/clear_gl_canvases"),x=f("../../plot_api/subroutines").redrawReglTraces,C=f("./constants"),E=C.MINSELECT,w=M.filter,H=M.tester,F=f("./handle_outline").clearSelect,k=f("./helpers"),I=k.p2r,U=k.axValue,Q=k.getTransform;function J(_,O,N,P,j){var se=l(j),ce=r(j),fe=h(j),pe=c(j),be=v(j),Re=j==="drawline",ke=j==="drawcircle",Oe=Re||ke,Be=P.gd,Ae=Be._fullLayout,ge=Ae._zoomlayer,Ee=P.element.getBoundingClientRect(),Ve=P.plotinfo,xt=Q(Ve),Ye=O-Ee.left,Xe=N-Ee.top;Ae._calcInverseTransform(Be);var Je=A.apply3DTransform(Ae._invTransform)(Ye,Xe);Ye=Je[0],Xe=Je[1];var ft=Ae._invScaleX,yt=Ae._invScaleY,At=Ye,qe=Xe,mt="M"+Ye+","+Xe,st=P.xaxes[0]._length,gt=P.yaxes[0]._length,Ct=P.xaxes.concat(P.yaxes),Ce=_.altKey&&!(c(j)&&fe),ze,et,ve,we,Me,De,je;ne(_,Be,P),se&&(ze=w([[Ye,Xe]],C.BENDPX));var We=ge.selectAll("path.select-outline-"+Ve.id).data(pe?[0]:[1,2]),ht=Ae.newshape;We.enter().append("path").attr("class",function(Gt){return"select-outline select-outline-"+Gt+" select-outline-"+Ve.id}).style(pe?{opacity:ht.opacity/2,fill:fe?void 0:ht.fillcolor,stroke:ht.line.color,"stroke-dasharray":o(ht.line.dash,ht.line.width),"stroke-width":ht.line.width+"px"}:{}).attr("fill-rule",ht.fillrule).classed("cursor-move",!!pe).attr("transform",xt).attr("d",mt+"Z");var vt=ge.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1}).attr("transform",xt).attr("d","M0,0Z"),it=Ae._uid+C.SELECTID,Ze=[],_t=me(Be,P.xaxes,P.yaxes,P.subplot);function Lt(Gt,Kt){return Gt-Kt}var wt;Ve.fillRangeItems?wt=Ve.fillRangeItems:ce?wt=function(Gt,Kt){var $t=Gt.range={};for(Me=0;Me<Ct.length;Me++){var It=Ct[Me],Bt=It._id.charAt(0);$t[It._id]=[I(It,Kt[Bt+"min"]),I(It,Kt[Bt+"max"])].sort(Lt)}}:wt=function(Gt,Kt,$t){var It=Gt.lassoPoints={};for(Me=0;Me<Ct.length;Me++){var Bt=Ct[Me];It[Bt._id]=$t.filtered.map(U(Bt))}},P.moveFn=function(Gt,Kt){At=Math.max(0,Math.min(st,ft*Gt+Ye)),qe=Math.max(0,Math.min(gt,yt*Kt+Xe));var $t=Math.abs(At-Ye),It=Math.abs(qe-Xe);if(ce){var Bt,zt,ct;if(be){var Wt=Ae.selectdirection;switch(Wt==="any"?It<Math.min($t*.6,E)?Bt="h":$t<Math.min(It*.6,E)?Bt="v":Bt="d":Bt=Wt,Bt){case"h":zt=ke?gt/2:0,ct=gt;break;case"v":zt=ke?st/2:0,ct=st;break}}if(pe)switch(Ae.newshape.drawdirection){case"vertical":Bt="h",zt=ke?gt/2:0,ct=gt;break;case"horizontal":Bt="v",zt=ke?st/2:0,ct=st;break;case"ortho":$t<It?(Bt="h",zt=Xe,ct=qe):(Bt="v",zt=Ye,ct=At);break;default:Bt="d"}Bt==="h"?(we=Oe?m(ke,[At,zt],[At,ct]):[[Ye,zt],[Ye,ct],[At,ct],[At,zt]],we.xmin=Oe?At:Math.min(Ye,At),we.xmax=Oe?At:Math.max(Ye,At),we.ymin=Math.min(zt,ct),we.ymax=Math.max(zt,ct),vt.attr("d","M"+we.xmin+","+(Xe-E)+"h-4v"+2*E+"h4ZM"+(we.xmax-1)+","+(Xe-E)+"h4v"+2*E+"h-4Z")):Bt==="v"?(we=Oe?m(ke,[zt,qe],[ct,qe]):[[zt,Xe],[zt,qe],[ct,qe],[ct,Xe]],we.xmin=Math.min(zt,ct),we.xmax=Math.max(zt,ct),we.ymin=Oe?qe:Math.min(Xe,qe),we.ymax=Oe?qe:Math.max(Xe,qe),vt.attr("d","M"+(Ye-E)+","+we.ymin+"v-4h"+2*E+"v4ZM"+(Ye-E)+","+(we.ymax-1)+"v4h"+2*E+"v-4Z")):Bt==="d"&&(we=Oe?m(ke,[Ye,Xe],[At,qe]):[[Ye,Xe],[Ye,qe],[At,qe],[At,Xe]],we.xmin=Math.min(Ye,At),we.xmax=Math.max(Ye,At),we.ymin=Math.min(Xe,qe),we.ymax=Math.max(Xe,qe),vt.attr("d","M0,0Z"))}else se&&(ze.addPt([At,qe]),we=ze.filtered);P.selectionDefs&&P.selectionDefs.length?(ve=S(P.mergedPolygons,we,Ce),we.subtract=Ce,et=te(P.selectionDefs.concat([we]))):(ve=[we],et=H(we)),y(z(ve,fe),We,P),be&&p.throttle(it,C.SELECTDELAY,function(){Ze=[];var Ot,Jt;for(Me=0;Me<_t.length;Me++)if(De=_t[Me],Jt=De._module.selectPoints(De,et),Ot=Y(Jt,De),Ze.length)for(var jt=0;jt<Ot.length;jt++)Ze.push(Ot[jt]);else Ze=Ot;je={points:Ze},g(Be,_t,je),wt(je,we,ze),P.gd.emit("plotly_selecting",je)})},P.clickFn=function(Gt,Kt){if(vt.remove(),Be._fullLayout._activeShapeIndex>=0){Be._fullLayout._deactivateShape(Be);return}if(!pe){var $t=Ae.clickmode;p.done(it).then(function(){if(p.clear(it),Gt===2){for(We.remove(),Me=0;Me<_t.length;Me++)De=_t[Me],De._module.selectPoints(De,!1);g(Be,_t),oe(P),Be.emit("plotly_deselect",null)}else $t.indexOf("select")>-1&&ee(Kt,Be,P.xaxes,P.yaxes,P.subplot,P,We),$t==="event"&&Be.emit("plotly_selected",void 0);e.click(Be,Kt)}).catch(A.error)}},P.doneFn=function(){vt.remove(),p.done(it).then(function(){p.clear(it),P.gd.emit("plotly_selected",je),we&&P.selectionDefs&&(we.subtract=Ce,P.selectionDefs.push(we),P.mergedPolygons.length=0,[].push.apply(P.mergedPolygons,ve)),P.doneFnCompleted&&P.doneFnCompleted(Ze)}).catch(A.error),pe&&oe(P)}}function ee(_,O,N,P,j,se,ce){var fe=O._hoverdata,pe=O._fullLayout,be=pe.clickmode,Re=be.indexOf("event")>-1,ke=[],Oe,Be,Ae,ge,Ee,Ve,xt,Ye,Xe,Je;if(de(fe)){ne(_,O,se),Oe=me(O,N,P,j);var ft=ie(fe,Oe),yt=ft.pointNumbers.length>0;if(yt?q(Oe,ft):K(Oe)&&(xt=Z(ft))){for(ce&&ce.remove(),Je=0;Je<Oe.length;Je++)Be=Oe[Je],Be._module.selectPoints(Be,!1);g(O,Oe),oe(se),Re&&O.emit("plotly_deselect",null)}else{Ye=_.shiftKey&&(xt!==void 0?xt:Z(ft)),Ae=R(ft.pointNumber,ft.searchInfo,Ye);var At=se.selectionDefs.concat([Ae]);for(ge=te(At),Je=0;Je<Oe.length;Je++)if(Ee=Oe[Je]._module.selectPoints(Oe[Je],ge),Ve=Y(Ee,Oe[Je]),ke.length)for(var qe=0;qe<Ve.length;qe++)ke.push(Ve[qe]);else ke=Ve;if(Xe={points:ke},g(O,Oe,Xe),Ae&&se&&se.selectionDefs.push(Ae),ce){var mt=se.mergedPolygons,st=h(se.dragmode);y(z(mt,st),ce,se)}Re&&O.emit("plotly_selected",Xe)}}}function R(_,O,N){return{pointNumber:_,searchInfo:O,subtract:N}}function G(_){return"pointNumber"in _&&"searchInfo"in _}function B(_){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(O,N,P,j){var se=_.searchInfo.cd[0].trace._expandedIndex,ce=j.cd[0].trace._expandedIndex;return ce===se&&P===_.pointNumber},isRect:!1,degenerate:!1,subtract:_.subtract}}function te(_){for(var O=[],N=G(_[0])?0:_[0][0][0],P=N,j=G(_[0])?0:_[0][0][1],se=j,ce=0;ce<_.length;ce++)if(G(_[ce]))O.push(B(_[ce]));else{var fe=M.tester(_[ce]);fe.subtract=_[ce].subtract,O.push(fe),N=Math.min(N,fe.xmin),P=Math.max(P,fe.xmax),j=Math.min(j,fe.ymin),se=Math.max(se,fe.ymax)}function pe(be,Re,ke,Oe){for(var Be=!1,Ae=0;Ae<O.length;Ae++)O[Ae].contains(be,Re,ke,Oe)&&(Be=O[Ae].subtract===!1);return Be}return{xmin:N,xmax:P,ymin:j,ymax:se,pts:[],contains:pe,isRect:!1,degenerate:!1}}function ne(_,O,N){O._fullLayout._drawing=!1;var P=O._fullLayout,j=N.plotinfo,se=N.dragmode,ce=P._lastSelectedSubplot&&P._lastSelectedSubplot===j.id,fe=(_.shiftKey||_.altKey)&&!(c(se)&&h(se));ce&&fe&&j.selection&&j.selection.selectionDefs&&!N.selectionDefs?(N.selectionDefs=j.selection.selectionDefs,N.mergedPolygons=j.selection.mergedPolygons):(!fe||!j.selection)&&oe(N),ce||(F(O),P._lastSelectedSubplot=j.id)}function oe(_){var O=_.dragmode,N=_.plotinfo,P=_.gd;if(P._fullLayout._activeShapeIndex>=0&&P._fullLayout._deactivateShape(P),c(O)){var j=P._fullLayout,se=j._zoomlayer,ce=se.selectAll(".select-outline-"+N.id);if(ce&&P._fullLayout._drawing){var fe=L(ce,_);fe&&n.call("_guiRelayout",P,{shapes:fe}),P._fullLayout._drawing=!1}}N.selection={},N.selection.selectionDefs=_.selectionDefs=[],N.selection.mergedPolygons=_.mergedPolygons=[]}function me(_,O,N,P){var j=[],se=O.map(function(Be){return Be._id}),ce=N.map(function(Be){return Be._id}),fe,pe,be;for(be=0;be<_.calcdata.length;be++)if(fe=_.calcdata[be],pe=fe[0].trace,!(pe.visible!==!0||!pe._module||!pe._module.selectPoints))if(P&&(pe.subplot===P||pe.geo===P))j.push(Oe(pe._module,fe,O[0],N[0]));else if(pe.type==="splom"&&pe._xaxes[se[0]]&&pe._yaxes[ce[0]]){var Re=Oe(pe._module,fe,O[0],N[0]);Re.scene=_._fullLayout._splomScenes[pe.uid],j.push(Re)}else if(pe.type==="sankey"){var ke=Oe(pe._module,fe,O[0],N[0]);j.push(ke)}else{if(se.indexOf(pe.xaxis)===-1||ce.indexOf(pe.yaxis)===-1)continue;j.push(Oe(pe._module,fe,T(_,pe.xaxis),T(_,pe.yaxis)))}return j;function Oe(Be,Ae,ge,Ee){return{_module:Be,cd:Ae,xaxis:ge,yaxis:Ee}}}function de(_){return _&&Array.isArray(_)&&_[0].hoverOnBox!==!0}function ie(_,O){var N=_[0],P=-1,j=[],se,ce;for(ce=0;ce<O.length;ce++)if(se=O[ce],N.fullData._expandedIndex===se.cd[0].trace._expandedIndex){if(N.hoverOnBox===!0)break;N.pointNumber!==void 0?P=N.pointNumber:N.binNumber!==void 0&&(P=N.binNumber,j=N.pointNumbers);break}return{pointNumber:P,pointNumbers:j,searchInfo:se}}function Z(_){var O=_.searchInfo.cd[0].trace,N=_.pointNumber,P=_.pointNumbers,j=P.length>0,se=j?P[0]:N;return O.selectedpoints?O.selectedpoints.indexOf(se)>-1:!1}function q(_,O){var N=[],P,j,se,ce;for(ce=0;ce<_.length;ce++)P=_[ce],P.cd[0].trace.selectedpoints&&P.cd[0].trace.selectedpoints.length>0&&N.push(P);if(N.length===1&&(se=N[0]===O.searchInfo,se&&(j=O.searchInfo.cd[0].trace,j.selectedpoints.length===O.pointNumbers.length))){for(ce=0;ce<O.pointNumbers.length;ce++)if(j.selectedpoints.indexOf(O.pointNumbers[ce])<0)return!1;return!0}return!1}function K(_){var O=0,N,P,j;for(j=0;j<_.length;j++)if(N=_[j],P=N.cd[0].trace,P.selectedpoints&&(P.selectedpoints.length>1||(O+=P.selectedpoints.length,O>1)))return!1;return O===1}function g(_,O,N){var P,j,se,ce;for(P=0;P<O.length;P++){var fe=O[P].cd[0].trace._fullInput,pe=_._fullLayout._tracePreGUI[fe.uid]||{};pe.selectedpoints===void 0&&(pe.selectedpoints=fe._input.selectedpoints||null)}if(N){var be=N.points||[];for(P=0;P<O.length;P++)ce=O[P].cd[0].trace,ce._input.selectedpoints=ce._fullInput.selectedpoints=[],ce._fullInput!==ce&&(ce.selectedpoints=[]);for(P=0;P<be.length;P++){var Re=be[P],ke=Re.data,Oe=Re.fullData;Re.pointIndices?([].push.apply(ke.selectedpoints,Re.pointIndices),ce._fullInput!==ce&&[].push.apply(Oe.selectedpoints,Re.pointIndices)):(ke.selectedpoints.push(Re.pointIndex),ce._fullInput!==ce&&Oe.selectedpoints.push(Re.pointIndex))}}else for(P=0;P<O.length;P++)ce=O[P].cd[0].trace,delete ce.selectedpoints,delete ce._input.selectedpoints,ce._fullInput!==ce&&delete ce._fullInput.selectedpoints;var Be=!1;for(P=0;P<O.length;P++){j=O[P],se=j.cd,ce=se[0].trace,n.traceIs(ce,"regl")&&(Be=!0);var Ae=j._module,ge=Ae.styleOnSelect||Ae.style;ge&&(ge(_,se,se[0].node3),se[0].nodeRangePlot3&&ge(_,se,se[0].nodeRangePlot3))}Be&&(d(_),x(_))}function S(_,O,N){var P;return N?(P=t.difference({regions:_,inverted:!1},{regions:[O],inverted:!1}),P.regions):(P=t.union({regions:_,inverted:!1},{regions:[O],inverted:!1}),P.regions)}function Y(_,O){if(Array.isArray(_))for(var N=O.cd,P=O.cd[0].trace,j=0;j<_.length;j++)_[j]=u(_[j],P,N);return _}function z(_,O){for(var N=[],P=0;P<_.length;P++){N[P]=[];for(var j=0;j<_[P].length;j++){N[P][j]=[],N[P][j][0]=j?"L":"M";for(var se=0;se<_[P][j].length;se++)N[P][j].push(_[P][j][se])}O||N[P].push(["Z",N[P][0][1],N[P][0][2]])}return N}ae.exports={prepSelect:J,clearSelect:F,clearSelectionsCache:oe,selectOnClick:ee}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(f,ae,W){var t=f("@plotly/d3"),n=f("d3-time-format").utcFormat,o=f("../../lib"),a=o.numberFormat,e=f("fast-isnumeric"),u=o.cleanNumber,s=o.ms2DateTime,l=o.dateTime2ms,r=o.ensureNumber,c=o.isArrayOrTypedArray,h=f("../../constants/numerical"),v=h.FP_SAFE,y=h.BADNUM,m=h.LOG_CLIP,L=h.ONEWEEK,A=h.ONEDAY,M=h.ONEHOUR,p=h.ONEMIN,T=h.ONESEC,d=f("./axis_ids"),x=f("./constants"),C=x.HOUR_PATTERN,E=x.WEEKDAY_PATTERN;function w(F){return Math.pow(10,F)}function H(F){return F!=null}ae.exports=function(k,I){I=I||{};var U=k._id||"x",Q=U.charAt(0);function J(S,Y){if(S>0)return Math.log(S)/Math.LN10;if(S<=0&&Y&&k.range&&k.range.length===2){var z=k.range[0],_=k.range[1];return .5*(z+_-2*m*Math.abs(z-_))}else return y}function ee(S,Y,z,_){if((_||{}).msUTC&&e(S))return+S;var O=l(S,z||k.calendar);if(O===y)if(e(S)){S=+S;var N=Math.floor(o.mod(S+.05,1)*10),P=Math.round(S-N/10);O=l(new Date(P))+N/10}else return y;return O}function R(S,Y,z){return s(S,Y,z||k.calendar)}function G(S){return k._categories[Math.round(S)]}function B(S){if(H(S)){if(k._categoriesMap===void 0&&(k._categoriesMap={}),k._categoriesMap[S]!==void 0)return k._categoriesMap[S];k._categories.push(typeof S=="number"?String(S):S);var Y=k._categories.length-1;return k._categoriesMap[S]=Y,Y}return y}function te(S,Y){for(var z=new Array(Y),_=0;_<Y;_++){var O=(S[0]||[])[_],N=(S[1]||[])[_];z[_]=ne([O,N])}return z}function ne(S){if(k._categoriesMap)return k._categoriesMap[S]}function oe(S){var Y=ne(S);if(Y!==void 0)return Y;if(e(S))return+S}function me(S){return e(S)?+S:ne(S)}function de(S,Y,z){return t.round(z+Y*S,2)}function ie(S,Y,z){return(S-z)/Y}var Z=function(Y){return e(Y)?de(Y,k._m,k._b):y},q=function(S){return ie(S,k._m,k._b)};if(k.rangebreaks){var K=Q==="y";Z=function(S){if(!e(S))return y;var Y=k._rangebreaks.length;if(!Y)return de(S,k._m,k._b);var z=K;k.range[0]>k.range[1]&&(z=!z);for(var _=z?-1:1,O=_*S,N=0,P=0;P<Y;P++){var j=_*k._rangebreaks[P].min,se=_*k._rangebreaks[P].max;if(O<j)break;if(O>se)N=P+1;else{N=O<(j+se)/2?P:P+1;break}}var ce=k._B[N]||0;return isFinite(ce)?de(S,k._m2,ce):0},q=function(S){var Y=k._rangebreaks.length;if(!Y)return ie(S,k._m,k._b);for(var z=0,_=0;_<Y&&!(S<k._rangebreaks[_].pmin);_++)S>k._rangebreaks[_].pmax&&(z=_+1);return ie(S,k._m2,k._B[z])}}k.c2l=k.type==="log"?J:r,k.l2c=k.type==="log"?w:r,k.l2p=Z,k.p2l=q,k.c2p=k.type==="log"?function(S,Y){return Z(J(S,Y))}:Z,k.p2c=k.type==="log"?function(S){return w(q(S))}:q,["linear","-"].indexOf(k.type)!==-1?(k.d2r=k.r2d=k.d2c=k.r2c=k.d2l=k.r2l=u,k.c2d=k.c2r=k.l2d=k.l2r=r,k.d2p=k.r2p=function(S){return k.l2p(u(S))},k.p2d=k.p2r=q,k.cleanPos=r):k.type==="log"?(k.d2r=k.d2l=function(S,Y){return J(u(S),Y)},k.r2d=k.r2c=function(S){return w(u(S))},k.d2c=k.r2l=u,k.c2d=k.l2r=r,k.c2r=J,k.l2d=w,k.d2p=function(S,Y){return k.l2p(k.d2r(S,Y))},k.p2d=function(S){return w(q(S))},k.r2p=function(S){return k.l2p(u(S))},k.p2r=q,k.cleanPos=r):k.type==="date"?(k.d2r=k.r2d=o.identity,k.d2c=k.r2c=k.d2l=k.r2l=ee,k.c2d=k.c2r=k.l2d=k.l2r=R,k.d2p=k.r2p=function(S,Y,z){return k.l2p(ee(S,0,z))},k.p2d=k.p2r=function(S,Y,z){return R(q(S),Y,z)},k.cleanPos=function(S){return o.cleanDate(S,y,k.calendar)}):k.type==="category"?(k.d2c=k.d2l=B,k.r2d=k.c2d=k.l2d=G,k.d2r=k.d2l_noadd=oe,k.r2c=function(S){var Y=me(S);return Y!==void 0?Y:k.fraction2r(.5)},k.l2r=k.c2r=r,k.r2l=me,k.d2p=function(S){return k.l2p(k.r2c(S))},k.p2d=function(S){return G(q(S))},k.r2p=k.d2p,k.p2r=q,k.cleanPos=function(S){return typeof S=="string"&&S!==""?S:r(S)}):k.type==="multicategory"&&(k.r2d=k.c2d=k.l2d=G,k.d2r=k.d2l_noadd=oe,k.r2c=function(S){var Y=oe(S);return Y!==void 0?Y:k.fraction2r(.5)},k.r2c_just_indices=ne,k.l2r=k.c2r=r,k.r2l=oe,k.d2p=function(S){return k.l2p(k.r2c(S))},k.p2d=function(S){return G(q(S))},k.r2p=k.d2p,k.p2r=q,k.cleanPos=function(S){return Array.isArray(S)||typeof S=="string"&&S!==""?S:r(S)},k.setupMultiCategory=function(S){var Y=k._traceIndices,z,_,O=k._matchGroup;if(O&&k._categories.length===0){for(var N in O)if(N!==U){var P=I[d.id2name(N)];Y=Y.concat(P._traceIndices)}}var j=[[0,{}],[0,{}]],se=[];for(z=0;z<Y.length;z++){var ce=S[Y[z]];if(Q in ce){var fe=ce[Q],pe=ce._length||o.minRowLength(fe);if(c(fe[0])&&c(fe[1]))for(_=0;_<pe;_++){var be=fe[0][_],Re=fe[1][_];H(be)&&H(Re)&&(se.push([be,Re]),be in j[0][1]||(j[0][1][be]=j[0][0]++),Re in j[1][1]||(j[1][1][Re]=j[1][0]++))}}}for(se.sort(function(ke,Oe){var Be=j[0][1],Ae=Be[ke[0]]-Be[Oe[0]];if(Ae)return Ae;var ge=j[1][1];return ge[ke[1]]-ge[Oe[1]]}),z=0;z<se.length;z++)B(se[z])}),k.fraction2r=function(S){var Y=k.r2l(k.range[0]),z=k.r2l(k.range[1]);return k.l2r(Y+S*(z-Y))},k.r2fraction=function(S){var Y=k.r2l(k.range[0]),z=k.r2l(k.range[1]);return(k.r2l(S)-Y)/(z-Y)},k.cleanRange=function(S,Y){Y||(Y={}),S||(S="range");var z=o.nestedProperty(k,S).get(),_,O;if(k.type==="date"?O=o.dfltRange(k.calendar):Q==="y"?O=x.DFLTRANGEY:k._name==="realaxis"?O=[0,1]:O=Y.dfltRange||x.DFLTRANGEX,O=O.slice(),(k.rangemode==="tozero"||k.rangemode==="nonnegative")&&(O[0]=0),!z||z.length!==2){o.nestedProperty(k,S).set(O);return}for(k.type==="date"&&!k.autorange&&(z[0]=o.cleanDate(z[0],y,k.calendar),z[1]=o.cleanDate(z[1],y,k.calendar)),_=0;_<2;_++)if(k.type==="date"){if(!o.isDateTime(z[_],k.calendar)){k[S]=O;break}if(k.r2l(z[0])===k.r2l(z[1])){var N=o.constrain(k.r2l(z[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);z[0]=k.l2r(N-1e3),z[1]=k.l2r(N+1e3);break}}else{if(!e(z[_]))if(e(z[1-_]))z[_]=z[1-_]*(_?10:.1);else{k[S]=O;break}if(z[_]<-v?z[_]=-v:z[_]>v&&(z[_]=v),z[0]===z[1]){var P=Math.max(1,Math.abs(z[0]*1e-6));z[0]-=P,z[1]+=P}}},k.setScale=function(S){var Y=I._size;if(k.overlaying){var z=d.getFromId({_fullLayout:I},k.overlaying);k.domain=z.domain}var _=S&&k._r?"_r":"range",O=k.calendar;k.cleanRange(_);var N=k.r2l(k[_][0],O),P=k.r2l(k[_][1],O),j=Q==="y";if(j?(k._offset=Y.t+(1-k.domain[1])*Y.h,k._length=Y.h*(k.domain[1]-k.domain[0]),k._m=k._length/(N-P),k._b=-k._m*P):(k._offset=Y.l+k.domain[0]*Y.w,k._length=Y.w*(k.domain[1]-k.domain[0]),k._m=k._length/(P-N),k._b=-k._m*N),k._rangebreaks=[],k._lBreaks=0,k._m2=0,k._B=[],k.rangebreaks){var se,ce;if(k._rangebreaks=k.locateBreaks(Math.min(N,P),Math.max(N,P)),k._rangebreaks.length){for(se=0;se<k._rangebreaks.length;se++)ce=k._rangebreaks[se],k._lBreaks+=Math.abs(ce.max-ce.min);var fe=j;N>P&&(fe=!fe),fe&&k._rangebreaks.reverse();var pe=fe?-1:1;for(k._m2=pe*k._length/(Math.abs(P-N)-k._lBreaks),k._B.push(-k._m2*(j?P:N)),se=0;se<k._rangebreaks.length;se++)ce=k._rangebreaks[se],k._B.push(k._B[k._B.length-1]-pe*k._m2*(ce.max-ce.min));for(se=0;se<k._rangebreaks.length;se++)ce=k._rangebreaks[se],ce.pmin=Z(ce.min),ce.pmax=Z(ce.max)}}if(!isFinite(k._m)||!isFinite(k._b)||k._length<0)throw I._replotting=!1,new Error("Something went wrong with axis scaling")},k.maskBreaks=function(S){var Y=k.rangebreaks||[],z,_,O,N,P;Y._cachedPatterns||(Y._cachedPatterns=Y.map(function(Be){return Be.enabled&&Be.bounds?o.simpleMap(Be.bounds,Be.pattern?u:k.d2c):null})),Y._cachedValues||(Y._cachedValues=Y.map(function(Be){return Be.enabled&&Be.values?o.simpleMap(Be.values,k.d2c).sort(o.sorterAsc):null}));for(var j=0;j<Y.length;j++){var se=Y[j];if(se.enabled){if(se.bounds){var ce=se.pattern;switch(z=Y._cachedPatterns[j],_=z[0],O=z[1],ce){case E:P=new Date(S),N=P.getUTCDay(),_>O&&(O+=7,N<_&&(N+=7));break;case C:P=new Date(S);var fe=P.getUTCHours(),pe=P.getUTCMinutes(),be=P.getUTCSeconds(),Re=P.getUTCMilliseconds();N=fe+(pe/60+be/3600+Re/36e5),_>O&&(O+=24,N<_&&(N+=24));break;case"":N=S;break}if(N>=_&&N<O)return y}else for(var ke=Y._cachedValues[j],Oe=0;Oe<ke.length;Oe++)if(_=ke[Oe],O=_+se.dvalue,S>=_&&S<O)return y}}return S},k.locateBreaks=function(S,Y){var z,_,O,N,P=[];if(!k.rangebreaks)return P;var j=k.rangebreaks.slice().sort(function(ge,Ee){return ge.pattern===E&&Ee.pattern===C?-1:Ee.pattern===E&&ge.pattern===C?1:0}),se=function(ge,Ee){if(ge=o.constrain(ge,S,Y),Ee=o.constrain(Ee,S,Y),ge!==Ee){for(var Ve=!0,xt=0;xt<P.length;xt++){var Ye=P[xt];ge<Ye.max&&Ee>=Ye.min&&(ge<Ye.min&&(Ye.min=ge),Ee>Ye.max&&(Ye.max=Ee),Ve=!1)}Ve&&P.push({min:ge,max:Ee})}};for(z=0;z<j.length;z++){var ce=j[z];if(ce.enabled)if(ce.bounds){var fe=S,pe=Y;ce.pattern&&(fe=Math.floor(fe)),_=o.simpleMap(ce.bounds,ce.pattern?u:k.r2l),O=_[0],N=_[1];var be=new Date(fe),Re,ke;switch(ce.pattern){case E:ke=L,Re=((N<O?7:0)+(N-O))*A,fe+=O*A-(be.getUTCDay()*A+be.getUTCHours()*M+be.getUTCMinutes()*p+be.getUTCSeconds()*T+be.getUTCMilliseconds());break;case C:ke=A,Re=((N<O?24:0)+(N-O))*M,fe+=O*M-(be.getUTCHours()*M+be.getUTCMinutes()*p+be.getUTCSeconds()*T+be.getUTCMilliseconds());break;default:fe=Math.min(_[0],_[1]),pe=Math.max(_[0],_[1]),ke=pe-fe,Re=ke}for(var Oe=fe;Oe<pe;Oe+=ke)se(Oe,Oe+Re)}else for(var Be=o.simpleMap(ce.values,k.d2c),Ae=0;Ae<Be.length;Ae++)O=Be[Ae],N=O+ce.dvalue,se(O,N)}return P.sort(function(ge,Ee){return ge.min-Ee.min}),P},k.makeCalcdata=function(S,Y,z){var _,O,N,P,j=k.type,se=j==="date"&&S[Y+"calendar"];if(Y in S){if(_=S[Y],P=S._length||o.minRowLength(_),o.isTypedArray(_)&&(j==="linear"||j==="log")){if(P===_.length)return _;if(_.subarray)return _.subarray(0,P)}if(j==="multicategory")return te(_,P);for(O=new Array(P),N=0;N<P;N++)O[N]=k.d2c(_[N],0,se,z)}else{var ce=Y+"0"in S?k.d2c(S[Y+"0"],0,se):0,fe=S["d"+Y]?Number(S["d"+Y]):1;for(_=S[{x:"y",y:"x"}[Y]],P=S._length||_.length,O=new Array(P),N=0;N<P;N++)O[N]=ce+N*fe}if(k.rangebreaks)for(N=0;N<P;N++)O[N]=k.maskBreaks(O[N]);return O},k.isValidRange=function(S){return Array.isArray(S)&&S.length===2&&e(k.r2l(S[0]))&&e(k.r2l(S[1]))},k.isPtWithinRange=function(S,Y){var z=k.c2l(S[Q],null,Y),_=k.r2l(k.range[0]),O=k.r2l(k.range[1]);return _<O?_<=z&&z<=O:O<=z&&z<=_},k._emptyCategories=function(){k._categories=[],k._categoriesMap={}},k.clearCalc=function(){var S=k._matchGroup;if(S){var Y=null,z=null;for(var _ in S){var O=I[d.id2name(_)];if(O._categories){Y=O._categories,z=O._categoriesMap;break}}Y&&z?(k._categories=Y,k._categoriesMap=z):k._emptyCategories()}else k._emptyCategories();if(k._initialCategories)for(var N=0;N<k._initialCategories.length;N++)B(k._initialCategories[N])},k.sortByInitialCategories=function(){var S=[];if(k._emptyCategories(),k._initialCategories)for(var Y=0;Y<k._initialCategories.length;Y++)B(k._initialCategories[Y]);S=S.concat(k._traceIndices);var z=k._matchGroup;for(var _ in z)if(U!==_){var O=I[d.id2name(_)];O._categories=k._categories,O._categoriesMap=k._categoriesMap,S=S.concat(O._traceIndices)}return S};var g=I._d3locale;k.type==="date"&&(k._dateFormat=g?g.timeFormat:n,k._extraFormat=I._extraFormat),k._separators=I.separators,k._numFormat=g?g.numberFormat:a,delete k._minDtick,delete k._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(f,ae,W){ae.exports=function(n){var o=["showexponent","showtickprefix","showticksuffix"],a=o.filter(function(u){return n[u]!==void 0}),e=function(u){return n[u]===n[a[0]]};if(a.every(e)||a.length===1)return n[a[0]]}},{}],303:[function(f,ae,W){var t=f("../../lib"),n=f("../../components/color").contrast,o=f("./layout_attributes"),a=f("./show_dflt"),e=f("../array_container_defaults");ae.exports=function(l,r,c,h,v){v||(v={});var y=a(l),m=c("showticklabels");if(m){var L=v.font||{},A=r.color,M=r.ticklabelposition||"",p=M.indexOf("inside")!==-1?n(v.bgColor):A&&A!==o.color.dflt?A:L.color;if(t.coerceFont(c,"tickfont",{family:L.family,size:L.size,color:p}),!v.noTicklabelstep&&h!=="multicategory"&&h!=="log"&&c("ticklabelstep"),v.noAng||c("tickangle"),h!=="category"){var T=c("tickformat");e(l,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:u}),r.tickformatstops.length||delete r.tickformatstops,!v.noExp&&!T&&h!=="date"&&(c("showexponent",y),c("exponentformat"),c("minexponent"),c("separatethousands"))}}};function u(s,l){function r(h,v){return t.coerce(s,l,o.tickformatstops,h,v)}var c=r("enabled");c&&(r("dtickrange"),r("value"))}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(f,ae,W){var t=f("../../lib"),n=f("./layout_attributes");ae.exports=function(a,e,u,s){var l=s.isMinor,r=l?a.minor||{}:a,c=l?e.minor:e,h=l?n.minor:n,v=l?"minor.":"",y=t.coerce2(r,c,h,"ticklen",l?(e.ticklen||5)*.6:void 0),m=t.coerce2(r,c,h,"tickwidth",l?e.tickwidth||1:void 0),L=t.coerce2(r,c,h,"tickcolor",(l?e.tickcolor:void 0)||c.color),A=u(v+"ticks",!l&&s.outerTicks||y||m||L?"outside":"");A||(delete c.ticklen,delete c.tickwidth,delete c.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(f,ae,W){var t=f("./clean_ticks"),n=f("../../lib").isArrayOrTypedArray;ae.exports=function(a,e,u,s,l){l||(l={});var r=l.isMinor,c=r?a.minor||{}:a,h=r?e.minor:e,v=r?"minor.":"";function y(x){var C=c[x];return C!==void 0?C:(h._template||{})[x]}var m=y("tick0"),L=y("dtick"),A=y("tickvals"),M=n(A)?"array":L?"linear":"auto",p=u(v+"tickmode",M);if(p==="auto")u(v+"nticks");else if(p==="linear"){var T=h.dtick=t.dtick(L,s);h.tick0=t.tick0(m,s,e.calendar,T)}else if(s!=="multicategory"){var d=u(v+"tickvals");d===void 0?h.tickmode="auto":r||u("ticktext")}}},{"../../lib":232,"./clean_ticks":285}],306:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../lib"),a=f("../../components/drawing"),e=f("./axes");ae.exports=function(s,l,r,c){var h=s._fullLayout;if(l.length===0){e.redrawComponents(s);return}function v(C){var E=C.xaxis,w=C.yaxis;h._defs.select("#"+C.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),C.plot.call(a.setTranslate,E._offset,w._offset).call(a.setScale,1,1);var H=C.plot.selectAll(".scatterlayer .trace");H.selectAll(".point").call(a.setPointGroupScale,1,1),H.selectAll(".textpoint").call(a.setTextPointsScale,1,1),H.call(a.hideOutsideRangePoints,C)}function y(C,E){var w=C.plotinfo,H=w.xaxis,F=w.yaxis,k=H._length,I=F._length,U=!!C.xr1,Q=!!C.yr1,J=[];if(U){var ee=o.simpleMap(C.xr0,H.r2l),R=o.simpleMap(C.xr1,H.r2l),G=ee[1]-ee[0],B=R[1]-R[0];J[0]=(ee[0]*(1-E)+E*R[0]-ee[0])/(ee[1]-ee[0])*k,J[2]=k*(1-E+E*B/G),H.range[0]=H.l2r(ee[0]*(1-E)+E*R[0]),H.range[1]=H.l2r(ee[1]*(1-E)+E*R[1])}else J[0]=0,J[2]=k;if(Q){var te=o.simpleMap(C.yr0,F.r2l),ne=o.simpleMap(C.yr1,F.r2l),oe=te[1]-te[0],me=ne[1]-ne[0];J[1]=(te[1]*(1-E)+E*ne[1]-te[1])/(te[0]-te[1])*I,J[3]=I*(1-E+E*me/oe),F.range[0]=H.l2r(te[0]*(1-E)+E*ne[0]),F.range[1]=F.l2r(te[1]*(1-E)+E*ne[1])}else J[1]=0,J[3]=I;e.drawOne(s,H,{skipTitle:!0}),e.drawOne(s,F,{skipTitle:!0}),e.redrawComponents(s,[H._id,F._id]);var de=U?k/J[2]:1,ie=Q?I/J[3]:1,Z=U?J[0]:0,q=Q?J[1]:0,K=U?J[0]/J[2]*k:0,g=Q?J[1]/J[3]*I:0,S=H._offset-K,Y=F._offset-g;w.clipRect.call(a.setTranslate,Z,q).call(a.setScale,1/de,1/ie),w.plot.call(a.setTranslate,S,Y).call(a.setScale,de,ie),a.setPointGroupScale(w.zoomScalePts,1/de,1/ie),a.setTextPointsScale(w.zoomScaleTxt,1/de,1/ie)}var m;c&&(m=c());function L(){for(var C={},E=0;E<l.length;E++){var w=l[E],H=w.plotinfo.xaxis,F=w.plotinfo.yaxis;w.xr1&&(C[H._name+".range"]=w.xr1.slice()),w.yr1&&(C[F._name+".range"]=w.yr1.slice())}return m&&m(),n.call("relayout",s,C).then(function(){for(var k=0;k<l.length;k++)v(l[k].plotinfo)})}function A(){for(var C={},E=0;E<l.length;E++){var w=l[E],H=w.plotinfo.xaxis,F=w.plotinfo.yaxis;w.xr0&&(C[H._name+".range"]=w.xr0.slice()),w.yr0&&(C[F._name+".range"]=w.yr0.slice())}return n.call("relayout",s,C).then(function(){for(var k=0;k<l.length;k++)v(l[k].plotinfo)})}var M,p,T,d=t.ease(r.easing);s._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(T),T=null,A()});function x(){p=Date.now();for(var C=Math.min(1,(p-M)/r.duration),E=d(C),w=0;w<l.length;w++)y(l[w],E);p-M>r.duration?(L(),T=window.cancelAnimationFrame(x)):T=window.requestAnimationFrame(x)}return M=Date.now(),T=window.requestAnimationFrame(x),Promise.resolve()}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(f,ae,W){var t=f("../../registry").traceIs,n=f("./axis_autotype");ae.exports=function(l,r,c,h){c("autotypenumbers",h.autotypenumbersDflt);var v=c("type",(h.splomStash||{}).type);v==="-"&&(o(r,h.data),r.type==="-"?r.type="linear":l.type=r.type)};function o(s,l){if(s.type==="-"){var r=s._id,c=r.charAt(0),h;r.indexOf("scene")!==-1&&(r=c);var v=a(l,r,c);if(!!v){if(v.type==="histogram"&&c==={v:"y",h:"x"}[v.orientation||"v"]){s.type="linear";return}var y=c+"calendar",m=v[y],L={noMultiCategory:!t(v,"cartesian")||t(v,"noMultiCategory")};if(v.type==="box"&&v._hasPreCompStats&&c==={h:"x",v:"y"}[v.orientation||"v"]&&(L.noMultiCategory=!0),L.autotypenumbers=s.autotypenumbers,u(v,c)){var A=e(v),M=[];for(h=0;h<l.length;h++){var p=l[h];!t(p,"box-violin")||(p[c+"axis"]||c)!==r||(p[A]!==void 0?M.push(p[A][0]):p.name!==void 0?M.push(p.name):M.push("text"),p[y]!==m&&(m=void 0))}s.type=n(M,m,L)}else if(v.type==="splom"){var T=v.dimensions,d=T[v._axesDim[r]];d.visible&&(s.type=n(d.values,m,L))}else s.type=n(v[c]||[v[c+"0"]],m,L)}}}function a(s,l,r){for(var c=0;c<s.length;c++){var h=s[c];if(h.type==="splom"&&h._length>0&&(h["_"+r+"axes"]||{})[l])return h;if((h[r+"axis"]||r)===l){if(u(h,r))return h;if((h[r]||[]).length||h[r+"0"])return h}}}function e(s){return{v:"x",h:"y"}[s.orientation||"v"]}function u(s,l){var r=e(s),c=t(s,"box-violin"),h=t(s._fullInput||{},"candlestick");return c&&!h&&l===r&&s[r]===void 0&&s[r+"0"]===void 0}},{"../../registry":318,"./axis_autotype":280}],308:[function(f,ae,W){var t=f("../registry"),n=f("../lib");W.manageCommandObserver=function(l,r,c,h){var v={},y=!0;r&&r._commandObserver&&(v=r._commandObserver),v.cache||(v.cache={}),v.lookupTable={};var m=W.hasSimpleAPICommandBindings(l,c,v.lookupTable);if(r&&r._commandObserver){if(m)return v;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,v}if(m){o(l,m,v.cache),v.check=function(){if(!!y){var p=o(l,m,v.cache);return p.changed&&h&&v.lookupTable[p.value]!==void 0&&(v.disable(),Promise.resolve(h({value:p.value,type:m.type,prop:m.prop,traces:m.traces,index:v.lookupTable[p.value]})).then(v.enable,v.enable)),p.changed}};for(var L=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],A=0;A<L.length;A++)l._internalOn(L[A],v.check);v.remove=function(){for(var M=0;M<L.length;M++)l._removeInternalListener(L[M],v.check)}}else n.log("Unable to automatically bind plot updates to API command"),v.lookupTable={},v.remove=function(){};return v.disable=function(){y=!1},v.enable=function(){y=!0},r&&(r._commandObserver=v),v},W.hasSimpleAPICommandBindings=function(l,r,c){var h,v=r.length,y;for(h=0;h<v;h++){var m,L=r[h],A=L.method,M=L.args;if(Array.isArray(M)||(M=[]),!A)return!1;var p=W.computeAPICommandBindings(l,A,M);if(p.length!==1)return!1;if(!y)y=p[0],Array.isArray(y.traces)&&y.traces.sort();else{if(m=p[0],m.type!==y.type||m.prop!==y.prop)return!1;if(Array.isArray(y.traces))if(Array.isArray(m.traces)){m.traces.sort();for(var T=0;T<y.traces.length;T++)if(y.traces[T]!==m.traces[T])return!1}else return!1;else if(m.prop!==y.prop)return!1}m=p[0];var d=m.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;c&&(c[d]=h)}return y};function o(l,r,c){var h,v,y,m=!1;if(r.type==="data")h=l._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")h=l._fullLayout;else return!1;return v=n.nestedProperty(h,r.prop).get(),y=c[r.type]=c[r.type]||{},y.hasOwnProperty(r.prop)&&y[r.prop]!==v&&(m=!0),y[r.prop]=v,{changed:m,value:v}}W.executeAPICommand=function(l,r,c){if(r==="skip")return Promise.resolve();var h=t.apiMethodRegistry[r],v=[l];Array.isArray(c)||(c=[]);for(var y=0;y<c.length;y++)v.push(c[y]);return h.apply(null,v).catch(function(m){return n.warn("API call to Plotly."+r+" rejected.",m),Promise.reject(m)})},W.computeAPICommandBindings=function(l,r,c){var h;switch(Array.isArray(c)||(c=[]),r){case"restyle":h=u(l,c);break;case"relayout":h=e(l,c);break;case"update":h=u(l,[c[0],c[2]]).concat(e(l,[c[1]]));break;case"animate":h=a(l,c);break;default:h=[]}return h};function a(l,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function e(l,r){var c=[],h=r[0],v={};if(typeof h=="string")v[h]=r[1];else if(n.isPlainObject(h))v=h;else return c;return s(v,function(y,m,L){c.push({type:"layout",prop:y,value:L})},"",0),c}function u(l,r){var c,h,v,y,m=[];if(h=r[0],v=r[1],c=r[2],y={},typeof h=="string")y[h]=v;else if(n.isPlainObject(h))y=h,c===void 0&&(c=v);else return m;return c===void 0&&(c=null),s(y,function(L,A,M){var p,T;if(Array.isArray(M)){T=M.slice();var d=Math.min(T.length,l.data.length);c&&(d=Math.min(d,c.length)),p=[];for(var x=0;x<d;x++)p[x]=c?c[x]:x}else T=M,p=c?c.slice():null;if(p===null)Array.isArray(T)&&(T=T[0]);else if(Array.isArray(p)){if(!Array.isArray(T)){var C=T;T=[];for(var E=0;E<p.length;E++)T[E]=C}T.length=Math.min(p.length,T.length)}m.push({type:"data",prop:L,traces:p,value:T})},"",0),m}function s(l,r,c,h){Object.keys(l).forEach(function(v){var y=l[v];if(v[0]!=="_"){var m=c+(h>0?".":"")+v;n.isPlainObject(y)?s(y,r,m,h+1):r(m,v,y)}})}},{"../lib":232,"../registry":318}],309:[function(f,ae,W){var t=f("../lib/extend").extendFlat;W.attributes=function(n,o){n=n||{},o=o||{};var a={valType:"info_array",editType:n.editType,items:[{valType:"number",min:0,max:1,editType:n.editType},{valType:"number",min:0,max:1,editType:n.editType}],dflt:[0,1]};n.name&&n.name+"",n.trace,o.description&&""+o.description;var e={x:t({},a,{}),y:t({},a,{}),editType:n.editType};return n.noGridCell||(e.row={valType:"integer",min:0,dflt:0,editType:n.editType},e.column={valType:"integer",min:0,dflt:0,editType:n.editType}),e},W.defaults=function(n,o,a,e){var u=e&&e.x||[0,1],s=e&&e.y||[0,1],l=o.grid;if(l){var r=a("domain.column");r!==void 0&&(r<l.columns?u=l._domains.x[r]:delete n.domain.column);var c=a("domain.row");c!==void 0&&(c<l.rows?s=l._domains.y[c]:delete n.domain.row)}var h=a("domain.x",u),v=a("domain.y",s);h[0]<h[1]||(n.domain.x=u.slice()),v[0]<v[1]||(n.domain.y=s.slice())}},{"../lib/extend":226}],310:[function(f,ae,W){ae.exports=function(t){var n=t.editType,o=t.colorEditType;o===void 0&&(o=n);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:o},editType:n};return t.autoSize&&(a.size.dflt="auto"),t.autoColor&&(a.color.dflt="auto"),t.arrayOk&&(a.family.arrayOk=!0,a.size.arrayOk=!0,a.color.arrayOk=!0),a}},{}],311:[function(f,ae,W){ae.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(f,ae,W){var t=f("../registry"),n=f("./cartesian/constants").SUBPLOT_PATTERN;W.getSubplotCalcData=function(o,a,e){var u=t.subplotsRegistry[a];if(!u)return[];for(var s=u.attr,l=[],r=0;r<o.length;r++){var c=o[r],h=c[0].trace;h[s]===e&&l.push(c)}return l},W.getModuleCalcData=function(o,a){var e=[],u=[],s;if(typeof a=="string"?s=t.getModule(a).plot:typeof a=="function"?s=a:s=a.plot,!s)return[e,o];for(var l=0;l<o.length;l++){var r=o[l],c=r[0].trace;c.visible!==!0||c._length===0||(c._module.plot===s?e.push(r):u.push(r))}return[e,u]},W.getSubplotData=function(a,e,u){if(!t.subplotsRegistry[e])return[];var s=t.subplotsRegistry[e].attr,l=[],r,c,h;if(e==="gl2d"){var v=u.match(n);c="x"+v[1],h="y"+v[2]}for(var y=0;y<a.length;y++)r=a[y],e==="gl2d"&&t.traceIs(r,"gl2d")?r[s[0]]===c&&r[s[1]]===h&&l.push(r):r[s]===u&&l.push(r);return l}},{"../registry":318,"./cartesian/constants":286}],313:[function(f,ae,W){function t(o,a){var e=[0,0,0,0],u,s;for(u=0;u<4;++u)for(s=0;s<4;++s)e[s]+=o[4*u+s]*a[u];return e}function n(o,a){var e=t(o.projection,t(o.view,t(o.model,[a[0],a[1],a[2],1])));return e}ae.exports=n},{}],314:[function(f,ae,W){var t=f("./font_attributes"),n=f("./animation_attributes"),o=f("../components/color/attributes"),a=f("../components/shapes/draw_newshape/attributes"),e=f("./pad_attributes"),u=f("../lib/extend").extendFlat,s=t({editType:"calc"});s.family.dflt='"Open Sans", verdana, arial, sans-serif',s.size.dflt=12,s.color.dflt=o.defaultLine,ae.exports={font:s,title:{text:{valType:"string",editType:"layoutstyle"},font:t({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:u(e({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:a.newshape,activeshape:a.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:u({},n.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:t({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(f,ae,W){ae.exports=function(t){var n=t.editType;return{t:{valType:"number",dflt:0,editType:n},r:{valType:"number",dflt:0,editType:n},b:{valType:"number",dflt:0,editType:n},l:{valType:"number",dflt:0,editType:n},editType:n}}},{}],316:[function(f,ae,W){var t=f("@plotly/d3"),n=f("d3-time-format").timeFormatLocale,o=f("d3-format").formatLocale,a=f("fast-isnumeric"),e=f("../registry"),u=f("../plot_api/plot_schema"),s=f("../plot_api/plot_template"),l=f("../lib"),r=f("../components/color"),c=f("../constants/numerical").BADNUM,h=f("./cartesian/axis_ids"),v=f("./cartesian/handle_outline").clearSelect,y=f("./animation_attributes"),m=f("./frame_attributes"),L=f("../plots/get_data").getModuleCalcData,A=l.relinkPrivateKeys,M=l._,p=ae.exports={};l.extendFlat(p,e),p.attributes=f("./attributes"),p.attributes.type.values=p.allTypes,p.fontAttrs=f("./font_attributes"),p.layoutAttributes=f("./layout_attributes"),p.fontWeight="normal";var T=p.transformsRegistry,d=f("./command");p.executeAPICommand=d.executeAPICommand,p.computeAPICommandBindings=d.computeAPICommandBindings,p.manageCommandObserver=d.manageCommandObserver,p.hasSimpleAPICommandBindings=d.hasSimpleAPICommandBindings,p.redrawText=function(g){return g=l.getGraphDiv(g),new Promise(function(S){setTimeout(function(){!g._fullLayout||(e.getComponentMethod("annotations","draw")(g),e.getComponentMethod("legend","draw")(g),e.getComponentMethod("colorbar","draw")(g),S(p.previousPromises(g)))},300)})},p.resize=function(g){g=l.getGraphDiv(g);var S,Y=new Promise(function(z,_){(!g||l.isHidden(g))&&_(new Error("Resize must be passed a displayed plot div element.")),g._redrawTimer&&clearTimeout(g._redrawTimer),g._resolveResize&&(S=g._resolveResize),g._resolveResize=z,g._redrawTimer=setTimeout(function(){if(!g.layout||g.layout.width&&g.layout.height||l.isHidden(g)){z(g);return}delete g.layout.width,delete g.layout.height;var O=g.changed;g.autoplay=!0,e.call("relayout",g,{autosize:!0}).then(function(){g.changed=O,g._resolveResize===z&&(delete g._resolveResize,z(g))})},100)});return S&&S(Y),Y},p.previousPromises=function(g){if((g._promises||[]).length)return Promise.all(g._promises).then(function(){g._promises=[]})},p.addLinks=function(g){if(!(!g._context.showLink&&!g._context.showSources)){var S=g._fullLayout,Y=l.ensureSingle(S._paper,"text","js-plot-link-container",function(j){j.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var se=t.select(this);se.append("tspan").classed("js-link-to-tool",!0),se.append("tspan").classed("js-link-spacer",!0),se.append("tspan").classed("js-sourcelinks",!0)})}),z=Y.node(),_={y:S._paper.attr("height")-9};document.body.contains(z)&&z.getComputedTextLength()>=S.width-20?(_["text-anchor"]="start",_.x=5):(_["text-anchor"]="end",_.x=S._paper.attr("width")-7),Y.attr(_);var O=Y.select(".js-link-to-tool"),N=Y.select(".js-link-spacer"),P=Y.select(".js-sourcelinks");g._context.showSources&&g._context.showSources(g),g._context.showLink&&x(g,O),N.text(O.text()&&P.text()?" - ":"")}};function x(g,S){S.text("");var Y=S.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(g._context.linkText+" "+String.fromCharCode(187));if(g._context.sendData)Y.on("click",function(){p.sendDataToCloud(g)});else{var z=window.location.pathname.split("/"),_=window.location.search;Y.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+z[2].split(".")[0]+"/"+z[1]+_})}}p.sendDataToCloud=function(g){var S=(window.PLOTLYENV||{}).BASE_URL||g._context.plotlyServerURL;if(!!S){g.emit("plotly_beforeexport");var Y=t.select(g).append("div").attr("id","hiddenform").style("display","none"),z=Y.append("form").attr({action:S+"/external",method:"post",target:"_blank"}),_=z.append("input").attr({type:"text",name:"data"});return _.node().value=p.graphJson(g,!1,"keepdata"),z.node().submit(),Y.remove(),g.emit("plotly_afterexport"),!1}};var C=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(g,S){var Y=S&&S.skipUpdateCalc,z=g._fullLayout||{};if(z._skipDefaults){delete z._skipDefaults;return}var _=g._fullLayout={},O=g.layout||{},N=g._fullData||[],P=g._fullData=[],j=g.data||[],se=g.calcdata||[],ce=g._context||{},fe;g._transitionData||p.createTransitionData(g),_._dfltTitle={plot:M(g,"Click to enter Plot title"),x:M(g,"Click to enter X axis title"),y:M(g,"Click to enter Y axis title"),colorbar:M(g,"Click to enter Colorscale title"),annotation:M(g,"new text")},_._traceWord=M(g,"trace");var pe=F(g,C);if(_._mapboxAccessToken=ce.mapboxAccessToken,z._initialAutoSizeIsDone){var be=z.width,Re=z.height;p.supplyLayoutGlobalDefaults(O,_,pe),O.width||(_.width=be),O.height||(_.height=Re),p.sanitizeMargins(_)}else{p.supplyLayoutGlobalDefaults(O,_,pe);var ke=!O.width||!O.height,Oe=_.autosize,Be=ce.autosizable,Ae=ke&&(Oe||Be);Ae?p.plotAutoSize(g,O,_):ke&&p.sanitizeMargins(_),!Oe&&ke&&(O.width=_.width,O.height=_.height)}_._d3locale=k(pe,_.separators),_._extraFormat=F(g,E),_._initialAutoSizeIsDone=!0,_._dataLength=j.length,_._modules=[],_._visibleModules=[],_._basePlotModules=[];var ge=_._subplots=H(),Ee=_._splomAxes={x:{},y:{}},Ve=_._splomSubplots={};_._splomGridDflt={},_._scatterStackOpts={},_._firstScatter={},_._alignmentOpts={},_._colorAxes={},_._requestRangeslider={},_._traceUids=w(N,j),_._globalTransforms=(g._context||{}).globalTransforms,p.supplyDataDefaults(j,P,O,_);var xt=Object.keys(Ee.x),Ye=Object.keys(Ee.y);if(xt.length>1&&Ye.length>1){for(e.getComponentMethod("grid","sizeDefaults")(O,_),fe=0;fe<xt.length;fe++)l.pushUnique(ge.xaxis,xt[fe]);for(fe=0;fe<Ye.length;fe++)l.pushUnique(ge.yaxis,Ye[fe]);for(var Xe in Ve)l.pushUnique(ge.cartesian,Xe)}if(_._has=p._hasPlotType.bind(_),N.length===P.length)for(fe=0;fe<P.length;fe++)A(P[fe],N[fe]);p.supplyLayoutModuleDefaults(O,_,P,g._transitionData);var Je=_._visibleModules,ft=[];for(fe=0;fe<Je.length;fe++){var yt=Je[fe].crossTraceDefaults;yt&&l.pushUnique(ft,yt)}for(fe=0;fe<ft.length;fe++)ft[fe](P,_);_._hasOnlyLargeSploms=_._basePlotModules.length===1&&_._basePlotModules[0].name==="splom"&&xt.length>15&&Ye.length>15&&_.shapes.length===0&&_.images.length===0,p.linkSubplots(P,_,N,z),p.cleanPlot(P,_,N,z);var At=!!(z._has&&z._has("gl2d")),qe=!!(_._has&&_._has("gl2d")),mt=!!(z._has&&z._has("cartesian")),st=!!(_._has&&_._has("cartesian")),gt=mt||At,Ct=st||qe;gt&&!Ct?z._bgLayer.remove():Ct&&!gt&&(_._shouldCreateBgLayer=!0),z._zoomlayer&&!g._dragging&&v({_fullLayout:z}),I(P,_),A(_,z),e.getComponentMethod("colorscale","crossTraceDefaults")(P,_),_._preGUI||(_._preGUI={}),_._tracePreGUI||(_._tracePreGUI={});var Ce=_._tracePreGUI,ze={},et;for(et in Ce)ze[et]="old";for(fe=0;fe<P.length;fe++)et=P[fe]._fullInput.uid,ze[et]||(Ce[et]={}),ze[et]="new";for(et in ze)ze[et]==="old"&&delete Ce[et];R(_),e.getComponentMethod("rangeslider","makeData")(_),!Y&&se.length===P.length&&p.supplyDefaultsUpdateCalc(se,P)},p.supplyDefaultsUpdateCalc=function(g,S){for(var Y=0;Y<S.length;Y++){var z=S[Y],_=(g[Y]||[])[0];if(_&&_.trace){var O=_.trace;if(O._hasCalcTransform){var N=O._arrayAttrs,P,j,se;for(P=0;P<N.length;P++)j=N[P],se=l.nestedProperty(O,j).get().slice(),l.nestedProperty(z,j).set(se)}_.trace=z}}};function w(g,S){var Y=S.length,z=[],_,O;for(_=0;_<g.length;_++){var N=g[_]._fullInput;N!==O&&z.push(N),O=N}var P=z.length,j=new Array(Y),se={};function ce(be,Re){j[Re]=be,se[be]=1}function fe(be,Re){if(be&&typeof be=="string"&&!se[be])return ce(be,Re),!0}for(_=0;_<Y;_++){var pe=S[_].uid;typeof pe=="number"&&(pe=String(pe)),!fe(pe,_)&&(_<P&&fe(z[_].uid,_)||ce(l.randstr(se),_))}return j}function H(){var g=e.collectableSubplotTypes,S={},Y,z;if(!g){g=[];var _=e.subplotsRegistry;for(var O in _){var N=_[O],P=N.attr;if(P&&(g.push(O),Array.isArray(P)))for(z=0;z<P.length;z++)l.pushUnique(g,P[z])}}for(Y=0;Y<g.length;Y++)S[g[Y]]=[];return S}function F(g,S){var Y=g._context.locale;Y||(Y="en-US");var z=!1,_={};function O(fe){for(var pe=!0,be=0;be<S.length;be++){var Re=S[be];_[Re]||(fe[Re]?_[Re]=fe[Re]:pe=!1)}pe&&(z=!0)}for(var N=0;N<2;N++){for(var P=g._context.locales,j=0;j<2;j++){var se=(P[Y]||{}).format;if(se&&(O(se),z))break;P=e.localeRegistry}var ce=Y.split("-")[0];if(z||ce===Y)break;Y=ce}return z||O(e.localeRegistry.en.format),_}function k(g,S){return g.decimal=S.charAt(0),g.thousands=S.charAt(1),{numberFormat:function(Y){try{Y=o(g).format(l.adjustFormat(Y))}catch{return l.warnBadFormat(Y),l.noFormat}return Y},timeFormat:n(g).utcFormat}}function I(g,S){var Y,z=[];S.meta&&(Y=S._meta={meta:S.meta,layout:{meta:S.meta}});for(var _=0;_<g.length;_++){var O=g[_];O.meta?z[O.index]=O._meta={meta:O.meta}:S.meta&&(O._meta={meta:S.meta}),S.meta&&(O._meta.layout={meta:S.meta})}z.length&&(Y||(Y=S._meta={}),Y.data=z)}p.createTransitionData=function(g){g._transitionData||(g._transitionData={}),g._transitionData._frames||(g._transitionData._frames=[]),g._transitionData._frameHash||(g._transitionData._frameHash={}),g._transitionData._counter||(g._transitionData._counter=0),g._transitionData._interruptCallbacks||(g._transitionData._interruptCallbacks=[])},p._hasPlotType=function(g){var S,Y=this._basePlotModules||[];for(S=0;S<Y.length;S++)if(Y[S].name===g)return!0;var z=this._modules||[];for(S=0;S<z.length;S++){var _=z[S].name;if(_===g)return!0;var O=e.modules[_];if(O&&O.categories[g])return!0}return!1},p.cleanPlot=function(g,S,Y,z){var _,O,N=z._basePlotModules||[];for(_=0;_<N.length;_++){var P=N[_];P.clean&&P.clean(g,S,Y,z)}var j=z._has&&z._has("gl"),se=S._has&&S._has("gl");j&&!se&&z._glcontainer!==void 0&&(z._glcontainer.selectAll(".gl-canvas").remove(),z._glcontainer.selectAll(".no-webgl").remove(),z._glcanvas=null);var ce=!!z._infolayer;e:for(_=0;_<Y.length;_++){var fe=Y[_],pe=fe.uid;for(O=0;O<g.length;O++){var be=g[O];if(pe===be.uid)continue e}ce&&z._infolayer.select(".cb"+pe).remove()}},p.linkSubplots=function(g,S,Y,z){var _,O,N=z._plots||{},P=S._plots={},j=S._subplots,se={_fullData:g,_fullLayout:S},ce=j.cartesian.concat(j.gl2d||[]);for(_=0;_<ce.length;_++){var fe=ce[_],pe=N[fe],be=h.getFromId(se,fe,"x"),Re=h.getFromId(se,fe,"y"),ke;for(pe?ke=P[fe]=pe:(ke=P[fe]={},ke.id=fe),be._counterAxes.push(Re._id),Re._counterAxes.push(be._id),be._subplotsWith.push(fe),Re._subplotsWith.push(fe),ke.xaxis=be,ke.yaxis=Re,ke._hasClipOnAxisFalse=!1,O=0;O<g.length;O++){var Oe=g[O];if(Oe.xaxis===ke.xaxis._id&&Oe.yaxis===ke.yaxis._id&&Oe.cliponaxis===!1){ke._hasClipOnAxisFalse=!0;break}}}var Be=h.list(se,null,!0),Ae;for(_=0;_<Be.length;_++){Ae=Be[_];var ge=null;Ae.overlaying&&(ge=h.getFromId(se,Ae.overlaying),ge&&ge.overlaying&&(Ae.overlaying=!1,ge=null)),Ae._mainAxis=ge||Ae,ge&&(Ae.domain=ge.domain.slice()),Ae._anchorAxis=Ae.anchor==="free"?null:h.getFromId(se,Ae.anchor)}for(_=0;_<Be.length;_++)if(Ae=Be[_],Ae._counterAxes.sort(h.idSort),Ae._subplotsWith.sort(l.subplotSort),Ae._mainSubplot=U(Ae,S),Ae._counterAxes.length&&(Ae.spikemode&&Ae.spikemode.indexOf("across")!==-1||Ae.automargin&&Ae.mirror&&Ae.anchor!=="free"||e.getComponentMethod("rangeslider","isVisible")(Ae))){var Ee=1,Ve=0;for(O=0;O<Ae._counterAxes.length;O++){var xt=h.getFromId(se,Ae._counterAxes[O]);Ee=Math.min(Ee,xt.domain[0]),Ve=Math.max(Ve,xt.domain[1])}Ee<Ve&&(Ae._counterDomainMin=Ee,Ae._counterDomainMax=Ve)}};function U(g,S){var Y={_fullLayout:S},z=g._id.charAt(0)==="x",_=g._mainAxis._anchorAxis,O="",N="",P="";if(_&&(P=_._mainAxis._id,O=z?g._id+P:P+g._id),!O||!S._plots[O]){O="";for(var j=g._counterAxes,se=0;se<j.length;se++){var ce=j[se],fe=z?g._id+ce:ce+g._id;N||(N=fe);var pe=h.getFromId(Y,ce);if(P&&pe.overlaying===P){O=fe;break}}}return O||N}p.clearExpandedTraceDefaultColors=function(g){var S,Y,z;function _(N,P,j,se){Y[se]=P,Y.length=se+1,N.valType==="color"&&N.dflt===void 0&&S.push(Y.join("."))}for(Y=[],S=g._module._colorAttrs,S||(g._module._colorAttrs=S=[],u.crawl(g._module.attributes,_)),z=0;z<S.length;z++){var O=l.nestedProperty(g,"_input."+S[z]);O.get()||l.nestedProperty(g,S[z]).set(null)}},p.supplyDataDefaults=function(g,S,Y,z){var _=z._modules,O=z._visibleModules,N=z._basePlotModules,P=0,j=0,se,ce,fe;z._transformModules=[];function pe(Ye){S.push(Ye);var Xe=Ye._module;!Xe||(l.pushUnique(_,Xe),Ye.visible===!0&&l.pushUnique(O,Xe),l.pushUnique(N,Ye._module.basePlotModule),P++,Ye._input.visible!==!1&&j++)}var be={},Re=[],ke=(Y.template||{}).data||{},Oe=s.traceTemplater(ke);for(se=0;se<g.length;se++){if(fe=g[se],ce=Oe.newTrace(fe),ce.uid=z._traceUids[se],p.supplyTraceDefaults(fe,ce,j,z,se),ce.index=se,ce._input=fe,ce._expandedIndex=P,ce.transforms&&ce.transforms.length)for(var Be=fe.visible!==!1&&ce.visible===!1,Ae=J(ce,S,Y,z),ge=0;ge<Ae.length;ge++){var Ee=Ae[ge],Ve={_template:ce._template,type:ce.type,uid:ce.uid+ge};Be&&Ee.visible===!1&&delete Ee.visible,p.supplyTraceDefaults(Ee,Ve,P,z,se),A(Ve,Ee),Ve.index=se,Ve._input=fe,Ve._fullInput=ce,Ve._expandedIndex=P,Ve._expandedInput=Ee,pe(Ve)}else ce._fullInput=ce,ce._expandedInput=ce,pe(ce);e.traceIs(ce,"carpetAxis")&&(be[ce.carpet]=ce),e.traceIs(ce,"carpetDependent")&&Re.push(se)}for(se=0;se<Re.length;se++)if(ce=S[Re[se]],!!ce.visible){var xt=be[ce.carpet];if(ce._carpet=xt,!xt||!xt.visible){ce.visible=!1;continue}ce.xaxis=xt.xaxis,ce.yaxis=xt.yaxis}},p.supplyAnimationDefaults=function(g){g=g||{};var S,Y={};function z(_,O){return l.coerce(g||{},Y,y,_,O)}if(z("mode"),z("direction"),z("fromcurrent"),Array.isArray(g.frame))for(Y.frame=[],S=0;S<g.frame.length;S++)Y.frame[S]=p.supplyAnimationFrameDefaults(g.frame[S]||{});else Y.frame=p.supplyAnimationFrameDefaults(g.frame||{});if(Array.isArray(g.transition))for(Y.transition=[],S=0;S<g.transition.length;S++)Y.transition[S]=p.supplyAnimationTransitionDefaults(g.transition[S]||{});else Y.transition=p.supplyAnimationTransitionDefaults(g.transition||{});return Y},p.supplyAnimationFrameDefaults=function(g){var S={};function Y(z,_){return l.coerce(g||{},S,y.frame,z,_)}return Y("duration"),Y("redraw"),S},p.supplyAnimationTransitionDefaults=function(g){var S={};function Y(z,_){return l.coerce(g||{},S,y.transition,z,_)}return Y("duration"),Y("easing"),S},p.supplyFrameDefaults=function(g){var S={};function Y(z,_){return l.coerce(g,S,m,z,_)}return Y("group"),Y("name"),Y("traces"),Y("baseframe"),Y("data"),Y("layout"),S},p.supplyTraceDefaults=function(g,S,Y,z,_){var O=z.colorway||r.defaults,N=O[Y%O.length],P;function j(Ae,ge){return l.coerce(g,S,p.attributes,Ae,ge)}var se=j("visible");j("type"),j("name",z._traceWord+" "+_),j("uirevision",z.uirevision);var ce=p.getModule(S);if(S._module=ce,ce){var fe=ce.basePlotModule,pe=fe.attr,be=fe.attributes;if(pe&&be){var Re=z._subplots,ke="";if(se||fe.name!=="gl2d"){if(Array.isArray(pe))for(P=0;P<pe.length;P++){var Oe=pe[P],Be=l.coerce(g,S,be,Oe);Re[Oe]&&l.pushUnique(Re[Oe],Be),ke+=Be}else ke=l.coerce(g,S,be,pe);Re[fe.name]&&l.pushUnique(Re[fe.name],ke)}}}return se&&(j("customdata"),j("ids"),j("meta"),e.traceIs(S,"showLegend")?(l.coerce(g,S,ce.attributes.showlegend?ce.attributes:p.attributes,"showlegend"),j("legendgroup"),j("legendgrouptitle.text"),j("legendrank"),S._dfltShowLegend=!0):S._dfltShowLegend=!1,ce&&ce.supplyDefaults(g,S,N,z),e.traceIs(S,"noOpacity")||j("opacity"),e.traceIs(S,"notLegendIsolatable")&&(S.visible=!!S.visible),e.traceIs(S,"noHover")||(S.hovertemplate||l.coerceHoverinfo(g,S,z),S.type!=="parcats"&&e.getComponentMethod("fx","supplyDefaults")(g,S,N,z)),ce&&ce.selectPoints&&j("selectedpoints"),p.supplyTransformDefaults(g,S,z)),S};function Q(g){var S=g.transforms;if(Array.isArray(S)&&S.length)for(var Y=0;Y<S.length;Y++){var z=S[Y],_=z._module||T[z.type];if(_&&_.makesData)return!0}return!1}p.hasMakesDataTransform=Q,p.supplyTransformDefaults=function(g,S,Y){if(!!(S._length||Q(g))){var z=Y._globalTransforms||[],_=Y._transformModules||[];if(!(!Array.isArray(g.transforms)&&z.length===0))for(var O=g.transforms||[],N=z.concat(O),P=S.transforms=[],j=0;j<N.length;j++){var se=N[j],ce=se.type,fe=T[ce],pe,be=!(se._module&&se._module===fe),Re=fe&&typeof fe.transform=="function";fe||l.warn("Unrecognized transform type "+ce+"."),fe&&fe.supplyDefaults&&(be||Re)?(pe=fe.supplyDefaults(se,S,Y,g),pe.type=ce,pe._module=fe,l.pushUnique(_,fe)):pe=l.extendFlat({},se),P.push(pe)}}};function J(g,S,Y,z){for(var _=g.transforms,O=[g],N=0;N<_.length;N++){var P=_[N],j=T[P.type];j&&j.transform&&(O=j.transform(O,{transform:P,fullTrace:g,fullData:S,layout:Y,fullLayout:z,transformIndex:N}))}return O}p.supplyLayoutGlobalDefaults=function(g,S,Y){function z(se,ce){return l.coerce(g,S,p.layoutAttributes,se,ce)}var _=g.template;l.isPlainObject(_)&&(S.template=_,S._template=_.layout,S._dataTemplate=_.data),z("autotypenumbers");var O=l.coerceFont(z,"font"),N=O.size;l.coerceFont(z,"title.font",l.extendFlat({},O,{size:Math.round(N*1.4)})),z("title.text",S._dfltTitle.plot),z("title.xref"),z("title.yref"),z("title.x"),z("title.y"),z("title.xanchor"),z("title.yanchor"),z("title.pad.t"),z("title.pad.r"),z("title.pad.b"),z("title.pad.l");var P=z("uniformtext.mode");P&&z("uniformtext.minsize"),z("autosize",!(g.width&&g.height)),z("width"),z("height"),z("margin.l"),z("margin.r"),z("margin.t"),z("margin.b"),z("margin.pad"),z("margin.autoexpand"),g.width&&g.height&&p.sanitizeMargins(S),e.getComponentMethod("grid","sizeDefaults")(g,S),z("paper_bgcolor"),z("separators",Y.decimal+Y.thousands),z("hidesources"),z("colorway"),z("datarevision");var j=z("uirevision");z("editrevision",j),z("selectionrevision",j),e.getComponentMethod("modebar","supplyLayoutDefaults")(g,S),e.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(g,S,z),z("meta"),l.isPlainObject(g.transition)&&(z("transition.duration"),z("transition.easing"),z("transition.ordering")),e.getComponentMethod("calendars","handleDefaults")(g,S,"calendar"),e.getComponentMethod("fx","supplyLayoutGlobalDefaults")(g,S,z)};function ee(g){return typeof g=="string"&&g.substr(g.length-2)==="px"&&parseFloat(g)}p.plotAutoSize=function(S,Y,z){var _=S._context||{},O=_.frameMargins,N,P,j=l.isPlotDiv(S);if(j&&S.emit("plotly_autosize"),_.fillFrame)N=window.innerWidth,P=window.innerHeight,document.body.style.overflow="hidden";else{var se=j?window.getComputedStyle(S):{};if(N=ee(se.width)||ee(se.maxWidth)||z.width,P=ee(se.height)||ee(se.maxHeight)||z.height,a(O)&&O>0){var ce=1-2*O;N=Math.round(ce*N),P=Math.round(ce*P)}}var fe=p.layoutAttributes.width.min,pe=p.layoutAttributes.height.min;N<fe&&(N=fe),P<pe&&(P=pe);var be=!Y.width&&Math.abs(z.width-N)>1,Re=!Y.height&&Math.abs(z.height-P)>1;(Re||be)&&(be&&(z.width=N),Re&&(z.height=P)),S._initialAutoSize||(S._initialAutoSize={width:N,height:P}),p.sanitizeMargins(z)},p.supplyLayoutModuleDefaults=function(g,S,Y,z){var _=e.componentsRegistry,O=S._basePlotModules,N,P,j,se=e.subplotsRegistry.cartesian;for(N in _)j=_[N],j.includeBasePlot&&j.includeBasePlot(g,S);O.length||O.push(se),S._has("cartesian")&&(e.getComponentMethod("grid","contentDefaults")(g,S),se.finalizeSubplots(g,S));for(var ce in S._subplots)S._subplots[ce].sort(l.subplotSort);for(P=0;P<O.length;P++)j=O[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(g,S,Y);var fe=S._modules;for(P=0;P<fe.length;P++)j=fe[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(g,S,Y);var pe=S._transformModules;for(P=0;P<pe.length;P++)j=pe[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(g,S,Y,z);for(N in _)j=_[N],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(g,S,Y)},p.purge=function(g){var S=g._fullLayout||{};S._glcontainer!==void 0&&(S._glcontainer.selectAll(".gl-canvas").remove(),S._glcontainer.remove(),S._glcanvas=null),S._modeBar&&S._modeBar.destroy(),g._transitionData&&(g._transitionData._interruptCallbacks&&(g._transitionData._interruptCallbacks.length=0),g._transitionData._animationRaf&&window.cancelAnimationFrame(g._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(g),delete g.data,delete g.layout,delete g._fullData,delete g._fullLayout,delete g.calcdata,delete g.empty,delete g.fid,delete g.undoqueue,delete g.undonum,delete g.autoplay,delete g.changed,delete g._promises,delete g._redrawTimer,delete g._hmlumcount,delete g._hmpixcount,delete g._transitionData,delete g._transitioning,delete g._initialAutoSize,delete g._transitioningWithDuration,delete g._dragging,delete g._dragged,delete g._dragdata,delete g._hoverdata,delete g._snapshotInProgress,delete g._editing,delete g._mouseDownTime,delete g._legendMouseDownTime,g.removeAllListeners&&g.removeAllListeners()},p.style=function(g){var S=g._fullLayout._visibleModules,Y=[],z;for(z=0;z<S.length;z++){var _=S[z];_.style&&l.pushUnique(Y,_.style)}for(z=0;z<Y.length;z++)Y[z](g)},p.sanitizeMargins=function(g){if(!(!g||!g.margin)){var S=g.width,Y=g.height,z=g.margin,_=S-(z.l+z.r),O=Y-(z.t+z.b),N;_<0&&(N=(S-1)/(z.l+z.r),z.l=Math.floor(N*z.l),z.r=Math.floor(N*z.r)),O<0&&(N=(Y-1)/(z.t+z.b),z.t=Math.floor(N*z.t),z.b=Math.floor(N*z.b))}},p.clearAutoMarginIds=function(g){g._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(g,S){g._fullLayout._pushmarginIds[S]=1};function R(g){var S=g.margin;if(!g._size){var Y=g._size={l:Math.round(S.l),r:Math.round(S.r),t:Math.round(S.t),b:Math.round(S.b),p:Math.round(S.pad)};Y.w=Math.round(g.width)-Y.l-Y.r,Y.h=Math.round(g.height)-Y.t-Y.b}g._pushmargin||(g._pushmargin={}),g._pushmarginIds||(g._pushmarginIds={})}var G=2,B=2,te=64,ne=64;p.autoMargin=function(g,S,Y){var z=g._fullLayout,_=z.width,O=z.height,N=z.margin,P=l.constrain(_-N.l-N.r,G,te),j=l.constrain(O-N.t-N.b,B,ne),se=Math.max(0,_-P),ce=Math.max(0,O-j),fe=z._pushmargin,pe=z._pushmarginIds;if(N.autoexpand!==!1){if(!Y)delete fe[S],delete pe[S];else{var be=Y.pad;if(be===void 0&&(be=Math.min(12,N.l,N.r,N.t,N.b)),se){var Re=(Y.l+Y.r)/se;Re>1&&(Y.l/=Re,Y.r/=Re)}if(ce){var ke=(Y.t+Y.b)/ce;ke>1&&(Y.t/=ke,Y.b/=ke)}var Oe=Y.xl!==void 0?Y.xl:Y.x,Be=Y.xr!==void 0?Y.xr:Y.x,Ae=Y.yt!==void 0?Y.yt:Y.y,ge=Y.yb!==void 0?Y.yb:Y.y;fe[S]={l:{val:Oe,size:Y.l+be},r:{val:Be,size:Y.r+be},b:{val:ge,size:Y.b+be},t:{val:Ae,size:Y.t+be}},pe[S]=1}if(!z._replotting)return p.doAutoMargin(g)}},p.doAutoMargin=function(g){var S=g._fullLayout,Y=S.width,z=S.height;S._size||(S._size={}),R(S);var _=S._size,O=S.margin,N=l.extendFlat({},_),P=O.l,j=O.r,se=O.t,ce=O.b,fe=S._pushmargin,pe=S._pushmarginIds;if(S.margin.autoexpand!==!1){for(var be in fe)pe[be]||delete fe[be];fe.base={l:{val:0,size:P},r:{val:1,size:j},t:{val:1,size:se},b:{val:0,size:ce}};for(var Re in fe){var ke=fe[Re].l||{},Oe=fe[Re].b||{},Be=ke.val,Ae=ke.size,ge=Oe.val,Ee=Oe.size;for(var Ve in fe){if(a(Ae)&&fe[Ve].r){var xt=fe[Ve].r.val,Ye=fe[Ve].r.size;if(xt>Be){var Xe=(Ae*xt+(Ye-Y)*Be)/(xt-Be),Je=(Ye*(1-Be)+(Ae-Y)*(1-xt))/(xt-Be);Xe+Je>P+j&&(P=Xe,j=Je)}}if(a(Ee)&&fe[Ve].t){var ft=fe[Ve].t.val,yt=fe[Ve].t.size;if(ft>ge){var At=(Ee*ft+(yt-z)*ge)/(ft-ge),qe=(yt*(1-ge)+(Ee-z)*(1-ft))/(ft-ge);At+qe>ce+se&&(ce=At,se=qe)}}}}}var mt=l.constrain(Y-O.l-O.r,G,te),st=l.constrain(z-O.t-O.b,B,ne),gt=Math.max(0,Y-mt),Ct=Math.max(0,z-st);if(gt){var Ce=(P+j)/gt;Ce>1&&(P/=Ce,j/=Ce)}if(Ct){var ze=(ce+se)/Ct;ze>1&&(ce/=ze,se/=ze)}if(_.l=Math.round(P),_.r=Math.round(j),_.t=Math.round(se),_.b=Math.round(ce),_.p=Math.round(O.pad),_.w=Math.round(Y)-_.l-_.r,_.h=Math.round(z)-_.t-_.b,!S._replotting&&p.didMarginChange(N,_)){"_redrawFromAutoMarginCount"in S?S._redrawFromAutoMarginCount++:S._redrawFromAutoMarginCount=1;var et=3*(1+Object.keys(pe).length);if(S._redrawFromAutoMarginCount<et)return e.call("_doPlot",g);S._size=N,l.warn("Too many auto-margin redraws.")}oe(g)};function oe(g){var S=h.list(g,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Y){for(var z=0;z<S.length;z++){var _=S[z][Y];_&&_()}})}var me=["l","r","t","b","p","w","h"];p.didMarginChange=function(g,S){for(var Y=0;Y<me.length;Y++){var z=me[Y],_=g[z],O=S[z];if(!a(_)||Math.abs(O-_)>1)return!0}return!1},p.graphJson=function(g,S,Y,z,_,O){(_&&S&&!g._fullData||_&&!S&&!g._fullLayout)&&p.supplyDefaults(g);var N=_?g._fullData:g.data,P=_?g._fullLayout:g.layout,j=(g._transitionData||{})._frames;function se(pe,be){if(typeof pe=="function")return be?"_function_":null;if(l.isPlainObject(pe)){var Re={},ke;return Object.keys(pe).sort().forEach(function(Oe){if(["_","["].indexOf(Oe.charAt(0))===-1){if(typeof pe[Oe]=="function"){be&&(Re[Oe]="_function");return}if(Y==="keepdata"){if(Oe.substr(Oe.length-3)==="src")return}else if(Y==="keepstream"){if(ke=pe[Oe+"src"],typeof ke=="string"&&ke.indexOf(":")>0&&!l.isPlainObject(pe.stream))return}else if(Y!=="keepall"&&(ke=pe[Oe+"src"],typeof ke=="string"&&ke.indexOf(":")>0))return;Re[Oe]=se(pe[Oe],be)}}),Re}return Array.isArray(pe)?pe.map(function(Oe){return se(Oe,be)}):l.isTypedArray(pe)?l.simpleMap(pe,l.identity):l.isJSDate(pe)?l.ms2DateTimeLocal(+pe):pe}var ce={data:(N||[]).map(function(pe){var be=se(pe);return S&&delete be.fit,be})};if(!S&&(ce.layout=se(P),_)){var fe=P._size;ce.layout.computed={margin:{b:fe.b,l:fe.l,r:fe.r,t:fe.t}}}return j&&(ce.frames=se(j)),O&&(ce.config=se(g._context,!0)),z==="object"?ce:JSON.stringify(ce)},p.modifyFrames=function(g,S){var Y,z,_,O=g._transitionData._frames,N=g._transitionData._frameHash;for(Y=0;Y<S.length;Y++)switch(z=S[Y],z.type){case"replace":_=z.value;var P=(O[z.index]||{}).name,j=_.name;O[z.index]=N[j]=_,j!==P&&(delete N[P],N[j]=_);break;case"insert":_=z.value,N[_.name]=_,O.splice(z.index,0,_);break;case"delete":_=O[z.index],delete N[_.name],O.splice(z.index,1);break}return Promise.resolve()},p.computeFrame=function(g,S){var Y=g._transitionData._frameHash,z,_,O,N;if(!S)throw new Error("computeFrame must be given a string frame name");var P=Y[S.toString()];if(!P)return!1;for(var j=[P],se=[P.name];P.baseframe&&(P=Y[P.baseframe.toString()])&&se.indexOf(P.name)===-1;)j.push(P),se.push(P.name);for(var ce={};P=j.pop();)if(P.layout&&(ce.layout=p.extendLayout(ce.layout,P.layout)),P.data){if(ce.data||(ce.data=[]),_=P.traces,!_)for(_=[],z=0;z<P.data.length;z++)_[z]=z;for(ce.traces||(ce.traces=[]),z=0;z<P.data.length;z++)O=_[z],O!=null&&(N=ce.traces.indexOf(O),N===-1&&(N=ce.data.length,ce.traces[N]=O),ce.data[N]=p.extendTrace(ce.data[N],P.data[z]))}return ce},p.recomputeFrameHash=function(g){for(var S=g._transitionData._frameHash={},Y=g._transitionData._frames,z=0;z<Y.length;z++){var _=Y[z];_&&_.name&&(S[_.name]=_)}},p.extendObjectWithContainers=function(g,S,Y){var z,_,O,N,P,j,se,ce,fe=l.extendDeepNoArrays({},S||{}),pe=l.expandObjectPaths(fe),be={};if(Y&&Y.length)for(O=0;O<Y.length;O++)z=l.nestedProperty(pe,Y[O]),_=z.get(),_===void 0?l.nestedProperty(be,Y[O]).set(null):(z.set(null),l.nestedProperty(be,Y[O]).set(_));if(g=l.extendDeepNoArrays(g||{},pe),Y&&Y.length){for(O=0;O<Y.length;O++)if(P=l.nestedProperty(be,Y[O]),se=P.get(),!!se){for(j=l.nestedProperty(g,Y[O]),ce=j.get(),Array.isArray(ce)||(ce=[],j.set(ce)),N=0;N<se.length;N++){var Re=se[N];Re===null?ce[N]=null:ce[N]=p.extendObjectWithContainers(ce[N],Re)}j.set(ce)}}return g},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=e.layoutArrayContainers,p.extendTrace=function(g,S){return p.extendObjectWithContainers(g,S,p.dataArrayContainers)},p.extendLayout=function(g,S){return p.extendObjectWithContainers(g,S,p.layoutArrayContainers)},p.transition=function(g,S,Y,z,_,O){var N={redraw:_.redraw},P={},j=[];return N.prepareFn=function(){for(var se=Array.isArray(S)?S.length:0,ce=z.slice(0,se),fe=0;fe<ce.length;fe++){var pe=ce[fe],be=g._fullData[pe],Re=be._module;if(!!Re){if(Re.animatable){var ke=Re.basePlotModule.name;P[ke]||(P[ke]=[]),P[ke].push(pe)}g.data[ce[fe]]=p.extendTrace(g.data[ce[fe]],S[fe])}}var Oe=l.expandObjectPaths(l.extendDeepNoArrays({},Y)),Be=/^[xy]axis[0-9]*$/;for(var Ae in Oe)!Be.test(Ae)||delete Oe[Ae].range;p.extendLayout(g.layout,Oe),delete g.calcdata,p.supplyDefaults(g),p.doCalcdata(g);var ge=l.expandObjectPaths(Y);if(ge){var Ee=g._fullLayout._plots;for(var Ve in Ee){var xt=Ee[Ve],Ye=xt.xaxis,Xe=xt.yaxis,Je=Ye.range.slice(),ft=Xe.range.slice(),yt=null,At=null,qe=null,mt=null;Array.isArray(ge[Ye._name+".range"])?yt=ge[Ye._name+".range"].slice():Array.isArray((ge[Ye._name]||{}).range)&&(yt=ge[Ye._name].range.slice()),Array.isArray(ge[Xe._name+".range"])?At=ge[Xe._name+".range"].slice():Array.isArray((ge[Xe._name]||{}).range)&&(At=ge[Xe._name].range.slice()),Je&&yt&&(Ye.r2l(Je[0])!==Ye.r2l(yt[0])||Ye.r2l(Je[1])!==Ye.r2l(yt[1]))&&(qe={xr0:Je,xr1:yt}),ft&&At&&(Xe.r2l(ft[0])!==Xe.r2l(At[0])||Xe.r2l(ft[1])!==Xe.r2l(At[1]))&&(mt={yr0:ft,yr1:At}),(qe||mt)&&j.push(l.extendFlat({plotinfo:xt},qe,mt))}}return Promise.resolve()},N.runFn=function(se){var ce,fe=g._fullLayout._basePlotModules,pe=j.length,be;if(Y)for(be=0;be<fe.length;be++)fe[be].transitionAxes&&fe[be].transitionAxes(g,j,O,se);pe?(ce=l.extendFlat({},O),ce.duration=0,delete P.cartesian):ce=O;for(var Re in P){var ke=P[Re],Oe=g._fullData[ke[0]]._module;Oe.basePlotModule.plot(g,ke,ce,se)}},de(g,O,N)},p.transitionFromReact=function(g,S,Y,z){var _=g._fullLayout,O=_.transition,N={},P=[];return N.prepareFn=function(){var j=_._plots;N.redraw=!1,S.anim==="some"&&(N.redraw=!0),Y.anim==="some"&&(N.redraw=!0);for(var se in j){var ce=j[se],fe=ce.xaxis,pe=ce.yaxis,be=z[fe._name].range.slice(),Re=z[pe._name].range.slice(),ke=fe.range.slice(),Oe=pe.range.slice();fe.setScale(),pe.setScale();var Be=null,Ae=null;(fe.r2l(be[0])!==fe.r2l(ke[0])||fe.r2l(be[1])!==fe.r2l(ke[1]))&&(Be={xr0:be,xr1:ke}),(pe.r2l(Re[0])!==pe.r2l(Oe[0])||pe.r2l(Re[1])!==pe.r2l(Oe[1]))&&(Ae={yr0:Re,yr1:Oe}),(Be||Ae)&&P.push(l.extendFlat({plotinfo:ce},Be,Ae))}return Promise.resolve()},N.runFn=function(j){for(var se=g._fullData,ce=g._fullLayout,fe=ce._basePlotModules,pe,be,Re,ke=[],Oe=0;Oe<se.length;Oe++)ke.push(Oe);function Be(){if(!!g._fullLayout)for(var ge=0;ge<fe.length;ge++)fe[ge].transitionAxes&&fe[ge].transitionAxes(g,P,pe,j)}function Ae(){if(!!g._fullLayout)for(var ge=0;ge<fe.length;ge++)fe[ge].plot(g,Re,be,j)}P.length&&S.anim?O.ordering==="traces first"?(pe=l.extendFlat({},O,{duration:0}),Re=ke,be=O,setTimeout(Be,O.duration),Ae()):(pe=O,Re=null,be=l.extendFlat({},O,{duration:0}),setTimeout(Ae,pe.duration),Be()):P.length?(pe=O,Be()):S.anim&&(Re=ke,be=O,Ae())},de(g,O,N)};function de(g,S,Y){var z=!1;function _(fe){var pe=Promise.resolve();if(!fe)return pe;for(;fe.length;)pe=pe.then(fe.shift());return pe}function O(fe){if(!!fe)for(;fe.length;)fe.shift()}function N(){return g.emit("plotly_transitioning",[]),new Promise(function(fe){g._transitioning=!0,S.duration>0&&(g._transitioningWithDuration=!0),g._transitionData._interruptCallbacks.push(function(){z=!0}),Y.redraw&&g._transitionData._interruptCallbacks.push(function(){return e.call("redraw",g)}),g._transitionData._interruptCallbacks.push(function(){g.emit("plotly_transitioninterrupted",[])});var pe=0,be=0;function Re(){return pe++,function(){be++,!z&&be===pe&&P(fe)}}Y.runFn(Re),setTimeout(Re())})}function P(fe){if(!!g._transitionData)return O(g._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Y.redraw)return e.call("redraw",g)}).then(function(){g._transitioning=!1,g._transitioningWithDuration=!1,g.emit("plotly_transitioned",[])}).then(fe)}function j(){if(!!g._transitionData)return g._transitioning=!1,_(g._transitionData._interruptCallbacks)}var se=[p.previousPromises,j,Y.prepareFn,p.rehover,N],ce=l.syncOrAsync(se,g);return(!ce||!ce.then)&&(ce=Promise.resolve()),ce.then(function(){return g})}p.doCalcdata=function(g,S){var Y=h.list(g),z=g._fullData,_=g._fullLayout,O,N,P,j,se=new Array(z.length),ce=(g.calcdata||[]).slice();for(g.calcdata=se,_._numBoxes=0,_._numViolins=0,_._violinScaleGroupStats={},g._hmpixcount=0,g._hmlumcount=0,_._piecolormap={},_._sunburstcolormap={},_._treemapcolormap={},_._iciclecolormap={},_._funnelareacolormap={},P=0;P<z.length;P++)if(Array.isArray(S)&&S.indexOf(P)===-1){se[P]=ce[P];continue}for(P=0;P<z.length;P++)O=z[P],O._arrayAttrs=u.findArrayAttributes(O),O._extremes={};var fe=_._subplots.polar||[];for(P=0;P<fe.length;P++)Y.push(_[fe[P]].radialaxis,_[fe[P]].angularaxis);for(var pe in _._colorAxes){var be=_[pe];be.cauto!==!1&&(delete be.cmin,delete be.cmax)}var Re=!1;function ke(Ae){if(O=z[Ae],N=O._module,O.visible===!0&&O.transforms){if(N&&N.calc){var ge=N.calc(g,O);ge[0]&&ge[0].t&&ge[0].t._scene&&delete ge[0].t._scene.dirty}for(j=0;j<O.transforms.length;j++){var Ee=O.transforms[j];N=T[Ee.type],N&&N.calcTransform&&(O._hasCalcTransform=!0,Re=!0,N.calcTransform(g,O,Ee))}}}function Oe(Ae,ge){if(O=z[Ae],N=O._module,!!N.isContainer===ge){var Ee=[];if(O.visible===!0&&O._length!==0){delete O._indexToPoints;var Ve=O.transforms||[];for(j=Ve.length-1;j>=0;j--)if(Ve[j].enabled){O._indexToPoints=Ve[j]._indexToPoints;break}N&&N.calc&&(Ee=N.calc(g,O))}(!Array.isArray(Ee)||!Ee[0])&&(Ee=[{x:c,y:c}]),Ee[0].t||(Ee[0].t={}),Ee[0].trace=O,se[Ae]=Ee}}for(q(Y,z,_),P=0;P<z.length;P++)Oe(P,!0);for(P=0;P<z.length;P++)ke(P);for(Re&&q(Y,z,_),P=0;P<z.length;P++)Oe(P,!0);for(P=0;P<z.length;P++)Oe(P,!1);K(g);var Be=Z(Y,g);if(Be.length){for(_._numBoxes=0,_._numViolins=0,P=0;P<Be.length;P++)Oe(Be[P],!0);for(P=0;P<Be.length;P++)Oe(Be[P],!1);K(g)}e.getComponentMethod("fx","calc")(g),e.getComponentMethod("errorbars","calc")(g)};var ie=/(total|sum|min|max|mean|median) (ascending|descending)/;function Z(g,S){var Y=[],z,_,O,N,P;function j(gt,Ct,Ce){var ze=Ct._id.charAt(0);if(gt==="histogram2dcontour"){var et=Ct._counterAxes[0],ve=h.getFromId(S,et),we=ze==="x"||et==="x"&&ve.type==="category",Me=ze==="y"||et==="y"&&ve.type==="category";return function(De,je){return De===0||je===0||we&&De===Ce[je].length-1||Me&&je===Ce.length-1?-1:(ze==="y"?je:De)-1}}else return function(De,je){return ze==="y"?je:De}}var se={min:function(gt){return l.aggNums(Math.min,null,gt)},max:function(gt){return l.aggNums(Math.max,null,gt)},sum:function(gt){return l.aggNums(function(Ct,Ce){return Ct+Ce},null,gt)},total:function(gt){return l.aggNums(function(Ct,Ce){return Ct+Ce},null,gt)},mean:function(gt){return l.mean(gt)},median:function(gt){return l.median(gt)}};for(z=0;z<g.length;z++){var ce=g[z];if(ce.type==="category"){var fe=ce.categoryorder.match(ie);if(fe){var pe=fe[1],be=fe[2],Re=ce._id.charAt(0),ke=Re==="x",Oe=[];for(_=0;_<ce._categories.length;_++)Oe.push([ce._categories[_],[]]);for(_=0;_<ce._traceIndices.length;_++){var Be=ce._traceIndices[_],Ae=S._fullData[Be];if(Ae.visible===!0){var ge=Ae.type;e.traceIs(Ae,"histogram")&&(delete Ae._xautoBinFinished,delete Ae._yautoBinFinished);var Ee=ge==="splom",Ve=ge==="scattergl",xt=S.calcdata[Be];for(O=0;O<xt.length;O++){var Ye=xt[O],Xe,Je;if(Ee){var ft=Ae._axesDim[ce._id];if(!ke){var yt=Ae._diag[ft][0];yt&&(ce=S._fullLayout[h.id2name(yt)])}var At=Ye.trace.dimensions[ft].values;for(N=0;N<At.length;N++)for(Xe=ce._categoriesMap[At[N]],P=0;P<Ye.trace.dimensions.length;P++)if(P!==ft){var qe=Ye.trace.dimensions[P];Oe[Xe][1].push(qe.values[N])}}else if(Ve){for(N=0;N<Ye.t.x.length;N++)ke?(Xe=Ye.t.x[N],Je=Ye.t.y[N]):(Xe=Ye.t.y[N],Je=Ye.t.x[N]),Oe[Xe][1].push(Je);Ye.t&&Ye.t._scene&&delete Ye.t._scene.dirty}else if(Ye.hasOwnProperty("z")){Je=Ye.z;var mt=j(Ae.type,ce,Je);for(N=0;N<Je.length;N++)for(P=0;P<Je[N].length;P++)Xe=mt(P,N),Xe+1&&Oe[Xe][1].push(Je[N][P])}else for(Xe=Ye.p,Xe===void 0&&(Xe=Ye[Re]),Je=Ye.s,Je===void 0&&(Je=Ye.v),Je===void 0&&(Je=ke?Ye.y:Ye.x),Array.isArray(Je)||(Je===void 0?Je=[]:Je=[Je]),N=0;N<Je.length;N++)Oe[Xe][1].push(Je[N])}}}ce._categoriesValue=Oe;var st=[];for(_=0;_<Oe.length;_++)st.push([Oe[_][0],se[pe](Oe[_][1])]);st.sort(function(gt,Ct){return gt[1]-Ct[1]}),ce._categoriesAggregatedValue=st,ce._initialCategories=st.map(function(gt){return gt[0]}),be==="descending"&&ce._initialCategories.reverse(),Y=Y.concat(ce.sortByInitialCategories())}}}return Y}function q(g,S,Y){var z={};function _(j){j.clearCalc(),j.type==="multicategory"&&j.setupMultiCategory(S),z[j._id]=1}l.simpleMap(g,_);for(var O=Y._axisMatchGroups||[],N=0;N<O.length;N++)for(var P in O[N])z[P]||_(Y[h.id2name(P)])}function K(g){var S=g._fullLayout,Y=S._visibleModules,z={},_,O,N;for(O=0;O<Y.length;O++){var P=Y[O],j=P.crossTraceCalc;if(j){var se=P.basePlotModule.name;z[se]?l.pushUnique(z[se],j):z[se]=[j]}}for(N in z){var ce=z[N],fe=S._subplots[N];if(Array.isArray(fe))for(_=0;_<fe.length;_++){var pe=fe[_],be=N==="cartesian"?S._plots[pe]:S[pe];for(O=0;O<ce.length;O++)ce[O](g,be,pe)}else for(O=0;O<ce.length;O++)ce[O](g)}}p.rehover=function(g){g._fullLayout._rehover&&g._fullLayout._rehover()},p.redrag=function(g){g._fullLayout._redrag&&g._fullLayout._redrag()},p.generalUpdatePerTraceModule=function(g,S,Y,z){var _=S.traceHash,O={},N;for(N=0;N<Y.length;N++){var P=Y[N],j=P[0].trace;j.visible&&(O[j.type]=O[j.type]||[],O[j.type].push(P))}for(var se in _)if(!O[se]){var ce=_[se][0],fe=ce[0].trace;fe.visible=!1,O[se]=[ce]}for(var pe in O){var be=O[pe],Re=be[0][0].trace._module;Re.plot(g,S,l.filterVisible(be),z)}S.traceHash=O},p.plotBasePlot=function(g,S,Y,z,_){var O=e.getModule(g),N=L(S.calcdata,O)[0];O.plot(S,N,z,_)},p.cleanBasePlot=function(g,S,Y,z,_){var O=_._has&&_._has(g),N=Y._has&&Y._has(g);O&&!N&&_["_"+g+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(f,ae,W){var t=f("../constants/docs");t.FORMAT_LINK,t.DATE_FORMAT_LINK;function n(o){var a=o.description?" "+o.description:"",e=o.keys||[];if(e.length>0){for(var u=[],s=0;s<e.length;s++)u[s]="`"+e[s]+"`";a=a+"Finally, the template string has access to ",e.length===1?a="variable "+u[0]:a="variables "+u.slice(0,-1).join(", ")+" and "+u.slice(-1)+"."}return a}W.hovertemplateAttrs=function(o,a){o=o||{},a=a||{},n(a);var e={valType:"string",dflt:"",editType:o.editType||"none"};return o.arrayOk!==!1&&(e.arrayOk=!0),e},W.texttemplateAttrs=function(o,a){o=o||{},a=a||{},n(a);var e={valType:"string",dflt:"",editType:o.editType||"calc"};return o.arrayOk!==!1&&(e.arrayOk=!0),e}},{"../constants/docs":209}],318:[function(f,ae,W){var t=f("./lib/loggers"),n=f("./lib/noop"),o=f("./lib/push_unique"),a=f("./lib/is_plain_object"),e=f("./lib/dom").addStyleRule,u=f("./lib/extend"),s=f("./plots/attributes"),l=f("./plots/layout_attributes"),r=u.extendFlat,c=u.extendDeepAll;W.modules={},W.allCategories={},W.allTypes=[],W.subplotsRegistry={},W.transformsRegistry={},W.componentsRegistry={},W.layoutArrayContainers=[],W.layoutArrayRegexes=[],W.traceLayoutAttributes={},W.localeRegistry={},W.apiMethodRegistry={},W.collectableSubplotTypes=null,W.register=function(C){if(W.collectableSubplotTypes=null,C)C&&!Array.isArray(C)&&(C=[C]);else throw new Error("No argument passed to Plotly.register.");for(var E=0;E<C.length;E++){var w=C[E];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":h(w);break;case"transform":m(w);break;case"component":y(w);break;case"locale":L(w);break;case"apiMethod":var H=w.name;W.apiMethodRegistry[H]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},W.getModule=function(x){var C=W.modules[d(x)];return C?C._module:!1},W.traceIs=function(x,C){if(x=d(x),x==="various")return!1;var E=W.modules[x];return E||(x&&t.log("Unrecognized trace type "+x+"."),E=W.modules[s.type.dflt]),!!E.categories[C]},W.getTransformIndices=function(x,C){for(var E=[],w=x.transforms||[],H=0;H<w.length;H++)w[H].type===C&&E.push(H);return E},W.hasTransform=function(x,C){for(var E=x.transforms||[],w=0;w<E.length;w++)if(E[w].type===C)return!0;return!1},W.getComponentMethod=function(x,C){var E=W.componentsRegistry[x];return E&&E[C]||n},W.call=function(){var x=arguments[0],C=[].slice.call(arguments,1);return W.apiMethodRegistry[x].apply(null,C)};function h(x){var C=x.name,E=x.categories,w=x.meta;if(W.modules[C]){t.log("Type "+C+" already registered");return}W.subplotsRegistry[x.basePlotModule.name]||v(x.basePlotModule);for(var H={},F=0;F<E.length;F++)H[E[F]]=!0,W.allCategories[E[F]]=!0;W.modules[C]={_module:x,categories:H},w&&Object.keys(w).length&&(W.modules[C].meta=w),W.allTypes.push(C);for(var k in W.componentsRegistry)M(k,C);x.layoutAttributes&&r(W.traceLayoutAttributes,x.layoutAttributes);var I=x.basePlotModule,U=I.name;if(U==="mapbox"){var Q=I.constants.styleRules;for(var J in Q)e(".js-plotly-plot .plotly .mapboxgl-"+J,Q[J])}(U==="geo"||U==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function v(x){var C=x.name;if(W.subplotsRegistry[C]){t.log("Plot type "+C+" already registered.");return}A(x),W.subplotsRegistry[C]=x;for(var E in W.componentsRegistry)T(E,x.name)}function y(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var C=x.name;W.componentsRegistry[C]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&o(W.layoutArrayContainers,C),A(x));for(var E in W.modules)M(C,E);for(var w in W.subplotsRegistry)T(C,w);for(var H in W.transformsRegistry)p(C,H);x.schema&&x.schema.layout&&c(l,x.schema.layout)}function m(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var C="Transform module "+x.name,E=typeof x.transform=="function",w=typeof x.calcTransform=="function";if(!E&&!w)throw new Error(C+" is missing a *transform* or *calcTransform* method.");E&&w&&t.log([C+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(x.attributes)||t.log(C+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&t.log(C+" registered without a *supplyDefaults* method."),W.transformsRegistry[x.name]=x;for(var H in W.componentsRegistry)p(H,x.name)}function L(x){var C=x.name,E=C.split("-")[0],w=x.dictionary,H=x.format,F=w&&Object.keys(w).length,k=H&&Object.keys(H).length,I=W.localeRegistry,U=I[C];if(U||(I[C]=U={}),E!==C){var Q=I[E];Q||(I[E]=Q={}),F&&Q.dictionary===U.dictionary&&(Q.dictionary=w),k&&Q.format===U.format&&(Q.format=H)}F&&(U.dictionary=w),k&&(U.format=H)}function A(x){if(x.layoutAttributes){var C=x.layoutAttributes._arrayAttrRegexps;if(C)for(var E=0;E<C.length;E++)o(W.layoutArrayRegexes,C[E])}}function M(x,C){var E=W.componentsRegistry[x].schema;if(!(!E||!E.traces)){var w=E.traces[C];w&&c(W.modules[C]._module.attributes,w)}}function p(x,C){var E=W.componentsRegistry[x].schema;if(!(!E||!E.transforms)){var w=E.transforms[C];w&&c(W.transformsRegistry[C].attributes,w)}}function T(x,C){var E=W.componentsRegistry[x].schema;if(!(!E||!E.subplots)){var w=W.subplotsRegistry[C],H=w.layoutAttributes,F=w.attr==="subplot"?w.name:w.attr;Array.isArray(F)&&(F=F[0]);var k=E.subplots[F];H&&k&&c(H,k)}}function d(x){return typeof x=="object"&&(x=x.type),x}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(f,ae,W){var t=f("../registry"),n=f("../lib"),o=n.extendFlat,a=n.extendDeep;function e(s){var l;switch(s){case"themes__thumb":l={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":l={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:l={}}return l}function u(s){var l=["xaxis","yaxis","zaxis"];return l.indexOf(s.slice(0,5))>-1}ae.exports=function(l,r){var c,h=l.data,v=l.layout,y=a([],h),m=a({},v,e(r.tileClass)),L=l._context||{};if(r.width&&(m.width=r.width),r.height&&(m.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){m.annotations=[];var A=Object.keys(m);for(c=0;c<A.length;c++)u(A[c])&&(m[A[c]].title={text:""});for(c=0;c<y.length;c++){var M=y[c];M.showscale=!1,M.marker&&(M.marker.showscale=!1),t.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(r.annotations))for(c=0;c<r.annotations.length;c++)m.annotations.push(r.annotations[c]);var p=Object.keys(m).filter(function(E){return E.match(/^scene\d*$/)});if(p.length){var T={};for(r.tileClass==="thumbnail"&&(T={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),c=0;c<p.length;c++){var d=m[p[c]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),o(d.xaxis,T),o(d.yaxis,T),o(d.zaxis,T),d._scene=null}}var x=document.createElement("div");r.tileClass&&(x.className=r.tileClass);var C={gd:x,td:x,layout:m,data:y,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:L.mapboxAccessToken}};return r.setBackground!=="transparent"&&(C.config.setBackground=r.setBackground||"opaque"),C.gd.defaultLayout=e(r.tileClass),C}},{"../lib":232,"../registry":318}],320:[function(f,ae,W){var t=f("../lib"),n=f("../plot_api/to_image"),o=f("./filesaver"),a=f("./helpers");function e(u,s){var l;return t.isPlainObject(u)||(l=t.getGraphDiv(u)),s=s||{},s.format=s.format||"png",s.width=s.width||null,s.height=s.height||null,s.imageDataOnly=!0,new Promise(function(r,c){l&&l._snapshotInProgress&&c(new Error("Snapshotting already in progress.")),t.isIE()&&s.format!=="svg"&&c(new Error(a.MSG_IE_BAD_FORMAT)),l&&(l._snapshotInProgress=!0);var h=n(u,s),v=s.filename||u.fn||"newplot";v+="."+s.format.replace("-","."),h.then(function(y){return l&&(l._snapshotInProgress=!1),o(y,v,s.format)}).then(function(y){r(y)}).catch(function(y){l&&(l._snapshotInProgress=!1),c(y)})})}ae.exports=e},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(f,ae,W){var t=f("../lib"),n=f("./helpers");function o(a,e,u){var s=document.createElement("a"),l="download"in s,r=new Promise(function(c,h){var v,y;if(t.isIE())return v=n.createBlob(a,"svg"),window.navigator.msSaveBlob(v,e),v=null,c(e);if(l)return v=n.createBlob(a,u),y=n.createObjectURL(v),s.href=y,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),n.revokeObjectURL(y),v=null,c(e);if(t.isSafari()){var m=u==="svg"?",":";base64,";return n.octetStream(m+encodeURIComponent(a)),c(e)}h(new Error("download error"))});return r}ae.exports=o},{"../lib":232,"./helpers":322}],322:[function(f,ae,W){var t=f("../registry");W.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},W.getRedrawFunc=function(a){return function(){t.getComponentMethod("colorbar","draw")(a)}},W.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},W.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var n=window.URL||window.webkitURL;W.createObjectURL=function(a){return n.createObjectURL(a)},W.revokeObjectURL=function(a){return n.revokeObjectURL(a)},W.createBlob=function(a,e){if(e==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(e==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var u=o(window.atob(a));return new window.Blob([u],{type:"image/"+e})},W.octetStream=function(a){document.location.href="data:application/octet-stream"+a};function o(a){for(var e=a.length,u=new ArrayBuffer(e),s=new Uint8Array(u),l=0;l<e;l++)s[l]=a.charCodeAt(l);return u}W.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,W.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(f,ae,W){var t=f("./helpers"),n={getDelay:t.getDelay,getRedrawFunc:t.getRedrawFunc,clone:f("./cloneplot"),toSVG:f("./tosvg"),svgToImg:f("./svgtoimg"),toImage:f("./toimage"),downloadImage:f("./download")};ae.exports=n},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(f,ae,W){var t=f("../lib"),n=f("events").EventEmitter,o=f("./helpers");function a(e){var u=e.emitter||new n,s=new Promise(function(l,r){var c=window.Image,h=e.svg,v=e.format||"png";if(t.isIE()&&v!=="svg"){var y=new Error(o.MSG_IE_BAD_FORMAT);return r(y),e.promise?s:u.emit("error",y)}var m=e.canvas,L=e.scale||1,A=e.width||300,M=e.height||150,p=L*A,T=L*M,d=m.getContext("2d",{willReadFrequently:!0}),x=new c,C,E;v==="svg"||t.isSafari()?E=o.encodeSVG(h):(C=o.createBlob(h,"svg"),E=o.createObjectURL(C)),m.width=p,m.height=T,x.onload=function(){var w;switch(C=null,o.revokeObjectURL(E),v!=="svg"&&d.drawImage(x,0,0,p,T),v){case"jpeg":w=m.toDataURL("image/jpeg");break;case"png":w=m.toDataURL("image/png");break;case"webp":w=m.toDataURL("image/webp");break;case"svg":w=E;break;default:var H="Image format is not jpeg, png, svg or webp.";if(r(new Error(H)),!e.promise)return u.emit("error",H)}l(w),e.promise||u.emit("success",w)},x.onerror=function(w){if(C=null,o.revokeObjectURL(E),r(w),!e.promise)return u.emit("error",w)},x.src=E});return e.promise?s:u}ae.exports=a},{"../lib":232,"./helpers":322,events:12}],325:[function(f,ae,W){var t=f("events").EventEmitter,n=f("../registry"),o=f("../lib"),a=f("./helpers"),e=f("./cloneplot"),u=f("./tosvg"),s=f("./svgtoimg");function l(r,c){var h=new t,v=e(r,{format:"png"}),y=v.gd;y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);function m(){var A=a.getDelay(y._fullLayout);setTimeout(function(){var M=u(y),p=document.createElement("canvas");p.id=o.randstr(),h=s({format:c.format,width:y._fullLayout.width,height:y._fullLayout.height,canvas:p,emitter:h,svg:M}),h.clean=function(){y&&document.body.removeChild(y)}},A)}var L=a.getRedrawFunc(y);return n.call("_doPlot",y,v.data,v.layout,v.config).then(L).then(m).catch(function(A){h.emit("error",A)}),h}ae.exports=l},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../lib"),o=f("../components/drawing"),a=f("../components/color"),e=f("../constants/xmlns_namespaces"),u=/"/g,s="TOBESTRIPPED",l=new RegExp('("'+s+")|("+s+'")',"g");function r(h){var v=t.select("body").append("div").style({display:"none"}).html(""),y=h.replace(/(&[^;]*;)/gi,function(m){return m==="&lt;"?"&#60;":m==="&rt;"?"&#62;":m.indexOf("<")!==-1||m.indexOf(">")!==-1?"":v.html(m).text()});return v.remove(),y}function c(h){return h.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}ae.exports=function(v,y,m){var L=v._fullLayout,A=L._paper,M=L._toppaper,p=L.width,T=L.height,d;A.insert("rect",":first-child").call(o.setRect,0,0,p,T).call(a.fill,L.paper_bgcolor);var x=L._basePlotModules||[];for(d=0;d<x.length;d++){var C=x[d];C.toSVG&&C.toSVG(v)}if(M){var E=M.node().childNodes,w=Array.prototype.slice.call(E);for(d=0;d<w.length;d++){var H=w[d];H.childNodes.length&&A.node().appendChild(H)}}L._draggers&&L._draggers.remove(),A.node().style.background="",A.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var k=t.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){k.remove();return}else k.style({visibility:null,display:null});var I=this.style.fontFamily;I&&I.indexOf('"')!==-1&&k.style("font-family",I.replace(u,s))}),A.selectAll(".gradient_filled,.pattern_filled").each(function(){var k=t.select(this),I=this.style.fill;I&&I.indexOf("url(")!==-1&&k.style("fill",I.replace(u,s));var U=this.style.stroke;U&&U.indexOf("url(")!==-1&&k.style("stroke",U.replace(u,s))}),(y==="pdf"||y==="eps")&&A.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),A.node().setAttributeNS(e.xmlns,"xmlns",e.svg),A.node().setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),y==="svg"&&m&&(A.attr("width",m*p),A.attr("height",m*T),A.attr("viewBox","0 0 "+p+" "+T));var F=new window.XMLSerializer().serializeToString(A.node());return F=r(F),F=c(F),F=F.replace(l,"'"),n.isIE()&&(F=F.replace(/"/gi,"'"),F=F.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),F=F.replace(/(\\')/gi,'"')),F}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(f,ae,W){var t=f("../../lib");ae.exports=function(o,a){for(var e=0;e<o.length;e++)o[e].i=e;t.mergeArray(a.text,o,"tx"),t.mergeArray(a.hovertext,o,"htx");var u=a.marker;if(u){t.mergeArray(u.opacity,o,"mo",!0),t.mergeArray(u.color,o,"mc");var s=u.line;s&&(t.mergeArray(s.color,o,"mlc"),t.mergeArrayCastPositive(s.width,o,"mlw"))}}},{"../../lib":232}],328:[function(f,ae,W){var t=f("../scatter/attributes"),n=f("../../plots/cartesian/axis_format_attributes").axisHoverFormat,o=f("../../plots/template_attributes").hovertemplateAttrs,a=f("../../plots/template_attributes").texttemplateAttrs,e=f("../../components/colorscale/attributes"),u=f("../../plots/font_attributes"),s=f("./constants"),l=f("../../components/drawing/attributes").pattern,r=f("../../lib/extend").extendFlat,c=u({editType:"calc",arrayOk:!0,colorEditType:"style"}),h=t.marker,v=h.line,y=r({},v.width,{dflt:0}),m=r({width:y,editType:"calc"},e("marker.line")),L=r({line:m,editType:"calc"},e("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:l});ae.exports={x:t.x,x0:t.x0,dx:t.dx,y:t.y,y0:t.y0,dy:t.dy,xperiod:t.xperiod,yperiod:t.yperiod,xperiod0:t.xperiod0,yperiod0:t.yperiod0,xperiodalignment:t.xperiodalignment,yperiodalignment:t.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:t.text,texttemplate:a({editType:"plot"},{keys:s.eventDataKeys}),hovertext:t.hovertext,hovertemplate:o({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},c,{}),insidetextfont:r({},c,{}),outsidetextfont:r({},c,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},t.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:L,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:t.selected.marker.opacity,color:t.selected.marker.color,editType:"style"},textfont:t.selected.textfont,editType:"style"},unselected:{marker:{opacity:t.unselected.marker.opacity,color:t.unselected.marker.color,editType:"style"},textfont:t.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(f,ae,W){var t=f("../../plots/cartesian/axes"),n=f("../../plots/cartesian/align_period"),o=f("../../components/colorscale/helpers").hasColorscale,a=f("../../components/colorscale/calc"),e=f("./arrays_to_calcdata"),u=f("../scatter/calc_selection");ae.exports=function(l,r){var c=t.getFromId(l,r.xaxis||"x"),h=t.getFromId(l,r.yaxis||"y"),v,y,m,L,A,M,p={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(v=c.makeCalcdata(r,"x",p),m=h.makeCalcdata(r,"y"),L=n(r,h,"y",m),A=!!r.yperiodalignment,M="y"):(v=h.makeCalcdata(r,"y",p),m=c.makeCalcdata(r,"x"),L=n(r,c,"x",m),A=!!r.xperiodalignment,M="x"),y=L.vals;for(var T=Math.min(y.length,v.length),d=new Array(T),x=0;x<T;x++)d[x]={p:y[x],s:v[x]},A&&(d[x].orig_p=m[x],d[x][M+"End"]=L.ends[x],d[x][M+"Start"]=L.starts[x]),r.ids&&(d[x].id=String(r.ids[x]));return o(r,"marker")&&a(l,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),o(r,"marker.line")&&a(l,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),e(d,r),u(d,r),d}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(f,ae,W){ae.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib").isArrayOrTypedArray,o=f("../../constants/numerical").BADNUM,a=f("../../registry"),e=f("../../plots/cartesian/axes"),u=f("../../plots/cartesian/constraints").getAxisGroup,s=f("./sieve.js");function l(F,k){for(var I=k.xaxis,U=k.yaxis,Q=F._fullLayout,J=F._fullData,ee=F.calcdata,R=[],G=[],B=0;B<J.length;B++){var te=J[B];if(te.visible===!0&&a.traceIs(te,"bar")&&te.xaxis===I._id&&te.yaxis===U._id&&(te.orientation==="h"?R.push(ee[B]):G.push(ee[B]),te._computePh))for(var ne=F.calcdata[B],oe=0;oe<ne.length;oe++)typeof ne[oe].ph0=="function"&&(ne[oe].ph0=ne[oe].ph0()),typeof ne[oe].ph1=="function"&&(ne[oe].ph1=ne[oe].ph1())}var me={xCat:I.type==="category"||I.type==="multicategory",yCat:U.type==="category"||U.type==="multicategory",mode:Q.barmode,norm:Q.barnorm,gap:Q.bargap,groupgap:Q.bargroupgap};r(F,I,U,G,me),r(F,U,I,R,me)}function r(F,k,I,U,Q){if(!!U.length){var J,ee,R,G,B;switch(c(I,U),Q.mode){case"overlay":h(k,I,U,Q);break;case"group":for(J=[],ee=[],R=0;R<U.length;R++)G=U[R],B=G[0].trace,B.offset===void 0?ee.push(G):J.push(G);ee.length&&v(F,k,I,ee,Q),J.length&&h(k,I,J,Q);break;case"stack":case"relative":for(J=[],ee=[],R=0;R<U.length;R++)G=U[R],B=G[0].trace,B.base===void 0?ee.push(G):J.push(G);ee.length&&y(F,k,I,ee,Q),J.length&&h(k,I,J,Q);break}w(U,k)}}function c(F,k){var I,U;for(I=0;I<k.length;I++){var Q=k[I],J=Q[0].trace,ee=J.type==="funnel"?J._base:J.base,R,G=J.orientation==="h"?J.xcalendar:J.ycalendar,B=F.type==="category"||F.type==="multicategory"?function(){return null}:F.d2c;if(n(ee)){for(U=0;U<Math.min(ee.length,Q.length);U++)R=B(ee[U],0,G),t(R)?(Q[U].b=+R,Q[U].hasB=1):Q[U].b=0;for(;U<Q.length;U++)Q[U].b=0}else{R=B(ee,0,G);var te=t(R);for(R=te?R:0,U=0;U<Q.length;U++)Q[U].b=R,te&&(Q[U].hasB=1)}}}function h(F,k,I,U){for(var Q=0;Q<I.length;Q++){var J=I[Q],ee=new s([J],{posAxis:F,sepNegVal:!1,overlapNoMerge:!U.norm});m(F,ee,U),U.norm?(x(ee),E(k,ee,U)):T(k,ee)}}function v(F,k,I,U,Q){var J=new s(U,{posAxis:k,sepNegVal:!1,overlapNoMerge:!Q.norm});L(F,k,J,Q),C(J,k),Q.norm?(x(J),E(I,J,Q)):T(I,J)}function y(F,k,I,U,Q){var J=new s(U,{posAxis:k,sepNegVal:Q.mode==="relative",overlapNoMerge:!(Q.norm||Q.mode==="stack"||Q.mode==="relative")});m(k,J,Q),d(I,J,Q);for(var ee=0;ee<U.length;ee++)for(var R=U[ee],G=0;G<R.length;G++){var B=R[G];if(B.s!==o){var te=B.b+B.s===J.get(B.p,B.s);te&&(B._outmost=!0)}}Q.norm&&E(I,J,Q)}function m(F,k,I){for(var U=k.minDiff,Q=k.traces,J=U*(1-I.gap),ee=J,R=ee*(1-(I.groupgap||0)),G=-R/2,B=0;B<Q.length;B++){var te=Q[B],ne=te[0].t;ne.barwidth=R,ne.poffset=G,ne.bargroupwidth=J,ne.bardelta=U}k.binWidth=Q[0][0].t.barwidth/100,A(k),M(F,k),p(F,k)}function L(F,k,I,U){for(var Q=F._fullLayout,J=I.positions,ee=I.distinctPositions,R=I.minDiff,G=I.traces,B=G.length,te=J.length!==ee.length,ne=R*(1-U.gap),oe=u(Q,k._id)+G[0][0].trace.orientation,me=Q._alignmentOpts[oe]||{},de=0;de<B;de++){var ie=G[de],Z=ie[0].trace,q=me[Z.alignmentgroup]||{},K=Object.keys(q.offsetGroups||{}).length,g;K?g=ne/K:g=te?ne/B:ne;var S=g*(1-(U.groupgap||0)),Y;K?Y=((2*Z._offsetIndex+1-K)*g-S)/2:Y=te?((2*de+1-B)*g-S)/2:-S/2;var z=ie[0].t;z.barwidth=S,z.poffset=Y,z.bargroupwidth=ne,z.bardelta=R}I.binWidth=G[0][0].t.barwidth/100,A(I),M(k,I),p(k,I,te)}function A(F){var k=F.traces,I,U;for(I=0;I<k.length;I++){var Q=k[I],J=Q[0],ee=J.trace,R=J.t,G=ee._offset||ee.offset,B=R.poffset,te;if(n(G)){for(te=Array.prototype.slice.call(G,0,Q.length),U=0;U<te.length;U++)t(te[U])||(te[U]=B);for(U=te.length;U<Q.length;U++)te.push(B);R.poffset=te}else G!==void 0&&(R.poffset=G);var ne=ee._width||ee.width,oe=R.barwidth;if(n(ne)){var me=Array.prototype.slice.call(ne,0,Q.length);for(U=0;U<me.length;U++)t(me[U])||(me[U]=oe);for(U=me.length;U<Q.length;U++)me.push(oe);if(R.barwidth=me,G===void 0){for(te=[],U=0;U<Q.length;U++)te.push(B+(oe-me[U])/2);R.poffset=te}}else ne!==void 0&&(R.barwidth=ne,G===void 0&&(R.poffset=B+(oe-ne)/2))}}function M(F,k){for(var I=k.traces,U=H(F),Q=0;Q<I.length;Q++)for(var J=I[Q],ee=J[0].t,R=ee.poffset,G=Array.isArray(R),B=ee.barwidth,te=Array.isArray(B),ne=0;ne<J.length;ne++){var oe=J[ne],me=oe.w=te?B[ne]:B;oe[U]=oe.p+(G?R[ne]:R)+me/2}}function p(F,k,I){var U=k.traces,Q=k.minDiff,J=Q/2;e.minDtick(F,k.minDiff,k.distinctPositions[0],I);for(var ee=0;ee<U.length;ee++){var R=U[ee],G=R[0],B=G.trace,te=[],ne,oe,me,de;for(de=0;de<R.length;de++)ne=R[de],oe=ne.p-J,me=ne.p+J,te.push(oe,me);if(B.width||B.offset){var ie=G.t,Z=ie.poffset,q=ie.barwidth,K=Array.isArray(Z),g=Array.isArray(q);for(de=0;de<R.length;de++){ne=R[de];var S=K?Z[de]:Z,Y=g?q[de]:q;oe=ne.p+S,me=oe+Y,te.push(oe,me)}}B._extremes[F._id]=e.findExtremes(F,te,{padded:!1})}}function T(F,k){for(var I=k.traces,U=H(F),Q=0;Q<I.length;Q++){for(var J=I[Q],ee=J[0].trace,R=[],G=!1,B=0;B<J.length;B++){var te=J[B],ne=te.b,oe=ne+te.s;te[U]=oe,R.push(oe),te.hasB&&R.push(ne),(!te.hasB||!te.b)&&(G=!0)}ee._extremes[F._id]=e.findExtremes(F,R,{tozero:G,padded:!0})}}function d(F,k,I){var U=H(F),Q=k.traces,J,ee,R,G,B,te;for(G=0;G<Q.length;G++)if(J=Q[G],ee=J[0].trace,ee.type==="funnel")for(B=0;B<J.length;B++)te=J[B],te.s!==o&&k.put(te.p,-.5*te.s);for(G=0;G<Q.length;G++){J=Q[G],ee=J[0].trace,R=ee.type==="funnel";var ne=[];for(B=0;B<J.length;B++)if(te=J[B],te.s!==o){var oe;R?oe=te.s:oe=te.s+te.b;var me=k.put(te.p,oe),de=me+oe;te.b=me,te[U]=de,I.norm||(ne.push(de),te.hasB&&ne.push(me))}I.norm||(ee._extremes[F._id]=e.findExtremes(F,ne,{tozero:!0,padded:!0}))}}function x(F){for(var k=F.traces,I=0;I<k.length;I++)for(var U=k[I],Q=0;Q<U.length;Q++){var J=U[Q];J.s!==o&&F.put(J.p,J.b+J.s)}}function C(F,k){for(var I=F.traces,U=0;U<I.length;U++){var Q=I[U],J=Q[0].trace;if(J.base===void 0)for(var ee=new s([Q],{posAxis:k,sepNegVal:!0,overlapNoMerge:!0}),R=0;R<Q.length;R++){var G=Q[R];if(G.p!==o){var B=ee.put(G.p,G.b+G.s);B&&(G.b=B)}}}}function E(F,k,I){var U=k.traces,Q=H(F),J=I.norm==="fraction"?1:100,ee=J/1e9,R=F.l2c(F.c2l(0)),G=I.mode==="stack"?J:R;function B(Y){return t(F.c2l(Y))&&(Y<R-ee||Y>G+ee||!t(R))}for(var te=0;te<U.length;te++){for(var ne=U[te],oe=ne[0].trace,me=[],de=!1,ie=!1,Z=0;Z<ne.length;Z++){var q=ne[Z];if(q.s!==o){var K=Math.abs(J/k.get(q.p,q.s));q.b*=K,q.s*=K;var g=q.b,S=g+q.s;q[Q]=S,me.push(S),ie=ie||B(S),q.hasB&&(me.push(g),ie=ie||B(g)),(!q.hasB||!q.b)&&(de=!0)}}oe._extremes[F._id]=e.findExtremes(F,me,{tozero:de,padded:ie})}}function w(F,k){var I=H(k),U={},Q,J,ee,R=1/0,G=-1/0;for(Q=0;Q<F.length;Q++)for(ee=F[Q],J=0;J<ee.length;J++){var B=ee[J].p;t(B)&&(R=Math.min(R,B),G=Math.max(G,B))}var te=1e4/(G-R),ne=U.round=function(K){return String(Math.round(te*(K-R)))};for(Q=0;Q<F.length;Q++){ee=F[Q],ee[0].t.extents=U;var oe=ee[0].t.poffset,me=Array.isArray(oe);for(J=0;J<ee.length;J++){var de=ee[J],ie=de[I]-de.w/2;if(t(ie)){var Z=de[I]+de.w/2,q=ne(de.p);U[q]?U[q]=[Math.min(ie,U[q][0]),Math.max(Z,U[q][1])]:U[q]=[ie,Z]}de.p0=de.p+(me?oe[J]:oe),de.p1=de.p0+de.w,de.s0=de.b,de.s1=de.s0+de.s}}}function H(F){return F._id.charAt(0)}ae.exports={crossTraceCalc:l,setGroupPositions:r}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(f,ae,W){var t=f("../../lib"),n=f("../../components/color"),o=f("../../registry"),a=f("../scatter/xy_defaults"),e=f("../scatter/period_defaults"),u=f("./style_defaults"),s=f("../../plots/cartesian/constraints").getAxisGroup,l=f("./attributes"),r=t.coerceFont;function c(m,L,A,M){function p(E,w){return t.coerce(m,L,l,E,w)}var T=a(m,L,M,p);if(!T){L.visible=!1;return}e(m,L,M,p),p("xhoverformat"),p("yhoverformat"),p("orientation",L.x&&!L.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var d=p("textposition");y(m,L,M,p,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u(m,L,p,A,M);var x=(L.marker.line||{}).color,C=o.getComponentMethod("errorbars","supplyDefaults");C(m,L,x||n.defaultLine,{axis:"y"}),C(m,L,x||n.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(L,p)}function h(m,L,A,M){var p=L.orientation,T=L[{v:"x",h:"y"}[p]+"axis"],d=s(A,T)+p,x=A._alignmentOpts||{},C=M("alignmentgroup"),E=x[d];E||(E=x[d]={});var w=E[C];w?w.traces.push(L):w=E[C]={traces:[L],alignmentIndex:Object.keys(E).length,offsetGroups:{}};var H=M("offsetgroup"),F=w.offsetGroups,k=F[H];H&&(k||(k=F[H]={offsetIndex:Object.keys(F).length}),L._offsetIndex=k.offsetIndex)}function v(m,L){var A,M;function p(d){return t.coerce(M._input,M,l,d)}if(L.barmode==="group")for(var T=0;T<m.length;T++)M=m[T],M.type==="bar"&&(A=M._input,h(A,M,L,p))}function y(m,L,A,M,p,T){T=T||{};var d=T.moduleHasSelected!==!1,x=T.moduleHasUnselected!==!1,C=T.moduleHasConstrain!==!1,E=T.moduleHasCliponaxis!==!1,w=T.moduleHasTextangle!==!1,H=T.moduleHasInsideanchor!==!1,F=!!T.hasPathbar,k=Array.isArray(p)||p==="auto",I=k||p==="inside",U=k||p==="outside";if(I||U){var Q=r(M,"textfont",A.font),J=t.extendFlat({},Q),ee=m.textfont&&m.textfont.color,R=!ee;if(R&&delete J.color,r(M,"insidetextfont",J),F){var G=t.extendFlat({},Q);R&&delete G.color,r(M,"pathbar.textfont",G)}U&&r(M,"outsidetextfont",Q),d&&M("selected.textfont.color"),x&&M("unselected.textfont.color"),C&&M("constraintext"),E&&M("cliponaxis"),w&&M("textangle"),M("texttemplate")}I&&H&&M("insidetextanchor")}ae.exports={supplyDefaults:c,crossTraceDefaults:v,handleGroupingDefaults:h,handleText:y}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(f,ae,W){ae.exports=function(n,o,a){return n.x="xVal"in o?o.xVal:o.x,n.y="yVal"in o?o.yVal:o.y,o.xa&&(n.xaxis=o.xa),o.ya&&(n.yaxis=o.ya),a.orientation==="h"?(n.label=n.y,n.value=n.x):(n.label=n.x,n.value=n.y),n}},{}],334:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("tinycolor2"),o=f("../../lib").isArrayOrTypedArray;W.coerceString=function(a,e,u){if(typeof e=="string"){if(e||!a.noBlank)return e}else if((typeof e=="number"||e===!0)&&!a.strict)return String(e);return u!==void 0?u:a.dflt},W.coerceNumber=function(a,e,u){if(t(e)){e=+e;var s=a.min,l=a.max,r=s!==void 0&&e<s||l!==void 0&&e>l;if(!r)return e}return u!==void 0?u:a.dflt},W.coerceColor=function(a,e,u){return n(e).isValid()?e:u!==void 0?u:a.dflt},W.coerceEnumerated=function(a,e,u){return a.coerceNumber&&(e=+e),a.values.indexOf(e)!==-1?e:u!==void 0?u:a.dflt},W.getValue=function(a,e){var u;return Array.isArray(a)?e<a.length&&(u=a[e]):u=a,u},W.getLineWidth=function(a,e){var u=0<e.mlw?e.mlw:o(a.marker.line.width)?0:a.marker.line.width;return u}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(f,ae,W){var t=f("../../components/fx"),n=f("../../registry"),o=f("../../components/color"),a=f("../../lib").fillText,e=f("./helpers").getLineWidth,u=f("../../plots/cartesian/axes").hoverLabelText,s=f("../../constants/numerical").BADNUM;function l(h,v,y,m,L){var A=r(h,v,y,m,L);if(A){var M=A.cd,p=M[0].trace,T=M[A.index];return A.color=c(p,T),n.getComponentMethod("errorbars","hoverInfo")(T,p,A),[A]}}function r(h,v,y,m,L){var A=h.cd,M=A[0].trace,p=A[0].t,T=m==="closest",d=M.type==="waterfall",x=h.maxHoverDistance,C=h.maxSpikeDistance,E,w,H,F,k,I,U;M.orientation==="h"?(E=y,w=v,H="y",F="x",k=Z,I=me):(E=v,w=y,H="x",F="y",I=Z,k=me);var Q=M[H+"period"],J=T||Q;function ee(j){return G(j,-1)}function R(j){return G(j,1)}function G(j,se){var ce=j.w;return j[H]+se*ce/2}function B(j){return j[H+"End"]-j[H+"Start"]}var te=T?ee:Q?function(j){return j.p-B(j)/2}:function(j){return Math.min(ee(j),j.p-p.bardelta/2)},ne=T?R:Q?function(j){return j.p+B(j)/2}:function(j){return Math.max(R(j),j.p+p.bardelta/2)};function oe(j,se,ce){return L.finiteRange&&(ce=0),t.inbox(j-E,se-E,ce+Math.min(1,Math.abs(se-j)/U)-1)}function me(j){return oe(te(j),ne(j),x)}function de(j){return oe(ee(j),R(j),C)}function ie(j){var se=j[F];if(d){var ce=Math.abs(j.rawS)||0;w>0?se+=ce:w<0&&(se-=ce)}return se}function Z(j){var se=w,ce=j.b,fe=ie(j);return t.inbox(ce-se,fe-se,x+(fe-se)/(fe-ce)-1)}function q(j){var se=w,ce=j.b,fe=ie(j);return t.inbox(ce-se,fe-se,C+(fe-se)/(fe-ce)-1)}var K=h[H+"a"],g=h[F+"a"];U=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));function S(j){return(k(j)+I(j))/2}var Y=t.getDistanceFunction(m,k,I,S);if(t.getClosest(A,Y,h),h.index!==!1&&A[h.index].p!==s){J||(te=function(j){return Math.min(ee(j),j.p-p.bargroupwidth/2)},ne=function(j){return Math.max(R(j),j.p+p.bargroupwidth/2)});var z=h.index,_=A[z],O=M.base?_.b+_.s:_.s;h[F+"0"]=h[F+"1"]=g.c2p(_[F],!0),h[F+"LabelVal"]=O;var N=p.extents[p.extents.round(_.p)];h[H+"0"]=K.c2p(T?te(_):N[0],!0),h[H+"1"]=K.c2p(T?ne(_):N[1],!0);var P=_.orig_p!==void 0;return h[H+"LabelVal"]=P?_.orig_p:_.p,h.labelLabel=u(K,h[H+"LabelVal"],M[H+"hoverformat"]),h.valueLabel=u(g,h[F+"LabelVal"],M[F+"hoverformat"]),h.baseLabel=u(g,_.b,M[F+"hoverformat"]),h.spikeDistance=(q(_)+de(_))/2,h[H+"Spike"]=K.c2p(_.p,!0),a(_,M,h),h.hovertemplate=M.hovertemplate,h}}function c(h,v){var y=v.mcc||h.marker.color,m=v.mlcc||h.marker.line.color,L=e(h,v);if(o.opacity(y))return y;if(o.opacity(m)&&L)return m}ae.exports={hoverPoints:l,hoverOnBars:r,getTraceColor:c}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(f,ae,W){ae.exports={attributes:f("./attributes"),layoutAttributes:f("./layout_attributes"),supplyDefaults:f("./defaults").supplyDefaults,crossTraceDefaults:f("./defaults").crossTraceDefaults,supplyLayoutDefaults:f("./layout_defaults"),calc:f("./calc"),crossTraceCalc:f("./cross_trace_calc").crossTraceCalc,colorbar:f("../scatter/marker_colorbar"),arraysToCalcdata:f("./arrays_to_calcdata"),plot:f("./plot").plot,style:f("./style").style,styleOnSelect:f("./style").styleOnSelect,hoverPoints:f("./hover").hoverPoints,eventData:f("./event_data"),selectPoints:f("./select"),moduleType:"trace",name:"bar",basePlotModule:f("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(f,ae,W){ae.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(f,ae,W){var t=f("../../registry"),n=f("../../plots/cartesian/axes"),o=f("../../lib"),a=f("./layout_attributes");ae.exports=function(e,u,s){function l(p,T){return o.coerce(e,u,a,p,T)}for(var r=!1,c=!1,h=!1,v={},y=l("barmode"),m=0;m<s.length;m++){var L=s[m];if(t.traceIs(L,"bar")&&L.visible)r=!0;else continue;if(y==="group"){var A=L.xaxis+L.yaxis;v[A]&&(h=!0),v[A]=!0}if(L.visible&&L.type==="histogram"){var M=n.getFromId({_fullLayout:u},L[L.orientation==="v"?"xaxis":"yaxis"]);M.type!=="category"&&(c=!0)}}if(!r){delete u.barmode;return}y!=="overlay"&&l("barnorm"),l("bargap",c&&!h?0:.2),l("bargroupgap")}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(f,ae,W){var t=f("@plotly/d3"),n=f("fast-isnumeric"),o=f("../../lib"),a=f("../../lib/svg_text_utils"),e=f("../../components/color"),u=f("../../components/drawing"),s=f("../../registry"),l=f("../../plots/cartesian/axes").tickText,r=f("./uniform_text"),c=r.recordMinTextSize,h=r.clearMinTextSize,v=f("./style"),y=f("./helpers"),m=f("./constants"),L=f("./attributes"),A=L.text,M=L.textposition,p=f("../../components/fx/helpers").appendArrayPointValue,T=m.TEXTPAD;function d(te){return te.id}function x(te){if(te.ids)return d}function C(te,ne){return te<ne?1:-1}function E(te,ne,oe,me){var de=[],ie=[],Z=me?ne:oe,q=me?oe:ne;return de[0]=Z.c2p(te.s0,!0),ie[0]=q.c2p(te.p0,!0),de[1]=Z.c2p(te.s1,!0),ie[1]=q.c2p(te.p1,!0),me?[de,ie]:[ie,de]}function w(te,ne,oe,me){if(!ne.uniformtext.mode&&H(oe)){var de;return me&&(de=me()),te.transition().duration(oe.duration).ease(oe.easing).each("end",function(){de&&de()}).each("interrupt",function(){de&&de()})}else return te}function H(te){return te&&te.duration>0}function F(te,ne,oe,me,de,ie){var Z=ne.xaxis,q=ne.yaxis,K=te._fullLayout;de||(de={mode:K.barmode,norm:K.barmode,gap:K.bargap,groupgap:K.bargroupgap},h("bar",K));var g=o.makeTraceGroups(me,oe,"trace bars").each(function(S){var Y=t.select(this),z=S[0].trace,_=z.type==="waterfall",O=z.type==="funnel",N=z.type==="bar",P=N||O,j=0;_&&z.connector.visible&&z.connector.mode==="between"&&(j=z.connector.line.width/2);var se=z.orientation==="h",ce=H(de),fe=o.ensureSingle(Y,"g","points"),pe=x(z),be=fe.selectAll("g.point").data(o.identity,pe);be.enter().append("g").classed("point",!0),be.exit().remove(),be.each(function(ke,Oe){var Be=t.select(this),Ae=E(ke,Z,q,se),ge=Ae[0][0],Ee=Ae[0][1],Ve=Ae[1][0],xt=Ae[1][1],Ye=(se?Ee-ge:xt-Ve)===0;Ye&&P&&y.getLineWidth(z,ke)&&(Ye=!1),Ye||(Ye=!n(ge)||!n(Ee)||!n(Ve)||!n(xt)),ke.isBlank=Ye,Ye&&(se?Ee=ge:xt=Ve),j&&!Ye&&(se?(ge-=C(ge,Ee)*j,Ee+=C(ge,Ee)*j):(Ve-=C(Ve,xt)*j,xt+=C(Ve,xt)*j));var Xe,Je;if(z.type==="waterfall"){if(!Ye){var ft=z[ke.dir].marker;Xe=ft.line.width,Je=ft.color}}else Xe=y.getLineWidth(z,ke),Je=ke.mc||z.marker.color;function yt(Ct){var Ce=t.round(Xe/2%1,2);return de.gap===0&&de.groupgap===0?t.round(Math.round(Ct)-Ce,2):Ct}function At(Ct,Ce,ze){return ze&&Ct===Ce?Ct:Math.abs(Ct-Ce)>=2?yt(Ct):Ct>Ce?Math.ceil(Ct):Math.floor(Ct)}if(!te._context.staticPlot){var qe=e.opacity(Je),mt=qe<1||Xe>.01?yt:At;ge=mt(ge,Ee,se),Ee=mt(Ee,ge,se),Ve=mt(Ve,xt,!se),xt=mt(xt,Ve,!se)}var st=w(o.ensureSingle(Be,"path"),K,de,ie);if(st.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Ee-ge)*(xt-Ve))||Ye&&te._context.staticPlot?"M0,0Z":"M"+ge+","+Ve+"V"+xt+"H"+Ee+"V"+Ve+"Z").call(u.setClipUrl,ne.layerClipId,te),!K.uniformtext.mode&&ce){var gt=u.makePointStyleFns(z);u.singlePointStyle(ke,st,z,gt,te)}k(te,ne,Be,S,Oe,ge,Ee,Ve,xt,de,ie),ne.layerClipId&&u.hideOutsideRangePoint(ke,Be.select("text"),Z,q,z.xcalendar,z.ycalendar)});var Re=z.cliponaxis===!1;u.setClipUrl(Y,Re?null:ne.layerClipId,te)});s.getComponentMethod("errorbars","plot")(te,g,ne,de)}function k(te,ne,oe,me,de,ie,Z,q,K,g,S){var Y=ne.xaxis,z=ne.yaxis,_=te._fullLayout,O;function N(Ct,Ce,ze){var et=o.ensureSingle(Ct,"text").text(Ce).attr({class:"bartext bartext-"+O,"text-anchor":"middle","data-notex":1}).call(u.font,ze).call(a.convertToTspans,te);return et}var P=me[0].trace,j=P.orientation==="h",se=ee(_,me,de,Y,z);O=R(P,de);var ce=g.mode==="stack"||g.mode==="relative",fe=me[de],pe=!ce||fe._outmost;if(!se||O==="none"||(fe.isBlank||ie===Z||q===K)&&(O==="auto"||O==="inside")){oe.select("text").remove();return}var be=_.font,Re=v.getBarColor(me[de],P),ke=v.getInsideTextFont(P,de,be,Re),Oe=v.getOutsideTextFont(P,de,be),Be=oe.datum();j?Y.type==="log"&&Be.s0<=0&&(Y.range[0]<Y.range[1]?ie=0:ie=Y._length):z.type==="log"&&Be.s0<=0&&(z.range[0]<z.range[1]?q=z._length:q=0);var Ae=Math.abs(Z-ie)-2*T,ge=Math.abs(K-q)-2*T,Ee,Ve,xt,Ye,Xe;if(O==="outside"&&!pe&&!fe.hasB&&(O="inside"),O==="auto")if(pe){O="inside",Xe=o.ensureUniformFontSize(te,ke),Ee=N(oe,se,Xe),Ve=u.bBox(Ee.node()),xt=Ve.width,Ye=Ve.height;var Je=xt>0&&Ye>0,ft=xt<=Ae&&Ye<=ge,yt=xt<=ge&&Ye<=Ae,At=j?Ae>=xt*(ge/Ye):ge>=Ye*(Ae/xt);Je&&(ft||yt||At)?O="inside":(O="outside",Ee.remove(),Ee=null)}else O="inside";if(!Ee){Xe=o.ensureUniformFontSize(te,O==="outside"?Oe:ke),Ee=N(oe,se,Xe);var qe=Ee.attr("transform");if(Ee.attr("transform",""),Ve=u.bBox(Ee.node()),xt=Ve.width,Ye=Ve.height,Ee.attr("transform",qe),xt<=0||Ye<=0){Ee.remove();return}}var mt=P.textangle,st,gt;O==="outside"?(gt=P.constraintext==="both"||P.constraintext==="outside",st=J(ie,Z,q,K,Ve,{isHorizontal:j,constrained:gt,angle:mt})):(gt=P.constraintext==="both"||P.constraintext==="inside",st=Q(ie,Z,q,K,Ve,{isHorizontal:j,constrained:gt,angle:mt,anchor:P.insidetextanchor})),st.fontSize=Xe.size,c(P.type==="histogram"?"bar":P.type,st,_),fe.transform=st,w(Ee,_,g,S).attr("transform",o.getTextTransform(st))}function I(te){return te==="auto"?0:te}function U(te,ne){var oe=Math.PI/180*ne,me=Math.abs(Math.sin(oe)),de=Math.abs(Math.cos(oe));return{x:te.width*de+te.height*me,y:te.width*me+te.height*de}}function Q(te,ne,oe,me,de,ie){var Z=!!ie.isHorizontal,q=!!ie.constrained,K=ie.angle||0,g=ie.anchor||"end",S=g==="end",Y=g==="start",z=ie.leftToRight||0,_=(z+1)/2,O=1-_,N=de.width,P=de.height,j=Math.abs(ne-te),se=Math.abs(me-oe),ce=j>2*T&&se>2*T?T:0;j-=2*ce,se-=2*ce;var fe=I(K);K==="auto"&&!(N<=j&&P<=se)&&(N>j||P>se)&&(!(N>se||P>j)||N<P!=j<se)&&(fe+=90);var pe=U(de,fe),be=1;q&&(be=Math.min(1,j/pe.x,se/pe.y));var Re=de.left*O+de.right*_,ke=(de.top+de.bottom)/2,Oe=(te+T)*O+(ne-T)*_,Be=(oe+me)/2,Ae=0,ge=0;if(Y||S){var Ee=(Z?pe.x:pe.y)/2,Ve=Z?C(te,ne):C(oe,me);Z?Y?(Oe=te+Ve*ce,Ae=-Ve*Ee):(Oe=ne-Ve*ce,Ae=Ve*Ee):Y?(Be=oe+Ve*ce,ge=-Ve*Ee):(Be=me-Ve*ce,ge=Ve*Ee)}return{textX:Re,textY:ke,targetX:Oe,targetY:Be,anchorX:Ae,anchorY:ge,scale:be,rotate:fe}}function J(te,ne,oe,me,de,ie){var Z=!!ie.isHorizontal,q=!!ie.constrained,K=ie.angle||0,g=de.width,S=de.height,Y=Math.abs(ne-te),z=Math.abs(me-oe),_;Z?_=z>2*T?T:0:_=Y>2*T?T:0;var O=1;q&&(O=Z?Math.min(1,z/S):Math.min(1,Y/g));var N=I(K),P=U(de,N),j=(Z?P.x:P.y)/2,se=(de.left+de.right)/2,ce=(de.top+de.bottom)/2,fe=(te+ne)/2,pe=(oe+me)/2,be=0,Re=0,ke=Z?C(ne,te):C(oe,me);return Z?(fe=ne-ke*_,be=ke*j):(pe=me+ke*_,Re=-ke*j),{textX:se,textY:ce,targetX:fe,targetY:pe,anchorX:be,anchorY:Re,scale:O,rotate:N}}function ee(te,ne,oe,me,de){var ie=ne[0].trace,Z=ie.texttemplate,q;return Z?q=G(te,ne,oe,me,de):ie.textinfo?q=B(ne,oe,me,de):q=y.getValue(ie.text,oe),y.coerceString(A,q)}function R(te,ne){var oe=y.getValue(te.textposition,ne);return y.coerceEnumerated(M,oe)}function G(te,ne,oe,me,de){var ie=ne[0].trace,Z=o.castOption(ie,oe,"texttemplate");if(!Z)return"";var q=ie.type==="histogram",K=ie.type==="waterfall",g=ie.type==="funnel",S=ie.orientation==="h",Y,z,_,O;S?(Y="y",z=de,_="x",O=me):(Y="x",z=me,_="y",O=de);function N(be){return l(z,z.c2l(be),!0).text}function P(be){return l(O,O.c2l(be),!0).text}var j=ne[oe],se={};se.label=j.p,se.labelLabel=se[Y+"Label"]=N(j.p);var ce=o.castOption(ie,j.i,"text");(ce===0||ce)&&(se.text=ce),se.value=j.s,se.valueLabel=se[_+"Label"]=P(j.s);var fe={};p(fe,ie,j.i),(q||fe.x===void 0)&&(fe.x=S?se.value:se.label),(q||fe.y===void 0)&&(fe.y=S?se.label:se.value),(q||fe.xLabel===void 0)&&(fe.xLabel=S?se.valueLabel:se.labelLabel),(q||fe.yLabel===void 0)&&(fe.yLabel=S?se.labelLabel:se.valueLabel),K&&(se.delta=+j.rawS||j.s,se.deltaLabel=P(se.delta),se.final=j.v,se.finalLabel=P(se.final),se.initial=se.final-se.delta,se.initialLabel=P(se.initial)),g&&(se.value=j.s,se.valueLabel=P(se.value),se.percentInitial=j.begR,se.percentInitialLabel=o.formatPercent(j.begR),se.percentPrevious=j.difR,se.percentPreviousLabel=o.formatPercent(j.difR),se.percentTotal=j.sumR,se.percenTotalLabel=o.formatPercent(j.sumR));var pe=o.castOption(ie,j.i,"customdata");return pe&&(se.customdata=pe),o.texttemplateString(Z,se,te._d3locale,fe,se,ie._meta||{})}function B(te,ne,oe,me){var de=te[0].trace,ie=de.orientation==="h",Z=de.type==="waterfall",q=de.type==="funnel";function K(pe){var be=ie?me:oe;return l(be,pe,!0).text}function g(pe){var be=ie?oe:me;return l(be,+pe,!0).text}var S=de.textinfo,Y=te[ne],z=S.split("+"),_=[],O,N=function(pe){return z.indexOf(pe)!==-1};if(N("label")&&_.push(K(te[ne].p)),N("text")&&(O=o.castOption(de,Y.i,"text"),(O===0||O)&&_.push(O)),Z){var P=+Y.rawS||Y.s,j=Y.v,se=j-P;N("initial")&&_.push(g(se)),N("delta")&&_.push(g(P)),N("final")&&_.push(g(j))}if(q){N("value")&&_.push(g(Y.s));var ce=0;N("percent initial")&&ce++,N("percent previous")&&ce++,N("percent total")&&ce++;var fe=ce>1;N("percent initial")&&(O=o.formatPercent(Y.begR),fe&&(O+=" of initial"),_.push(O)),N("percent previous")&&(O=o.formatPercent(Y.difR),fe&&(O+=" of previous"),_.push(O)),N("percent total")&&(O=o.formatPercent(Y.sumR),fe&&(O+=" of total"),_.push(O))}return _.join("<br>")}ae.exports={plot:F,toMoveInsideBar:Q}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(f,ae,W){ae.exports=function(o,a){var e=o.cd,u=o.xaxis,s=o.yaxis,l=e[0].trace,r=l.type==="funnel",c=l.orientation==="h",h=[],v;if(a===!1)for(v=0;v<e.length;v++)e[v].selected=0;else for(v=0;v<e.length;v++){var y=e[v],m="ct"in y?y.ct:t(y,u,s,c,r);a.contains(m,!1,v,o)?(h.push({pointNumber:v,x:u.c2d(y.x),y:s.c2d(y.y)}),y.selected=1):y.selected=0}return h};function t(n,o,a,e,u){var s=o.c2p(e?n.s0:n.p0,!0),l=o.c2p(e?n.s1:n.p1,!0),r=a.c2p(e?n.p0:n.s0,!0),c=a.c2p(e?n.p1:n.s1,!0);return u?[(s+l)/2,(r+c)/2]:e?[l,(r+c)/2]:[(s+l)/2,c]}},{}],341:[function(f,ae,W){ae.exports=o;var t=f("../../lib").distinctVals,n=f("../../constants/numerical").BADNUM;function o(a,e){this.traces=a,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var u=1/0,s=[],l=0;l<a.length;l++){for(var r=a[l],c=0;c<r.length;c++){var h=r[c];h.p!==n&&s.push(h.p)}r[0]&&r[0].width1&&(u=Math.min(r[0].width1,u))}this.positions=s;var v=t(s);this.distinctPositions=v.vals,v.vals.length===1&&u!==1/0?this.minDiff=u:this.minDiff=Math.min(v.minDiff,u);var y=(e.posAxis||{}).type;(y==="category"||y==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,u){var s=this.getLabel(e,u),l=this.bins[s]||0;return this.bins[s]=l+u,l},o.prototype.get=function(e,u){var s=this.getLabel(e,u);return this.bins[s]||0},o.prototype.getLabel=function(e,u){var s=u<0&&this.sepNegVal?"v":"^",l=this.overlapNoMerge?e:Math.round(e/this.binWidth);return s+l}},{"../../constants/numerical":212,"../../lib":232}],342:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../components/color"),o=f("../../components/drawing"),a=f("../../lib"),e=f("../../registry"),u=f("./uniform_text").resizeText,s=f("./attributes"),l=s.textfont,r=s.insidetextfont,c=s.outsidetextfont,h=f("./helpers");function v(w){var H=t.select(w).selectAll("g.barlayer").selectAll("g.trace");u(w,H,"bar");var F=H.size(),k=w._fullLayout;H.style("opacity",function(I){return I[0].trace.opacity}).each(function(I){(k.barmode==="stack"&&F>1||k.bargap===0&&k.bargroupgap===0&&!I[0].trace.marker.line.width)&&t.select(this).attr("shape-rendering","crispEdges")}),H.selectAll("g.points").each(function(I){var U=t.select(this),Q=I[0].trace;y(U,Q,w)}),e.getComponentMethod("errorbars","style")(H)}function y(w,H,F){o.pointStyle(w.selectAll("path"),H,F),m(w,H,F)}function m(w,H,F){w.selectAll("text").each(function(k){var I=t.select(this),U=a.ensureUniformFontSize(F,p(I,k,H,F));o.font(I,U)})}function L(w,H,F){var k=H[0].trace;k.selectedpoints?A(F,k,w):(y(F,k,w),e.getComponentMethod("errorbars","style")(F))}function A(w,H,F){o.selectedPointStyle(w.selectAll("path"),H),M(w.selectAll("text"),H,F)}function M(w,H,F){w.each(function(k){var I=t.select(this),U;if(k.selected){U=a.ensureUniformFontSize(F,p(I,k,H,F));var Q=H.selected.textfont&&H.selected.textfont.color;Q&&(U.color=Q),o.font(I,U)}else o.selectedTextStyle(I,H)})}function p(w,H,F,k){var I=k._fullLayout.font,U=F.textfont;if(w.classed("bartext-inside")){var Q=E(H,F);U=d(F,H.i,I,Q)}else w.classed("bartext-outside")&&(U=x(F,H.i,I));return U}function T(w,H,F){return C(l,w.textfont,H,F)}function d(w,H,F,k){var I=T(w,H,F),U=w._input.textfont===void 0||w._input.textfont.color===void 0||Array.isArray(w.textfont.color)&&w.textfont.color[H]===void 0;return U&&(I={color:n.contrast(k),family:I.family,size:I.size}),C(r,w.insidetextfont,H,I)}function x(w,H,F){var k=T(w,H,F);return C(c,w.outsidetextfont,H,k)}function C(w,H,F,k){H=H||{};var I=h.getValue(H.family,F),U=h.getValue(H.size,F),Q=h.getValue(H.color,F);return{family:h.coerceString(w.family,I,k.family),size:h.coerceNumber(w.size,U,k.size),color:h.coerceColor(w.color,Q,k.color)}}function E(w,H){return H.type==="waterfall"?H[w.dir].marker.color:w.mcc||w.mc||H.marker.color}ae.exports={style:v,styleTextPoints:m,styleOnSelect:L,getInsideTextFont:d,getOutsideTextFont:x,getBarColor:E,resizeText:u}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(f,ae,W){var t=f("../../components/color"),n=f("../../components/colorscale/helpers").hasColorscale,o=f("../../components/colorscale/defaults"),a=f("../../lib").coercePattern;ae.exports=function(u,s,l,r,c){var h=l("marker.color",r),v=n(u,"marker");v&&o(u,s,c,l,{prefix:"marker.",cLetter:"c"}),l("marker.line.color",t.defaultLine),n(u,"marker.line")&&o(u,s,c,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width"),l("marker.opacity"),a(l,"marker.pattern",h,v),l("selected.marker.color"),l("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../lib");function o(s,l,r){var c=s._fullLayout,h=c["_"+r+"Text_minsize"];if(h){var v=c.uniformtext.mode==="hide",y;switch(r){case"funnelarea":case"pie":case"sunburst":y="g.slice";break;case"treemap":case"icicle":y="g.slice, g.pathbar";break;default:y="g.points > g.point"}l.selectAll(y).each(function(m){var L=m.transform;if(L){L.scale=v&&L.hide?0:h/L.fontSize;var A=t.select(this).select("text");A.attr("transform",n.getTextTransform(L))}})}}function a(s,l,r){if(r.uniformtext.mode){var c=u(s),h=r.uniformtext.minsize,v=l.scale*l.fontSize;l.hide=v<h,r[c]=r[c]||1/0,l.hide||(r[c]=Math.min(r[c],Math.max(v,h)))}}function e(s,l){var r=u(s);l[r]=void 0}function u(s){return"_"+s+"Text_minsize"}ae.exports={recordMinTextSize:a,clearMinTextSize:e,resizeText:o}},{"../../lib":232,"@plotly/d3":11}],345:[function(f,ae,W){var t=f("../../plots/attributes"),n=f("../../plots/domain").attributes,o=f("../../plots/font_attributes"),a=f("../../components/color/attributes"),e=f("../../plots/template_attributes").hovertemplateAttrs,u=f("../../plots/template_attributes").texttemplateAttrs,s=f("../../lib/extend").extendFlat,l=o({editType:"plot",arrayOk:!0,colorEditType:"plot"});ae.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},t.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:e({},{keys:["label","color","value","percent","text"]}),texttemplate:u({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},l,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},l,{}),outsidetextfont:s({},l,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},l,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:n({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},l,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(f,ae,W){var t=f("../../plots/plots");W.name="pie",W.plot=function(n,o,a,e){t.plotBasePlot(W.name,n,o,a,e)},W.clean=function(n,o,a,e){t.cleanBasePlot(W.name,n,o,a,e)}},{"../../plots/plots":316}],347:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("tinycolor2"),o=f("../../components/color"),a={};function e(r,c){var h=[],v=r._fullLayout,y=v.hiddenlabels||[],m=c.labels,L=c.marker.colors||[],A=c.values,M=c._length,p=c._hasValues&&M,T,d;if(c.dlabel)for(m=new Array(M),T=0;T<M;T++)m[T]=String(c.label0+T*c.dlabel);var x={},C=u(v["_"+c.type+"colormap"]),E=0,w=!1;for(T=0;T<M;T++){var H,F,k;if(p){if(H=A[T],!t(H))continue;H=+H}else H=1;F=m[T],(F===void 0||F==="")&&(F=T),F=String(F);var I=x[F];I===void 0?(x[F]=h.length,k=y.indexOf(F)!==-1,k||(E+=H),h.push({v:H,label:F,color:C(L[T],F),i:T,pts:[T],hidden:k})):(w=!0,d=h[I],d.v+=H,d.pts.push(T),d.hidden||(E+=H),d.color===!1&&L[T]&&(d.color=C(L[T],F)))}h=h.filter(function(Q){return Q.v>=0});var U=c.type==="funnelarea"?w:c.sort;return U&&h.sort(function(Q,J){return J.v-Q.v}),h[0]&&(h[0].vTotal=E),h}function u(r){return function(h,v){return!h||(h=n(h),!h.isValid())?!1:(h=o.addOpacity(h,h.getAlpha()),r[v]||(r[v]=h),h)}}function s(r,c){var h=(c||{}).type;h||(h="pie");var v=r._fullLayout,y=r.calcdata,m=v[h+"colorway"],L=v["_"+h+"colormap"];v["extend"+h+"colors"]&&(m=l(m,a));for(var A=0,M=0;M<y.length;M++){var p=y[M],T=p[0].trace.type;if(T===h)for(var d=0;d<p.length;d++){var x=p[d];x.color===!1&&(L[x.label]?x.color=L[x.label]:(L[x.label]=x.color=m[A%m.length],A++))}}}function l(r,c){var h,v=JSON.stringify(r),y=c[v];if(!y){for(y=r.slice(),h=0;h<r.length;h++)y.push(n(r[h]).lighten(20).toHexString());for(h=0;h<r.length;h++)y.push(n(r[h]).darken(20).toHexString());c[v]=y}return y}ae.exports={calc:e,crossTraceCalc:s,makePullColorFn:u,generateExtendedColors:l}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("./attributes"),a=f("../../plots/domain").defaults,e=f("../bar/defaults").handleText;function u(l,r){var c=Array.isArray(l),h=n.isArrayOrTypedArray(r),v=Math.min(c?l.length:1/0,h?r.length:1/0);if(isFinite(v)||(v=0),v&&h){for(var y,m=0;m<v;m++){var L=r[m];if(t(L)&&L>0){y=!0;break}}y||(v=0)}return{hasLabels:c,hasValues:h,len:v}}function s(l,r,c,h){function v(k,I){return n.coerce(l,r,o,k,I)}var y=v("labels"),m=v("values"),L=u(y,m),A=L.len;if(r._hasLabels=L.hasLabels,r._hasValues=L.hasValues,!r._hasLabels&&r._hasValues&&(v("label0"),v("dlabel")),!A){r.visible=!1;return}r._length=A;var M=v("marker.line.width");M&&v("marker.line.color"),v("marker.colors"),v("scalegroup");var p=v("text"),T=v("texttemplate"),d;if(T||(d=v("textinfo",Array.isArray(p)?"text+percent":"percent")),v("hovertext"),v("hovertemplate"),T||d&&d!=="none"){var x=v("textposition");e(l,r,h,v,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(x)||x==="auto",E=C||x==="outside";E&&v("automargin"),(x==="inside"||x==="auto"||Array.isArray(x))&&v("insidetextorientation")}a(r,h,v);var w=v("hole"),H=v("title.text");if(H){var F=v("title.position",w?"middle center":"top center");!w&&F==="middle center"&&(r.title.position="top center"),n.coerceFont(v,"title.font",h.font)}v("sort"),v("direction"),v("rotation"),v("pull")}ae.exports={handleLabelsAndValues:u,supplyDefaults:s}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(f,ae,W){var t=f("../../components/fx/helpers").appendArrayMultiPointValues;ae.exports=function(o,a){var e={curveNumber:a.index,pointNumbers:o.pts,data:a._input,fullData:a,label:o.label,color:o.color,value:o.v,percent:o.percent,text:o.text,bbox:o.bbox,v:o.v};return o.pts.length===1&&(e.pointNumber=e.i=o.pts[0]),t(e,a,o.pts),a.type==="funnelarea"&&(delete e.v,delete e.i),e}},{"../../components/fx/helpers":138}],350:[function(f,ae,W){var t=f("../../lib");function n(o){return o.indexOf("e")!==-1?o.replace(/[.]?0+e/,"e"):o.indexOf(".")!==-1?o.replace(/[.]?0+$/,""):o}W.formatPiePercent=function(a,e){var u=n((a*100).toPrecision(3));return t.numSeparate(u,e)+"%"},W.formatPieValue=function(a,e){var u=n(a.toPrecision(10));return t.numSeparate(u,e)},W.getFirstFilled=function(a,e){if(!!Array.isArray(a))for(var u=0;u<e.length;u++){var s=a[e[u]];if(s||s===0||s==="")return s}},W.castOption=function(a,e){if(Array.isArray(a))return W.getFirstFilled(a,e);if(a)return a},W.getRotationAngle=function(o){return(o==="auto"?0:o)*Math.PI/180}},{"../../lib":232}],351:[function(f,ae,W){ae.exports={attributes:f("./attributes"),supplyDefaults:f("./defaults").supplyDefaults,supplyLayoutDefaults:f("./layout_defaults"),layoutAttributes:f("./layout_attributes"),calc:f("./calc").calc,crossTraceCalc:f("./calc").crossTraceCalc,plot:f("./plot").plot,style:f("./style"),styleOne:f("./style_one"),moduleType:"trace",name:"pie",basePlotModule:f("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(f,ae,W){ae.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(f,ae,W){var t=f("../../lib"),n=f("./layout_attributes");ae.exports=function(a,e){function u(s,l){return t.coerce(a,e,n,s,l)}u("hiddenlabels"),u("piecolorway",e.colorway),u("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../plots/plots"),o=f("../../components/fx"),a=f("../../components/color"),e=f("../../components/drawing"),u=f("../../lib"),s=u.strScale,l=u.strTranslate,r=f("../../lib/svg_text_utils"),c=f("../bar/uniform_text"),h=c.recordMinTextSize,v=c.clearMinTextSize,y=f("../bar/constants").TEXTPAD,m=f("./helpers"),L=f("./event_data"),A=f("../../lib").isValidTextValue;function M(K,g){var S=K._fullLayout,Y=S._size;v("pie",S),C(g,K),oe(g,Y);var z=u.makeTraceGroups(S._pielayer,g,"trace").each(function(_){var O=t.select(this),N=_[0],P=N.trace;de(_),O.attr("stroke-linejoin","round"),O.each(function(){var j=t.select(this).selectAll("g.slice").data(_);j.enter().append("g").classed("slice",!0),j.exit().remove();var se=[[[],[]],[[],[]]],ce=!1;j.each(function(Ae,ge){if(Ae.hidden){t.select(this).selectAll("path,g").remove();return}Ae.pointNumber=Ae.i,Ae.curveNumber=P.index,se[Ae.pxmid[1]<0?0:1][Ae.pxmid[0]<0?0:1].push(Ae);var Ee=N.cx,Ve=N.cy,xt=t.select(this),Ye=xt.selectAll("path.surface").data([Ae]);if(Ye.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),xt.call(T,K,_),P.pull){var Xe=+m.castOption(P.pull,Ae.pts)||0;Xe>0&&(Ee+=Xe*Ae.pxmid[0],Ve+=Xe*Ae.pxmid[1])}Ae.cxFinal=Ee,Ae.cyFinal=Ve;function Je(gt,Ct,Ce,ze){var et=ze*(Ct[0]-gt[0]),ve=ze*(Ct[1]-gt[1]);return"a"+ze*N.r+","+ze*N.r+" 0 "+Ae.largeArc+(Ce?" 1 ":" 0 ")+et+","+ve}var ft=P.hole;if(Ae.v===N.vTotal){var yt="M"+(Ee+Ae.px0[0])+","+(Ve+Ae.px0[1])+Je(Ae.px0,Ae.pxmid,!0,1)+Je(Ae.pxmid,Ae.px0,!0,1)+"Z";ft?Ye.attr("d","M"+(Ee+ft*Ae.px0[0])+","+(Ve+ft*Ae.px0[1])+Je(Ae.px0,Ae.pxmid,!1,ft)+Je(Ae.pxmid,Ae.px0,!1,ft)+"Z"+yt):Ye.attr("d",yt)}else{var At=Je(Ae.px0,Ae.px1,!0,1);if(ft){var qe=1-ft;Ye.attr("d","M"+(Ee+ft*Ae.px1[0])+","+(Ve+ft*Ae.px1[1])+Je(Ae.px1,Ae.px0,!1,ft)+"l"+qe*Ae.px0[0]+","+qe*Ae.px0[1]+At+"Z")}else Ye.attr("d","M"+Ee+","+Ve+"l"+Ae.px0[0]+","+Ae.px0[1]+At+"Z")}Z(K,Ae,N);var mt=m.castOption(P.textposition,Ae.pts),st=xt.selectAll("g.slicetext").data(Ae.text&&mt!=="none"?[0]:[]);st.enter().append("g").classed("slicetext",!0),st.exit().remove(),st.each(function(){var gt=u.ensureSingle(t.select(this),"text","",function(De){De.attr("data-notex",1)}),Ct=u.ensureUniformFontSize(K,mt==="outside"?d(P,Ae,S.font):x(P,Ae,S.font));gt.text(Ae.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(e.font,Ct).call(r.convertToTspans,K);var Ce=e.bBox(gt.node()),ze;if(mt==="outside")ze=J(Ce,Ae);else if(ze=E(Ce,Ae,N),mt==="auto"&&ze.scale<1){var et=u.ensureUniformFontSize(K,P.outsidetextfont);gt.call(e.font,et),Ce=e.bBox(gt.node()),ze=J(Ce,Ae)}var ve=ze.textPosAngle,we=ve===void 0?Ae.pxmid:ie(N.r,ve);if(ze.targetX=Ee+we[0]*ze.rCenter+(ze.x||0),ze.targetY=Ve+we[1]*ze.rCenter+(ze.y||0),q(ze,Ce),ze.outside){var Me=ze.targetY;Ae.yLabelMin=Me-Ce.height/2,Ae.yLabelMid=Me,Ae.yLabelMax=Me+Ce.height/2,Ae.labelExtraX=0,Ae.labelExtraY=0,ce=!0}ze.fontSize=Ct.size,h(P.type,ze,S),_[ge].transform=ze,gt.attr("transform",u.getTextTransform(ze))})});var fe=t.select(this).selectAll("g.titletext").data(P.title.text?[0]:[]);if(fe.enter().append("g").classed("titletext",!0),fe.exit().remove(),fe.each(function(){var Ae=u.ensureSingle(t.select(this),"text","",function(Ve){Ve.attr("data-notex",1)}),ge=P.title.text;P._meta&&(ge=u.templateString(ge,P._meta)),Ae.text(ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(e.font,P.title.font).call(r.convertToTspans,K);var Ee;P.title.position==="middle center"?Ee=ee(N):Ee=R(N,Y),Ae.attr("transform",l(Ee.x,Ee.y)+s(Math.min(1,Ee.scale))+l(Ee.tx,Ee.ty))}),ce&&ne(se,P),p(j,P),ce&&P.automargin){var pe=e.bBox(O.node()),be=P.domain,Re=Y.w*(be.x[1]-be.x[0]),ke=Y.h*(be.y[1]-be.y[0]),Oe=(.5*Re-N.r)/Y.w,Be=(.5*ke-N.r)/Y.h;n.autoMargin(K,"pie."+P.uid+".automargin",{xl:be.x[0]-Oe,xr:be.x[1]+Oe,yb:be.y[0]-Be,yt:be.y[1]+Be,l:Math.max(N.cx-N.r-pe.left,0),r:Math.max(pe.right-(N.cx+N.r),0),b:Math.max(pe.bottom-(N.cy+N.r),0),t:Math.max(N.cy-N.r-pe.top,0),pad:5})}})});setTimeout(function(){z.selectAll("tspan").each(function(){var _=t.select(this);_.attr("dy")&&_.attr("dy",_.attr("dy"))})},0)}function p(K,g){K.each(function(S){var Y=t.select(this);if(!S.labelExtraX&&!S.labelExtraY){Y.select("path.textline").remove();return}var z=Y.select("g.slicetext text");S.transform.targetX+=S.labelExtraX,S.transform.targetY+=S.labelExtraY,z.attr("transform",u.getTextTransform(S.transform));var _=S.cxFinal+S.pxmid[0],O=S.cyFinal+S.pxmid[1],N="M"+_+","+O,P=(S.yLabelMax-S.yLabelMin)*(S.pxmid[0]<0?-1:1)/4;if(S.labelExtraX){var j=S.labelExtraX*S.pxmid[1]/S.pxmid[0],se=S.yLabelMid+S.labelExtraY-(S.cyFinal+S.pxmid[1]);Math.abs(j)>Math.abs(se)?N+="l"+se*S.pxmid[0]/S.pxmid[1]+","+se+"H"+(_+S.labelExtraX+P):N+="l"+S.labelExtraX+","+j+"v"+(se-j)+"h"+P}else N+="V"+(S.yLabelMid+S.labelExtraY)+"h"+P;u.ensureSingle(Y,"path","textline").call(a.stroke,g.outsidetextfont.color).attr({"stroke-width":Math.min(2,g.outsidetextfont.size/8),d:N,fill:"none"})})}function T(K,g,S){var Y=S[0],z=Y.cx,_=Y.cy,O=Y.trace,N=O.type==="funnelarea";"_hasHoverLabel"in O||(O._hasHoverLabel=!1),"_hasHoverEvent"in O||(O._hasHoverEvent=!1),K.on("mouseover",function(P){var j=g._fullLayout,se=g._fullData[O.index];if(!(g._dragging||j.hovermode===!1)){var ce=se.hoverinfo;if(Array.isArray(ce)&&(ce=o.castHoverinfo({hoverinfo:[m.castOption(ce,P.pts)],_module:O._module},j,0)),ce==="all"&&(ce="label+text+value+percent+name"),se.hovertemplate||ce!=="none"&&ce!=="skip"&&ce){var fe=P.rInscribed||0,pe=z+P.pxmid[0]*(1-fe),be=_+P.pxmid[1]*(1-fe),Re=j.separators,ke=[];if(ce&&ce.indexOf("label")!==-1&&ke.push(P.label),P.text=m.castOption(se.hovertext||se.text,P.pts),ce&&ce.indexOf("text")!==-1){var Oe=P.text;u.isValidTextValue(Oe)&&ke.push(Oe)}P.value=P.v,P.valueLabel=m.formatPieValue(P.v,Re),ce&&ce.indexOf("value")!==-1&&ke.push(P.valueLabel),P.percent=P.v/Y.vTotal,P.percentLabel=m.formatPiePercent(P.percent,Re),ce&&ce.indexOf("percent")!==-1&&ke.push(P.percentLabel);var Be=se.hoverlabel,Ae=Be.font,ge=[];o.loneHover({trace:O,x0:pe-fe*Y.r,x1:pe+fe*Y.r,y:be,_x0:N?z+P.TL[0]:pe-fe*Y.r,_x1:N?z+P.TR[0]:pe+fe*Y.r,_y0:N?_+P.TL[1]:be-fe*Y.r,_y1:N?_+P.BL[1]:be+fe*Y.r,text:ke.join("<br>"),name:se.hovertemplate||ce.indexOf("name")!==-1?se.name:void 0,idealAlign:P.pxmid[0]<0?"left":"right",color:m.castOption(Be.bgcolor,P.pts)||P.color,borderColor:m.castOption(Be.bordercolor,P.pts),fontFamily:m.castOption(Ae.family,P.pts),fontSize:m.castOption(Ae.size,P.pts),fontColor:m.castOption(Ae.color,P.pts),nameLength:m.castOption(Be.namelength,P.pts),textAlign:m.castOption(Be.align,P.pts),hovertemplate:m.castOption(se.hovertemplate,P.pts),hovertemplateLabels:P,eventData:[L(P,se)]},{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:g,inOut_bbox:ge}),P.bbox=ge[0],O._hasHoverLabel=!0}O._hasHoverEvent=!0,g.emit("plotly_hover",{points:[L(P,se)],event:t.event})}}),K.on("mouseout",function(P){var j=g._fullLayout,se=g._fullData[O.index],ce=t.select(this).datum();O._hasHoverEvent&&(P.originalEvent=t.event,g.emit("plotly_unhover",{points:[L(ce,se)],event:t.event}),O._hasHoverEvent=!1),O._hasHoverLabel&&(o.loneUnhover(j._hoverlayer.node()),O._hasHoverLabel=!1)}),K.on("click",function(P){var j=g._fullLayout,se=g._fullData[O.index];g._dragging||j.hovermode===!1||(g._hoverdata=[L(P,se)],o.click(g,t.event))})}function d(K,g,S){var Y=m.castOption(K.outsidetextfont.color,g.pts)||m.castOption(K.textfont.color,g.pts)||S.color,z=m.castOption(K.outsidetextfont.family,g.pts)||m.castOption(K.textfont.family,g.pts)||S.family,_=m.castOption(K.outsidetextfont.size,g.pts)||m.castOption(K.textfont.size,g.pts)||S.size;return{color:Y,family:z,size:_}}function x(K,g,S){var Y=m.castOption(K.insidetextfont.color,g.pts);!Y&&K._input.textfont&&(Y=m.castOption(K._input.textfont.color,g.pts));var z=m.castOption(K.insidetextfont.family,g.pts)||m.castOption(K.textfont.family,g.pts)||S.family,_=m.castOption(K.insidetextfont.size,g.pts)||m.castOption(K.textfont.size,g.pts)||S.size;return{color:Y||a.contrast(g.color),family:z,size:_}}function C(K,g){for(var S,Y,z=0;z<K.length;z++)if(S=K[z][0],Y=S.trace,Y.title.text){var _=Y.title.text;Y._meta&&(_=u.templateString(_,Y._meta));var O=e.tester.append("text").attr("data-notex",1).text(_).call(e.font,Y.title.font).call(r.convertToTspans,g),N=e.bBox(O.node(),!0);S.titleBox={width:N.width,height:N.height},O.remove()}}function E(K,g,S){var Y=S.r||g.rpx1,z=g.rInscribed,_=g.startangle===g.stopangle;if(_)return{rCenter:1-z,scale:0,rotate:0,textPosAngle:0};var O=g.ring,N=O===1&&Math.abs(g.startangle-g.stopangle)===Math.PI*2,P=g.halfangle,j=g.midangle,se=S.trace.insidetextorientation,ce=se==="horizontal",fe=se==="tangential",pe=se==="radial",be=se==="auto",Re=[],ke;if(!be){var Oe=function(Ye,Xe){if(w(g,Ye)){var Je=Math.abs(Ye-g.startangle),ft=Math.abs(Ye-g.stopangle),yt=Je<ft?Je:ft;Xe==="tan"?ke=F(K,Y,O,yt,0):ke=H(K,Y,O,yt,Math.PI/2),ke.textPosAngle=Ye,Re.push(ke)}},Be;if(ce||fe){for(Be=4;Be>=-4;Be-=2)Oe(Math.PI*Be,"tan");for(Be=4;Be>=-4;Be-=2)Oe(Math.PI*(Be+1),"tan")}if(ce||pe){for(Be=4;Be>=-4;Be-=2)Oe(Math.PI*(Be+1.5),"rad");for(Be=4;Be>=-4;Be-=2)Oe(Math.PI*(Be+.5),"rad")}}if(N||be||ce){var Ae=Math.sqrt(K.width*K.width+K.height*K.height);if(ke={scale:z*Y*2/Ae,rCenter:1-z,rotate:0},ke.textPosAngle=(g.startangle+g.stopangle)/2,ke.scale>=1)return ke;Re.push(ke)}(be||pe)&&(ke=H(K,Y,O,P,j),ke.textPosAngle=(g.startangle+g.stopangle)/2,Re.push(ke)),(be||fe)&&(ke=F(K,Y,O,P,j),ke.textPosAngle=(g.startangle+g.stopangle)/2,Re.push(ke));for(var ge=0,Ee=0,Ve=0;Ve<Re.length;Ve++){var xt=Re[Ve].scale;if(Ee<xt&&(Ee=xt,ge=Ve),!be&&Ee>=1)break}return Re[ge]}function w(K,g){var S=K.startangle,Y=K.stopangle;return S>g&&g>Y||S<g&&g<Y}function H(K,g,S,Y,z){g=Math.max(0,g-2*y);var _=K.width/K.height,O=U(_,Y,g,S);return{scale:O*2/K.height,rCenter:k(_,O/g),rotate:I(z)}}function F(K,g,S,Y,z){g=Math.max(0,g-2*y);var _=K.height/K.width,O=U(_,Y,g,S);return{scale:O*2/K.width,rCenter:k(_,O/g),rotate:I(z+Math.PI/2)}}function k(K,g){return Math.cos(g)-K*g}function I(K){return(180/Math.PI*K+720)%180-90}function U(K,g,S,Y){var z=K+1/(2*Math.tan(g));return S*Math.min(1/(Math.sqrt(z*z+.5)+z),Y/(Math.sqrt(K*K+Y/2)+K))}function Q(K,g){return K.v===g.vTotal&&!g.trace.hole?1:Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2)}function J(K,g){var S=g.pxmid[0],Y=g.pxmid[1],z=K.width/2,_=K.height/2;return S<0&&(z*=-1),Y<0&&(_*=-1),{scale:1,rCenter:1,rotate:0,x:z+Math.abs(_)*(z>0?1:-1)/2,y:_/(1+S*S/(Y*Y)),outside:!0}}function ee(K){var g=Math.sqrt(K.titleBox.width*K.titleBox.width+K.titleBox.height*K.titleBox.height);return{x:K.cx,y:K.cy,scale:K.trace.hole*K.r*2/g,tx:0,ty:-K.titleBox.height/2+K.trace.title.font.size}}function R(K,g){var S=1,Y=1,z,_=K.trace,O={x:K.cx,y:K.cy},N={tx:0,ty:0};N.ty+=_.title.font.size,z=te(_),_.title.position.indexOf("top")!==-1?(O.y-=(1+z)*K.r,N.ty-=K.titleBox.height):_.title.position.indexOf("bottom")!==-1&&(O.y+=(1+z)*K.r);var P=G(K.r,K.trace.aspectratio),j=g.w*(_.domain.x[1]-_.domain.x[0])/2;return _.title.position.indexOf("left")!==-1?(j=j+P,O.x-=(1+z)*P,N.tx+=K.titleBox.width/2):_.title.position.indexOf("center")!==-1?j*=2:_.title.position.indexOf("right")!==-1&&(j=j+P,O.x+=(1+z)*P,N.tx-=K.titleBox.width/2),S=j/K.titleBox.width,Y=B(K,g)/K.titleBox.height,{x:O.x,y:O.y,scale:Math.min(S,Y),tx:N.tx,ty:N.ty}}function G(K,g){return K/(g===void 0?1:g)}function B(K,g){var S=K.trace,Y=g.h*(S.domain.y[1]-S.domain.y[0]);return Math.min(K.titleBox.height,Y/2)}function te(K){var g=K.pull;if(!g)return 0;var S;if(Array.isArray(g))for(g=0,S=0;S<K.pull.length;S++)K.pull[S]>g&&(g=K.pull[S]);return g}function ne(K,g){var S,Y,z,_,O,N,P,j,se,ce,fe,pe,be;function Re(Ae,ge){return Ae.pxmid[1]-ge.pxmid[1]}function ke(Ae,ge){return ge.pxmid[1]-Ae.pxmid[1]}function Oe(Ae,ge){ge||(ge={});var Ee=ge.labelExtraY+(Y?ge.yLabelMax:ge.yLabelMin),Ve=Y?Ae.yLabelMin:Ae.yLabelMax,xt=Y?Ae.yLabelMax:Ae.yLabelMin,Ye=Ae.cyFinal+O(Ae.px0[1],Ae.px1[1]),Xe=Ee-Ve,Je,ft,yt,At,qe,mt;if(Xe*P>0&&(Ae.labelExtraY=Xe),!!Array.isArray(g.pull))for(ft=0;ft<ce.length;ft++)yt=ce[ft],!(yt===Ae||(m.castOption(g.pull,Ae.pts)||0)>=(m.castOption(g.pull,yt.pts)||0))&&((Ae.pxmid[1]-yt.pxmid[1])*P>0?(At=yt.cyFinal+O(yt.px0[1],yt.px1[1]),Xe=At-Ve-Ae.labelExtraY,Xe*P>0&&(Ae.labelExtraY+=Xe)):(xt+Ae.labelExtraY-Ye)*P>0&&(Je=3*N*Math.abs(ft-ce.indexOf(Ae)),qe=yt.cxFinal+_(yt.px0[0],yt.px1[0]),mt=qe+Je-(Ae.cxFinal+Ae.pxmid[0])-Ae.labelExtraX,mt*N>0&&(Ae.labelExtraX+=mt)))}for(Y=0;Y<2;Y++)for(z=Y?Re:ke,O=Y?Math.max:Math.min,P=Y?1:-1,S=0;S<2;S++){for(_=S?Math.max:Math.min,N=S?1:-1,j=K[Y][S],j.sort(z),se=K[1-Y][S],ce=se.concat(j),pe=[],fe=0;fe<j.length;fe++)j[fe].yLabelMid!==void 0&&pe.push(j[fe]);for(be=!1,fe=0;Y&&fe<se.length;fe++)if(se[fe].yLabelMid!==void 0){be=se[fe];break}for(fe=0;fe<pe.length;fe++){var Be=fe&&pe[fe-1];be&&!fe&&(Be=be),Oe(pe[fe],Be)}}}function oe(K,g){for(var S=[],Y=0;Y<K.length;Y++){var z=K[Y][0],_=z.trace,O=_.domain,N=g.w*(O.x[1]-O.x[0]),P=g.h*(O.y[1]-O.y[0]);_.title.text&&_.title.position!=="middle center"&&(P-=B(z,g));var j=N/2,se=P/2;_.type==="funnelarea"&&!_.scalegroup&&(se/=_.aspectratio),z.r=Math.min(j,se)/(1+te(_)),z.cx=g.l+g.w*(_.domain.x[1]+_.domain.x[0])/2,z.cy=g.t+g.h*(1-_.domain.y[0])-P/2,_.title.text&&_.title.position.indexOf("bottom")!==-1&&(z.cy-=B(z,g)),_.scalegroup&&S.indexOf(_.scalegroup)===-1&&S.push(_.scalegroup)}me(K,S)}function me(K,g){for(var S,Y,z,_=0;_<g.length;_++){var O=1/0,N=g[_];for(Y=0;Y<K.length;Y++)if(S=K[Y][0],z=S.trace,z.scalegroup===N){var P;if(z.type==="pie")P=S.r*S.r;else if(z.type==="funnelarea"){var j,se;z.aspectratio>1?(j=S.r,se=j/z.aspectratio):(se=S.r,j=se*z.aspectratio),j*=(1+z.baseratio)/2,P=j*se}O=Math.min(O,P/S.vTotal)}for(Y=0;Y<K.length;Y++)if(S=K[Y][0],z=S.trace,z.scalegroup===N){var ce=O*S.vTotal;z.type==="funnelarea"&&(ce/=(1+z.baseratio)/2,ce/=z.aspectratio),S.r=Math.sqrt(ce)}}}function de(K){var g=K[0],S=g.r,Y=g.trace,z=m.getRotationAngle(Y.rotation),_=2*Math.PI/g.vTotal,O="px0",N="px1",P,j,se;if(Y.direction==="counterclockwise"){for(P=0;P<K.length&&K[P].hidden;P++);if(P===K.length)return;z+=_*K[P].v,_*=-1,O="px1",N="px0"}for(se=ie(S,z),P=0;P<K.length;P++)j=K[P],!j.hidden&&(j[O]=se,j.startangle=z,z+=_*j.v/2,j.pxmid=ie(S,z),j.midangle=z,z+=_*j.v/2,se=ie(S,z),j.stopangle=z,j[N]=se,j.largeArc=j.v>g.vTotal/2?1:0,j.halfangle=Math.PI*Math.min(j.v/g.vTotal,.5),j.ring=1-Y.hole,j.rInscribed=Q(j,g))}function ie(K,g){return[K*Math.sin(g),-K*Math.cos(g)]}function Z(K,g,S){var Y=K._fullLayout,z=S.trace,_=z.texttemplate,O=z.textinfo;if(!_&&O&&O!=="none"){var N=O.split("+"),P=function(ge){return N.indexOf(ge)!==-1},j=P("label"),se=P("text"),ce=P("value"),fe=P("percent"),pe=Y.separators,be;if(be=j?[g.label]:[],se){var Re=m.getFirstFilled(z.text,g.pts);A(Re)&&be.push(Re)}ce&&be.push(m.formatPieValue(g.v,pe)),fe&&be.push(m.formatPiePercent(g.v/S.vTotal,pe)),g.text=be.join("<br>")}function ke(ge){return{label:ge.label,value:ge.v,valueLabel:m.formatPieValue(ge.v,Y.separators),percent:ge.v/S.vTotal,percentLabel:m.formatPiePercent(ge.v/S.vTotal,Y.separators),color:ge.color,text:ge.text,customdata:u.castOption(z,ge.i,"customdata")}}if(_){var Oe=u.castOption(z,g.i,"texttemplate");if(!Oe)g.text="";else{var Be=ke(g),Ae=m.getFirstFilled(z.text,g.pts);(A(Ae)||Ae==="")&&(Be.text=Ae),g.text=u.texttemplateString(Oe,Be,K._fullLayout._d3locale,Be,z._meta||{})}}}function q(K,g){var S=K.rotate*Math.PI/180,Y=Math.cos(S),z=Math.sin(S),_=(g.left+g.right)/2,O=(g.top+g.bottom)/2;K.textX=_*Y-O*z,K.textY=_*z+O*Y,K.noCenter=!0}ae.exports={plot:M,formatSliceLabel:Z,transformInsideText:E,determineInsideTextFont:x,positionTitleOutside:R,prerenderTitles:C,layoutAreas:oe,attachFxHandlers:T,computeTransform:q}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(f,ae,W){var t=f("@plotly/d3"),n=f("./style_one"),o=f("../bar/uniform_text").resizeText;ae.exports=function(e){var u=e._fullLayout._pielayer.selectAll(".trace");o(e,u,"pie"),u.each(function(s){var l=s[0],r=l.trace,c=t.select(this);c.style({opacity:r.opacity}),c.selectAll("path.surface").each(function(h){t.select(this).call(n,h,r)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(f,ae,W){var t=f("../../components/color"),n=f("./helpers").castOption;ae.exports=function(a,e,u){var s=u.marker.line,l=n(s.color,e.pts)||t.defaultLine,r=n(s.width,e.pts)||0;a.style("stroke-width",r).call(t.fill,e.color).call(t.stroke,l)}},{"../../components/color":102,"./helpers":350}],357:[function(f,ae,W){var t=f("../../lib");ae.exports=function(o,a){for(var e=0;e<o.length;e++)o[e].i=e;t.mergeArray(a.text,o,"tx"),t.mergeArray(a.texttemplate,o,"txt"),t.mergeArray(a.hovertext,o,"htx"),t.mergeArray(a.customdata,o,"data"),t.mergeArray(a.textposition,o,"tp"),a.textfont&&(t.mergeArrayCastPositive(a.textfont.size,o,"ts"),t.mergeArray(a.textfont.color,o,"tc"),t.mergeArray(a.textfont.family,o,"tf"));var u=a.marker;if(u){t.mergeArrayCastPositive(u.size,o,"ms"),t.mergeArrayCastPositive(u.opacity,o,"mo"),t.mergeArray(u.symbol,o,"mx"),t.mergeArray(u.color,o,"mc");var s=u.line;u.line&&(t.mergeArray(s.color,o,"mlc"),t.mergeArrayCastPositive(s.width,o,"mlw"));var l=u.gradient;l&&l.type!=="none"&&(t.mergeArray(l.type,o,"mgt"),t.mergeArray(l.color,o,"mgc"))}}},{"../../lib":232}],358:[function(f,ae,W){var t=f("../../plots/cartesian/axis_format_attributes").axisHoverFormat,n=f("../../plots/template_attributes").texttemplateAttrs,o=f("../../plots/template_attributes").hovertemplateAttrs,a=f("../../components/colorscale/attributes"),e=f("../../plots/font_attributes"),u=f("../../components/drawing/attributes").dash,s=f("../../components/drawing/attributes").pattern,l=f("../../components/drawing"),r=f("./constants"),c=f("../../lib/extend").extendFlat;function h(m){return{valType:"any",dflt:0,editType:"calc"}}function v(m){return{valType:"any",editType:"calc"}}function y(m){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}ae.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:v(),yperiod0:v(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:t("x"),yhoverformat:t("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:n({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:o({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},u,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:s,marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:e({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(f,ae,W){var t=f("fast-isnumeric"),n=f("../../lib"),o=f("../../plots/cartesian/axes"),a=f("../../plots/cartesian/align_period"),e=f("../../constants/numerical").BADNUM,u=f("./subtypes"),s=f("./colorscale_calc"),l=f("./arrays_to_calcdata"),r=f("./calc_selection");function c(A,M){var p=A._fullLayout,T=o.getFromId(A,M.xaxis||"x"),d=o.getFromId(A,M.yaxis||"y"),x=T.makeCalcdata(M,"x"),C=d.makeCalcdata(M,"y"),E=a(M,T,"x",x),w=a(M,d,"y",C),H=E.vals,F=w.vals,k=M._length,I=new Array(k),U=M.ids,Q=L(M,p,T,d),J=!1,ee,R,G,B,te,ne;y(p,M);var oe="x",me="y",de;if(Q)n.pushUnique(Q.traceIndices,M._expandedIndex),ee=Q.orientation==="v",ee?(me="s",de="x"):(oe="s",de="y"),te=Q.stackgaps==="interpolate";else{var ie=v(M,k);h(A,M,T,d,H,F,ie)}var Z=!!M.xperiodalignment,q=!!M.yperiodalignment;for(R=0;R<k;R++){var K=I[R]={},g=t(H[R]),S=t(F[R]);g&&S?(K[oe]=H[R],K[me]=F[R],Z&&(K.orig_x=x[R],K.xEnd=E.ends[R],K.xStart=E.starts[R]),q&&(K.orig_y=C[R],K.yEnd=w.ends[R],K.yStart=w.starts[R])):Q&&(ee?g:S)?(K[de]=ee?H[R]:F[R],K.gap=!0,te?(K.s=e,J=!0):K.s=0):K[oe]=K[me]=e,U&&(K.id=String(U[R]))}if(l(I,M),s(A,M),r(I,M),Q){for(R=0;R<I.length;)I[R][de]===e?I.splice(R,1):R++;if(n.sort(I,function(O,N){return O[de]-N[de]||O.i-N.i}),J){for(R=0;R<I.length-1&&I[R].gap;)R++;for(ne=I[R].s,ne||(ne=I[R].s=0),G=0;G<R;G++)I[G].s=ne;for(B=I.length-1;B>R&&I[B].gap;)B--;for(ne=I[B].s,G=I.length-1;G>B;G--)I[G].s=ne;for(;R<B;)if(R++,I[R].gap){for(G=R+1;I[G].gap;)G++;for(var Y=I[R-1][de],z=I[R-1].s,_=(I[G].s-z)/(I[G][de]-Y);R<G;)I[R].s=z+(I[R][de]-Y)*_,R++}}}return I}function h(A,M,p,T,d,x,C){var E=M._length,w=A._fullLayout,H=p._id,F=T._id,k=w._firstScatter[m(M)]===M.uid,I=(L(M,w,p,T)||{}).orientation,U=M.fill;p._minDtick=0,T._minDtick=0;var Q={padded:!0},J={padded:!0};C&&(Q.ppad=J.ppad=C);var ee=E<2||d[0]!==d[E-1]||x[0]!==x[E-1];ee&&(U==="tozerox"||U==="tonextx"&&(k||I==="h"))?Q.tozero=!0:!(M.error_y||{}).visible&&(U==="tonexty"||U==="tozeroy"||!u.hasMarkers(M)&&!u.hasText(M))&&(Q.padded=!1,Q.ppad=0),ee&&(U==="tozeroy"||U==="tonexty"&&(k||I==="v"))?J.tozero=!0:(U==="tonextx"||U==="tozerox")&&(J.padded=!1),H&&(M._extremes[H]=o.findExtremes(p,d,Q)),F&&(M._extremes[F]=o.findExtremes(T,x,J))}function v(A,M){if(!!u.hasMarkers(A)){var p=A.marker,T=1.6*(A.marker.sizeref||1),d;if(A.marker.sizemode==="area"?d=function(H){return Math.max(Math.sqrt((H||0)/T),3)}:d=function(H){return Math.max((H||0)/T,3)},n.isArrayOrTypedArray(p.size)){var x={type:"linear"};o.setConvert(x);for(var C=x.makeCalcdata(A.marker,"size"),E=new Array(M),w=0;w<M;w++)E[w]=d(C[w]);return E}else return d(p.size)}}function y(A,M){var p=m(M),T=A._firstScatter;T[p]||(T[p]=M.uid)}function m(A){var M=A.stackgroup;return A.xaxis+A.yaxis+A.type+(M?"-"+M:"")}function L(A,M,p,T){var d=A.stackgroup;if(!!d){var x=M._scatterStackOpts[p._id+T._id][d],C=x.orientation==="v"?T:p;if(C.type==="linear"||C.type==="log")return x}}ae.exports={calc:c,calcMarkerSize:v,calcAxisExpansion:h,setFirstScatter:y,getStackOpts:L}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(f,ae,W){var t=f("../../lib");ae.exports=function(o,a){t.isArrayOrTypedArray(a.selectedpoints)&&t.tagSelected(o,a)}},{"../../lib":232}],361:[function(f,ae,W){var t=f("../../components/colorscale/helpers").hasColorscale,n=f("../../components/colorscale/calc"),o=f("./subtypes");ae.exports=function(e,u){o.hasLines(u)&&t(u,"line")&&n(e,u,{vals:u.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(u)&&(t(u,"marker")&&n(e,u,{vals:u.marker.color,containerStr:"marker",cLetter:"c"}),t(u,"marker.line")&&n(e,u,{vals:u.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(f,ae,W){ae.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(f,ae,W){var t=f("./calc");ae.exports=function(e,u){var s=u.xaxis,l=u.yaxis,r=s._id+l._id,c=e._fullLayout._scatterStackOpts[r];if(!!c){var h=e.calcdata,v,y,m,L,A,M,p,T,d,x,C,E,w,H,F;for(var k in c){x=c[k];var I=x.traceIndices;if(!!I.length){for(C=x.stackgaps==="interpolate",E=x.groupnorm,x.orientation==="v"?(w="x",H="y"):(w="y",H="x"),F=new Array(I.length),v=0;v<F.length;v++)F[v]=!1;M=h[I[0]];var U=new Array(M.length);for(v=0;v<M.length;v++)U[v]=M[v][w];for(v=1;v<I.length;v++){for(A=h[I[v]],y=m=0;y<A.length;y++){for(p=A[y][w];p>U[m]&&m<U.length;m++)n(A,y,U[m],v,F,C,w),y++;if(p!==U[m]){for(L=0;L<v;L++)n(h[I[L]],m,p,L,F,C,w);U.splice(m,0,p)}m++}for(;m<U.length;m++)n(A,y,U[m],v,F,C,w),y++}var Q=U.length;for(y=0;y<M.length;y++){for(T=M[y][H]=M[y].s,v=1;v<I.length;v++)A=h[I[v]],A[0].trace._rawLength=A[0].trace._length,A[0].trace._length=Q,T+=A[y].s,A[y][H]=T;if(E)for(d=(E==="fraction"?T:T/100)||1,v=0;v<I.length;v++){var J=h[I[v]][y];J[H]/=d,J.sNorm=J.s/d}}for(v=0;v<I.length;v++){A=h[I[v]];var ee=A[0].trace,R=t.calcMarkerSize(ee,ee._rawLength),G=Array.isArray(R);if(R&&F[v]||G){var B=R;for(R=new Array(Q),y=0;y<Q;y++)R[y]=A[y].gap?0:G?B[A[y].i]:B}var te=new Array(Q),ne=new Array(Q);for(y=0;y<Q;y++)te[y]=A[y].x,ne[y]=A[y].y;t.calcAxisExpansion(e,ee,s,l,te,ne,R),A[0].t.orientation=x.orientation}}}}};function n(a,e,u,s,l,r,c){l[s]=!0;var h={i:null,gap:!0,s:0};if(h[c]=u,a.splice(e,0,h),e&&u===a[e-1][c]){var v=a[e-1];h.s=v.s,h.i=v.i,h.gap=v.gap}else r&&(h.s=o(a,e,u,c));e||(a[0].t=a[1].t,a[0].trace=a[1].trace,delete a[1].t,delete a[1].trace)}function o(a,e,u,s){var l=a[e-1],r=a[e+1];return r?l?l.s+(r.s-l.s)*(u-l[s])/(r[s]-l[s]):r.s:l.s}},{"./calc":359}],364:[function(f,ae,W){ae.exports=function(n){for(var o=0;o<n.length;o++){var a=n[o];if(a.type==="scatter"){var e=a.fill;if(!(e==="none"||e==="toself")&&(a.opacity=void 0,e==="tonexty"||e==="tonextx"))for(var u=o-1;u>=0;u--){var s=n[u];if(s.type==="scatter"&&s.xaxis===a.xaxis&&s.yaxis===a.yaxis){s.opacity=void 0;break}}}}}},{}],365:[function(f,ae,W){var t=f("../../lib"),n=f("../../registry"),o=f("./attributes"),a=f("./constants"),e=f("./subtypes"),u=f("./xy_defaults"),s=f("./period_defaults"),l=f("./stack_defaults"),r=f("./marker_defaults"),c=f("./line_defaults"),h=f("./line_shape_defaults"),v=f("./text_defaults"),y=f("./fillcolor_defaults"),m=f("../../lib").coercePattern;ae.exports=function(A,M,p,T){function d(I,U){return t.coerce(A,M,o,I,U)}var x=u(A,M,T,d);if(x||(M.visible=!1),!!M.visible){s(A,M,T,d),d("xhoverformat"),d("yhoverformat");var C=l(A,M,T,d),E=!C&&x<a.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",E),e.hasLines(M)&&(c(A,M,p,T,d),h(A,M,d),d("connectgaps"),d("line.simplify")),e.hasMarkers(M)&&r(A,M,p,T,d,{gradient:!0}),e.hasText(M)&&(d("texttemplate"),v(A,M,T,d));var w=[];(e.hasMarkers(M)||e.hasText(M))&&(d("cliponaxis"),d("marker.maxdisplayed"),w.push("points")),d("fill",C?C.fillDflt:"none"),M.fill!=="none"&&(y(A,M,p,d),e.hasLines(M)||h(A,M,d),m(d,"fillpattern",M.fillcolor,!1));var H=(M.line||{}).color,F=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&w.push("fills"),d("hoveron",w.join("+")||"points"),M.hoveron!=="fills"&&d("hovertemplate");var k=n.getComponentMethod("errorbars","supplyDefaults");k(A,M,H||F||p,{axis:"y"}),k(A,M,H||F||p,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(M,d)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(f,ae,W){var t=f("../../components/color"),n=f("../../lib").isArrayOrTypedArray;ae.exports=function(a,e,u,s){var l=!1;if(e.marker){var r=e.marker.color,c=(e.marker.line||{}).color;r&&!n(r)?l=r:c&&!n(c)&&(l=c)}s("fillcolor",t.addOpacity((e.line||{}).color||l||u,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(f,ae,W){var t=f("../../plots/cartesian/axes");ae.exports=function(o,a,e){var u={},s={_fullLayout:e},l=t.getFromTrace(s,a,"x"),r=t.getFromTrace(s,a,"y");return u.xLabel=t.tickText(l,l.c2l(o.x),!0).text,u.yLabel=t.tickText(r,r.c2l(o.y),!0).text,u}},{"../../plots/cartesian/axes":279}],368:[function(f,ae,W){var t=f("../../components/color"),n=f("./subtypes");ae.exports=function(a,e){var u,s;if(a.mode==="lines")return u=a.line.color,u&&t.opacity(u)?u:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var l=e.mcc||(a.marker||{}).color,r=e.mlcc||((a.marker||{}).line||{}).color;return s=l&&t.opacity(l)?l:r&&t.opacity(r)&&(e.mlw||((a.marker||{}).line||{}).width)?r:"",s?t.opacity(s)<.3?t.addOpacity(s,.3):s:(u=(a.line||{}).color,u&&t.opacity(u)&&n.hasLines(a)&&a.line.width?u:a.fillcolor)}},{"../../components/color":102,"./subtypes":383}],369:[function(f,ae,W){var t=f("../../lib"),n=f("../../components/fx"),o=f("../../registry"),a=f("./get_trace_color"),e=f("../../components/color"),u=t.fillText;ae.exports=function(l,r,c,h){var v=l.cd,y=v[0].trace,m=l.xa,L=l.ya,A=m.c2p(r),M=L.c2p(c),p=[A,M],T=y.hoveron||"",d=y.mode.indexOf("markers")!==-1?3:.5,x=!!y.xperiodalignment,C=!!y.yperiodalignment;if(T.indexOf("points")!==-1){var E=function(j){if(x){var se=m.c2p(j.xStart),ce=m.c2p(j.xEnd);return A>=Math.min(se,ce)&&A<=Math.max(se,ce)?0:1/0}var fe=Math.max(3,j.mrc||0),pe=1-1/fe,be=Math.abs(m.c2p(j.x)-A);return be<fe?pe*be/fe:be-fe+pe},w=function(j){if(C){var se=L.c2p(j.yStart),ce=L.c2p(j.yEnd);return M>=Math.min(se,ce)&&M<=Math.max(se,ce)?0:1/0}var fe=Math.max(3,j.mrc||0),pe=1-1/fe,be=Math.abs(L.c2p(j.y)-M);return be<fe?pe*be/fe:be-fe+pe},H=function(j){var se=Math.max(d,j.mrc||0),ce=m.c2p(j.x)-A,fe=L.c2p(j.y)-M;return Math.max(Math.sqrt(ce*ce+fe*fe)-se,1-d/se)},F=n.getDistanceFunction(h,E,w,H);if(n.getClosest(v,F,l),l.index!==!1){var k=v[l.index],I=m.c2p(k.x,!0),U=L.c2p(k.y,!0),Q=k.mrc||1;l.index=k.i;var J=v[0].t.orientation,ee=J&&(k.sNorm||k.s),R=J==="h"?ee:k.orig_x!==void 0?k.orig_x:k.x,G=J==="v"?ee:k.orig_y!==void 0?k.orig_y:k.y;return t.extendFlat(l,{color:a(y,k),x0:I-Q,x1:I+Q,xLabelVal:R,y0:U-Q,y1:U+Q,yLabelVal:G,spikeDistance:H(k),hovertemplate:y.hovertemplate}),u(k,y,l),o.getComponentMethod("errorbars","hoverInfo")(k,y,l),[l]}}if(T.indexOf("fills")!==-1&&y._polygons){var B=y._polygons,te=[],ne=!1,oe=1/0,me=-1/0,de=1/0,ie=-1/0,Z,q,K,g,S,Y,z,_,O;for(Z=0;Z<B.length;Z++)K=B[Z],K.contains(p)&&(ne=!ne,te.push(K),de=Math.min(de,K.ymin),ie=Math.max(ie,K.ymax));if(ne){de=Math.max(de,0),ie=Math.min(ie,L._length);var N=(de+ie)/2;for(Z=0;Z<te.length;Z++)for(g=te[Z].pts,q=1;q<g.length;q++)_=g[q-1][1],O=g[q][1],_>N!=O>=N&&(Y=g[q-1][0],z=g[q][0],O-_&&(S=Y+(z-Y)*(N-_)/(O-_),oe=Math.min(oe,S),me=Math.max(me,S)));oe=Math.max(oe,0),me=Math.min(me,m._length);var P=e.defaultLine;return e.opacity(y.fillcolor)?P=y.fillcolor:e.opacity((y.line||{}).color)&&(P=y.line.color),t.extendFlat(l,{distance:l.maxHoverDistance,x0:oe,x1:me,y0:N,y1:N,color:P,hovertemplate:!1}),delete l.index,y.text&&!Array.isArray(y.text)?l.text=String(y.text):l.text=y.name,[l]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(f,ae,W){var t=f("./subtypes");ae.exports={hasLines:t.hasLines,hasMarkers:t.hasMarkers,hasText:t.hasText,isBubble:t.isBubble,attributes:f("./attributes"),supplyDefaults:f("./defaults"),crossTraceDefaults:f("./cross_trace_defaults"),calc:f("./calc").calc,crossTraceCalc:f("./cross_trace_calc"),arraysToCalcdata:f("./arrays_to_calcdata"),plot:f("./plot"),colorbar:f("./marker_colorbar"),formatLabels:f("./format_labels"),style:f("./style").style,styleOnSelect:f("./style").styleOnSelect,hoverPoints:f("./hover"),selectPoints:f("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:f("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(f,ae,W){var t=f("../../lib").isArrayOrTypedArray,n=f("../../components/colorscale/helpers").hasColorscale,o=f("../../components/colorscale/defaults");ae.exports=function(e,u,s,l,r,c){var h=(e.marker||{}).color;if(r("line.color",s),n(e,"line"))o(e,u,l,r,{prefix:"line.",cLetter:"c"});else{var v=(t(h)?!1:h)||s;r("line.color",v)}r("line.width"),(c||{}).noDash||r("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(f,ae,W){var t=f("../../constants/numerical"),n=t.BADNUM,o=t.LOG_CLIP,a=o+.5,e=o-.5,u=f("../../lib"),s=u.segmentsIntersect,l=u.constrain,r=f("./constants");ae.exports=function(h,v){var y=v.xaxis,m=v.yaxis,L=y.type==="log",A=m.type==="log",M=y._length,p=m._length,T=v.connectGaps,d=v.baseTolerance,x=v.shape,C=x==="linear",E=v.fill&&v.fill!=="none",w=[],H=r.minTolerance,F=h.length,k=new Array(F),I=0,U,Q,J,ee,R,G,B,te,ne,oe,me,de,ie,Z,q,K;function g(qe){var mt=h[qe];if(!mt)return!1;var st=v.linearized?y.l2p(mt.x):y.c2p(mt.x),gt=v.linearized?m.l2p(mt.y):m.c2p(mt.y);if(st===n){if(L&&(st=y.c2p(mt.x,!0)),st===n)return!1;A&&gt===n&&(st*=Math.abs(y._m*p*(y._m>0?a:e)/(m._m*M*(m._m>0?a:e)))),st*=1e3}if(gt===n){if(A&&(gt=m.c2p(mt.y,!0)),gt===n)return!1;gt*=1e3}return[st,gt]}function S(qe,mt,st,gt){var Ct=st-qe,Ce=gt-mt,ze=.5-qe,et=.5-mt,ve=Ct*Ct+Ce*Ce,we=Ct*ze+Ce*et;if(we>0&&we<ve){var Me=ze*Ce-et*Ct;if(Me*Me<ve)return!0}}var Y,z;function _(qe,mt){var st=qe[0]/M,gt=qe[1]/p,Ct=Math.max(0,-st,st-1,-gt,gt-1);return Ct&&Y!==void 0&&S(st,gt,Y,z)&&(Ct=0),Ct&&mt&&S(st,gt,mt[0]/M,mt[1]/p)&&(Ct=0),(1+r.toleranceGrowth*Ct)*d}function O(qe,mt){var st=qe[0]-mt[0],gt=qe[1]-mt[1];return Math.sqrt(st*st+gt*gt)}var N=r.maxScreensAway,P=-M*N,j=M*(1+N),se=-p*N,ce=p*(1+N),fe=[[P,se,j,se],[j,se,j,ce],[j,ce,P,ce],[P,ce,P,se]],pe,be,Re,ke,Oe,Be;function Ae(qe,mt){for(var st=[],gt=0,Ct=0;Ct<4;Ct++){var Ce=fe[Ct],ze=s(qe[0],qe[1],mt[0],mt[1],Ce[0],Ce[1],Ce[2],Ce[3]);ze&&(!gt||Math.abs(ze.x-st[0][0])>1||Math.abs(ze.y-st[0][1])>1)&&(ze=[ze.x,ze.y],gt&&O(ze,qe)<O(st[0],qe)?st.unshift(ze):st.push(ze),gt++)}return st}function ge(qe){if(qe[0]<P||qe[0]>j||qe[1]<se||qe[1]>ce)return[l(qe[0],P,j),l(qe[1],se,ce)]}function Ee(qe,mt){if(qe[0]===mt[0]&&(qe[0]===P||qe[0]===j)||qe[1]===mt[1]&&(qe[1]===se||qe[1]===ce))return!0}function Ve(qe,mt){var st=[],gt=ge(qe),Ct=ge(mt);return gt&&Ct&&Ee(gt,Ct)||(gt&&st.push(gt),Ct&&st.push(Ct)),st}function xt(qe,mt,st){return function(gt,Ct){var Ce=ge(gt),ze=ge(Ct),et=[];if(Ce&&ze&&Ee(Ce,ze))return et;Ce&&et.push(Ce),ze&&et.push(ze);var ve=2*u.constrain((gt[qe]+Ct[qe])/2,mt,st)-((Ce||gt)[qe]+(ze||Ct)[qe]);if(ve){var we;Ce&&ze?we=ve>0==Ce[qe]>ze[qe]?Ce:ze:we=Ce||ze,we[qe]+=ve}return et}}var Ye;x==="linear"||x==="spline"?Ye=Ae:x==="hv"||x==="vh"?Ye=Ve:x==="hvh"?Ye=xt(0,P,j):x==="vhv"&&(Ye=xt(1,se,ce));function Xe(qe,mt){var st=mt[0]-qe[0],gt=(mt[1]-qe[1])/st,Ct=(qe[1]*mt[0]-mt[1]*qe[0])/st;return Ct>0?[gt>0?P:j,ce]:[gt>0?j:P,se]}function Je(qe){var mt=qe[0],st=qe[1],gt=mt===k[I-1][0],Ct=st===k[I-1][1];if(!(gt&&Ct))if(I>1){var Ce=mt===k[I-2][0],ze=st===k[I-2][1];gt&&(mt===P||mt===j)&&Ce?ze?I--:k[I-1]=qe:Ct&&(st===se||st===ce)&&ze?Ce?I--:k[I-1]=qe:k[I++]=qe}else k[I++]=qe}function ft(qe){k[I-1][0]!==qe[0]&&k[I-1][1]!==qe[1]&&Je([Re,ke]),Je(qe),Oe=null,Re=ke=0}function yt(qe){if(Y=qe[0]/M,z=qe[1]/p,pe=qe[0]<P?P:qe[0]>j?j:0,be=qe[1]<se?se:qe[1]>ce?ce:0,pe||be){if(!I)k[I++]=[pe||qe[0],be||qe[1]];else if(Oe){var mt=Ye(Oe,qe);mt.length>1&&(ft(mt[0]),k[I++]=mt[1])}else Be=Ye(k[I-1],qe)[0],k[I++]=Be;var st=k[I-1];pe&&be&&(st[0]!==pe||st[1]!==be)?(Oe&&(Re!==pe&&ke!==be?Je(Re&&ke?Xe(Oe,qe):[Re||pe,ke||be]):Re&&ke&&Je([Re,ke])),Je([pe,be])):Re-pe&&ke-be&&Je([pe||Re,be||ke]),Oe=qe,Re=pe,ke=be}else Oe&&ft(Ye(Oe,qe)[0]),k[I++]=qe}for(U=0;U<F;U++)if(Q=g(U),!!Q){for(I=0,Oe=null,yt(Q),U++;U<F;U++){if(ee=g(U),!ee){if(T)continue;break}if(!C||!v.simplify){yt(ee);continue}var At=g(U+1);if(oe=O(ee,Q),!(!(E&&(I===0||I===F-1))&&oe<_(ee,At)*H)){for(te=[(ee[0]-Q[0])/oe,(ee[1]-Q[1])/oe],R=Q,me=oe,de=Z=q=0,B=!1,J=ee,U++;U<h.length;U++){if(G=At,At=g(U+1),!G){if(T)continue;break}if(ne=[G[0]-Q[0],G[1]-Q[1]],K=ne[0]*te[1]-ne[1]*te[0],Z=Math.min(Z,K),q=Math.max(q,K),q-Z>_(G,At))break;J=G,ie=ne[0]*te[0]+ne[1]*te[1],ie>me?(me=ie,ee=G,B=!1):ie<de&&(de=ie,R=G,B=!0)}if(B?(yt(ee),J!==R&&yt(R)):(R!==Q&&yt(R),J!==ee&&yt(ee)),yt(J),U>=h.length||!G)break;yt(G),Q=G}}Oe&&Je([Re||Oe[0],ke||Oe[1]]),w.push(k.slice(0,I))}return w}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(f,ae,W){ae.exports=function(n,o,a){var e=a("line.shape");e==="spline"&&a("line.smoothing")}},{}],374:[function(f,ae,W){var t={tonextx:1,tonexty:1,tonext:1};ae.exports=function(o,a,e){var u,s,l,r,c,h={},v=!1,y=-1,m=0,L=-1;for(s=0;s<e.length;s++)u=e[s][0].trace,l=u.stackgroup||"",l?l in h?c=h[l]:(c=h[l]=m,m++):u.fill in t&&L>=0?c=L:(c=L=m,m++),c<y&&(v=!0),u._groupIndex=y=c;var A=e.slice();v&&A.sort(function(p,T){var d=p[0].trace,x=T[0].trace;return d._groupIndex-x._groupIndex||d.index-x.index});var M={};for(s=0;s<A.length;s++)u=A[s][0].trace,l=u.stackgroup||"",u.visible===!0?(u._nexttrace=null,u.fill in t&&(r=M[l],u._prevtrace=r||null,r&&(r._nexttrace=u)),u._ownfill=u.fill&&(u.fill.substr(0,6)==="tozero"||u.fill==="toself"||u.fill.substr(0,2)==="to"&&!u._prevtrace),M[l]=u):u._prevtrace=u._nexttrace=u._ownfill=null;return A}},{}],375:[function(f,ae,W){var t=f("fast-isnumeric");ae.exports=function(o,a){a||(a=2);var e=o.marker,u=e.sizeref||1,s=e.sizemin||0,l=e.sizemode==="area"?function(r){return Math.sqrt(r/u)}:function(r){return r/u};return function(r){var c=l(r/a);return t(c)&&c>0?Math.max(c,s):0}}},{"fast-isnumeric":17}],376:[function(f,ae,W){ae.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(f,ae,W){var t=f("../../components/color"),n=f("../../components/colorscale/helpers").hasColorscale,o=f("../../components/colorscale/defaults"),a=f("./subtypes");ae.exports=function(u,s,l,r,c,h){var v=a.isBubble(u),y=(u.line||{}).color,m;if(h=h||{},y&&(l=y),c("marker.symbol"),c("marker.opacity",v?.7:1),c("marker.size"),c("marker.color",l),n(u,"marker")&&o(u,s,r,c,{prefix:"marker.",cLetter:"c"}),h.noSelect||(c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size")),h.noLine||(y&&!Array.isArray(y)&&s.marker.color!==y?m=y:v?m=t.background:m=t.defaultLine,c("marker.line.color",m),n(u,"marker.line")&&o(u,s,r,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width",v?1:0)),v&&(c("marker.sizeref"),c("marker.sizemin"),c("marker.sizemode")),h.gradient){var L=c("marker.gradient.type");L!=="none"&&c("marker.gradient.color")}}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(f,ae,W){var t=f("../../lib").dateTick0,n=f("../../constants/numerical"),o=n.ONEWEEK;function a(e,u){return e%o===0?t(u,1):t(u,0)}ae.exports=function(u,s,l,r,c){if(c||(c={x:!0,y:!0}),c.x){var h=r("xperiod");h&&(r("xperiod0",a(h,s.xcalendar)),r("xperiodalignment"))}if(c.y){var v=r("yperiod");v&&(r("yperiod0",a(v,s.ycalendar)),r("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../registry"),o=f("../../lib"),a=o.ensureSingle,e=o.identity,u=f("../../components/drawing"),s=f("./subtypes"),l=f("./line_points"),r=f("./link_traces"),c=f("../../lib/polygon").tester;ae.exports=function(L,A,M,p,T,d){var x,C,E=!T,w=!!T&&T.duration>0,H=r(L,A,M);if(x=p.selectAll("g.trace").data(H,function(k){return k[0].trace.uid}),x.enter().append("g").attr("class",function(k){return"trace scatter trace"+k[0].trace.uid}).style("stroke-miterlimit",2),x.order(),h(L,x,A),w){d&&(C=d());var F=t.transition().duration(T.duration).ease(T.easing).each("end",function(){C&&C()}).each("interrupt",function(){C&&C()});F.each(function(){p.selectAll("g.trace").each(function(k,I){v(L,I,A,k,H,this,T)})})}else x.each(function(k,I){v(L,I,A,k,H,this,T)});E&&x.exit().remove(),p.selectAll("path:not([d])").remove()};function h(m,L,A){L.each(function(M){var p=a(t.select(this),"g","fills");u.setClipUrl(p,A.layerClipId,m);var T=M[0].trace,d=[];T._ownfill&&d.push("_ownFill"),T._nexttrace&&d.push("_nextFill");var x=p.selectAll("g").data(d,e);x.enter().append("g"),x.exit().each(function(C){T[C]=null}).remove(),x.order().each(function(C){T[C]=a(t.select(this),"path","js-fill")})})}function v(m,L,A,M,p,T,d){var x;y(m,L,A,M,p);var C=!!d&&d.duration>0;function E(Ae){return C?Ae.transition():Ae}var w=A.xaxis,H=A.yaxis,F=M[0].trace,k=F.line,I=t.select(T),U=a(I,"g","errorbars"),Q=a(I,"g","lines"),J=a(I,"g","points"),ee=a(I,"g","text");if(n.getComponentMethod("errorbars","plot")(m,U,A,d),F.visible!==!0)return;E(I).style("opacity",F.opacity);var R,G,B=F.fill.charAt(F.fill.length-1);B!=="x"&&B!=="y"&&(B=""),M[0][A.isRangePlot?"nodeRangePlot3":"node3"]=I;var te="",ne=[],oe=F._prevtrace;oe&&(te=oe._prevRevpath||"",G=oe._nextFill,ne=oe._polygons);var me,de,ie="",Z="",q,K,g,S,Y,z,_,O=[],N=o.noop;if(R=F._ownFill,s.hasLines(F)||F.fill!=="none"){for(G&&G.datum(M),["hv","vh","hvh","vhv"].indexOf(k.shape)!==-1?(q=u.steps(k.shape),K=u.steps(k.shape.split("").reverse().join(""))):k.shape==="spline"?q=K=function(Ae){var ge=Ae[Ae.length-1];return Ae.length>1&&Ae[0][0]===ge[0]&&Ae[0][1]===ge[1]?u.smoothclosed(Ae.slice(1),k.smoothing):u.smoothopen(Ae,k.smoothing)}:q=K=function(Ae){return"M"+Ae.join("L")},g=function(Ae){return K(Ae.reverse())},O=l(M,{xaxis:w,yaxis:H,connectGaps:F.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,simplify:k.simplify,fill:F.fill}),_=F._polygons=new Array(O.length),x=0;x<O.length;x++)F._polygons[x]=c(O[x]);O.length&&(S=O[0][0],Y=O[O.length-1],z=Y[Y.length-1]),N=function(Ae){return function(ge){if(me=q(ge),de=g(ge),ie?B?(ie+="L"+me.substr(1),Z=de+("L"+Z.substr(1))):(ie+="Z"+me,Z=de+"Z"+Z):(ie=me,Z=de),s.hasLines(F)&&ge.length>1){var Ee=t.select(this);if(Ee.datum(M),Ae)E(Ee.style("opacity",0).attr("d",me).call(u.lineGroupStyle)).style("opacity",1);else{var Ve=E(Ee);Ve.attr("d",me),u.singleLineStyle(M,Ve)}}}}}var P=Q.selectAll(".js-line").data(O);E(P.exit()).style("opacity",0).remove(),P.each(N(!1)),P.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(u.lineGroupStyle).each(N(!0)),u.setClipUrl(P,A.layerClipId,m);function j(Ae){E(Ae).attr("d","M0,0Z")}O.length?(R?(R.datum(M),S&&z&&(B?(B==="y"?S[1]=z[1]=H.c2p(0,!0):B==="x"&&(S[0]=z[0]=w.c2p(0,!0)),E(R).attr("d","M"+z+"L"+S+"L"+ie.substr(1)).call(u.singleFillStyle,m)):E(R).attr("d",ie+"Z").call(u.singleFillStyle,m))):G&&(F.fill.substr(0,6)==="tonext"&&ie&&te?(F.fill==="tonext"?E(G).attr("d",ie+"Z"+te+"Z").call(u.singleFillStyle,m):E(G).attr("d",ie+"L"+te.substr(1)+"Z").call(u.singleFillStyle,m),F._polygons=F._polygons.concat(ne)):(j(G),F._polygons=null)),F._prevRevpath=Z,F._prevPolygons=_):(R?j(R):G&&j(G),F._polygons=F._prevRevpath=F._prevPolygons=null);function se(Ae){return Ae.filter(function(ge){return!ge.gap&&ge.vis})}function ce(Ae){return Ae.filter(function(ge){return ge.vis})}function fe(Ae){return Ae.filter(function(ge){return!ge.gap})}function pe(Ae){return Ae.id}function be(Ae){if(Ae.ids)return pe}function Re(){return!1}function ke(Ae,ge,Ee){var Ve,xt,Ye,Xe=Ee[0].trace,Je=s.hasMarkers(Xe),ft=s.hasText(Xe),yt=be(Xe),At=Re,qe=Re;if(Je||ft){var mt=e,st=Xe.stackgroup,gt=st&&m._fullLayout._scatterStackOpts[w._id+H._id][st].stackgaps==="infer zero";Xe.marker.maxdisplayed||Xe._needsCull?mt=gt?ce:se:st&&!gt&&(mt=fe),Je&&(At=mt),ft&&(qe=mt)}xt=Ae.selectAll("path.point"),Ve=xt.data(At,yt);var Ct=Ve.enter().append("path").classed("point",!0);C&&Ct.call(u.pointStyle,Xe,m).call(u.translatePoints,w,H).style("opacity",0).transition().style("opacity",1),Ve.order();var Ce;Je&&(Ce=u.makePointStyleFns(Xe)),Ve.each(function(ze){var et=t.select(this),ve=E(et);Ye=u.translatePoint(ze,ve,w,H),Ye?(u.singlePointStyle(ze,ve,Xe,Ce,m),A.layerClipId&&u.hideOutsideRangePoint(ze,ve,w,H,Xe.xcalendar,Xe.ycalendar),Xe.customdata&&et.classed("plotly-customdata",ze.data!==null&&ze.data!==void 0)):ve.remove()}),C?Ve.exit().transition().style("opacity",0).remove():Ve.exit().remove(),xt=ge.selectAll("g"),Ve=xt.data(qe,yt),Ve.enter().append("g").classed("textpoint",!0).append("text"),Ve.order(),Ve.each(function(ze){var et=t.select(this),ve=E(et.select("text"));Ye=u.translatePoint(ze,ve,w,H),Ye?A.layerClipId&&u.hideOutsideRangePoint(ze,et,w,H,Xe.xcalendar,Xe.ycalendar):et.remove()}),Ve.selectAll("text").call(u.textPointStyle,Xe,m).each(function(ze){var et=w.c2p(ze.x),ve=H.c2p(ze.y);t.select(this).selectAll("tspan.line").each(function(){E(t.select(this)).attr({x:et,y:ve})})}),Ve.exit().remove()}J.datum(M),ee.datum(M),ke(J,ee,M);var Oe=F.cliponaxis===!1,Be=Oe?null:A.layerClipId;u.setClipUrl(J,Be,m),u.setClipUrl(ee,Be,m)}function y(m,L,A,M,p){var T=A.xaxis,d=A.yaxis,x=t.extent(o.simpleMap(T.range,T.r2c)),C=t.extent(o.simpleMap(d.range,d.r2c)),E=M[0].trace;if(!!s.hasMarkers(E)){var w=E.marker.maxdisplayed;if(w!==0){var H=M.filter(function(U){return U.x>=x[0]&&U.x<=x[1]&&U.y>=C[0]&&U.y<=C[1]}),F=Math.ceil(H.length/w),k=0;p.forEach(function(U,Q){var J=U[0].trace;s.hasMarkers(J)&&J.marker.maxdisplayed>0&&Q<L&&k++});var I=Math.round(k*F/3+Math.floor(k/3)*F/7.1);M.forEach(function(U){delete U.vis}),H.forEach(function(U,Q){Math.round((Q+I)%F)===0&&(U.vis=!0)})}}}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(f,ae,W){var t=f("./subtypes");ae.exports=function(o,a){var e=o.cd,u=o.xaxis,s=o.yaxis,l=[],r=e[0].trace,c,h,v,y,m=!t.hasMarkers(r)&&!t.hasText(r);if(m)return[];if(a===!1)for(c=0;c<e.length;c++)e[c].selected=0;else for(c=0;c<e.length;c++)h=e[c],v=u.c2p(h.x),y=s.c2p(h.y),h.i!==null&&a.contains([v,y],!1,c,o)?(l.push({pointNumber:h.i,x:u.c2d(h.x),y:s.c2d(h.y)}),h.selected=1):h.selected=0;return l}},{"./subtypes":383}],381:[function(f,ae,W){var t=["orientation","groupnorm","stackgaps"];ae.exports=function(o,a,e,u){var s=e._scatterStackOpts,l=u("stackgroup");if(l){var r=a.xaxis+a.yaxis,c=s[r];c||(c=s[r]={});var h=c[l],v=!1;h?h.traces.push(a):(h=c[l]={traceIndices:[],traces:[a]},v=!0);for(var y={orientation:a.x&&!a.y?"h":"v"},m=0;m<t.length;m++){var L=t[m],A=L+"Found";if(!h[A]){var M=o[L]!==void 0,p=L==="orientation";if((M||v)&&(h[L]=u(L,y[L]),p&&(h.fillDflt=h[L]==="h"?"tonextx":"tonexty"),M&&(h[A]=!0,!v&&(delete h.traces[0][L],p))))for(var T=0;T<h.traces.length-1;T++){var d=h.traces[T];d._input.fill!==d.fill&&(d.fill=h.fillDflt)}}}return h}}},{}],382:[function(f,ae,W){var t=f("@plotly/d3"),n=f("../../components/drawing"),o=f("../../registry");function a(l){var r=t.select(l).selectAll("g.trace.scatter");r.style("opacity",function(c){return c[0].trace.opacity}),r.selectAll("g.points").each(function(c){var h=t.select(this),v=c.trace||c[0].trace;e(h,v,l)}),r.selectAll("g.text").each(function(c){var h=t.select(this),v=c.trace||c[0].trace;u(h,v,l)}),r.selectAll("g.trace path.js-line").call(n.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(n.fillGroupStyle,l),o.getComponentMethod("errorbars","style")(r)}function e(l,r,c){n.pointStyle(l.selectAll("path.point"),r,c)}function u(l,r,c){n.textPointStyle(l.selectAll("text"),r,c)}function s(l,r,c){var h=r[0].trace;h.selectedpoints?(n.selectedPointStyle(c.selectAll("path.point"),h),n.selectedTextStyle(c.selectAll("text"),h)):(e(c,h,l),u(c,h,l))}ae.exports={style:a,stylePoints:e,styleText:u,styleOnSelect:s}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(f,ae,W){var t=f("../../lib");ae.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){return t.isPlainObject(n.marker)&&t.isArrayOrTypedArray(n.marker.size)}}},{"../../lib":232}],384:[function(f,ae,W){var t=f("../../lib");ae.exports=function(n,o,a,e,u){u=u||{},e("textposition"),t.coerceFont(e,"textfont",a.font),u.noSelect||(e("selected.textfont.color"),e("unselected.textfont.color"))}},{"../../lib":232}],385:[function(f,ae,W){var t=f("../../lib"),n=f("../../registry");ae.exports=function(a,e,u,s){var l=s("x"),r=s("y"),c,h=n.getComponentMethod("calendars","handleTraceDefaults");if(h(a,e,["x","y"],u),l){var v=t.minRowLength(l);r?c=Math.min(v,t.minRowLength(r)):(c=v,s("y0"),s("dy"))}else{if(!r)return 0;c=t.minRowLength(r),s("x0"),s("dx")}return e._length=c,c}},{"../../lib":232,"../../registry":318}],386:[function(f,ae,W){var t=f("../plots/cartesian/axes"),n=f("../lib"),o=f("../plot_api/plot_schema"),a=f("./helpers").pointsAccessorFunction,e=f("../constants/numerical").BADNUM;W.moduleType="transform",W.name="aggregate";var u=W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=u.aggregations;W.supplyDefaults=function(y,m){var L={},A;function M(U,Q){return n.coerce(y,L,u,U,Q)}var p=M("enabled");if(!p)return L;var T=o.findArrayAttributes(m),d={};for(A=0;A<T.length;A++)d[T[A]]=1;var x=M("groups");if(!Array.isArray(x)){if(!d[x])return L.enabled=!1,L;d[x]=0}var C=y.aggregations||[],E=L.aggregations=new Array(C.length),w;function H(U,Q){return n.coerce(C[A],w,s,U,Q)}for(A=0;A<C.length;A++){w={_index:A};var F=H("target"),k=H("func"),I=H("enabled");I&&F&&(d[F]||k==="count"&&d[F]===void 0)?(k==="stddev"&&H("funcmode"),d[F]=0,E[A]=w):E[A]={enabled:!1,_index:A}}for(A=0;A<T.length;A++)d[T[A]]&&E.push({target:T[A],func:s.func.dflt,enabled:!0,_index:-1});return L},W.calcTransform=function(y,m,L){if(!!L.enabled){var A=L.groups,M=n.getTargetArray(m,{target:A});if(!!M){var p,T,d,x,C={},E={},w=[],H=a(m.transforms,L),F=M.length;for(m._length&&(F=Math.min(F,m._length)),p=0;p<F;p++)T=M[p],d=C[T],d===void 0?(C[T]=w.length,x=[p],w.push(x),E[C[T]]=H(p)):(w[d].push(p),E[C[T]]=(E[C[T]]||[]).concat(H(p)));L._indexToPoints=E;var k=L.aggregations;for(p=0;p<k.length;p++)l(y,m,w,k[p]);typeof A=="string"&&l(y,m,w,{target:A,func:"first",enabled:!0}),m._length=w.length}}};function l(y,m,L,A){if(!!A.enabled){for(var M=A.target,p=n.nestedProperty(m,M),T=p.get(),d=t.getDataConversions(y,m,M,T),x=r(A,d),C=new Array(L.length),E=0;E<L.length;E++)C[E]=x(T,L[E]);p.set(C),A.func==="count"&&n.pushUnique(m._arrayAttrs,M)}}function r(y,m){var L=y.func,A=m.d2c,M=m.c2d;switch(L){case"count":return c;case"first":return h;case"last":return v;case"sum":return function(p,T){for(var d=0,x=0;x<T.length;x++){var C=A(p[T[x]]);C!==e&&(d+=C)}return M(d)};case"avg":return function(p,T){for(var d=0,x=0,C=0;C<T.length;C++){var E=A(p[T[C]]);E!==e&&(d+=E,x++)}return x?M(d/x):e};case"min":return function(p,T){for(var d=1/0,x=0;x<T.length;x++){var C=A(p[T[x]]);C!==e&&(d=Math.min(d,C))}return d===1/0?e:M(d)};case"max":return function(p,T){for(var d=-1/0,x=0;x<T.length;x++){var C=A(p[T[x]]);C!==e&&(d=Math.max(d,C))}return d===-1/0?e:M(d)};case"range":return function(p,T){for(var d=1/0,x=-1/0,C=0;C<T.length;C++){var E=A(p[T[C]]);E!==e&&(d=Math.min(d,E),x=Math.max(x,E))}return x===-1/0||d===1/0?e:M(x-d)};case"change":return function(p,T){var d=A(p[T[0]]),x=A(p[T[T.length-1]]);return d===e||x===e?e:M(x-d)};case"median":return function(p,T){for(var d=[],x=0;x<T.length;x++){var C=A(p[T[x]]);C!==e&&d.push(C)}if(!d.length)return e;d.sort(n.sorterAsc);var E=(d.length-1)/2;return M((d[Math.floor(E)]+d[Math.ceil(E)])/2)};case"mode":return function(p,T){for(var d={},x=0,C=e,E=0;E<T.length;E++){var w=A(p[T[E]]);if(w!==e){var H=d[w]=(d[w]||0)+1;H>x&&(x=H,C=w)}}return x?M(C):e};case"rms":return function(p,T){for(var d=0,x=0,C=0;C<T.length;C++){var E=A(p[T[C]]);E!==e&&(d+=E*E,x++)}return x?M(Math.sqrt(d/x)):e};case"stddev":return function(p,T){var d=0,x=0,C=1,E=e,w;for(w=0;w<T.length&&E===e;w++)E=A(p[T[w]]);if(E===e)return e;for(;w<T.length;w++){var H=A(p[T[w]]);if(H!==e){var F=H-E;d+=F,x+=F*F,C++}}var k=y.funcmode==="sample"?C-1:C;return k?Math.sqrt((x-d*d/C)/k):0}}}function c(y,m){return m.length}function h(y,m){return y[m[0]]}function v(y,m){return y[m[m.length-1]]}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(f,ae,W){var t=f("../lib"),n=f("../registry"),o=f("../plots/cartesian/axes"),a=f("./helpers").pointsAccessorFunction,e=f("../constants/filter_ops"),u=e.COMPARISON_OPS,s=e.INTERVAL_OPS,l=e.SET_OPS;W.moduleType="transform",W.name="filter",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(u).concat(s).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},W.supplyDefaults=function(c){var h={};function v(A,M){return t.coerce(c,h,W.attributes,A,M)}var y=v("enabled");if(y){var m=v("target");if(t.isArrayOrTypedArray(m)&&m.length===0)return h.enabled=!1,h;v("preservegaps"),v("operation"),v("value");var L=n.getComponentMethod("calendars","handleDefaults");L(c,h,"valuecalendar",null),L(c,h,"targetcalendar",null)}return h},W.calcTransform=function(c,h,v){if(!v.enabled)return;var y=t.getTargetArray(h,v);if(!y)return;var m=v.target,L=y.length;h._length&&(L=Math.min(L,h._length));var A=v.targetcalendar,M=h._arrayAttrs,p=v.preservegaps;if(typeof m=="string"){var T=t.nestedProperty(h,m+"calendar").get();T&&(A=T)}var d=o.getDataToCoordFunc(c,h,m,y),x=r(v,d,A),C={},E={},w=0;function H(J,ee){for(var R=0;R<M.length;R++){var G=t.nestedProperty(h,M[R]);J(G,ee)}}var F,k;p?(F=function(J){C[J.astr]=t.extendDeep([],J.get()),J.set(new Array(L))},k=function(J,ee){var R=C[J.astr][ee];J.get()[ee]=R}):(F=function(J){C[J.astr]=t.extendDeep([],J.get()),J.set([])},k=function(J,ee){var R=C[J.astr][ee];J.get().push(R)}),H(F);for(var I=a(h.transforms,v),U=0;U<L;U++){var Q=x(y[U]);Q?(H(k,U),E[w++]=I(U)):p&&w++}v._indexToPoints=E,h._length=w};function r(c,h,v){var y=c.operation,m=c.value,L=Array.isArray(m);function A(d){return d.indexOf(y)!==-1}var M=function(d){return h(d,0,c.valuecalendar)},p=function(d){return h(d,0,v)},T;switch(A(u)?T=M(L?m[0]:m):A(s)?T=L?[M(m[0]),M(m[1])]:[M(m),M(m)]:A(l)&&(T=L?m.map(M):[M(m)]),y){case"=":return function(d){return p(d)===T};case"!=":return function(d){return p(d)!==T};case"<":return function(d){return p(d)<T};case"<=":return function(d){return p(d)<=T};case">":return function(d){return p(d)>T};case">=":return function(d){return p(d)>=T};case"[]":return function(d){var x=p(d);return x>=T[0]&&x<=T[1]};case"()":return function(d){var x=p(d);return x>T[0]&&x<T[1]};case"[)":return function(d){var x=p(d);return x>=T[0]&&x<T[1]};case"(]":return function(d){var x=p(d);return x>T[0]&&x<=T[1]};case"][":return function(d){var x=p(d);return x<=T[0]||x>=T[1]};case")(":return function(d){var x=p(d);return x<T[0]||x>T[1]};case"](":return function(d){var x=p(d);return x<=T[0]||x>T[1]};case")[":return function(d){var x=p(d);return x<T[0]||x>=T[1]};case"{}":return function(d){return T.indexOf(p(d))!==-1};case"}{":return function(d){return T.indexOf(p(d))===-1}}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(f,ae,W){var t=f("../lib"),n=f("../plot_api/plot_schema"),o=f("../plots/plots"),a=f("./helpers").pointsAccessorFunction;W.moduleType="transform",W.name="groupby",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},W.supplyDefaults=function(u,s,l){var r,c={};function h(M,p){return t.coerce(u,c,W.attributes,M,p)}var v=h("enabled");if(!v)return c;h("groups"),h("nameformat",l._dataLength>1?"%{group} (%{trace})":"%{group}");var y=u.styles,m=c.styles=[];if(y)for(r=0;r<y.length;r++){var L=m[r]={};t.coerce(y[r],m[r],W.attributes.styles,"target");var A=t.coerce(y[r],m[r],W.attributes.styles,"value");t.isPlainObject(A)?L.value=t.extendDeep({},A):A&&delete L.value}return c},W.transform=function(u,s){var l,r,c,h=[];for(r=0;r<u.length;r++)for(l=e(u[r],s),c=0;c<l.length;c++)h.push(l[c]);return h};function e(u,s){var l,r,c,h,v,y,m,L,A,M,p=s.transform,T=s.transformIndex,d=u.transforms[T].groups,x=a(u.transforms,p);if(!t.isArrayOrTypedArray(d)||d.length===0)return[u];var C=t.filterUnique(d),E=new Array(C.length),w=d.length,H=n.findArrayAttributes(u),F=p.styles||[],k={};for(l=0;l<F.length;l++)k[F[l].target]=F[l].value;p.styles&&(M=t.keyedContainer(p,"styles","target","value.name"));var I={},U={};for(l=0;l<C.length;l++){y=C[l],I[y]=l,U[y]=0,m=E[l]=t.extendDeepNoArrays({},u),m._group=y,m.transforms[T]._indexToPoints={};var Q=null;for(M&&(Q=M.get(y)),Q||Q===""?m.name=Q:m.name=t.templateString(p.nameformat,{trace:u.name,group:y}),L=m.transforms,m.transforms=[],r=0;r<L.length;r++)m.transforms[r]=t.extendDeepNoArrays({},L[r]);for(r=0;r<H.length;r++)t.nestedProperty(m,H[r]).set([])}for(c=0;c<H.length;c++){for(h=H[c],r=0,A=[];r<C.length;r++)A[r]=t.nestedProperty(E[r],h).get();for(v=t.nestedProperty(u,h).get(),r=0;r<w;r++)A[I[d[r]]].push(v[r])}for(r=0;r<w;r++){m=E[I[d[r]]];var J=m.transforms[T]._indexToPoints;J[U[d[r]]]=x(r),U[d[r]]++}for(l=0;l<C.length;l++)y=C[l],m=E[l],o.clearExpandedTraceDefaultColors(m),m=t.extendDeepNoArrays(m,k[y]||{});return E}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(f,ae,W){W.pointsAccessorFunction=function(t,n){for(var o,a,e=0;e<t.length&&(o=t[e],o!==n);e++)!o._indexToPoints||o.enabled===!1||(a=o._indexToPoints);var u=a?function(s){return a[s]}:function(s){return[s]};return u}},{}],390:[function(f,ae,W){var t=f("../lib"),n=f("../plots/cartesian/axes"),o=f("./helpers").pointsAccessorFunction,a=f("../constants/numerical").BADNUM;W.moduleType="transform",W.name="sort",W.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},W.supplyDefaults=function(s){var l={};function r(h,v){return t.coerce(s,l,W.attributes,h,v)}var c=r("enabled");return c&&(r("target"),r("order")),l},W.calcTransform=function(s,l,r){if(!!r.enabled){var c=t.getTargetArray(l,r);if(!!c){var h=r.target,v=c.length;l._length&&(v=Math.min(v,l._length));var y=l._arrayAttrs,m=n.getDataToCoordFunc(s,l,h,c),L=e(r,c,m,v),A=o(l.transforms,r),M={},p,T;for(p=0;p<y.length;p++){var d=t.nestedProperty(l,y[p]),x=d.get(),C=new Array(v);for(T=0;T<v;T++)C[T]=x[L[T]];d.set(C)}for(T=0;T<v;T++)M[T]=A(L[T]);r._indexToPoints=M,l._length=v}}};function e(s,l,r,c){var h=new Array(c),v=new Array(c),y;for(y=0;y<c;y++)h[y]={v:l[y],i:y};for(h.sort(u(s,r)),y=0;y<c;y++)v[y]=h[y].i;return v}function u(s,l){switch(s.order){case"ascending":return function(r,c){var h=l(r.v),v=l(c.v);return h===a?1:v===a?-1:h-v};case"descending":return function(r,c){var h=l(r.v),v=l(c.v);return h===a?1:v===a?-1:v-h}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(f,ae,W){W.version="2.12.1"},{}]},{},[8])(8)})})(Ti);var gl=wi(Ti.exports),Mi={};(function(ka){function da(M){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(T){return typeof T}:da=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},da(M)}Object.defineProperty(ka,"__esModule",{value:!0}),ka.default=A;var f=n(window.React),ae=W(pl.exports);function W(M){return M&&M.__esModule?M:{default:M}}function t(){if(typeof WeakMap!="function")return null;var M=new WeakMap;return t=function(){return M},M}function n(M){if(M&&M.__esModule)return M;if(M===null||da(M)!=="object"&&typeof M!="function")return{default:M};var p=t();if(p&&p.has(M))return p.get(M);var T={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in M)if(Object.prototype.hasOwnProperty.call(M,x)){var C=d?Object.getOwnPropertyDescriptor(M,x):null;C&&(C.get||C.set)?Object.defineProperty(T,x,C):T[x]=M[x]}return T.default=M,p&&p.set(M,T),T}function o(M,p){if(!(M instanceof p))throw new TypeError("Cannot call a class as a function")}function a(M,p){for(var T=0;T<p.length;T++){var d=p[T];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(M,d.key,d)}}function e(M,p,T){return p&&a(M.prototype,p),T&&a(M,T),M}function u(M,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(p&&p.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),p&&s(M,p)}function s(M,p){return s=Object.setPrototypeOf||function(d,x){return d.__proto__=x,d},s(M,p)}function l(M){var p=h();return function(){var d=v(M),x;if(p){var C=v(this).constructor;x=Reflect.construct(d,arguments,C)}else x=d.apply(this,arguments);return r(this,x)}}function r(M,p){return p&&(da(p)==="object"||typeof p=="function")?p:c(M)}function c(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function h(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function v(M){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},v(M)}var y=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover"],m=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],L=typeof window!="undefined";function A(M){var p=function(T){u(x,T);var d=l(x);function x(C){var E;return o(this,x),E=d.call(this,C),E.p=Promise.resolve(),E.resizeHandler=null,E.handlers={},E.syncWindowResize=E.syncWindowResize.bind(c(E)),E.syncEventHandlers=E.syncEventHandlers.bind(c(E)),E.attachUpdateEvents=E.attachUpdateEvents.bind(c(E)),E.getRef=E.getRef.bind(c(E)),E.handleUpdate=E.handleUpdate.bind(c(E)),E.figureCallback=E.figureCallback.bind(c(E)),E.updatePlotly=E.updatePlotly.bind(c(E)),E}return e(x,[{key:"updatePlotly",value:function(E,w,H){var F=this;this.p=this.p.then(function(){if(!F.unmounting){if(!F.el)throw new Error("Missing element reference");return M.react(F.el,{data:F.props.data,layout:F.props.layout,config:F.props.config,frames:F.props.frames})}}).then(function(){F.unmounting||(F.syncWindowResize(E),F.syncEventHandlers(),F.figureCallback(w),H&&F.attachUpdateEvents())}).catch(function(k){F.props.onError&&F.props.onError(k)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(E){this.unmounting=!1;var w=E.frames&&E.frames.length?E.frames.length:0,H=this.props.frames&&this.props.frames.length?this.props.frames.length:0,F=!(E.layout===this.props.layout&&E.data===this.props.data&&E.config===this.props.config&&H===w),k=E.revision!==void 0,I=E.revision!==this.props.revision;!F&&(!k||k&&!I)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&L&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),M.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var E=this;!this.el||!this.el.removeListener||m.forEach(function(w){E.el.on(w,E.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var E=this;!this.el||!this.el.removeListener||m.forEach(function(w){E.el.removeListener(w,E.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(E){if(typeof E=="function"){var w=this.el,H=w.data,F=w.layout,k=this.el._transitionData?this.el._transitionData._frames:null,I={data:H,layout:F,frames:k};E(I,this.el)}}},{key:"syncWindowResize",value:function(E){var w=this;!L||(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return M.Plots.resize(w.el)},window.addEventListener("resize",this.resizeHandler),E&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(E){this.el=E,this.props.debug&&L&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var E=this;y.forEach(function(w){var H=E.props["on"+w],F=E.handlers[w],k=Boolean(F);H&&!k?E.addEventHandler(w,H):!H&&k?E.removeEventHandler(w):H&&k&&H!==F&&(E.removeEventHandler(w),E.addEventHandler(w,H))})}},{key:"addEventHandler",value:function(E,w){this.handlers[E]=w,this.el.on(this.getPlotlyEventName(E),this.handlers[E])}},{key:"removeEventHandler",value:function(E){this.el.removeListener(this.getPlotlyEventName(E),this.handlers[E]),delete this.handlers[E]}},{key:"getPlotlyEventName",value:function(E){return"plotly_"+E.toLowerCase()}},{key:"render",value:function(){return f.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),x}(f.Component);return p.propTypes={data:ae.default.arrayOf(ae.default.object),config:ae.default.object,layout:ae.default.object,frames:ae.default.arrayOf(ae.default.object),revision:ae.default.number,onInitialized:ae.default.func,onPurge:ae.default.func,onError:ae.default.func,onUpdate:ae.default.func,debug:ae.default.bool,style:ae.default.object,className:ae.default.string,useResizeHandler:ae.default.bool,divId:ae.default.string},y.forEach(function(T){p.propTypes["on"+T]=ae.default.func}),p.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},p}})(Mi);var bl=wi(Mi);export{gl as P,bl as c};
//# sourceMappingURL=factory.27692410.js.map
