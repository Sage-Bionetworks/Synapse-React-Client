import{c as Kr,g as ws,z as ta}from"./iframe.91fe6dc0.js";var it={exports:{}},ir=function(a){return a&&a.Math==Math&&a},Ve=ir(typeof globalThis=="object"&&globalThis)||ir(typeof window=="object"&&window)||ir(typeof self=="object"&&self)||ir(typeof Kr=="object"&&Kr)||function(){return this}()||Function("return this")(),je=function(a){try{return!!a()}catch{return!0}},_s=je,$r=!_s(function(){var a=function(){}.bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),Ds=$r,ft=Function.prototype,Oa=ft.apply,Ra=ft.call,Os=typeof Reflect=="object"&&Reflect.apply||(Ds?Ra.bind(Oa):function(){return Ra.apply(Oa,arguments)}),ut=$r,vt=Function.prototype,Rs=vt.bind,kr=vt.call,Is=ut&&Rs.bind(kr,kr),Me=ut?function(a){return a&&Is(a)}:function(a){return a&&function(){return kr.apply(a,arguments)}},qe=function(a){return typeof a=="function"},ct={},Fs=je,rr=!Fs(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),As=$r,fr=Function.prototype.call,sa=As?fr.bind(fr):function(){return fr.apply(fr,arguments)},ht={},dt={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,xs=pt&&!dt.call({1:2},1);ht.f=xs?function(e){var t=pt(this,e);return!!t&&t.enumerable}:dt;var mt=function(a,e){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:e}},gt=Me,js=gt({}.toString),Ts=gt("".slice),Cs=function(a){return Ts(js(a),8,-1)},Ls=Me,Ns=je,Us=Cs,xr=Object,zs=Ls("".split),Vs=Ns(function(){return!xr("z").propertyIsEnumerable(0)})?function(a){return Us(a)=="String"?zs(a,""):xr(a)}:xr,Ms=TypeError,yt=function(a){if(a==null)throw Ms("Can't call method on "+a);return a},qs=Vs,Qs=yt,Pt=function(a){return qs(Qs(a))},Hs=qe,br=function(a){return typeof a=="object"?a!==null:Hs(a)},Et={},jr=Et,Tr=Ve,Bs=qe,Ia=function(a){return Bs(a)?a:void 0},oa=function(a,e){return arguments.length<2?Ia(jr[a])||Ia(Tr[a]):jr[a]&&jr[a][e]||Tr[a]&&Tr[a][e]},Ks=Me,ks=Ks({}.isPrototypeOf),Gs=oa,Js=Gs("navigator","userAgent")||"",St=Ve,Cr=Js,Fa=St.process,Aa=St.Deno,xa=Fa&&Fa.versions||Aa&&Aa.version,ja=xa&&xa.v8,Pe,mr;ja&&(Pe=ja.split("."),mr=Pe[0]>0&&Pe[0]<4?1:+(Pe[0]+Pe[1]));!mr&&Cr&&(Pe=Cr.match(/Edge\/(\d+)/),(!Pe||Pe[1]>=74)&&(Pe=Cr.match(/Chrome\/(\d+)/),Pe&&(mr=+Pe[1])));var Ys=mr,Ta=Ys,Ws=je,$t=!!Object.getOwnPropertySymbols&&!Ws(function(){var a=Symbol();return!String(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&Ta&&Ta<41}),Xs=$t,bt=Xs&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Zs=oa,eo=qe,ro=ks,ao=bt,to=Object,wt=ao?function(a){return typeof a=="symbol"}:function(a){var e=Zs("Symbol");return eo(e)&&ro(e.prototype,to(a))},so=String,oo=function(a){try{return so(a)}catch{return"Object"}},no=qe,lo=oo,io=TypeError,_t=function(a){if(no(a))return a;throw io(lo(a)+" is not a function")},fo=_t,uo=function(a,e){var t=a[e];return t==null?void 0:fo(t)},Lr=sa,Nr=qe,Ur=br,vo=TypeError,co=function(a,e){var t,s;if(e==="string"&&Nr(t=a.toString)&&!Ur(s=Lr(t,a))||Nr(t=a.valueOf)&&!Ur(s=Lr(t,a))||e!=="string"&&Nr(t=a.toString)&&!Ur(s=Lr(t,a)))return s;throw vo("Can't convert object to primitive value")},Dt={exports:{}},Ca=Ve,ho=Object.defineProperty,po=function(a,e){try{ho(Ca,a,{value:e,configurable:!0,writable:!0})}catch{Ca[a]=e}return e},mo=Ve,go=po,La="__core-js_shared__",yo=mo[La]||go(La,{}),Po=yo,Na=Po;(Dt.exports=function(a,e){return Na[a]||(Na[a]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.8",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"});var Eo=yt,So=Object,Ot=function(a){return So(Eo(a))},$o=Me,bo=Ot,wo=$o({}.hasOwnProperty),na=Object.hasOwn||function(e,t){return wo(bo(e),t)},_o=Me,Do=0,Oo=Math.random(),Ro=_o(1 .toString),Io=function(a){return"Symbol("+(a===void 0?"":a)+")_"+Ro(++Do+Oo,36)},Fo=Ve,Ao=Dt.exports,Ua=na,xo=Io,za=$t,Rt=bt,Ke=Ao("wks"),Ue=Fo.Symbol,Va=Ue&&Ue.for,jo=Rt?Ue:Ue&&Ue.withoutSetter||xo,To=function(a){if(!Ua(Ke,a)||!(za||typeof Ke[a]=="string")){var e="Symbol."+a;za&&Ua(Ue,a)?Ke[a]=Ue[a]:Rt&&Va?Ke[a]=Va(e):Ke[a]=jo(e)}return Ke[a]},Co=sa,Ma=br,qa=wt,Lo=uo,No=co,Uo=To,zo=TypeError,Vo=Uo("toPrimitive"),Mo=function(a,e){if(!Ma(a)||qa(a))return a;var t=Lo(a,Vo),s;if(t){if(e===void 0&&(e="default"),s=Co(t,a,e),!Ma(s)||qa(s))return s;throw zo("Can't convert object to primitive value")}return e===void 0&&(e="number"),No(a,e)},qo=Mo,Qo=wt,It=function(a){var e=qo(a,"string");return Qo(e)?e:e+""},Ho=Ve,Qa=br,Gr=Ho.document,Bo=Qa(Gr)&&Qa(Gr.createElement),Ko=function(a){return Bo?Gr.createElement(a):{}},ko=rr,Go=je,Jo=Ko,Ft=!ko&&!Go(function(){return Object.defineProperty(Jo("div"),"a",{get:function(){return 7}}).a!=7}),Yo=rr,Wo=sa,Xo=ht,Zo=mt,en=Pt,rn=It,an=na,tn=Ft,Ha=Object.getOwnPropertyDescriptor;ct.f=Yo?Ha:function(e,t){if(e=en(e),t=rn(t),tn)try{return Ha(e,t)}catch{}if(an(e,t))return Zo(!Wo(Xo.f,e,t),e[t])};var sn=je,on=qe,nn=/#|\.prototype\./,ar=function(a,e){var t=fn[ln(a)];return t==vn?!0:t==un?!1:on(e)?sn(e):!!e},ln=ar.normalize=function(a){return String(a).replace(nn,".").toLowerCase()},fn=ar.data={},un=ar.NATIVE="N",vn=ar.POLYFILL="P",cn=ar,Ba=Me,hn=_t,dn=$r,pn=Ba(Ba.bind),mn=function(a,e){return hn(a),e===void 0?a:dn?pn(a,e):function(){return a.apply(e,arguments)}},At={},gn=rr,yn=je,Pn=gn&&yn(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),En=br,Sn=String,$n=TypeError,bn=function(a){if(En(a))return a;throw $n(Sn(a)+" is not an object")},wn=rr,_n=Ft,Dn=Pn,ur=bn,Ka=It,On=TypeError,zr=Object.defineProperty,Rn=Object.getOwnPropertyDescriptor,Vr="enumerable",Mr="configurable",qr="writable";At.f=wn?Dn?function(e,t,s){if(ur(e),t=Ka(t),ur(s),typeof e=="function"&&t==="prototype"&&"value"in s&&qr in s&&!s[qr]){var r=Rn(e,t);r&&r[qr]&&(e[t]=s.value,s={configurable:Mr in s?s[Mr]:r[Mr],enumerable:Vr in s?s[Vr]:r[Vr],writable:!1})}return zr(e,t,s)}:zr:function(e,t,s){if(ur(e),t=Ka(t),ur(s),_n)try{return zr(e,t,s)}catch{}if("get"in s||"set"in s)throw On("Accessors not supported");return"value"in s&&(e[t]=s.value),e};var In=rr,Fn=At,An=mt,xn=In?function(a,e,t){return Fn.f(a,e,An(1,t))}:function(a,e,t){return a[e]=t,a},vr=Ve,jn=Os,Tn=Me,Cn=qe,Ln=ct.f,Nn=cn,ke=Et,Un=mn,Ge=xn,ka=na,zn=function(a){var e=function(t,s,r){if(this instanceof e){switch(arguments.length){case 0:return new a;case 1:return new a(t);case 2:return new a(t,s)}return new a(t,s,r)}return jn(a,this,arguments)};return e.prototype=a.prototype,e},xt=function(a,e){var t=a.target,s=a.global,r=a.stat,l=a.proto,u=s?vr:r?vr[t]:(vr[t]||{}).prototype,i=s?ke:ke[t]||Ge(ke,t,{})[t],$=i.prototype,P,m,d,p,n,c,g,h,S;for(p in e)P=Nn(s?p:t+(r?".":"#")+p,a.forced),m=!P&&u&&ka(u,p),c=i[p],m&&(a.dontCallGetSet?(S=Ln(u,p),g=S&&S.value):g=u[p]),n=m&&g?g:e[p],!(m&&typeof c==typeof n)&&(a.bind&&m?h=Un(n,vr):a.wrap&&m?h=zn(n):l&&Cn(n)?h=Tn(n):h=n,(a.sham||n&&n.sham||c&&c.sham)&&Ge(h,"sham",!0),Ge(i,p,h),l&&(d=t+"Prototype",ka(ke,d)||Ge(ke,d,{}),Ge(ke[d],p,n),a.real&&$&&!$[p]&&Ge($,p,n)))},Vn=Math.ceil,Mn=Math.floor,qn=Math.trunc||function(e){var t=+e;return(t>0?Mn:Vn)(t)},Qn=qn,jt=function(a){var e=+a;return e!==e||e===0?0:Qn(e)},Hn=jt,Bn=Math.max,Kn=Math.min,Tt=function(a,e){var t=Hn(a);return t<0?Bn(t+e,0):Kn(t,e)},kn=jt,Gn=Math.min,Jn=function(a){return a>0?Gn(kn(a),9007199254740991):0},Yn=Jn,Ct=function(a){return Yn(a.length)},Wn=Ot,Ga=Tt,Xn=Ct,Zn=function(e){for(var t=Wn(this),s=Xn(t),r=arguments.length,l=Ga(r>1?arguments[1]:void 0,s),u=r>2?arguments[2]:void 0,i=u===void 0?s:Ga(u,s);i>l;)t[l++]=e;return t},el=xt,rl=Zn;el({target:"Array",proto:!0},{fill:rl});var al=oa,Lt=al,tl=Lt,sl=tl("Array","fill"),ol=sl,nl=ol,ll=nl,il=ll,fl=il,ul=fl;(function(a){a.exports=ul})(it);const Mf=ws(it.exports);var vl=Pt,cl=Tt,hl=Ct,Ja=function(a){return function(e,t,s){var r=vl(e),l=hl(r),u=cl(s,l),i;if(a&&t!=t){for(;l>u;)if(i=r[u++],i!=i)return!0}else for(;l>u;u++)if((a||u in r)&&r[u]===t)return a||u||0;return!a&&-1}},dl={includes:Ja(!0),indexOf:Ja(!1)},pl=xt,ml=dl.includes,gl=je,yl=gl(function(){return!Array(1).includes()});pl({target:"Array",proto:!0,forced:yl},{includes:function(e){return ml(this,e,arguments.length>1?arguments[1]:void 0)}});var Pl=Lt,qf=Pl("Array","includes");let Qf=(a=21)=>crypto.getRandomValues(new Uint8Array(a)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");var Jr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(a,e){(function(t,s){s(e)})(Kr,function(t){function s(){for(var f=arguments.length,o=Array(f),v=0;v<f;v++)o[v]=arguments[v];if(o.length>1){o[0]=o[0].slice(0,-1);for(var E=o.length-1,y=1;y<E;++y)o[y]=o[y].slice(1,-1);return o[E]=o[E].slice(1),o.join("")}else return o[0]}function r(f){return"(?:"+f+")"}function l(f){return f===void 0?"undefined":f===null?"null":Object.prototype.toString.call(f).split(" ").pop().split("]").shift().toLowerCase()}function u(f){return f.toUpperCase()}function i(f){return f!=null?f instanceof Array?f:typeof f.length!="number"||f.split||f.setInterval||f.call?[f]:Array.prototype.slice.call(f):[]}function $(f,o){var v=f;if(o)for(var E in o)v[E]=o[E];return v}function P(f){var o="[A-Za-z]",v="[0-9]",E=s(v,"[A-Fa-f]"),y=r(r("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+r("%[89A-Fa-f]"+E+"%"+E+E)+"|"+r("%"+E+E)),L="[\\:\\/\\?\\#\\[\\]\\@]",U="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",H=s(L,U),J=f?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ae=f?"[\\uE000-\\uF8FF]":"[]",Q=s(o,v,"[\\-\\.\\_\\~]",J);r(o+s(o,v,"[\\+\\-\\.]")+"*"),r(r(y+"|"+s(Q,U,"[\\:]"))+"*");var G=r(r("25[0-5]")+"|"+r("2[0-4]"+v)+"|"+r("1"+v+v)+"|"+r("0?[1-9]"+v)+"|0?0?"+v),te=r(G+"\\."+G+"\\."+G+"\\."+G),V=r(E+"{1,4}"),Y=r(r(V+"\\:"+V)+"|"+te),ne=r(r(V+"\\:")+"{6}"+Y),W=r("\\:\\:"+r(V+"\\:")+"{5}"+Y),Fe=r(r(V)+"?\\:\\:"+r(V+"\\:")+"{4}"+Y),Se=r(r(r(V+"\\:")+"{0,1}"+V)+"?\\:\\:"+r(V+"\\:")+"{3}"+Y),$e=r(r(r(V+"\\:")+"{0,2}"+V)+"?\\:\\:"+r(V+"\\:")+"{2}"+Y),Be=r(r(r(V+"\\:")+"{0,3}"+V)+"?\\:\\:"+V+"\\:"+Y),Le=r(r(r(V+"\\:")+"{0,4}"+V)+"?\\:\\:"+Y),ye=r(r(r(V+"\\:")+"{0,5}"+V)+"?\\:\\:"+V),be=r(r(r(V+"\\:")+"{0,6}"+V)+"?\\:\\:"),Ne=r([ne,W,Fe,Se,$e,Be,Le,ye,be].join("|")),Oe=r(r(Q+"|"+y)+"+");r("[vV]"+E+"+\\."+s(Q,U,"[\\:]")+"+"),r(r(y+"|"+s(Q,U))+"*");var Ze=r(y+"|"+s(Q,U,"[\\:\\@]"));return r(r(y+"|"+s(Q,U,"[\\@]"))+"+"),r(r(Ze+"|"+s("[\\/\\?]",ae))+"*"),{NOT_SCHEME:new RegExp(s("[^]",o,v,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(s("[^\\%\\:]",Q,U),"g"),NOT_HOST:new RegExp(s("[^\\%\\[\\]\\:]",Q,U),"g"),NOT_PATH:new RegExp(s("[^\\%\\/\\:\\@]",Q,U),"g"),NOT_PATH_NOSCHEME:new RegExp(s("[^\\%\\/\\@]",Q,U),"g"),NOT_QUERY:new RegExp(s("[^\\%]",Q,U,"[\\:\\@\\/\\?]",ae),"g"),NOT_FRAGMENT:new RegExp(s("[^\\%]",Q,U,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(s("[^]",Q,U),"g"),UNRESERVED:new RegExp(Q,"g"),OTHER_CHARS:new RegExp(s("[^\\%]",Q,H),"g"),PCT_ENCODED:new RegExp(y,"g"),IPV4ADDRESS:new RegExp("^("+te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ne+")"+r(r("\\%25|\\%(?!"+E+"{2})")+"("+Oe+")")+"?\\]?$")}}var m=P(!1),d=P(!0),p=function(){function f(o,v){var E=[],y=!0,L=!1,U=void 0;try{for(var H=o[Symbol.iterator](),J;!(y=(J=H.next()).done)&&(E.push(J.value),!(v&&E.length===v));y=!0);}catch(ae){L=!0,U=ae}finally{try{!y&&H.return&&H.return()}finally{if(L)throw U}}return E}return function(o,v){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return f(o,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(f){if(Array.isArray(f)){for(var o=0,v=Array(f.length);o<f.length;o++)v[o]=f[o];return v}else return Array.from(f)},c=2147483647,g=36,h=1,S=26,R=38,b=700,D=72,O=128,I="-",j=/^xn--/,A=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=g-h,x=Math.floor,_=String.fromCharCode;function w(f){throw new RangeError(T[f])}function N(f,o){for(var v=[],E=f.length;E--;)v[E]=o(f[E]);return v}function B(f,o){var v=f.split("@"),E="";v.length>1&&(E=v[0]+"@",f=v[1]),f=f.replace(F,".");var y=f.split("."),L=N(y,o).join(".");return E+L}function M(f){for(var o=[],v=0,E=f.length;v<E;){var y=f.charCodeAt(v++);if(y>=55296&&y<=56319&&v<E){var L=f.charCodeAt(v++);(L&64512)==56320?o.push(((y&1023)<<10)+(L&1023)+65536):(o.push(y),v--)}else o.push(y)}return o}var K=function(o){return String.fromCodePoint.apply(String,n(o))},q=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:g},z=function(o,v){return o+22+75*(o<26)-((v!=0)<<5)},se=function(o,v,E){var y=0;for(o=E?x(o/b):o>>1,o+=x(o/v);o>C*S>>1;y+=g)o=x(o/C);return x(y+(C+1)*o/(o+R))},ue=function(o){var v=[],E=o.length,y=0,L=O,U=D,H=o.lastIndexOf(I);H<0&&(H=0);for(var J=0;J<H;++J)o.charCodeAt(J)>=128&&w("not-basic"),v.push(o.charCodeAt(J));for(var ae=H>0?H+1:0;ae<E;){for(var Q=y,G=1,te=g;;te+=g){ae>=E&&w("invalid-input");var V=q(o.charCodeAt(ae++));(V>=g||V>x((c-y)/G))&&w("overflow"),y+=V*G;var Y=te<=U?h:te>=U+S?S:te-U;if(V<Y)break;var ne=g-Y;G>x(c/ne)&&w("overflow"),G*=ne}var W=v.length+1;U=se(y-Q,W,Q==0),x(y/W)>c-L&&w("overflow"),L+=x(y/W),y%=W,v.splice(y++,0,L)}return String.fromCodePoint.apply(String,v)},ce=function(o){var v=[];o=M(o);var E=o.length,y=O,L=0,U=D,H=!0,J=!1,ae=void 0;try{for(var Q=o[Symbol.iterator](),G;!(H=(G=Q.next()).done);H=!0){var te=G.value;te<128&&v.push(_(te))}}catch(er){J=!0,ae=er}finally{try{!H&&Q.return&&Q.return()}finally{if(J)throw ae}}var V=v.length,Y=V;for(V&&v.push(I);Y<E;){var ne=c,W=!0,Fe=!1,Se=void 0;try{for(var $e=o[Symbol.iterator](),Be;!(W=(Be=$e.next()).done);W=!0){var Le=Be.value;Le>=y&&Le<ne&&(ne=Le)}}catch(er){Fe=!0,Se=er}finally{try{!W&&$e.return&&$e.return()}finally{if(Fe)throw Se}}var ye=Y+1;ne-y>x((c-L)/ye)&&w("overflow"),L+=(ne-y)*ye,y=ne;var be=!0,Ne=!1,Oe=void 0;try{for(var Ze=o[Symbol.iterator](),ba;!(be=(ba=Ze.next()).done);be=!0){var wa=ba.value;if(wa<y&&++L>c&&w("overflow"),wa==y){for(var or=L,nr=g;;nr+=g){var lr=nr<=U?h:nr>=U+S?S:nr-U;if(or<lr)break;var _a=or-lr,Da=g-lr;v.push(_(z(lr+_a%Da,0))),or=x(_a/Da)}v.push(_(z(or,0))),U=se(L,ye,Y==V),L=0,++Y}}}catch(er){Ne=!0,Oe=er}finally{try{!be&&Ze.return&&Ze.return()}finally{if(Ne)throw Oe}}++L,++y}return v.join("")},k=function(o){return B(o,function(v){return j.test(v)?ue(v.slice(4).toLowerCase()):v})},we=function(o){return B(o,function(v){return A.test(v)?"xn--"+ce(v):v})},pe={version:"2.1.0",ucs2:{decode:M,encode:K},decode:ue,encode:ce,toASCII:we,toUnicode:k},re={};function de(f){var o=f.charCodeAt(0),v=void 0;return o<16?v="%0"+o.toString(16).toUpperCase():o<128?v="%"+o.toString(16).toUpperCase():o<2048?v="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():v="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),v}function ge(f){for(var o="",v=0,E=f.length;v<E;){var y=parseInt(f.substr(v+1,2),16);if(y<128)o+=String.fromCharCode(y),v+=3;else if(y>=194&&y<224){if(E-v>=6){var L=parseInt(f.substr(v+4,2),16);o+=String.fromCharCode((y&31)<<6|L&63)}else o+=f.substr(v,6);v+=6}else if(y>=224){if(E-v>=9){var U=parseInt(f.substr(v+4,2),16),H=parseInt(f.substr(v+7,2),16);o+=String.fromCharCode((y&15)<<12|(U&63)<<6|H&63)}else o+=f.substr(v,9);v+=9}else o+=f.substr(v,3),v+=3}return o}function oe(f,o){function v(E){var y=ge(E);return y.match(o.UNRESERVED)?y:E}return f.scheme&&(f.scheme=String(f.scheme).replace(o.PCT_ENCODED,v).toLowerCase().replace(o.NOT_SCHEME,"")),f.userinfo!==void 0&&(f.userinfo=String(f.userinfo).replace(o.PCT_ENCODED,v).replace(o.NOT_USERINFO,de).replace(o.PCT_ENCODED,u)),f.host!==void 0&&(f.host=String(f.host).replace(o.PCT_ENCODED,v).toLowerCase().replace(o.NOT_HOST,de).replace(o.PCT_ENCODED,u)),f.path!==void 0&&(f.path=String(f.path).replace(o.PCT_ENCODED,v).replace(f.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,de).replace(o.PCT_ENCODED,u)),f.query!==void 0&&(f.query=String(f.query).replace(o.PCT_ENCODED,v).replace(o.NOT_QUERY,de).replace(o.PCT_ENCODED,u)),f.fragment!==void 0&&(f.fragment=String(f.fragment).replace(o.PCT_ENCODED,v).replace(o.NOT_FRAGMENT,de).replace(o.PCT_ENCODED,u)),f}function X(f){return f.replace(/^0*(.*)/,"$1")||"0"}function _e(f,o){var v=f.match(o.IPV4ADDRESS)||[],E=p(v,2),y=E[1];return y?y.split(".").map(X).join("."):f}function ve(f,o){var v=f.match(o.IPV6ADDRESS)||[],E=p(v,3),y=E[1],L=E[2];if(y){for(var U=y.toLowerCase().split("::").reverse(),H=p(U,2),J=H[0],ae=H[1],Q=ae?ae.split(":").map(X):[],G=J.split(":").map(X),te=o.IPV4ADDRESS.test(G[G.length-1]),V=te?7:8,Y=G.length-V,ne=Array(V),W=0;W<V;++W)ne[W]=Q[W]||G[Y+W]||"";te&&(ne[V-1]=_e(ne[V-1],o));var Fe=ne.reduce(function(ye,be,Ne){if(!be||be==="0"){var Oe=ye[ye.length-1];Oe&&Oe.index+Oe.length===Ne?Oe.length++:ye.push({index:Ne,length:1})}return ye},[]),Se=Fe.sort(function(ye,be){return be.length-ye.length})[0],$e=void 0;if(Se&&Se.length>1){var Be=ne.slice(0,Se.index),Le=ne.slice(Se.index+Se.length);$e=Be.join(":")+"::"+Le.join(":")}else $e=ne.join(":");return L&&($e+="%"+L),$e}else return f}var Z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Re="".match(/(){0}/)[1]===void 0;function he(f){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={},E=o.iri!==!1?d:m;o.reference==="suffix"&&(f=(o.scheme?o.scheme+":":"")+"//"+f);var y=f.match(Z);if(y){Re?(v.scheme=y[1],v.userinfo=y[3],v.host=y[4],v.port=parseInt(y[5],10),v.path=y[6]||"",v.query=y[7],v.fragment=y[8],isNaN(v.port)&&(v.port=y[5])):(v.scheme=y[1]||void 0,v.userinfo=f.indexOf("@")!==-1?y[3]:void 0,v.host=f.indexOf("//")!==-1?y[4]:void 0,v.port=parseInt(y[5],10),v.path=y[6]||"",v.query=f.indexOf("?")!==-1?y[7]:void 0,v.fragment=f.indexOf("#")!==-1?y[8]:void 0,isNaN(v.port)&&(v.port=f.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?y[4]:void 0)),v.host&&(v.host=ve(_e(v.host,E),E)),v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&!v.path&&v.query===void 0?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==v.reference&&(v.error=v.error||"URI is not a "+o.reference+" reference.");var L=re[(o.scheme||v.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!L||!L.unicodeSupport)){if(v.host&&(o.domainHost||L&&L.domainHost))try{v.host=pe.toASCII(v.host.replace(E.PCT_ENCODED,ge).toLowerCase())}catch(U){v.error=v.error||"Host's domain name can not be converted to ASCII via punycode: "+U}oe(v,m)}else oe(v,E);L&&L.parse&&L.parse(v,o)}else v.error=v.error||"URI can not be parsed.";return v}function Qe(f,o){var v=o.iri!==!1?d:m,E=[];return f.userinfo!==void 0&&(E.push(f.userinfo),E.push("@")),f.host!==void 0&&E.push(ve(_e(String(f.host),v),v).replace(v.IPV6ADDRESS,function(y,L,U){return"["+L+(U?"%25"+U:"")+"]"})),(typeof f.port=="number"||typeof f.port=="string")&&(E.push(":"),E.push(String(f.port))),E.length?E.join(""):void 0}var Ce=/^\.\.?\//,fe=/^\/\.(\/|$)/,Ie=/^\/\.\.(\/|$)/,Ye=/^\/?(?:.|\n)*?(?=\/|$)/;function le(f){for(var o=[];f.length;)if(f.match(Ce))f=f.replace(Ce,"");else if(f.match(fe))f=f.replace(fe,"/");else if(f.match(Ie))f=f.replace(Ie,"/"),o.pop();else if(f==="."||f==="..")f="";else{var v=f.match(Ye);if(v){var E=v[0];f=f.slice(E.length),o.push(E)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function ie(f){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=o.iri?d:m,E=[],y=re[(o.scheme||f.scheme||"").toLowerCase()];if(y&&y.serialize&&y.serialize(f,o),f.host&&!v.IPV6ADDRESS.test(f.host)){if(o.domainHost||y&&y.domainHost)try{f.host=o.iri?pe.toUnicode(f.host):pe.toASCII(f.host.replace(v.PCT_ENCODED,ge).toLowerCase())}catch(H){f.error=f.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+H}}oe(f,v),o.reference!=="suffix"&&f.scheme&&(E.push(f.scheme),E.push(":"));var L=Qe(f,o);if(L!==void 0&&(o.reference!=="suffix"&&E.push("//"),E.push(L),f.path&&f.path.charAt(0)!=="/"&&E.push("/")),f.path!==void 0){var U=f.path;!o.absolutePath&&(!y||!y.absolutePath)&&(U=le(U)),L===void 0&&(U=U.replace(/^\/\//,"/%2F")),E.push(U)}return f.query!==void 0&&(E.push("?"),E.push(f.query)),f.fragment!==void 0&&(E.push("#"),E.push(f.fragment)),E.join("")}function me(f,o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments[3],y={};return E||(f=he(ie(f,v),v),o=he(ie(o,v),v)),v=v||{},!v.tolerant&&o.scheme?(y.scheme=o.scheme,y.userinfo=o.userinfo,y.host=o.host,y.port=o.port,y.path=le(o.path||""),y.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(y.userinfo=o.userinfo,y.host=o.host,y.port=o.port,y.path=le(o.path||""),y.query=o.query):(o.path?(o.path.charAt(0)==="/"?y.path=le(o.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?y.path="/"+o.path:f.path?y.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+o.path:y.path=o.path,y.path=le(y.path)),y.query=o.query):(y.path=f.path,o.query!==void 0?y.query=o.query:y.query=f.query),y.userinfo=f.userinfo,y.host=f.host,y.port=f.port),y.scheme=f.scheme),y.fragment=o.fragment,y}function sr(f,o,v){var E=$({scheme:"null"},v);return ie(me(he(f,E),he(o,E),E,!0),E)}function Ir(f,o){return typeof f=="string"?f=ie(he(f,o),o):l(f)==="object"&&(f=he(ie(f,o),o)),f}function Fr(f,o,v){return typeof f=="string"?f=ie(he(f,v),v):l(f)==="object"&&(f=ie(f,v)),typeof o=="string"?o=ie(he(o,v),v):l(o)==="object"&&(o=ie(o,v)),f===o}function cs(f,o){return f&&f.toString().replace(!o||!o.iri?m.ESCAPE:d.ESCAPE,de)}function De(f,o){return f&&f.toString().replace(!o||!o.iri?m.PCT_ENCODED:d.PCT_ENCODED,ge)}var We={scheme:"http",domainHost:!0,parse:function(o,v){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,v){var E=String(o.scheme).toLowerCase()==="https";return(o.port===(E?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},pa={scheme:"https",domainHost:We.domainHost,parse:We.parse,serialize:We.serialize};function ma(f){return typeof f.secure=="boolean"?f.secure:String(f.scheme).toLowerCase()==="wss"}var Xe={scheme:"ws",domainHost:!0,parse:function(o,v){var E=o;return E.secure=ma(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E},serialize:function(o,v){if((o.port===(ma(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var E=o.resourceName.split("?"),y=p(E,2),L=y[0],U=y[1];o.path=L&&L!=="/"?L:void 0,o.query=U,o.resourceName=void 0}return o.fragment=void 0,o}},ga={scheme:"wss",domainHost:Xe.domainHost,parse:Xe.parse,serialize:Xe.serialize},hs={},ya="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ee="[0-9A-Fa-f]",ds=r(r("%[EFef]"+Ee+"%"+Ee+Ee+"%"+Ee+Ee)+"|"+r("%[89A-Fa-f]"+Ee+"%"+Ee+Ee)+"|"+r("%"+Ee+Ee)),ps="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ms="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",gs=s(ms,'[\\"\\\\]'),ys="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ps=new RegExp(ya,"g"),He=new RegExp(ds,"g"),Es=new RegExp(s("[^]",ps,"[\\.]",'[\\"]',gs),"g"),Pa=new RegExp(s("[^]",ya,ys),"g"),Ss=Pa;function Ar(f){var o=ge(f);return o.match(Ps)?o:f}var Ea={scheme:"mailto",parse:function(o,v){var E=o,y=E.to=E.path?E.path.split(","):[];if(E.path=void 0,E.query){for(var L=!1,U={},H=E.query.split("&"),J=0,ae=H.length;J<ae;++J){var Q=H[J].split("=");switch(Q[0]){case"to":for(var G=Q[1].split(","),te=0,V=G.length;te<V;++te)y.push(G[te]);break;case"subject":E.subject=De(Q[1],v);break;case"body":E.body=De(Q[1],v);break;default:L=!0,U[De(Q[0],v)]=De(Q[1],v);break}}L&&(E.headers=U)}E.query=void 0;for(var Y=0,ne=y.length;Y<ne;++Y){var W=y[Y].split("@");if(W[0]=De(W[0]),v.unicodeSupport)W[1]=De(W[1],v).toLowerCase();else try{W[1]=pe.toASCII(De(W[1],v).toLowerCase())}catch(Fe){E.error=E.error||"Email address's domain name can not be converted to ASCII via punycode: "+Fe}y[Y]=W.join("@")}return E},serialize:function(o,v){var E=o,y=i(o.to);if(y){for(var L=0,U=y.length;L<U;++L){var H=String(y[L]),J=H.lastIndexOf("@"),ae=H.slice(0,J).replace(He,Ar).replace(He,u).replace(Es,de),Q=H.slice(J+1);try{Q=v.iri?pe.toUnicode(Q):pe.toASCII(De(Q,v).toLowerCase())}catch(Y){E.error=E.error||"Email address's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+Y}y[L]=ae+"@"+Q}E.path=y.join(",")}var G=o.headers=o.headers||{};o.subject&&(G.subject=o.subject),o.body&&(G.body=o.body);var te=[];for(var V in G)G[V]!==hs[V]&&te.push(V.replace(He,Ar).replace(He,u).replace(Pa,de)+"="+G[V].replace(He,Ar).replace(He,u).replace(Ss,de));return te.length&&(E.query=te.join("&")),E}},$s=/^([^\:]+)\:(.*)/,Sa={scheme:"urn",parse:function(o,v){var E=o.path&&o.path.match($s),y=o;if(E){var L=v.scheme||y.scheme||"urn",U=E[1].toLowerCase(),H=E[2],J=L+":"+(v.nid||U),ae=re[J];y.nid=U,y.nss=H,y.path=void 0,ae&&(y=ae.parse(y,v))}else y.error=y.error||"URN can not be parsed.";return y},serialize:function(o,v){var E=v.scheme||o.scheme||"urn",y=o.nid,L=E+":"+(v.nid||y),U=re[L];U&&(o=U.serialize(o,v));var H=o,J=o.nss;return H.path=(y||v.nid)+":"+J,H}},bs=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$a={scheme:"urn:uuid",parse:function(o,v){var E=o;return E.uuid=E.nss,E.nss=void 0,!v.tolerant&&(!E.uuid||!E.uuid.match(bs))&&(E.error=E.error||"UUID is not valid."),E},serialize:function(o,v){var E=o;return E.nss=(o.uuid||"").toLowerCase(),E}};re[We.scheme]=We,re[pa.scheme]=pa,re[Xe.scheme]=Xe,re[ga.scheme]=ga,re[Ea.scheme]=Ea,re[Sa.scheme]=Sa,re[$a.scheme]=$a,t.SCHEMES=re,t.pctEncChar=de,t.pctDecChars=ge,t.parse=he,t.removeDotSegments=le,t.serialize=ie,t.resolveComponents=me,t.resolve=sr,t.normalize=Ir,t.equal=Fr,t.escapeComponent=cs,t.unescapeComponent=De,Object.defineProperty(t,"__esModule",{value:!0})})})(Jr,Jr.exports);var El=function(e){for(var t=0,s=e.length,r=0,l;r<s;)t++,l=e.charCodeAt(r++),l>=55296&&l<=56319&&r<s&&(l=e.charCodeAt(r),(l&64512)==56320&&r++);return t},Je={copy:Sl,checkDataType:Yr,checkDataTypes:$l,coerceToTypes:bl,toHash:la,getProperty:ia,escapeQuotes:fa,equal:ta,ucs2length:El,varOccurences:Dl,varReplace:Ol,schemaHasRules:Rl,schemaHasRulesExcept:Il,schemaUnknownRules:Fl,toQuotedString:Wr,getPathExpr:Al,getPath:xl,getData:Cl,unescapeFragment:Ll,unescapeJsonPointer:va,escapeFragment:Nl,escapeJsonPointer:ua};function Sl(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function Yr(a,e,t,s){var r=s?" !== ":" === ",l=s?" || ":" && ",u=s?"!":"",i=s?"":"!";switch(a){case"null":return e+r+"null";case"array":return u+"Array.isArray("+e+")";case"object":return"("+u+e+l+"typeof "+e+r+'"object"'+l+i+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+l+i+"("+e+" % 1)"+l+e+r+e+(t?l+u+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?l+u+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function $l(a,e,t){switch(a.length){case 1:return Yr(a[0],e,t,!0);default:var s="",r=la(a);r.array&&r.object&&(s=r.null?"(":"(!"+e+" || ",s+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var l in r)s+=(s?" && ":"")+Yr(l,e,t,!0);return s}}var Ya=la(["string","number","integer","boolean","null"]);function bl(a,e){if(Array.isArray(e)){for(var t=[],s=0;s<e.length;s++){var r=e[s];(Ya[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(Ya[e])return[e];if(a==="array"&&e==="array")return["array"]}}function la(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var wl=/^[a-z$_][a-z$_0-9]*$/i,_l=/'|\\/g;function ia(a){return typeof a=="number"?"["+a+"]":wl.test(a)?"."+a:"['"+fa(a)+"']"}function fa(a){return a.replace(_l,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Dl(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function Ol(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function Rl(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function Il(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var s in a)if(s!=t&&e[s])return!0}function Fl(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function Wr(a){return"'"+fa(a)+"'"}function Al(a,e,t,s){var r=t?"'/' + "+e+(s?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):s?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return Nt(a,r)}function xl(a,e,t){var s=Wr(t?"/"+ua(e):ia(e));return Nt(a,s)}var jl=/^\/(?:[^~]|~0|~1)*$/,Tl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Cl(a,e,t){var s,r,l,u;if(a==="")return"rootData";if(a[0]=="/"){if(!jl.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,l="rootData"}else{if(u=a.match(Tl),!u)throw new Error("Invalid JSON-pointer: "+a);if(s=+u[1],r=u[2],r=="#"){if(s>=e)throw new Error("Cannot access property/index "+s+" levels up, current level is "+e);return t[e-s]}if(s>e)throw new Error("Cannot access data "+s+" levels up, current level is "+e);if(l="data"+(e-s||""),!r)return l}for(var i=l,$=r.split("/"),P=0;P<$.length;P++){var m=$[P];m&&(l+=ia(va(m)),i+=" && "+l)}return i}function Nt(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Ll(a){return va(decodeURIComponent(a))}function Nl(a){return encodeURIComponent(ua(a))}function ua(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function va(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}var Ul=Je,Ut=zl;function zl(a){Ul.copy(a,this)}var zt={exports:{}},Ae=zt.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var s=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};pr(e,s,r,a,"",a)};Ae.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Ae.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ae.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ae.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function pr(a,e,t,s,r,l,u,i,$,P){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,r,l,u,i,$,P);for(var m in s){var d=s[m];if(Array.isArray(d)){if(m in Ae.arrayKeywords)for(var p=0;p<d.length;p++)pr(a,e,t,d[p],r+"/"+m+"/"+p,l,r,m,s,p)}else if(m in Ae.propsKeywords){if(d&&typeof d=="object")for(var n in d)pr(a,e,t,d[n],r+"/"+m+"/"+Vl(n),l,r,m,s,n)}else(m in Ae.keywords||a.allKeys&&!(m in Ae.skipKeywords))&&pr(a,e,t,d,r+"/"+m,l,r,m,s)}t(s,r,l,u,i,$,P)}}function Vl(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}var tr=Jr.exports,Wa=ta,wr=Je,gr=Ut,Ml=zt.exports,ca=Te;Te.normalizeId=xe;Te.fullPath=yr;Te.url=Pr;Te.ids=Kl;Te.inlineRef=Xr;Te.schema=_r;function Te(a,e,t){var s=this._refs[t];if(typeof s=="string")if(this._refs[s])s=this._refs[s];else return Te.call(this,a,e,s);if(s=s||this._schemas[t],s instanceof gr)return Xr(s.schema,this._opts.inlineRefs)?s.schema:s.validate||this._compile(s);var r=_r.call(this,e,t),l,u,i;return r&&(l=r.schema,e=r.root,i=r.baseId),l instanceof gr?u=l.validate||a.call(this,l.schema,e,void 0,i):l!==void 0&&(u=Xr(l,this._opts.inlineRefs)?l:a.call(this,l,e,void 0,i)),u}function _r(a,e){var t=tr.parse(e),s=Mt(t),r=yr(this._getId(a.schema));if(Object.keys(a.schema).length===0||s!==r){var l=xe(s),u=this._refs[l];if(typeof u=="string")return ql.call(this,a,u,t);if(u instanceof gr)u.validate||this._compile(u),a=u;else if(u=this._schemas[l],u instanceof gr){if(u.validate||this._compile(u),l==xe(e))return{schema:u,root:a,baseId:r};a=u}else return;if(!a.schema)return;r=yr(this._getId(a.schema))}return Vt.call(this,t,r,a.schema,a)}function ql(a,e,t){var s=_r.call(this,a,e);if(s){var r=s.schema,l=s.baseId;a=s.root;var u=this._getId(r);return u&&(l=Pr(l,u)),Vt.call(this,t,l,r,a)}}var Ql=wr.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Vt(a,e,t,s){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),l=1;l<r.length;l++){var u=r[l];if(u){if(u=wr.unescapeFragment(u),t=t[u],t===void 0)break;var i;if(!Ql[u]&&(i=this._getId(t),i&&(e=Pr(e,i)),t.$ref)){var $=Pr(e,t.$ref),P=_r.call(this,s,$);P&&(t=P.schema,s=P.root,e=P.baseId)}}}if(t!==void 0&&t!==s.schema)return{schema:t,root:s,baseId:e}}}var Hl=wr.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Xr(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return Zr(a);if(e)return ea(a)<=e}function Zr(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!Zr(e))return!1}else for(var s in a)if(s=="$ref"||(e=a[s],typeof e=="object"&&!Zr(e)))return!1;return!0}function ea(a){var e=0,t;if(Array.isArray(a)){for(var s=0;s<a.length;s++)if(t=a[s],typeof t=="object"&&(e+=ea(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(Hl[r])e++;else if(t=a[r],typeof t=="object"&&(e+=ea(t)+1),e==1/0)return 1/0}return e}function yr(a,e){e!==!1&&(a=xe(a));var t=tr.parse(a);return Mt(t)}function Mt(a){return tr.serialize(a).split("#")[0]+"#"}var Bl=/#\/?$/;function xe(a){return a?a.replace(Bl,""):""}function Pr(a,e){return e=xe(e),tr.resolve(a,e)}function Kl(a){var e=xe(this._getId(a)),t={"":e},s={"":yr(e,!1)},r={},l=this;return Ml(a,{allKeys:!0},function(u,i,$,P,m,d,p){if(i!==""){var n=l._getId(u),c=t[P],g=s[P]+"/"+m;if(p!==void 0&&(g+="/"+(typeof p=="number"?p:wr.escapeFragment(p))),typeof n=="string"){n=c=xe(c?tr.resolve(c,n):n);var h=l._refs[n];if(typeof h=="string"&&(h=l._refs[h]),h&&h.schema){if(!Wa(u,h.schema))throw new Error('id "'+n+'" resolves to more than one schema')}else if(n!=xe(g))if(n[0]=="#"){if(r[n]&&!Wa(u,r[n]))throw new Error('id "'+n+'" resolves to more than one schema');r[n]=u}else l._refs[n]=g}t[i]=c,s[i]=g}}),r}var Qr=ca,ha={Validation:Xa(kl),MissingRef:Xa(da)};function kl(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}da.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function da(a,e,t){this.message=t||da.message(a,e),this.missingRef=Qr.url(a,e),this.missingSchema=Qr.normalizeId(Qr.fullPath(this.missingRef))}function Xa(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var qt=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,s=e.cmp&&function(l){return function(u){return function(i,$){var P={key:i,value:u[i]},m={key:$,value:u[$]};return l(P,m)}}}(e.cmp),r=[];return function l(u){if(u&&u.toJSON&&typeof u.toJSON=="function"&&(u=u.toJSON()),u!==void 0){if(typeof u=="number")return isFinite(u)?""+u:"null";if(typeof u!="object")return JSON.stringify(u);var i,$;if(Array.isArray(u)){for($="[",i=0;i<u.length;i++)i&&($+=","),$+=l(u[i])||"null";return $+"]"}if(u===null)return"null";if(r.indexOf(u)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var P=r.push(u)-1,m=Object.keys(u).sort(s&&s(u));for($="",i=0;i<m.length;i++){var d=m[i],p=l(u[d]);!p||($&&($+=","),$+=JSON.stringify(d)+":"+p)}return r.splice(P,1),"{"+$+"}"}}(a)},Qt=function(e,t,s){var r="",l=e.schema.$async===!0,u=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var $=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if($){var P="unknown keyword: "+$;if(e.opts.strictKeywords==="log")e.logger.warn(P);else throw new Error(P)}}if(e.isTop&&(r+=" var validate = ",l&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+i+" */")+" ")),typeof e.schema=="boolean"||!(u||e.schema.$ref)){var t="false schema",m=e.level,d=e.dataLevel,p=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,O=!e.opts.allErrors,A,g="data"+(d||""),D="valid"+m;if(e.schema===!1){e.isTop?O=!0:r+=" var "+D+" = false; ";var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var S=r;r=h.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?l?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+D+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var R=e.isTop,m=e.level=0,d=e.dataLevel=0,g="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var m=e.level,d=e.dataLevel,g="data"+(d||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),l&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+m+" = errors;"}var D="valid"+m,O=!e.opts.allErrors,I="",j="",A,F=e.schema.type,T=Array.isArray(F);if(F&&e.opts.nullable&&e.schema.nullable===!0&&(T?F.indexOf("null")==-1&&(F=F.concat("null")):F!="null"&&(F=[F,"null"],T=!0)),T&&F.length==1&&(F=F[0],T=!1),e.schema.$ref&&u){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(u=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),F){if(e.opts.coerceTypes)var C=e.util.coerceToTypes(e.opts.coerceTypes,F);var x=e.RULES.types[F];if(C||T||x===!0||x&&!fe(x)){var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",n=e.schemaPath+".type",c=e.errSchemaPath+"/type",_=T?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[_](F,g,e.opts.strictNumbers,!0)+") { ",C){var w="dataType"+m,N="coerced"+m;r+=" var "+w+" = typeof "+g+"; var "+N+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+w+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+w+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+N+" = "+g+"; } "),r+=" if ("+N+" !== undefined) ; ";var B=C;if(B)for(var M,K=-1,q=B.length-1;K<q;)M=B[K+=1],M=="string"?r+=" else if ("+w+" == 'number' || "+w+" == 'boolean') "+N+" = '' + "+g+"; else if ("+g+" === null) "+N+" = ''; ":M=="number"||M=="integer"?(r+=" else if ("+w+" == 'boolean' || "+g+" === null || ("+w+" == 'string' && "+g+" && "+g+" == +"+g+" ",M=="integer"&&(r+=" && !("+g+" % 1)"),r+=")) "+N+" = +"+g+"; "):M=="boolean"?r+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+N+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+N+" = true; ":M=="null"?r+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+N+" = null; ":e.opts.coerceTypes=="array"&&M=="array"&&(r+=" else if ("+w+" == 'string' || "+w+" == 'number' || "+w+" == 'boolean' || "+g+" == null) "+N+" = ["+g+"]; ");r+=" else {   ";var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",T?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var S=r;r=h.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+N+" !== undefined) {  ";var z=d?"data"+(d-1||""):"parentData",se=d?e.dataPathArr[d]:"parentDataProperty";r+=" "+g+" = "+N+"; ",d||(r+="if ("+z+" !== undefined)"),r+=" "+z+"["+se+"] = "+N+"; } "}else{var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",T?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var S=r;r=h.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!u)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",O&&(r+=" } if (errors === ",R?r+="0":r+="errs_"+m,r+=") { ",j+="}");else{var ue=e.RULES;if(ue){for(var x,ce=-1,k=ue.length-1;ce<k;)if(x=ue[ce+=1],fe(x)){if(x.type&&(r+=" if ("+e.util.checkDataType(x.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(x.type=="object"&&e.schema.properties){var p=e.schema.properties,we=Object.keys(p),pe=we;if(pe)for(var re,de=-1,ge=pe.length-1;de<ge;){re=pe[de+=1];var oe=p[re];if(oe.default!==void 0){var X=g+e.util.getProperty(re);if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+X;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else r+=" if ("+X+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+X+" === null || "+X+" === '' "),r+=" ) "+X+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}else if(x.type=="array"&&Array.isArray(e.schema.items)){var _e=e.schema.items;if(_e){for(var oe,K=-1,ve=_e.length-1;K<ve;)if(oe=_e[K+=1],oe.default!==void 0){var X=g+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+X;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else r+=" if ("+X+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+X+" === null || "+X+" === '' "),r+=" ) "+X+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}}var Z=x.rules;if(Z){for(var Re,he=-1,Qe=Z.length-1;he<Qe;)if(Re=Z[he+=1],Ie(Re)){var Ce=Re.code(e,Re.keyword,x.type);Ce&&(r+=" "+Ce+" ",O&&(I+="}"))}}if(O&&(r+=" "+I+" ",I=""),x.type&&(r+=" } ",F&&F===x.type&&!C)){r+=" else { ";var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(A||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",T?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",T?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var S=r;r=h.pop(),!e.compositeRule&&O?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}O&&(r+=" if (errors === ",R?r+="0":r+="errs_"+m,r+=") { ",j+="}")}}}O&&(r+=" "+j+" "),R?(l?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+D+" = errors === errs_"+m+";";function fe(le){for(var ie=le.rules,me=0;me<ie.length;me++)if(Ie(ie[me]))return!0}function Ie(le){return e.schema[le.keyword]!==void 0||le.implements&&Ye(le)}function Ye(le){for(var ie=le.implements,me=0;me<ie.length;me++)if(e.schema[ie[me]]!==void 0)return!0}return r},cr=ca,Er=Je,Ht=ha,Gl=qt,Za=Qt,Jl=Er.ucs2length,Yl=ta,Wl=Ht.Validation,Xl=ra;function ra(a,e,t,s){var r=this,l=this._opts,u=[void 0],i={},$=[],P={},m=[],d={},p=[];e=e||{schema:a,refVal:u,refs:i};var n=Zl.call(this,a,e,s),c=this._compilations[n.index];if(n.compiling)return c.callValidate=b;var g=this._formats,h=this.RULES;try{var S=D(a,e,t,s);c.validate=S;var R=c.callValidate;return R&&(R.schema=S.schema,R.errors=null,R.refs=S.refs,R.refVal=S.refVal,R.root=S.root,R.$async=S.$async,l.sourceCode&&(R.source=S.source)),S}finally{ei.call(this,a,e,s)}function b(){var _=c.validate,w=_.apply(this,arguments);return b.errors=_.errors,w}function D(_,w,N,B){var M=!w||w&&w.schema==_;if(w.schema!=e.schema)return ra.call(r,_,w,N,B);var K=_.$async===!0,q=Za({isTop:!0,schema:_,isRoot:M,baseId:B,root:w,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Ht.MissingRef,RULES:h,validate:Za,util:Er,resolve:cr,resolveRef:O,usePattern:T,useDefault:C,useCustomRule:x,opts:l,formats:g,logger:r.logger,self:r});q=hr(u,ti)+hr($,ri)+hr(m,ai)+hr(p,si)+q,l.processCode&&(q=l.processCode(q,_));var z;try{var se=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",q);z=se(r,h,g,e,u,m,p,Yl,Jl,Wl),u[0]=z}catch(ue){throw r.logger.error("Error compiling schema, function code:",q),ue}return z.schema=_,z.errors=null,z.refs=i,z.refVal=u,z.root=M?z:w,K&&(z.$async=!0),l.sourceCode===!0&&(z.source={code:q,patterns:$,defaults:m}),z}function O(_,w,N){w=cr.url(_,w);var B=i[w],M,K;if(B!==void 0)return M=u[B],K="refVal["+B+"]",F(M,K);if(!N&&e.refs){var q=e.refs[w];if(q!==void 0)return M=e.refVal[q],K=I(w,M),F(M,K)}K=I(w);var z=cr.call(r,D,e,w);if(z===void 0){var se=t&&t[w];se&&(z=cr.inlineRef(se,l.inlineRefs)?se:ra.call(r,se,e,t,_))}if(z===void 0)j(w);else return A(w,z),F(z,K)}function I(_,w){var N=u.length;return u[N]=w,i[_]=N,"refVal"+N}function j(_){delete i[_]}function A(_,w){var N=i[_];u[N]=w}function F(_,w){return typeof _=="object"||typeof _=="boolean"?{code:w,schema:_,inline:!0}:{code:w,$async:_&&!!_.$async}}function T(_){var w=P[_];return w===void 0&&(w=P[_]=$.length,$[w]=_),"pattern"+w}function C(_){switch(typeof _){case"boolean":case"number":return""+_;case"string":return Er.toQuotedString(_);case"object":if(_===null)return"null";var w=Gl(_),N=d[w];return N===void 0&&(N=d[w]=m.length,m[N]=_),"default"+N}}function x(_,w,N,B){if(r._opts.validateSchema!==!1){var M=_.definition.dependencies;if(M&&!M.every(function(pe){return Object.prototype.hasOwnProperty.call(N,pe)}))throw new Error("parent schema must have all required keywords: "+M.join(","));var K=_.definition.validateSchema;if(K){var q=K(w);if(!q){var z="keyword schema is invalid: "+r.errorsText(K.errors);if(r._opts.validateSchema=="log")r.logger.error(z);else throw new Error(z)}}}var se=_.definition.compile,ue=_.definition.inline,ce=_.definition.macro,k;if(se)k=se.call(r,w,N,B);else if(ce)k=ce.call(r,w,N,B),l.validateSchema!==!1&&r.validateSchema(k,!0);else if(ue)k=ue.call(r,B,_.keyword,w,N);else if(k=_.definition.validate,!k)return;if(k===void 0)throw new Error('custom keyword "'+_.keyword+'"failed to compile');var we=p.length;return p[we]=k,{code:"customRule"+we,validate:k}}}function Zl(a,e,t){var s=Bt.call(this,a,e,t);return s>=0?{index:s,compiling:!0}:(s=this._compilations.length,this._compilations[s]={schema:a,root:e,baseId:t},{index:s,compiling:!1})}function ei(a,e,t){var s=Bt.call(this,a,e,t);s>=0&&this._compilations.splice(s,1)}function Bt(a,e,t){for(var s=0;s<this._compilations.length;s++){var r=this._compilations[s];if(r.schema==a&&r.root==e&&r.baseId==t)return s}return-1}function ri(a,e){return"var pattern"+a+" = new RegExp("+Er.toQuotedString(e[a])+");"}function ai(a){return"var default"+a+" = defaults["+a+"];"}function ti(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function si(a){return"var customRule"+a+" = customRules["+a+"];"}function hr(a,e){if(!a.length)return"";for(var t="",s=0;s<a.length;s++)t+=e(s,a);return t}var Kt={exports:{}},Dr=Kt.exports=function(){this._cache={}};Dr.prototype.put=function(e,t){this._cache[e]=t};Dr.prototype.get=function(e){return this._cache[e]};Dr.prototype.del=function(e){delete this._cache[e]};Dr.prototype.clear=function(){this._cache={}};var oi=Je,ni=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,li=[0,31,28,31,30,31,30,31,31,30,31,30,31],ii=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,kt=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,fi=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ui=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Gt=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Jt=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Yt=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Wt=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Xt=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Zt=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,vi=Or;function Or(a){return a=a=="full"?"full":"fast",oi.copy(Or[a])}Or.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Gt,url:Jt,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:kt,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:as,uuid:Yt,"json-pointer":Wt,"json-pointer-uri-fragment":Xt,"relative-json-pointer":Zt};Or.full={date:es,time:rs,"date-time":di,uri:mi,"uri-reference":ui,"uri-template":Gt,url:Jt,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:kt,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:as,uuid:Yt,"json-pointer":Wt,"json-pointer-uri-fragment":Xt,"relative-json-pointer":Zt};function ci(a){return a%4===0&&(a%100!==0||a%400===0)}function es(a){var e=a.match(ni);if(!e)return!1;var t=+e[1],s=+e[2],r=+e[3];return s>=1&&s<=12&&r>=1&&r<=(s==2&&ci(t)?29:li[s])}function rs(a,e){var t=a.match(ii);if(!t)return!1;var s=t[1],r=t[2],l=t[3],u=t[5];return(s<=23&&r<=59&&l<=59||s==23&&r==59&&l==60)&&(!e||u)}var hi=/t|\s/i;function di(a){var e=a.split(hi);return e.length==2&&es(e[0])&&rs(e[1],!0)}var pi=/\/|:/;function mi(a){return pi.test(a)&&fi.test(a)}var gi=/[^\\]\\Z/;function as(a){if(gi.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}var yi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.errSchemaPath+"/"+t,P=!e.opts.allErrors,m="data"+(u||""),d="valid"+l,p,n;if(i=="#"||i=="#/")e.isRoot?(p=e.async,n="validate"):(p=e.root.schema.$async===!0,n="root.refVal[0]");else{var c=e.resolveRef(e.baseId,i,e.isRoot);if(c===void 0){var g=e.MissingRefError.message(e.baseId,i);if(e.opts.missingRefs=="fail"){e.logger.error(g);var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString($)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=h.pop(),!e.compositeRule&&P?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(g),P&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,i,g)}else if(c.inline){var R=e.util.copy(e);R.level++;var b="valid"+R.level;R.schema=c.schema,R.schemaPath="",R.errSchemaPath=i;var D=e.validate(R).replace(/validate\.schema/g,c.code);r+=" "+D+" ",P&&(r+=" if ("+b+") { ")}else p=c.$async===!0||e.async&&c.$async!==!1,n=c.code}if(n){var h=h||[];h.push(r),r="",e.opts.passContext?r+=" "+n+".call(this, ":r+=" "+n+"( ",r+=" "+m+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var O=u?"data"+(u-1||""):"parentData",I=u?e.dataPathArr[u]:"parentDataProperty";r+=" , "+O+" , "+I+", rootData)  ";var j=r;if(r=h.pop(),p){if(!e.async)throw new Error("async schema referenced by sync schema");P&&(r+=" var "+d+"; "),r+=" try { await "+j+"; ",P&&(r+=" "+d+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",P&&(r+=" "+d+" = false; "),r+=" } ",P&&(r+=" if ("+d+") { ")}else r+=" if (!"+j+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",P&&(r+=" else { ")}return r},Pi=function(e,t,s){var r=" ",l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,$=!e.opts.allErrors,P=e.util.copy(e),m="";P.level++;var d="valid"+P.level,p=P.baseId,n=!0,c=l;if(c)for(var g,h=-1,S=c.length-1;h<S;)g=c[h+=1],(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(n=!1,P.schema=g,P.schemaPath=u+"["+h+"]",P.errSchemaPath=i+"/"+h,r+="  "+e.validate(P)+" ",P.baseId=p,$&&(r+=" if ("+d+") { ",m+="}"));return $&&(n?r+=" if (true) { ":r+=" "+m.slice(0,-1)+" "),r},Ei=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n="errs__"+l,c=e.util.copy(e),g="";c.level++;var h="valid"+c.level,S=i.every(function(A){return e.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:e.util.schemaHasRules(A,e.RULES.all)});if(S){var R=c.baseId;r+=" var "+n+" = errors; var "+p+" = false;  ";var b=e.compositeRule;e.compositeRule=c.compositeRule=!0;var D=i;if(D)for(var O,I=-1,j=D.length-1;I<j;)O=D[I+=1],c.schema=O,c.schemaPath=$+"["+I+"]",c.errSchemaPath=P+"/"+I,r+="  "+e.validate(c)+" ",c.baseId=R,r+=" "+p+" = "+p+" || "+h+"; if (!"+p+") { ",g+="}";e.compositeRule=c.compositeRule=b,r+=" "+g+" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else m&&(r+=" if (true) { ");return r},Si=function(e,t,s){var r=" ",l=e.schema[t],u=e.errSchemaPath+"/"+t;e.opts.allErrors;var i=e.util.toQuotedString(l);return e.opts.$comment===!0?r+=" console.log("+i+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+i+", "+e.util.toQuotedString(u)+", validate.root.schema);"),r},$i=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; "),n||(r+=" var schema"+l+" = validate.schema"+$+";"),r+="var "+p+" = equal("+d+", schema"+l+"); if (!"+p+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValue: schema"+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},bi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n="errs__"+l,c=e.util.copy(e),g="";c.level++;var h="valid"+c.level,S="i"+l,R=c.dataLevel=e.dataLevel+1,b="data"+R,D=e.baseId,O=e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all);if(r+="var "+n+" = errors;var "+p+";",O){var I=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=i,c.schemaPath=$,c.errSchemaPath=P,r+=" var "+h+" = false; for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var j=d+"["+S+"]";c.dataPathArr[R]=S;var A=e.validate(c);c.baseId=D,e.util.varOccurences(A,b)<2?r+=" "+e.util.varReplace(A,b,j)+" ":r+=" var "+b+" = "+j+"; "+A+" ",r+=" if ("+h+") break; }  ",e.compositeRule=c.compositeRule=I,r+=" "+g+" if (!"+h+") {"}else r+=" if ("+d+".length == 0) {";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var T=r;return r=F.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+T+"]); ":r+=" validate.errors = ["+T+"]; return false; ":r+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",O&&(r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},wi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="errs__"+l,n=e.util.copy(e),c="";n.level++;var g="valid"+n.level,h={},S={},R=e.opts.ownProperties;for(I in i)if(I!="__proto__"){var b=i[I],D=Array.isArray(b)?S:h;D[I]=b}r+="var "+p+" = errors;";var O=e.errorPath;r+="var missing"+l+";";for(var I in S)if(D=S[I],D.length){if(r+=" if ( "+d+e.util.getProperty(I)+" !== undefined ",R&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),m){r+=" && ( ";var j=D;if(j)for(var A,F=-1,T=j.length-1;F<T;){A=j[F+=1],F&&(r+=" || ");var C=e.util.getProperty(A),x=d+C;r+=" ( ( "+x+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),r+=") && (missing"+l+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:C)+") ) "}r+=")) {  ";var _="missing"+l,w="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,_,!0):O+" + "+_);var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(I)+"', missingProperty: '"+w+"', depsCount: "+D.length+", deps: '"+e.util.escapeQuotes(D.length==1?D[0]:D.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",D.length==1?r+="property "+e.util.escapeQuotes(D[0]):r+="properties "+e.util.escapeQuotes(D.join(", ")),r+=" when property "+e.util.escapeQuotes(I)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var B=r;r=N.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+B+"]); ":r+=" validate.errors = ["+B+"]; return false; ":r+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var M=D;if(M)for(var A,K=-1,q=M.length-1;K<q;){A=M[K+=1];var C=e.util.getProperty(A),w=e.util.escapeQuotes(A),x=d+C;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,A,e.opts.jsonPointers)),r+=" if ( "+x+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(A)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(I)+"', missingProperty: '"+w+"', depsCount: "+D.length+", deps: '"+e.util.escapeQuotes(D.length==1?D[0]:D.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",D.length==1?r+="property "+e.util.escapeQuotes(D[0]):r+="properties "+e.util.escapeQuotes(D.join(", ")),r+=" when property "+e.util.escapeQuotes(I)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",m&&(c+="}",r+=" else { ")}e.errorPath=O;var z=n.baseId;for(var I in h){var b=h[I];(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all))&&(r+=" "+g+" = true; if ( "+d+e.util.getProperty(I)+" !== undefined ",R&&(r+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(I)+"') "),r+=") { ",n.schema=b,n.schemaPath=$+e.util.getProperty(I),n.errSchemaPath=P+"/"+e.util.escapeFragment(I),r+="  "+e.validate(n)+" ",n.baseId=z,r+=" }  ",m&&(r+=" if ("+g+") { ",c+="}"))}return m&&(r+="   "+c+" if ("+p+" == errors) {"),r},_i=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ");var c="i"+l,g="schema"+l;n||(r+=" var "+g+" = validate.schema"+$+";"),r+="var "+p+";",n&&(r+=" if (schema"+l+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+l+")) "+p+" = false; else {"),r+=""+p+" = false;for (var "+c+"=0; "+c+"<"+g+".length; "+c+"++) if (equal("+d+", "+g+"["+c+"])) { "+p+" = true; break; }",n&&(r+="  }  "),r+=" if (!"+p+") {   ";var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValues: schema"+l+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=h.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},Di=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||"");if(e.opts.format===!1)return m&&(r+=" if (true) { "),r;var p=e.opts.$data&&i&&i.$data,n;p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i;var c=e.opts.unknownFormats,g=Array.isArray(c);if(p){var h="format"+l,S="isObject"+l,R="formatType"+l;r+=" var "+h+" = formats["+n+"]; var "+S+" = typeof "+h+" == 'object' && !("+h+" instanceof RegExp) && "+h+".validate; var "+R+" = "+S+" && "+h+".type || 'string'; if ("+S+") { ",e.async&&(r+=" var async"+l+" = "+h+".async; "),r+=" "+h+" = "+h+".validate; } if (  ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" (",c!="ignore"&&(r+=" ("+n+" && !"+h+" ",g&&(r+=" && self._opts.unknownFormats.indexOf("+n+") == -1 "),r+=") || "),r+=" ("+h+" && "+R+" == '"+s+"' && !(typeof "+h+" == 'function' ? ",e.async?r+=" (async"+l+" ? await "+h+"("+d+") : "+h+"("+d+")) ":r+=" "+h+"("+d+") ",r+=" : "+h+".test("+d+"))))) {"}else{var h=e.formats[i];if(!h){if(c=="ignore")return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),m&&(r+=" if (true) { "),r;if(g&&c.indexOf(i)>=0)return m&&(r+=" if (true) { "),r;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var S=typeof h=="object"&&!(h instanceof RegExp)&&h.validate,R=S&&h.type||"string";if(S){var b=h.async===!0;h=h.validate}if(R!=s)return m&&(r+=" if (true) { "),r;if(b){if(!e.async)throw new Error("async format in sync schema");var D="formats"+e.util.getProperty(i)+".validate";r+=" if (!(await "+D+"("+d+"))) { "}else{r+=" if (! ";var D="formats"+e.util.getProperty(i);S&&(D+=".validate"),typeof h=="function"?r+=" "+D+"("+d+") ":r+=" "+D+".test("+d+") ",r+=") { "}}var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { format:  ",p?r+=""+n:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,p?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var I=r;return r=O.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},Oi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n="errs__"+l,c=e.util.copy(e);c.level++;var g="valid"+c.level,h=e.schema.then,S=e.schema.else,R=h!==void 0&&(e.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:e.util.schemaHasRules(h,e.RULES.all)),b=S!==void 0&&(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all)),D=c.baseId;if(R||b){var O;c.createErrors=!1,c.schema=i,c.schemaPath=$,c.errSchemaPath=P,r+=" var "+n+" = errors; var "+p+" = true;  ";var I=e.compositeRule;e.compositeRule=c.compositeRule=!0,r+="  "+e.validate(c)+" ",c.baseId=D,c.createErrors=!0,r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }  ",e.compositeRule=c.compositeRule=I,R?(r+=" if ("+g+") {  ",c.schema=e.schema.then,c.schemaPath=e.schemaPath+".then",c.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(c)+" ",c.baseId=D,r+=" "+p+" = "+g+"; ",R&&b?(O="ifClause"+l,r+=" var "+O+" = 'then'; "):O="'then'",r+=" } ",b&&(r+=" else { ")):r+=" if (!"+g+") { ",b&&(c.schema=e.schema.else,c.schemaPath=e.schemaPath+".else",c.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(c)+" ",c.baseId=D,r+=" "+p+" = "+g+"; ",R&&b?(O="ifClause"+l,r+=" var "+O+" = 'else'; "):O="'else'",r+=" } "),r+=" if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { failingKeyword: "+O+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+O+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},Ri=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n="errs__"+l,c=e.util.copy(e),g="";c.level++;var h="valid"+c.level,S="i"+l,R=c.dataLevel=e.dataLevel+1,b="data"+R,D=e.baseId;if(r+="var "+n+" = errors;var "+p+";",Array.isArray(i)){var O=e.schema.additionalItems;if(O===!1){r+=" "+p+" = "+d+".length <= "+i.length+"; ";var I=P;P=e.errSchemaPath+"/additionalItems",r+="  if (!"+p+") {   ";var j=j||[];j.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+i.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var A=r;r=j.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",P=I,m&&(g+="}",r+=" else { ")}var F=i;if(F){for(var T,C=-1,x=F.length-1;C<x;)if(T=F[C+=1],e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all)){r+=" "+h+" = true; if ("+d+".length > "+C+") { ";var _=d+"["+C+"]";c.schema=T,c.schemaPath=$+"["+C+"]",c.errSchemaPath=P+"/"+C,c.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),c.dataPathArr[R]=C;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,_)+" ":r+=" var "+b+" = "+_+"; "+w+" ",r+=" }  ",m&&(r+=" if ("+h+") { ",g+="}")}}if(typeof O=="object"&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all))){c.schema=O,c.schemaPath=e.schemaPath+".additionalItems",c.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+h+" = true; if ("+d+".length > "+i.length+") {  for (var "+S+" = "+i.length+"; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var _=d+"["+S+"]";c.dataPathArr[R]=S;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,_)+" ":r+=" var "+b+" = "+_+"; "+w+" ",m&&(r+=" if (!"+h+") break; "),r+=" } }  ",m&&(r+=" if ("+h+") { ",g+="}")}}else if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){c.schema=i,c.schemaPath=$,c.errSchemaPath=P,r+="  for (var "+S+" = "+0+"; "+S+" < "+d+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var _=d+"["+S+"]";c.dataPathArr[R]=S;var w=e.validate(c);c.baseId=D,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,_)+" ":r+=" var "+b+" = "+_+"; "+w+" ",m&&(r+=" if (!"+h+") break; "),r+=" }"}return m&&(r+=" "+g+" if ("+n+" == errors) {"),r},et=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,D,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i;var c=t=="maximum",g=c?"exclusiveMaximum":"exclusiveMinimum",h=e.schema[g],S=e.opts.$data&&h&&h.$data,R=c?"<":">",b=c?">":"<",D=void 0;if(!(p||typeof i=="number"||i===void 0))throw new Error(t+" must be number");if(!(S||h===void 0||typeof h=="number"||typeof h=="boolean"))throw new Error(g+" must be number or boolean");if(S){var O=e.util.getData(h.$data,u,e.dataPathArr),I="exclusive"+l,j="exclType"+l,A="exclIsNumber"+l,F="op"+l,T="' + "+F+" + '";r+=" var schemaExcl"+l+" = "+O+"; ",O="schemaExcl"+l,r+=" var "+I+"; var "+j+" = typeof "+O+"; if ("+j+" != 'boolean' && "+j+" != 'undefined' && "+j+" != 'number') { ";var D=g,C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(D||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+j+" == 'number' ? ( ("+I+" = "+n+" === undefined || "+O+" "+R+"= "+n+") ? "+d+" "+b+"= "+O+" : "+d+" "+b+" "+n+" ) : ( ("+I+" = "+O+" === true) ? "+d+" "+b+"= "+n+" : "+d+" "+b+" "+n+" ) || "+d+" !== "+d+") { var op"+l+" = "+I+" ? '"+R+"' : '"+R+"='; ",i===void 0&&(D=g,P=e.errSchemaPath+"/"+g,n=O,p=S)}else{var A=typeof h=="number",T=R;if(A&&p){var F="'"+T+"'";r+=" if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" ( "+n+" === undefined || "+h+" "+R+"= "+n+" ? "+d+" "+b+"= "+h+" : "+d+" "+b+" "+n+" ) || "+d+" !== "+d+") { "}else{A&&i===void 0?(I=!0,D=g,P=e.errSchemaPath+"/"+g,n=h,b+="="):(A&&(n=Math[c?"min":"max"](h,i)),h===(A?n:!0)?(I=!0,D=g,P=e.errSchemaPath+"/"+g,b+="="):(I=!1,T+="="));var F="'"+T+"'";r+=" if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+d+" "+b+" "+n+" || "+d+" !== "+d+") { "}}D=D||t;var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(D||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { comparison: "+F+", limit: "+n+", exclusive: "+I+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+T+" ",p?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;return r=C.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},rt=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,g,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;if(p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i,!(p||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxItems"?">":"<";r+="if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+d+".length "+c+" "+n+") { ";var g=t,h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+n+" + '":r+=""+i,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=h.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},at=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,g,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;if(p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i,!(p||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxLength"?">":"<";r+="if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),e.opts.unicode===!1?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+c+" "+n+") { ";var g=t,h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",p?r+="' + "+n+" + '":r+=""+i,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=h.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},tt=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,g,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;if(p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i,!(p||typeof i=="number"))throw new Error(t+" must be number");var c=t=="maxProperties"?">":"<";r+="if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" Object.keys("+d+").length "+c+" "+n+") { ";var g=t,h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",p?r+="' + "+n+" + '":r+=""+i,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var S=r;return r=h.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},Ii=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;if(p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i,!(p||typeof i=="number"))throw new Error(t+" must be number");r+="var division"+l+";if (",p&&(r+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),r+=" (division"+l+" = "+d+" / "+n+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+l+") - division"+l+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+l+" !== parseInt(division"+l+") ",r+=" ) ",p&&(r+="  )  "),r+=" ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { multipleOf: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",p?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},Fi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="errs__"+l,n=e.util.copy(e);n.level++;var c="valid"+n.level;if(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){n.schema=i,n.schemaPath=$,n.errSchemaPath=P,r+=" var "+p+" = errors;  ";var g=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.createErrors=!1;var h;n.opts.allErrors&&(h=n.opts.allErrors,n.opts.allErrors=!1),r+=" "+e.validate(n)+" ",n.createErrors=!0,h&&(n.opts.allErrors=h),e.compositeRule=n.compositeRule=g,r+=" if ("+c+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var R=r;r=S.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(r+=" if (false) { ");return r},Ai=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n="errs__"+l,c=e.util.copy(e),g="";c.level++;var h="valid"+c.level,S=c.baseId,R="prevValid"+l,b="passingSchemas"+l;r+="var "+n+" = errors , "+R+" = false , "+p+" = false , "+b+" = null; ";var D=e.compositeRule;e.compositeRule=c.compositeRule=!0;var O=i;if(O)for(var I,j=-1,A=O.length-1;j<A;)I=O[j+=1],(e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all))?(c.schema=I,c.schemaPath=$+"["+j+"]",c.errSchemaPath=P+"/"+j,r+="  "+e.validate(c)+" ",c.baseId=S):r+=" var "+h+" = true; ",j&&(r+=" if ("+h+" && "+R+") { "+p+" = false; "+b+" = ["+b+", "+j+"]; } else { ",g+="}"),r+=" if ("+h+") { "+p+" = "+R+" = true; "+b+" = "+j+"; }";return e.compositeRule=c.compositeRule=D,r+=""+g+"if (!"+p+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { passingSchemas: "+b+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},xi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p=e.opts.$data&&i&&i.$data,n;p?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",n="schema"+l):n=i;var c=p?"(new RegExp("+n+"))":e.usePattern(i);r+="if ( ",p&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" !"+c+".test("+d+") ) {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { pattern:  ",p?r+=""+n:r+=""+e.util.toQuotedString(i),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,p?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(i),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",p?r+="validate.schema"+$:r+=""+e.util.toQuotedString(i),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var h=r;return r=g.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+h+"]); ":r+=" validate.errors = ["+h+"]; return false; ":r+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},ji=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="errs__"+l,n=e.util.copy(e),c="";n.level++;var g="valid"+n.level,h="key"+l,S="idx"+l,R=n.dataLevel=e.dataLevel+1,b="data"+R,D="dataProperties"+l,O=Object.keys(i||{}).filter(K),I=e.schema.patternProperties||{},j=Object.keys(I).filter(K),A=e.schema.additionalProperties,F=O.length||j.length,T=A===!1,C=typeof A=="object"&&Object.keys(A).length,x=e.opts.removeAdditional,_=T||C||x,w=e.opts.ownProperties,N=e.baseId,B=e.schema.required;if(B&&!(e.opts.$data&&B.$data)&&B.length<e.opts.loopRequired)var M=e.util.toHash(B);function K(Fr){return Fr!=="__proto__"}if(r+="var "+p+" = errors;var "+g+" = true;",w&&(r+=" var "+D+" = undefined;"),_){if(w?r+=" "+D+" = "+D+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+D+".length; "+S+"++) { var "+h+" = "+D+"["+S+"]; ":r+=" for (var "+h+" in "+d+") { ",F){if(r+=" var isAdditional"+l+" = !(false ",O.length)if(O.length>8)r+=" || validate.schema"+$+".hasOwnProperty("+h+") ";else{var q=O;if(q)for(var z,se=-1,ue=q.length-1;se<ue;)z=q[se+=1],r+=" || "+h+" == "+e.util.toQuotedString(z)+" "}if(j.length){var ce=j;if(ce)for(var k,we=-1,pe=ce.length-1;we<pe;)k=ce[we+=1],r+=" || "+e.usePattern(k)+".test("+h+") "}r+=" ); if (isAdditional"+l+") { "}if(x=="all")r+=" delete "+d+"["+h+"]; ";else{var re=e.errorPath,de="' + "+h+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers)),T)if(x)r+=" delete "+d+"["+h+"]; ";else{r+=" "+g+" = false; ";var ge=P;P=e.errSchemaPath+"/additionalProperties";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { additionalProperty: '"+de+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var X=r;r=oe.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+X+"]); ":r+=" validate.errors = ["+X+"]; return false; ":r+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,m&&(r+=" break; ")}else if(C)if(x=="failing"){r+=" var "+p+" = errors;  ";var _e=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.schema=A,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);var ve=d+"["+h+"]";n.dataPathArr[R]=h;var Z=e.validate(n);n.baseId=N,e.util.varOccurences(Z,b)<2?r+=" "+e.util.varReplace(Z,b,ve)+" ":r+=" var "+b+" = "+ve+"; "+Z+" ",r+=" if (!"+g+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+h+"]; }  ",e.compositeRule=n.compositeRule=_e}else{n.schema=A,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);var ve=d+"["+h+"]";n.dataPathArr[R]=h;var Z=e.validate(n);n.baseId=N,e.util.varOccurences(Z,b)<2?r+=" "+e.util.varReplace(Z,b,ve)+" ":r+=" var "+b+" = "+ve+"; "+Z+" ",m&&(r+=" if (!"+g+") break; ")}e.errorPath=re}F&&(r+=" } "),r+=" }  ",m&&(r+=" if ("+g+") { ",c+="}")}var Re=e.opts.useDefaults&&!e.compositeRule;if(O.length){var he=O;if(he)for(var z,Qe=-1,Ce=he.length-1;Qe<Ce;){z=he[Qe+=1];var fe=i[z];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){var Ie=e.util.getProperty(z),ve=d+Ie,Ye=Re&&fe.default!==void 0;n.schema=fe,n.schemaPath=$+Ie,n.errSchemaPath=P+"/"+e.util.escapeFragment(z),n.errorPath=e.util.getPath(e.errorPath,z,e.opts.jsonPointers),n.dataPathArr[R]=e.util.toQuotedString(z);var Z=e.validate(n);if(n.baseId=N,e.util.varOccurences(Z,b)<2){Z=e.util.varReplace(Z,b,ve);var le=ve}else{var le=b;r+=" var "+b+" = "+ve+"; "}if(Ye)r+=" "+Z+" ";else{if(M&&M[z]){r+=" if ( "+le+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),r+=") { "+g+" = false; ";var re=e.errorPath,ge=P,ie=e.util.escapeQuotes(z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(re,z,e.opts.jsonPointers)),P=e.errSchemaPath+"/required";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+ie+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+ie+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var X=r;r=oe.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+X+"]); ":r+=" validate.errors = ["+X+"]; return false; ":r+=" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,e.errorPath=re,r+=" } else { "}else m?(r+=" if ( "+le+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),r+=") { "+g+" = true; } else { "):(r+=" if ("+le+" !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(z)+"') "),r+=" ) { ");r+=" "+Z+" } "}}m&&(r+=" if ("+g+") { ",c+="}")}}if(j.length){var me=j;if(me)for(var k,sr=-1,Ir=me.length-1;sr<Ir;){k=me[sr+=1];var fe=I[k];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){n.schema=fe,n.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(k),n.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(k),w?r+=" "+D+" = "+D+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+D+".length; "+S+"++) { var "+h+" = "+D+"["+S+"]; ":r+=" for (var "+h+" in "+d+") { ",r+=" if ("+e.usePattern(k)+".test("+h+")) { ",n.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);var ve=d+"["+h+"]";n.dataPathArr[R]=h;var Z=e.validate(n);n.baseId=N,e.util.varOccurences(Z,b)<2?r+=" "+e.util.varReplace(Z,b,ve)+" ":r+=" var "+b+" = "+ve+"; "+Z+" ",m&&(r+=" if (!"+g+") break; "),r+=" } ",m&&(r+=" else "+g+" = true; "),r+=" }  ",m&&(r+=" if ("+g+") { ",c+="}")}}}return m&&(r+=" "+c+" if ("+p+" == errors) {"),r},Ti=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="errs__"+l,n=e.util.copy(e),c="";n.level++;var g="valid"+n.level;if(r+="var "+p+" = errors;",e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)){n.schema=i,n.schemaPath=$,n.errSchemaPath=P;var h="key"+l,S="idx"+l,R="i"+l,b="' + "+h+" + '",D=n.dataLevel=e.dataLevel+1,O="data"+D,I="dataProperties"+l,j=e.opts.ownProperties,A=e.baseId;j&&(r+=" var "+I+" = undefined; "),j?r+=" "+I+" = "+I+" || Object.keys("+d+"); for (var "+S+"=0; "+S+"<"+I+".length; "+S+"++) { var "+h+" = "+I+"["+S+"]; ":r+=" for (var "+h+" in "+d+") { ",r+=" var startErrs"+l+" = errors; ";var F=h,T=e.compositeRule;e.compositeRule=n.compositeRule=!0;var C=e.validate(n);n.baseId=A,e.util.varOccurences(C,O)<2?r+=" "+e.util.varReplace(C,O,F)+" ":r+=" var "+O+" = "+F+"; "+C+" ",e.compositeRule=n.compositeRule=T,r+=" if (!"+g+") { for (var "+R+"=startErrs"+l+"; "+R+"<errors; "+R+"++) { vErrors["+R+"].propertyName = "+h+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { propertyName: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),m&&(r+=" break; "),r+=" } }"}return m&&(r+=" "+c+" if ("+p+" == errors) {"),r},Ci=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n=e.opts.$data&&i&&i.$data;n&&(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ");var c="schema"+l;if(!n)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],h=i;if(h)for(var S,R=-1,b=h.length-1;R<b;){S=h[R+=1];var D=e.schema.properties[S];D&&(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all))||(g[g.length]=S)}}else var g=i;if(n||g.length){var O=e.errorPath,I=n||g.length>=e.opts.loopRequired,j=e.opts.ownProperties;if(m)if(r+=" var missing"+l+"; ",I){n||(r+=" var "+c+" = validate.schema"+$+"; ");var A="i"+l,F="schema"+l+"["+A+"]",T="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,F,e.opts.jsonPointers)),r+=" var "+p+" = true; ",n&&(r+=" if (schema"+l+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+l+")) "+p+" = false; else {"),r+=" for (var "+A+" = 0; "+A+" < "+c+".length; "+A+"++) { "+p+" = "+d+"["+c+"["+A+"]] !== undefined ",j&&(r+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+c+"["+A+"]) "),r+="; if (!"+p+") break; } ",n&&(r+="  }  "),r+="  if (!"+p+") {   ";var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+T+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+T+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var _=g;if(_)for(var w,A=-1,N=_.length-1;A<N;){w=_[A+=1],A&&(r+=" || ");var B=e.util.getProperty(w),M=d+B;r+=" ( ( "+M+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),r+=") && (missing"+l+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:B)+") ) "}r+=") {  ";var F="missing"+l,T="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(O,F,!0):O+" + "+F);var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+T+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+T+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var x=r;r=C.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(I){n||(r+=" var "+c+" = validate.schema"+$+"; ");var A="i"+l,F="schema"+l+"["+A+"]",T="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(O,F,e.opts.jsonPointers)),n&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+T+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+T+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+A+" = 0; "+A+" < "+c+".length; "+A+"++) { if ("+d+"["+c+"["+A+"]] === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+c+"["+A+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+T+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+T+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",n&&(r+="  }  ")}else{var K=g;if(K)for(var w,q=-1,z=K.length-1;q<z;){w=K[q+=1];var B=e.util.getProperty(w),T=e.util.escapeQuotes(w),M=d+B;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(O,w,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(w)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+T+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+T+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=O}else m&&(r+=" if (true) {");return r},Li=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d="data"+(u||""),p="valid"+l,n=e.opts.$data&&i&&i.$data,c;if(n?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",c="schema"+l):c=i,(i||n)&&e.opts.uniqueItems!==!1){n&&(r+=" var "+p+"; if ("+c+" === false || "+c+" === undefined) "+p+" = true; else if (typeof "+c+" != 'boolean') "+p+" = false; else { "),r+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var g=e.schema.items&&e.schema.items.type,h=Array.isArray(g);if(!g||g=="object"||g=="array"||h&&(g.indexOf("object")>=0||g.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var S="checkDataType"+(h?"s":"");r+=" if ("+e.util[S](g,"item",e.opts.strictNumbers,!0)+") continue; ",h&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",n&&(r+="  }  "),r+=" if (!"+p+") {   ";var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",n?r+="validate.schema"+$:r+=""+i,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var b=r;r=R.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},Ni={$ref:yi,allOf:Pi,anyOf:Ei,$comment:Si,const:$i,contains:bi,dependencies:wi,enum:_i,format:Di,if:Oi,items:Ri,maximum:et,minimum:et,maxItems:rt,minItems:rt,maxLength:at,minLength:at,maxProperties:tt,minProperties:tt,multipleOf:Ii,not:Fi,oneOf:Ai,pattern:xi,properties:ji,propertyNames:Ti,required:Ci,uniqueItems:Li,validate:Qt},st=Ni,Hr=Je.toHash,Ui=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],s=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Hr(t),e.types=Hr(r),e.forEach(function(l){l.rules=l.rules.map(function(u){var i;if(typeof u=="object"){var $=Object.keys(u)[0];i=u[$],u=$,i.forEach(function(m){t.push(m),e.all[m]=!0})}t.push(u);var P=e.all[u]={keyword:u,code:st[u],implements:i};return P}),e.all.$comment={keyword:"$comment",code:st.$comment},l.type&&(e.types[l.type]=l)}),e.keywords=Hr(t.concat(s)),e.custom={},e},ot=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],zi=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var s=e[t].split("/"),r=a,l;for(l=1;l<s.length;l++)r=r[s[l]];for(l=0;l<ot.length;l++){var u=ot[l],i=r[u];i&&(r[u]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a},Vi=ha.MissingRef,Mi=ts;function ts(a,e,t){var s=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=l(a).then(function(){var i=s._addSchema(a,void 0,e);return i.validate||u(i)});return t&&r.then(function(i){t(null,i)},t),r;function l(i){var $=i.$schema;return $&&!s.getSchema($)?ts.call(s,{$ref:$},!0):Promise.resolve()}function u(i){try{return s._compile(i)}catch(P){if(P instanceof Vi)return $(P);throw P}function $(P){var m=P.missingSchema;if(n(m))throw new Error("Schema "+m+" is loaded but "+P.missingRef+" cannot be resolved");var d=s._loadingSchemas[m];return d||(d=s._loadingSchemas[m]=s._opts.loadSchema(m),d.then(p,p)),d.then(function(c){if(!n(m))return l(c).then(function(){n(m)||s.addSchema(c,m,void 0,e)})}).then(function(){return u(i)});function p(){delete s._loadingSchemas[m]}function n(c){return s._refs[c]||s._schemas[c]}}}}var qi=function(e,t,s){var r=" ",l=e.level,u=e.dataLevel,i=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,d,p="data"+(u||""),n="valid"+l,c="errs__"+l,g=e.opts.$data&&i&&i.$data,h;g?(r+=" var schema"+l+" = "+e.util.getData(i.$data,u,e.dataPathArr)+"; ",h="schema"+l):h=i;var S=this,R="definition"+l,b=S.definition,D="",O,I,j,A,F;if(g&&b.$data){F="keywordValidate"+l;var T=b.validateSchema;r+=" var "+R+" = RULES.custom['"+t+"'].definition; var "+F+" = "+R+".validate;"}else{if(A=e.useCustomRule(S,i,e.schema,e),!A)return;h="validate.schema"+$,F=A.code,O=b.compile,I=b.inline,j=b.macro}var C=F+".errors",x="i"+l,_="ruleErr"+l,w=b.async;if(w&&!e.async)throw new Error("async keyword in sync schema");if(I||j||(r+=""+C+" = null;"),r+="var "+c+" = errors;var "+n+";",g&&b.$data&&(D+="}",r+=" if ("+h+" === undefined) { "+n+" = true; } else { ",T&&(D+="}",r+=" "+n+" = "+R+".validateSchema("+h+"); if ("+n+") { ")),I)b.statements?r+=" "+A.validate+" ":r+=" "+n+" = "+A.validate+"; ";else if(j){var N=e.util.copy(e),D="";N.level++;var B="valid"+N.level;N.schema=A.validate,N.schemaPath="";var M=e.compositeRule;e.compositeRule=N.compositeRule=!0;var K=e.validate(N).replace(/validate\.schema/g,F);e.compositeRule=N.compositeRule=M,r+=" "+K}else{var q=q||[];q.push(r),r="",r+="  "+F+".call( ",e.opts.passContext?r+="this":r+="self",O||b.schema===!1?r+=" , "+p+" ":r+=" , "+h+" , "+p+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var z=u?"data"+(u-1||""):"parentData",se=u?e.dataPathArr[u]:"parentDataProperty";r+=" , "+z+" , "+se+" , rootData )  ";var ue=r;r=q.pop(),b.errors===!1?(r+=" "+n+" = ",w&&(r+="await "),r+=""+ue+"; "):w?(C="customErrors"+l,r+=" var "+C+" = null; try { "+n+" = await "+ue+"; } catch (e) { "+n+" = false; if (e instanceof ValidationError) "+C+" = e.errors; else throw e; } "):r+=" "+C+" = null; "+n+" = "+ue+"; "}if(b.modifying&&(r+=" if ("+z+") "+p+" = "+z+"["+se+"];"),r+=""+D,b.valid)m&&(r+=" if (true) { ");else{r+=" if ( ",b.valid===void 0?(r+=" !",j?r+=""+B:r+=""+n):r+=" "+!b.valid+" ",r+=") { ",d=S.keyword;var q=q||[];q.push(r),r="";var q=q||[];q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var ce=r;r=q.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var k=r;r=q.pop(),I?b.errors?b.errors!="full"&&(r+="  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+_+" = vErrors["+x+"]; if ("+_+".dataPath === undefined) "+_+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+_+".schemaPath === undefined) { "+_+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+_+".schema = "+h+"; "+_+".data = "+p+"; "),r+=" } "):b.errors===!1?r+=" "+k+" ":(r+=" if ("+c+" == errors) { "+k+" } else {  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+_+" = vErrors["+x+"]; if ("+_+".dataPath === undefined) "+_+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+_+".schemaPath === undefined) { "+_+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+_+".schema = "+h+"; "+_+".data = "+p+"; "),r+=" } } "):j?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):b.errors===!1?r+=" "+k+" ":(r+=" if (Array.isArray("+C+")) { if (vErrors === null) vErrors = "+C+"; else vErrors = vErrors.concat("+C+"); errors = vErrors.length;  for (var "+x+"="+c+"; "+x+"<errors; "+x+"++) { var "+_+" = vErrors["+x+"]; if ("+_+".dataPath === undefined) "+_+".dataPath = (dataPath || '') + "+e.errorPath+";  "+_+'.schemaPath = "'+P+'";  ',e.opts.verbose&&(r+=" "+_+".schema = "+h+"; "+_+".data = "+p+"; "),r+=" } } else { "+k+" } "),r+=" } ",m&&(r+=" else { ")}return r};const Qi="http://json-schema.org/draft-07/schema#",Hi="http://json-schema.org/draft-07/schema#",Bi="Core schema meta-schema",Ki={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ki=["object","boolean"],Gi={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ss={$schema:Qi,$id:Hi,title:Bi,definitions:Ki,type:ki,properties:Gi,default:!0};var nt=ss,Ji={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:nt.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:nt.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Yi=/^[a-z_$][a-z0-9_$-]*$/i,Wi=qi,Xi=Ji,Zi={add:ef,get:rf,remove:af,validate:aa};function ef(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!Yi.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var s=e.type;if(Array.isArray(s))for(var r=0;r<s.length;r++)u(a,s[r],e);else u(a,s,e);var l=e.metaSchema;l&&(e.$data&&this._opts.$data&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(l,!0))}t.keywords[a]=t.all[a]=!0;function u(i,$,P){for(var m,d=0;d<t.length;d++){var p=t[d];if(p.type==$){m=p;break}}m||(m={type:$,rules:[]},t.push(m));var n={keyword:i,definition:P,custom:!0,code:Wi,implements:P.implements};m.rules.push(n),t.custom[i]=n}return this}function rf(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function af(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var s=e[t].rules,r=0;r<s.length;r++)if(s[r].keyword==a){s.splice(r,1);break}return this}function aa(a,e){aa.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(Xi,!0);if(t(a))return!0;if(aa.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const tf="http://json-schema.org/draft-07/schema#",sf="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",of="Meta-schema for $data reference (JSON Schema extension proposal)",nf="object",lf=["$data"],ff={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},uf=!1,vf={$schema:tf,$id:sf,description:of,type:nf,required:lf,properties:ff,additionalProperties:uf};var os=Xl,ze=ca,cf=Kt.exports,ns=Ut,hf=qt,df=vi,pf=Ui,ls=zi,is=Je,Hf=ee;ee.prototype.validate=gf;ee.prototype.compile=yf;ee.prototype.addSchema=Pf;ee.prototype.addMetaSchema=Ef;ee.prototype.validateSchema=Sf;ee.prototype.getSchema=bf;ee.prototype.removeSchema=_f;ee.prototype.addFormat=jf;ee.prototype.errorsText=xf;ee.prototype._addSchema=Df;ee.prototype._compile=Of;ee.prototype.compileAsync=Mi;var Rr=Zi;ee.prototype.addKeyword=Rr.add;ee.prototype.getKeyword=Rr.get;ee.prototype.removeKeyword=Rr.remove;ee.prototype.validateKeyword=Rr.validate;var fs=ha;ee.ValidationError=fs.Validation;ee.MissingRefError=fs.MissingRef;ee.$dataMetaSchema=ls;var Sr="http://json-schema.org/draft-07/schema",lt=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],mf=["/properties"];function ee(a){if(!(this instanceof ee))return new ee(a);a=this._opts=is.copy(a)||{},zf(this),this._schemas={},this._refs={},this._fragments={},this._formats=df(a.format),this._cache=a.cache||new cf,this._loadingSchemas={},this._compilations=[],this.RULES=pf(),this._getId=Rf(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=hf),this._metaOpts=Uf(this),a.formats&&Lf(this),a.keywords&&Nf(this),Tf(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),Cf(this)}function gf(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var s=this._addSchema(a);t=s.validate||this._compile(s)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function yf(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function Pf(a,e,t,s){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,s);return this}var l=this._getId(a);if(l!==void 0&&typeof l!="string")throw new Error("schema id must be string");return e=ze.normalizeId(e||l),vs(this,e),this._schemas[e]=this._addSchema(a,t,s,!0),this}function Ef(a,e,t){return this.addSchema(a,e,t,!0),this}function Sf(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||$f(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var s=this.validate(t,a);if(!s&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return s}function $f(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(Sr)?Sr:void 0,a._opts.defaultMeta}function bf(a){var e=us(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return wf(this,a)}}function wf(a,e){var t=ze.schema.call(a,{schema:{}},e);if(t){var s=t.schema,r=t.root,l=t.baseId,u=os.call(a,s,r,void 0,l);return a._fragments[e]=new ns({ref:e,fragment:!0,schema:s,root:r,baseId:l,validate:u}),u}}function us(a,e){return e=ze.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function _f(a){if(a instanceof RegExp)return dr(this,this._schemas,a),dr(this,this._refs,a),this;switch(typeof a){case"undefined":return dr(this,this._schemas),dr(this,this._refs),this._cache.clear(),this;case"string":var e=us(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,s=t?t(a):a;this._cache.del(s);var r=this._getId(a);r&&(r=ze.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function dr(a,e,t){for(var s in e){var r=e[s];!r.meta&&(!t||t.test(s))&&(a._cache.del(r.cacheKey),delete e[s])}}function Df(a,e,t,s){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,l=r?r(a):a,u=this._cache.get(l);if(u)return u;s=s||this._opts.addUsedSchema!==!1;var i=ze.normalizeId(this._getId(a));i&&s&&vs(this,i);var $=this._opts.validateSchema!==!1&&!e,P;$&&!(P=i&&i==ze.normalizeId(a.$schema))&&this.validateSchema(a,!0);var m=ze.ids.call(this,a),d=new ns({id:i,schema:a,localRefs:m,cacheKey:l,meta:t});return i[0]!="#"&&s&&(this._refs[i]=d),this._cache.put(l,d),$&&P&&this.validateSchema(a,!0),d}function Of(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var s;try{s=os.call(this,a.schema,e,a.localRefs)}catch(l){throw delete a.validate,l}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=s,a.refs=s.refs,a.refVal=s.refVal,a.root=s.root,s;function r(){var l=a.validate,u=l.apply(this,arguments);return r.errors=l.errors,u}}function Rf(a){switch(a.schemaId){case"auto":return Af;case"id":return If;default:return Ff}}function If(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Ff(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function Af(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function xf(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,s=e.dataVar===void 0?"data":e.dataVar,r="",l=0;l<a.length;l++){var u=a[l];u&&(r+=s+u.dataPath+" "+u.message+t)}return r.slice(0,-t.length)}function jf(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function Tf(a){var e;if(a._opts.$data&&(e=vf,a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=ss;a._opts.$data&&(t=ls(t,mf)),a.addMetaSchema(t,Sr,!0),a._refs["http://json-schema.org/schema"]=Sr}}function Cf(a){var e=a._opts.schemas;if(!!e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function Lf(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function Nf(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function vs(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Uf(a){for(var e=is.copy(a._opts),t=0;t<lt.length;t++)delete e[lt[t]];return e}function zf(a){var e=a._opts.logger;if(e===!1)a.logger={log:Br,warn:Br,error:Br};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function Br(){}export{Hf as a,Mf as f,qf as i,Qf as n};
