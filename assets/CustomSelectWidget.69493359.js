import{L as Y,M as F,a5 as q,j as U,O as z,R as G,a6 as H,U as J,a7 as Q}from"./iframe.ff4ba921.js";import{a as X,b as Z,i as ee}from"./index.browser.b6f8f8d7.js";import{r as y,j as T}from"./jsx-runtime.05444945.js";import{c as I,v as te,_ as B,g as oe,a as ne,u as ae,S as re,b as ie}from"./Select-54ac8379.esm.f96f27a9.js";import{d as w}from"./toConsumableArray.c4898ee4.js";import{b as se}from"./withStyles.2a0b3149.js";import"./index.849f5f8d.js";var le=Y,ce=F,pe=q,ue=U,de=z,fe=G.exports,ge=H,me=J,Oe="[object Map]",Ce="[object Set]",_e=Object.prototype,be=_e.hasOwnProperty;function ye(e){if(e==null)return!0;if(de(e)&&(ue(e)||typeof e=="string"||typeof e.splice=="function"||fe(e)||me(e)||pe(e)))return!e.length;var t=ce(e);if(t==Oe||t==Ce)return!e.size;if(ge(e))return!le(e).length;for(var n in e)if(be.call(e,n))return!1;return!0}var je=ye,Se=Q,he=X,ve=Z,Le=ee,we=he(function(e){return ve(Se(e,1,Le,!0))}),Ie=we,Ae=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],K=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,r=String(t).toLowerCase(),i=String(o.getOptionValue(n)).toLowerCase(),u=String(o.getOptionLabel(n)).toLowerCase();return i===r||u===r},A={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,n,o,r){return!(!t||n.some(function(i){return K(t,i,r)})||o.some(function(i){return K(t,i,r)}))},getNewOptionData:function(t,n){return{label:n,value:t,__isNew__:!0}}};function Ne(e){var t=e.allowCreateWhileLoading,n=t===void 0?!1:t,o=e.createOptionPosition,r=o===void 0?"last":o,i=e.formatCreateLabel,u=i===void 0?A.formatCreateLabel:i,m=e.isValidNewOption,O=m===void 0?A.isValidNewOption:m,C=e.getNewOptionData,p=C===void 0?A.getNewOptionData:C,d=e.onCreateOption,_=e.options,s=_===void 0?[]:_,a=e.onChange,l=se(e,Ae),W=l.getOptionValue,V=W===void 0?oe:W,x=l.getOptionLabel,R=x===void 0?ne:x,c=l.inputValue,$=l.isLoading,E=l.isMulti,b=l.value,P=l.name,f=y.exports.useMemo(function(){return O(c,I(b),s,{getOptionValue:V,getOptionLabel:R})?p(c,u(c)):void 0},[u,p,R,V,c,O,s,b]),k=y.exports.useMemo(function(){return(n||!$)&&f?r==="first"?[f].concat(w(s)):[].concat(w(s),[f]):s},[n,r,$,f,s]),D=y.exports.useCallback(function(g,v){if(v.action!=="select-option")return a(g,v);var j=Array.isArray(g)?g:[g];if(j[j.length-1]===f){if(d)d(c);else{var L=p(c,c),M={action:"create-option",name:P,option:L};a(te(E,[].concat(w(I(b)),[L]),L),M)}return}a(g,v)},[p,c,E,P,f,d,a,b]);return B(B({},l),{},{options:k,onChange:D})}var Te=y.exports.forwardRef(function(e,t){var n=ae(e),o=Ne(n);return T(re,{ref:t,...o})});const S=({children:e,...t})=>T(ie.Control,{...t,className:"form-control",children:e});function h(e,t){if(e==null)return;const n=t.filter(o=>o.value===e);return n.length>0?n[0]:{value:e,label:e}}const N=e=>{const{id:t,options:n,value:o,required:r,disabled:i,readonly:u,multiple:m,autofocus:O,onChange:C,onBlur:p,onFocus:d,placeholder:_}=e,{enumOptions:s}=n;return T(Te,{className:"react-select-container",inputId:t,isMulti:m,placeholder:_,value:h(o,s),"aria-required":r,isDisabled:i||u,autoFocus:O,onBlur:p&&(()=>p(t,o==null?void 0:o.value)),options:s,onFocus:d&&(()=>d(t,o==null?void 0:o.value)),onChange:a=>C(a==null?void 0:a.value),isClearable:!0,components:{Control:S},formatCreateLabel:a=>`Set to custom value "${a}"`,styles:{control:a=>({...a,border:"unset",borderColor:"unset",boxShadow:"unset","&:hover":{}}),valueContainer:a=>({...a,padding:"0px"})}})};try{h.displayName="findValueOption",h.__docgenInfo={description:`react-select's value prop should be an EnumOption (see custom type defined above)

This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns undefined. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomSelectWidget.tsx#findValueOption"]={docgenInfo:h.__docgenInfo,name:"findValueOption",path:"src/lib/containers/entity/annotations/CustomSelectWidget.tsx#findValueOption"})}catch{}try{S.displayName="Control",S.__docgenInfo={description:"We want to apply the 'form-control' bootstrap class to react-select's Control component, and the easiest way to do that is to make a custom version",displayName:"Control",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomSelectWidget.tsx#Control"]={docgenInfo:S.__docgenInfo,name:"Control",path:"src/lib/containers/entity/annotations/CustomSelectWidget.tsx#Control"})}catch{}try{N.displayName="CustomSelectWidget",N.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"CustomSelectWidget",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity/annotations/CustomSelectWidget.tsx#CustomSelectWidget"]={docgenInfo:N.__docgenInfo,name:"CustomSelectWidget",path:"src/lib/containers/entity/annotations/CustomSelectWidget.tsx#CustomSelectWidget"})}catch{}export{S as C,N as a,h as f,je as i,Ie as u};
