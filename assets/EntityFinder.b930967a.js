import{A as Wf,a as k,B as Uf,C as Kf,D as Yf,G as Gf,H as Xf,J as et,g as Jf}from"./iframe.dedbd728.js";import{a as Bt,e as Qf,I as pr,J as Zf}from"./useUserBundle.1e187889.js";import{_ as ie,a as Ve}from"./objectWithoutPropertiesLoose.d29fb19f.js";import{b as X}from"./toConsumableArray.5f669646.js";import{P as p}from"./index.06f4a415.js";import{_ as Ye,a as $}from"./withStyles.4f64abe1.js";import{r as ed}from"./react-sizeme.e9c8cb65.js";import{A as td}from"./Arrow.c6e8b887.js";import{aX as rd,aY as nd,aZ as id,L as sd,a_ as lu,_ as ad,a$ as od,b0 as ld,b1 as ud,Y as cd,b2 as fd,b3 as dd,C as hd}from"./index.cdf98c81.js";import{E as Et,g as qe,a as vo,b as uu,c as pd,e as md}from"./EntityTypeUtils.0e13f8a8.js";import{S as cu}from"./RegularExpressions.b87376bf.js";import{P as gd,I as Wn}from"./IconSvg.d5022c82.js";import{a as G,j as x,F as _e}from"./jsx-runtime.2e925369.js";import{u as yd}from"./use-deep-compare-effect.esm.9d3fc03b.js";import{u as _d}from"./useGetEntityChildren.416d1bc1.js";import{D as Ps,S as Un}from"./EntityChildren.50133102.js";import"./assert.45ccb9fa.js";import{c as gt}from"./index.f252d424.js";import{b as Oe}from"./stateManager-845a3300.esm.4bc2dc68.js";import{R as vi}from"./index.es.82d55a6a.js";import{r as Kn}from"./FullWidthAlert.a054f15b.js";import{u as fu}from"./react-intersection-observer.m.66de6abb.js";import{c as vd,u as du,d as hu}from"./useEntity.c29d3474.js";import{u as wd,a as bd}from"./SchemaDrivenAnnotationEditor.d46c3a12.js";import{u as zt}from"./useEntityBundle.f151ac08.js";import{E as Sd,a as Rd}from"./EntityModal.5329b15e.js";import{W as xd}from"./WarningModal.14601faa.js";import{i as Cd}from"./isEmpty.12a3904b.js";import{L as Td,C as Ed}from"./LockTwoTone.5189d348.js";import{c as Pi}from"./createSvgIcon.53013205.js";import{H as Id}from"./HelpPopover.07403ad1.js";import{S as da,B as Od}from"./LoadingScreen.85210ad1.js";import{C as ha}from"./Checkbox.995e1545.js";import{T as wo}from"./Typography.e08e7569.js";import{E as pa}from"./EntityIcon.9bbd37f9.js";import{S as Ft}from"./Skeleton.bf1489f0.js";import{C as Ad}from"./Clear.53a62cf5.js";import{u as pu}from"./useInfiniteQuery.29c04cdc.js";import{c as zd}from"./cloneDeep.14fe87ca.js";import{D as bn}from"./Dropdown.edf6576c.js";import{B as bo}from"./Button.77571428.js";import{b as Dd}from"./FormLabel.a635baa2.js";import{h as Nd}from"./moment.81704e1d.js";import{S as Md}from"./Sort.132830a1.js";import{f as Pd}from"./DateFormatter.70edf4bc.js";import{E as mu}from"./EntityLink.b30d65b8.js";import{U as Vd}from"./UserCard.07b3e3b1.js";import{u as Ld}from"./useFavorites.5a426f2f.js";const Sn=window.React;var Hd=Pi(Sn.createElement(Sn.Fragment,null,Sn.createElement("path",{d:"M4 18l2-2h14V4H4z",opacity:".3"}),Sn.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})));const Rn=window.React;var $d=Pi(Rn.createElement(Rn.Fragment,null,Rn.createElement("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"}),Rn.createElement("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"})));const kd=window.React;var qd=Pi(kd.createElement("path",{d:"M14.39 11L16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"}));const Tr=window.React;var jd=Pi(Tr.createElement(Tr.Fragment,null,Tr.createElement("path",{d:"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z",opacity:".3"}),Tr.createElement("path",{d:"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z"}),Tr.createElement("circle",{cx:"6.5",cy:"6.5",r:"1.5"}))),on="delete",re=5,Be=1<<re,Se=Be-1,W={};function Vs(){return{value:!1}}function Fe(r){r&&(r.value=!0)}function ma(){}function nr(r){return r.size===void 0&&(r.size=r.__iterate(gu)),r.size}function It(r,e){if(typeof e!="number"){var t=e>>>0;if(""+t!==e||t===4294967295)return NaN;e=t}return e<0?nr(r)+e:e}function gu(){return!0}function Vi(r,e,t){return(r===0&&!_u(r)||t!==void 0&&r<=-t)&&(e===void 0||t!==void 0&&e>=t)}function ln(r,e){return yu(r,e,0)}function Li(r,e){return yu(r,e,e)}function yu(r,e,t){return r===void 0?t:_u(r)?e===1/0?e:Math.max(0,e+r)|0:e===void 0||e===r?r:Math.min(e,r)|0}function _u(r){return r<0||r===0&&1/r===-1/0}var vu="@@__IMMUTABLE_ITERABLE__@@";function ze(r){return Boolean(r&&r[vu])}var wu="@@__IMMUTABLE_KEYED__@@";function oe(r){return Boolean(r&&r[wu])}var bu="@@__IMMUTABLE_INDEXED__@@";function Ae(r){return Boolean(r&&r[bu])}function Hi(r){return oe(r)||Ae(r)}var ue=function(e){return ze(e)?e:ke(e)},Ge=function(r){function e(t){return oe(t)?t:Dt(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e}(ue),Wt=function(r){function e(t){return Ae(t)?t:tt(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e}(ue),mr=function(r){function e(t){return ze(t)&&!Hi(t)?t:vr(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e}(ue);ue.Keyed=Ge;ue.Indexed=Wt;ue.Set=mr;var Su="@@__IMMUTABLE_SEQ__@@";function ga(r){return Boolean(r&&r[Su])}var Ru="@@__IMMUTABLE_RECORD__@@";function gr(r){return Boolean(r&&r[Ru])}function dt(r){return ze(r)||gr(r)}var yr="@@__IMMUTABLE_ORDERED__@@";function Qe(r){return Boolean(r&&r[yr])}var un=0,Ze=1,Ke=2,Ls=typeof Symbol=="function"&&Symbol.iterator,xu="@@iterator",$i=Ls||xu,Y=function(e){this.next=e};Y.prototype.toString=function(){return"[Iterator]"};Y.KEYS=un;Y.VALUES=Ze;Y.ENTRIES=Ke;Y.prototype.inspect=Y.prototype.toSource=function(){return this.toString()};Y.prototype[$i]=function(){return this};function se(r,e,t,n){var i=r===0?e:r===1?t:[e,t];return n?n.value=i:n={value:i,done:!1},n}function De(){return{value:void 0,done:!0}}function Cu(r){return Array.isArray(r)?!0:!!ki(r)}function So(r){return r&&typeof r.next=="function"}function Hs(r){var e=ki(r);return e&&e.call(r)}function ki(r){var e=r&&(Ls&&r[Ls]||r[xu]);if(typeof e=="function")return e}function Bd(r){var e=ki(r);return e&&e===r.entries}function Fd(r){var e=ki(r);return e&&e===r.keys}var _r=Object.prototype.hasOwnProperty;function Tu(r){return Array.isArray(r)||typeof r=="string"?!0:r&&typeof r=="object"&&Number.isInteger(r.length)&&r.length>=0&&(r.length===0?Object.keys(r).length===1:r.hasOwnProperty(r.length-1))}var ke=function(r){function e(t){return t==null?_a():dt(t)?t.toSeq():Ud(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var s=this._cache;if(s){for(var a=s.length,o=0;o!==a;){var l=s[i?a-++o:o++];if(n(l[1],l[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var s=this._cache;if(s){var a=s.length,o=0;return new Y(function(){if(o===a)return De();var l=s[i?a-++o:o++];return se(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},e}(ue),Dt=function(r){function e(t){return t==null?_a().toKeyedSeq():ze(t)?oe(t)?t.toSeq():t.fromEntrySeq():gr(t)?t.toSeq():va(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(ke),tt=function(r){function e(t){return t==null?_a():ze(t)?oe(t)?t.entrySeq():t.toIndexedSeq():gr(t)?t.toSeq().entrySeq():Eu(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(ke),vr=function(r){function e(t){return(ze(t)&&!Hi(t)?t:tt(t)).toSetSeq()}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(ke);ke.isSeq=ga;ke.Keyed=Dt;ke.Set=vr;ke.Indexed=tt;ke.prototype[Su]=!0;var qt=function(r){function e(t){this._array=t,this.size=t.length}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[It(this,n)]:i},e.prototype.__iterate=function(n,i){for(var s=this._array,a=s.length,o=0;o!==a;){var l=i?a-++o:o++;if(n(s[l],l,this)===!1)break}return o},e.prototype.__iterator=function(n,i){var s=this._array,a=s.length,o=0;return new Y(function(){if(o===a)return De();var l=i?a-++o:o++;return se(n,l,s[l])})},e}(tt),ya=function(r){function e(t){var n=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=n,this.size=n.length}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return _r.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var s=this._object,a=this._keys,o=a.length,l=0;l!==o;){var u=a[i?o-++l:l++];if(n(s[u],u,this)===!1)break}return l},e.prototype.__iterator=function(n,i){var s=this._object,a=this._keys,o=a.length,l=0;return new Y(function(){if(l===o)return De();var u=a[i?o-++l:l++];return se(n,u,s[u])})},e}(Dt);ya.prototype[yr]=!0;var Wd=function(r){function e(t){this._collection=t,this.size=t.length||t.size}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var s=this._collection,a=Hs(s),o=0;if(So(a))for(var l;!(l=a.next()).done&&n(l.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var s=this._collection,a=Hs(s);if(!So(a))return new Y(De);var o=0;return new Y(function(){var l=a.next();return l.done?l:se(n,o++,l.value)})},e}(tt),Ro;function _a(){return Ro||(Ro=new qt([]))}function va(r){var e=wa(r);if(e)return e.fromEntrySeq();if(typeof r=="object")return new ya(r);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+r)}function Eu(r){var e=wa(r);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+r)}function Ud(r){var e=wa(r);if(e)return Bd(r)?e.fromEntrySeq():Fd(r)?e.toSetSeq():e;if(typeof r=="object")return new ya(r);throw new TypeError("Expected Array or collection object of values, or keyed object: "+r)}function wa(r){return Tu(r)?new qt(r):Cu(r)?new Wd(r):void 0}var Iu="@@__IMMUTABLE_MAP__@@";function ba(r){return Boolean(r&&r[Iu])}function Ou(r){return ba(r)&&Qe(r)}function xo(r){return Boolean(r&&typeof r.equals=="function"&&typeof r.hashCode=="function")}function $e(r,e){if(r===e||r!==r&&e!==e)return!0;if(!r||!e)return!1;if(typeof r.valueOf=="function"&&typeof e.valueOf=="function"){if(r=r.valueOf(),e=e.valueOf(),r===e||r!==r&&e!==e)return!0;if(!r||!e)return!1}return!!(xo(r)&&xo(e)&&r.equals(e))}var Er=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=e&65535,i=t&65535;return n*i+((e>>>16)*i+n*(t>>>16)<<16>>>0)|0};function qi(r){return r>>>1&1073741824|r&3221225471}var Kd=Object.prototype.valueOf;function Pe(r){if(r==null)return Co(r);if(typeof r.hashCode=="function")return qi(r.hashCode(r));var e=Zd(r);if(e==null)return Co(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return Yd(e);case"string":return e.length>eh?Gd(e):$s(e);case"object":case"function":return Jd(e);case"symbol":return Xd(e);default:if(typeof e.toString=="function")return $s(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Co(r){return r===null?1108378658:1108378659}function Yd(r){if(r!==r||r===1/0)return 0;var e=r|0;for(e!==r&&(e^=r*4294967295);r>4294967295;)r/=4294967295,e^=r;return qi(e)}function Gd(r){var e=as[r];return e===void 0&&(e=$s(r),ss===th&&(ss=0,as={}),ss++,as[r]=e),e}function $s(r){for(var e=0,t=0;t<r.length;t++)e=31*e+r.charCodeAt(t)|0;return qi(e)}function Xd(r){var e=Io[r];return e!==void 0||(e=Au(),Io[r]=e),e}function Jd(r){var e;if(ks&&(e=qs.get(r),e!==void 0)||(e=r[Vt],e!==void 0)||!Eo&&(e=r.propertyIsEnumerable&&r.propertyIsEnumerable[Vt],e!==void 0||(e=Qd(r),e!==void 0)))return e;if(e=Au(),ks)qs.set(r,e);else{if(To!==void 0&&To(r)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Eo)Object.defineProperty(r,Vt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(r.propertyIsEnumerable!==void 0&&r.propertyIsEnumerable===r.constructor.prototype.propertyIsEnumerable)r.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},r.propertyIsEnumerable[Vt]=e;else if(r.nodeType!==void 0)r[Vt]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var To=Object.isExtensible,Eo=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Qd(r){if(r&&r.nodeType>0)switch(r.nodeType){case 1:return r.uniqueID;case 9:return r.documentElement&&r.documentElement.uniqueID}}function Zd(r){return r.valueOf!==Kd&&typeof r.valueOf=="function"?r.valueOf(r):r}function Au(){var r=++is;return is&1073741824&&(is=0),r}var ks=typeof WeakMap=="function",qs;ks&&(qs=new WeakMap);var Io=Object.create(null),is=0,Vt="__immutablehash__";typeof Symbol=="function"&&(Vt=Symbol(Vt));var eh=16,th=255,ss=0,as={},ji=function(r){function e(t,n){this._iter=t,this._useKeys=n,this.size=t.size}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=Sa(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var s=this,a=Pu(this,n,i);return this._useKeys||(a.valueSeq=function(){return s._iter.toSeq().map(n,i)}),a},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(a,o){return n(a,o,s)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Dt);ji.prototype[yr]=!0;var zu=function(r){function e(t){this._iter=t,this.size=t.size}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this,a=0;return i&&nr(this),this._iter.__iterate(function(o){return n(o,i?s.size-++a:a++,s)},i)},e.prototype.__iterator=function(n,i){var s=this,a=this._iter.__iterator(Ze,i),o=0;return i&&nr(this),new Y(function(){var l=a.next();return l.done?l:se(n,i?s.size-++o:o++,l.value,l)})},e}(tt),Du=function(r){function e(t){this._iter=t,this.size=t.size}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(a){return n(a,a,s)},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(Ze,i);return new Y(function(){var a=s.next();return a.done?a:se(n,a.value,a.value,a)})},e}(vr),Nu=function(r){function e(t){this._iter=t,this.size=t.size}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(a){if(a){Ao(a);var o=ze(a);return n(o?a.get(1):a[1],o?a.get(0):a[0],s)}},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(Ze,i);return new Y(function(){for(;;){var a=s.next();if(a.done)return a;var o=a.value;if(o){Ao(o);var l=ze(o);return se(n,l?o.get(0):o[0],l?o.get(1):o[1],a)}}})},e}(Dt);zu.prototype.cacheResult=ji.prototype.cacheResult=Du.prototype.cacheResult=Nu.prototype.cacheResult=xa;function Mu(r){var e=ht(r);return e._iter=r,e.size=r.size,e.flip=function(){return r},e.reverse=function(){var t=r.reverse.apply(this);return t.flip=function(){return r.reverse()},t},e.has=function(t){return r.includes(t)},e.includes=function(t){return r.has(t)},e.cacheResult=xa,e.__iterateUncached=function(t,n){var i=this;return r.__iterate(function(s,a){return t(a,s,i)!==!1},n)},e.__iteratorUncached=function(t,n){if(t===Ke){var i=r.__iterator(t,n);return new Y(function(){var s=i.next();if(!s.done){var a=s.value[0];s.value[0]=s.value[1],s.value[1]=a}return s})}return r.__iterator(t===Ze?un:Ze,n)},e}function Pu(r,e,t){var n=ht(r);return n.size=r.size,n.has=function(i){return r.has(i)},n.get=function(i,s){var a=r.get(i,W);return a===W?s:e.call(t,a,i,r)},n.__iterateUncached=function(i,s){var a=this;return r.__iterate(function(o,l,u){return i(e.call(t,o,l,u),l,a)!==!1},s)},n.__iteratorUncached=function(i,s){var a=r.__iterator(Ke,s);return new Y(function(){var o=a.next();if(o.done)return o;var l=o.value,u=l[0];return se(i,u,e.call(t,l[1],u,r),o)})},n}function Sa(r,e){var t=this,n=ht(r);return n._iter=r,n.size=r.size,n.reverse=function(){return r},r.flip&&(n.flip=function(){var i=Mu(r);return i.reverse=function(){return r.flip()},i}),n.get=function(i,s){return r.get(e?i:-1-i,s)},n.has=function(i){return r.has(e?i:-1-i)},n.includes=function(i){return r.includes(i)},n.cacheResult=xa,n.__iterate=function(i,s){var a=this,o=0;return s&&nr(r),r.__iterate(function(l,u){return i(l,e?u:s?a.size-++o:o++,a)},!s)},n.__iterator=function(i,s){var a=0;s&&nr(r);var o=r.__iterator(Ke,!s);return new Y(function(){var l=o.next();if(l.done)return l;var u=l.value;return se(i,e?u[0]:s?t.size-++a:a++,u[1],l)})},n}function Vu(r,e,t,n){var i=ht(r);return n&&(i.has=function(s){var a=r.get(s,W);return a!==W&&!!e.call(t,a,s,r)},i.get=function(s,a){var o=r.get(s,W);return o!==W&&e.call(t,o,s,r)?o:a}),i.__iterateUncached=function(s,a){var o=this,l=0;return r.__iterate(function(u,c,f){if(e.call(t,u,c,f))return l++,s(u,n?c:l-1,o)},a),l},i.__iteratorUncached=function(s,a){var o=r.__iterator(Ke,a),l=0;return new Y(function(){for(;;){var u=o.next();if(u.done)return u;var c=u.value,f=c[0],h=c[1];if(e.call(t,h,f,r))return se(s,n?f:l++,h,u)}})},i}function rh(r,e,t){var n=Ut().asMutable();return r.__iterate(function(i,s){n.update(e.call(t,i,s,r),0,function(a){return a+1})}),n.asImmutable()}function nh(r,e,t){var n=oe(r),i=(Qe(r)?wt():Ut()).asMutable();r.__iterate(function(a,o){i.update(e.call(t,a,o,r),function(l){return l=l||[],l.push(n?[o,a]:a),l})});var s=$u(r);return i.map(function(a){return Z(r,s(a))}).asImmutable()}function Ra(r,e,t,n){var i=r.size;if(Vi(e,t,i))return r;var s=ln(e,i),a=Li(t,i);if(s!==s||a!==a)return Ra(r.toSeq().cacheResult(),e,t,n);var o=a-s,l;o===o&&(l=o<0?0:o);var u=ht(r);return u.size=l===0?l:r.size&&l||void 0,!n&&ga(r)&&l>=0&&(u.get=function(c,f){return c=It(this,c),c>=0&&c<l?r.get(c+s,f):f}),u.__iterateUncached=function(c,f){var h=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var y=0,m=!0,d=0;return r.__iterate(function(g,w){if(!(m&&(m=y++<s)))return d++,c(g,n?w:d-1,h)!==!1&&d!==l}),d},u.__iteratorUncached=function(c,f){if(l!==0&&f)return this.cacheResult().__iterator(c,f);if(l===0)return new Y(De);var h=r.__iterator(c,f),y=0,m=0;return new Y(function(){for(;y++<s;)h.next();if(++m>l)return De();var d=h.next();return n||c===Ze||d.done?d:c===un?se(c,m-1,void 0,d):se(c,m-1,d.value[1],d)})},u}function ih(r,e,t){var n=ht(r);return n.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=0;return r.__iterate(function(l,u,c){return e.call(t,l,u,c)&&++o&&i(l,u,a)}),o},n.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=r.__iterator(Ke,s),l=!0;return new Y(function(){if(!l)return De();var u=o.next();if(u.done)return u;var c=u.value,f=c[0],h=c[1];return e.call(t,h,f,a)?i===Ke?u:se(i,f,h,u):(l=!1,De())})},n}function Lu(r,e,t,n){var i=ht(r);return i.__iterateUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterate(s,a);var l=!0,u=0;return r.__iterate(function(c,f,h){if(!(l&&(l=e.call(t,c,f,h))))return u++,s(c,n?f:u-1,o)}),u},i.__iteratorUncached=function(s,a){var o=this;if(a)return this.cacheResult().__iterator(s,a);var l=r.__iterator(Ke,a),u=!0,c=0;return new Y(function(){var f,h,y;do{if(f=l.next(),f.done)return n||s===Ze?f:s===un?se(s,c++,void 0,f):se(s,c++,f.value[1],f);var m=f.value;h=m[0],y=m[1],u&&(u=e.call(t,y,h,o))}while(u);return s===Ke?f:se(s,h,y,f)})},i}function sh(r,e){var t=oe(r),n=[r].concat(e).map(function(a){return ze(a)?t&&(a=Ge(a)):a=t?va(a):Eu(Array.isArray(a)?a:[a]),a}).filter(function(a){return a.size!==0});if(n.length===0)return r;if(n.length===1){var i=n[0];if(i===r||t&&oe(i)||Ae(r)&&Ae(i))return i}var s=new qt(n);return t?s=s.toKeyedSeq():Ae(r)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(a,o){if(a!==void 0){var l=o.size;if(l!==void 0)return a+l}},0),s}function Hu(r,e,t){var n=ht(r);return n.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var a=0,o=!1;function l(u,c){u.__iterate(function(f,h){return(!e||c<e)&&ze(f)?l(f,c+1):(a++,i(f,t?h:a-1,n)===!1&&(o=!0)),!o},s)}return l(r,0),a},n.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var a=r.__iterator(i,s),o=[],l=0;return new Y(function(){for(;a;){var u=a.next();if(u.done!==!1){a=o.pop();continue}var c=u.value;if(i===Ke&&(c=c[1]),(!e||o.length<e)&&ze(c))o.push(a),a=c.__iterator(i,s);else return t?u:se(i,l++,c,u)}return De()})},n}function ah(r,e,t){var n=$u(r);return r.toSeq().map(function(i,s){return n(e.call(t,i,s,r))}).flatten(!0)}function oh(r,e){var t=ht(r);return t.size=r.size&&r.size*2-1,t.__iterateUncached=function(n,i){var s=this,a=0;return r.__iterate(function(o){return(!a||n(e,a++,s)!==!1)&&n(o,a++,s)!==!1},i),a},t.__iteratorUncached=function(n,i){var s=r.__iterator(Ze,i),a=0,o;return new Y(function(){return(!o||a%2)&&(o=s.next(),o.done)?o:a%2?se(n,a++,e):se(n,a++,o.value,o)})},t}function ir(r,e,t){e||(e=ku);var n=oe(r),i=0,s=r.toSeq().map(function(a,o){return[o,a,i++,t?t(a,o,r):a]}).valueSeq().toArray();return s.sort(function(a,o){return e(a[3],o[3])||a[2]-o[2]}).forEach(n?function(a,o){s[o].length=2}:function(a,o){s[o]=a[1]}),n?Dt(s):Ae(r)?tt(s):vr(s)}function xn(r,e,t){if(e||(e=ku),t){var n=r.toSeq().map(function(i,s){return[i,t(i,s,r)]}).reduce(function(i,s){return Oo(e,i[1],s[1])?s:i});return n&&n[0]}return r.reduce(function(i,s){return Oo(e,i,s)?s:i})}function Oo(r,e,t){var n=r(t,e);return n===0&&t!==e&&(t==null||t!==t)||n>0}function Cn(r,e,t,n){var i=ht(r),s=new qt(t).map(function(a){return a.size});return i.size=n?s.max():s.min(),i.__iterate=function(a,o){for(var l=this.__iterator(Ze,o),u,c=0;!(u=l.next()).done&&a(u.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(a,o){var l=t.map(function(f){return f=ue(f),Hs(o?f.reverse():f)}),u=0,c=!1;return new Y(function(){var f;return c||(f=l.map(function(h){return h.next()}),c=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),c?De():se(a,u++,e.apply(null,f.map(function(h){return h.value})))})},i}function Z(r,e){return r===e?r:ga(r)?e:r.constructor(e)}function Ao(r){if(r!==Object(r))throw new TypeError("Expected [K, V] tuple: "+r)}function $u(r){return oe(r)?Ge:Ae(r)?Wt:mr}function ht(r){return Object.create((oe(r)?Dt:Ae(r)?tt:vr).prototype)}function xa(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ke.prototype.cacheResult.call(this)}function ku(r,e){return r===void 0&&e===void 0?0:r===void 0?1:e===void 0?-1:r>e?1:r<e?-1:0}function at(r,e){e=e||0;for(var t=Math.max(0,r.length-e),n=new Array(t),i=0;i<t;i++)n[i]=r[i+e];return n}function Ca(r,e){if(!r)throw new Error(e)}function We(r){Ca(r!==1/0,"Cannot perform this action with an infinite size.")}function qu(r){if(Tu(r)&&typeof r!="string")return r;if(Qe(r))return r.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+r)}var lh=Object.prototype.toString;function uh(r){if(!r||typeof r!="object"||lh.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);if(e===null)return!0;for(var t=e,n=Object.getPrototypeOf(e);n!==null;)t=n,n=Object.getPrototypeOf(t);return t===e}function Ot(r){return typeof r=="object"&&(dt(r)||Array.isArray(r)||uh(r))}function Fr(r){try{return typeof r=="string"?JSON.stringify(r):String(r)}catch{return JSON.stringify(r)}}function ch(r,e){return dt(r)?r.has(e):Ot(r)&&_r.call(r,e)}function ju(r,e,t){return dt(r)?r.get(e,t):ch(r,e)?typeof r.get=="function"?r.get(e):r[e]:t}function wi(r){if(Array.isArray(r))return at(r);var e={};for(var t in r)_r.call(r,t)&&(e[t]=r[t]);return e}function fh(r,e){if(!Ot(r))throw new TypeError("Cannot update non-data-structure value: "+r);if(dt(r)){if(!r.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+r);return r.remove(e)}if(!_r.call(r,e))return r;var t=wi(r);return Array.isArray(t)?t.splice(e,1):delete t[e],t}function dh(r,e,t){if(!Ot(r))throw new TypeError("Cannot update non-data-structure value: "+r);if(dt(r)){if(!r.set)throw new TypeError("Cannot update immutable value without .set() method: "+r);return r.set(e,t)}if(_r.call(r,e)&&t===r[e])return r;var n=wi(r);return n[e]=t,n}function wr(r,e,t,n){n||(n=t,t=void 0);var i=Bu(dt(r),r,qu(e),0,t,n);return i===W?t:i}function Bu(r,e,t,n,i,s){var a=e===W;if(n===t.length){var o=a?i:e,l=s(o);return l===o?e:l}if(!a&&!Ot(e))throw new TypeError("Cannot update within non-data-structure value in path ["+t.slice(0,n).map(Fr)+"]: "+e);var u=t[n],c=a?W:ju(e,u,W),f=Bu(c===W?r:dt(c),c,t,n+1,i,s);return f===c?e:f===W?fh(e,u):dh(a?r?Je():{}:e,u,f)}function hh(r,e,t){return wr(r,e,W,function(){return t})}function Ta(r,e){return hh(this,r,e)}function ph(r,e){return wr(r,e,function(){return W})}function Ea(r){return ph(this,r)}function Fu(r,e,t,n){return wr(r,[e],t,n)}function Ia(r,e,t){return arguments.length===1?r(this):Fu(this,r,e,t)}function Oa(r,e,t){return wr(this,r,e,t)}function Wu(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return Ku(this,r)}function Uu(r){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];if(typeof r!="function")throw new TypeError("Invalid merger function: "+r);return Ku(this,e,r)}function Ku(r,e,t){for(var n=[],i=0;i<e.length;i++){var s=Ge(e[i]);s.size!==0&&n.push(s)}return n.length===0?r:r.toSeq().size===0&&!r.__ownerID&&n.length===1?r.constructor(n[0]):r.withMutations(function(a){for(var o=t?function(u,c){Fu(a,c,W,function(f){return f===W?u:t(f,u,c)})}:function(u,c){a.set(c,u)},l=0;l<n.length;l++)n[l].forEach(o)})}function Aa(r,e,t){return za(r,e,mh(t))}function za(r,e,t){if(!Ot(r))throw new TypeError("Cannot merge into non-data-structure value: "+r);if(dt(r))return typeof t=="function"&&r.mergeWith?r.mergeWith.apply(r,[t].concat(e)):r.merge?r.merge.apply(r,e):r.concat.apply(r,e);for(var n=Array.isArray(r),i=r,s=n?Wt:Ge,a=n?function(l){i===r&&(i=wi(i)),i.push(l)}:function(l,u){var c=_r.call(i,u),f=c&&t?t(i[u],l,u):l;(!c||f!==i[u])&&(i===r&&(i=wi(i)),i[u]=f)},o=0;o<e.length;o++)s(e[o]).forEach(a);return i}function mh(r){function e(t,n,i){return Ot(t)&&Ot(n)&&gh(t,n)?za(t,[n],e):r?r(t,n,i):n}return e}function gh(r,e){var t=ke(r),n=ke(e);return Ae(t)===Ae(n)&&oe(t)===oe(n)}function Yu(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];return Aa(this,r)}function Gu(r){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];return Aa(this,e,r)}function Da(r){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];return wr(this,r,Je(),function(n){return za(n,e)})}function Na(r){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];return wr(this,r,Je(),function(n){return Aa(n,e)})}function cn(r){var e=this.asMutable();return r(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function fn(){return this.__ownerID?this:this.__ensureOwner(new ma)}function dn(){return this.__ensureOwner()}function Ma(){return this.__altered}var Ut=function(r){function e(t){return t==null?Je():ba(t)&&!Qe(t)?t:Je().withMutations(function(n){var i=r(t);We(i.size),i.forEach(function(s,a){return n.set(a,s)})})}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Je().withMutations(function(s){for(var a=0;a<n.length;a+=2){if(a+1>=n.length)throw new Error("Missing value for key: "+n[a]);s.set(n[a],n[a+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return No(this,n,i)},e.prototype.remove=function(n){return No(this,n,W)},e.prototype.deleteAll=function(n){var i=ue(n);return i.size===0?this:this.withMutations(function(s){i.forEach(function(a){return s.remove(a)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Je()},e.prototype.sort=function(n){return wt(ir(this,n))},e.prototype.sortBy=function(n,i){return wt(ir(this,i,n))},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(a){a.forEach(function(o,l){a.set(l,n.call(i,o,l,s))})})},e.prototype.__iterator=function(n,i){return new yh(this,n,i)},e.prototype.__iterate=function(n,i){var s=this,a=0;return this._root&&this._root.iterate(function(o){return a++,n(o[1],o[0],s)},i),a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Pa(this.size,this._root,n,this.__hash):this.size===0?Je():(this.__ownerID=n,this.__altered=!1,this)},e}(Ge);Ut.isMap=ba;var ne=Ut.prototype;ne[Iu]=!0;ne[on]=ne.remove;ne.removeAll=ne.deleteAll;ne.setIn=Ta;ne.removeIn=ne.deleteIn=Ea;ne.update=Ia;ne.updateIn=Oa;ne.merge=ne.concat=Wu;ne.mergeWith=Uu;ne.mergeDeep=Yu;ne.mergeDeepWith=Gu;ne.mergeIn=Da;ne.mergeDeepIn=Na;ne.withMutations=cn;ne.wasAltered=Ma;ne.asImmutable=dn;ne["@@transducer/init"]=ne.asMutable=fn;ne["@@transducer/step"]=function(r,e){return r.set(e[0],e[1])};ne["@@transducer/result"]=function(r){return r.asImmutable()};var Wr=function(e,t){this.ownerID=e,this.entries=t};Wr.prototype.get=function(e,t,n,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if($e(n,s[a][0]))return s[a][1];return i};Wr.prototype.update=function(e,t,n,i,s,a,o){for(var l=s===W,u=this.entries,c=0,f=u.length;c<f&&!$e(i,u[c][0]);c++);var h=c<f;if(h?u[c][1]===s:l)return this;if(Fe(o),(l||!h)&&Fe(a),!(l&&u.length===1)){if(!h&&!l&&u.length>=Rh)return _h(e,u,i,s);var y=e&&e===this.ownerID,m=y?u:at(u);return h?l?c===f-1?m.pop():m[c]=m.pop():m[c]=[i,s]:m.push([i,s]),y?(this.entries=m,this):new Wr(e,m)}};var sr=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};sr.prototype.get=function(e,t,n,i){t===void 0&&(t=Pe(n));var s=1<<((e===0?t:t>>>e)&Se),a=this.bitmap;return(a&s)===0?i:this.nodes[Xu(a&s-1)].get(e+re,t,n,i)};sr.prototype.update=function(e,t,n,i,s,a,o){n===void 0&&(n=Pe(i));var l=(t===0?n:n>>>t)&Se,u=1<<l,c=this.bitmap,f=(c&u)!==0;if(!f&&s===W)return this;var h=Xu(c&u-1),y=this.nodes,m=f?y[h]:void 0,d=Va(m,e,t+re,n,i,s,a,o);if(d===m)return this;if(!f&&d&&y.length>=xh)return wh(e,y,c,l,d);if(f&&!d&&y.length===2&&Mo(y[h^1]))return y[h^1];if(f&&d&&y.length===1&&Mo(d))return d;var g=e&&e===this.ownerID,w=f?d?c:c^u:c|u,T=f?d?Ju(y,h,d,g):Sh(y,h,g):bh(y,h,d,g);return g?(this.bitmap=w,this.nodes=T,this):new sr(e,w,T)};var Ur=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Ur.prototype.get=function(e,t,n,i){t===void 0&&(t=Pe(n));var s=(e===0?t:t>>>e)&Se,a=this.nodes[s];return a?a.get(e+re,t,n,i):i};Ur.prototype.update=function(e,t,n,i,s,a,o){n===void 0&&(n=Pe(i));var l=(t===0?n:n>>>t)&Se,u=s===W,c=this.nodes,f=c[l];if(u&&!f)return this;var h=Va(f,e,t+re,n,i,s,a,o);if(h===f)return this;var y=this.count;if(!f)y++;else if(!h&&(y--,y<Ch))return vh(e,c,y,l);var m=e&&e===this.ownerID,d=Ju(c,l,h,m);return m?(this.count=y,this.nodes=d,this):new Ur(e,y,d)};var ar=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};ar.prototype.get=function(e,t,n,i){for(var s=this.entries,a=0,o=s.length;a<o;a++)if($e(n,s[a][0]))return s[a][1];return i};ar.prototype.update=function(e,t,n,i,s,a,o){n===void 0&&(n=Pe(i));var l=s===W;if(n!==this.keyHash)return l?this:(Fe(o),Fe(a),La(this,e,t,n,[i,s]));for(var u=this.entries,c=0,f=u.length;c<f&&!$e(i,u[c][0]);c++);var h=c<f;if(h?u[c][1]===s:l)return this;if(Fe(o),(l||!h)&&Fe(a),l&&f===2)return new vt(e,this.keyHash,u[c^1]);var y=e&&e===this.ownerID,m=y?u:at(u);return h?l?c===f-1?m.pop():m[c]=m.pop():m[c]=[i,s]:m.push([i,s]),y?(this.entries=m,this):new ar(e,this.keyHash,m)};var vt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};vt.prototype.get=function(e,t,n,i){return $e(n,this.entry[0])?this.entry[1]:i};vt.prototype.update=function(e,t,n,i,s,a,o){var l=s===W,u=$e(i,this.entry[0]);if(u?s===this.entry[1]:l)return this;if(Fe(o),l){Fe(a);return}return u?e&&e===this.ownerID?(this.entry[1]=s,this):new vt(e,this.keyHash,[i,s]):(Fe(a),La(this,e,t,Pe(i),[i,s]))};Wr.prototype.iterate=ar.prototype.iterate=function(r,e){for(var t=this.entries,n=0,i=t.length-1;n<=i;n++)if(r(t[e?i-n:n])===!1)return!1};sr.prototype.iterate=Ur.prototype.iterate=function(r,e){for(var t=this.nodes,n=0,i=t.length-1;n<=i;n++){var s=t[e?i-n:n];if(s&&s.iterate(r,e)===!1)return!1}};vt.prototype.iterate=function(r,e){return r(this.entry)};var yh=function(r){function e(t,n,i){this._type=n,this._reverse=i,this._stack=t._root&&zo(t._root)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var s=i.node,a=i.index++,o=void 0;if(s.entry){if(a===0)return os(n,s.entry)}else if(s.entries){if(o=s.entries.length-1,a<=o)return os(n,s.entries[this._reverse?o-a:a])}else if(o=s.nodes.length-1,a<=o){var l=s.nodes[this._reverse?o-a:a];if(l){if(l.entry)return os(n,l.entry);i=this._stack=zo(l,i)}continue}i=this._stack=this._stack.__prev}return De()},e}(Y);function os(r,e){return se(r,e[0],e[1])}function zo(r,e){return{node:r,index:0,__prev:e}}function Pa(r,e,t,n){var i=Object.create(ne);return i.size=r,i._root=e,i.__ownerID=t,i.__hash=n,i.__altered=!1,i}var Do;function Je(){return Do||(Do=Pa(0))}function No(r,e,t){var n,i;if(r._root){var s=Vs(),a=Vs();if(n=Va(r._root,r.__ownerID,0,void 0,e,t,s,a),!a.value)return r;i=r.size+(s.value?t===W?-1:1:0)}else{if(t===W)return r;i=1,n=new Wr(r.__ownerID,[[e,t]])}return r.__ownerID?(r.size=i,r._root=n,r.__hash=void 0,r.__altered=!0,r):n?Pa(i,n):Je()}function Va(r,e,t,n,i,s,a,o){return r?r.update(e,t,n,i,s,a,o):s===W?r:(Fe(o),Fe(a),new vt(e,n,[i,s]))}function Mo(r){return r.constructor===vt||r.constructor===ar}function La(r,e,t,n,i){if(r.keyHash===n)return new ar(e,n,[r.entry,i]);var s=(t===0?r.keyHash:r.keyHash>>>t)&Se,a=(t===0?n:n>>>t)&Se,o,l=s===a?[La(r,e,t+re,n,i)]:(o=new vt(e,n,i),s<a?[r,o]:[o,r]);return new sr(e,1<<s|1<<a,l)}function _h(r,e,t,n){r||(r=new ma);for(var i=new vt(r,Pe(t),[t,n]),s=0;s<e.length;s++){var a=e[s];i=i.update(r,0,void 0,a[0],a[1])}return i}function vh(r,e,t,n){for(var i=0,s=0,a=new Array(t),o=0,l=1,u=e.length;o<u;o++,l<<=1){var c=e[o];c!==void 0&&o!==n&&(i|=l,a[s++]=c)}return new sr(r,i,a)}function wh(r,e,t,n,i){for(var s=0,a=new Array(Be),o=0;t!==0;o++,t>>>=1)a[o]=t&1?e[s++]:void 0;return a[n]=i,new Ur(r,s+1,a)}function Xu(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),r=r+(r>>4)&252645135,r+=r>>8,r+=r>>16,r&127}function Ju(r,e,t,n){var i=n?r:at(r);return i[e]=t,i}function bh(r,e,t,n){var i=r.length+1;if(n&&e+1===i)return r[e]=t,r;for(var s=new Array(i),a=0,o=0;o<i;o++)o===e?(s[o]=t,a=-1):s[o]=r[o+a];return s}function Sh(r,e,t){var n=r.length-1;if(t&&e===n)return r.pop(),r;for(var i=new Array(n),s=0,a=0;a<n;a++)a===e&&(s=1),i[a]=r[a+s];return i}var Rh=Be/4,xh=Be/2,Ch=Be/4,Qu="@@__IMMUTABLE_LIST__@@";function Zu(r){return Boolean(r&&r[Qu])}var Bi=function(r){function e(t){var n=Yn();if(t==null)return n;if(Zu(t))return t;var i=r(t),s=i.size;return s===0?n:(We(s),s>0&&s<Be?Kr(0,s,re,null,new Ct(i.toArray())):n.withMutations(function(a){a.setSize(s),i.forEach(function(o,l){return a.set(l,o)})}))}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=It(this,n),n>=0&&n<this.size){n+=this._origin;var s=ec(this,n);return s&&s.array[n&Se]}return i},e.prototype.set=function(n,i){return Th(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=re,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Yn()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(s){xt(s,0,i+n.length);for(var a=0;a<n.length;a++)s.set(i+a,n[a])})},e.prototype.pop=function(){return xt(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){xt(i,-n.length);for(var s=0;s<n.length;s++)i.set(s,n[s])})},e.prototype.shift=function(){return xt(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++){var a=n[s],o=r(typeof a!="string"&&Cu(a)?a:[a]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(n){return xt(this,0,n)},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(a){for(var o=0;o<s.size;o++)a.set(o,n.call(i,a.get(o),o,s))})},e.prototype.slice=function(n,i){var s=this.size;return Vi(n,i,s)?this:xt(this,ln(n,s),Li(i,s))},e.prototype.__iterator=function(n,i){var s=i?this.size:0,a=Po(this,i);return new Y(function(){var o=a();return o===Pr?De():se(n,i?--s:s++,o)})},e.prototype.__iterate=function(n,i){for(var s=i?this.size:0,a=Po(this,i),o;(o=a())!==Pr&&n(o,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Kr(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Yn():(this.__ownerID=n,this.__altered=!1,this)},e}(Wt);Bi.isList=Zu;var fe=Bi.prototype;fe[Qu]=!0;fe[on]=fe.remove;fe.merge=fe.concat;fe.setIn=Ta;fe.deleteIn=fe.removeIn=Ea;fe.update=Ia;fe.updateIn=Oa;fe.mergeIn=Da;fe.mergeDeepIn=Na;fe.withMutations=cn;fe.wasAltered=Ma;fe.asImmutable=dn;fe["@@transducer/init"]=fe.asMutable=fn;fe["@@transducer/step"]=function(r,e){return r.push(e)};fe["@@transducer/result"]=function(r){return r.asImmutable()};var Ct=function(e,t){this.array=e,this.ownerID=t};Ct.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var i=n>>>t&Se;if(i>=this.array.length)return new Ct([],e);var s=i===0,a;if(t>0){var o=this.array[i];if(a=o&&o.removeBefore(e,t-re,n),a===o&&s)return this}if(s&&!a)return this;var l=or(this,e);if(!s)for(var u=0;u<i;u++)l.array[u]=void 0;return a&&(l.array[i]=a),l};Ct.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||this.array.length===0)return this;var i=n-1>>>t&Se;if(i>=this.array.length)return this;var s;if(t>0){var a=this.array[i];if(s=a&&a.removeAfter(e,t-re,n),s===a&&i===this.array.length-1)return this}var o=or(this,e);return o.array.splice(i+1),s&&(o.array[i]=s),o};var Pr={};function Po(r,e){var t=r._origin,n=r._capacity,i=Yr(n),s=r._tail;return a(r._root,r._level,0);function a(u,c,f){return c===0?o(u,f):l(u,c,f)}function o(u,c){var f=c===i?s&&s.array:u&&u.array,h=c>t?0:t-c,y=n-c;return y>Be&&(y=Be),function(){if(h===y)return Pr;var m=e?--y:h++;return f&&f[m]}}function l(u,c,f){var h,y=u&&u.array,m=f>t?0:t-f>>c,d=(n-f>>c)+1;return d>Be&&(d=Be),function(){for(;;){if(h){var g=h();if(g!==Pr)return g;h=null}if(m===d)return Pr;var w=e?--d:m++;h=a(y&&y[w],c-re,f+(w<<c))}}}}function Kr(r,e,t,n,i,s,a){var o=Object.create(fe);return o.size=e-r,o._origin=r,o._capacity=e,o._level=t,o._root=n,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}var Vo;function Yn(){return Vo||(Vo=Kr(0,0,re))}function Th(r,e,t){if(e=It(r,e),e!==e)return r;if(e>=r.size||e<0)return r.withMutations(function(a){e<0?xt(a,e).set(0,t):xt(a,0,e+1).set(e,t)});e+=r._origin;var n=r._tail,i=r._root,s=Vs();return e>=Yr(r._capacity)?n=js(n,r.__ownerID,0,e,t,s):i=js(i,r.__ownerID,r._level,e,t,s),s.value?r.__ownerID?(r._root=i,r._tail=n,r.__hash=void 0,r.__altered=!0,r):Kr(r._origin,r._capacity,r._level,i,n):r}function js(r,e,t,n,i,s){var a=n>>>t&Se,o=r&&a<r.array.length;if(!o&&i===void 0)return r;var l;if(t>0){var u=r&&r.array[a],c=js(u,e,t-re,n,i,s);return c===u?r:(l=or(r,e),l.array[a]=c,l)}return o&&r.array[a]===i?r:(s&&Fe(s),l=or(r,e),i===void 0&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function or(r,e){return e&&r&&e===r.ownerID?r:new Ct(r?r.array.slice():[],e)}function ec(r,e){if(e>=Yr(r._capacity))return r._tail;if(e<1<<r._level+re){for(var t=r._root,n=r._level;t&&n>0;)t=t.array[e>>>n&Se],n-=re;return t}}function xt(r,e,t){e!==void 0&&(e|=0),t!==void 0&&(t|=0);var n=r.__ownerID||new ma,i=r._origin,s=r._capacity,a=i+e,o=t===void 0?s:t<0?s+t:i+t;if(a===i&&o===s)return r;if(a>=o)return r.clear();for(var l=r._level,u=r._root,c=0;a+c<0;)u=new Ct(u&&u.array.length?[void 0,u]:[],n),l+=re,c+=1<<l;c&&(a+=c,i+=c,o+=c,s+=c);for(var f=Yr(s),h=Yr(o);h>=1<<l+re;)u=new Ct(u&&u.array.length?[u]:[],n),l+=re;var y=r._tail,m=h<f?ec(r,o-1):h>f?new Ct([],n):y;if(y&&h>f&&a<s&&y.array.length){u=or(u,n);for(var d=u,g=l;g>re;g-=re){var w=f>>>g&Se;d=d.array[w]=or(d.array[w],n)}d.array[f>>>re&Se]=y}if(o<s&&(m=m&&m.removeAfter(n,0,o)),a>=h)a-=h,o-=h,l=re,u=null,m=m&&m.removeBefore(n,0,a);else if(a>i||h<f){for(c=0;u;){var T=a>>>l&Se;if(T!==h>>>l&Se)break;T&&(c+=(1<<l)*T),l-=re,u=u.array[T]}u&&a>i&&(u=u.removeBefore(n,l,a-c)),u&&h<f&&(u=u.removeAfter(n,l,h-c)),c&&(a-=c,o-=c)}return r.__ownerID?(r.size=o-a,r._origin=a,r._capacity=o,r._level=l,r._root=u,r._tail=m,r.__hash=void 0,r.__altered=!0,r):Kr(a,o,l,u,m)}function Yr(r){return r<Be?0:r-1>>>re<<re}var wt=function(r){function e(t){return t==null?Ar():Ou(t)?t:Ar().withMutations(function(n){var i=Ge(t);We(i.size),i.forEach(function(s,a){return n.set(a,s)})})}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ar()},e.prototype.set=function(n,i){return Ho(this,n,i)},e.prototype.remove=function(n){return Ho(this,n,W)},e.prototype.__iterate=function(n,i){var s=this;return this._list.__iterate(function(a){return a&&n(a[1],a[0],s)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?Ha(i,s,n,this.__hash):this.size===0?Ar():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=s,this)},e}(Ut);wt.isOrderedMap=Ou;wt.prototype[yr]=!0;wt.prototype[on]=wt.prototype.remove;function Ha(r,e,t,n){var i=Object.create(wt.prototype);return i.size=r?r.size:0,i._map=r,i._list=e,i.__ownerID=t,i.__hash=n,i.__altered=!1,i}var Lo;function Ar(){return Lo||(Lo=Ha(Je(),Yn()))}function Ho(r,e,t){var n=r._map,i=r._list,s=n.get(e),a=s!==void 0,o,l;if(t===W){if(!a)return r;i.size>=Be&&i.size>=n.size*2?(l=i.filter(function(u,c){return u!==void 0&&s!==c}),o=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),r.__ownerID&&(o.__ownerID=l.__ownerID=r.__ownerID)):(o=n.remove(e),l=s===i.size-1?i.pop():i.set(s,void 0))}else if(a){if(t===i.get(s)[1])return r;o=n,l=i.set(s,[e,t])}else o=n.set(e,i.size),l=i.set(i.size,[e,t]);return r.__ownerID?(r.size=o.size,r._map=o,r._list=l,r.__hash=void 0,r.__altered=!0,r):Ha(o,l)}var tc="@@__IMMUTABLE_STACK__@@";function Bs(r){return Boolean(r&&r[tc])}var $a=function(r){function e(t){return t==null?Tn():Bs(t)?t:Tn().pushAll(t)}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var s=this._head;for(n=It(this,n);s&&n--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,a=arguments.length-1;a>=0;a--)s={value:n[a],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):zr(i,s)},e.prototype.pushAll=function(n){if(n=r(n),n.size===0)return this;if(this.size===0&&Bs(n))return n;We(n.size);var i=this.size,s=this._head;return n.__iterate(function(a){i++,s={value:a,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):zr(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Tn()},e.prototype.slice=function(n,i){if(Vi(n,i,this.size))return this;var s=ln(n,this.size),a=Li(i,this.size);if(a!==this.size)return r.prototype.slice.call(this,n,i);for(var o=this.size-s,l=this._head;s--;)l=l.next;return this.__ownerID?(this.size=o,this._head=l,this.__hash=void 0,this.__altered=!0,this):zr(o,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?zr(this.size,this._head,n,this.__hash):this.size===0?Tn():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var s=this;if(i)return new qt(this.toArray()).__iterate(function(l,u){return n(l,u,s)},i);for(var a=0,o=this._head;o&&n(o.value,a++,this)!==!1;)o=o.next;return a},e.prototype.__iterator=function(n,i){if(i)return new qt(this.toArray()).__iterator(n,i);var s=0,a=this._head;return new Y(function(){if(a){var o=a.value;return a=a.next,se(n,s++,o)}return De()})},e}(Wt);$a.isStack=Bs;var Re=$a.prototype;Re[tc]=!0;Re.shift=Re.pop;Re.unshift=Re.push;Re.unshiftAll=Re.pushAll;Re.withMutations=cn;Re.wasAltered=Ma;Re.asImmutable=dn;Re["@@transducer/init"]=Re.asMutable=fn;Re["@@transducer/step"]=function(r,e){return r.unshift(e)};Re["@@transducer/result"]=function(r){return r.asImmutable()};function zr(r,e,t,n){var i=Object.create(Re);return i.size=r,i._head=e,i.__ownerID=t,i.__hash=n,i.__altered=!1,i}var $o;function Tn(){return $o||($o=zr(0))}var rc="@@__IMMUTABLE_SET__@@";function ka(r){return Boolean(r&&r[rc])}function nc(r){return ka(r)&&Qe(r)}function ic(r,e){if(r===e)return!0;if(!ze(e)||r.size!==void 0&&e.size!==void 0&&r.size!==e.size||r.__hash!==void 0&&e.__hash!==void 0&&r.__hash!==e.__hash||oe(r)!==oe(e)||Ae(r)!==Ae(e)||Qe(r)!==Qe(e))return!1;if(r.size===0&&e.size===0)return!0;var t=!Hi(r);if(Qe(r)){var n=r.entries();return e.every(function(l,u){var c=n.next().value;return c&&$e(c[1],l)&&(t||$e(c[0],u))})&&n.next().done}var i=!1;if(r.size===void 0)if(e.size===void 0)typeof r.cacheResult=="function"&&r.cacheResult();else{i=!0;var s=r;r=e,e=s}var a=!0,o=e.__iterate(function(l,u){if(t?!r.has(l):i?!$e(l,r.get(u,W)):!$e(r.get(u,W),l))return a=!1,!1});return a&&r.size===o}function Kt(r,e){var t=function(n){r.prototype[n]=e[n]};return Object.keys(e).forEach(t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(t),r}function bi(r){if(!r||typeof r!="object")return r;if(!ze(r)){if(!Ot(r))return r;r=ke(r)}if(oe(r)){var e={};return r.__iterate(function(n,i){e[i]=bi(n)}),e}var t=[];return r.__iterate(function(n){t.push(bi(n))}),t}var Fi=function(r){function e(t){return t==null?Dr():ka(t)&&!Qe(t)?t:Dr().withMutations(function(n){var i=r(t);We(i.size),i.forEach(function(s){return n.add(s)})})}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ge(n).keySeq())},e.intersect=function(n){return n=ue(n).toArray(),n.length?ye.intersect.apply(e(n.pop()),n):Dr()},e.union=function(n){return n=ue(n).toArray(),n.length?ye.union.apply(e(n.pop()),n):Dr()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return En(this,this._map.set(n,n))},e.prototype.remove=function(n){return En(this,this._map.remove(n))},e.prototype.clear=function(){return En(this,this._map.clear())},e.prototype.map=function(n,i){var s=this,a=!1,o=En(this,this._map.mapEntries(function(l){var u=l[1],c=n.call(i,u,u,s);return c!==u&&(a=!0),[c,c]},i));return a?o:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var a=0;a<n.length;a++)r(n[a]).forEach(function(o){return s.add(o)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return r(a)});var s=[];return this.forEach(function(a){n.every(function(o){return o.includes(a)})||s.push(a)}),this.withMutations(function(a){s.forEach(function(o){a.remove(o)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(a){return r(a)});var s=[];return this.forEach(function(a){n.some(function(o){return o.includes(a)})&&s.push(a)}),this.withMutations(function(a){s.forEach(function(o){a.remove(o)})})},e.prototype.sort=function(n){return Gr(ir(this,n))},e.prototype.sortBy=function(n,i){return Gr(ir(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var s=this;return this._map.__iterate(function(a){return n(a,a,s)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(mr);Fi.isSet=ka;var ye=Fi.prototype;ye[rc]=!0;ye[on]=ye.remove;ye.merge=ye.concat=ye.union;ye.withMutations=cn;ye.asImmutable=dn;ye["@@transducer/init"]=ye.asMutable=fn;ye["@@transducer/step"]=function(r,e){return r.add(e)};ye["@@transducer/result"]=function(r){return r.asImmutable()};ye.__empty=Dr;ye.__make=sc;function En(r,e){return r.__ownerID?(r.size=e.size,r._map=e,r):e===r._map?r:e.size===0?r.__empty():r.__make(e)}function sc(r,e){var t=Object.create(ye);return t.size=r?r.size:0,t._map=r,t.__ownerID=e,t}var ko;function Dr(){return ko||(ko=sc(Je()))}var Eh=function(r){function e(t,n,i){if(!(this instanceof e))return new e(t,n,i);if(Ca(i!==0,"Cannot step a Range by 0"),t=t||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<t&&(i=-i),this._start=t,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-t)/i-1)+1),this.size===0){if(ls)return ls;ls=this}}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+It(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Vi(n,i,this.size)?this:(n=ln(n,this.size),i=Li(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var s=this.size,a=this._step,o=i?this._start+(s-1)*a:this._start,l=0;l!==s&&n(o,i?s-++l:l++,this)!==!1;)o+=i?-a:a;return l},e.prototype.__iterator=function(n,i){var s=this.size,a=this._step,o=i?this._start+(s-1)*a:this._start,l=0;return new Y(function(){if(l===s)return De();var u=o;return o+=i?-a:a,se(n,i?s-++l:l++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:ic(this,n)},e}(tt),ls;function ac(r,e,t){for(var n=qu(e),i=0;i!==n.length;)if(r=ju(r,n[i++],W),r===W)return t;return r}function oc(r,e){return ac(this,r,e)}function Ih(r,e){return ac(r,e,W)!==W}function Oh(r){return Ih(this,r)}function lc(){We(this.size);var r={};return this.__iterate(function(e,t){r[t]=e}),r}ue.isIterable=ze;ue.isKeyed=oe;ue.isIndexed=Ae;ue.isAssociative=Hi;ue.isOrdered=Qe;ue.Iterator=Y;Kt(ue,{toArray:function(){We(this.size);var e=new Array(this.size||0),t=oe(this),n=0;return this.__iterate(function(i,s){e[n++]=t?[s,i]:i}),e},toIndexedSeq:function(){return new zu(this)},toJS:function(){return bi(this)},toKeyedSeq:function(){return new ji(this,!0)},toMap:function(){return Ut(this.toKeyedSeq())},toObject:lc,toOrderedMap:function(){return wt(this.toKeyedSeq())},toOrderedSet:function(){return Gr(oe(this)?this.valueSeq():this)},toSet:function(){return Fi(oe(this)?this.valueSeq():this)},toSetSeq:function(){return new Du(this)},toSeq:function(){return Ae(this)?this.toIndexedSeq():oe(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return $a(oe(this)?this.valueSeq():this)},toList:function(){return Bi(oe(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return this.size===0?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Z(this,sh(this,e))},includes:function(e){return this.some(function(t){return $e(t,e)})},entries:function(){return this.__iterator(Ke)},every:function(e,t){We(this.size);var n=!0;return this.__iterate(function(i,s,a){if(!e.call(t,i,s,a))return n=!1,!1}),n},filter:function(e,t){return Z(this,Vu(this,e,t,!0))},find:function(e,t,n){var i=this.findEntry(e,t);return i?i[1]:n},forEach:function(e,t){return We(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){We(this.size),e=e!==void 0?""+e:",";var t="",n=!0;return this.__iterate(function(i){n?n=!1:t+=e,t+=i!=null?i.toString():""}),t},keys:function(){return this.__iterator(un)},map:function(e,t){return Z(this,Pu(this,e,t))},reduce:function(e,t,n){return qo(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return qo(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Z(this,Sa(this,!0))},slice:function(e,t){return Z(this,Ra(this,e,t,!0))},some:function(e,t){return!this.every(In(e),t)},sort:function(e){return Z(this,ir(this,e))},values:function(){return this.__iterator(Ze)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,t){return nr(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return rh(this,e,t)},equals:function(e){return ic(this,e)},entrySeq:function(){var e=this;if(e._cache)return new qt(e._cache);var t=e.toSeq().map(zh).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(In(e),t)},findEntry:function(e,t,n){var i=n;return this.__iterate(function(s,a,o){if(e.call(t,s,a,o))return i=[a,s],!1}),i},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(gu,null,e)},flatMap:function(e,t){return Z(this,ah(this,e,t))},flatten:function(e){return Z(this,Hu(this,e,!0))},fromEntrySeq:function(){return new Nu(this)},get:function(e,t){return this.find(function(n,i){return $e(i,e)},void 0,t)},getIn:oc,groupBy:function(e,t){return nh(this,e,t)},has:function(e){return this.get(e,W)!==W},hasIn:Oh,isSubset:function(e){return e=typeof e.includes=="function"?e:ue(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:ue(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return $e(t,e)})},keySeq:function(){return this.toSeq().map(Ah).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return xn(this,e)},maxBy:function(e,t){return xn(this,t,e)},min:function(e){return xn(this,e?jo(e):Fo)},minBy:function(e,t){return xn(this,t?jo(t):Fo,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Z(this,Lu(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(In(e),t)},sortBy:function(e,t){return Z(this,ir(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Z(this,ih(this,e,t))},takeUntil:function(e,t){return this.takeWhile(In(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Dh(this))}});var ve=ue.prototype;ve[vu]=!0;ve[$i]=ve.values;ve.toJSON=ve.toArray;ve.__toStringMapper=Fr;ve.inspect=ve.toSource=function(){return this.toString()};ve.chain=ve.flatMap;ve.contains=ve.includes;Kt(Ge,{flip:function(){return Z(this,Mu(this))},mapEntries:function(e,t){var n=this,i=0;return Z(this,this.toSeq().map(function(s,a){return e.call(t,[a,s],i++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Z(this,this.toSeq().flip().map(function(i,s){return e.call(t,i,s,n)}).flip())}});var hn=Ge.prototype;hn[wu]=!0;hn[$i]=ve.entries;hn.toJSON=lc;hn.__toStringMapper=function(r,e){return Fr(e)+": "+Fr(r)};Kt(Wt,{toKeyedSeq:function(){return new ji(this,!1)},filter:function(e,t){return Z(this,Vu(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return t===void 0?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return t===void 0?-1:t},reverse:function(){return Z(this,Sa(this,!1))},slice:function(e,t){return Z(this,Ra(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),n===0||n===2&&!t)return this;e=ln(e,e<0?this.count():this.size);var i=this.slice(0,e);return Z(this,n===1?i:i.concat(at(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Z(this,Hu(this,e,!1))},get:function(e,t){return e=It(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?t:this.find(function(n,i){return i===e},void 0,t)},has:function(e){return e=It(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Z(this,oh(this,e))},interleave:function(){var e=[this].concat(at(arguments)),t=Cn(this.toSeq(),tt.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Z(this,n)},keySeq:function(){return Eh(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Z(this,Lu(this,e,t,!1))},zip:function(){var e=[this].concat(at(arguments));return Z(this,Cn(this,Bo,e))},zipAll:function(){var e=[this].concat(at(arguments));return Z(this,Cn(this,Bo,e,!0))},zipWith:function(e){var t=at(arguments);return t[0]=this,Z(this,Cn(this,e,t))}});var br=Wt.prototype;br[bu]=!0;br[yr]=!0;Kt(mr,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var lr=mr.prototype;lr.has=ve.includes;lr.contains=lr.includes;lr.keys=lr.values;Kt(Dt,hn);Kt(tt,br);Kt(vr,lr);function qo(r,e,t,n,i,s){return We(r.size),r.__iterate(function(a,o,l){i?(i=!1,t=a):t=e.call(n,t,a,o,l)},s),t}function Ah(r,e){return e}function zh(r,e){return[e,r]}function In(r){return function(){return!r.apply(this,arguments)}}function jo(r){return function(){return-r.apply(this,arguments)}}function Bo(){return at(arguments)}function Fo(r,e){return r<e?1:r>e?-1:0}function Dh(r){if(r.size===1/0)return 0;var e=Qe(r),t=oe(r),n=e?1:0,i=r.__iterate(t?e?function(s,a){n=31*n+Wo(Pe(s),Pe(a))|0}:function(s,a){n=n+Wo(Pe(s),Pe(a))|0}:e?function(s){n=31*n+Pe(s)|0}:function(s){n=n+Pe(s)|0});return Nh(i,n)}function Nh(r,e){return e=Er(e,3432918353),e=Er(e<<15|e>>>-15,461845907),e=Er(e<<13|e>>>-13,5),e=(e+3864292196|0)^r,e=Er(e^e>>>16,2246822507),e=Er(e^e>>>13,3266489909),e=qi(e^e>>>16),e}function Wo(r,e){return r^e+2654435769+(r<<6)+(r>>2)|0}var Gr=function(r){function e(t){return t==null?Fs():nc(t)?t:Fs().withMutations(function(n){var i=mr(t);We(i.size),i.forEach(function(s){return n.add(s)})})}return r&&(e.__proto__=r),e.prototype=Object.create(r&&r.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ge(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Fi);Gr.isOrderedSet=nc;var Yt=Gr.prototype;Yt[yr]=!0;Yt.zip=br.zip;Yt.zipWith=br.zipWith;Yt.zipAll=br.zipAll;Yt.__empty=Fs;Yt.__make=uc;function uc(r,e){var t=Object.create(Yt);return t.size=r?r.size:0,t._map=r,t.__ownerID=e,t}var Uo;function Fs(){return Uo||(Uo=uc(Ar()))}function Mh(r){if(gr(r))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(dt(r))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(r===null||typeof r!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var me=function(e,t){var n;Mh(e);var i=function(o){var l=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var u=Object.keys(e),c=s._indices={};s._name=t,s._keys=u,s._defaultValues=e;for(var f=0;f<u.length;f++){var h=u[f];c[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ja(this)+' with property "'+h+'" since that property name is part of the Record API.'):Ph(s,h)}}return this.__ownerID=void 0,this._values=Bi().withMutations(function(y){y.setSize(l._keys.length),Ge(o).forEach(function(m,d){y.set(l._indices[d],m===l._defaultValues[d]?void 0:m)})}),this},s=i.prototype=Object.create(ee);return s.constructor=i,t&&(i.displayName=t),i};me.prototype.toString=function(){for(var e=ja(this)+" { ",t=this._keys,n,i=0,s=t.length;i!==s;i++)n=t[i],e+=(i?", ":"")+n+": "+Fr(this.get(n));return e+" }"};me.prototype.equals=function(e){return this===e||gr(e)&&ur(this).equals(ur(e))};me.prototype.hashCode=function(){return ur(this).hashCode()};me.prototype.has=function(e){return this._indices.hasOwnProperty(e)};me.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};me.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return qa(this,n)}return this};me.prototype.remove=function(e){return this.set(e)};me.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:qa(this,e)};me.prototype.wasAltered=function(){return this._values.wasAltered()};me.prototype.toSeq=function(){return ur(this)};me.prototype.toJS=function(){return bi(this)};me.prototype.entries=function(){return this.__iterator(Ke)};me.prototype.__iterator=function(e,t){return ur(this).__iterator(e,t)};me.prototype.__iterate=function(e,t){return ur(this).__iterate(e,t)};me.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?qa(this,t,e):(this.__ownerID=e,this._values=t,this)};me.isRecord=gr;me.getDescriptiveName=ja;var ee=me.prototype;ee[Ru]=!0;ee[on]=ee.remove;ee.deleteIn=ee.removeIn=Ea;ee.getIn=oc;ee.hasIn=ve.hasIn;ee.merge=Wu;ee.mergeWith=Uu;ee.mergeIn=Da;ee.mergeDeep=Yu;ee.mergeDeepWith=Gu;ee.mergeDeepIn=Na;ee.setIn=Ta;ee.update=Ia;ee.updateIn=Oa;ee.withMutations=cn;ee.asMutable=fn;ee.asImmutable=dn;ee[$i]=ee.entries;ee.toJSON=ee.toObject=ve.toObject;ee.inspect=ee.toSource=function(){return this.toString()};function qa(r,e,t){var n=Object.create(Object.getPrototypeOf(r));return n._values=e,n.__ownerID=t,n}function ja(r){return r.constructor.displayName||r.constructor.name||"Record"}function ur(r){return va(r._keys.map(function(e){return[e,r.get(e)]}))}function Ph(r,e){try{Object.defineProperty(r,e,{get:function(){return this.get(e)},set:function(t){Ca(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch{}}var cc={exports:{}};(function(r,e){(function(t,n){typeof Wf=="function"&&!0?r.exports=n():t.pluralize=n()})(k,function(){var t=[],n=[],i={},s={},a={};function o(d){return typeof d=="string"?new RegExp("^"+d+"$","i"):d}function l(d,g){return d===g?g:d===d.toLowerCase()?g.toLowerCase():d===d.toUpperCase()?g.toUpperCase():d[0]===d[0].toUpperCase()?g.charAt(0).toUpperCase()+g.substr(1).toLowerCase():g.toLowerCase()}function u(d,g){return d.replace(/\$(\d{1,2})/g,function(w,T){return g[T]||""})}function c(d,g){return d.replace(g[0],function(w,T){var S=u(g[1],arguments);return l(w===""?d[T-1]:w,S)})}function f(d,g,w){if(!d.length||i.hasOwnProperty(d))return g;for(var T=w.length;T--;){var S=w[T];if(S[0].test(g))return c(g,S)}return g}function h(d,g,w){return function(T){var S=T.toLowerCase();return g.hasOwnProperty(S)?l(T,S):d.hasOwnProperty(S)?l(T,d[S]):f(S,T,w)}}function y(d,g,w,T){return function(S){var v=S.toLowerCase();return g.hasOwnProperty(v)?!0:d.hasOwnProperty(v)?!1:f(v,v,w)===v}}function m(d,g,w){var T=g===1?m.singular(d):m.plural(d);return(w?g+" ":"")+T}return m.plural=h(a,s,t),m.isPlural=y(a,s,t),m.singular=h(s,a,n),m.isSingular=y(s,a,n),m.addPluralRule=function(d,g){t.push([o(d),g])},m.addSingularRule=function(d,g){n.push([o(d),g])},m.addUncountableRule=function(d){if(typeof d=="string"){i[d.toLowerCase()]=!0;return}m.addPluralRule(d,"$0"),m.addSingularRule(d,"$0")},m.addIrregularRule=function(d,g){g=g.toLowerCase(),d=d.toLowerCase(),a[d]=g,s[g]=d},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(d){return m.addIrregularRule(d[0],d[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(d){return m.addPluralRule(d[0],d[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(d){return m.addSingularRule(d[0],d[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})})(cc);var Vh=cc.exports;function _t(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.forEach(function(i){X(r,i,t[i])})}return r}class K{static isBrowser(){return typeof window!="undefined"}static isOpera(){return K.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}static isFirefox(){return K.isBrowser()&&typeof InstallTrigger!="undefined"}static isSafari(){return K.isBrowser()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}static isIE(){return K.isBrowser()&&!!document.documentMode}static isEdge(){return K.isBrowser()&&!K.isIE()&&!!window.StyleMedia}static isChrome(){return K.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}static isBlink(){return K.isBrowser()&&(K.isChrome()||K.isOpera())&&!!window.CSS}static getUserAgent(){return typeof navigator=="undefined"?"":navigator.userAgent}static isAndroid(){return K.isBrowser()&&K.getUserAgent().match(/Android/i)}static isBlackBerry(){return K.isBrowser()&&K.getUserAgent().match(/BlackBerry/i)}static isIOS(){return K.isBrowser()&&K.getUserAgent().match(/iPhone|iPad|iPod/i)}static isOpera(){return K.isBrowser()&&K.getUserAgent().match(/Opera Mini/i)}static isWindows(){return K.isBrowser()&&K.isWindowsDesktop()||K.isWindowsMobile()}static isWindowsMobile(){return K.isBrowser()&&K.getUserAgent().match(/IEMobile/i)}static isWindowsDesktop(){return K.isBrowser()&&K.getUserAgent().match(/WPDesktop/i)}static isMobile(){return K.isBrowser()&&(K.isWindowsMobile()||K.isBlackBerry()||K.isAndroid()||K.isIOS())}}const Wi=r=>Object.keys(r).reduce((e,t)=>t.substr(0,5)==="data-"?_t({},e,{[t]:r[t]}):e,{}),us=window.React;class je extends us.Component{static isA(e){return e?e.type===je:!1}constructor(e){super(e),X(this,"ref",us.createRef()),X(this,"onMouseMove",t=>{if(this.state.active){const n=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:n,event:t}),this.props.onResize&&this.props.onResize({component:this,domElement:n}),t.stopPropagation(),t.preventDefault()}}),X(this,"onMouseDown",t=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:t})}),X(this,"onMouseUp",t=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:t}))}),this.state={active:!1},this.document=e.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[K.isMobile()?"reflex-thin":"",...this.props.className.split(" "),this.state.active?"active":"","reflex-splitter"].join(" ").trim();return us.createElement("div",ie({},Wi(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref}),this.props.children)}}X(je,"propTypes",{children:p.oneOfType([p.arrayOf(p.node),p.node]),onStartResize:p.func,onStopResize:p.func,className:p.string,propagate:p.bool,onResize:p.func,style:p.object});X(je,"defaultProps",{document:typeof document!="undefined"?document:null,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});class Lh{constructor(){this._events={}}on(e,t){return e.split(" ").forEach(n=>{this._events[n]=this._events[n]||[],this._events[n].push(t)}),this}off(e,t){if(e==null){this._events={};return}return e.split(" ").forEach(n=>{n in this._events&&(t?this._events[n].splice(this._events[n].indexOf(t),1):this._events[n]=[])}),this}emit(e){if(this._events[e]!==void 0)for(var t=this._events[e].slice(),n=0;n<t.length;++n){var i=t[n].apply(this,Array.prototype.slice.call(arguments,1));if(i!==void 0)return i}}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(this==null)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if(n===0)return!1;var i=e|0,s=Math.max(i>=0?i:n-Math.abs(i),0);function a(o,l){return o===l||typeof o=="number"&&typeof l=="number"&&isNaN(o)&&isNaN(l)}for(;s<n;){if(a(t[s],r))return!0;s++}return!1}});Math.sign||(Math.sign=function(r){return(r>0)-(r<0)||+r});const Nt=window.React;class Ba extends Nt.Component{constructor(e){super(e),X(this,"onWindowResize",()=>{this.setState({flexData:this.computeFlexData()})}),X(this,"onStartResize",t=>{const n=t.event.changedTouches?t.event.changedTouches[0]:t.event;switch(this.props.orientation){case"horizontal":document.body.classList.add("reflex-row-resize"),this.previousPos=n.clientY;break;case"vertical":default:document.body.classList.add("reflex-col-resize"),this.previousPos=n.clientX;break}this.elements=[this.children[t.index-1],this.children[t.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}),X(this,"onResize",t=>{const n=t.event.changedTouches?t.event.changedTouches[0]:t.event,i=this.getOffset(n,t.domElement);switch(this.props.orientation){case"horizontal":this.previousPos=n.clientY;break;case"vertical":default:this.previousPos=n.clientX;break}if(i){const s=this.computeAvailableOffset(t.index,i);s&&(this.elements=this.dispatchOffset(t.index,s),this.adjustFlex(this.elements),this.setState({resizing:!0},()=>{this.emitElementsEvent(this.elements,"onResize")}))}}),X(this,"onStopResize",t=>{document.body.classList.remove("reflex-row-resize"),document.body.classList.remove("reflex-col-resize");const n=this.elements?this.elements.map(s=>s.ref):[],i=this.children.filter(s=>!je.isA(s)&&n.includes(s.ref));this.emitElementsEvent(i,"onStopResize"),this.setState({resizing:!1})}),X(this,"onElementSize",t=>new Promise(n=>{try{const i=t.index,s=this.getSize(this.children[i]),a=t.size-s,o=t.direction,l=i+o,u=this.computeAvailableOffset(l,o*a);this.elements=null,u&&(this.elements=this.dispatchOffset(l,u),this.adjustFlex(this.elements)),this.setState(this.state,()=>{this.emitElementsEvent(this.elements,"onResize"),n()})}catch(i){console.log(i)}})),this.events=new Lh,this.children=[],this.state={flexData:[]},this.ref=Nt.createRef()}componentDidMount(){const e=this.computeFlexData(),{windowResizeAware:t}=this.props;t&&window.addEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:t,flexData:e}),this.events.on("element.size",this.onElementSize),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize)}componentWillUnmount(){this.events.off(),window.removeEventListener("resize",this.onWindowResize)}getValidChildren(e=this.props){return this.toArray(e.children).filter(t=>!!t)}componentDidUpdate(e,t){const n=this.getValidChildren(this.props);if(n.length!==this.state.flexData.length||e.orientation!==this.props.orientation||this.flexHasChanged(e)){const i=this.computeFlexData(n,this.props);this.setState({flexData:i})}this.props.windowResizeAware!==this.state.windowResizeAware&&(this.props.windowResizeAware?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:this.props.windowResizeAware}))}flexHasChanged(e){const t=this.getValidChildren(e).map(i=>i.props.flex||0);return!this.getValidChildren().map(i=>i.props.flex||0).every((i,s)=>i===t[s])}getSize(e){const t=e.ref.current;switch(this.props.orientation){case"horizontal":return t.offsetHeight;case"vertical":default:return t.offsetWidth}}getOffset(e,t){const{top:n,bottom:i,left:s,right:a}=t.getBoundingClientRect();switch(this.props.orientation){case"horizontal":{const o=e.clientY-this.previousPos;if(o>0){if(e.clientY>=n)return o}else if(e.clientY<=i)return o;break}case"vertical":default:{const o=e.clientX-this.previousPos;if(o>0){if(e.clientX>s)return o}else if(e.clientX<a)return o}break}return 0}adjustFlex(e){const t=e.reduce((n,i)=>{const s=i.props.index,a=i.props.flex,o=this.state.flexData[s].flex;return n+(a-o)/e.length},0);e.forEach(n=>{this.state.flexData[n.props.index].flex+=t})}computeAvailableOffset(e,t){const n=this.computeAvailableStretch(e,t),i=this.computeAvailableShrink(e,t);return Math.min(n,i)*Math.sign(t)}checkPropagate(e,t){if(t>0){if(e<this.children.length-2){const n=this.children[e+2];return je.isA(n)&&n.props.propagate}}else if(e>2){const n=this.children[e-2];return je.isA(n)&&n.props.propagate}return!1}computeAvailableStretch(e,t){const n=t<0?e+1:e-1,i=this.children[n],s=this.getSize(i),o=i.props.maxSize-s;if(o<Math.abs(t)&&this.checkPropagate(e,-1*t)){const l=Math.sign(t)*(Math.abs(t)-o);return o+this.computeAvailableStretch(t<0?e+2:e-2,l)}return Math.min(o,Math.abs(t))}computeAvailableShrink(e,t){const n=t>0?e+1:e-1,i=this.children[n],s=this.getSize(i),a=Math.max(i.props.minSize,0),o=s-a;if(o<Math.abs(t)&&this.checkPropagate(e,t)){const l=Math.sign(t)*(Math.abs(t)-o);return o+this.computeAvailableShrink(t>0?e+2:e-2,l)}return Math.min(o,Math.abs(t))}computePixelFlex(e=this.props.orientation){if(!this.ref.current)return console.warn("Unable to locate ReflexContainer dom node"),0;switch(e){case"horizontal":return this.ref.current.offsetHeight===0?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetHeight;case"vertical":default:return this.ref.current.offsetWidth===0?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetWidth}}addOffset(e,t){const n=this.getSize(e),i=e.props.index,s=Math.max(n+t,0),a=this.state.flexData[i].flex,o=a>0?a*s/n:this.computePixelFlex()*s;this.state.flexData[i].flex=!isFinite(o)||isNaN(o)?0:o}dispatchStretch(e,t){const n=t<0?e+1:e-1;if(n<0||n>this.children.length-1)return[];const i=this.children[n],s=this.getSize(i),o=Math.min(i.props.maxSize,s+Math.abs(t))-s;if(this.addOffset(i,o),o<Math.abs(t)){const l=e-Math.sign(t)*2,u=Math.sign(t)*(Math.abs(t)-o);return[i,...this.dispatchStretch(l,u)]}return[i]}dispatchShrink(e,t){const n=t>0?e+1:e-1;if(n<0||n>this.children.length-1)return[];const i=this.children[n],s=this.getSize(i),o=Math.max(i.props.minSize,s-Math.abs(t))-s;if(this.addOffset(i,o),Math.abs(o)<Math.abs(t)){const l=e+Math.sign(t)*2,u=Math.sign(t)*(Math.abs(t)+o);return[i,...this.dispatchShrink(l,u)]}return[i]}dispatchOffset(e,t){return[...this.dispatchStretch(e,t),...this.dispatchShrink(e,t)]}emitElementsEvent(e,t){this.toArray(e).forEach(n=>{n.props[t]&&n.props[t]({domElement:n.ref.current,component:n})})}computeFlexData(e=this.getValidChildren(),t=this.props){const n=this.computePixelFlex(t.orientation),i=u=>u.reduce((c,f)=>!je.isA(f)&&f.constrained?c-f.flex:c,1),s=u=>u.reduce((c,f)=>!je.isA(f)&&!f.constrained?c+1:c,0),a=e.map(u=>{const c=u.props;return{maxFlex:(c.maxSize||Number.MAX_VALUE)*n,sizeFlex:(c.size||Number.MAX_VALUE)*n,minFlex:(c.minSize||1)*n,constrained:c.flex!==void 0,flex:c.flex||0,type:u.type}}),o=(u,c=0)=>{let f=!1;const h=s(u),y=i(u),m=u.map(d=>{if(je.isA(d))return d;const g=d.constrained?d.flex:y/h,w=Math.min(d.sizeFlex,Math.min(d.maxFlex,Math.max(d.minFlex,g))),T=d.constrained||w!==g;return f=f||T,_t({},d,{flex:w,constrained:T})});return f&&c<this.props.maxRecDepth?o(m,c+1):m};return o(a).map(u=>({flex:je.isA(u)?0:u.flex,ref:Nt.createRef()}))}toArray(e){return e?Array.isArray(e)?e:[e]:[]}render(){const e=[this.state.resizing?"reflex-resizing":"",...this.props.className.split(" "),this.props.orientation,"reflex-container"].join(" ").trim();return this.children=Nt.Children.map(this.getValidChildren(),(t,n)=>{if(n>this.state.flexData.length-1)return Nt.createElement("div",null);const i=this.state.flexData[n],s=_t({},t.props,{maxSize:t.props.maxSize||Number.MAX_VALUE,orientation:this.props.orientation,minSize:t.props.minSize||1,events:this.events,flex:i.flex,ref:i.ref,index:n});return Nt.cloneElement(t,s)}),Nt.createElement("div",ie({},Wi(this.props),{style:this.props.style,className:e,ref:this.ref}),this.children)}}X(Ba,"propTypes",{windowResizeAware:p.bool,orientation:p.oneOf(["horizontal","vertical"]),maxRecDepth:p.number,className:p.string,style:p.object});X(Ba,"defaultProps",{orientation:"horizontal",windowResizeAware:!1,maxRecDepth:100,className:"",style:{}});const cs=window.React;class Sr extends cs.Component{static isA(e){return e?e.type===Sr:!1}constructor(e){super(e),X(this,"ref",cs.createRef()),X(this,"onMouseMove",t=>{if(this.state.active){const n=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:n,event:t}),this.props.onResize&&this.props.onResize({component:this,domElement:n}),t.stopPropagation(),t.preventDefault()}}),X(this,"onMouseDown",t=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:t})}),X(this,"onMouseUp",t=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:t}))}),this.state={active:!1},this.document=e.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const e=[...this.props.className.split(" "),this.state.active?"active":"","reflex-handle"].join(" ").trim();return cs.createElement("div",ie({},Wi(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:e,id:this.props.id,ref:this.ref}),this.props.children)}}X(Sr,"propTypes",{children:p.oneOfType([p.arrayOf(p.node),p.node]),onStartResize:p.func,onStopResize:p.func,className:p.string,propagate:p.bool,onResize:p.func,style:p.object});X(Sr,"defaultProps",{document:typeof document=="undefined"?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var fc="Expected a function",Ko=0/0,Hh="[object Symbol]",$h=/^\s+|\s+$/g,kh=/^[-+]0x[0-9a-f]+$/i,qh=/^0b[01]+$/i,jh=/^0o[0-7]+$/i,Bh=parseInt,Fh=typeof k=="object"&&k&&k.Object===Object&&k,Wh=typeof self=="object"&&self&&self.Object===Object&&self,Uh=Fh||Wh||Function("return this")(),Kh=Object.prototype,Yh=Kh.toString,Gh=Math.max,Xh=Math.min,fs=function(){return Uh.Date.now()};function Jh(r,e,t){var n,i,s,a,o,l,u=0,c=!1,f=!1,h=!0;if(typeof r!="function")throw new TypeError(fc);e=Yo(e)||0,Si(t)&&(c=!!t.leading,f="maxWait"in t,s=f?Gh(Yo(t.maxWait)||0,e):s,h="trailing"in t?!!t.trailing:h);function y(b){var R=n,O=i;return n=i=void 0,u=b,a=r.apply(O,R),a}function m(b){return u=b,o=setTimeout(w,e),c?y(b):a}function d(b){var R=b-l,O=b-u,N=e-R;return f?Xh(N,s-O):N}function g(b){var R=b-l,O=b-u;return l===void 0||R>=e||R<0||f&&O>=s}function w(){var b=fs();if(g(b))return T(b);o=setTimeout(w,d(b))}function T(b){return o=void 0,h&&n?y(b):(n=i=void 0,a)}function S(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function v(){return o===void 0?a:T(fs())}function _(){var b=fs(),R=g(b);if(n=arguments,i=this,l=b,R){if(o===void 0)return m(l);if(f)return o=setTimeout(w,e),y(l)}return o===void 0&&(o=setTimeout(w,e)),a}return _.cancel=S,_.flush=v,_}function Qh(r,e,t){var n=!0,i=!0;if(typeof r!="function")throw new TypeError(fc);return Si(t)&&(n="leading"in t?!!t.leading:n,i="trailing"in t?!!t.trailing:i),Jh(r,e,{leading:n,maxWait:e,trailing:i})}function Si(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function Zh(r){return!!r&&typeof r=="object"}function ep(r){return typeof r=="symbol"||Zh(r)&&Yh.call(r)==Hh}function Yo(r){if(typeof r=="number")return r;if(ep(r))return Ko;if(Si(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Si(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace($h,"");var t=qh.test(r);return t||jh.test(r)?Bh(r.slice(2),t?2:8):kh.test(r)?Ko:+r}var tp=Qh,dc=function(){if(typeof Map!="undefined")return Map;function r(e,t){var n=-1;return e.some(function(i,s){return i[0]===t?(n=s,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=r(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(t,n){var i=r(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,i=r(n,t);~i&&n.splice(i,1)},e.prototype.has=function(t){return!!~r(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];t.call(n,a[1],a[0])}},e}()}(),Ws=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Ri=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),rp=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ri):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),np=2;function ip(r,e){var t=!1,n=!1,i=0;function s(){t&&(t=!1,r()),n&&o()}function a(){rp(s)}function o(){var l=Date.now();if(t){if(l-i<np)return;n=!0}else t=!0,n=!1,setTimeout(a,e);i=l}return o}var sp=20,ap=["top","right","bottom","left","width","height","size","weight"],op=typeof MutationObserver!="undefined",lp=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ip(this.refresh.bind(this),sp)}return r.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},r.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},r.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},r.prototype.connect_=function(){!Ws||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),op?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!Ws||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,i=ap.some(function(s){return!!~n.indexOf(s)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),hc=function(r,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];Object.defineProperty(r,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return r},cr=function(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||Ri},pc=Ui(0,0,0,0);function xi(r){return parseFloat(r)||0}function Go(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,i){var s=r["border-"+i+"-width"];return n+xi(s)},0)}function up(r){for(var e=["top","right","bottom","left"],t={},n=0,i=e;n<i.length;n++){var s=i[n],a=r["padding-"+s];t[s]=xi(a)}return t}function cp(r){var e=r.getBBox();return Ui(0,0,e.width,e.height)}function fp(r){var e=r.clientWidth,t=r.clientHeight;if(!e&&!t)return pc;var n=cr(r).getComputedStyle(r),i=up(n),s=i.left+i.right,a=i.top+i.bottom,o=xi(n.width),l=xi(n.height);if(n.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=Go(n,"left","right")+s),Math.round(l+a)!==t&&(l-=Go(n,"top","bottom")+a)),!hp(r)){var u=Math.round(o+s)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(o-=u),Math.abs(c)!==1&&(l-=c)}return Ui(i.left,i.top,o,l)}var dp=function(){return typeof SVGGraphicsElement!="undefined"?function(r){return r instanceof cr(r).SVGGraphicsElement}:function(r){return r instanceof cr(r).SVGElement&&typeof r.getBBox=="function"}}();function hp(r){return r===cr(r).document.documentElement}function pp(r){return Ws?dp(r)?cp(r):fp(r):pc}function mp(r){var e=r.x,t=r.y,n=r.width,i=r.height,s=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return hc(a,{x:e,y:t,width:n,height:i,top:t,right:e+n,bottom:i+t,left:e}),a}function Ui(r,e,t,n){return{x:r,y:e,width:t,height:n}}var gp=function(){function r(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ui(0,0,0,0),this.target=e}return r.prototype.isActive=function(){var e=pp(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},r}(),yp=function(){function r(e,t){var n=mp(t);hc(this,{target:e,contentRect:n})}return r}(),_p=function(){function r(e,t,n){if(this.activeObservations_=[],this.observations_=new dc,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return r.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof cr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new gp(e)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof cr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},r.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new yp(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),mc=typeof WeakMap!="undefined"?new WeakMap:new dc,gc=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=lp.getInstance(),n=new _p(e,t,this);mc.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){gc.prototype[r]=function(){var e;return(e=mc.get(this))[r].apply(e,arguments)}});var vp=function(){return typeof Ri.ResizeObserver!="undefined"?Ri.ResizeObserver:gc}();const wp=window.React.Component,bp=window.React.createElement;var Sp=["client","offset","scroll","bounds","margin"];function Xo(r){var e=[];return Sp.forEach(function(t){r[t]&&e.push(t)}),e}function Jo(r,e){var t={};if(e.indexOf("client")>-1&&(t.client={top:r.clientTop,left:r.clientLeft,width:r.clientWidth,height:r.clientHeight}),e.indexOf("offset")>-1&&(t.offset={top:r.offsetTop,left:r.offsetLeft,width:r.offsetWidth,height:r.offsetHeight}),e.indexOf("scroll")>-1&&(t.scroll={top:r.scrollTop,left:r.scrollLeft,width:r.scrollWidth,height:r.scrollHeight}),e.indexOf("bounds")>-1){var n=r.getBoundingClientRect();t.bounds={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}if(e.indexOf("margin")>-1){var i=getComputedStyle(r);t.margin={top:i?parseInt(i.marginTop):0,right:i?parseInt(i.marginRight):0,bottom:i?parseInt(i.marginBottom):0,left:i?parseInt(i.marginLeft):0}}return t}function Rp(r){var e=r&&r.ownerDocument&&r.ownerDocument.defaultView;return e||window}function xp(r){return function(e){var t,n;return n=t=function(i){Ye(s,i);function s(){for(var o,l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return o=i.call.apply(i,[this].concat(u))||this,o.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},o._animationFrameID=null,o._resizeObserver=null,o._node=null,o._window=null,o.measure=function(f){var h=Jo(o._node,r||Xo(o.props));f&&(h.entry=f[0].contentRect),o._animationFrameID=o._window.requestAnimationFrame(function(){o._resizeObserver!==null&&(o.setState({contentRect:h}),typeof o.props.onResize=="function"&&o.props.onResize(h))})},o._handleRef=function(f){o._resizeObserver!==null&&o._node!==null&&o._resizeObserver.unobserve(o._node),o._node=f,o._window=Rp(o._node);var h=o.props.innerRef;h&&(typeof h=="function"?h(o._node):h.current=o._node),o._resizeObserver!==null&&o._node!==null&&o._resizeObserver.observe(o._node)},o}var a=s.prototype;return a.componentDidMount=function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new vp(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(Jo(this._node,r||Xo(this.props))))},a.componentWillUnmount=function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},a.render=function(){var l=this.props;l.innerRef,l.onResize;var u=Ve(l,["innerRef","onResize"]);return bp(e,ie({},u,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},s}(wp),t.propTypes={client:p.bool,offset:p.bool,scroll:p.bool,bounds:p.bool,margin:p.bool,innerRef:p.oneOfType([p.object,p.func]),onResize:p.func},n}}var Fa=xp()(function(r){var e=r.measure,t=r.measureRef,n=r.contentRect,i=r.children;return i({measure:e,measureRef:t,contentRect:n})});Fa.displayName="Measure";Fa.propTypes.children=p.func;const Ee=window.React,Us=r=>r?Array.isArray(r)?r:[r]:[];class Cp extends Ee.Component{constructor(e){super(e),X(this,"onResize",t=>{const{resizeHeight:n,resizeWidth:i}=this.props,{height:s,width:a}=t.bounds;this.setDimensions(_t({},n&&{height:s},i&&{width:a}))}),this.setDimensions=tp(t=>{this.setState(t)},this.props.propagateDimensionsRate/1e3),this.state={height:"100%",width:"100%"}}renderChildren(){const{propagateDimensions:e}=this.props,t=Us(this.props.children).filter(n=>!!n);return Ee.Children.map(t,n=>this.props.withHandle||Sr.isA(n)?Ee.cloneElement(n,_t({dimensions:e&&this.state},n.props,{index:this.props.index-1,events:this.props.events})):e?Ee.cloneElement(n,_t({},n.props,{dimensions:this.state})):n)}render(){return Ee.createElement(Fa,{bounds:!0,onResize:this.onResize},({measureRef:e})=>Ee.createElement("div",{ref:e,className:"reflex-size-aware"},Ee.createElement("div",{style:this.state},this.renderChildren())))}}class Wa extends Ee.Component{constructor(e){super(e),this.state={size:e.size}}static getDerivedStateFromProps(e,t){return e.size!==t.size?_t({},t,{size:e.size}):null}async componentDidUpdate(e,t,n){if(t.size!==this.state.size){const i=Us(this.props.direction);for(let s of i)await this.props.events.emit("element.size",{index:this.props.index,size:this.props.size,direction:s})}}renderChildren(){const e=Us(this.props.children).filter(t=>!!t);return Ee.Children.map(e,t=>this.props.withHandle||Sr.isA(t)?Ee.cloneElement(t,_t({},t.props,{index:this.props.index-1,events:this.props.events})):t)}render(){const e=[...this.props.className.split(" "),this.props.orientation,"reflex-element"].join(" ").trim(),t=_t({},this.props.style,{flexGrow:this.props.flex,flexShrink:1,flexBasis:"0%"});return Ee.createElement("div",ie({},Wi(this.props),{ref:this.props.innerRef,className:e,style:t}),this.props.propagateDimensions?Ee.createElement(Cp,this.props):this.renderChildren())}}X(Wa,"propTypes",{propagateDimensions:p.bool,resizeHeight:p.bool,resizeWidth:p.bool,className:p.string,size:p.number});X(Wa,"defaultProps",{propagateDimensionsRate:100,propagateDimensions:!1,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""});var Qo=Ee.forwardRef((r,e)=>Ee.createElement(Wa,ie({innerRef:e},r)));const Gn=({items:r,maxItemCount:e=4})=>{const t=r.length>e;return t&&(r=r.slice(-e)),G("div",{className:"Breadcrumbs",children:[r.length>0&&x("span",{children:"You are in: "}),t&&G(_e,{children:[x("button",{className:"BreadcrumbItem Current",children:"..."}),x("span",{children:">"})]}),r.map((n,i)=>G(_e,{children:[x("button",{className:`BreadcrumbItem ${n.isCurrent?"Current":""}`,onClick:s=>{s.preventDefault(),n.action&&n.action()},children:n.name},i),i!==r.length-1&&x("span",{children:">"})]}))]})};try{Gn.displayName="Breadcrumbs",Gn.__docgenInfo={description:"",displayName:"Breadcrumbs",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BreadcrumbItem[]"}},maxItemCount:{defaultValue:{value:"4"},description:"",name:"maxItemCount",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"]={docgenInfo:Gn.__docgenInfo,name:"Breadcrumbs",path:"src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"})}catch{}const rr=window.React.createElement,yc=window.React.PureComponent;var Tp=typeof performance=="object"&&typeof performance.now=="function",Zo=Tp?function(){return performance.now()}:function(){return Date.now()};function Ci(r){cancelAnimationFrame(r.id)}function _c(r,e){var t=Zo();function n(){Zo()-t>=e?r.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var ds=-1;function Ep(r){if(r===void 0&&(r=!1),ds===-1||r){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),ds=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ds}var Qt=null;function Ti(r){if(r===void 0&&(r=!1),Qt===null||r){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?Qt="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Qt="negative":Qt="positive-ascending"),document.body.removeChild(e),Qt}return Qt}var Ip=150,Op=function(e){var t=e.columnIndex;e.data;var n=e.rowIndex;return n+":"+t};function vc(r){var e,t=r.getColumnOffset,n=r.getColumnStartIndexForOffset,i=r.getColumnStopIndexForStartIndex,s=r.getColumnWidth,a=r.getEstimatedTotalHeight,o=r.getEstimatedTotalWidth,l=r.getOffsetForColumnAndAlignment,u=r.getOffsetForRowAndAlignment,c=r.getRowHeight,f=r.getRowOffset,h=r.getRowStartIndexForOffset,y=r.getRowStopIndexForStartIndex,m=r.initInstanceProps,d=r.shouldResetStyleCacheOnItemSizeChange,g=r.validateProps;return e=function(w){Ye(T,w);function T(v){var _;return _=w.call(this,v)||this,_._instanceProps=m(_.props,$(_)),_._resetIsScrollingTimeoutId=null,_._outerRef=void 0,_.state={instance:$(_),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof _.props.initialScrollLeft=="number"?_.props.initialScrollLeft:0,scrollTop:typeof _.props.initialScrollTop=="number"?_.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},_._callOnItemsRendered=void 0,_._callOnItemsRendered=Oe(function(b,R,O,N,z,P,q,C){return _.props.onItemsRendered({overscanColumnStartIndex:b,overscanColumnStopIndex:R,overscanRowStartIndex:O,overscanRowStopIndex:N,visibleColumnStartIndex:z,visibleColumnStopIndex:P,visibleRowStartIndex:q,visibleRowStopIndex:C})}),_._callOnScroll=void 0,_._callOnScroll=Oe(function(b,R,O,N,z){return _.props.onScroll({horizontalScrollDirection:O,scrollLeft:b,scrollTop:R,verticalScrollDirection:N,scrollUpdateWasRequested:z})}),_._getItemStyle=void 0,_._getItemStyle=function(b,R){var O=_.props,N=O.columnWidth,z=O.direction,P=O.rowHeight,q=_._getItemStyleCache(d&&N,d&&z,d&&P),C=b+":"+R,E;if(q.hasOwnProperty(C))E=q[C];else{var A=t(_.props,R,_._instanceProps),M=z==="rtl";q[C]=E={position:"absolute",left:M?void 0:A,right:M?A:void 0,top:f(_.props,b,_._instanceProps),height:c(_.props,b,_._instanceProps),width:s(_.props,R,_._instanceProps)}}return E},_._getItemStyleCache=void 0,_._getItemStyleCache=Oe(function(b,R,O){return{}}),_._onScroll=function(b){var R=b.currentTarget,O=R.clientHeight,N=R.clientWidth,z=R.scrollLeft,P=R.scrollTop,q=R.scrollHeight,C=R.scrollWidth;_.setState(function(E){if(E.scrollLeft===z&&E.scrollTop===P)return null;var A=_.props.direction,M=z;if(A==="rtl")switch(Ti()){case"negative":M=-z;break;case"positive-descending":M=C-N-z;break}M=Math.max(0,Math.min(M,C-N));var U=Math.max(0,Math.min(P,q-O));return{isScrolling:!0,horizontalScrollDirection:E.scrollLeft<z?"forward":"backward",scrollLeft:M,scrollTop:U,verticalScrollDirection:E.scrollTop<P?"forward":"backward",scrollUpdateWasRequested:!1}},_._resetIsScrollingDebounced)},_._outerRefSetter=function(b){var R=_.props.outerRef;_._outerRef=b,typeof R=="function"?R(b):R!=null&&typeof R=="object"&&R.hasOwnProperty("current")&&(R.current=b)},_._resetIsScrollingDebounced=function(){_._resetIsScrollingTimeoutId!==null&&Ci(_._resetIsScrollingTimeoutId),_._resetIsScrollingTimeoutId=_c(_._resetIsScrolling,Ip)},_._resetIsScrolling=function(){_._resetIsScrollingTimeoutId=null,_.setState({isScrolling:!1},function(){_._getItemStyleCache(-1)})},_}T.getDerivedStateFromProps=function(_,b){return Ap(_,b),g(_),null};var S=T.prototype;return S.scrollTo=function(_){var b=_.scrollLeft,R=_.scrollTop;b!==void 0&&(b=Math.max(0,b)),R!==void 0&&(R=Math.max(0,R)),this.setState(function(O){return b===void 0&&(b=O.scrollLeft),R===void 0&&(R=O.scrollTop),O.scrollLeft===b&&O.scrollTop===R?null:{horizontalScrollDirection:O.scrollLeft<b?"forward":"backward",scrollLeft:b,scrollTop:R,scrollUpdateWasRequested:!0,verticalScrollDirection:O.scrollTop<R?"forward":"backward"}},this._resetIsScrollingDebounced)},S.scrollToItem=function(_){var b=_.align,R=b===void 0?"auto":b,O=_.columnIndex,N=_.rowIndex,z=this.props,P=z.columnCount,q=z.height,C=z.rowCount,E=z.width,A=this.state,M=A.scrollLeft,U=A.scrollTop,L=Ep();O!==void 0&&(O=Math.max(0,Math.min(O,P-1))),N!==void 0&&(N=Math.max(0,Math.min(N,C-1)));var D=a(this.props,this._instanceProps),I=o(this.props,this._instanceProps),B=I>E?L:0,H=D>q?L:0;this.scrollTo({scrollLeft:O!==void 0?l(this.props,O,R,M,this._instanceProps,H):M,scrollTop:N!==void 0?u(this.props,N,R,U,this._instanceProps,B):U})},S.componentDidMount=function(){var _=this.props,b=_.initialScrollLeft,R=_.initialScrollTop;if(this._outerRef!=null){var O=this._outerRef;typeof b=="number"&&(O.scrollLeft=b),typeof R=="number"&&(O.scrollTop=R)}this._callPropsCallbacks()},S.componentDidUpdate=function(){var _=this.props.direction,b=this.state,R=b.scrollLeft,O=b.scrollTop,N=b.scrollUpdateWasRequested;if(N&&this._outerRef!=null){var z=this._outerRef;if(_==="rtl")switch(Ti()){case"negative":z.scrollLeft=-R;break;case"positive-ascending":z.scrollLeft=R;break;default:var P=z.clientWidth,q=z.scrollWidth;z.scrollLeft=q-P-R;break}else z.scrollLeft=Math.max(0,R);z.scrollTop=Math.max(0,O)}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ci(this._resetIsScrollingTimeoutId)},S.render=function(){var _=this.props,b=_.children,R=_.className,O=_.columnCount,N=_.direction,z=_.height,P=_.innerRef,q=_.innerElementType,C=_.innerTagName,E=_.itemData,A=_.itemKey,M=A===void 0?Op:A,U=_.outerElementType,L=_.outerTagName,D=_.rowCount,I=_.style,B=_.useIsScrolling,H=_.width,V=this.state.isScrolling,j=this._getHorizontalRangeToRender(),ae=j[0],we=j[1],de=this._getVerticalRangeToRender(),Jt=de[0],St=de[1],_o=[];if(O>0&&D)for(var xr=Jt;xr<=St;xr++)for(var Cr=ae;Cr<=we;Cr++)_o.push(rr(b,{columnIndex:Cr,data:E,isScrolling:B?V:void 0,key:M({columnIndex:Cr,data:E,rowIndex:xr}),rowIndex:xr,style:this._getItemStyle(xr,Cr)}));var Bf=a(this.props,this._instanceProps),Ff=o(this.props,this._instanceProps);return rr(U||L||"div",{className:R,onScroll:this._onScroll,ref:this._outerRefSetter,style:ie({position:"relative",height:z,width:H,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:N},I)},rr(q||C||"div",{children:_o,ref:P,style:{height:Bf,pointerEvents:V?"none":void 0,width:Ff}}))},S._callPropsCallbacks=function(){var _=this.props,b=_.columnCount,R=_.onItemsRendered,O=_.onScroll,N=_.rowCount;if(typeof R=="function"&&b>0&&N>0){var z=this._getHorizontalRangeToRender(),P=z[0],q=z[1],C=z[2],E=z[3],A=this._getVerticalRangeToRender(),M=A[0],U=A[1],L=A[2],D=A[3];this._callOnItemsRendered(P,q,M,U,C,E,L,D)}if(typeof O=="function"){var I=this.state,B=I.horizontalScrollDirection,H=I.scrollLeft,V=I.scrollTop,j=I.scrollUpdateWasRequested,ae=I.verticalScrollDirection;this._callOnScroll(H,V,B,ae,j)}},S._getHorizontalRangeToRender=function(){var _=this.props,b=_.columnCount,R=_.overscanColumnCount,O=_.overscanColumnsCount,N=_.overscanCount,z=_.rowCount,P=this.state,q=P.horizontalScrollDirection,C=P.isScrolling,E=P.scrollLeft,A=R||O||N||1;if(b===0||z===0)return[0,0,0,0];var M=n(this.props,E,this._instanceProps),U=i(this.props,M,E,this._instanceProps),L=!C||q==="backward"?Math.max(1,A):1,D=!C||q==="forward"?Math.max(1,A):1;return[Math.max(0,M-L),Math.max(0,Math.min(b-1,U+D)),M,U]},S._getVerticalRangeToRender=function(){var _=this.props,b=_.columnCount,R=_.overscanCount,O=_.overscanRowCount,N=_.overscanRowsCount,z=_.rowCount,P=this.state,q=P.isScrolling,C=P.verticalScrollDirection,E=P.scrollTop,A=O||N||R||1;if(b===0||z===0)return[0,0,0,0];var M=h(this.props,E,this._instanceProps),U=y(this.props,M,E,this._instanceProps),L=!q||C==="backward"?Math.max(1,A):1,D=!q||C==="forward"?Math.max(1,A):1;return[Math.max(0,M-L),Math.max(0,Math.min(z-1,U+D)),M,U]},T}(yc),e.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},e}var Ap=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},el=50,wc=function(e,t){var n=e.rowCount,i=t.rowMetadataMap,s=t.estimatedRowHeight,a=t.lastMeasuredRowIndex,o=0;if(a>=n&&(a=n-1),a>=0){var l=i[a];o=l.offset+l.size}var u=n-a-1,c=u*s;return o+c},bc=function(e,t){var n=e.columnCount,i=t.columnMetadataMap,s=t.estimatedColumnWidth,a=t.lastMeasuredColumnIndex,o=0;if(a>=n&&(a=n-1),a>=0){var l=i[a];o=l.offset+l.size}var u=n-a-1,c=u*s;return o+c},yt=function(e,t,n,i){var s,a,o;if(e==="column"?(s=i.columnMetadataMap,a=t.columnWidth,o=i.lastMeasuredColumnIndex):(s=i.rowMetadataMap,a=t.rowHeight,o=i.lastMeasuredRowIndex),n>o){var l=0;if(o>=0){var u=s[o];l=u.offset+u.size}for(var c=o+1;c<=n;c++){var f=a(c);s[c]={offset:l,size:f},l+=f}e==="column"?i.lastMeasuredColumnIndex=n:i.lastMeasuredRowIndex=n}return s[n]},tl=function(e,t,n,i){var s,a;e==="column"?(s=n.columnMetadataMap,a=n.lastMeasuredColumnIndex):(s=n.rowMetadataMap,a=n.lastMeasuredRowIndex);var o=a>0?s[a].offset:0;return o>=i?Sc(e,t,n,a,0,i):zp(e,t,n,Math.max(0,a),i)},Sc=function(e,t,n,i,s,a){for(;s<=i;){var o=s+Math.floor((i-s)/2),l=yt(e,t,o,n).offset;if(l===a)return o;l<a?s=o+1:l>a&&(i=o-1)}return s>0?s-1:0},zp=function(e,t,n,i,s){for(var a=e==="column"?t.columnCount:t.rowCount,o=1;i<a&&yt(e,t,i,n).offset<s;)i+=o,o*=2;return Sc(e,t,n,Math.min(i,a-1),Math.floor(i/2),s)},rl=function(e,t,n,i,s,a,o){var l=e==="column"?t.width:t.height,u=yt(e,t,n,a),c=e==="column"?bc(t,a):wc(t,a),f=Math.max(0,Math.min(c-l,u.offset)),h=Math.max(0,u.offset-l+o+u.size);switch(i==="smart"&&(s>=h-l&&s<=f+l?i="auto":i="center"),i){case"start":return f;case"end":return h;case"center":return Math.round(h+(f-h)/2);case"auto":default:return s>=h&&s<=f?s:h>f||s<h?h:f}},Dp=vc({getColumnOffset:function(e,t,n){return yt("column",e,t,n).offset},getColumnStartIndexForOffset:function(e,t,n){return tl("column",e,n,t)},getColumnStopIndexForStartIndex:function(e,t,n,i){for(var s=e.columnCount,a=e.width,o=yt("column",e,t,i),l=n+a,u=o.offset+o.size,c=t;c<s-1&&u<l;)c++,u+=yt("column",e,c,i).size;return c},getColumnWidth:function(e,t,n){return n.columnMetadataMap[t].size},getEstimatedTotalHeight:wc,getEstimatedTotalWidth:bc,getOffsetForColumnAndAlignment:function(e,t,n,i,s,a){return rl("column",e,t,n,i,s,a)},getOffsetForRowAndAlignment:function(e,t,n,i,s,a){return rl("row",e,t,n,i,s,a)},getRowOffset:function(e,t,n){return yt("row",e,t,n).offset},getRowHeight:function(e,t,n){return n.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,n){return tl("row",e,n,t)},getRowStopIndexForStartIndex:function(e,t,n,i){for(var s=e.rowCount,a=e.height,o=yt("row",e,t,i),l=n+a,u=o.offset+o.size,c=t;c<s-1&&u<l;)c++,u+=yt("row",e,c,i).size;return c},initInstanceProps:function(e,t){var n=e,i=n.estimatedColumnWidth,s=n.estimatedRowHeight,a={columnMetadataMap:{},estimatedColumnWidth:i||el,estimatedRowHeight:s||el,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(o,l){l===void 0&&(l=!0),t.resetAfterIndices({columnIndex:o,shouldForceUpdate:l})},t.resetAfterRowIndex=function(o,l){l===void 0&&(l=!0),t.resetAfterIndices({rowIndex:o,shouldForceUpdate:l})},t.resetAfterIndices=function(o){var l=o.columnIndex,u=o.rowIndex,c=o.shouldForceUpdate,f=c===void 0?!0:c;typeof l=="number"&&(a.lastMeasuredColumnIndex=Math.min(a.lastMeasuredColumnIndex,l-1)),typeof u=="number"&&(a.lastMeasuredRowIndex=Math.min(a.lastMeasuredRowIndex,u-1)),t._getItemStyleCache(-1),f&&t.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),Np=150,Mp=function(e,t){return e};function Pp(r){var e,t=r.getItemOffset,n=r.getEstimatedTotalSize,i=r.getItemSize,s=r.getOffsetForIndexAndAlignment,a=r.getStartIndexForOffset,o=r.getStopIndexForStartIndex,l=r.initInstanceProps,u=r.shouldResetStyleCacheOnItemSizeChange,c=r.validateProps;return e=function(f){Ye(h,f);function h(m){var d;return d=f.call(this,m)||this,d._instanceProps=l(d.props,$(d)),d._outerRef=void 0,d._resetIsScrollingTimeoutId=null,d.state={instance:$(d),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof d.props.initialScrollOffset=="number"?d.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},d._callOnItemsRendered=void 0,d._callOnItemsRendered=Oe(function(g,w,T,S){return d.props.onItemsRendered({overscanStartIndex:g,overscanStopIndex:w,visibleStartIndex:T,visibleStopIndex:S})}),d._callOnScroll=void 0,d._callOnScroll=Oe(function(g,w,T){return d.props.onScroll({scrollDirection:g,scrollOffset:w,scrollUpdateWasRequested:T})}),d._getItemStyle=void 0,d._getItemStyle=function(g){var w=d.props,T=w.direction,S=w.itemSize,v=w.layout,_=d._getItemStyleCache(u&&S,u&&v,u&&T),b;if(_.hasOwnProperty(g))b=_[g];else{var R=t(d.props,g,d._instanceProps),O=i(d.props,g,d._instanceProps),N=T==="horizontal"||v==="horizontal",z=T==="rtl",P=N?R:0;_[g]=b={position:"absolute",left:z?void 0:P,right:z?P:void 0,top:N?0:R,height:N?"100%":O,width:N?O:"100%"}}return b},d._getItemStyleCache=void 0,d._getItemStyleCache=Oe(function(g,w,T){return{}}),d._onScrollHorizontal=function(g){var w=g.currentTarget,T=w.clientWidth,S=w.scrollLeft,v=w.scrollWidth;d.setState(function(_){if(_.scrollOffset===S)return null;var b=d.props.direction,R=S;if(b==="rtl")switch(Ti()){case"negative":R=-S;break;case"positive-descending":R=v-T-S;break}return R=Math.max(0,Math.min(R,v-T)),{isScrolling:!0,scrollDirection:_.scrollOffset<S?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},d._resetIsScrollingDebounced)},d._onScrollVertical=function(g){var w=g.currentTarget,T=w.clientHeight,S=w.scrollHeight,v=w.scrollTop;d.setState(function(_){if(_.scrollOffset===v)return null;var b=Math.max(0,Math.min(v,S-T));return{isScrolling:!0,scrollDirection:_.scrollOffset<b?"forward":"backward",scrollOffset:b,scrollUpdateWasRequested:!1}},d._resetIsScrollingDebounced)},d._outerRefSetter=function(g){var w=d.props.outerRef;d._outerRef=g,typeof w=="function"?w(g):w!=null&&typeof w=="object"&&w.hasOwnProperty("current")&&(w.current=g)},d._resetIsScrollingDebounced=function(){d._resetIsScrollingTimeoutId!==null&&Ci(d._resetIsScrollingTimeoutId),d._resetIsScrollingTimeoutId=_c(d._resetIsScrolling,Np)},d._resetIsScrolling=function(){d._resetIsScrollingTimeoutId=null,d.setState({isScrolling:!1},function(){d._getItemStyleCache(-1,null)})},d}h.getDerivedStateFromProps=function(d,g){return Vp(d,g),c(d),null};var y=h.prototype;return y.scrollTo=function(d){d=Math.max(0,d),this.setState(function(g){return g.scrollOffset===d?null:{scrollDirection:g.scrollOffset<d?"forward":"backward",scrollOffset:d,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(d,g){g===void 0&&(g="auto");var w=this.props.itemCount,T=this.state.scrollOffset;d=Math.max(0,Math.min(d,w-1)),this.scrollTo(s(this.props,d,g,T,this._instanceProps))},y.componentDidMount=function(){var d=this.props,g=d.direction,w=d.initialScrollOffset,T=d.layout;if(typeof w=="number"&&this._outerRef!=null){var S=this._outerRef;g==="horizontal"||T==="horizontal"?S.scrollLeft=w:S.scrollTop=w}this._callPropsCallbacks()},y.componentDidUpdate=function(){var d=this.props,g=d.direction,w=d.layout,T=this.state,S=T.scrollOffset,v=T.scrollUpdateWasRequested;if(v&&this._outerRef!=null){var _=this._outerRef;if(g==="horizontal"||w==="horizontal")if(g==="rtl")switch(Ti()){case"negative":_.scrollLeft=-S;break;case"positive-ascending":_.scrollLeft=S;break;default:var b=_.clientWidth,R=_.scrollWidth;_.scrollLeft=R-b-S;break}else _.scrollLeft=S;else _.scrollTop=S}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ci(this._resetIsScrollingTimeoutId)},y.render=function(){var d=this.props,g=d.children,w=d.className,T=d.direction,S=d.height,v=d.innerRef,_=d.innerElementType,b=d.innerTagName,R=d.itemCount,O=d.itemData,N=d.itemKey,z=N===void 0?Mp:N,P=d.layout,q=d.outerElementType,C=d.outerTagName,E=d.style,A=d.useIsScrolling,M=d.width,U=this.state.isScrolling,L=T==="horizontal"||P==="horizontal",D=L?this._onScrollHorizontal:this._onScrollVertical,I=this._getRangeToRender(),B=I[0],H=I[1],V=[];if(R>0)for(var j=B;j<=H;j++)V.push(rr(g,{data:O,key:z(j,O),index:j,isScrolling:A?U:void 0,style:this._getItemStyle(j)}));var ae=n(this.props,this._instanceProps);return rr(q||C||"div",{className:w,onScroll:D,ref:this._outerRefSetter,style:ie({position:"relative",height:S,width:M,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:T},E)},rr(_||b||"div",{children:V,ref:v,style:{height:L?"100%":ae,pointerEvents:U?"none":void 0,width:L?ae:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var d=this.props.itemCount;if(d>0){var g=this._getRangeToRender(),w=g[0],T=g[1],S=g[2],v=g[3];this._callOnItemsRendered(w,T,S,v)}}if(typeof this.props.onScroll=="function"){var _=this.state,b=_.scrollDirection,R=_.scrollOffset,O=_.scrollUpdateWasRequested;this._callOnScroll(b,R,O)}},y._getRangeToRender=function(){var d=this.props,g=d.itemCount,w=d.overscanCount,T=this.state,S=T.isScrolling,v=T.scrollDirection,_=T.scrollOffset;if(g===0)return[0,0,0,0];var b=a(this.props,_,this._instanceProps),R=o(this.props,b,_,this._instanceProps),O=!S||v==="backward"?Math.max(1,w):1,N=!S||v==="forward"?Math.max(1,w):1;return[Math.max(0,b-O),Math.max(0,Math.min(g-1,R+N)),b,R]},h}(yc),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Vp=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Lp=50,er=function(e,t,n){var i=e,s=i.itemSize,a=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var l=0;if(o>=0){var u=a[o];l=u.offset+u.size}for(var c=o+1;c<=t;c++){var f=s(c);a[c]={offset:l,size:f},l+=f}n.lastMeasuredIndex=t}return a[t]},Hp=function(e,t,n){var i=t.itemMetadataMap,s=t.lastMeasuredIndex,a=s>0?i[s].offset:0;return a>=n?Rc(e,t,s,0,n):$p(e,t,Math.max(0,s),n)},Rc=function(e,t,n,i,s){for(;i<=n;){var a=i+Math.floor((n-i)/2),o=er(e,a,t).offset;if(o===s)return a;o<s?i=a+1:o>s&&(n=a-1)}return i>0?i-1:0},$p=function(e,t,n,i){for(var s=e.itemCount,a=1;n<s&&er(e,n,t).offset<i;)n+=a,a*=2;return Rc(e,t,Math.min(n,s-1),Math.floor(n/2),i)},nl=function(e,t){var n=e.itemCount,i=t.itemMetadataMap,s=t.estimatedItemSize,a=t.lastMeasuredIndex,o=0;if(a>=n&&(a=n-1),a>=0){var l=i[a];o=l.offset+l.size}var u=n-a-1,c=u*s;return o+c},kp=Pp({getItemOffset:function(e,t,n){return er(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:nl,getOffsetForIndexAndAlignment:function(e,t,n,i,s){var a=e.direction,o=e.height,l=e.layout,u=e.width,c=a==="horizontal"||l==="horizontal",f=c?u:o,h=er(e,t,s),y=nl(e,s),m=Math.max(0,Math.min(y-f,h.offset)),d=Math.max(0,h.offset-f+h.size);switch(n==="smart"&&(i>=d-f&&i<=m+f?n="auto":n="center"),n){case"start":return m;case"end":return d;case"center":return Math.round(d+(m-d)/2);case"auto":default:return i>=d&&i<=m?i:i<d?d:m}},getStartIndexForOffset:function(e,t,n){return Hp(e,n,t)},getStopIndexForStartIndex:function(e,t,n,i){for(var s=e.direction,a=e.height,o=e.itemCount,l=e.layout,u=e.width,c=s==="horizontal"||l==="horizontal",f=c?u:a,h=er(e,t,i),y=n+f,m=h.offset+h.size,d=t;d<o-1&&m<y;)d++,m+=er(e,d,i).size;return d},initInstanceProps:function(e,t){var n=e,i=n.estimatedItemSize,s={itemMetadataMap:{},estimatedItemSize:i||Lp,lastMeasuredIndex:-1};return t.resetAfterIndex=function(a,o){o===void 0&&(o=!0),s.lastMeasuredIndex=Math.min(s.lastMeasuredIndex,a-1),t._getItemStyleCache(-1),o&&t.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),qp=vc({getColumnOffset:function(e,t){var n=e.columnWidth;return t*n},getColumnWidth:function(e,t){var n=e.columnWidth;return n},getRowOffset:function(e,t){var n=e.rowHeight;return t*n},getRowHeight:function(e,t){var n=e.rowHeight;return n},getEstimatedTotalHeight:function(e){var t=e.rowCount,n=e.rowHeight;return n*t},getEstimatedTotalWidth:function(e){var t=e.columnCount,n=e.columnWidth;return n*t},getOffsetForColumnAndAlignment:function(e,t,n,i,s,a){var o=e.columnCount,l=e.columnWidth,u=e.width,c=Math.max(0,o*l-u),f=Math.min(c,t*l),h=Math.max(0,t*l-u+a+l);switch(n==="smart"&&(i>=h-u&&i<=f+u?n="auto":n="center"),n){case"start":return f;case"end":return h;case"center":var y=Math.round(h+(f-h)/2);return y<Math.ceil(u/2)?0:y>c+Math.floor(u/2)?c:y;case"auto":default:return i>=h&&i<=f?i:h>f||i<h?h:f}},getOffsetForRowAndAlignment:function(e,t,n,i,s,a){var o=e.rowHeight,l=e.height,u=e.rowCount,c=Math.max(0,u*o-l),f=Math.min(c,t*o),h=Math.max(0,t*o-l+a+o);switch(n==="smart"&&(i>=h-l&&i<=f+l?n="auto":n="center"),n){case"start":return f;case"end":return h;case"center":var y=Math.round(h+(f-h)/2);return y<Math.ceil(l/2)?0:y>c+Math.floor(l/2)?c:y;case"auto":default:return i>=h&&i<=f?i:h>f||i<h?h:f}},getColumnStartIndexForOffset:function(e,t){var n=e.columnWidth,i=e.columnCount;return Math.max(0,Math.min(i-1,Math.floor(t/n)))},getColumnStopIndexForStartIndex:function(e,t,n){var i=e.columnWidth,s=e.columnCount,a=e.width,o=t*i,l=Math.ceil((a+n-o)/i);return Math.max(0,Math.min(s-1,t+l-1))},getRowStartIndexForOffset:function(e,t){var n=e.rowHeight,i=e.rowCount;return Math.max(0,Math.min(i-1,Math.floor(t/n)))},getRowStopIndexForStartIndex:function(e,t,n){var i=e.rowHeight,s=e.rowCount,a=e.height,o=t*i,l=Math.ceil((a+n-o)/i);return Math.max(0,Math.min(s-1,t+l-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}});const hs=window.React;var xc=function(r){Ye(e,r);function e(n){var i;return i=r.call(this,n)||this,i.renderHeaderRow=i.renderHeaderRow.bind($(i)),i.renderFrozenRow=i.renderFrozenRow.bind($(i)),i._setRef=i._setRef.bind($(i)),i}var t=e.prototype;return t.scrollTo=function(i){this.headerRef&&(this.headerRef.scrollLeft=i)},t.renderHeaderRow=function(i,s){var a=this.props,o=a.columns,l=a.headerRenderer;if(i<=0)return null;var u={width:"100%",height:i};return l({style:u,columns:o,headerIndex:s})},t.renderFrozenRow=function(i,s){var a=this.props,o=a.columns,l=a.rowHeight,u=a.rowRenderer,c={width:"100%",height:l},f=-s-1;return u({style:c,columns:o,rowData:i,rowIndex:f})},t.render=function(){var i=this.props,s=i.className,a=i.width,o=i.height,l=i.rowWidth,u=i.headerHeight,c=i.frozenData;if(o<=0)return null;var f={width:a,height:o,position:"relative",overflow:"hidden"},h={width:l,height:o},y=Array.isArray(u)?u:[u];return hs.createElement("div",{role:"grid",ref:this._setRef,className:s,style:f},hs.createElement("div",{role:"rowgroup",style:h},y.map(this.renderHeaderRow),c.map(this.renderFrozenRow)))},t._setRef=function(i){this.headerRef=i},e}(hs.PureComponent);xc.propTypes={className:p.string,width:p.number.isRequired,height:p.number.isRequired,headerHeight:p.oneOfType([p.number,p.arrayOf(p.number)]).isRequired,rowWidth:p.number.isRequired,rowHeight:p.number.isRequired,columns:p.arrayOf(p.object).isRequired,data:p.array.isRequired,frozenData:p.array,headerRenderer:p.func.isRequired,rowRenderer:p.func.isRequired};function il(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function jp(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?il(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):il(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const Vr=window.React;function Lt(r,e){return Vr.isValidElement(r)?e?Vr.cloneElement(r,e):r:typeof r=="function"?Vr.createElement(r,e):null}function Bp(r){var e=[];return Vr.Children.forEach(r,function(t){if(Vr.isValidElement(t)&&t.key){var n=jp({},t.props,{key:t.key});e.push(n)}}),e}function Cc(r,e,t){if(t===void 0&&(t=!0),r===e||r===null&&e===null)return!0;if(r===null||e===null||typeof r!="object"||typeof e!="object")return!1;var n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++){var a=n[s];if(!(a==="_owner"&&r.$$typeof)){var o=r[a],l=e[a],u=typeof o;if(u!==typeof l)return!1;if(!(u==="function"&&t)){if(u==="object"){if(Cc(o,l,t))continue;return!1}if(o!==l)return!1}}}return!0}function nt(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return typeof r=="function"?r.apply(void 0,t):r}function Fp(r){return Array.isArray(r.children)&&r.children.length>0}function Wp(r,e,t,n){if(t===void 0&&(t={}),n===void 0&&(n="id"),!e||!e.length)return r;var i=[],s=new Set;e.forEach(function(l){return s.add(l)});var a=[].concat(r);a.forEach(function(l){return t[l[n]]=0});for(var o=function(){var u=a.shift();i.push(u),s.has(u[n])&&Array.isArray(u.children)&&u.children.length>0&&(a=[].concat(u.children,a),u.children.forEach(function(c){return t[c[n]]=t[u[n]]+1}))};a.length>0;)o();return i}function ps(r){return Array.isArray(r)?[].concat(r):[]}function Me(){}function Up(r){return typeof r=="string"?r:r==null?"":r.toString?r.toString():""}function Kp(r){for(var e=r.split("."),t=[],n=0;n<e.length;n++){for(var i=e[n];i[i.length-1]==="\\"&&e[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=e[++n];t.push(i)}return t}function Yp(r,e,t){if(r===null||typeof r!="object"||typeof e!="string")return t;for(var n=Kp(e),i=0;i<n.length;i++){if(!Object.prototype.propertyIsEnumerable.call(r,n[i]))return t;if(r=r[n[i]],r==null){if(i!==n.length-1)return t;break}}return r}var Gp=function(e,t){t===void 0&&(t=0);var n;return function(){for(var i=this,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout(function(){return e.apply(i,a)},t)}},Xp=function(e,t){var n,i,s;return function(){var a=this,o=arguments;n?(clearTimeout(i),i=setTimeout(function(){Date.now()-s>=t&&(e.apply(a,o),s=Date.now())},Math.max(t-(Date.now()-s),0))):(e.apply(a,o),s=Date.now(),n=!0)}},On;function Jp(r){if((!On&&On!==0||r)&&typeof window!="undefined"&&window.document&&window.document.createElement){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),On=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return On}function Qp(r,e){r.classList?r.classList.add(e):r.className.match(new RegExp("(?:^|\\s)"+e+"(?!\\S)"))||(r.className+=" "+e)}function Zp(r,e){r.classList?r.classList.remove(e):r.className=r.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),"")}function Tc(r,e){return typeof e=="function"?r.reduce(function(t,n,i){return t+e({rowData:n,rowIndex:i})},0):r.length*e}function sl(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function em(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sl(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):sl(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const An=window.React;var Xn=function(r){Ye(e,r);function e(n){var i;return i=r.call(this,n)||this,i._setHeaderRef=i._setHeaderRef.bind($(i)),i._setBodyRef=i._setBodyRef.bind($(i)),i._setInnerRef=i._setInnerRef.bind($(i)),i._itemKey=i._itemKey.bind($(i)),i._getBodyWidth=i._getBodyWidth.bind($(i)),i._handleItemsRendered=i._handleItemsRendered.bind($(i)),i._resetColumnWidthCache=Oe(function(s){!i.props.estimatedRowHeight||i.bodyRef&&i.bodyRef.resetAfterColumnIndex(0,!1)}),i._getEstimatedTotalRowsHeight=Oe(Tc),i.renderRow=i.renderRow.bind($(i)),i}var t=e.prototype;return t.resetAfterRowIndex=function(i,s){i===void 0&&(i=0),!!this.props.estimatedRowHeight&&this.bodyRef&&this.bodyRef.resetAfterRowIndex(i,s)},t.forceUpdateTable=function(){this.headerRef&&this.headerRef.forceUpdate(),this.bodyRef&&this.bodyRef.forceUpdate()},t.scrollToPosition=function(i){this.headerRef&&this.headerRef.scrollTo(i.scrollLeft),this.bodyRef&&this.bodyRef.scrollTo(i)},t.scrollToTop=function(i){this.bodyRef&&this.bodyRef.scrollTo({scrollTop:i})},t.scrollToLeft=function(i){this.headerRef&&this.headerRef.scrollTo(i),this.bodyRef&&this.bodyRef.scrollToPosition({scrollLeft:i})},t.scrollToRow=function(i,s){i===void 0&&(i=0),s===void 0&&(s="auto"),this.bodyRef&&this.bodyRef.scrollToItem({rowIndex:i,align:s})},t.getTotalRowsHeight=function(){var i=this.props,s=i.data,a=i.rowHeight,o=i.estimatedRowHeight;return o?this.innerRef&&this.innerRef.clientHeight||this._getEstimatedTotalRowsHeight(s,o):s.length*a},t.renderRow=function(i){var s=this.props,a=s.data,o=s.columns,l=s.rowRenderer,u=a[i.rowIndex];return l(em({},i,{columns:o,rowData:u}))},t.render=function(){var i=this.props,s=i.containerStyle,a=i.classPrefix,o=i.className,l=i.data,u=i.frozenData,c=i.width,f=i.height,h=i.rowHeight,y=i.estimatedRowHeight,m=i.getRowHeight,d=i.headerWidth,g=i.bodyWidth,w=i.useIsScrolling,T=i.onScroll,S=i.hoveredRowKey,v=i.overscanRowCount;i.style,i.onScrollbarPresenceChange;var _=Ve(i,["containerStyle","classPrefix","className","data","frozenData","width","height","rowHeight","estimatedRowHeight","getRowHeight","headerWidth","bodyWidth","useIsScrolling","onScroll","hoveredRowKey","overscanRowCount","style","onScrollbarPresenceChange"]),b=this._getHeaderHeight(),R=u.length,O=h*R,N=gt(a+"__table",o),z=s?{style:s}:null,P=y?Dp:qp;return this._resetColumnWidthCache(g),An.createElement("div",ie({role:"table",className:N},z),An.createElement(P,ie({},_,{className:a+"__body",ref:this._setBodyRef,innerRef:this._setInnerRef,itemKey:this._itemKey,data:l,frozenData:u,width:c,height:Math.max(f-b-O,0),rowHeight:y?m:h,estimatedRowHeight:typeof y=="function"?void 0:y,rowCount:l.length,overscanRowCount:v,columnWidth:y?this._getBodyWidth:g,columnCount:1,overscanColumnCount:0,useIsScrolling:w,hoveredRowKey:S,onScroll:T,onItemsRendered:this._handleItemsRendered,children:this.renderRow})),b+O>0&&An.createElement(xc,ie({},_,{className:a+"__header",ref:this._setHeaderRef,data:l,frozenData:u,width:c,height:Math.min(b+O,f),rowWidth:d,rowHeight:h,headerHeight:this.props.headerHeight,headerRenderer:this.props.headerRenderer,rowRenderer:this.props.rowRenderer,hoveredRowKey:R>0?S:null})))},t._setHeaderRef=function(i){this.headerRef=i},t._setBodyRef=function(i){this.bodyRef=i},t._setInnerRef=function(i){this.innerRef=i},t._itemKey=function(i){var s=i.rowIndex,a=this.props,o=a.data,l=a.rowKey;return o[s][l]},t._getHeaderHeight=function(){var i=this.props.headerHeight;return Array.isArray(i)?i.reduce(function(s,a){return s+a},0):i},t._getBodyWidth=function(){return this.props.bodyWidth},t._handleItemsRendered=function(i){var s=i.overscanRowStartIndex,a=i.overscanRowStopIndex,o=i.visibleRowStartIndex,l=i.visibleRowStopIndex;this.props.onRowsRendered({overscanStartIndex:s,overscanStopIndex:a,startIndex:o,stopIndex:l})},e}(An.PureComponent);Xn.propTypes={containerStyle:p.object,classPrefix:p.string,className:p.string,width:p.number.isRequired,height:p.number.isRequired,headerHeight:p.oneOfType([p.number,p.arrayOf(p.number)]).isRequired,headerWidth:p.number.isRequired,bodyWidth:p.number.isRequired,rowHeight:p.number.isRequired,estimatedRowHeight:p.oneOfType([p.func,p.number]),getRowHeight:p.func,columns:p.arrayOf(p.object).isRequired,data:p.array.isRequired,frozenData:p.array,rowKey:p.oneOfType([p.string,p.number]).isRequired,useIsScrolling:p.bool,overscanRowCount:p.number,hoveredRowKey:p.oneOfType([p.string,p.number]),style:p.object,onScrollbarPresenceChange:p.func,onScroll:p.func,onRowsRendered:p.func,headerRenderer:p.func.isRequired,rowRenderer:p.func.isRequired};const al=window.React;var Ua=function(e){var t=e.className,n=e.style,i=e.columns,s=e.headerIndex,a=e.cellRenderer,o=e.headerRenderer,l=e.expandColumnKey,u=e.expandIcon,c=e.tagName,f=Ve(e,["className","style","columns","headerIndex","cellRenderer","headerRenderer","expandColumnKey","expandIcon","tagName"]),h=i.map(function(y,m){return a({columns:i,column:y,columnIndex:m,headerIndex:s,expandIcon:y.key===l&&al.createElement(u,null)})});return o&&(h=Lt(o,{cells:h,columns:i,headerIndex:s})),al.createElement(c,ie({},f,{className:t,style:n}),h)};Ua.defaultProps={tagName:"div"};Ua.propTypes={isScrolling:p.bool,className:p.string,style:p.object,columns:p.arrayOf(p.object).isRequired,headerIndex:p.number,cellRenderer:p.func,headerRenderer:p.oneOfType([p.func,p.element]),expandColumnKey:p.string,expandIcon:p.func,tagName:p.elementType};const ms=window.React;var Ka=function(r){Ye(e,r);function e(n){var i;return i=r.call(this,n)||this,i.state={measured:!1},i._setRef=i._setRef.bind($(i)),i._handleExpand=i._handleExpand.bind($(i)),i}var t=e.prototype;return t.componentDidMount=function(){this.props.estimatedRowHeight&&this.props.rowIndex>=0&&this._measureHeight(!0)},t.componentDidUpdate=function(i,s){var a=this;this.props.estimatedRowHeight&&this.props.rowIndex>=0&&!this.props.getIsResetting()&&this.state.measured&&s.measured&&this.setState({measured:!1},function(){return a._measureHeight()})},t.render=function(){var i=this.props,s=i.isScrolling,a=i.className,o=i.style,l=i.columns,u=i.rowIndex,c=i.rowData,f=i.expandColumnKey,h=i.depth,y=i.rowEventHandlers,m=i.estimatedRowHeight,d=i.rowRenderer,g=i.cellRenderer,w=i.expandIconRenderer,T=i.tagName;i.rowKey,i.getIsResetting,i.onRowHover,i.onRowExpand,i.onRowHeightChange;var S=Ve(i,["isScrolling","className","style","columns","rowIndex","rowData","expandColumnKey","depth","rowEventHandlers","estimatedRowHeight","rowRenderer","cellRenderer","expandIconRenderer","tagName","rowKey","getIsResetting","onRowHover","onRowExpand","onRowHeightChange"]),v=w({rowData:c,rowIndex:u,depth:h,onExpand:this._handleExpand}),_=l.map(function(O,N){return g({isScrolling:s,columns:l,column:O,columnIndex:N,rowData:c,rowIndex:u,expandIcon:O.key===f&&v})});d&&(_=Lt(d,{isScrolling:s,cells:_,columns:l,rowData:c,rowIndex:u,depth:h}));var b=this._getEventHandlers(y);if(m&&u>=0){o.height;var R=Ve(o,["height"]);return ms.createElement(T,ie({},S,{ref:this._setRef,className:a,style:this.state.measured?o:R},this.state.measured&&b),_)}return ms.createElement(T,ie({},S,{className:a,style:o},b),_)},t._setRef=function(i){this.ref=i},t._handleExpand=function(i){var s=this.props,a=s.onRowExpand,o=s.rowData,l=s.rowIndex,u=s.rowKey;a&&a({expanded:i,rowData:o,rowIndex:l,rowKey:u})},t._measureHeight=function(i){if(!!this.ref){var s=this.props,a=s.style,o=s.rowKey,l=s.onRowHeightChange,u=s.rowIndex,c=s.columns,f=this.ref.getBoundingClientRect().height;this.setState({measured:!0},function(){(i||f!==a.height)&&l(o,f,u,c[0]&&!c[0].__placeholder__&&c[0].frozen)})}},t._getEventHandlers=function(i){i===void 0&&(i={});var s=this.props,a=s.rowData,o=s.rowIndex,l=s.rowKey,u=s.onRowHover,c={};if(Object.keys(i).forEach(function(y){var m=i[y];typeof m=="function"&&(c[y]=function(d){m({rowData:a,rowIndex:o,rowKey:l,event:d})})}),u){var f=c.onMouseEnter;c.onMouseEnter=function(y){u({hovered:!0,rowData:a,rowIndex:o,rowKey:l,event:y}),f&&f(y)};var h=c.onMouseLeave;c.onMouseLeave=function(y){u({hovered:!1,rowData:a,rowIndex:o,rowKey:l,event:y}),h&&h(y)}}return c},e}(ms.PureComponent);Ka.defaultProps={tagName:"div"};Ka.propTypes={isScrolling:p.bool,className:p.string,style:p.object,columns:p.arrayOf(p.object).isRequired,rowData:p.object.isRequired,rowIndex:p.number.isRequired,rowKey:p.oneOfType([p.string,p.number]),expandColumnKey:p.string,depth:p.number,rowEventHandlers:p.object,rowRenderer:p.oneOfType([p.func,p.element]),cellRenderer:p.func,expandIconRenderer:p.func,estimatedRowHeight:p.oneOfType([p.number,p.func]),getIsResetting:p.func,onRowHover:p.func,onRowExpand:p.func,onRowHeightChange:p.func,tagName:p.elementType};const tm=window.React;var Ec=function(e){var t=e.className,n=e.column;return e.columnIndex,tm.createElement("div",{className:t},n.title)};Ec.propTypes={className:p.string,column:p.object,columnIndex:p.number};const ol=window.React;var Ic=function(e){var t=e.className,n=e.cellData;return e.column,e.columnIndex,e.rowData,e.rowIndex,ol.createElement("div",{className:t},ol.isValidElement(n)?n:Up(n))};Ic.propTypes={className:p.string,cellData:p.any,column:p.object,columnIndex:p.number,rowData:p.object,rowIndex:p.number};const rm=window.React;var Nr={LEFT:"left",CENTER:"center",RIGHT:"right"},$t={LEFT:"left",RIGHT:"right",DEFAULT:!0,NONE:!1},Ce=function(r){Ye(e,r);function e(){return r.apply(this,arguments)||this}return e}(rm.Component);Ce.propTypes={className:p.oneOfType([p.string,p.func]),headerClassName:p.oneOfType([p.string,p.func]),style:p.object,title:p.string,dataKey:p.string,dataGetter:p.func,align:p.oneOf(["left","center","right"]),flexGrow:p.number,flexShrink:p.number,width:p.number.isRequired,maxWidth:p.number,minWidth:p.number,frozen:p.oneOf(["left","right",!0,!1]),hidden:p.bool,resizable:p.bool,sortable:p.bool,cellRenderer:p.oneOfType([p.func,p.element]),headerRenderer:p.oneOfType([p.func,p.element])};Ce.Alignment=Nr;Ce.FrozenDirection=$t;var he={ASC:"asc",DESC:"desc"};const ll=window.React;var Ya=function(r){Ye(e,r);function e(n){var i;return i=r.call(this,n)||this,i._handleClick=i._handleClick.bind($(i)),i}var t=e.prototype;return t.render=function(){var i=this.props,s=i.expandable,a=i.expanded,o=i.indentSize,l=i.depth,u=i.onExpand,c=Ve(i,["expandable","expanded","indentSize","depth","onExpand"]);if(!s&&o===0)return null;var f=gt("BaseTable__expand-icon",{"BaseTable__expand-icon--expanded":a});return ll.createElement("div",ie({},c,{className:f,onClick:s&&u?this._handleClick:null,style:{fontFamily:"initial",cursor:"pointer",userSelect:"none",width:"16px",minWidth:"16px",height:"16px",lineHeight:"16px",fontSize:"16px",textAlign:"center",transition:"transform 0.15s ease-out",transform:"rotate("+(s&&a?90:0)+"deg)",marginLeft:l*o}}),s&&"\u25B8")},t._handleClick=function(i){i.stopPropagation(),i.preventDefault();var s=this.props,a=s.onExpand,o=s.expanded;a(!o)},e}(ll.PureComponent);Ya.defaultProps={depth:0,indentSize:16};Ya.propTypes={expandable:p.bool,expanded:p.bool,indentSize:p.number,depth:p.number,onExpand:p.func};function ul(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function nm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ul(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ul(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const im=window.React;var Oc=function(e){var t=e.sortOrder,n=e.className,i=e.style,s=gt("BaseTable__sort-indicator",n,{"BaseTable__sort-indicator--descending":t===he.DESC});return im.createElement("div",{className:s,style:nm({userSelect:"none",width:"16px",height:"16px",lineHeight:"16px",textAlign:"center"},i)},t===he.DESC?"\u2193":"\u2191")};Oc.propTypes={sortOrder:p.oneOf([he.ASC,he.DESC]),className:p.string,style:p.object};function cl(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function sm(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cl(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):cl(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const fl=window.React;var gs=null;function am(r){if(!!r){var e=r.getElementById("react-draggable-style-el");e||(e=r.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(e)),r.body&&Qp(r.body,"react-draggable-transparent-selection")}}function dl(r){if(!!r)try{if(r.body&&Zp(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{var e=(r.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}var it={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Rt=it.mouse,Ga=function(r){Ye(e,r);function e(n){var i;return i=r.call(this,n)||this,i.isDragging=!1,i.lastX=gs,i.width=0,i._setHandleRef=i._setHandleRef.bind($(i)),i._handleClick=i._handleClick.bind($(i)),i._handleMouseDown=i._handleMouseDown.bind($(i)),i._handleMouseUp=i._handleMouseUp.bind($(i)),i._handleTouchStart=i._handleTouchStart.bind($(i)),i._handleTouchEnd=i._handleTouchEnd.bind($(i)),i._handleDragStart=i._handleDragStart.bind($(i)),i._handleDragStop=i._handleDragStop.bind($(i)),i._handleDrag=i._handleDrag.bind($(i)),i}var t=e.prototype;return t.componentWillUnmount=function(){if(this.handleRef){var i=this.handleRef.ownerDocument;i.removeEventListener(it.mouse.move,this._handleDrag),i.removeEventListener(it.mouse.stop,this._handleDragStop),i.removeEventListener(it.touch.move,this._handleDrag),i.removeEventListener(it.touch.stop,this._handleDragStop),dl(i)}},t.render=function(){var i=this.props,s=i.style;i.column,i.onResizeStart,i.onResize,i.onResizeStop,i.minWidth;var a=Ve(i,["style","column","onResizeStart","onResize","onResizeStop","minWidth"]);return fl.createElement("div",ie({},a,{ref:this._setHandleRef,onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd,style:sm({userSelect:"none",touchAction:"none",position:"absolute",top:0,bottom:0,right:0,cursor:"col-resize"},s)}))},t._setHandleRef=function(i){this.handleRef=i},t._handleClick=function(i){i.stopPropagation()},t._handleMouseDown=function(i){Rt=it.mouse,this._handleDragStart(i)},t._handleMouseUp=function(i){Rt=it.mouse,this._handleDragStop(i)},t._handleTouchStart=function(i){Rt=it.touch,this._handleDragStart(i)},t._handleTouchEnd=function(i){Rt=it.touch,this._handleDragStop(i)},t._handleDragStart=function(i){if(!(typeof i.button=="number"&&i.button!==0)){this.isDragging=!0,this.lastX=gs,this.width=this.props.column.width,this.props.onResizeStart(this.props.column);var s=this.handleRef.ownerDocument;am(s),s.addEventListener(Rt.move,this._handleDrag),s.addEventListener(Rt.stop,this._handleDragStop)}},t._handleDragStop=function(i){if(!!this.isDragging){this.isDragging=!1,this.props.onResizeStop(this.props.column);var s=this.handleRef.ownerDocument;dl(s),s.removeEventListener(Rt.move,this._handleDrag),s.removeEventListener(Rt.stop,this._handleDragStop)}},t._handleDrag=function(i){var s=i.clientX;i.type===it.touch.move&&(i.preventDefault(),i.targetTouches&&i.targetTouches[0]&&(s=i.targetTouches[0].clientX));var a=this.handleRef.offsetParent,o=a.getBoundingClientRect(),l=s+a.scrollLeft-o.left;if(this.lastX===gs){this.lastX=l;return}var u=this.props,c=u.column,f=u.minWidth,h=c.width,y=c.maxWidth,m=c.minWidth,d=m===void 0?f:m,g=l-this.lastX;if(!!g){this.width=this.width+g,this.lastX=l;var w=this.width;y&&w>y?w=y:w<d&&(w=d),w!==h&&this.props.onResize(c,w)}},e}(fl.PureComponent);Ga.defaultProps={onResizeStart:Me,onResize:Me,onResizeStop:Me,minWidth:30};Ga.propTypes={style:p.object,column:p.object,onResizeStart:p.func,onResize:p.func,onResizeStop:p.func,minWidth:p.number};function hl(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function zn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hl(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hl(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Lr=function(){function r(t,n){this._origColumns=[],this.reset(t,n)}var e=r.prototype;return e._cache=function(n,i){return n in this._cached?this._cached[n]:(this._cached[n]=i(),this._cached[n])},e.reset=function(n,i){var s=this;this._columns=n.map(function(a){var o=a.width;if(a.resizable){var l=s._origColumns.findIndex(function(u){return u.key===a.key});l>=0&&s._origColumns[l].width===a.width&&(o=s._columns[l].width)}return zn({},a,{width:o})}),this._origColumns=n,this._fixed=i,this._cached={},this._columnStyles=this.recomputeColumnStyles()},e.resetCache=function(){this._cached={}},e.getOriginalColumns=function(){return this._origColumns},e.getColumns=function(){return this._columns},e.getVisibleColumns=function(){var n=this;return this._cache("visibleColumns",function(){return n._columns.filter(function(i){return!i.hidden})})},e.hasFrozenColumns=function(){var n=this;return this._cache("hasFrozenColumns",function(){return n._fixed&&n.getVisibleColumns().some(function(i){return!!i.frozen})})},e.hasLeftFrozenColumns=function(){var n=this;return this._cache("hasLeftFrozenColumns",function(){return n._fixed&&n.getVisibleColumns().some(function(i){return i.frozen===$t.LEFT||i.frozen===!0})})},e.hasRightFrozenColumns=function(){var n=this;return this._cache("hasRightFrozenColumns",function(){return n._fixed&&n.getVisibleColumns().some(function(i){return i.frozen===$t.RIGHT})})},e.getMainColumns=function(){var n=this;return this._cache("mainColumns",function(){var i=n.getVisibleColumns();if(!n.hasFrozenColumns())return i;var s=[];return n.getLeftFrozenColumns().forEach(function(a){var o;s.push(zn({},a,(o={},o[r.PlaceholderKey]=!0,o)))}),n.getVisibleColumns().forEach(function(a){a.frozen||s.push(a)}),n.getRightFrozenColumns().forEach(function(a){var o;s.push(zn({},a,(o={},o[r.PlaceholderKey]=!0,o)))}),s})},e.getLeftFrozenColumns=function(){var n=this;return this._cache("leftFrozenColumns",function(){return n._fixed?n.getVisibleColumns().filter(function(i){return i.frozen===$t.LEFT||i.frozen===!0}):[]})},e.getRightFrozenColumns=function(){var n=this;return this._cache("rightFrozenColumns",function(){return n._fixed?n.getVisibleColumns().filter(function(i){return i.frozen===$t.RIGHT}):[]})},e.getColumn=function(n){var i=this._columns.findIndex(function(s){return s.key===n});return this._columns[i]},e.getColumnsWidth=function(){var n=this;return this._cache("columnsWidth",function(){return n.recomputeColumnsWidth(n.getVisibleColumns())})},e.getLeftFrozenColumnsWidth=function(){var n=this;return this._cache("leftFrozenColumnsWidth",function(){return n.recomputeColumnsWidth(n.getLeftFrozenColumns())})},e.getRightFrozenColumnsWidth=function(){var n=this;return this._cache("rightFrozenColumnsWidth",function(){return n.recomputeColumnsWidth(n.getRightFrozenColumns())})},e.recomputeColumnsWidth=function(n){return n.reduce(function(i,s){return i+s.width},0)},e.setColumnWidth=function(n,i){var s=this.getColumn(n);s.width=i,this._cached={},this._columnStyles[s.key]=this.recomputeColumnStyle(s)},e.getColumnStyle=function(n){return this._columnStyles[n]},e.getColumnStyles=function(){return this._columnStyles},e.recomputeColumnStyle=function(n){var i=0,s=0;this._fixed||(i=typeof n.flexGrow=="number"?n.flexGrow:0,s=typeof n.flexShrink=="number"?n.flexShrink:1);var a=i+" "+s+" auto",o=zn({},n.style,{flex:a,msFlex:a,WebkitFlex:a,width:n.width,overflow:"hidden"});return!this._fixed&&n.maxWidth&&(o.maxWidth=n.maxWidth),!this._fixed&&n.minWidth&&(o.minWidth=n.minWidth),o},e.recomputeColumnStyles=function(){var n=this;return this._columns.reduce(function(i,s){return i[s.key]=n.recomputeColumnStyle(s),i},{})},r}();Lr.PlaceholderKey="__placeholder__";function pl(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Dn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pl(t,!0).forEach(function(n){X(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pl(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}const ce=window.React;var ml=Oe(function(r,e){return r||Bp(e)}),gl=function(e,t,n){return{width:e,maxWidth:t,height:n,overflow:"hidden"}},om={TableCell:Ic,TableHeaderCell:Ec,ExpandIcon:Ya,SortIndicator:Oc},lm=50,um=[],pn=function(r){Ye(e,r);function e(n){var i;i=r.call(this,n)||this;var s=n.columns,a=n.children,o=n.defaultExpandedRowKeys;return i.state={scrollbarSize:0,hoveredRowKey:null,resizingKey:null,resizingWidth:0,expandedRowKeys:ps(o)},i.columnManager=new Lr(ml(s,a),n.fixed),i._setContainerRef=i._setContainerRef.bind($(i)),i._setMainTableRef=i._setMainTableRef.bind($(i)),i._setLeftTableRef=i._setLeftTableRef.bind($(i)),i._setRightTableRef=i._setRightTableRef.bind($(i)),i.renderExpandIcon=i.renderExpandIcon.bind($(i)),i.renderRow=i.renderRow.bind($(i)),i.renderRowCell=i.renderRowCell.bind($(i)),i.renderHeader=i.renderHeader.bind($(i)),i.renderHeaderCell=i.renderHeaderCell.bind($(i)),i._handleScroll=i._handleScroll.bind($(i)),i._handleVerticalScroll=i._handleVerticalScroll.bind($(i)),i._handleRowsRendered=i._handleRowsRendered.bind($(i)),i._handleRowHover=i._handleRowHover.bind($(i)),i._handleRowExpand=i._handleRowExpand.bind($(i)),i._handleColumnResize=Xp(i._handleColumnResize.bind($(i)),lm),i._handleColumnResizeStart=i._handleColumnResizeStart.bind($(i)),i._handleColumnResizeStop=i._handleColumnResizeStop.bind($(i)),i._handleColumnSort=i._handleColumnSort.bind($(i)),i._handleFrozenRowHeightChange=i._handleFrozenRowHeightChange.bind($(i)),i._handleRowHeightChange=i._handleRowHeightChange.bind($(i)),i._getLeftTableContainerStyle=Oe(gl),i._getRightTableContainerStyle=Oe(gl),i._flattenOnKeys=Oe(function(l,u,c){return i._depthMap={},Wp(l,u,i._depthMap,c)}),i._resetColumnManager=Oe(function(l,u){i.columnManager.reset(l,u),i.props.estimatedRowHeight&&u&&(i.columnManager.hasLeftFrozenColumns()||(i._leftRowHeightMap={}),i.columnManager.hasRightFrozenColumns()||(i._rightRowHeightMap={}))},function(l,u){return Cc(l,u,i.props.ignoreFunctionInColumnCompare)}),i._isResetting=!1,i._resetIndex=null,i._rowHeightMap={},i._rowHeightMapBuffer={},i._mainRowHeightMap={},i._leftRowHeightMap={},i._rightRowHeightMap={},i._getEstimatedTotalRowsHeight=Oe(Tc),i._getRowHeight=i._getRowHeight.bind($(i)),i._updateRowHeights=Gp(function(){i._isResetting=!0,i._rowHeightMap=Dn({},i._rowHeightMap,{},i._rowHeightMapBuffer),i.resetAfterRowIndex(i._resetIndex,!1),i._rowHeightMapBuffer={},i._resetIndex=null,i.forceUpdateTable(),i.forceUpdate(),i._isResetting=!1},0),i._scroll={scrollLeft:0,scrollTop:0},i._scrollHeight=0,i._lastScannedRowIndex=-1,i._hasDataChangedSinceEndReached=!0,i._data=n.data,i._depthMap={},i._horizontalScrollbarSize=0,i._verticalScrollbarSize=0,i._scrollbarPresenceChanged=!1,i}var t=e.prototype;return t.getDOMNode=function(){return this.tableNode},t.getColumnManager=function(){return this.columnManager},t.getExpandedRowKeys=function(){var i=this.props.expandedRowKeys;return i!==void 0?i||um:this.state.expandedRowKeys},t.getExpandedState=function(){return{expandedData:this._data,expandedRowKeys:this.getExpandedRowKeys(),expandedDepthMap:this._depthMap}},t.getTotalRowsHeight=function(){var i=this.props,s=i.rowHeight,a=i.estimatedRowHeight;return a?this.table?this.table.getTotalRowsHeight():this._getEstimatedTotalRowsHeight(this._data,a):this._data.length*s},t.getTotalColumnsWidth=function(){return this.columnManager.getColumnsWidth()},t.forceUpdateTable=function(){this.table&&this.table.forceUpdateTable(),this.leftTable&&this.leftTable.forceUpdateTable(),this.rightTable&&this.rightTable.forceUpdateTable()},t.resetAfterRowIndex=function(i,s){i===void 0&&(i=0),s===void 0&&(s=!0),this.props.estimatedRowHeight&&(this.table&&this.table.resetAfterRowIndex(i,s),this.leftTable&&this.leftTable.resetAfterRowIndex(i,s),this.rightTable&&this.rightTable.resetAfterRowIndex(i,s))},t.resetRowHeightCache=function(){!this.props.estimatedRowHeight||(this._resetIndex=null,this._rowHeightMapBuffer={},this._rowHeightMap={},this._mainRowHeightMap={},this._leftRowHeightMap={},this._rightRowHeightMap={})},t.scrollToPosition=function(i){this._scroll=i,this.table&&this.table.scrollToPosition(i),this.leftTable&&this.leftTable.scrollToTop(i.scrollTop),this.rightTable&&this.rightTable.scrollToTop(i.scrollTop)},t.scrollToTop=function(i){this._scroll.scrollTop=i,this.table&&this.table.scrollToPosition(this._scroll),this.leftTable&&this.leftTable.scrollToTop(i),this.rightTable&&this.rightTable.scrollToTop(i)},t.scrollToLeft=function(i){this._scroll.scrollLeft=i,this.table&&this.table.scrollToPosition(this._scroll)},t.scrollToRow=function(i,s){i===void 0&&(i=0),s===void 0&&(s="auto"),this.table&&this.table.scrollToRow(i,s),this.leftTable&&this.leftTable.scrollToRow(i,s),this.rightTable&&this.rightTable.scrollToRow(i,s)},t.setExpandedRowKeys=function(i){this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:ps(i)})},t.renderExpandIcon=function(i){var s=i.rowData,a=i.rowIndex,o=i.depth,l=i.onExpand,u=this.props,c=u.rowKey,f=u.expandColumnKey,h=u.expandIconProps;if(!f)return null;var y=a>=0&&Fp(s),m=a>=0&&this.getExpandedRowKeys().indexOf(s[c])>=0,d=nt(h,{rowData:s,rowIndex:a,depth:o,expandable:y,expanded:m}),g=this._getComponent("ExpandIcon");return ce.createElement(g,ie({depth:o,expandable:y,expanded:m},d,{onExpand:l}))},t.renderRow=function(i){var s,a=i.isScrolling,o=i.columns,l=i.rowData,u=i.rowIndex,c=i.style,f=this.props,h=f.rowClassName,y=f.rowRenderer,m=f.rowEventHandlers,d=f.expandColumnKey,g=f.estimatedRowHeight,w=nt(h,{columns:o,rowData:l,rowIndex:u}),T=nt(this.props.rowProps,{columns:o,rowData:l,rowIndex:u}),S=l[this.props.rowKey],v=this._depthMap[S]||0,_=gt(this._prefixClass("row"),w,(s={},s[this._prefixClass("row--depth-"+v)]=!!d&&u>=0,s[this._prefixClass("row--expanded")]=!!d&&this.getExpandedRowKeys().indexOf(S)>=0,s[this._prefixClass("row--hovered")]=!a&&S===this.state.hoveredRowKey,s[this._prefixClass("row--frozen")]=v===0&&u<0,s[this._prefixClass("row--customized")]=y,s)),b=this.columnManager.hasFrozenColumns(),R=Dn({},T,{role:"row",key:"row-"+S,isScrolling:a,className:_,style:c,columns:o,rowIndex:u,rowData:l,rowKey:S,expandColumnKey:d,depth:v,rowEventHandlers:m,rowRenderer:y,estimatedRowHeight:u>=0?g:void 0,getIsResetting:this._getIsResetting,cellRenderer:this.renderRowCell,expandIconRenderer:this.renderExpandIcon,onRowExpand:this._handleRowExpand,onRowHover:b?this._handleRowHover:null,onRowHeightChange:b?this._handleFrozenRowHeightChange:this._handleRowHeightChange});return ce.createElement(Ka,R)},t.renderRowCell=function(i){var s,a=i.isScrolling,o=i.columns,l=i.column,u=i.columnIndex,c=i.rowData,f=i.rowIndex,h=i.expandIcon;if(l[Lr.PlaceholderKey])return ce.createElement("div",{key:"row-"+c[this.props.rowKey]+"-cell-"+l.key+"-placeholder",className:this._prefixClass("row-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)});var y=l.className,m=l.dataKey,d=l.dataGetter,g=l.cellRenderer,w=this._getComponent("TableCell"),T=d?d({columns:o,column:l,columnIndex:u,rowData:c,rowIndex:f}):Yp(c,m),S={isScrolling:a,cellData:T,columns:o,column:l,columnIndex:u,rowData:c,rowIndex:f,container:this},v=Lt(g||ce.createElement(w,{className:this._prefixClass("row-cell-text")}),S),_=nt(y,{cellData:T,columns:o,column:l,columnIndex:u,rowData:c,rowIndex:f}),b=gt(this._prefixClass("row-cell"),_,(s={},s[this._prefixClass("row-cell--align-center")]=l.align===Nr.CENTER,s[this._prefixClass("row-cell--align-right")]=l.align===Nr.RIGHT,s)),R=nt(this.props.cellProps,{columns:o,column:l,columnIndex:u,rowData:c,rowIndex:f}),O=R||{},N=O.tagName,z=Ve(O,["tagName"]),P=N||"div";return ce.createElement(P,ie({role:"gridcell",key:"row-"+c[this.props.rowKey]+"-cell-"+l.key},z,{className:b,style:this.columnManager.getColumnStyle(l.key)}),h,v)},t.renderHeader=function(i){var s,a=i.columns,o=i.headerIndex,l=i.style,u=this.props,c=u.headerClassName,f=u.headerRenderer,h=nt(c,{columns:a,headerIndex:o}),y=nt(this.props.headerProps,{columns:a,headerIndex:o}),m=gt(this._prefixClass("header-row"),h,(s={},s[this._prefixClass("header-row--resizing")]=!!this.state.resizingKey,s[this._prefixClass("header-row--customized")]=f,s)),d=Dn({},y,{role:"row",key:"header-"+o,className:m,style:l,columns:a,headerIndex:o,headerRenderer:f,cellRenderer:this.renderHeaderCell,expandColumnKey:this.props.expandColumnKey,expandIcon:this._getComponent("ExpandIcon")});return ce.createElement(Ua,d)},t.renderHeaderCell=function(i){var s,a,o=i.columns,l=i.column,u=i.columnIndex,c=i.headerIndex,f=i.expandIcon;if(l[Lr.PlaceholderKey])return ce.createElement("div",{key:"header-"+c+"-cell-"+l.key+"-placeholder",className:this._prefixClass("header-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)});var h=l.headerClassName,y=l.headerRenderer,m=this.props,d=m.sortBy,g=m.sortState,w=m.headerCellProps,T=this._getComponent("TableHeaderCell"),S=this._getComponent("SortIndicator"),v={columns:o,column:l,columnIndex:u,headerIndex:c,container:this},_=Lt(y||ce.createElement(T,{className:this._prefixClass("header-cell-text")}),v),b,R;if(g){var O=g[l.key];b=O===he.ASC||O===he.DESC,R=b?O:he.ASC}else b=l.key===d.key,R=b?d.order:he.ASC;var N=nt(h,{columns:o,column:l,columnIndex:u,headerIndex:c}),z=gt(this._prefixClass("header-cell"),N,(s={},s[this._prefixClass("header-cell--align-center")]=l.align===Nr.CENTER,s[this._prefixClass("header-cell--align-right")]=l.align===Nr.RIGHT,s[this._prefixClass("header-cell--sortable")]=l.sortable,s[this._prefixClass("header-cell--sorting")]=b,s[this._prefixClass("header-cell--resizing")]=l.key===this.state.resizingKey,s)),P=nt(w,{columns:o,column:l,columnIndex:u,headerIndex:c}),q=P||{},C=q.tagName,E=Ve(q,["tagName"]),A=C||"div";return ce.createElement(A,ie({role:"gridcell",key:"header-"+c+"-cell-"+l.key,onClick:l.sortable?this._handleColumnSort:null},E,{className:z,style:this.columnManager.getColumnStyle(l.key),"data-key":l.key}),f,_,l.sortable&&ce.createElement(S,{sortOrder:R,className:gt(this._prefixClass("sort-indicator"),(a={},a[this._prefixClass("sort-indicator--descending")]=R===he.DESC,a))}),l.resizable&&ce.createElement(Ga,{className:this._prefixClass("column-resizer"),column:l,onResizeStart:this._handleColumnResizeStart,onResizeStop:this._handleColumnResizeStop,onResize:this._handleColumnResize}))},t.renderMainTable=function(){var i=this.props,s=i.width,a=i.headerHeight,o=i.rowHeight,l=i.fixed,u=i.estimatedRowHeight,c=Ve(i,["width","headerHeight","rowHeight","fixed","estimatedRowHeight"]),f=this._getTableHeight(),h=s-this._verticalScrollbarSize;if(l){var y=this.columnManager.getColumnsWidth();h=Math.max(Math.round(y),h)}return ce.createElement(Xn,ie({},c,this.state,{className:this._prefixClass("table-main"),ref:this._setMainTableRef,data:this._data,columns:this.columnManager.getMainColumns(),width:s,height:f,headerHeight:a,rowHeight:o,estimatedRowHeight:u,getRowHeight:u?this._getRowHeight:void 0,headerWidth:h+(l?this._verticalScrollbarSize:0),bodyWidth:h,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleScroll,onRowsRendered:this._handleRowsRendered}))},t.renderLeftTable=function(){if(!this.columnManager.hasLeftFrozenColumns())return null;var i=this.props,s=i.width,a=i.headerHeight,o=i.rowHeight,l=i.estimatedRowHeight,u=Ve(i,["width","headerHeight","rowHeight","estimatedRowHeight"]),c=this._getFrozenContainerHeight(),f=this._verticalScrollbarSize||20,h=this.columnManager.getLeftFrozenColumnsWidth();return ce.createElement(Xn,ie({},u,this.state,{containerStyle:this._getLeftTableContainerStyle(h,s,c),className:this._prefixClass("table-frozen-left"),ref:this._setLeftTableRef,data:this._data,columns:this.columnManager.getLeftFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:h+f,height:c,headerHeight:a,rowHeight:o,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:h+f,bodyWidth:h+f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Me}))},t.renderRightTable=function(){if(!this.columnManager.hasRightFrozenColumns())return null;var i=this.props,s=i.width,a=i.headerHeight,o=i.rowHeight,l=i.estimatedRowHeight,u=Ve(i,["width","headerHeight","rowHeight","estimatedRowHeight"]),c=this._getFrozenContainerHeight(),f=this.columnManager.getRightFrozenColumnsWidth(),h=this._verticalScrollbarSize;return ce.createElement(Xn,ie({},u,this.state,{containerStyle:this._getLeftTableContainerStyle(f+h,s,c),className:this._prefixClass("table-frozen-right"),ref:this._setRightTableRef,data:this._data,columns:this.columnManager.getRightFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:f+h,height:c,headerHeight:a,rowHeight:o,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:f+h,bodyWidth:f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Me}))},t.renderResizingLine=function(){var i=this.props,s=i.width,a=i.fixed,o=this.state.resizingKey;if(!a||!o)return null;var l=this.columnManager.getMainColumns(),u=l.findIndex(function(w){return w.key===o}),c=l[u],f=c.width,h=c.frozen,y=this.columnManager.recomputeColumnsWidth(l.slice(0,u)),m=y+f;if(!h)m-=this._scroll.scrollLeft;else if(h===$t.RIGHT){var d=this.columnManager.recomputeColumnsWidth(l.slice(u+1));d+f>s-this._verticalScrollbarSize?m=f:m=s-this._verticalScrollbarSize-d}var g={left:m,height:this._getTableHeight()-this._horizontalScrollbarSize};return ce.createElement("div",{className:this._prefixClass("resizing-line"),style:g})},t.renderFooter=function(){var i=this.props,s=i.footerHeight,a=i.footerRenderer;return s===0?null:ce.createElement("div",{className:this._prefixClass("footer"),style:{height:s}},Lt(a))},t.renderEmptyLayer=function(){var i=this.props,s=i.data,a=i.frozenData,o=i.footerHeight,l=i.emptyRenderer;if(s&&s.length||a&&a.length)return null;var u=this._getHeaderHeight();return ce.createElement("div",{className:this._prefixClass("empty-layer"),style:{top:u,bottom:o}},Lt(l))},t.renderOverlay=function(){var i=this.props.overlayRenderer;return ce.createElement("div",{className:this._prefixClass("overlay")},!!i&&Lt(i))},t.render=function(){var i,s=this.props,a=s.columns,o=s.children,l=s.width,u=s.fixed,c=s.data,f=s.frozenData,h=s.expandColumnKey,y=s.disabled,m=s.className,d=s.style,g=s.footerHeight,w=s.classPrefix,T=s.estimatedRowHeight;this._resetColumnManager(ml(a,o),u);var S=h?this._flattenOnKeys(c,this.getExpandedRowKeys(),this.props.rowKey):c;this._data!==S&&(this.resetAfterRowIndex(0,!1),this._data=S),this._calcScrollbarSizes(),this._totalRowsHeight=this.getTotalRowsHeight();var v=Dn({},d,{width:l,height:this._getTableHeight()+g,position:"relative"}),_=gt(w,m,(i={},i[w+"--fixed"]=u,i[w+"--expandable"]=!!h,i[w+"--empty"]=c.length===0,i[w+"--has-frozen-rows"]=f.length>0,i[w+"--has-frozen-columns"]=this.columnManager.hasFrozenColumns(),i[w+"--disabled"]=y,i[w+"--dynamic"]=!!T,i));return ce.createElement("div",{ref:this._setContainerRef,className:_,style:v},this.renderFooter(),this.renderMainTable(),this.renderLeftTable(),this.renderRightTable(),this.renderResizingLine(),this.renderEmptyLayer(),this.renderOverlay())},t.componentDidMount=function(){var i=this.props.getScrollbarSize();i>0&&this.setState({scrollbarSize:i})},t.componentDidUpdate=function(i,s){var a=this.props,o=a.data,l=a.height,u=a.maxHeight,c=a.estimatedRowHeight;o!==i.data&&(this._lastScannedRowIndex=-1,this._hasDataChangedSinceEndReached=!0),(u!==i.maxHeight||l!==i.height)&&this._maybeCallOnEndReached(),this._maybeScrollbarPresenceChange(),c&&this.getTotalRowsHeight()!==this._totalRowsHeight&&this.forceUpdate()},t._prefixClass=function(i){return this.props.classPrefix+"__"+i},t._setContainerRef=function(i){this.tableNode=i},t._setMainTableRef=function(i){this.table=i},t._setLeftTableRef=function(i){this.leftTable=i},t._setRightTableRef=function(i){this.rightTable=i},t._getComponent=function(i){return this.props.components&&this.props.components[i]?this.props.components[i]:om[i]},t._getRowHeight=function(i){var s=this.props,a=s.estimatedRowHeight,o=s.rowKey;return this._rowHeightMap[this._data[i][o]]||nt(a,{rowData:this._data[i],rowIndex:i})},t._getIsResetting=function(){return this._isResetting},t._getHeaderHeight=function(){var i=this.props.headerHeight;return Array.isArray(i)?i.reduce(function(s,a){return s+a},0):i},t._getFrozenRowsHeight=function(){var i=this.props,s=i.frozenData,a=i.rowHeight;return s.length*a},t._getTableHeight=function(){var i=this.props,s=i.height,a=i.maxHeight,o=i.footerHeight,l=s-o;if(a>0){var u=this._getFrozenRowsHeight(),c=this.getTotalRowsHeight(),f=this._getHeaderHeight(),h=f+u+c+this._horizontalScrollbarSize;l=Math.min(h,a-o)}return l},t._getBodyHeight=function(){return this._getTableHeight()-this._getHeaderHeight()-this._getFrozenRowsHeight()},t._getFrozenContainerHeight=function(){var i=this.props.maxHeight,s=this._getTableHeight()-(this._data.length>0?this._horizontalScrollbarSize:0);if(i>0)return s;var a=this.getTotalRowsHeight()+this._getHeaderHeight()+this._getFrozenRowsHeight();return Math.min(s,a)},t._calcScrollbarSizes=function(){var i=this.props,s=i.fixed,a=i.width,o=this.state.scrollbarSize,l=this.getTotalRowsHeight(),u=this.getTotalColumnsWidth(),c=this._horizontalScrollbarSize,f=this._verticalScrollbarSize;o===0?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0):!s||u<=a-o?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=l>this._getBodyHeight()?o:0):u>a?(this._horizontalScrollbarSize=o,this._verticalScrollbarSize=l>this._getBodyHeight()-this._horizontalScrollbarSize?o:0):(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0,l>this._getBodyHeight()&&(this._horizontalScrollbarSize=o,this._verticalScrollbarSize=o)),(c!==this._horizontalScrollbarSize||f!==this._verticalScrollbarSize)&&(this._scrollbarPresenceChanged=!0)},t._maybeScrollbarPresenceChange=function(){if(this._scrollbarPresenceChanged){var i=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,i({size:this.state.scrollbarSize,horizontal:this._horizontalScrollbarSize>0,vertical:this._verticalScrollbarSize>0})}},t._maybeCallOnEndReached=function(){var i=this.props,s=i.onEndReached,a=i.onEndReachedThreshold,o=this._scroll.scrollTop,l=this.getTotalRowsHeight(),u=this._getBodyHeight();if(!(!s||!u||!l)){var c=l-o-u+this._horizontalScrollbarSize;this._lastScannedRowIndex>=0&&c<=a&&(this._hasDataChangedSinceEndReached||l!==this._scrollHeight)&&(this._hasDataChangedSinceEndReached=!1,this._scrollHeight=l,s({distanceFromEnd:c}))}},t._handleScroll=function(i){var s=this._scroll.scrollTop;this.scrollToPosition(i),this.props.onScroll(i),i.scrollTop>s&&this._maybeCallOnEndReached()},t._handleVerticalScroll=function(i){var s=i.scrollTop,a=this._scroll.scrollTop;s!==a&&this.scrollToTop(s),s>a&&this._maybeCallOnEndReached()},t._handleRowsRendered=function(i){this.props.onRowsRendered(i),i.overscanStopIndex>this._lastScannedRowIndex&&(this._lastScannedRowIndex=i.overscanStopIndex,this._maybeCallOnEndReached())},t._handleRowHover=function(i){var s=i.hovered,a=i.rowKey;this.setState({hoveredRowKey:s?a:null})},t._handleRowExpand=function(i){var s=i.expanded,a=i.rowData,o=i.rowIndex,l=i.rowKey,u=ps(this.getExpandedRowKeys());if(s)!u.indexOf(l)>=0&&u.push(l);else{var c=u.indexOf(l);c>-1&&u.splice(c,1)}this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:u}),this.props.onRowExpand({expanded:s,rowData:a,rowIndex:o,rowKey:l}),this.props.onExpandedRowsChange(u)},t._handleColumnResize=function(i,s){var a=i.key;this.columnManager.setColumnWidth(a,s),this.setState({resizingWidth:s});var o=this.columnManager.getColumn(a);this.props.onColumnResize({column:o,width:s})},t._handleColumnResizeStart=function(i){var s=i.key;this.setState({resizingKey:s})},t._handleColumnResizeStop=function(){var i=this.state,s=i.resizingKey,a=i.resizingWidth;if(this.setState({resizingKey:null,resizingWidth:0}),!(!s||!a)){var o=this.columnManager.getColumn(s);this.props.onColumnResizeEnd({column:o,width:a})}},t._handleColumnSort=function(i){var s=i.currentTarget.dataset.key,a=this.props,o=a.sortBy,l=a.sortState,u=a.onColumnSort,c=he.ASC;l?c=l[s]===he.ASC?he.DESC:he.ASC:s===o.key&&(c=o.order===he.ASC?he.DESC:he.ASC);var f=this.columnManager.getColumn(s);u({column:f,key:s,order:c})},t._handleFrozenRowHeightChange=function(i,s,a,o){o?o===$t.RIGHT?this._rightRowHeightMap[i]=s:this._leftRowHeightMap[i]=s:this._mainRowHeightMap[i]=s;var l=Math.max(this._mainRowHeightMap[i]||0,this._leftRowHeightMap[i]||0,this._rightRowHeightMap[i]||0);this._rowHeightMap[i]!==l&&this._handleRowHeightChange(i,l,a)},t._handleRowHeightChange=function(i,s,a){this._resetIndex===null?this._resetIndex=a:this._resetIndex>a&&(this._resetIndex=a),this._rowHeightMapBuffer[i]=s,this._updateRowHeights()},e}(ce.PureComponent);pn.Column=Ce;pn.PlaceholderKey=Lr.PlaceholderKey;pn.defaultProps={classPrefix:"BaseTable",rowKey:"id",data:[],frozenData:[],fixed:!1,headerHeight:50,rowHeight:50,footerHeight:0,defaultExpandedRowKeys:[],sortBy:{},useIsScrolling:!1,overscanRowCount:1,onEndReachedThreshold:500,getScrollbarSize:Jp,ignoreFunctionInColumnCompare:!0,onScroll:Me,onRowsRendered:Me,onScrollbarPresenceChange:Me,onRowExpand:Me,onExpandedRowsChange:Me,onColumnSort:Me,onColumnResize:Me,onColumnResizeEnd:Me};pn.propTypes={classPrefix:p.string,className:p.string,style:p.object,children:p.node,columns:p.arrayOf(p.shape(Ce.propTypes)),data:p.array.isRequired,frozenData:p.array,rowKey:p.oneOfType([p.string,p.number]).isRequired,width:p.number.isRequired,height:p.number,maxHeight:p.number,rowHeight:p.number,estimatedRowHeight:p.oneOfType([p.number,p.func]),headerHeight:p.oneOfType([p.number,p.arrayOf(p.number)]).isRequired,footerHeight:p.number,fixed:p.bool,disabled:p.bool,overlayRenderer:p.oneOfType([p.func,p.element]),emptyRenderer:p.oneOfType([p.func,p.element]),footerRenderer:p.oneOfType([p.func,p.element]),headerRenderer:p.oneOfType([p.func,p.element]),rowRenderer:p.oneOfType([p.func,p.element]),headerClassName:p.oneOfType([p.string,p.func]),rowClassName:p.oneOfType([p.string,p.func]),headerProps:p.oneOfType([p.object,p.func]),headerCellProps:p.oneOfType([p.object,p.func]),rowProps:p.oneOfType([p.object,p.func]),cellProps:p.oneOfType([p.object,p.func]),expandIconProps:p.oneOfType([p.object,p.func]),expandColumnKey:p.string,defaultExpandedRowKeys:p.arrayOf(p.oneOfType([p.string,p.number])),expandedRowKeys:p.arrayOf(p.oneOfType([p.string,p.number])),onRowExpand:p.func,onExpandedRowsChange:p.func,sortBy:p.shape({key:p.string,order:p.oneOf([he.ASC,he.DESC])}),sortState:p.object,onColumnSort:p.func,onColumnResize:p.func,onColumnResizeEnd:p.func,useIsScrolling:p.bool,overscanRowCount:p.number,getScrollbarSize:p.func,onScroll:p.func,onEndReached:p.func,onEndReachedThreshold:p.number,onRowsRendered:p.func,onScrollbarPresenceChange:p.func,rowEventHandlers:p.object,ignoreFunctionInColumnCompare:p.bool,components:p.shape({TableCell:p.elementType,TableHeaderCell:p.elementType,ExpandIcon:p.elementType,SortIndicator:p.elementType})};const cm=window.React.createElement,fm=window.React.PureComponent;var dm=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},hm=function(){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),pm=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mm=function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},yl=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r},gm=function(){function r(e,t){var n=[],i=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(u){s=!0,a=u}finally{try{!i&&o.return&&o.return()}finally{if(s)throw a}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ue=void 0;typeof window!="undefined"?Ue=window:typeof self!="undefined"?Ue=self:Ue=global;var Ks=null,Ys=null,_l=20,ys=Ue.clearTimeout,vl=Ue.setTimeout,_s=Ue.cancelAnimationFrame||Ue.mozCancelAnimationFrame||Ue.webkitCancelAnimationFrame,wl=Ue.requestAnimationFrame||Ue.mozRequestAnimationFrame||Ue.webkitRequestAnimationFrame;_s==null||wl==null?(Ks=ys,Ys=function(e){return vl(e,_l)}):(Ks=function(e){var t=gm(e,2),n=t[0],i=t[1];_s(n),ys(i)},Ys=function(e){var t=wl(function(){ys(n),e()}),n=vl(function(){_s(t),e()},_l);return[t,n]});function ym(r){var e=void 0,t=void 0,n=void 0,i=void 0,s=void 0,a=void 0,o=void 0,l=typeof document!="undefined"&&document.attachEvent;if(!l){a=function(v){var _=v.__resizeTriggers__,b=_.firstElementChild,R=_.lastElementChild,O=b.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,O.style.width=b.offsetWidth+1+"px",O.style.height=b.offsetHeight+1+"px",b.scrollLeft=b.scrollWidth,b.scrollTop=b.scrollHeight},s=function(v){return v.offsetWidth!==v.__resizeLast__.width||v.offsetHeight!==v.__resizeLast__.height},o=function(v){if(!(v.target.className&&typeof v.target.className.indexOf=="function"&&v.target.className.indexOf("contract-trigger")<0&&v.target.className.indexOf("expand-trigger")<0)){var _=this;a(this),this.__resizeRAF__&&Ks(this.__resizeRAF__),this.__resizeRAF__=Ys(function(){s(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(O){O.call(_,v)}))})}};var u=!1,c="";n="animationstart";var f="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),y="";{var m=document.createElement("fakeelement");if(m.style.animationName!==void 0&&(u=!0),u===!1){for(var d=0;d<f.length;d++)if(m.style[f[d]+"AnimationName"]!==void 0){y=f[d],c="-"+y.toLowerCase()+"-",n=h[d],u=!0;break}}}t="resizeanim",e="@"+c+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",i=c+"animation: 1ms "+t+"; "}var g=function(v){if(!v.getElementById("detectElementResize")){var _=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=v.head||v.getElementsByTagName("head")[0],R=v.createElement("style");R.id="detectElementResize",R.type="text/css",r!=null&&R.setAttribute("nonce",r),R.styleSheet?R.styleSheet.cssText=_:R.appendChild(v.createTextNode(_)),b.appendChild(R)}},w=function(v,_){if(l)v.attachEvent("onresize",_);else{if(!v.__resizeTriggers__){var b=v.ownerDocument,R=Ue.getComputedStyle(v);R&&R.position==="static"&&(v.style.position="relative"),g(b),v.__resizeLast__={},v.__resizeListeners__=[],(v.__resizeTriggers__=b.createElement("div")).className="resize-triggers";var O=b.createElement("div");O.className="expand-trigger",O.appendChild(b.createElement("div"));var N=b.createElement("div");N.className="contract-trigger",v.__resizeTriggers__.appendChild(O),v.__resizeTriggers__.appendChild(N),v.appendChild(v.__resizeTriggers__),a(v),v.addEventListener("scroll",o,!0),n&&(v.__resizeTriggers__.__animationListener__=function(P){P.animationName===t&&a(v)},v.__resizeTriggers__.addEventListener(n,v.__resizeTriggers__.__animationListener__))}v.__resizeListeners__.push(_)}},T=function(v,_){if(l)v.detachEvent("onresize",_);else if(v.__resizeListeners__.splice(v.__resizeListeners__.indexOf(_),1),!v.__resizeListeners__.length){v.removeEventListener("scroll",o,!0),v.__resizeTriggers__.__animationListener__&&(v.__resizeTriggers__.removeEventListener(n,v.__resizeTriggers__.__animationListener__),v.__resizeTriggers__.__animationListener__=null);try{v.__resizeTriggers__=!v.removeChild(v.__resizeTriggers__)}catch{}}};return{addResizeListener:w,removeResizeListener:T}}var Xa=function(r){mm(e,r);function e(){var t,n,i,s;dm(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return s=(n=(i=yl(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),i),i.state={height:i.props.defaultHeight||0,width:i.props.defaultWidth||0},i._onResize=function(){var u=i.props,c=u.disableHeight,f=u.disableWidth,h=u.onResize;if(i._parentNode){var y=i._parentNode.offsetHeight||0,m=i._parentNode.offsetWidth||0,d=window.getComputedStyle(i._parentNode)||{},g=parseInt(d.paddingLeft,10)||0,w=parseInt(d.paddingRight,10)||0,T=parseInt(d.paddingTop,10)||0,S=parseInt(d.paddingBottom,10)||0,v=y-T-S,_=m-g-w;(!c&&i.state.height!==v||!f&&i.state.width!==_)&&(i.setState({height:y-T-S,width:m-g-w}),h({height:y,width:m}))}},i._setRef=function(u){i._autoSizer=u},n),yl(i,s)}return hm(e,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=ym(n),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,i=n.children,s=n.className,a=n.disableHeight,o=n.disableWidth,l=n.style,u=this.state,c=u.height,f=u.width,h={overflow:"visible"},y={},m=!1;return a||(c===0&&(m=!0),h.height=0,y.height=c),o||(f===0&&(m=!0),h.width=0,y.width=f),cm("div",{className:s,ref:this._setRef,style:pm({},h,l)},!m&&i(y))}}]),e}(fm);Xa.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};const bl=window.React;var Ac=function(e){var t=e.className,n=e.width,i=e.height,s=e.children,a=e.onResize,o=typeof n=="number",l=typeof i=="number";return o&&l?bl.createElement("div",{className:t,style:{width:n,height:i,position:"relative"}},s({width:n,height:i})):bl.createElement(Xa,{className:t,disableWidth:o,disableHeight:l,onResize:a},function(u){return s({width:o?n:u.width,height:l?i:u.height})})};Ac.propTypes={className:p.string,width:p.number,height:p.number,children:p.func.isRequired,onResize:p.func};var zc={},mn={},Ki={},Yi=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ki,"__esModule",{value:!0});var _m=Yi(Uf),vm=Yi(Kf),vs=Yi(Yf),wm=Yi(Gf);function Ne(r){return r===" "||r===`
`||r==="	"||r==="\f"||r==="\r"}function Sl(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"}function ge(r,e,t){var n=r.toLowerCase();return r===n?function(i,s){s===n?i._state=e:(i._state=t,i._index--)}:function(i,s){s===n||s===r?i._state=e:(i._state=t,i._index--)}}function rt(r,e){var t=r.toLowerCase();return function(n,i){i===t||i===r?n._state=e:(n._state=3,n._index--)}}var bm=ge("C",24,16),Sm=ge("D",25,16),Rm=ge("A",26,16),xm=ge("T",27,16),Cm=ge("A",28,16),Tm=rt("R",35),Em=rt("I",36),Im=rt("P",37),Om=rt("T",38),Am=ge("R",40,1),zm=ge("I",41,1),Dm=ge("P",42,1),Nm=ge("T",43,1),Mm=rt("Y",45),Pm=rt("L",46),Vm=rt("E",47),Lm=ge("Y",49,1),Hm=ge("L",50,1),$m=ge("E",51,1),km=rt("I",54),qm=rt("T",55),jm=rt("L",56),Bm=rt("E",57),Fm=ge("I",58,1),Wm=ge("T",59,1),Um=ge("L",60,1),Km=ge("E",61,1),Ym=ge("#",63,64),Gm=ge("X",66,65),Xm=function(){function r(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(e!=null&&e.xmlMode),this.decodeEntities=(n=e==null?void 0:e.decodeEntities)!==null&&n!==void 0?n:!0}return r.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},r.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},r.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},r.prototype.pause=function(){this.running=!1},r.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},r.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},r.prototype.stateText=function(e){e==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&e==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},r.prototype.isTagStartChar=function(e){return Sl(e)||this.xmlMode&&!Ne(e)&&e!=="/"&&e!==">"},r.prototype.stateBeforeTagName=function(e){e==="/"?this._state=5:e==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):e===">"||this.special!==1||Ne(e)?this._state=1:e==="!"?(this._state=15,this.sectionStart=this._index+1):e==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=!this.xmlMode&&(e==="s"||e==="S")?32:!this.xmlMode&&(e==="t"||e==="T")?52:3,this.sectionStart=this._index):this._state=1},r.prototype.stateInTagName=function(e){(e==="/"||e===">"||Ne(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},r.prototype.stateBeforeClosingTagName=function(e){Ne(e)||(e===">"?this._state=1:this.special!==1?this.special!==4&&(e==="s"||e==="S")?this._state=33:this.special===4&&(e==="t"||e==="T")?this._state=53:(this._state=1,this._index--):this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},r.prototype.stateInClosingTagName=function(e){(e===">"||Ne(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},r.prototype.stateAfterClosingTagName=function(e){e===">"&&(this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeAttributeName=function(e){e===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):e==="/"?this._state=4:Ne(e)||(this._state=9,this.sectionStart=this._index)},r.prototype.stateInSelfClosingTag=function(e){e===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):Ne(e)||(this._state=8,this._index--)},r.prototype.stateInAttributeName=function(e){(e==="="||e==="/"||e===">"||Ne(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},r.prototype.stateAfterAttributeName=function(e){e==="="?this._state=11:e==="/"||e===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):Ne(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},r.prototype.stateBeforeAttributeValue=function(e){e==='"'?(this._state=12,this.sectionStart=this._index+1):e==="'"?(this._state=13,this.sectionStart=this._index+1):Ne(e)||(this._state=14,this.sectionStart=this._index,this._index--)},r.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},r.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},r.prototype.stateInAttributeValueNoQuotes=function(e){Ne(e)||e===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateBeforeDeclaration=function(e){this._state=e==="["?23:e==="-"?18:16},r.prototype.stateInDeclaration=function(e){e===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateInProcessingInstruction=function(e){e===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeComment=function(e){e==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},r.prototype.stateInComment=function(e){e==="-"&&(this._state=21)},r.prototype.stateInSpecialComment=function(e){e===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateAfterComment1=function(e){e==="-"?this._state=22:this._state=19},r.prototype.stateAfterComment2=function(e){e===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="-"&&(this._state=19)},r.prototype.stateBeforeCdata6=function(e){e==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},r.prototype.stateInCdata=function(e){e==="]"&&(this._state=30)},r.prototype.stateAfterCdata1=function(e){e==="]"?this._state=31:this._state=29},r.prototype.stateAfterCdata2=function(e){e===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="]"&&(this._state=29)},r.prototype.stateBeforeSpecialS=function(e){e==="c"||e==="C"?this._state=34:e==="t"||e==="T"?this._state=44:(this._state=3,this._index--)},r.prototype.stateBeforeSpecialSEnd=function(e){this.special===2&&(e==="c"||e==="C")?this._state=39:this.special===3&&(e==="t"||e==="T")?this._state=48:this._state=1},r.prototype.stateBeforeSpecialLast=function(e,t){(e==="/"||e===">"||Ne(e))&&(this.special=t),this._state=3,this._index--},r.prototype.stateAfterSpecialLast=function(e,t){e===">"||Ne(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},r.prototype.parseFixedEntity=function(e){if(e===void 0&&(e=this.xmlMode?wm.default:vm.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},r.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(vs.default,n)){this.emitPartial(vs.default[n]),this.sectionStart+=t+1;return}t--}},r.prototype.stateInNamedEntity=function(e){e===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!Sl(e)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?e!=="="&&this.parseFixedEntity(vs.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},r.prototype.decodeNumericEntity=function(e,t,n){var i=this.sectionStart+e;if(i!==this._index){var s=this.buffer.substring(i,this._index),a=parseInt(s,t);this.emitPartial(_m.default(a)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},r.prototype.stateInNumericEntity=function(e){e===";"?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},r.prototype.stateInHexEntity=function(e){e===";"?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},r.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},r.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);this._state===1?this.stateText(e):this._state===12?this.stateInAttributeValueDoubleQuotes(e):this._state===9?this.stateInAttributeName(e):this._state===19?this.stateInComment(e):this._state===20?this.stateInSpecialComment(e):this._state===8?this.stateBeforeAttributeName(e):this._state===3?this.stateInTagName(e):this._state===6?this.stateInClosingTagName(e):this._state===2?this.stateBeforeTagName(e):this._state===10?this.stateAfterAttributeName(e):this._state===13?this.stateInAttributeValueSingleQuotes(e):this._state===11?this.stateBeforeAttributeValue(e):this._state===5?this.stateBeforeClosingTagName(e):this._state===7?this.stateAfterClosingTagName(e):this._state===32?this.stateBeforeSpecialS(e):this._state===21?this.stateAfterComment1(e):this._state===14?this.stateInAttributeValueNoQuotes(e):this._state===4?this.stateInSelfClosingTag(e):this._state===16?this.stateInDeclaration(e):this._state===15?this.stateBeforeDeclaration(e):this._state===22?this.stateAfterComment2(e):this._state===18?this.stateBeforeComment(e):this._state===33?this.stateBeforeSpecialSEnd(e):this._state===53?Fm(this,e):this._state===39?Am(this,e):this._state===40?zm(this,e):this._state===41?Dm(this,e):this._state===34?Tm(this,e):this._state===35?Em(this,e):this._state===36?Im(this,e):this._state===37?Om(this,e):this._state===38?this.stateBeforeSpecialLast(e,2):this._state===42?Nm(this,e):this._state===43?this.stateAfterSpecialLast(e,6):this._state===44?Mm(this,e):this._state===29?this.stateInCdata(e):this._state===45?Pm(this,e):this._state===46?Vm(this,e):this._state===47?this.stateBeforeSpecialLast(e,3):this._state===48?Lm(this,e):this._state===49?Hm(this,e):this._state===50?$m(this,e):this._state===51?this.stateAfterSpecialLast(e,5):this._state===52?km(this,e):this._state===54?qm(this,e):this._state===55?jm(this,e):this._state===56?Bm(this,e):this._state===57?this.stateBeforeSpecialLast(e,4):this._state===58?Wm(this,e):this._state===59?Um(this,e):this._state===60?Km(this,e):this._state===61?this.stateAfterSpecialLast(e,5):this._state===17?this.stateInProcessingInstruction(e):this._state===64?this.stateInNamedEntity(e):this._state===23?bm(this,e):this._state===62?Ym(this,e):this._state===24?Sm(this,e):this._state===25?Rm(this,e):this._state===30?this.stateAfterCdata1(e):this._state===31?this.stateAfterCdata2(e):this._state===26?xm(this,e):this._state===27?Cm(this,e):this._state===28?this.stateBeforeCdata6(e):this._state===66?this.stateInHexEntity(e):this._state===65?this.stateInNumericEntity(e):this._state===63?Gm(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},r.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},r.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(e):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(e):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(e)},r.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},r.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},r.prototype.emitPartial=function(e){this.baseState!==1?this.cbs.onattribdata(e):this.cbs.ontext(e)},r}();Ki.default=Xm;var Jm=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mn,"__esModule",{value:!0});mn.Parser=void 0;var Qm=Jm(Ki),Zt=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Q=new Set(["p"]),Rl={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:Q,h1:Q,h2:Q,h3:Q,h4:Q,h5:Q,h6:Q,select:Zt,input:Zt,output:Zt,button:Zt,datalist:Zt,textarea:Zt,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:Q,article:Q,aside:Q,blockquote:Q,details:Q,div:Q,dl:Q,fieldset:Q,figcaption:Q,figure:Q,footer:Q,form:Q,header:Q,hr:Q,main:Q,nav:Q,ol:Q,pre:Q,section:Q,table:Q,ul:Q,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},ws=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),xl=new Set(["math","svg"]),Cl=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Zm=/\s|\//,eg=function(){function r(e,t){t===void 0&&(t={});var n,i,s,a,o;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=e!=null?e:{},this.lowerCaseTagNames=(n=t.lowerCaseTags)!==null&&n!==void 0?n:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:Qm.default)(this.options,this),(o=(a=this.cbs).onparserinit)===null||o===void 0||o.call(a,this)}return r.prototype.updatePosition=function(e){this.endIndex===null?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,(n=(t=this.cbs).ontext)===null||n===void 0||n.call(t,e)},r.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(Rl,e))for(var i=void 0;this.stack.length>0&&Rl[e].has(i=this.stack[this.stack.length-1]);)this.onclosetag(i);(this.options.xmlMode||!ws.has(e))&&(this.stack.push(e),xl.has(e)?this.foreignContext.push(!0):Cl.has(e)&&this.foreignContext.push(!1)),(n=(t=this.cbs).onopentagname)===null||n===void 0||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},r.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&((t=(e=this.cbs).onopentag)===null||t===void 0||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&ws.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},r.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(xl.has(e)||Cl.has(e))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!ws.has(e))){var t=this.stack.lastIndexOf(e);if(t!==-1)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else e==="p"&&!this.options.xmlMode&&(this.onopentagname(e),this.closeCurrentTag())}else!this.options.xmlMode&&(e==="br"||e==="p")&&(this.onopentagname(e),this.closeCurrentTag())},r.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},r.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&((t=(e=this.cbs).onclosetag)===null||t===void 0||t.call(e,n),this.stack.pop())},r.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},r.prototype.onattribdata=function(e){this.attribvalue+=e},r.prototype.onattribend=function(e){var t,n;(n=(t=this.cbs).onattribute)===null||n===void 0||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},r.prototype.getInstructionName=function(e){var t=e.search(Zm),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},r.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},r.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},r.prototype.oncomment=function(e){var t,n,i,s;this.updatePosition(4),(n=(t=this.cbs).oncomment)===null||n===void 0||n.call(t,e),(s=(i=this.cbs).oncommentend)===null||s===void 0||s.call(i)},r.prototype.oncdata=function(e){var t,n,i,s,a,o;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((n=(t=this.cbs).oncdatastart)===null||n===void 0||n.call(t),(s=(i=this.cbs).ontext)===null||s===void 0||s.call(i,e),(o=(a=this.cbs).oncdataend)===null||o===void 0||o.call(a)):this.oncomment("[CDATA["+e+"]]")},r.prototype.onerror=function(e){var t,n;(n=(t=this.cbs).onerror)===null||n===void 0||n.call(t,e)},r.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},r.prototype.reset=function(){var e,t,n,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this)},r.prototype.parseComplete=function(e){this.reset(),this.end(e)},r.prototype.write=function(e){this.tokenizer.write(e)},r.prototype.end=function(e){this.tokenizer.end(e)},r.prototype.pause=function(){this.tokenizer.pause()},r.prototype.resume=function(){this.tokenizer.resume()},r.prototype.parseChunk=function(e){this.write(e)},r.prototype.done=function(e){this.end(e)},r}();mn.Parser=eg;var bt={},Rr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Doctype=r.CDATA=r.Tag=r.Style=r.Script=r.Comment=r.Directive=r.Text=r.Root=r.isTag=r.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=r.ElementType||(r.ElementType={}));function t(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}r.isTag=t,r.Root=e.Root,r.Text=e.Text,r.Directive=e.Directive,r.Comment=e.Comment,r.Script=e.Script,r.Style=e.Style,r.Tag=e.Tag,r.CDATA=e.CDATA,r.Doctype=e.Doctype})(Rr);var F={},Gt=k&&k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hr=k&&k.__assign||function(){return Hr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hr.apply(this,arguments)};Object.defineProperty(F,"__esModule",{value:!0});F.cloneNode=F.hasChildren=F.isDocument=F.isDirective=F.isComment=F.isText=F.isCDATA=F.isTag=F.Element=F.Document=F.NodeWithChildren=F.ProcessingInstruction=F.Comment=F.Text=F.DataNode=F.Node=void 0;var le=Rr,tg=new Map([[le.ElementType.Tag,1],[le.ElementType.Script,1],[le.ElementType.Style,1],[le.ElementType.Directive,1],[le.ElementType.Text,3],[le.ElementType.CDATA,4],[le.ElementType.Comment,8],[le.ElementType.Root,9]]),Ja=function(){function r(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(r.prototype,"nodeType",{get:function(){var e;return(e=tg.get(this.type))!==null&&e!==void 0?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),r.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Qa(this,e)},r}();F.Node=Ja;var Gi=function(r){Gt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.data=n,i}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(Ja);F.DataNode=Gi;var Dc=function(r){Gt(e,r);function e(t){return r.call(this,le.ElementType.Text,t)||this}return e}(Gi);F.Text=Dc;var Nc=function(r){Gt(e,r);function e(t){return r.call(this,le.ElementType.Comment,t)||this}return e}(Gi);F.Comment=Nc;var Mc=function(r){Gt(e,r);function e(t,n){var i=r.call(this,le.ElementType.Directive,n)||this;return i.name=t,i}return e}(Gi);F.ProcessingInstruction=Mc;var Xi=function(r){Gt(e,r);function e(t,n){var i=r.call(this,t)||this;return i.children=n,i}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(Ja);F.NodeWithChildren=Xi;var Pc=function(r){Gt(e,r);function e(t){return r.call(this,le.ElementType.Root,t)||this}return e}(Xi);F.Document=Pc;var Vc=function(r){Gt(e,r);function e(t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=t==="script"?le.ElementType.Script:t==="style"?le.ElementType.Style:le.ElementType.Tag);var a=r.call(this,s,i)||this;return a.name=t,a.attribs=n,a}return Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(n){var i,s;return{name:n,value:t.attribs[n],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(s=t["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(Xi);F.Element=Vc;function Lc(r){return(0,le.isTag)(r)}F.isTag=Lc;function Hc(r){return r.type===le.ElementType.CDATA}F.isCDATA=Hc;function $c(r){return r.type===le.ElementType.Text}F.isText=$c;function kc(r){return r.type===le.ElementType.Comment}F.isComment=kc;function qc(r){return r.type===le.ElementType.Directive}F.isDirective=qc;function jc(r){return r.type===le.ElementType.Root}F.isDocument=jc;function rg(r){return Object.prototype.hasOwnProperty.call(r,"children")}F.hasChildren=rg;function Qa(r,e){e===void 0&&(e=!1);var t;if($c(r))t=new Dc(r.data);else if(kc(r))t=new Nc(r.data);else if(Lc(r)){var n=e?bs(r.children):[],i=new Vc(r.name,Hr({},r.attribs),n);n.forEach(function(l){return l.parent=i}),r.namespace!=null&&(i.namespace=r.namespace),r["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Hr({},r["x-attribsNamespace"])),r["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Hr({},r["x-attribsPrefix"])),t=i}else if(Hc(r)){var n=e?bs(r.children):[],s=new Xi(le.ElementType.CDATA,n);n.forEach(function(u){return u.parent=s}),t=s}else if(jc(r)){var n=e?bs(r.children):[],a=new Pc(n);n.forEach(function(u){return u.parent=a}),r["x-mode"]&&(a["x-mode"]=r["x-mode"]),t=a}else if(qc(r)){var o=new Mc(r.name,r.data);r["x-name"]!=null&&(o["x-name"]=r["x-name"],o["x-publicId"]=r["x-publicId"],o["x-systemId"]=r["x-systemId"]),t=o}else throw new Error("Not implemented yet: ".concat(r.type));return t.startIndex=r.startIndex,t.endIndex=r.endIndex,r.sourceCodeLocation!=null&&(t.sourceCodeLocation=r.sourceCodeLocation),t}F.cloneNode=Qa;function bs(r){for(var e=r.map(function(n){return Qa(n,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}(function(r){var e=k&&k.__createBinding||(Object.create?function(l,u,c,f){f===void 0&&(f=c);var h=Object.getOwnPropertyDescriptor(u,c);(!h||("get"in h?!u.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(l,f,h)}:function(l,u,c,f){f===void 0&&(f=c),l[f]=u[c]}),t=k&&k.__exportStar||function(l,u){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&e(u,l,c)};Object.defineProperty(r,"__esModule",{value:!0}),r.DomHandler=void 0;var n=Rr,i=F;t(F,r);var s=/\s+/g,a={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(u,c,f){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(f=c,c=a),typeof u=="object"&&(c=u,u=void 0),this.callback=u!=null?u:null,this.options=c!=null?c:a,this.elementCB=f!=null?f:null}return l.prototype.onparserinit=function(u){this.parser=u},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(u){this.handleCallback(u)},l.prototype.onclosetag=function(){this.lastNode=null;var u=this.tagStack.pop();this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(u)},l.prototype.onopentag=function(u,c){var f=this.options.xmlMode?n.ElementType.Tag:void 0,h=new i.Element(u,c,void 0,f);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(u){var c=this.options.normalizeWhitespace,f=this.lastNode;if(f&&f.type===n.ElementType.Text)c?f.data=(f.data+u).replace(s," "):f.data+=u,this.options.withEndIndices&&(f.endIndex=this.parser.endIndex);else{c&&(u=u.replace(s," "));var h=new i.Text(u);this.addNode(h),this.lastNode=h}},l.prototype.oncomment=function(u){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=u;return}var c=new i.Comment(u);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var u=new i.Text(""),c=new i.NodeWithChildren(n.ElementType.CDATA,[u]);this.addNode(c),u.parent=c,this.lastNode=u},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(u,c){var f=new i.ProcessingInstruction(u,c);this.addNode(f)},l.prototype.handleCallback=function(u){if(typeof this.callback=="function")this.callback(u,this.dom);else if(u)throw u},l.prototype.addNode=function(u){var c=this.tagStack[this.tagStack.length-1],f=c.children[c.children.length-1];this.options.withStartIndices&&(u.startIndex=this.parser.startIndex),this.options.withEndIndices&&(u.endIndex=this.parser.endIndex),c.children.push(u),f&&(u.prev=f,f.next=u),u.parent=c,this.lastNode=null},l}();r.DomHandler=o,r.default=o})(bt);var jt={},Za={},Le={},eo={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.attributeNames=fr.elementNames=void 0;fr.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);fr.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var tr=k&&k.__assign||function(){return tr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tr.apply(this,arguments)},ng=k&&k.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ig=k&&k.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sg=k&&k.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ng(e,r,t);return ig(e,r),e};Object.defineProperty(eo,"__esModule",{value:!0});var pt=sg(Rr),Bc=Xf,Fc=fr,ag=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function og(r,e){if(!!r)return Object.keys(r).map(function(t){var n,i,s=(n=r[t])!==null&&n!==void 0?n:"";return e.xmlMode==="foreign"&&(t=(i=Fc.attributeNames.get(t))!==null&&i!==void 0?i:t),!e.emptyAttrs&&!e.xmlMode&&s===""?t:t+'="'+(e.decodeEntities!==!1?Bc.encodeXML(s):s.replace(/"/g,"&quot;"))+'"'}).join(" ")}var Tl=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function to(r,e){e===void 0&&(e={});for(var t=("length"in r)?r:[r],n="",i=0;i<t.length;i++)n+=lg(t[i],e);return n}eo.default=to;function lg(r,e){switch(r.type){case pt.Root:return to(r.children,e);case pt.Directive:case pt.Doctype:return dg(r);case pt.Comment:return mg(r);case pt.CDATA:return pg(r);case pt.Script:case pt.Style:case pt.Tag:return fg(r,e);case pt.Text:return hg(r,e)}}var ug=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),cg=new Set(["svg","math"]);function fg(r,e){var t;e.xmlMode==="foreign"&&(r.name=(t=Fc.elementNames.get(r.name))!==null&&t!==void 0?t:r.name,r.parent&&ug.has(r.parent.name)&&(e=tr(tr({},e),{xmlMode:!1}))),!e.xmlMode&&cg.has(r.name)&&(e=tr(tr({},e),{xmlMode:"foreign"}));var n="<"+r.name,i=og(r.attribs,e);return i&&(n+=" "+i),r.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&Tl.has(r.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",r.children.length>0&&(n+=to(r.children,e)),(e.xmlMode||!Tl.has(r.name))&&(n+="</"+r.name+">")),n}function dg(r){return"<"+r.data+">"}function hg(r,e){var t=r.data||"";return e.decodeEntities!==!1&&!(!e.xmlMode&&r.parent&&ag.has(r.parent.name))&&(t=Bc.encodeXML(t)),t}function pg(r){return"<![CDATA["+r.children[0].data+"]]>"}function mg(r){return"<!--"+r.data+"-->"}var gg=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Le,"__esModule",{value:!0});Le.innerText=Le.textContent=Le.getText=Le.getInnerHTML=Le.getOuterHTML=void 0;var ot=bt,yg=gg(eo),_g=Rr;function Wc(r,e){return(0,yg.default)(r,e)}Le.getOuterHTML=Wc;function vg(r,e){return(0,ot.hasChildren)(r)?r.children.map(function(t){return Wc(t,e)}).join(""):""}Le.getInnerHTML=vg;function Jn(r){return Array.isArray(r)?r.map(Jn).join(""):(0,ot.isTag)(r)?r.name==="br"?`
`:Jn(r.children):(0,ot.isCDATA)(r)?Jn(r.children):(0,ot.isText)(r)?r.data:""}Le.getText=Jn;function Gs(r){return Array.isArray(r)?r.map(Gs).join(""):(0,ot.hasChildren)(r)&&!(0,ot.isComment)(r)?Gs(r.children):(0,ot.isText)(r)?r.data:""}Le.textContent=Gs;function Xs(r){return Array.isArray(r)?r.map(Xs).join(""):(0,ot.hasChildren)(r)&&(r.type===_g.ElementType.Tag||(0,ot.isCDATA)(r))?Xs(r.children):(0,ot.isText)(r)?r.data:""}Le.innerText=Xs;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.prevElementSibling=pe.nextElementSibling=pe.getName=pe.hasAttrib=pe.getAttributeValue=pe.getSiblings=pe.getParent=pe.getChildren=void 0;var Uc=bt,wg=[];function Kc(r){var e;return(e=r.children)!==null&&e!==void 0?e:wg}pe.getChildren=Kc;function Yc(r){return r.parent||null}pe.getParent=Yc;function bg(r){var e,t,n=Yc(r);if(n!=null)return Kc(n);for(var i=[r],s=r.prev,a=r.next;s!=null;)i.unshift(s),e=s,s=e.prev;for(;a!=null;)i.push(a),t=a,a=t.next;return i}pe.getSiblings=bg;function Sg(r,e){var t;return(t=r.attribs)===null||t===void 0?void 0:t[e]}pe.getAttributeValue=Sg;function Rg(r,e){return r.attribs!=null&&Object.prototype.hasOwnProperty.call(r.attribs,e)&&r.attribs[e]!=null}pe.hasAttrib=Rg;function xg(r){return r.name}pe.getName=xg;function Cg(r){for(var e,t=r.next;t!==null&&!(0,Uc.isTag)(t);)e=t,t=e.next;return t}pe.nextElementSibling=Cg;function Tg(r){for(var e,t=r.prev;t!==null&&!(0,Uc.isTag)(t);)e=t,t=e.prev;return t}pe.prevElementSibling=Tg;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.prepend=Ie.prependChild=Ie.append=Ie.appendChild=Ie.replaceElement=Ie.removeElement=void 0;function gn(r){if(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r.parent){var e=r.parent.children;e.splice(e.lastIndexOf(r),1)}}Ie.removeElement=gn;function Eg(r,e){var t=e.prev=r.prev;t&&(t.next=e);var n=e.next=r.next;n&&(n.prev=e);var i=e.parent=r.parent;if(i){var s=i.children;s[s.lastIndexOf(r)]=e}}Ie.replaceElement=Eg;function Ig(r,e){if(gn(e),e.next=null,e.parent=r,r.children.push(e)>1){var t=r.children[r.children.length-2];t.next=e,e.prev=t}else e.prev=null}Ie.appendChild=Ig;function Og(r,e){gn(e);var t=r.parent,n=r.next;if(e.next=n,e.prev=r,r.next=e,e.parent=t,n){if(n.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(n),0,e)}}else t&&t.children.push(e)}Ie.append=Og;function Ag(r,e){if(gn(e),e.parent=r,e.prev=null,r.children.unshift(e)!==1){var t=r.children[1];t.prev=e,e.next=t}else e.next=null}Ie.prependChild=Ag;function zg(r,e){gn(e);var t=r.parent;if(t){var n=t.children;n.splice(n.indexOf(r),0,e)}r.prev&&(r.prev.next=e),e.parent=t,e.prev=r.prev,e.next=r,r.prev=e}Ie.prepend=zg;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.findAll=be.existsOne=be.findOne=be.findOneChild=be.find=be.filter=void 0;var Xr=bt;function Dg(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),Array.isArray(e)||(e=[e]),ro(r,e,t,n)}be.filter=Dg;function ro(r,e,t,n){for(var i=[],s=0,a=e;s<a.length;s++){var o=a[s];if(r(o)&&(i.push(o),--n<=0))break;if(t&&(0,Xr.hasChildren)(o)&&o.children.length>0){var l=ro(r,o.children,t,n);if(i.push.apply(i,l),n-=l.length,n<=0)break}}return i}be.find=ro;function Ng(r,e){return e.find(r)}be.findOneChild=Ng;function Gc(r,e,t){t===void 0&&(t=!0);for(var n=null,i=0;i<e.length&&!n;i++){var s=e[i];if((0,Xr.isTag)(s))r(s)?n=s:t&&s.children.length>0&&(n=Gc(r,s.children));else continue}return n}be.findOne=Gc;function Xc(r,e){return e.some(function(t){return(0,Xr.isTag)(t)&&(r(t)||t.children.length>0&&Xc(r,t.children))})}be.existsOne=Xc;function Mg(r,e){for(var t,n=[],i=e.filter(Xr.isTag),s;s=i.shift();){var a=(t=s.children)===null||t===void 0?void 0:t.filter(Xr.isTag);a&&a.length>0&&i.unshift.apply(i,a),r(s)&&n.push(s)}return n}be.findAll=Mg;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.getElementsByTagType=He.getElementsByTagName=He.getElementById=He.getElements=He.testElement=void 0;var Ht=bt,Ji=be,Ei={tag_name:function(r){return typeof r=="function"?function(e){return(0,Ht.isTag)(e)&&r(e.name)}:r==="*"?Ht.isTag:function(e){return(0,Ht.isTag)(e)&&e.name===r}},tag_type:function(r){return typeof r=="function"?function(e){return r(e.type)}:function(e){return e.type===r}},tag_contains:function(r){return typeof r=="function"?function(e){return(0,Ht.isText)(e)&&r(e.data)}:function(e){return(0,Ht.isText)(e)&&e.data===r}}};function Jc(r,e){return typeof e=="function"?function(t){return(0,Ht.isTag)(t)&&e(t.attribs[r])}:function(t){return(0,Ht.isTag)(t)&&t.attribs[r]===e}}function Pg(r,e){return function(t){return r(t)||e(t)}}function Qc(r){var e=Object.keys(r).map(function(t){var n=r[t];return Object.prototype.hasOwnProperty.call(Ei,t)?Ei[t](n):Jc(t,n)});return e.length===0?null:e.reduce(Pg)}function Vg(r,e){var t=Qc(r);return t?t(e):!0}He.testElement=Vg;function Lg(r,e,t,n){n===void 0&&(n=1/0);var i=Qc(r);return i?(0,Ji.filter)(i,e,t,n):[]}He.getElements=Lg;function Hg(r,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,Ji.findOne)(Jc("id",r),e,t)}He.getElementById=Hg;function $g(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),(0,Ji.filter)(Ei.tag_name(r),e,t,n)}He.getElementsByTagName=$g;function kg(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),(0,Ji.filter)(Ei.tag_type(r),e,t,n)}He.getElementsByTagType=kg;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.uniqueSort=Tt.compareDocumentPosition=Tt.removeSubsets=void 0;var El=bt;function qg(r){for(var e=r.length;--e>=0;){var t=r[e];if(e>0&&r.lastIndexOf(t,e-1)>=0){r.splice(e,1);continue}for(var n=t.parent;n;n=n.parent)if(r.includes(n)){r.splice(e,1);break}}return r}Tt.removeSubsets=qg;function Zc(r,e){var t=[],n=[];if(r===e)return 0;for(var i=(0,El.hasChildren)(r)?r:r.parent;i;)t.unshift(i),i=i.parent;for(i=(0,El.hasChildren)(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(var s=Math.min(t.length,n.length),a=0;a<s&&t[a]===n[a];)a++;if(a===0)return 1;var o=t[a-1],l=o.children,u=t[a],c=n[a];return l.indexOf(u)>l.indexOf(c)?o===e?20:4:o===r?10:2}Tt.compareDocumentPosition=Zc;function jg(r){return r=r.filter(function(e,t,n){return!n.includes(e,t+1)}),r.sort(function(e,t){var n=Zc(e,t);return n&2?-1:n&4?1:0}),r}Tt.uniqueSort=jg;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.getFeed=void 0;var Bg=Le,yn=He;function Fg(r){var e=Ii(Gg,r);return e?e.name==="feed"?Wg(e):Ug(e):null}Qi.getFeed=Fg;function Wg(r){var e,t=r.children,n={type:"atom",items:(0,yn.getElementsByTagName)("entry",t).map(function(a){var o,l=a.children,u={media:ef(l)};Te(u,"id","id",l),Te(u,"title","title",l);var c=(o=Ii("link",l))===null||o===void 0?void 0:o.attribs.href;c&&(u.link=c);var f=kt("summary",l)||kt("content",l);f&&(u.description=f);var h=kt("updated",l);return h&&(u.pubDate=new Date(h)),u})};Te(n,"id","id",t),Te(n,"title","title",t);var i=(e=Ii("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(n.link=i),Te(n,"description","subtitle",t);var s=kt("updated",t);return s&&(n.updated=new Date(s)),Te(n,"author","email",t,!0),n}function Ug(r){var e,t,n=(t=(e=Ii("channel",r.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:r.name.substr(0,3),id:"",items:(0,yn.getElementsByTagName)("item",r.children).map(function(a){var o=a.children,l={media:ef(o)};Te(l,"id","guid",o),Te(l,"title","title",o),Te(l,"link","link",o),Te(l,"description","description",o);var u=kt("pubDate",o);return u&&(l.pubDate=new Date(u)),l})};Te(i,"title","title",n),Te(i,"link","link",n),Te(i,"description","description",n);var s=kt("lastBuildDate",n);return s&&(i.updated=new Date(s)),Te(i,"author","managingEditor",n,!0),i}var Kg=["url","type","lang"],Yg=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ef(r){return(0,yn.getElementsByTagName)("media:content",r).map(function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},i=0,s=Kg;i<s.length;i++){var a=s[i];t[a]&&(n[a]=t[a])}for(var o=0,l=Yg;o<l.length;o++){var a=l[o];t[a]&&(n[a]=parseInt(t[a],10))}return t.expression&&(n.expression=t.expression),n})}function Ii(r,e){return(0,yn.getElementsByTagName)(r,e,!0,1)[0]}function kt(r,e,t){return t===void 0&&(t=!1),(0,Bg.textContent)((0,yn.getElementsByTagName)(r,e,t,1)).trim()}function Te(r,e,t,n,i){i===void 0&&(i=!1);var s=kt(t,n,i);s&&(r[e]=s)}function Gg(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}(function(r){var e=k&&k.__createBinding||(Object.create?function(i,s,a,o){o===void 0&&(o=a),Object.defineProperty(i,o,{enumerable:!0,get:function(){return s[a]}})}:function(i,s,a,o){o===void 0&&(o=a),i[o]=s[a]}),t=k&&k.__exportStar||function(i,s){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,i,a)};Object.defineProperty(r,"__esModule",{value:!0}),r.hasChildren=r.isDocument=r.isComment=r.isText=r.isCDATA=r.isTag=void 0,t(Le,r),t(pe,r),t(Ie,r),t(be,r),t(He,r),t(Tt,r),t(Qi,r);var n=bt;Object.defineProperty(r,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(r,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(r,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(r,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(r,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(r,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(Za);var Xg=k&&k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jg=k&&k.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qg=k&&k.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zg=k&&k.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jg(e,r,t);return Qg(e,r),e},ey=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jt,"__esModule",{value:!0});jt.parseFeed=jt.FeedHandler=void 0;var ty=ey(bt),Oi=Zg(Za),ry=mn,Il;(function(r){r[r.image=0]="image",r[r.audio=1]="audio",r[r.video=2]="video",r[r.document=3]="document",r[r.executable=4]="executable"})(Il||(Il={}));var Ol;(function(r){r[r.sample=0]="sample",r[r.full=1]="full",r[r.nonstop=2]="nonstop"})(Ol||(Ol={}));var tf=function(r){Xg(e,r);function e(t,n){var i=this;return typeof t=="object"&&(t=void 0,n=t),i=r.call(this,t,n)||this,i}return e.prototype.onend=function(){var t,n,i=Nn(ny,this.dom);if(!i){this.handleCallback(new Error("couldn't find root of feed"));return}var s={};if(i.name==="feed"){var a=i.children;s.type="atom",xe(s,"id","id",a),xe(s,"title","title",a);var o=zl("href",Nn("link",a));o&&(s.link=o),xe(s,"description","subtitle",a);var l=Pt("updated",a);l&&(s.updated=new Date(l)),xe(s,"author","email",a,!0),s.items=Js("entry",a).map(function(u){var c={},f=u.children;xe(c,"id","id",f),xe(c,"title","title",f);var h=zl("href",Nn("link",f));h&&(c.link=h);var y=Pt("summary",f)||Pt("content",f);y&&(c.description=y);var m=Pt("updated",f);return m&&(c.pubDate=new Date(m)),c.media=Al(f),c})}else{var a=(n=(t=Nn("channel",i.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[];s.type=i.name.substr(0,3),s.id="",xe(s,"title","title",a),xe(s,"link","link",a),xe(s,"description","description",a);var l=Pt("lastBuildDate",a);l&&(s.updated=new Date(l)),xe(s,"author","managingEditor",a,!0),s.items=Js("item",i.children).map(function(f){var h={},y=f.children;xe(h,"id","guid",y),xe(h,"title","title",y),xe(h,"link","link",y),xe(h,"description","description",y);var m=Pt("pubDate",y);return m&&(h.pubDate=new Date(m)),h.media=Al(y),h})}this.feed=s,this.handleCallback(null)},e}(ty.default);jt.FeedHandler=tf;function Al(r){return Js("media:content",r).map(function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t})}function Js(r,e){return Oi.getElementsByTagName(r,e,!0)}function Nn(r,e){return Oi.getElementsByTagName(r,e,!0,1)[0]}function Pt(r,e,t){return t===void 0&&(t=!1),Oi.getText(Oi.getElementsByTagName(r,e,t,1)).trim()}function zl(r,e){if(!e)return null;var t=e.attribs;return t[r]}function xe(r,e,t,n,i){i===void 0&&(i=!1);var s=Pt(t,n,i);s&&(r[e]=s)}function ny(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}function iy(r,e){e===void 0&&(e={xmlMode:!0});var t=new tf(e);return new ry.Parser(t,e).end(r),t.feed}jt.parseFeed=iy;(function(r){var e=k&&k.__createBinding||(Object.create?function(m,d,g,w){w===void 0&&(w=g),Object.defineProperty(m,w,{enumerable:!0,get:function(){return d[g]}})}:function(m,d,g,w){w===void 0&&(w=g),m[w]=d[g]}),t=k&&k.__setModuleDefault||(Object.create?function(m,d){Object.defineProperty(m,"default",{enumerable:!0,value:d})}:function(m,d){m.default=d}),n=k&&k.__importStar||function(m){if(m&&m.__esModule)return m;var d={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&e(d,m,g);return t(d,m),d},i=k&&k.__exportStar||function(m,d){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(d,g)&&e(d,m,g)},s=k&&k.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0}),r.RssHandler=r.DefaultHandler=r.DomUtils=r.ElementType=r.Tokenizer=r.createDomStream=r.parseDOM=r.parseDocument=r.DomHandler=r.Parser=void 0;var a=mn;Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=bt;Object.defineProperty(r,"DomHandler",{enumerable:!0,get:function(){return o.DomHandler}}),Object.defineProperty(r,"DefaultHandler",{enumerable:!0,get:function(){return o.DomHandler}});function l(m,d){var g=new o.DomHandler(void 0,d);return new a.Parser(g,d).end(m),g.root}r.parseDocument=l;function u(m,d){return l(m,d).children}r.parseDOM=u;function c(m,d,g){var w=new o.DomHandler(m,d,g);return new a.Parser(w,d)}r.createDomStream=c;var f=Ki;Object.defineProperty(r,"Tokenizer",{enumerable:!0,get:function(){return s(f).default}});var h=n(Rr);r.ElementType=h,i(jt,r),r.DomUtils=n(Za);var y=jt;Object.defineProperty(r,"RssHandler",{enumerable:!0,get:function(){return y.FeedHandler}})})(zc);var sy=r=>{if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},no={};Object.defineProperty(no,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Dl(r){return Object.prototype.toString.call(r)==="[object Object]"}function ay(r){var e,t;return Dl(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(Dl(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}no.isPlainObject=ay;var oy=function(e){return ly(e)&&!uy(e)};function ly(r){return!!r&&typeof r=="object"}function uy(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||dy(r)}var cy=typeof Symbol=="function"&&Symbol.for,fy=cy?Symbol.for("react.element"):60103;function dy(r){return r.$$typeof===fy}function hy(r){return Array.isArray(r)?[]:{}}function Jr(r,e){return e.clone!==!1&&e.isMergeableObject(r)?dr(hy(r),r,e):r}function py(r,e,t){return r.concat(e).map(function(n){return Jr(n,t)})}function my(r,e){if(!e.customMerge)return dr;var t=e.customMerge(r);return typeof t=="function"?t:dr}function gy(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function Nl(r){return Object.keys(r).concat(gy(r))}function rf(r,e){try{return e in r}catch{return!1}}function yy(r,e){return rf(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function _y(r,e,t){var n={};return t.isMergeableObject(r)&&Nl(r).forEach(function(i){n[i]=Jr(r[i],t)}),Nl(e).forEach(function(i){yy(r,i)||(rf(r,i)&&t.isMergeableObject(e[i])?n[i]=my(i,t)(r[i],e[i],t):n[i]=Jr(e[i],t))}),n}function dr(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||py,t.isMergeableObject=t.isMergeableObject||oy,t.cloneUnlessOtherwiseSpecified=Jr;var n=Array.isArray(e),i=Array.isArray(r),s=n===i;return s?n?t.arrayMerge(r,e,t):_y(r,e,t):Jr(e,t)}dr.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return dr(n,i,t)},{})};var vy=dr,wy=vy,nf={exports:{}};(function(r){(function(e,t){r.exports?r.exports=t():e.parseSrcset=t()})(k,function(){return function(e){function t(v){return v===" "||v==="	"||v===`
`||v==="\f"||v==="\r"}function n(v){var _,b=v.exec(e.substring(g));if(b)return _=b[0],g+=_.length,_}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,a=/^[, \t\n\r\u000c]+/,o=/^[^ \t\n\r\u000c]+/,l=/[,]+$/,u=/^\d+$/,c=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,f,h,y,m,d,g=0,w=[];;){if(n(a),g>=i)return w;f=n(o),h=[],f.slice(-1)===","?(f=f.replace(l,""),S()):T()}function T(){for(n(s),y="",m="in descriptor";;){if(d=e.charAt(g),m==="in descriptor")if(t(d))y&&(h.push(y),y="",m="after descriptor");else if(d===","){g+=1,y&&h.push(y),S();return}else if(d==="(")y=y+d,m="in parens";else if(d===""){y&&h.push(y),S();return}else y=y+d;else if(m==="in parens")if(d===")")y=y+d,m="in descriptor";else if(d===""){h.push(y),S();return}else y=y+d;else if(m==="after descriptor"&&!t(d))if(d===""){S();return}else m="in descriptor",g-=1;g+=1}}function S(){var v=!1,_,b,R,O,N={},z,P,q,C,E;for(O=0;O<h.length;O++)z=h[O],P=z[z.length-1],q=z.substring(0,z.length-1),C=parseInt(q,10),E=parseFloat(q),u.test(q)&&P==="w"?((_||b)&&(v=!0),C===0?v=!0:_=C):c.test(q)&&P==="x"?((_||b||R)&&(v=!0),E<0?v=!0:b=E):u.test(q)&&P==="h"?((R||b)&&(v=!0),C===0?v=!0:R=C):v=!0;v?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+z+"'."):(N.url=f,_&&(N.w=_),b&&(N.d=b),R&&(N.h=R),w.push(N))}}})})(nf);var io={exports:{}},te=String,sf=function(){return{isColorSupported:!1,reset:te,bold:te,dim:te,italic:te,underline:te,inverse:te,hidden:te,strikethrough:te,black:te,red:te,green:te,yellow:te,blue:te,magenta:te,cyan:te,white:te,gray:te,bgBlack:te,bgRed:te,bgGreen:te,bgYellow:te,bgBlue:te,bgMagenta:te,bgCyan:te,bgWhite:te}};io.exports=sf();io.exports.createColors=sf;let Ml=io.exports,Pl=et;class Qr extends Error{constructor(e,t,n,i,s,a){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),a&&(this.plugin=a),typeof t!="undefined"&&typeof n!="undefined"&&(typeof t=="number"?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Qr)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Ml.isColorSupported),Pl&&e&&(t=Pl(t));let n=t.split(/\r?\n/),i=Math.max(this.line-3,0),s=Math.min(this.line+2,n.length),a=String(s).length,o,l;if(e){let{bold:u,red:c,gray:f}=Ml.createColors(!0);o=h=>u(c(h)),l=h=>f(h)}else o=l=u=>u;return n.slice(i,s).map((u,c)=>{let f=i+1+c,h=" "+(" "+f).slice(-a)+" | ";if(f===this.line){let y=l(h.replace(/\d/g," "))+u.slice(0,this.column-1).replace(/[^\t]/g," ");return o(">")+l(h)+u+`
 `+y+o("^")}return" "+l(h)+u}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}}var so=Qr;Qr.default=Qr;var _n={};_n.isClean=Symbol("isClean");_n.my=Symbol("my");const Vl={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function by(r){return r[0].toUpperCase()+r.slice(1)}class Qs{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(n+i+s,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],a=this.raw(s,"before");a&&this.builder(a),this.stringify(s,t!==i||n)}}block(e,t){let n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}raw(e,t,n){let i;if(n||(n=t),t&&(i=e.raws[t],typeof i!="undefined"))return i;let s=e.parent;if(n==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return Vl[n];let a=e.root();if(a.rawCache||(a.rawCache={}),typeof a.rawCache[n]!="undefined")return a.rawCache[n];if(n==="before"||n==="after")return this.beforeAfter(e,n);{let o="raw"+by(n);this[o]?i=this[o](a,e):a.walk(l=>{if(i=l.raws[t],typeof i!="undefined")return!1})}return typeof i=="undefined"&&(i=Vl[n]),a.rawCache[n]=i,i}rawSemicolon(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length&&n.last.type==="decl"&&(t=n.raws.semicolon,typeof t!="undefined"))return!1}),t}rawEmptyBody(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length===0&&(t=n.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof n.raws.before!="undefined"){let s=n.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawBeforeComment(e,t){let n;return e.walkComments(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(i=>{if(typeof i.raws.before!="undefined")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n=="undefined"?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&typeof n.raws.before!="undefined")return t=n.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length>0&&typeof n.raws.after!="undefined")return t=n.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk(n=>{if(n.type!=="decl"&&(t=n.raws.between,typeof t!="undefined"))return!1}),t}rawColon(e){let t;return e.walkDecls(n=>{if(typeof n.raws.between!="undefined")return t=n.raws.between.replace(/[^\s:]/g,""),!1}),t}beforeAfter(e,t){let n;e.type==="decl"?n=this.raw(e,null,"beforeDecl"):e.type==="comment"?n=this.raw(e,null,"beforeComment"):t==="before"?n=this.raw(e,null,"beforeRule"):n=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(n.includes(`
`)){let a=this.raw(e,null,"indent");if(a.length)for(let o=0;o<s;o++)n+=a}return n}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}}var af=Qs;Qs.default=Qs;let Sy=af;function Zs(r,e){new Sy(e).stringify(r)}var Zi=Zs;Zs.default=Zs;let{isClean:Mn,my:Ry}=_n,xy=so,Cy=af,Ty=Zi;function ea(r,e){let t=new r.constructor;for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n)||n==="proxyCache")continue;let i=r[n],s=typeof i;n==="parent"&&s==="object"?e&&(t[n]=e):n==="source"?t[n]=i:Array.isArray(i)?t[n]=i.map(a=>ea(a,t)):(s==="object"&&i!==null&&(i=ea(i)),t[n]=i)}return t}class ta{constructor(e={}){this.raws={},this[Mn]=!1,this[Ry]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let n of e[t])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:n,end:i}=this.rangeBy(t);return this.source.input.error(e,{line:n.line,column:n.column},{line:i.line,column:i.column},t)}return new xy(e)}warn(e,t,n){let i={node:this};for(let s in n)i[s]=n[s];return e.warn(t,i)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=Ty){e.stringify&&(e=e.stringify);let t="";return e(this,n=>{t+=n}),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=ea(this);for(let n in e)t[n]=e[n];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}raw(e,t){return new Cy().raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let n={},i=t==null;t=t||new Map;let s=0;for(let a in this){if(!Object.prototype.hasOwnProperty.call(this,a)||a==="parent"||a==="proxyCache")continue;let o=this[a];if(Array.isArray(o))n[a]=o.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,t):l);else if(typeof o=="object"&&o.toJSON)n[a]=o.toJSON(null,t);else if(a==="source"){let l=t.get(o.input);l==null&&(l=s,t.set(o.input,s),s++),n[a]={inputId:l,start:o.start,end:o.end}}else n[a]=o}return i&&(n.inputs=[...t.keys()].map(a=>a.toJSON())),n}positionInside(e){let t=this.toString(),n=this.source.start.column,i=this.source.start.line;for(let s=0;s<e;s++)t[s]===`
`?(n=1,i+=1):n+=1;return{line:i,column:n}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n=this.toString().indexOf(e.word);n!==-1&&(t=this.positionInside(n))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},n=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let i=this.toString().indexOf(e.word);i!==-1&&(t=this.positionInside(i),n=this.positionInside(i+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?n={line:e.end.line,column:e.end.column}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={line:t.line,column:t.column+1}),{start:t,end:n}}getProxyProcessor(){return{set(e,t,n){return e[t]===n||(e[t]=n,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[Mn]){this[Mn]=!1;let e=this;for(;e=e.parent;)e[Mn]=!1}}get proxyOf(){return this}}var es=ta;ta.default=ta;let Ey=es;class ra extends Ey{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}var ts=ra;ra.default=ra;let Iy="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Oy=(r,e=21)=>(t=e)=>{let n="",i=t;for(;i--;)n+=r[Math.random()*r.length|0];return n},Ay=(r=21)=>{let e="",t=r;for(;t--;)e+=Iy[Math.random()*64|0];return e};var zy=Object.freeze(Object.defineProperty({__proto__:null,nanoid:Ay,customAlphabet:Oy},Symbol.toStringTag,{value:"Module"})),Dy=Jf(zy);let{SourceMapConsumer:Ll,SourceMapGenerator:Hl}=et,{existsSync:Ny,readFileSync:My}=et,{dirname:Ss,join:Py}=et;function Vy(r){return Buffer?Buffer.from(r,"base64").toString():window.atob(r)}class na{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ss(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new Ll(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return e?e.substr(0,t.length)===t:!1}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,n=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(i.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||n.test(e))return Vy(e.substr(RegExp.lastMatch.length));let a=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+a)}loadFile(e){if(this.root=Ss(e),Ny(e))return this.mapFile=e,My(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let n=t(e);if(n){let i=this.loadFile(n);if(!i)throw new Error("Unable to load previous source map: "+n.toString());return i}}else{if(t instanceof Ll)return Hl.fromSourceMap(t).toString();if(t instanceof Hl)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let n=this.annotation;return e&&(n=Py(Ss(e),n)),this.loadFile(n)}}}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}}var of=na;na.default=na;let{SourceMapConsumer:Ly,SourceMapGenerator:Hy}=et,{fileURLToPath:$l,pathToFileURL:Pn}=et,{resolve:ia,isAbsolute:sa}=et,{nanoid:$y}=Dy,Rs=et,kl=so,ky=of,xs=Symbol("fromOffsetCache"),qy=Boolean(Ly&&Hy),ql=Boolean(ia&&sa);class Ai{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ql||/^\w+:\/\//.test(t.from)||sa(t.from)?this.file=t.from:this.file=ia(t.from)),ql&&qy){let n=new ky(this.css,t);if(n.text){this.map=n;let i=n.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+$y(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,n;if(this[xs])n=this[xs];else{let s=this.css.split(`
`);n=new Array(s.length);let a=0;for(let o=0,l=s.length;o<l;o++)n[o]=a,a+=s[o].length+1;this[xs]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let s=n.length-2,a;for(;i<s;)if(a=i+(s-i>>1),e<n[a])s=a-1;else if(e>=n[a+1])i=a+1;else{i=a;break}}return{line:i+1,col:e-n[i]+1}}error(e,t,n,i={}){let s,a,o;if(t&&typeof t=="object"){let u=t,c=n;if(typeof t.offset=="number"){let f=this.fromOffset(u.offset);t=f.line,n=f.col}else t=u.line,n=u.column;if(typeof c.offset=="number"){let f=this.fromOffset(c.offset);a=f.line,o=f.col}else a=c.line,o=c.column}else if(!n){let u=this.fromOffset(t);t=u.line,n=u.col}let l=this.origin(t,n,a,o);return l?s=new kl(e,l.endLine===void 0?l.line:{line:l.line,column:l.column},l.endLine===void 0?l.column:{line:l.endLine,column:l.endColumn},l.source,l.file,i.plugin):s=new kl(e,a===void 0?t:{line:t,column:n},a===void 0?n:{line:a,column:o},this.css,this.file,i.plugin),s.input={line:t,column:n,endLine:a,endColumn:o,source:this.css},this.file&&(Pn&&(s.input.url=Pn(this.file).toString()),s.input.file=this.file),s}origin(e,t,n,i){if(!this.map)return!1;let s=this.map.consumer(),a=s.originalPositionFor({line:e,column:t});if(!a.source)return!1;let o;typeof n=="number"&&(o=s.originalPositionFor({line:n,column:i}));let l;sa(a.source)?l=Pn(a.source):l=new URL(a.source,this.map.consumer().sourceRoot||Pn(this.map.mapFile));let u={url:l.toString(),line:a.line,column:a.column,endLine:o&&o.line,endColumn:o&&o.column};if(l.protocol==="file:")if($l)u.file=$l(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=s.sourceContentFor(a.source);return c&&(u.source=c),u}mapResolve(e){return/^\w+:\/\//.test(e)?e:ia(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}var rs=Ai;Ai.default=Ai;Rs&&Rs.registerInput&&Rs.registerInput(Ai);let{SourceMapConsumer:lf,SourceMapGenerator:Qn}=et,{dirname:Zn,resolve:uf,relative:cf,sep:ff}=et,{pathToFileURL:jl}=et,jy=rs,By=Boolean(lf&&Qn),Fy=Boolean(Zn&&uf&&cf&&ff);class Wy{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new jy(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;n&&!e[n]&&(e[n]=!0,this.map.setSourceContent(this.toUrl(this.path(n)),t.source.input.css))}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),n=e.root||Zn(e.file),i;this.mapOpts.sourcesContent===!1?(i=new lf(e.text),i.sourcesContent&&(i.sourcesContent=i.sourcesContent.map(()=>null))):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(n)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Qn.fromSourceMap(e)}else this.map=new Qn({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(e.indexOf("<")===0||/^\w+:\/\//.test(e)||this.mapOpts.absolute)return e;let t=this.opts.to?Zn(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(t=Zn(uf(t,this.mapOpts.annotation))),e=cf(t,e),e}toUrl(e){return ff==="\\"&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(jl)return jl(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}else return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new Qn({file:this.outputFile()});let e=1,t=1,n="<no source>",i={source:"",generated:{line:0,column:0},original:{line:0,column:0}},s,a;this.stringify(this.root,(o,l,u)=>{if(this.css+=o,l&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,l.source&&l.source.start?(i.source=this.sourcePath(l),i.original.line=l.source.start.line,i.original.column=l.source.start.column-1,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,this.map.addMapping(i))),s=o.match(/\n/g),s?(e+=s.length,a=o.lastIndexOf(`
`),t=o.length-a):t+=o.length,l&&u!=="start"){let c=l.parent||{raws:{}};(l.type!=="decl"||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(i.source=this.sourcePath(l),i.original.line=l.source.end.line,i.original.column=l.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}generate(){if(this.clearAnnotation(),Fy&&By&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}}var df=Wy;let Uy=es;class aa extends Uy{constructor(e){super(e),this.type="comment"}}var ns=aa;aa.default=aa;let{isClean:hf,my:pf}=_n,mf=ts,gf=ns,Ky=es,yf,ao,oo;function _f(r){return r.map(e=>(e.nodes&&(e.nodes=_f(e.nodes)),delete e.source,e))}function vf(r){if(r[hf]=!1,r.proxyOf.nodes)for(let e of r.proxyOf.nodes)vf(e)}class ft extends Ky{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),n,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(n=this.indexes[t],i=e(this.proxyOf.nodes[n],n),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}walk(e){return this.each((t,n)=>{let i;try{i=e(t,n)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="decl"&&e.test(n.prop))return t(n,i)}):this.walk((n,i)=>{if(n.type==="decl"&&n.prop===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="decl")return t(n,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="rule"&&e.test(n.selector))return t(n,i)}):this.walk((n,i)=>{if(n.type==="rule"&&n.selector===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="rule")return t(n,i)}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="atrule"&&e.test(n.name))return t(n,i)}):this.walk((n,i)=>{if(n.type==="atrule"&&n.name===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="atrule")return t(n,i)}))}walkComments(e){return this.walk((t,n)=>{if(t.type==="comment")return e(t,n)})}append(...e){for(let t of e){let n=this.normalize(t,this.last);for(let i of n)this.proxyOf.nodes.push(i)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let n=this.normalize(t,this.first,"prepend").reverse();for(let i of n)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+n.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){e=this.index(e);let n=e===0?"prepend":!1,i=this.normalize(t,this.proxyOf.nodes[e],n).reverse();for(let a of i)this.proxyOf.nodes.splice(e,0,a);let s;for(let a in this.indexes)s=this.indexes[a],e<=s&&(this.indexes[a]=s+i.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let n=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let s of n)this.proxyOf.nodes.splice(e+1,0,s);let i;for(let s in this.indexes)i=this.indexes[s],e<i&&(this.indexes[s]=i+n.length);return this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))}),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if(typeof e=="string")e=_f(yf(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new mf(e)]}else if(e.selector)e=[new ao(e)];else if(e.name)e=[new oo(e)];else if(e.text)e=[new gf(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[pf]||ft.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[hf]&&vf(i),typeof i.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}getProxyProcessor(){return{set(e,t,n){return e[t]===n||(e[t]=n,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...n)=>e[t](...n.map(i=>typeof i=="function"?(s,a)=>i(s.toProxy(),a):i)):t==="every"||t==="some"?n=>e[t]((i,...s)=>n(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(n=>n.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}ft.registerParse=r=>{yf=r};ft.registerRule=r=>{ao=r};ft.registerAtRule=r=>{oo=r};var Xt=ft;ft.default=ft;ft.rebuild=r=>{r.type==="atrule"?Object.setPrototypeOf(r,oo.prototype):r.type==="rule"?Object.setPrototypeOf(r,ao.prototype):r.type==="decl"?Object.setPrototypeOf(r,mf.prototype):r.type==="comment"&&Object.setPrototypeOf(r,gf.prototype),r[pf]=!0,r.nodes&&r.nodes.forEach(e=>{ft.rebuild(e)})};let Yy=Xt,wf,bf;class Zr extends Yy{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new wf(new bf,this,e).stringify()}}Zr.registerLazyResult=r=>{wf=r};Zr.registerProcessor=r=>{bf=r};var lo=Zr;Zr.default=Zr;class oa{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var Sf=oa;oa.default=oa;let Gy=Sf;class la{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new Gy(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}}var uo=la;la.default=la;const Cs="'".charCodeAt(0),Bl='"'.charCodeAt(0),Vn="\\".charCodeAt(0),Fl="/".charCodeAt(0),Ln=`
`.charCodeAt(0),Ir=" ".charCodeAt(0),Hn="\f".charCodeAt(0),$n="	".charCodeAt(0),kn="\r".charCodeAt(0),Xy="[".charCodeAt(0),Jy="]".charCodeAt(0),Qy="(".charCodeAt(0),Zy=")".charCodeAt(0),e_="{".charCodeAt(0),t_="}".charCodeAt(0),r_=";".charCodeAt(0),n_="*".charCodeAt(0),i_=":".charCodeAt(0),s_="@".charCodeAt(0),qn=/[\t\n\f\r "#'()/;[\\\]{}]/g,jn=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,a_=/.[\n"'(/\\]/,Wl=/[\da-f]/i;var o_=function(e,t={}){let n=e.css.valueOf(),i=t.ignoreErrors,s,a,o,l,u,c,f,h,y,m,d=n.length,g=0,w=[],T=[];function S(){return g}function v(O){throw e.error("Unclosed "+O,g)}function _(){return T.length===0&&g>=d}function b(O){if(T.length)return T.pop();if(g>=d)return;let N=O?O.ignoreUnclosed:!1;switch(s=n.charCodeAt(g),s){case Ln:case Ir:case $n:case kn:case Hn:{a=g;do a+=1,s=n.charCodeAt(a);while(s===Ir||s===Ln||s===$n||s===kn||s===Hn);m=["space",n.slice(g,a)],g=a-1;break}case Xy:case Jy:case e_:case t_:case i_:case r_:case Zy:{let z=String.fromCharCode(s);m=[z,z,g];break}case Qy:{if(h=w.length?w.pop()[1]:"",y=n.charCodeAt(g+1),h==="url"&&y!==Cs&&y!==Bl&&y!==Ir&&y!==Ln&&y!==$n&&y!==Hn&&y!==kn){a=g;do{if(c=!1,a=n.indexOf(")",a+1),a===-1)if(i||N){a=g;break}else v("bracket");for(f=a;n.charCodeAt(f-1)===Vn;)f-=1,c=!c}while(c);m=["brackets",n.slice(g,a+1),g,a],g=a}else a=n.indexOf(")",g+1),l=n.slice(g,a+1),a===-1||a_.test(l)?m=["(","(",g]:(m=["brackets",l,g,a],g=a);break}case Cs:case Bl:{o=s===Cs?"'":'"',a=g;do{if(c=!1,a=n.indexOf(o,a+1),a===-1)if(i||N){a=g+1;break}else v("string");for(f=a;n.charCodeAt(f-1)===Vn;)f-=1,c=!c}while(c);m=["string",n.slice(g,a+1),g,a],g=a;break}case s_:{qn.lastIndex=g+1,qn.test(n),qn.lastIndex===0?a=n.length-1:a=qn.lastIndex-2,m=["at-word",n.slice(g,a+1),g,a],g=a;break}case Vn:{for(a=g,u=!0;n.charCodeAt(a+1)===Vn;)a+=1,u=!u;if(s=n.charCodeAt(a+1),u&&s!==Fl&&s!==Ir&&s!==Ln&&s!==$n&&s!==kn&&s!==Hn&&(a+=1,Wl.test(n.charAt(a)))){for(;Wl.test(n.charAt(a+1));)a+=1;n.charCodeAt(a+1)===Ir&&(a+=1)}m=["word",n.slice(g,a+1),g,a],g=a;break}default:{s===Fl&&n.charCodeAt(g+1)===n_?(a=n.indexOf("*/",g+2)+1,a===0&&(i||N?a=n.length:v("comment")),m=["comment",n.slice(g,a+1),g,a],g=a):(jn.lastIndex=g+1,jn.test(n),jn.lastIndex===0?a=n.length-1:a=jn.lastIndex-2,m=["word",n.slice(g,a+1),g,a],w.push(m),g=a);break}}return g++,m}function R(O){T.push(O)}return{back:R,nextToken:b,endOfFile:_,position:S}};let Rf=Xt;class zi extends Rf{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}var co=zi;zi.default=zi;Rf.registerAtRule(zi);let l_=Xt,xf,Cf;class en extends l_{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let n=this.index(e);return!t&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}normalize(e,t,n){let i=super.normalize(e);if(t){if(n==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}toResult(e={}){return new xf(new Cf,this,e).stringify()}}en.registerLazyResult=r=>{xf=r};en.registerProcessor=r=>{Cf=r};var vn=en;en.default=en;let tn={split(r,e,t){let n=[],i="",s=!1,a=0,o=!1,l=!1;for(let u of r)l?l=!1:u==="\\"?l=!0:o?u===o&&(o=!1):u==='"'||u==="'"?o=u:u==="("?a+=1:u===")"?a>0&&(a-=1):a===0&&e.includes(u)&&(s=!0),s?(i!==""&&n.push(i.trim()),i="",s=!1):i+=u;return(t||i!=="")&&n.push(i.trim()),n},space(r){let e=[" ",`
`,"	"];return tn.split(r,e)},comma(r){return tn.split(r,[","],!0)}};var Tf=tn;tn.default=tn;let Ef=Xt,u_=Tf;class Di extends Ef{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return u_.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}var fo=Di;Di.default=Di;Ef.registerRule(Di);let c_=ts,f_=o_,d_=ns,h_=co,p_=vn,Ul=fo;const Kl={empty:!0,space:!0};function m_(r){for(let e=r.length-1;e>=0;e--){let t=r[e],n=t[3]||t[2];if(n)return n}}class g_{constructor(e){this.input=e,this.root=new p_,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=f_(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}comment(e){let t=new d_;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let i=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}emptyRule(e){let t=new Ul;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,n=null,i=!1,s=null,a=[],o=e[1].startsWith("--"),l=[],u=e;for(;u;){if(n=u[0],l.push(u),n==="("||n==="[")s||(s=u),a.push(n==="("?")":"]");else if(o&&i&&n==="{")s||(s=u),a.push("}");else if(a.length===0)if(n===";")if(i){this.decl(l,o);return}else break;else if(n==="{"){this.rule(l);return}else if(n==="}"){this.tokenizer.back(l.pop()),t=!0;break}else n===":"&&(i=!0);else n===a[a.length-1]&&(a.pop(),a.length===0&&(s=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),a.length>0&&this.unclosedBracket(s),t&&i){if(!o)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,o)}else this.unknownWord(l)}rule(e){e.pop();let t=new Ul;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let n=new c_;this.init(n,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(i[3]||i[2]||m_(e));e[0][0]!=="word";)e.length===1&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;n.prop+=e.shift()[1]}n.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){n.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1];(n.prop[0]==="_"||n.prop[0]==="*")&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let a=[],o;for(;e.length&&(o=e[0][0],!(o!=="space"&&o!=="comment"));)a.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(s=e[u],s[1].toLowerCase()==="!important"){n.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(n.raws.important=c);break}else if(s[1].toLowerCase()==="important"){let c=e.slice(0),f="";for(let h=u;h>0;h--){let y=c[h][0];if(f.trim().indexOf("!")===0&&y!=="space")break;f=c.pop()[1]+f}f.trim().indexOf("!")===0&&(n.important=!0,n.raws.important=f,e=c)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(n.raws.between+=a.map(u=>u[1]).join(""),a=[]),this.raw(n,"value",a.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t=new h_;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let n,i,s,a=!1,o=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),n=e[0],n==="("||n==="["?u.push(n==="("?")":"]"):n==="{"&&u.length>0?u.push("}"):n===u[u.length-1]&&u.pop(),u.length===0)if(n===";"){t.source.end=this.getPosition(e[2]),this.semicolon=!0;break}else if(n==="{"){o=!0;break}else if(n==="}"){if(l.length>0){for(s=l.length-1,i=l[s];i&&i[0]==="space";)i=l[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]))}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){a=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),a&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),o&&(t.nodes=[],this.current=t)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}raw(e,t,n,i){let s,a,o=n.length,l="",u=!0,c,f;for(let h=0;h<o;h+=1)s=n[h],a=s[0],a==="space"&&h===o-1&&!i?u=!1:a==="comment"?(f=n[h-1]?n[h-1][0]:"empty",c=n[h+1]?n[h+1][0]:"empty",!Kl[f]&&!Kl[c]?l.slice(-1)===","?u=!1:l+=s[1]:u=!1):l+=s[1];if(!u){let h=n.reduce((y,m)=>y+m[1],"");e.raws[t]={value:l,raw:h}}e[t]=l}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],t==="space");)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}colon(e){let t=0,n,i,s;for(let[a,o]of e.entries()){if(n=o,i=n[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!s)this.doubleColon(n);else{if(s[0]==="word"&&s[1]==="progid")continue;return a}s=n}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let n=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(n+=1,n===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}}var y_=g_;let __=Xt,v_=y_,w_=rs;function Ni(r,e){let t=new w_(r,e),n=new v_(t);try{n.parse()}catch(i){throw i}return n.root}var ho=Ni;Ni.default=Ni;__.registerParse(Ni);let{isClean:st,my:b_}=_n,S_=df,R_=Zi,x_=Xt,C_=lo,Yl=uo,T_=ho,E_=vn;const I_={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},O_={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},A_={postcssPlugin:!0,prepare:!0,Once:!0},hr=0;function Or(r){return typeof r=="object"&&typeof r.then=="function"}function If(r){let e=!1,t=I_[r.type];return r.type==="decl"?e=r.prop.toLowerCase():r.type==="atrule"&&(e=r.name.toLowerCase()),e&&r.append?[t,t+"-"+e,hr,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:r.append?[t,hr,t+"Exit"]:[t,t+"Exit"]}function Gl(r){let e;return r.type==="document"?e=["Document",hr,"DocumentExit"]:r.type==="root"?e=["Root",hr,"RootExit"]:e=If(r),{node:r,events:e,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function ua(r){return r[st]=!1,r.nodes&&r.nodes.forEach(e=>ua(e)),r}let ca={};class At{constructor(e,t,n){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=ua(t);else if(t instanceof At||t instanceof Yl)i=ua(t.root),t.map&&(typeof n.map=="undefined"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let s=T_;n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{i=s(t,n)}catch(a){this.processed=!0,this.error=a}i&&!i[b_]&&x_.rebuild(i)}this.result=new Yl(e,i,n),this.helpers={...ca,result:this.result,postcss:ca},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Or(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[st];)e[st]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=R_;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new S_(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}walkSync(e){e[st]=!0;let t=If(e);for(let n of t)if(n===hr)e.nodes&&e.each(i=>{i[st]||this.walkSync(i)});else{let i=this.listeners[n];if(i&&this.visitSync(i,e.toProxy()))return}}visitSync(e,t){for(let[n,i]of e){this.result.lastPlugin=n;let s;try{s=i(t,this.helpers)}catch(a){throw this.handleError(a,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Or(s))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(n=>e.Once(n,this.helpers));return Or(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=n.postcssPlugin,e.setMessage()):n.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(Or(n))try{await n}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[st];){e[st]=!0;let t=[Gl(e)];for(;t.length>0;){let n=this.visitTick(t);if(Or(n))try{await n}catch(i){let s=t[t.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(s=>n(s,this.helpers));await Promise.all(i)}else await n(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(t,n,i)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let n in t){if(!O_[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!A_[n])if(typeof t[n]=="object")for(let i in t[n])i==="*"?e(t,n,t[n][i]):e(t,n+"-"+i.toLowerCase(),t[n][i]);else typeof t[n]=="function"&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if(n.type!=="root"&&n.type!=="document"&&!n.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[a,o]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=a;try{return o(n.toProxy(),this.helpers)}catch(l){throw this.handleError(l,n)}}if(t.iterator!==0){let a=t.iterator,o;for(;o=n.nodes[n.indexes[a]];)if(n.indexes[a]+=1,!o[st]){o[st]=!0,e.push(Gl(o));return}t.iterator=0,delete n.indexes[a]}let s=t.events;for(;t.eventIndex<s.length;){let a=s[t.eventIndex];if(t.eventIndex+=1,a===hr){n.nodes&&n.nodes.length&&(n[st]=!0,t.iterator=n.getIterator());return}else if(this.listeners[a]){t.visitors=this.listeners[a];return}}e.pop()}}At.registerPostcss=r=>{ca=r};var Of=At;At.default=At;E_.registerLazyResult(At);C_.registerLazyResult(At);let z_=df,D_=Zi,N_=ho;const M_=uo;class fa{constructor(e,t,n){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let i,s=D_;this.result=new M_(this._processor,i,this._opts),this.result.css=t;let a=this;Object.defineProperty(this.result,"root",{get(){return a.root}});let o=new z_(s,i,this._opts,t);if(o.isMap()){let[l,u]=o.generate();l&&(this.result.css=l),u&&(this.result.map=u)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=N_;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}var P_=fa;fa.default=fa;let V_=P_,L_=Of,H_=lo,$_=vn;class rn{constructor(e=[]){this.version="8.4.14",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return this.plugins.length===0&&typeof t.parser=="undefined"&&typeof t.stringifier=="undefined"&&typeof t.syntax=="undefined"?new V_(this,e,t):new L_(this,e,t)}normalize(e){let t=[];for(let n of e)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)t.push(n);else if(typeof n=="function")t.push(n);else if(!(typeof n=="object"&&(n.parse||n.stringify)))throw new Error(n+" is not a PostCSS plugin");return t}}var k_=rn;rn.default=rn;$_.registerProcessor(rn);H_.registerProcessor(rn);let q_=ts,j_=of,B_=ns,F_=co,W_=rs,U_=vn,K_=fo;function nn(r,e){if(Array.isArray(r))return r.map(i=>nn(i));let{inputs:t,...n}=r;if(t){e=[];for(let i of t){let s={...i,__proto__:W_.prototype};s.map&&(s.map={...s.map,__proto__:j_.prototype}),e.push(s)}}if(n.nodes&&(n.nodes=r.nodes.map(i=>nn(i,e))),n.source){let{inputId:i,...s}=n.source;n.source=s,i!=null&&(n.source.input=e[i])}if(n.type==="root")return new U_(n);if(n.type==="decl")return new q_(n);if(n.type==="rule")return new K_(n);if(n.type==="comment")return new B_(n);if(n.type==="atrule")return new F_(n);throw new Error("Unknown node type: "+r.type)}var Y_=nn;nn.default=nn;let G_=so,Af=ts,X_=Of,J_=Xt,po=k_,Q_=Zi,Z_=Y_,zf=lo,ev=Sf,Df=ns,Nf=co,tv=uo,rv=rs,nv=ho,iv=Tf,Mf=fo,Pf=vn,sv=es;function J(...r){return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new po(r)}J.plugin=function(e,t){let n=!1;function i(...a){console&&console.warn&&!n&&(n=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),{}.LANG&&{}.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let o=t(...a);return o.postcssPlugin=e,o.postcssVersion=new po().version,o}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(a,o,l){return J([i(l)]).process(a,o)},i};J.stringify=Q_;J.parse=nv;J.fromJSON=Z_;J.list=iv;J.comment=r=>new Df(r);J.atRule=r=>new Nf(r);J.decl=r=>new Af(r);J.rule=r=>new Mf(r);J.root=r=>new Pf(r);J.document=r=>new zf(r);J.CssSyntaxError=G_;J.Declaration=Af;J.Container=J_;J.Processor=po;J.Document=zf;J.Comment=Df;J.Warning=ev;J.AtRule=Nf;J.Result=tv;J.Input=rv;J.Rule=Mf;J.Root=Pf;J.Node=sv;X_.registerPostcss(J);var av=J;J.default=J;const ov=zc,Xl=sy,{isPlainObject:lv}=no,Jl=wy,uv=nf.exports,{parse:cv}=av,fv=["img","audio","video","picture","svg","object","map","iframe","embed"],dv=["script","style"];function Mr(r,e){r&&Object.keys(r).forEach(function(t){e(r[t],t)})}function mt(r,e){return{}.hasOwnProperty.call(r,e)}function Ql(r,e){const t=[];return Mr(r,function(n){e(n)&&t.push(n)}),t}function hv(r){for(const e in r)if(mt(r,e))return!1;return!0}function pv(r){return r.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}var mv=sn;const gv=/^[^\0\t\n\f\r /<=>]+$/;function sn(r,e,t){if(r==null)return"";let n="",i="";function s(C,E){const A=this;this.tag=C,this.attribs=E||{},this.tagPosition=n.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(d.length){const M=d[d.length-1];M.text+=A.text}},this.updateParentNodeMediaChildren=function(){d.length&&fv.includes(this.tag)&&d[d.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},sn.defaults,e),e.parser=Object.assign({},yv,e.parser),dv.forEach(function(C){e.allowedTags&&e.allowedTags.indexOf(C)>-1&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${C}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const a=e.nonTextTags||["script","style","textarea","option"];let o,l;e.allowedAttributes&&(o={},l={},Mr(e.allowedAttributes,function(C,E){o[E]=[];const A=[];C.forEach(function(M){typeof M=="string"&&M.indexOf("*")>=0?A.push(Xl(M).replace(/\\\*/g,".*")):o[E].push(M)}),A.length&&(l[E]=new RegExp("^("+A.join("|")+")$"))}));const u={},c={},f={};Mr(e.allowedClasses,function(C,E){o&&(mt(o,E)||(o[E]=[]),o[E].push("class")),u[E]=[],f[E]=[];const A=[];C.forEach(function(M){typeof M=="string"&&M.indexOf("*")>=0?A.push(Xl(M).replace(/\\\*/g,".*")):M instanceof RegExp?f[E].push(M):u[E].push(M)}),A.length&&(c[E]=new RegExp("^("+A.join("|")+")$"))});const h={};let y;Mr(e.transformTags,function(C,E){let A;typeof C=="function"?A=C:typeof C=="string"&&(A=sn.simpleTransform(C)),E==="*"?y=A:h[E]=A});let m,d,g,w,T,S,v=!1;b();const _=new ov.Parser({onopentag:function(C,E){if(e.enforceHtmlBoundary&&C==="html"&&b(),T){S++;return}const A=new s(C,E);d.push(A);let M=!1;const U=!!A.text;let L;if(mt(h,C)&&(L=h[C](C,E),A.attribs=E=L.attribs,L.text!==void 0&&(A.innerText=L.text),C!==L.tagName&&(A.name=C=L.tagName,w[m]=L.tagName)),y&&(L=y(C,E),A.attribs=E=L.attribs,C!==L.tagName&&(A.name=C=L.tagName,w[m]=L.tagName)),(e.allowedTags&&e.allowedTags.indexOf(C)===-1||e.disallowedTagsMode==="recursiveEscape"&&!hv(g)||e.nestingLimit!=null&&m>=e.nestingLimit)&&(M=!0,g[m]=!0,e.disallowedTagsMode==="discard"&&a.indexOf(C)!==-1&&(T=!0,S=1),g[m]=!0),m++,M){if(e.disallowedTagsMode==="discard")return;i=n,n=""}n+="<"+C,C==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(A.innerText=""),(!o||mt(o,C)||o["*"])&&Mr(E,function(D,I){if(!gv.test(I)){delete A.attribs[I];return}let B,H=!1;if(!o||mt(o,C)&&o[C].indexOf(I)!==-1||o["*"]&&o["*"].indexOf(I)!==-1||mt(l,C)&&l[C].test(I)||l["*"]&&l["*"].test(I))H=!0;else if(o&&o[C]){for(const V of o[C])if(lv(V)&&V.name&&V.name===I){H=!0;let j="";if(V.multiple===!0){const ae=D.split(" ");for(const we of ae)V.values.indexOf(we)!==-1&&(j===""?j=we:j+=" "+we)}else V.values.indexOf(D)>=0&&(j=D);D=j}}if(H){if(e.allowedSchemesAppliedToAttributes.indexOf(I)!==-1&&O(C,D)){delete A.attribs[I];return}if(C==="script"&&I==="src"){let V=!0;try{const j=new URL(D);if(e.allowedScriptHostnames||e.allowedScriptDomains){const ae=(e.allowedScriptHostnames||[]).find(function(de){return de===j.hostname}),we=(e.allowedScriptDomains||[]).find(function(de){return j.hostname===de||j.hostname.endsWith(`.${de}`)});V=ae||we}}catch{V=!1}if(!V){delete A.attribs[I];return}}if(C==="iframe"&&I==="src"){let V=!0;try{if(D=D.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),D.startsWith("relative:"))throw new Error("relative: exploit attempt");let j="relative://relative-site";for(let de=0;de<100;de++)j+=`/${de}`;const ae=new URL(D,j);if(ae&&ae.hostname==="relative-site"&&ae.protocol==="relative:")V=mt(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){const de=(e.allowedIframeHostnames||[]).find(function(St){return St===ae.hostname}),Jt=(e.allowedIframeDomains||[]).find(function(St){return ae.hostname===St||ae.hostname.endsWith(`.${St}`)});V=de||Jt}}catch{V=!1}if(!V){delete A.attribs[I];return}}if(I==="srcset")try{if(B=uv(D),B.forEach(function(V){O("srcset",V.url)&&(V.evil=!0)}),B=Ql(B,function(V){return!V.evil}),B.length)D=pv(Ql(B,function(V){return!V.evil})),A.attribs[I]=D;else{delete A.attribs[I];return}}catch{delete A.attribs[I];return}if(I==="class"){const V=u[C],j=u["*"],ae=c[C],we=f[C],de=c["*"],Jt=[ae,de].concat(we).filter(function(St){return St});if(V&&j?D=q(D,Jl(V,j),Jt):D=q(D,V||j,Jt),!D.length){delete A.attribs[I];return}}if(I==="style")try{const V=cv(C+" {"+D+"}"),j=N(V,e.allowedStyles);if(D=z(j),D.length===0){delete A.attribs[I];return}}catch{delete A.attribs[I];return}n+=" "+I,D&&D.length&&(n+='="'+R(D,!0)+'"')}else delete A.attribs[I]}),e.selfClosing.indexOf(C)!==-1?n+=" />":(n+=">",A.innerText&&!U&&!e.textFilter&&(n+=R(A.innerText),v=!0)),M&&(n=i+R(n),i="")},ontext:function(C){if(T)return;const E=d[d.length-1];let A;if(E&&(A=E.tag,C=E.innerText!==void 0?E.innerText:C),e.disallowedTagsMode==="discard"&&(A==="script"||A==="style"))n+=C;else{const M=R(C,!1);e.textFilter&&!v?n+=e.textFilter(M,A):v||(n+=M)}if(d.length){const M=d[d.length-1];M.text+=C}},onclosetag:function(C){if(T)if(S--,!S)T=!1;else return;const E=d.pop();if(!E)return;T=e.enforceHtmlBoundary?C==="html":!1,m--;const A=g[m];if(A){if(delete g[m],e.disallowedTagsMode==="discard"){E.updateParentNodeText();return}i=n,n=""}if(w[m]&&(C=w[m],delete w[m]),e.exclusiveFilter&&e.exclusiveFilter(E)){n=n.substr(0,E.tagPosition);return}if(E.updateParentNodeMediaChildren(),E.updateParentNodeText(),e.selfClosing.indexOf(C)!==-1){A&&(n=i,i="");return}n+="</"+C+">",A&&(n=i+R(n),i=""),v=!1}},e.parser);return _.write(r),_.end(),n;function b(){n="",m=0,d=[],g={},w={},T=!1,S=0}function R(C,E){return typeof C!="string"&&(C=C+""),e.parser.decodeEntities&&(C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),E&&(C=C.replace(/"/g,"&quot;"))),C=C.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),E&&(C=C.replace(/"/g,"&quot;")),C}function O(C,E){E=E.replace(/[\x00-\x20]+/g,""),E=E.replace(/<!--.*?-->/g,"");const A=E.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!A)return E.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;const M=A[1].toLowerCase();return mt(e.allowedSchemesByTag,C)?e.allowedSchemesByTag[C].indexOf(M)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(M)===-1}function N(C,E){if(!E)return C;const A=C.nodes[0];let M;return E[A.selector]&&E["*"]?M=Jl(E[A.selector],E["*"]):M=E[A.selector]||E["*"],M&&(C.nodes[0].nodes=A.nodes.reduce(P(M),[])),C}function z(C){return C.nodes[0].nodes.reduce(function(E,A){return E.push(`${A.prop}:${A.value}${A.important?" !important":""}`),E},[]).join(";")}function P(C){return function(E,A){return mt(C,A.prop)&&C[A.prop].some(function(U){return U.test(A.value)})&&E.push(A),E}}function q(C,E,A){return E?(C=C.split(/\s+/),C.filter(function(M){return E.indexOf(M)!==-1||A.some(function(U){return U.test(M)})}).join(" ")):C}}const yv={decodeEntities:!0};sn.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1};sn.simpleTransform=function(r,e,t){return t=t===void 0?!0:t,e=e||{},function(n,i){let s;if(t)for(s in e)i[s]=e[s];else i=e;return{tagName:r,attribs:i}}};var _v=mv;const vv=window.React.useEffect,Ts=window.React.useState,Zl=r=>r.benefactorAcl.resourceAccess.some(e=>e.principalId===rd||e.principalId===nd||e.principalId===id),mo="EntityBadgeIconsTooltipID",$r=r=>{var D,I,B;const{entityId:e,versionNumber:t,flexWrap:n="nowrap",justifyContent:i="flex-start",showIsPublicPrivate:s=!0,showHasLocalSharingSettings:a=!0,showHasAnnotations:o=!0,showHasWiki:l=!0,showHasDiscussionThread:u=!0,showUnlink:c=!0,onUnlink:f=()=>{},onUnlinkError:h=()=>{},canOpenModal:y,renderTooltipComponent:m}=r,d=mo+(m?`-${e}`:"");let g;(H=>{H.NO_SCHEMA="",H.VALID="Valid",H.INVALID="Invalid",H.ANNOTATIONS_MISSING="Missing"})(g||(g={}));const{ref:w,inView:T}=fu(),{data:S}=zt(e,void 0,t,{enabled:T,staleTime:60*1e3}),[v,_]=Ts(!1),[b,R]=Ts(!1),[O,N]=Ts(""),{isInExperimentalMode:z}=Bt(),{data:P}=wd(e,{enabled:z&&T,staleTime:60*1e3}),{data:q}=bd(e,{enabled:z&&T&&!!P,staleTime:60*1e3}),C=10,E=(S==null?void 0:S.annotations)&&!Cd(S.annotations.annotations)?Object.keys(S.annotations.annotations).length:0;vv(()=>{z&&q&&(vi.rebuild(),q.isValid?N("Valid"):N(E?"Invalid":"Missing"))},[q,z,E,S,"Valid","Invalid","Missing"]);const{mutate:A}=vd({onSuccess:(H,V)=>{f(V)},onError:h}),M=S?`${Object.entries((I=(D=S.annotations)==null?void 0:D.annotations)!=null?I:[]).reduce((H,V,j)=>j<C||j===C&&C===E?`${H}<tr><td><b>${V[0]}</b></td><td>${V[1].value.join(", ")}</td></tr>`:H,"")}`:"",U=z&&P?`<tr><td><b>Validation Schema</b></td><td>${P.jsonSchemaVersionInfo.schemaName}</td></tr>`:"",L=`
      ${q?`<p>${O} Annotations</p>`:""}
      <table>
      ${M||""}
      ${U}
      </table>${E>C?`<p>and ${E-C} more</p>`:""}`;return x("div",{className:"EntityBadge",ref:w,style:{flexWrap:n,justifyContent:i},children:S&&G(_e,{children:[m&&x(vi,{id:d,className:"EntityBadgeTooltip",delayShow:100,place:"right",effect:"solid"}),x("div",{onClick:H=>H.stopPropagation(),children:x(Sd,{entityId:e,show:v,showTabs:!1,onClose:()=>_(!1),initialTab:Rd.ANNOTATIONS})}),s&&S.benefactorAcl&&Zl(S)?x(gd,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-for":d,"data-tip":"Public","data-testid":"is-public-icon"}):null,s&&S.benefactorAcl&&!Zl(S)?x(Td,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-for":d,"data-tip":"Private","data-testid":"is-private-icon"}):null,a&&S.benefactorAcl&&e===S.benefactorAcl.id?x(Ed,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-for":d,"data-tip":"Sharing Settings have been set","data-testid":"sharing-settings-icon"}):null,o&&!!(E||q)&&x(jd,{"aria-hidden":!1,role:y?"button":"img",className:`EntityBadge__Badge ${O}`,style:y?{cursor:"pointer"}:void 0,onClick:y?()=>_(!0):void 0,"data-for":d,"data-tip":_v(L),"data-html":!0,"data-testid":"annotations-icon"}),l&&S.rootWikiId&&x($d,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-for":d,"data-tip":"Has a wiki","data-testid":"wiki-icon"}),u&&!!S.threadCount&&S.threadCount>0&&x(Hd,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-for":d,"data-tip":"Has been mentioned in discussion","data-testid":"discussion-icon"}),c&&S.entityType===Et.LINK&&((B=S.permissions)==null?void 0:B.canDelete)&&G(_e,{children:[x(xd,{show:b,title:"Confirm Unlink",modalBody:"Are you sure you want to remove this link? The original object will not be changed.",confirmButtonText:"Unlink",confirmButtonVariant:"danger",onConfirm:()=>{A(e),R(!1)},onCancel:()=>{R(!1)}}),x(qd,{"aria-hidden":!1,role:"button",onClick:()=>R(!0),className:"EntityBadge__Badge Unlink","data-for":d,"data-tip":"Remove this link","data-testid":"unlink-icon"})]})]})})};try{$r.displayName="EntityBadgeIcons",$r.__docgenInfo={description:`Stateless component used to show icons that show an entity's status.
Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java`,displayName:"EntityBadgeIcons",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"initial"'},{value:'"wrap"'},{value:'"nowrap"'},{value:'"-moz-initial"'},{value:'"revert"'},{value:'"unset"'},{value:'"wrap-reverse"'}]}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},showIsPublicPrivate:{defaultValue:null,description:"Shows an icon indicating if the entity is 'public' or 'private'. Default true",name:"showIsPublicPrivate",required:!1,type:{name:"boolean"}},showHasLocalSharingSettings:{defaultValue:null,description:"Shows an icon if the entity has sharing settings set on itself. Default true",name:"showHasLocalSharingSettings",required:!1,type:{name:"boolean"}},showHasAnnotations:{defaultValue:null,description:"Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true",name:"showHasAnnotations",required:!1,type:{name:"boolean"}},showHasWiki:{defaultValue:null,description:"Shows an icon if the entity a wiki. Default true",name:"showHasWiki",required:!1,type:{name:"boolean"}},showHasDiscussionThread:{defaultValue:null,description:"Shows an icon if the entity has been mentioned in discussion threads. Default true",name:"showHasDiscussionThread",required:!1,type:{name:"boolean"}},showUnlink:{defaultValue:null,description:"",name:"showUnlink",required:!1,type:{name:"boolean"}},onUnlink:{defaultValue:null,description:"",name:"onUnlink",required:!1,type:{name:"((entityId: string) => void)"}},onUnlinkError:{defaultValue:null,description:"",name:"onUnlinkError",required:!1,type:{name:"((error: unknown) => void)"}},canOpenModal:{defaultValue:null,description:"Whether or not the badges (e.g. Annotations) can trigger opening a modal on click",name:"canOpenModal",required:!0,type:{name:"boolean"}},renderTooltipComponent:{defaultValue:null,description:"Whether this component should render a ReactTooltip or if an external component is managing it",name:"renderTooltipComponent",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"]={docgenInfo:$r.__docgenInfo,name:"EntityBadgeIcons",path:"src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"})}catch{}const Vf=window.React.useEffect,ei=({className:r,sortOrder:e})=>x(Md,{className:r,active:!0,role:"button",style:{height:"20px",marginLeft:"auto"},direction:e});function ti(r){return x($r,{entityId:r.rowData.entityId,versionNumber:r.rowData.versionNumber,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!1})}function kr({cellData:r}){var e;return x(_e,{children:(e=r&&Pd(Nd(r)))!=null?e:x(_e,{})})}function ri(r){var n;const{data:e,isLoading:t}=zt(r.rowData.entityId,void 0,r.rowData.versionNumber);return t?x(Ft,{width:200}):x(kr,{...r,cellData:(n=e==null?void 0:e.entity)==null?void 0:n.modifiedOn})}function ni(r){var n;const{data:e,isLoading:t}=zt(r.rowData.entityId,void 0,r.rowData.versionNumber);return t?x(Ft,{width:200}):x(kr,{...r,cellData:(n=e==null?void 0:e.entity)==null?void 0:n.createdOn})}function Es(r){const{data:e,isLoading:t}=zt(r.rowData.entityId,void 0,r.rowData.versionNumber);return t?x(Ft,{width:200}):e?x(mu,{className:"EntityNameWithIconRenderer",entity:e.entity,link:!1}):x(_e,{})}function Is(r){var s;const{data:e,isLoading:t}=zt(r.rowData.entityId,void 0,r.rowData.versionNumber),{data:n,isLoading:i}=du((s=e==null?void 0:e.path.path[1].id)!=null?s:"",void 0,{enabled:!!e});return t||i?x(Ft,{width:200}):n?x(mu,{entity:n}):x(_e,{})}function ii({cellData:r}){return x(Vd,{ownerId:r,size:sd,openLinkInNewTab:!0})}function si(r){var n;const{data:e,isLoading:t}=zt(r.rowData.entityId,void 0,r.rowData.versionNumber);return t?x(Ft,{width:200}):x(ii,{...r,cellData:(n=e==null?void 0:e.entity)==null?void 0:n.modifiedBy})}function wv(){return x("div",{className:"EntityFinderDetailsViewPlaceholder",children:x(da,{size:30})})}function ai({rowData:r}){const{isSelected:e,isDisabled:t}=r;return!t&&x(ha,{label:"",className:"SRC-pointer-events-none",checked:e,onChange:()=>{}})}function oi({cellData:r}){return x(pa,{className:"EntityFinderTableCellEntityIcon",type:r})}function li({noResultsPlaceholder:r}){return x("div",{className:"EntityFinderDetailsViewPlaceholder",children:r||x("div",{children:"Empty"})})}const Os=({rowData:r,toggleSelection:e})=>{var f;const{entityId:t,versionNumber:n}=r,{data:i,isError:s,fetchNextPage:a,isFetchingNextPage:o,hasNextPage:l}=hu(t,{staleTime:60*1e3}),u=(f=i==null?void 0:i.pages.flatMap(h=>h.results))!=null?f:[],c=!!u.find(h=>h.versionNumber===n);return Vf(()=>{!c&&l&&!o&&a()},[c,l,o,a]),s?x(_e,{children:n}):x("div",{children:u&&u.length>0&&G(lu.Control,{role:"listbox",size:"sm",as:"select",value:n,onClick:h=>{h.stopPropagation()},onChange:h=>{h.stopPropagation();const y=parseInt(h.target.value);e({entityId:t,versionNumber:y})},children:[!c&&!l&&!o&&G("option",{disabled:!0,value:n,children:[n," (Not Found)"]},n),u.map(h=>G("option",{value:h.versionNumber,children:[h.versionNumber,h.isLatestVersion&&" (Latest)"]},h.versionNumber))]})})},ui=({rowData:r,mustSelectVersionNumber:e,latestVersionText:t,toggleSelection:n})=>{var c;const{id:i,isVersionableEntity:s,isSelected:a,currentSelectedVersion:o}=r,{data:l}=hu(i,{enabled:s,staleTime:60*1e3}),u=(c=l==null?void 0:l.pages.flatMap(f=>f.results))!=null?c:[];return Vf(()=>{a&&e&&o===ct&&u.length>0&&n({targetId:i,targetVersionNumber:u[0].versionNumber})},[o,i,a,e,n,u]),x("div",{children:a&&u&&u.length>0&&G(lu.Control,{role:"listbox",size:"sm",as:"select",value:o,onClick:f=>{f.stopPropagation()},onChange:f=>{f.stopPropagation();const h=parseInt(f.target.value);n({targetId:i,targetVersionNumber:h===ct?void 0:h})},children:[!e&&x("option",{value:ct,children:t}),u.map(f=>G("option",{value:f.versionNumber,children:["Version ",f.versionNumber]},f.versionNumber))]})})};function As(r){const{isSelected:e,isDisabled:t,setSelected:n,entityId:i}=r.rowData;return!t&&x(ha,{"data-testid":`dataset-editor-checkbox-${i}`,disabled:t,label:"",checked:e,onChange:s=>{n(s)}})}const zs=r=>{const{entityId:e,versionNumber:t}=r.rowData,{error:n,isError:i}=du(e,t,{onError:()=>{Kn()}});let s=n==null?void 0:n.reason;return(n==null?void 0:n.status)===403?s="You don't have permission to view this entity.":(n==null?void 0:n.status)===404&&(s="The entity or version does not exist. It may have been deleted."),i?x("div",{className:"EntityErrorRenderer","data-for":mo,"data-tip":s,children:x(Wn,{options:{icon:"warningOutlined"}})}):x(_e,{})};try{ti.displayName="BadgeIconsRenderer",ti.__docgenInfo={description:"Renders Entity Badges using the entity bundle.",displayName:"BadgeIconsRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"]={docgenInfo:ti.__docgenInfo,name:"BadgeIconsRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"})}catch{}try{kr.displayName="DateRenderer",kr.__docgenInfo={description:"",displayName:"DateRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"]={docgenInfo:kr.__docgenInfo,name:"DateRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"})}catch{}try{ri.displayName="ModifiedOnRenderer",ri.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"]={docgenInfo:ri.__docgenInfo,name:"ModifiedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"})}catch{}try{ni.displayName="CreatedOnRenderer",ni.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"]={docgenInfo:ni.__docgenInfo,name:"CreatedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"})}catch{}try{Es.displayName="EntityNameRenderer",Es.__docgenInfo={description:"",displayName:"EntityNameRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"]={docgenInfo:Es.__docgenInfo,name:"EntityNameRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"})}catch{}try{Is.displayName="ProjectRenderer",Is.__docgenInfo={description:"",displayName:"ProjectRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"]={docgenInfo:Is.__docgenInfo,name:"ProjectRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"})}catch{}try{ii.displayName="UserCardRenderer",ii.__docgenInfo={description:"",displayName:"UserCardRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"]={docgenInfo:ii.__docgenInfo,name:"UserCardRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"})}catch{}try{si.displayName="ModifiedByRenderer",si.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"]={docgenInfo:si.__docgenInfo,name:"ModifiedByRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"})}catch{}try{ai.displayName="DetailsViewCheckboxRenderer",ai.__docgenInfo={description:"",displayName:"DetailsViewCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"]={docgenInfo:ai.__docgenInfo,name:"DetailsViewCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"})}catch{}try{oi.displayName="TypeIconRenderer",oi.__docgenInfo={description:"",displayName:"TypeIconRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"]={docgenInfo:oi.__docgenInfo,name:"TypeIconRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"})}catch{}try{li.displayName="EmptyRenderer",li.__docgenInfo={description:"",displayName:"EmptyRenderer",props:{noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!0,type:{name:"ReactNode"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"]={docgenInfo:li.__docgenInfo,name:"EmptyRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"})}catch{}try{As.displayName="DatasetEditorCheckboxRenderer",As.__docgenInfo={description:"",displayName:"DatasetEditorCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"]={docgenInfo:As.__docgenInfo,name:"DatasetEditorCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"})}catch{}try{ei.displayName="CustomSortIndicator",ei.__docgenInfo={description:"",displayName:"CustomSortIndicator",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!0,type:{name:"enum",value:[{value:'"desc"'},{value:'"asc"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"]={docgenInfo:ei.__docgenInfo,name:"CustomSortIndicator",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"})}catch{}try{Os.displayName="DatasetEditorVersionRenderer",Os.__docgenInfo={description:"",displayName:"DatasetEditorVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"DatasetItemsEditorTableData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<DatasetItemsEditorTableData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: DatasetItem) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"]={docgenInfo:Os.__docgenInfo,name:"DatasetEditorVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"})}catch{}try{ui.displayName="DetailsViewVersionRenderer",ui.__docgenInfo={description:"",displayName:"DetailsViewVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!0,type:{name:"string"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"]={docgenInfo:ui.__docgenInfo,name:"DetailsViewVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"})}catch{}try{zs.displayName="EntityErrorRenderer",zs.__docgenInfo={description:"",displayName:"EntityErrorRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"]={docgenInfo:zs.__docgenInfo,name:"EntityErrorRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"})}catch{}const bv=window.React.useCallback,Sv=window.React.useEffect,Rv=window.React.useMemo,eu=window.React.useState,tu=1200,xv=46,lt=({entities:r,isLoading:e,hasNextPage:t,fetchNextPage:n,isFetchingNextPage:i,showVersionSelection:s,mustSelectVersionNumber:a,selectColumnType:o,selected:l,visibleTypes:u,selectableTypes:c,toggleSelection:f,sort:h,setSort:y,noResultsPlaceholder:m,enableSelectAll:d,selectAllIsChecked:g=!1,latestVersionText:w="Always Latest Version",getChildrenInfiniteRequestObject:T,totalEntities:S,setCurrentContainer:v})=>{const _=Qf(),{accessToken:b}=Bt(),R=o!=="none",[O,N]=eu(!1),[z,P]=eu(!1),q=()=>{_.cancelQueries(["entitychildren",T]),P(!1),N(!1)},C=L=>u.includes(qe(L))?c.includes(qe(L))?l.has(L.id)?"selected":"default":"disabled":"hidden";Sv(()=>{async function L(){O&&(t&&n?(P(!0),i||n()):(f(g?r.filter(D=>l.has(D.id)).map(D=>{const I=l.get(D.id);return{targetId:D.id,targetVersionNumber:I===ct?void 0:I}}):await Promise.all(r.filter(D=>{const I=qe(D);return!l.has(D.id)&&c.includes(I)&&u.includes(I)}).map(async D=>{var B;let I;return a&&vo(qe(D))&&(Object.prototype.hasOwnProperty.call(D,"versionNumber")&&(I=D.versionNumber),I||(P(!0),I=(B=(await _.fetchQuery(["entity",D.id,"versions",{offset:0,limit:1}],()=>ad(D.id,b,0,1))).results[0])==null?void 0:B.versionNumber)),{targetId:D.id,targetVersionNumber:I}}))),N(!1),P(!1)))}L()},[b,r,n,t,a,_,i,g,c,l,O,f,u]);const E=r.reduce((L,D)=>{const I=C(D);if(I!=="hidden"){const B=qe(D);L.push({...D,entityId:D.id,versionNumber:"versionNumber"in D?D.versionNumber:void 0,entityType:B,isSelected:I==="selected",isDisabled:I==="disabled",isVersionableEntity:vo(B),currentSelectedVersion:l.get(D.id)})}return L},[]),A=Rv(()=>{const L=t||r.filter(D=>c.includes(qe(D))&&u.includes(qe(D))).length>0;return d&&x("div",{"data-testid":"Select All",style:L?{cursor:"pointer"}:{cursor:"not-allowed"},onClick:()=>{L&&N(!0)},children:x(ha,{label:"",className:"SRC-pointer-events-none",checked:g,disabled:!L,onChange:()=>{}})})},[d,r,t,g,c,u]),M=bv(L=>v&&uu(L.rowData.entityType)?x("span",{role:"link",className:"EntityFinderTableCellContainerLink",onClick:D=>{D.stopPropagation(),v(L.rowData.id)},children:L.rowData.name}):L.rowData.name,[v]),U={};return h&&(U[h.sortBy]=h.sortDirection.toLowerCase()),G("div",{className:"EntityFinderDetailsView bootstrap-4-backport",children:[x(Od,{show:z,currentProgress:r.length,totalProgress:S,hintText:S?`${r.length.toLocaleString()} of ${S==null?void 0:S.toLocaleString()}`:`Fetching ${r.length.toLocaleString()}`,headlineText:"Fetching selected items",onCancel:q}),x(Ac,{className:"DetailsViewAutosizer",onResize:Kn,children:({height:L,width:D})=>G(pn,{classPrefix:"DetailsViewTable",data:E,height:L,width:D>tu?D:tu,rowHeight:xv,overscanRowCount:5,rowClassName:({rowIndex:I})=>{let B="EntityFinderDetailsViewRow";return I%2===0&&(B+=" isEven"),B},rowProps:({rowData:I})=>({"aria-selected":I.isSelected,"aria-disabled":I.isDisabled}),headerCellProps:{role:"columnheader"},sortState:U,components:{SortIndicator:ei},onColumnSort:({key:I,order:B})=>{h&&y&&y(I,B==="asc"?Ps.ASC:Ps.DESC)},onRowsRendered:Kn,onScroll:Kn,rowEventHandlers:{onClick:({rowData:I})=>{const{id:B,isDisabled:H,isVersionableEntity:V}=I;let{currentSelectedVersion:j}=I;H||(V&&a&&j==null&&Object.prototype.hasOwnProperty.call(I,"versionNumber")&&(j=I.versionNumber),f({targetId:B,targetVersionNumber:j===ct?void 0:j}))}},onEndReached:()=>{t&&n&&!i&&n()},emptyRenderer:e?wv:()=>x(li,{noResultsPlaceholder:m}),children:[R&&x(Ce,{title:"",minWidth:50,maxWidth:50,width:50,dataKey:"isSelected",headerRenderer:A,cellRenderer:ai},"isSelected"),x(Ce,{title:"",minWidth:45,maxWidth:45,width:45,dataKey:"entityType",align:"center",cellRenderer:oi},"type"),x(Ce,{title:"Name",width:800,sortable:h!=null,resizable:!0,cellRenderer:M},Un.NAME),x(Ce,{title:"",width:75,maxWidth:75,minWidth:75,cellRenderer:ti},"badge"),x(Ce,{width:130,dataKey:"id",title:"ID",minWidth:130},"id"),s&&x(Ce,{minWidth:150,width:500,title:"Version",cellRenderer:I=>x(ui,{mustSelectVersionNumber:a,toggleSelection:f,latestVersionText:w,...I}),headerRenderer:()=>G(_e,{children:["Version",x(Id,{className:"SRC-margin-left-5",markdownText:"Allows you to choose which version of this item you would like to perform this action on."+(a?"":`If you would like the selected reference to update as new versions are created, choose "${w}"`),placement:"right"})]})},"version"),x(Ce,{sortable:h!=null,title:"Created On",width:220,minWidth:170,cellRenderer:ni},Un.CREATED_ON),x(Ce,{title:"Modified On",width:220,minWidth:170,sortable:h!=null,cellRenderer:ri},Un.MODIFIED_ON),x(Ce,{title:"Modified By",width:500,resizable:!0,cellRenderer:si},"modifiedBy")]})}),x(vi,{id:mo,className:"EntityBadgeTooltip",delayShow:100,place:"right",effect:"solid"})]})};try{lt.displayName="DetailsView",lt.__docgenInfo={description:'Displays a list of entities in a table.\n\nIf the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\nWhen the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\nan "infinite scroll" pattern, so entities should not be removed from the list when loading the next page.',displayName:"DetailsView",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:{value:"Always Latest Version"},description:'The text to show for selecting the latest version, if it can be selected. Default is "Always Latest Version"',name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},entities:{defaultValue:null,description:"",name:"entities",required:!0,type:{name:"(EntityHeader | ProjectHeader | Hit)[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!1,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!1,type:{name:"(() => Promise<any>)"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"The current sort of the view. If the view cannot be sorted, set this to `undefined`",name:"sort",required:!1,type:{name:"{ sortBy: SortBy; sortDirection: Direction; }"}},setSort:{defaultValue:null,description:"If sortable, `setSort` will be invoked when the user tries to change the sort",name:"setSort",required:!1,type:{name:"((soryBy: SortBy, sortDirection: Direction) => void)"}},noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},selectAllIsChecked:{defaultValue:{value:"false"},description:"We defer to the configuration component to determine this",name:"selectAllIsChecked",required:!1,type:{name:"boolean"}},getChildrenInfiniteRequestObject:{defaultValue:null,description:"This request object is only used to tell react-query to cancel fetching all children at once.",name:"getChildrenInfiniteRequestObject",required:!1,type:{name:"EntityChildrenRequest"}},totalEntities:{defaultValue:null,description:"The total number of entities that can be retrieved",name:"totalEntities",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"]={docgenInfo:lt.__docgenInfo,name:"DetailsView",path:"src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"})}catch{}const Cv=window.React.useEffect,Tv=window.React.useState;function Lf(r,e,t,n,i,s){if(r.length===0||e.size===0)return!1;{const a=r.every(o=>e.has(o.id)||!t.includes(qe(o)));if(a&&n&&i&&!s)return i(),!1;{if(s)return!1;const o=r.some(l=>t.includes(qe(l)));return a&&o}}}function go(r,e,t,n,i,s){const[a,o]=Tv(!1);return Cv(()=>{o(Lf(r,e,t,n,i,s))},[r,i,n,e,t,s]),a}const Ev=window.React.useEffect,ru=window.React.useState,ci=({parentContainerId:r,...e})=>{var T;const[t,n]=ru(Un.NAME),[i,s]=ru(Ps.ASC),a=pr(),o={parentId:r,includeTotalChildCount:!0,includeTypes:e.visibleTypes,sortBy:t,sortDirection:i},{data:l,isLoading:u,isFetchingNextPage:c,hasNextPage:f,fetchNextPage:h,isError:y,error:m}=_d(o),d=(T=l==null?void 0:l.pages.flatMap(S=>S.page))!=null?T:[],g=l==null?void 0:l.pages[0].totalChildCount,w=go(d,e.selected,e.selectableTypes,f,h,c);return Ev(()=>{y&&m&&a(m)},[y,m,a]),x(lt,{entities:d,isLoading:u,hasNextPage:f,fetchNextPage:h,isFetchingNextPage:c,sort:{sortBy:t,sortDirection:i},setSort:(S,v)=>{n(S),s(v)},selectAllIsChecked:w,getChildrenInfiniteRequestObject:o,totalEntities:g,...e})};try{ci.displayName="EntityChildrenDetails",ci.__docgenInfo={description:"",displayName:"EntityChildrenDetails",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"]={docgenInfo:ci.__docgenInfo,name:"EntityChildrenDetails",path:"src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"})}catch{}const Iv=window.React.useEffect,fi=({...r})=>{var f;const{data:e,isLoading:t,hasNextPage:n,fetchNextPage:i,isFetchingNextPage:s,isError:a,error:o}=Ld(),l=pr(),u=(f=e==null?void 0:e.pages.flatMap(h=>h.results))!=null?f:[],c=go(u,r.selected,r.selectableTypes,n,i,s);return Iv(()=>{a&&o&&l(o)},[a,o,l]),x(lt,{entities:u,isLoading:t,hasNextPage:n,fetchNextPage:i,isFetchingNextPage:s,selectAllIsChecked:c,...r})};try{fi.displayName="FavoritesDetails",fi.__docgenInfo={description:"",displayName:"FavoritesDetails",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"]={docgenInfo:fi.__docgenInfo,name:"FavoritesDetails",path:"src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"})}catch{}function Hf(r,e){const{accessToken:t}=Bt();return pu(["myProjects",t,r],async n=>await od(t,{...r,nextPageToken:n.pageParam}),{...e,getNextPageParam:n=>n.nextPageToken})}const Ov=window.React.useEffect,di=({projectsParams:r,...e})=>{var h;const{data:t,isLoading:n,isFetchingNextPage:i,hasNextPage:s,fetchNextPage:a,isError:o,error:l}=Hf(r),u=pr(),c=(h=t==null?void 0:t.pages.flatMap(y=>y.results))!=null?h:[],f=go(c,e.selected,e.selectableTypes,s,a,i);return Ov(()=>{o&&l&&u(l)},[o,l,u]),x(lt,{entities:c,isLoading:n,hasNextPage:s,fetchNextPage:a,isFetchingNextPage:i,selectAllIsChecked:f,...e})};try{di.displayName="ProjectListDetails",di.__docgenInfo={description:"",displayName:"ProjectListDetails",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},projectsParams:{defaultValue:null,description:"",name:"projectsParams",required:!0,type:{name:"GetProjectsParameters"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"]={docgenInfo:di.__docgenInfo,name:"ProjectListDetails",path:"src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"})}catch{}function Av(r,e){const{accessToken:t}=Bt();return pu(["search",t,r],async n=>ld({...r,start:n.pageParam},t),{...e,getNextPageParam:n=>n.start+n.hits.length===n.found?null:n.start+n.hits.length})}const zv=window.React.useEffect,hi=({searchQuery:r,...e})=>{var c;const{data:t,isLoading:n,hasNextPage:i,fetchNextPage:s,isFetchingNextPage:a,error:o,isError:l}=Av(r,{enabled:!!r.queryTerm}),u=pr();return zv(()=>{l&&o&&u(o)},[l,o,u]),r.queryTerm?x(lt,{entities:(c=t==null?void 0:t.pages.flatMap(f=>f.hits))!=null?c:[],isLoading:n,hasNextPage:i,fetchNextPage:s,isFetchingNextPage:a,noResultsPlaceholder:G(_e,{children:[x("img",{className:"SearchPlaceholderImage",alt:"No results found",src:"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg"}),G("p",{children:["No results for \u201C",r.queryTerm.join(" "),"\u201D"]})]}),...e,enableSelectAll:!1}):x(lt,{entities:[],isLoading:!1,hasNextPage:!1,noResultsPlaceholder:G(_e,{children:[x("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),x("p",{children:"Enter a term or Synapse ID to start searching"})]}),...e,enableSelectAll:!1})};try{hi.displayName="SearchDetails",hi.__docgenInfo={description:"",displayName:"SearchDetails",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"SearchQuery"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"]={docgenInfo:hi.__docgenInfo,name:"SearchDetails",path:"src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"})}catch{}const Dv=window.React.useState;var Xe=(r=>(r[r.HEADER_LIST=0]="HEADER_LIST",r[r.PARENT_CONTAINER=1]="PARENT_CONTAINER",r[r.USER_PROJECTS=2]="USER_PROJECTS",r[r.USER_FAVORITES=3]="USER_FAVORITES",r[r.ENTITY_SEARCH=4]="ENTITY_SEARCH",r[r.PROMPT=5]="PROMPT",r))(Xe||{});const qr=({configuration:r,...e})=>{const[t,n]=Dv(x(_e,{}));return yd(()=>{n((s=>{var a;switch(s.type){case 1:return x(ci,{parentContainerId:s.parentContainerId,...e});case 0:return x(lt,{entities:s.headerList,isLoading:!1,hasNextPage:!1,...e,enableSelectAll:e.enableSelectAll,selectAllIsChecked:Lf((a=s.headerList)!=null?a:[],e.selected,e.selectableTypes)});case 3:return x(fi,{...e});case 4:return x(hi,{searchQuery:s.query,...e});case 2:return x(di,{projectsParams:s.getProjectParams,...e});case 5:return x(lt,{entities:[],isLoading:!1,noResultsPlaceholder:x("div",{children:"Use the left panel to browse Synapse, then make a selection in this panel"}),...e,enableSelectAll:!1});default:return console.warn("The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ",s),x(_e,{})}})(r))},[r,e]),t};try{qr.displayName="EntityDetailsList",qr.__docgenInfo={description:"",displayName:"EntityDetailsList",props:{showVersionSelection:{defaultValue:null,description:"",name:"showVersionSelection",required:!0,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:null,description:"",name:"mustSelectVersionNumber",required:!0,type:{name:"boolean"}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},latestVersionText:{defaultValue:null,description:"",name:"latestVersionText",required:!1,type:{name:"string"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:"EntityDetailsListDataConfiguration"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"]={docgenInfo:qr.__docgenInfo,name:"EntityDetailsList",path:"src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"})}catch{}const Nv=window.React.useEffect,Ds=window.React.useState,pi=({title:r,selectedEntities:e,toggleSelection:t})=>(typeof r=="function"&&(r=r(e.size)),G("div",{className:"EntityFinderSelectionPane alert alert-warning",children:[x(wo,{variant:"headline3",display:"inline",children:r}),e.size<=200?x("div",{className:"EntityFinderSelectionPane__Items",children:Array.from(e.keys()).map(n=>{const i=e.get(n);return x("div",{children:x(Mv,{entity:{targetId:n,targetVersionNumber:i!==ct?i:void 0},toggleSelection:t})},`${n}${i!==ct?`.${i}`:""}`)})}):x(wo,{variant:"smallText1",children:"Too many items to show here"})]})),Mv=({entity:r,toggleSelection:e})=>{const t=`EntityPathDisplayReactTooltip_${r.targetId}`,{data:n}=zt(r.targetId,void 0,r.targetVersionNumber),[i,s]=Ds(""),[a,o]=Ds(""),[l,u]=Ds("");return Nv(()=>{var c;if((c=n==null?void 0:n.path)!=null&&c.path){s(n.path.path[n.path.path.length-1].name);const f=n.path.path.slice(1,n.path.path.length-1);o(f.map(h=>h.name).join("/")),f.length<4?u(a):u(f[0].name+"/\u2026/"+f.slice(f.length-1).map(h=>h.name).join("/"))}},[n,a]),G("div",{className:"EntityFinderSelectionPane__Row",children:[x(vi,{id:t,delayShow:500,place:"top"}),n&&x(pa,{className:"EntityIcon",type:n.entityType}),x("span",{"data-for":t,"data-tip":`${a}/${i}`,children:l?l+"/":""}),i?x("span",{className:"EntityFinderSelectionPane__Row__EntityName",children:i}):x(Ft,{width:500}),r.targetVersionNumber&&G("span",{children:[" (Version ",r.targetVersionNumber,")"]}),x(Ad,{className:"EntityFinderSelectionPane__Row__DeselectButton",onClick:()=>{e(r)}})]})};try{pi.displayName="SelectionPane",pi.__docgenInfo={description:"",displayName:"SelectionPane",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | ((count: number) => string)"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"]={docgenInfo:pi.__docgenInfo,name:"SelectionPane",path:"src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"})}catch{}function Pv(r){return function(e){r.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ns=function(){},Vv=function(e,t){return t===void 0&&(t=null),{child:null,isShown:t?t.public.isOpen&&t.isShown:!0,parent:t,public:e,sibling:null,visited:!1}},Lv=function(e,t){var n=t.getRecordData,i=n(e),s=i.data.id;return s};const Hv=window.React.createRef,$v=window.React.PureComponent;var kv=function(e){var t=e.index,n=e.data,i=n.component,s=n.getRecordData,a=n.treeData,o=e.style,l=e.isScrolling,u=s(t);return x(i,{...Object.assign({isScrolling:l,style:o,treeData:a},u)})},qv=function(e,t,n){var i=e.createRecord,s=t.buildingTaskTimeout,a=t.placeholder,o=t.async,l=o===void 0?!1:o,u=t.treeWalker,c=l&&n.records!==void 0,f=n.records,h=[],y=new Map,m=s?{timeout:s}:void 0,d=new WeakMap,g=u(),w=g.next(),T=w.value,S=i(T.data,n,void 0,c?f.get(T.data.id):void 0);y.set(S.public.data.id,S),d.set(S,T);var v=S,_=!0,b=S,R=a!==void 0&&!(a===null&&!n.order),O=R?function(z){return z.timeRemaining()>0}:function(){return!0},N=function z(P){for(;v!==null;){if(!O(P)){requestIdleCallback(z,m);return}if(v.visited)v.visited=!1,v=v.sibling!==null?v.sibling:v.parent,b=v;else{var q=g.next(d.get(v)),C=q.value;if(C===void 0){_?_=!1:(v.isShown&&h.push(v.public.data.id),v.visited=v.child!==null,v=v.child!==null?v.child:v.sibling!==null?v.sibling:v.parent),b=v;continue}var E=i(C.data,n,_?void 0:v,c?f.get(C.data.id):void 0);y.set(E.public.data.id,E),d.set(E,C),!_&&b===v?b.child=E:b.sibling=E,b=E}}R&&n.setState({order:h,records:y,updateRequest:{}})};return R?requestIdleCallback(N,m):N(),a!==void 0&&l&&n.order?n:{order:h,records:y}},nu=32768,jv=2,Bv=function(e,t){var n=e.order,i=e.records,s=t.opennessState;if(typeof s!="object")return null;for(var a in s)if(!!i.has(a)){var o=s[a],l=i.get(a),u=typeof o=="boolean"?{open:o}:o,c=u.open,f=u.subtreeCallback,h=f===void 0?Ns:f,y=Ns,m=Ns;l.isShown&&(c?function(){for(var g=n.indexOf(a),w=l;w!==null;){if(w.sibling!==null){w=w.sibling;break}w=w.parent}var T=w===null?n.length-1-g:n.indexOf(w.public.data.id)-1-g,S=[[g+1,T]];y=function(_){if(_.isShown=_.parent?_.parent.public.isOpen&&_.parent.isShown:!0,_.isShown){var b=S[S.length-1];b.push(_.public.data.id),b.length===nu+jv&&S.push([g+1+nu*S.length,0])}},m=function(){for(var _=0;_<S.length;_++){var b;(b=n).splice.apply(b,S[_])}}}():l.public.isOpen&&function(){var g=n.indexOf(a),w=0;y=function(S){S.isShown&&(w+=1),S.isShown=S.parent?S.parent.public.isOpen&&S.parent.isShown:!0},m=function(){n.splice(g+1,w)}}());for(var d=l;d!==null;)d.visited?(d.visited=!1,d=d===l?null:d.sibling!==null?d.sibling:d.parent):(d.public.isOpen=d===l?c:d.public.isOpen,h(d.public,l.public),d!==l&&y(d),d.visited=d.child!==null,d=d.child!==null?d.child:d===l?null:d.sibling!==null?d.sibling:d.parent);m()}return{order:n,records:i,updateRequest:{}}},Fv=function(e){return function(t,n,i){return i.refresh?qv(e,t,n):Bv(n,i)}},$f=function(r){Ye(e,r),e.getDerivedStateFromProps=function(i,s){var a=i.listRef,o=a===void 0?null:a,l=i.treeWalker,u=s.computeTree,c=s.list,f=s.order,h=s.treeWalker;return ie({attachRefs:Pv([c,o])},l!==h||!f?u(i,s,{refresh:!0}):null,{treeWalker:l})};function e(n,i){var s;return s=r.call(this,n,i)||this,s.getRecordData=s.getRecordData.bind($(s)),s.state={list:Hv(),recomputeTree:s.recomputeTree.bind($(s)),setState:s.setState.bind($(s))},s}var t=e.prototype;return t.getItemData=function(){var i=this.props,s=i.children,a=i.itemData;return{component:s,getRecordData:this.getRecordData,treeData:a}},t.getRecordData=function(i){var s=this.state,a=s.order,o=s.records;return o.get(a[i]).public},t.recomputeTree=function(i){var s=this;return new Promise(function(a){s.setState(function(o){return o.computeTree(s.props,o,{opennessState:i})},a)})},t.scrollTo=function(i){var s;(s=this.state.list.current)==null||s.scrollTo(i)},t.scrollToItem=function(i,s){var a;(a=this.state.list.current)==null||a.scrollToItem(this.state.order.indexOf(i),s)},e}($v);$f.defaultProps={rowComponent:kv};const Wv=window.React;var Uv=Fv({createRecord:function(e,t,n,i){var s=t.recomputeTree,a=t.resetAfterId,o=Vv({data:e,height:i?i.public.height:e.defaultHeight,isOpen:i?i.public.isOpen:e.isOpenByDefault,resize:function(u,c){o.public.height=u,a(o.public.data.id,c)},setOpen:function(u){var c;return s((c={},c[e.id]=u,c))}},n);return o}}),Kv=function(r){Ye(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.getItemSize=s.getItemSize.bind($(s)),s.state=ie({},s.state,{computeTree:Uv,resetAfterId:s.resetAfterId.bind($(s))}),s}var t=e.prototype;return t.resetAfterId=function(i,s){var a;s===void 0&&(s=!1);var o=this.state,l=o.list,u=o.order;(a=l.current)==null||a.resetAfterIndex(u.indexOf(i),s)},t.recomputeTree=function(i){var s=this;return r.prototype.recomputeTree.call(this,i).then(function(){var a;(a=s.state.list.current)==null||a.resetAfterIndex(0,!0)})},t.render=function(){var i=this.props;i.children;var s=i.placeholder,a=i.itemSize,o=i.rowComponent;i.treeWalker;var l=Ve(i,["children","placeholder","itemSize","rowComponent","treeWalker"]),u=this.state,c=u.attachRefs,f=u.order;return s&&f.length===0?s:Wv.createElement(kp,Object.assign({},l,{itemCount:f.length,itemData:this.getItemData(),itemKey:Lv,itemSize:a!=null?a:this.getItemSize,ref:c}),o)},t.getItemSize=function(i){return this.getRecordData(i).height},e}($f);const Ms=window.React.useCallback,kf=window.React.useEffect,qf=window.React.useState;var ut=(r=>(r[r.SINGLE_PANE=0]="SINGLE_PANE",r[r.DUAL_PANE=1]="DUAL_PANE",r))(ut||{});function yo(r){return"__paginationNode"in r?"pagination":"id"in r?"entityHeader":"rootNodeConfiguration"}function wn(r){return yo(r)==="pagination"}function iu(r){return yo(r)==="entityHeader"}function an(r){return yo(r)==="rootNodeConfiguration"}function Mi(r){return wn(r)?!0:an(r)?r.hasNextPage:r.children==null||r.childrenNextPageToken!=null}function Yv(r){return wn(r)?!0:an(r)?!1:!uu(qe(r))||r.children!=null&&r.children.length===0}const jr=r=>{const{node:e,nestingLevel:t,getNextPageOfChildren:n,setSelectedId:i,treeNodeType:s,selected:a,selectableTypes:o,autoExpand:l,defaultHeight:u,currentContainer:c}=r;if(wn(e))throw new Error("Cannot create data for a pagination node");const f=an(e)?"root":e.id,h=l(f),y=s===0?a.has(f):c===f,m=!an(e)&&!o.includes(qe(e));return h&&e.children==null&&Mi(e)&&n(),{data:{node:e,getNextPageOfChildren:n,id:f,isLeaf:Yv(e),isOpenByDefault:h,nestingLevel:t,setSelectedId:i,treeNodeType:s,isSelected:y,isDisabled:m,defaultHeight:u},nestingLevel:t,node:e}};function mi(r){const{data:{node:e,getNextPageOfChildren:t,isLeaf:n,id:i,nestingLevel:s,setSelectedId:a,treeNodeType:o,isSelected:l,isDisabled:u},isOpen:c,style:f,setOpen:h}=r,[y,m]=qf(!1),d=iu(e)?e.name:an(e)?e.nodeText:x(Ft,{width:100}),{ref:g,inView:w}=fu();if(kf(()=>{wn(e)&&w&&t()},[e,w,t]),"height"in f&&f.height===0)return x(_e,{});async function T(){Mi(e)?(m(!0),await t(),await h(!c),m(!1)):await h(!c)}return G("div",{className:`Node ${o===0?"SelectNode":"BrowseNode"}`,"aria-selected":l,"aria-disabled":u,onClick:async S=>{S.stopPropagation(),u||a(i),o===1&&!c&&!l&&await T()},style:{...f,paddingLeft:`${20+s*20}px`},children:[!n&&x("button",{className:"ExpandButton",type:"button",onClick:async S=>{S.stopPropagation(),await T()},children:y?x(da,{size:10}):c?"\u25BE":"\u25B8"}),o===0&&x("div",{className:"EntityIcon",children:iu(e)&&x(pa,{type:qe(e)})}),x("div",{className:"EntityName",ref:g,children:d}),o===0&&x($r,{entityId:i,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!0})]})}function gi(r,e,t,n,i,s,a,o,l){return function*(){var c;for(yield jr({node:r,nestingLevel:0,getNextPageOfChildren:r.fetchNextPage,setSelectedId:e,treeNodeType:t,selected:n,selectableTypes:i,autoExpand:s,defaultHeight:a(),currentContainer:o});;){const f=yield;if(!wn(f.node)&&(f.node.children||Mi(f.node))){for(let h=0;h<((c=f.node.children)!=null?c:[]).length;h++){const y=f.node.children[h];yield jr({node:y,nestingLevel:f.nestingLevel+1,getNextPageOfChildren:()=>l(y),setSelectedId:e,treeNodeType:t,selected:n,selectableTypes:i,autoExpand:s,defaultHeight:a(),currentContainer:o})}if(f.node.children!=null&&Mi(f.node)){const h={__paginationNode:!0};yield{data:{id:f.data.id+"-pagination",node:h,isOpenByDefault:!1,getNextPageOfChildren:f.data.getNextPageOfChildren,isLeaf:!0,isSelected:!1,defaultHeight:a(),isDisabled:!0,nestingLevel:f.nestingLevel+1,setSelectedId:()=>{},treeNodeType:t},nestingLevel:f.nestingLevel+1,node:{__paginationNode:!0}}}}}}}const yi=r=>{const{rootNodeConfiguration:e,setSelectedId:t,treeNodeType:n,selected:i,currentContainer:s,selectableTypes:a,visibleTypes:o,autoExpand:l}=r,{accessToken:u}=Bt(),[c,f]=qf(e);kf(()=>{f(e)},[e,e.children]);const h=Ms(d=>d===0&&!e.show?0:n===1?28:60,[n,e.show]),y=Ms(async d=>{const g=await ud({parentId:d.id,nextPageToken:d.childrenNextPageToken,includeTypes:o},u);d.children?d.children.push(...g.page):d.children=g.page,d.childrenNextPageToken=g.nextPageToken,f(zd(c))},[c,u,o]),m=Ms(gi(c,t,n,i,a,l,h,s,y),[c,t,n,i,a,l,s,y,h]);return x(Xa,{disableWidth:!0,children:({height:d})=>x(Kv,{treeWalker:m,itemSize:h,height:d,async:!0,width:"100%",children:mi})})};try{mi.displayName="Node",mi.__docgenInfo={description:"Node component for the react-vtree virtualized tree. Exported only for testing purposes",displayName:"Node",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"TreeData"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(state: boolean) => Promise<void>"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},resize:{defaultValue:null,description:"",name:"resize",required:!0,type:{name:"(height: number, shouldForceUpdate?: boolean | undefined) => void"}},treeData:{defaultValue:null,description:"The data provided by user via `itemData` Tree component property.",name:"treeData",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"]={docgenInfo:mi.__docgenInfo,name:"Node",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"})}catch{}try{gi.displayName="getTreeWalkerFunction",gi.__docgenInfo={description:"Extracted from the React component for testing purposes",displayName:"getTreeWalkerFunction",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"]={docgenInfo:gi.__docgenInfo,name:"getTreeWalkerFunction",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"})}catch{}try{ut.SINGLE_PANE.displayName="EntityTreeNodeType.SINGLE_PANE",ut.SINGLE_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection",displayName:"EntityTreeNodeType.SINGLE_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"]={docgenInfo:ut.SINGLE_PANE.__docgenInfo,name:"EntityTreeNodeType.SINGLE_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"})}catch{}try{ut.DUAL_PANE.displayName="EntityTreeNodeType.DUAL_PANE",ut.DUAL_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection",displayName:"EntityTreeNodeType.DUAL_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"]={docgenInfo:ut.DUAL_PANE.__docgenInfo,name:"EntityTreeNodeType.DUAL_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"})}catch{}try{jr.displayName="getNodeData",jr.__docgenInfo={description:`Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.
Exported for testing purposes only.`,displayName:"getNodeData",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},nestingLevel:{defaultValue:null,description:"",name:"nestingLevel",required:!0,type:{name:"number"}},getNextPageOfChildren:{defaultValue:null,description:"",name:"getNextPageOfChildren",required:!0,type:{name:"() => Promise<void>"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},defaultHeight:{defaultValue:null,description:"",name:"defaultHeight",required:!0,type:{name:"number"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"]={docgenInfo:jr.__docgenInfo,name:"getNodeData",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"})}catch{}try{yi.displayName="VirtualizedTree",yi.__docgenInfo={description:`Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window
to only render visible nodes, which eliminates performance issues as seen in SWC-5978.`,displayName:"VirtualizedTree",props:{treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},rootNodeConfiguration:{defaultValue:null,description:"",name:"rootNodeConfiguration",required:!0,type:{name:"RootNodeConfiguration"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"]={docgenInfo:yi.__docgenInfo,name:"VirtualizedTree",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"})}catch{}const Gv=window.React,su=window.React.useCallback,Bn=window.React.useEffect,Xv=window.React.useMemo,Fn=window.React.useState,Jv=(r,e)=>{for(const t of e.path)if(r===t.id)return!0;return!1};var jf=(r=>(r.CURRENT_PROJECT="Current Project",r.ALL_PROJECTS="All Projects",r.CREATED_BY_ME="Projects Created By Me",r.FAVORITES="My Favorites",r))(jf||{});function Qv(r){switch(r){case"My Favorites":return"root";case"Current Project":case"All Projects":case"Projects Created By Me":return null}}function Zv(r){switch(r){case"Current Project":case"All Projects":case"Projects Created By Me":return"Projects";case"My Favorites":return"Favorites"}}function Br(r){const{initialScope:e="Current Project",projectId:t,initialContainer:n=null,currentContainer:i,setCurrentContainer:s,visibleTypes:a=[Et.PROJECT,Et.FOLDER],toggleSelection:o,selectedEntities:l,setDetailsViewConfiguration:u,setBreadcrumbItems:c,showScopeAsRootNode:f=!0,treeNodeType:h,selectableTypes:y}=r,m={type:Xe.PROMPT},{accessToken:d}=Bt(),[g,w]=Fn(!1),[T,S]=Fn([]),[v,_]=Fn(e),[b,R]=Fn(),O=pr();Bn(()=>{u&&u(m)},[]);const N=su(I=>{o&&o({targetId:I}),s(I)},[s,o]),z=v==="All Projects"||v==="Projects Created By Me",{data:P,isSuccess:q,fetchNextPage:C,hasNextPage:E,isLoading:A}=Hf(v==="Projects Created By Me"?{filter:"CREATED",sort:"PROJECT_NAME",sortDirection:"ASC"}:{sort:"PROJECT_NAME",sortDirection:"ASC"},{enabled:z,refetchInterval:1/0}),{data:M,isSuccess:U}=zt(i,void 0,void 0,{enabled:!!i&&i!=="root"});Bn(()=>{z&&q&&P!=null&&P.pages&&S(P.pages.flatMap(I=>I.results))},[z,q,P]),Bn(()=>{switch(w(!0),v){case"All Projects":case"Projects Created By Me":w(A);break;case"My Favorites":{dd(d).then(({results:I})=>{I=I.filter(B=>a.includes(pd(B.type))),S(I),w(!1)});break}case"Current Project":t?n!=null&&n.match(cu)?cd(n,d).then(I=>{I.path.map(B=>B.id).includes(t)||O(new Error(`An initial container (${n}) was provided but is not within or the same as the provided project (${t})`)),R(I),S([I.path[1]]),w(!1)}).catch(I=>O(I)):fd(t,d).then(I=>{S([I]),w(!1)}).catch(I=>O(I)):O(new Error("Cannot open current project because the current project is unknown"));break;default:O(new Error("No scope selected"))}},[d,v,n,O,a,A,t]),Bn(()=>{if(u||c){let I,B=[];if(i===null)I={type:Xe.PROMPT},B=[];else if(i==="root"){switch(v){case"All Projects":I={type:Xe.USER_PROJECTS};break;case"Projects Created By Me":I={type:Xe.USER_PROJECTS,getProjectParams:{filter:"CREATED"}};break;case"Current Project":I={type:Xe.HEADER_LIST,headerList:T};break;case"My Favorites":I={type:Xe.USER_FAVORITES};break}B=[{name:v,isCurrent:!0,action:()=>{s("root")}}]}else I={type:Xe.PARENT_CONTAINER,parentContainerId:i},U&&(B=[{name:v,isCurrent:!1,action:()=>{s("root")}},...M.path.path.slice(1).map(H=>({name:H.name,isCurrent:H.id===i,action:()=>{s(H.id)}}))]);u&&u(I),c&&c(B)}},[v,i,T,u,c,M,U,s]);const L=Xv(()=>({show:f,nodeText:Zv(v),children:T,fetchNextPage:async()=>{await C()},hasNextPage:z&&E&&!A}),[f,v,T,z,E,A,C]),D=su(I=>I==="root"?!0:!!(v==="Current Project"&&b&&Jv(I,b)),[v,b]);return G("div",{className:`TreeView ${h===ut.SINGLE_PANE?"SelectTree":"BrowseTree"}`,children:[G("div",{className:"Header",children:[x("div",{className:"Browse",children:"Browse:"}),x("div",{onClick:I=>I.stopPropagation(),children:G(bn,{children:[x(bn.Toggle,{variant:"gray-primary-500",id:"dropdown-basic",children:v}),x(bn.Menu,{role:"menu",children:Object.values(jf).map(I=>I==="Current Project"&&t==null?x(Gv.Fragment,{},I):x(bn.Item,{role:"menuitem",onClick:B=>{B.stopPropagation(),v!==I&&(_(I),s(Qv(I)))},children:I},I))})]})})]}),g?x("div",{className:"Placeholder",children:x(da,{size:30})}):x("div",{className:"Tree",role:"tree",children:x(yi,{selected:l,visibleTypes:a,autoExpand:D,rootNodeConfiguration:L,treeNodeType:h,selectableTypes:y,currentContainer:i,setSelectedId:N})})]})}try{Br.displayName="EntityTree",Br.__docgenInfo={description:"The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n\nThe tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.",displayName:"EntityTree",props:{initialScope:{defaultValue:null,description:"",name:"initialScope",required:!1,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:"To show the current project, projectId must be defined",name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:null,description:"",name:"initialContainer",required:!0,type:{name:"EntityTreeContainer"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!0,type:{name:"EntityTreeContainer"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!0,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},showDropdown:{defaultValue:null,description:"",name:"showDropdown",required:!0,type:{name:"boolean"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!1,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!1,type:{name:"((entity: Reference) => void)"}},setDetailsViewConfiguration:{defaultValue:null,description:"",name:"setDetailsViewConfiguration",required:!1,type:{name:"((configuration: EntityDetailsListDataConfiguration) => void)"}},setBreadcrumbItems:{defaultValue:null,description:"",name:"setBreadcrumbItems",required:!1,type:{name:"((items: BreadcrumbItem[]) => void)"}},showScopeAsRootNode:{defaultValue:null,description:"Determines whether to show the root node corresponding to the selected scope",name:"showScopeAsRootNode",required:!1,type:{name:"boolean"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selectableTypes:{defaultValue:null,description:"The entity types that may be selected.",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"]={docgenInfo:Br.__docgenInfo,name:"EntityTree",path:"src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"})}catch{}const ew=window.React.useCallback,au=window.React.useEffect,ou=window.React.useMemo,tw=window.React.useReducer,rw=window.React.useRef,Mt=window.React.useState,nw=Object.values(Et),iw=Object.values(Et),sw=[Et.PROJECT,Et.FOLDER],ct=-1,aw=r=>Object.values(Et).filter(n=>!r.includes(n)).map(n=>({key:"node_type",value:n.toString(),not:!0})),_i=({initialScope:r,projectId:e,initialContainer:t=null,selectMultiple:n,onSelectedChange:i,showVersionSelection:s=!0,mustSelectVersionNumber:a=!1,selectableTypes:o=nw,visibleTypesInList:l=iw,visibleTypesInTree:u=sw,selectedCopy:c=n?y=>`Selected (${y})`:"Selected",treeOnly:f=!1,latestVersionText:h})=>{const{accessToken:y}=Bt(),[m,d]=Mt(!1),[g,w]=Mt(),[T,S]=Mt(),[v,_]=Mt({items:[]}),[b,R]=Mt([]),[O,N]=Mt({type:Xe.PROMPT}),z=rw(null),P=ou(()=>[...u,...o],[u,o]),q=ou(()=>[...l,...o],[l,o]),[C,E]=Mt(t),A=pr(),M=ew(H=>{_({items:H})},[_]);function U(H,V){const j=V.get(H.targetId);return j==null?!1:j===ct?H.targetVersionNumber===void 0:j===H.targetVersionNumber}function L(H,V){return H.withMutations(ae=>{Array.isArray(V)||(V=[V]),V.forEach(we=>{var de;U(we,H)?ae.delete(we.targetId):(n||ae.clear(),ae.set(we.targetId,(de=we.targetVersionNumber)!=null?de:ct))})})}const[D,I]=tw(L,Ut());au(()=>{i(D.toArray().map(([H,V])=>({targetId:H,targetVersionNumber:V===ct?void 0:V})))},[D,i]),au(()=>{if((T==null?void 0:T.length)===1){const H=cu.exec(T[0]);H&&hd([{targetId:H[1],targetVersionNumber:H[2]?parseInt(H[2]):void 0}],y).then(V=>{R(V.results)}).catch(V=>A(V))}else R([])},[y,T,A]);const B=m?"MainPanelSearch":f?"MainPanelSinglePane":"MainPanelDualPane";return x(Zf,{children:G("div",{className:"bootstrap-4-backport EntityFinder",children:[x("div",{className:"EntityFinder__Search","data-active":m,children:G(_e,{children:[m?G(bo,{variant:"gray-primary-500",onClick:()=>{d(!1),w(""),S(void 0)},children:[x(td,{arrowDirection:"left",style:{height:"16px"}}),"Back to Browse"]}):G(bo,{variant:"sds-primary",className:"EntityFinder__Search__SearchButton",onClick:()=>{d(!0),z.current.focus()},children:[x(Wn,{options:{icon:"search"}}),o.length===1?`Search for ${Vh(md(o[0]))}`:"Search all of Synapse"]}),x("span",{className:"SearchIcon",children:x(Wn,{options:{icon:"search"}})}),x(Dd,{role:"textbox",ref:z,"aria-hidden":!m,className:"EntityFinder__Search__Input",type:"search",placeholder:"Search by name, Wiki contents, or Synapse ID",value:g,onChange:H=>{w(H.target.value)},onKeyDown:H=>{H.key==="Enter"&&(H.target.value===""?S(void 0):S(H.target.value.trim().split(" ")))}}),g&&x("span",{className:"ClearSearchIcon",onClick:()=>{w(""),S(void 0)},children:x(Wn,{options:{icon:"close",label:"Clear Search"}})})]})}),G("div",{className:`EntityFinder__MainPanel ${B}`,children:[m&&x(qr,{configuration:b&&b.length>0?{type:Xe.HEADER_LIST,headerList:b}:{type:Xe.ENTITY_SEARCH,query:{queryTerm:T,booleanQuery:aw(o)}},showVersionSelection:s,mustSelectVersionNumber:a,selectColumnType:n?"checkbox":"none",selected:D,visibleTypes:o,selectableTypes:o,toggleSelection:I,enableSelectAll:n,latestVersionText:h,setCurrentContainer:void 0}),x("div",{style:m?{display:"none"}:{},children:f?x("div",{children:x(Br,{toggleSelection:I,showDropdown:!0,visibleTypes:P,initialScope:r,selectedEntities:D,projectId:e,initialContainer:t,currentContainer:C,setCurrentContainer:E,showScopeAsRootNode:!1,treeNodeType:ut.SINGLE_PANE,selectableTypes:o})}):x("div",{className:"EntityFinderReflexContainer",children:x(ed.SizeMe,{children:({size:H})=>G(Ba,{orientation:"vertical",windowResizeAware:!0,children:[x(Qo,{className:"TreeViewReflexElement",flex:.24,children:x(Br,{selectedEntities:D,setDetailsViewConfiguration:N,showDropdown:!0,visibleTypes:u,initialScope:r,projectId:e,initialContainer:t,currentContainer:C,setCurrentContainer:E,treeNodeType:ut.DUAL_PANE,setBreadcrumbItems:M,selectableTypes:u})}),x(je,{}),G(Qo,{className:"DetailsViewReflexElement",children:[x(qr,{configuration:O,mustSelectVersionNumber:a,showVersionSelection:s,selected:D,visibleTypes:q,selectableTypes:o,selectColumnType:n?"checkbox":"none",toggleSelection:I,enableSelectAll:n,latestVersionText:h,setCurrentContainer:E}),x(Gn,{...v})]})]},(!!H.width).toString())})})})]}),D.size>0&&x(pi,{title:c,selectedEntities:D,toggleSelection:I})]})})};var tb=_i;try{_i.displayName="EntityFinder",_i.__docgenInfo={description:"",displayName:"EntityFinder",props:{selectMultiple:{defaultValue:null,description:"Whether or not it is possible to select multiple entities",name:"selectMultiple",required:!0,type:{name:"boolean"}},onSelectedChange:{defaultValue:null,description:"Callback invoked when the selection changes",name:"onSelectedChange",required:!0,type:{name:"(selected: Reference[]) => void"}},initialScope:{defaultValue:null,description:'The initial appearance of the entity finder. Possible values include "Current Project", "All Projects", "Projects Created By Me", "My Favorites"',name:"initialScope",required:!0,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:`The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be "Current Project"`,name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:{value:"null"},description:"The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId`",name:"initialContainer",required:!1,type:{name:"string | null"}},showVersionSelection:{defaultValue:{value:"true"},description:"Whether or not versions may be specified when selecting applicable entities",name:"showVersionSelection",required:!1,type:{name:"boolean"}},mustSelectVersionNumber:{defaultValue:{value:"false"},description:"For versionable entities, require the user to select a numbered version of an entity. This disallows selecting 'Always Latest Version'. Note that the latest version may still be mutable. Default true.",name:"mustSelectVersionNumber",required:!1,type:{name:"boolean"}},visibleTypesInList:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInList",required:!1,type:{name:"EntityType[]"}},selectableTypes:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search",name:"selectableTypes",required:!1,type:{name:"EntityType[]"}},visibleTypesInTree:{defaultValue:{value:"[EntityType.PROJECT, EntityType.FOLDER]"},description:"The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInTree",required:!1,type:{name:"EntityType[]"}},selectedCopy:{defaultValue:{value:"selectMultiple ? count => `Selected (${count})` : 'Selected'"},description:"The text to show before the list of selected entities",name:"selectedCopy",required:!1,type:{name:"string | ((count: number) => string)"}},treeOnly:{defaultValue:{value:"false"},description:"Whether to show only the tree. If `true`, the tree will be used to make selections",name:"treeOnly",required:!1,type:{name:"boolean"}},latestVersionText:{defaultValue:null,description:'Text shown for the latest version, if selectable by the user. Defaults to "Always Latest Version"',name:"latestVersionText",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"]={docgenInfo:_i.__docgenInfo,name:"EntityFinder",path:"src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"})}catch{}export{Ac as A,pn as B,ni as C,As as D,tb as E,jf as F,ri as M,Is as P,mo as a,zs as b,Es as c,ti as d,si as e,Os as f};
//# sourceMappingURL=EntityFinder.b930967a.js.map
