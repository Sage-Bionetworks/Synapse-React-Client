import{c as lt}from"./createSvgIcon.53013205.js";import{_ as S}from"./objectWithoutPropertiesLoose.d29fb19f.js";import{u as dt,_ as ft,g as j}from"./utils.ebacc06c.js";import{a as ht}from"./toConsumableArray.5f669646.js";import{w as mt,i as vt,b as pt,_ as yt}from"./withStyles.4f64abe1.js";import{u as gt}from"./useTheme.735ed160.js";import{T as Et}from"./Transition.f54f11c8.js";import{g as Rt,n as W,d as St,p as bt,e as O,f as wt,s as Mt,c as L,a as g}from"./useUserBundle.07091a81.js";import{u as xt}from"./useInfiniteQuery.0325fb44.js";import{R as Tt,T as Ct,W as Ot,X as _t,Y as kt,Z as Dt,_ as Ht}from"./index.a11999ac.js";import"./assert.5e30d765.js";import{i as P,e as b}from"./queryKeys.e0d3085f.js";import{p as It,o as Lt}from"./pick.302a5f3d.js";const Pt=window.React;var te=lt(Pt.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));const d=window.React;var zt=function(n){return{root:{height:0,overflow:"hidden",transition:n.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},X=d.forwardRef(function(n,s){var i=n.children,e=n.classes,t=n.className,u=n.collapsedHeight,l=n.collapsedSize,c=l===void 0?"0px":l,m=n.component,_=m===void 0?"div":m,E=n.disableStrictModeCompat,w=E===void 0?!1:E,Q=n.in,$=n.onEnter,U=n.onEntered,A=n.onEntering,N=n.onExit,Z=n.onExited,q=n.onExiting,k=n.style,F=n.timeout,p=F===void 0?vt.standard:F,J=n.TransitionComponent,tt=J===void 0?Et:J,et=ht(n,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),D=gt(),G=d.useRef(),y=d.useRef(null),H=d.useRef(),T=typeof(u||c)=="number"?"".concat(u||c,"px"):u||c;d.useEffect(function(){return function(){clearTimeout(G.current)}},[]);var C=D.unstable_strictMode&&!w,I=d.useRef(null),nt=dt(s,C?I:void 0),R=function(o){return function(f,h){if(o){var v=C?[I.current,f]:[f,h],M=ft(v,2),V=M[0],B=M[1];B===void 0?o(V):o(V,B)}}},rt=R(function(a,o){a.style.height=T,$&&$(a,o)}),it=R(function(a,o){var f=y.current?y.current.clientHeight:0,h=j({style:k,timeout:p},{mode:"enter"}),v=h.duration;if(p==="auto"){var M=D.transitions.getAutoHeightDuration(f);a.style.transitionDuration="".concat(M,"ms"),H.current=M}else a.style.transitionDuration=typeof v=="string"?v:"".concat(v,"ms");a.style.height="".concat(f,"px"),A&&A(a,o)}),st=R(function(a,o){a.style.height="auto",U&&U(a,o)}),at=R(function(a){var o=y.current?y.current.clientHeight:0;a.style.height="".concat(o,"px"),N&&N(a)}),ot=R(Z),ut=R(function(a){var o=y.current?y.current.clientHeight:0,f=j({style:k,timeout:p},{mode:"exit"}),h=f.duration;if(p==="auto"){var v=D.transitions.getAutoHeightDuration(o);a.style.transitionDuration="".concat(v,"ms"),H.current=v}else a.style.transitionDuration=typeof h=="string"?h:"".concat(h,"ms");a.style.height=T,q&&q(a)}),ct=function(o,f){var h=C?o:f;p==="auto"&&(G.current=setTimeout(h,H.current||0))};return d.createElement(tt,S({in:Q,onEnter:rt,onEntered:st,onEntering:it,onExit:at,onExited:ot,onExiting:ut,addEndListener:ct,nodeRef:C?I:void 0,timeout:p==="auto"?null:p},et),function(a,o){return d.createElement(_,S({className:pt(e.root,e.container,t,{entered:e.entered,exited:!Q&&T==="0px"&&e.hidden}[a]),style:S({minHeight:T},k),ref:nt},o),d.createElement("div",{className:e.wrapper,ref:y},d.createElement("div",{className:e.wrapperInner},i)))})});X.muiSupportAuto=!0;var ee=mt(zt,{name:"MuiCollapse"})(X);const Y=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType","versionNumber","versionLabel","versionComment","isLatestVersion","dataFileHandleId","fileNameOverride","columnIds","scopeIds","linksTo","linksToClassName","repositoryName","isManaged","viewTypeMask","type","alias","items","definingSQL"];var Qt=function(r){yt(n,r);function n(i,e){var t;return t=r.call(this)||this,t.client=i,t.setOptions(e),t.bindMethods(),t.updateResult(),t}var s=n.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},s.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},s.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,S({},this.options,{variables:typeof e!="undefined"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Rt(),t=S({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t},s.notify=function(e){var t=this;W.batch(function(){t.mutateOptions&&(e.onSuccess?(t.mutateOptions.onSuccess==null||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),t.mutateOptions.onSettled==null||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(t.mutateOptions.onError==null||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),t.mutateOptions.onSettled==null||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach(function(u){u(t.currentResult)})})},n}(St);const x=window.React;function z(r,n,s){var i=x.useRef(!1),e=x.useState(0),t=e[1],u=bt(r,n,s),l=O(),c=x.useRef();c.current?c.current.setOptions(u):c.current=new Qt(l,u);var m=c.current.getCurrentResult();x.useEffect(function(){i.current=!0;var E=c.current.subscribe(W.batchCalls(function(){i.current&&t(function(w){return w+1})}));return function(){i.current=!1,E()}},[]);var _=x.useCallback(function(E,w){c.current.mutate(E,w).catch(wt)},[]);if(m.error&&Mt(void 0,c.current.options.useErrorBoundary,[m.error]))throw m.error;return S({},m,{mutate:_,mutateAsync:m.mutate})}const $t=window.React.useEffect,K=window.React.useState;function ne(r,n,s){const{accessToken:i}=g();return L(b.version(r,n),()=>Ot(i,r,n==null?void 0:n.toString()),s)}function re(r){const n=O(),{accessToken:s}=g();return z(i=>Ct(i,s),{...r,onSuccess:async(i,e,t)=>{await P(n,i.id),n.setQueryData(b.entity(i.id),i),r!=null&&r.onSuccess&&await r.onSuccess(i,e,t)}})}function ie(r){const n=O(),{accessToken:s}=g();return z(i=>Dt(s,i),{...r,onSuccess:async(i,e,t)=>{await P(n,e),r!=null&&r.onSuccess&&await r.onSuccess(i,e,t)}})}function se(r,n){const{accessToken:i}=g();return xt(b.versions(r),async e=>await Ht(r,i,e.pageParam,200),{...n,getNextPageParam:(e,t)=>{if(e.results.length>0)return t.length*200}})}function Ut(r){return It(r,Y)}function At(r){return Lt(r,Y)}function ae(r,n){const[s,i]=K(),[e,t]=K(),{accessToken:u}=g(),l=L(b.json(r),()=>_t(r,u),n);return $t(()=>{l.data&&(i(Ut(l.data)),t(At(l.data)))},[l.data]),{...l,entityMetadata:s,annotations:e}}function oe(r){const n=O(),{accessToken:s}=g();return z(i=>{const e=i.id;return Tt(e,i,s)},{...r,onSuccess:async(i,e,t)=>{const u=i.id;await P(n,u),n.setQueryData(b.json(u),i),r!=null&&r.onSuccess&&await r.onSuccess(i,e,t)}})}function ue(r,n){const{accessToken:s}=g();return L(b.path(r),()=>kt(r,s),n)}export{te as C,ee as a,z as b,ie as c,se as d,ae as e,Y as f,oe as g,ue as h,re as i,ne as u};
//# sourceMappingURL=useEntity.11587eee.js.map
