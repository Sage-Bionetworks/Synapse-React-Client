{"version":3,"file":"use-deep-compare-effect.esm.76673280.js","sources":["../../node_modules/dequal/dist/index.mjs","../../node_modules/use-deep-compare-effect/dist/use-deep-compare-effect.esm.js"],"sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import * as React from 'react';\nimport { dequal } from 'dequal';\n\nfunction checkDeps(deps) {\n  if (!deps || !deps.length) {\n    throw new Error('useDeepCompareEffect should not be used with no dependencies. Use React.useEffect instead.');\n  }\n\n  if (deps.every(isPrimitive)) {\n    throw new Error('useDeepCompareEffect should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n  }\n}\n\nfunction isPrimitive(val) {\n  return val == null || /^[sbn]/.test(typeof val);\n}\n/**\n * @param value the value to be memoized (usually a dependency list)\n * @returns a momoized version of the value as long as it remains deeply equal\n */\n\n\nfunction useDeepCompareMemoize(value) {\n  var ref = React.useRef(value);\n  var signalRef = React.useRef(0);\n\n  if (!dequal(value, ref.current)) {\n    ref.current = value;\n    signalRef.current += 1;\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return React.useMemo(function () {\n    return ref.current;\n  }, [signalRef.current]);\n}\n\nfunction useDeepCompareEffect(callback, dependencies) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkDeps(dependencies);\n  } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n  return React.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nfunction useDeepCompareEffectNoCheck(callback, dependencies) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useEffect(callback, useDeepCompareMemoize(dependencies));\n}\n\nexport { useDeepCompareEffect as default, useDeepCompareEffectNoCheck, useDeepCompareMemoize };\n"],"names":[],"mappings":"AAAA,GAAI,GAAM,OAAO,UAAU,eAE3B,WAAc,EAAM,EAAK,EAAK,CAC7B,IAAK,IAAO,GAAK,OAChB,GAAI,EAAO,EAAK,CAAG,EAAG,MAAO,EAE/B,CAEO,WAAgB,EAAK,EAAK,CAChC,GAAI,GAAM,EAAK,EACf,GAAI,IAAQ,EAAK,MAAO,GAExB,GAAI,GAAO,GAAQ,GAAK,EAAI,eAAiB,EAAI,YAAa,CAC7D,GAAI,IAAS,KAAM,MAAO,GAAI,YAAc,EAAI,UAChD,GAAI,IAAS,OAAQ,MAAO,GAAI,aAAe,EAAI,WAEnD,GAAI,IAAS,MAAO,CACnB,GAAK,GAAI,EAAI,UAAY,EAAI,OAC5B,KAAO,KAAS,EAAO,EAAI,GAAM,EAAI,EAAI,GAAE,CAE5C,MAAO,KAAQ,EACf,CAED,GAAI,IAAS,IAAK,CACjB,GAAI,EAAI,OAAS,EAAI,KACpB,MAAO,GAER,IAAK,IAAO,GAMX,GALA,EAAM,EACF,GAAO,MAAO,IAAQ,UACzB,GAAM,EAAK,EAAK,CAAG,EACf,CAAC,IAEF,CAAC,EAAI,IAAI,CAAG,EAAG,MAAO,GAE3B,MAAO,EACP,CAED,GAAI,IAAS,IAAK,CACjB,GAAI,EAAI,OAAS,EAAI,KACpB,MAAO,GAER,IAAK,IAAO,GAMX,GALA,EAAM,EAAI,GACN,GAAO,MAAO,IAAQ,UACzB,GAAM,EAAK,EAAK,CAAG,EACf,CAAC,IAEF,CAAC,EAAO,EAAI,GAAI,EAAI,IAAI,CAAG,CAAC,EAC/B,MAAO,GAGT,MAAO,EACP,CAED,GAAI,IAAS,YACZ,EAAM,GAAI,YAAW,CAAG,EACxB,EAAM,GAAI,YAAW,CAAG,UACd,IAAS,SAAU,CAC7B,GAAK,GAAI,EAAI,cAAgB,EAAI,WAChC,KAAO,KAAS,EAAI,QAAQ,CAAG,IAAM,EAAI,QAAQ,CAAG,GAAE,CAEvD,MAAO,KAAQ,EACf,CAED,GAAI,YAAY,OAAO,CAAG,EAAG,CAC5B,GAAK,GAAI,EAAI,cAAgB,EAAI,WAChC,KAAO,KAAS,EAAI,KAAS,EAAI,IAAK,CAEvC,MAAO,KAAQ,EACf,CAED,GAAI,CAAC,GAAQ,MAAO,IAAQ,SAAU,CACrC,EAAM,EACN,IAAK,IAAQ,GAEZ,GADI,EAAI,KAAK,EAAK,CAAI,GAAK,EAAE,GAAO,CAAC,EAAI,KAAK,EAAK,CAAI,GACnD,CAAE,KAAQ,KAAQ,CAAC,EAAO,EAAI,GAAO,EAAI,EAAK,EAAG,MAAO,GAE7D,MAAO,QAAO,KAAK,CAAG,EAAE,SAAW,CACnC,CACD,CAED,MAAO,KAAQ,GAAO,IAAQ,CAC/B,CCnFA,KAAA,GAAA,OAAA,MAsBA,WAA+B,EAAO,CACpC,GAAI,GAAM,EAAM,OAAO,CAAK,EACxB,EAAY,EAAM,OAAO,CAAC,EAE9B,MAAK,GAAO,EAAO,EAAI,OAAO,GAC5B,GAAI,QAAU,EACd,EAAU,SAAW,GAIhB,EAAM,QAAQ,UAAY,CAC/B,MAAO,GAAI,OACf,EAAK,CAAC,EAAU,OAAO,CAAC,CACxB,CAEA,WAA8B,EAAU,EAAc,CAMpD,MAAO,GAAM,UAAU,EAAU,EAAsB,CAAY,CAAC,CACtE,CAEA,WAAqC,EAAU,EAAc,CAE3D,MAAO,GAAM,UAAU,EAAU,EAAsB,CAAY,CAAC,CACtE"}