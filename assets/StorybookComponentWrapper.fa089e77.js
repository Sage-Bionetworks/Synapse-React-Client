import{r as n,R as d,j as s,a as u}from"./jsx-runtime.254b3176.js";import{Q as m,m as y,n as f,o as C,S as P,p as S,q as h,r as g,s as k,t as x,u as b,v as _,w,x as E,y as T,z as R,A as O,B as v,C as A,D as Q,G as I,H as W,I as M,J as B}from"./index.fd010cb7.js";import{S as D}from"./ToastMessage.32c452c3.js";import{d as K}from"./dayjs.min.f047e958.js";import{S as N}from"./getEndpoint.f1f195f5.js";import{M as j}from"./react-router.cd80fe84.js";var c={exports:{}};c.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function q(){h();let e=await g(),t;try{t=await k(e)}catch(o){throw o instanceof x&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await b(()=>{}),e=void 0),o}let a;return e&&_(e).then(o=>{a=K(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new m(y);function H(e){const t=N[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const L={default:w,sageBionetworks:E,mtb:T,arkPortal:R,adKnowledgePortal:O,nfPortal:v,bsmnPortal:A,psychEncodePortal:Q,stopAdPortal:I,digitalHealthPortal:W,crcResearcherPortal:M,cancerComplexityPortal:B};function i(e){const{storybookContext:t}=e;n.exports.useEffect(()=>{H(t.globals.stack)},[t.globals.stack]);const[a,o]=d.useState(void 0);n.exports.useEffect(()=>{q().then(l=>{o(l.accessToken)})}),n.exports.useEffect(()=>{async function l(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}l()},[a]);const p=n.exports.useMemo(()=>({accessToken:a,isInExperimentalMode:f(),utcTime:C(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]);return s(P,{queryClient:r,synapseContext:p,theme:{...S,palette:L[t.globals.palette]},children:u(j,{children:[s(c.exports.ReactQueryDevtools,{}),s(D,{}),s("main",{children:e.children})]})},a)}try{i.displayName="StorybookComponentWrapper",i.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"]={docgenInfo:i.__docgenInfo,name:"StorybookComponentWrapper",path:"src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"})}catch{}export{i as S,q as s};
