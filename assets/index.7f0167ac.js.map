{"version":3,"file":"index.7f0167ac.js","sources":["../../node_modules/react-bootstrap/esm/FormCheckInput.js","../../node_modules/react-bootstrap/esm/FormCheckLabel.js","../../node_modules/react-bootstrap/esm/FormCheck.js","../../node_modules/react-bootstrap/esm/FormFileInput.js","../../node_modules/react-bootstrap/esm/FormFileLabel.js","../../node_modules/react-bootstrap/esm/FormFile.js","../../node_modules/react-bootstrap/esm/FormGroup.js","../../node_modules/react-bootstrap/esm/FormText.js","../../node_modules/react-bootstrap/esm/Switch.js","../../node_modules/react-bootstrap/esm/Form.js","../../src/lib/utils/SynapseConstants.ts","../../node_modules/spark-md5/spark-md5.js","../../node_modules/cookie/index.js","../../node_modules/universal-cookie/es6/utils.js","../../node_modules/universal-cookie/es6/Cookies.js","../../src/lib/assets/ButtonWithIcon.tsx","../../src/lib/assets/GoogleIcon24.tsx","../../src/lib/containers/Login.tsx","../../src/lib/utils/APIConstants.ts","../../src/lib/utils/functions/ObjectUtils.ts","../../src/lib/utils/synapseTypes/FileHandleAssociation.ts","../../src/lib/utils/synapseTypes/ObjectType.ts","../../src/lib/utils/synapseTypes/UserGroupHeader.ts","../../src/lib/utils/SynapseClient.ts"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"type\", \"isValid\", \"isInvalid\", \"isStatic\", \"as\"];\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormCheckInput = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'checkbox' : _ref$type,\n      _ref$isValid = _ref.isValid,\n      isValid = _ref$isValid === void 0 ? false : _ref$isValid,\n      _ref$isInvalid = _ref.isInvalid,\n      isInvalid = _ref$isInvalid === void 0 ? false : _ref$isInvalid,\n      isStatic = _ref.isStatic,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-input'] : [bsPrefix, 'form-check-input'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    type: type,\n    id: id || controlId,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid', isStatic && 'position-static')\n  }));\n});\nFormCheckInput.displayName = 'FormCheckInput';\nexport default FormCheckInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"];\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormCheckLabel = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-label'] : [bsPrefix, 'form-check-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix)\n  }));\n});\nFormCheckLabel.displayName = 'FormCheckLabel';\nexport default FormCheckLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"inline\", \"disabled\", \"isValid\", \"isInvalid\", \"feedbackTooltip\", \"feedback\", \"className\", \"style\", \"title\", \"type\", \"label\", \"children\", \"custom\", \"as\"];\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext, useMemo } from 'react';\nimport Feedback from './Feedback';\nimport FormCheckInput from './FormCheckInput';\nimport FormCheckLabel from './FormCheckLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormCheck = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      _ref$inline = _ref.inline,\n      inline = _ref$inline === void 0 ? false : _ref$inline,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$isValid = _ref.isValid,\n      isValid = _ref$isValid === void 0 ? false : _ref$isValid,\n      _ref$isInvalid = _ref.isInvalid,\n      isInvalid = _ref$isInvalid === void 0 ? false : _ref$isInvalid,\n      _ref$feedbackTooltip = _ref.feedbackTooltip,\n      feedbackTooltip = _ref$feedbackTooltip === void 0 ? false : _ref$feedbackTooltip,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '' : _ref$title,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'checkbox' : _ref$type,\n      label = _ref.label,\n      children = _ref.children,\n      propCustom = _ref.custom,\n      _ref$as = _ref.as,\n      as = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var custom = type === 'switch' ? true : propCustom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control'] : [bsPrefix, 'form-check'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = custom || label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormCheckInput, _extends({}, props, {\n    type: type === 'switch' ? 'checkbox' : type,\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    isStatic: !hasLabel,\n    disabled: disabled,\n    as: as\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type, inline && bsPrefix + \"-inline\")\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormCheckLabel, {\n    title: title\n  }, label), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid',\n    tooltip: feedbackTooltip\n  }, feedback))));\n});\nFormCheck.displayName = 'FormCheck';\nFormCheck.Input = FormCheckInput;\nFormCheck.Label = FormCheckLabel;\nexport default FormCheck;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"isValid\", \"isInvalid\", \"lang\", \"as\"];\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileInput = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      lang = _ref.lang,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var type = 'file';\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-input'] : [bsPrefix, 'form-control-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    id: id || controlId,\n    type: type,\n    lang: lang,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid')\n  }));\n});\nFormFileInput.displayName = 'FormFileInput';\nexport default FormFileInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"];\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileLabel = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-label'] : [bsPrefix, 'form-file-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix),\n    \"data-browse\": props['data-browse']\n  }));\n});\nFormFileLabel.displayName = 'FormFileLabel';\nexport default FormFileLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"disabled\", \"isValid\", \"isInvalid\", \"feedbackTooltip\", \"feedback\", \"className\", \"style\", \"label\", \"children\", \"custom\", \"lang\", \"data-browse\", \"as\", \"inputAs\"];\nimport classNames from 'classnames';\nimport React, { useContext, useMemo } from 'react';\nimport all from 'prop-types-extra/lib/all';\nimport Feedback from './Feedback';\nimport FormFileInput from './FormFileInput';\nimport FormFileLabel from './FormFileLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFile = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$isValid = _ref.isValid,\n      isValid = _ref$isValid === void 0 ? false : _ref$isValid,\n      _ref$isInvalid = _ref.isInvalid,\n      isInvalid = _ref$isInvalid === void 0 ? false : _ref$isInvalid,\n      _ref$feedbackTooltip = _ref.feedbackTooltip,\n      feedbackTooltip = _ref$feedbackTooltip === void 0 ? false : _ref$feedbackTooltip,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      label = _ref.label,\n      children = _ref.children,\n      custom = _ref.custom,\n      lang = _ref.lang,\n      dataBrowse = _ref['data-browse'],\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      _ref$inputAs = _ref.inputAs,\n      inputAs = _ref$inputAs === void 0 ? 'input' : _ref$inputAs,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var type = 'file';\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormFileInput, _extends({}, props, {\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    disabled: disabled,\n    as: inputAs,\n    lang: lang\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(Component, {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type)\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, custom ? /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, {\n    \"data-browse\": dataBrowse\n  }, label)) : /*#__PURE__*/React.createElement(React.Fragment, null, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, null, label), input), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid',\n    tooltip: feedbackTooltip\n  }, feedback))));\n});\nFormFile.displayName = 'FormFile';\nFormFile.Input = FormFileInput;\nFormFile.Label = FormFileLabel;\nexport default FormFile;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"children\", \"controlId\", \"as\"];\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormGroup = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      controlId = _ref.controlId,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-group');\n  var context = useMemo(function () {\n    return {\n      controlId: controlId\n    };\n  }, [controlId]);\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix)\n  }), children));\n});\nFormGroup.displayName = 'FormGroup';\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"as\", \"muted\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormText = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'small' : _ref$as,\n      muted = _ref.muted,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-text');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix, muted && 'text-muted')\n  }));\n});\nFormText.displayName = 'FormText';\nexport default FormText;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport FormCheck from './FormCheck';\nvar Switch = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(FormCheck, _extends({}, props, {\n    ref: ref,\n    type: \"switch\"\n  }));\n});\nSwitch.displayName = 'Switch';\nSwitch.Input = FormCheck.Input;\nSwitch.Label = FormCheck.Label;\nexport default Switch;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"inline\", \"className\", \"validated\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport FormCheck from './FormCheck';\nimport FormFile from './FormFile';\nimport FormControl from './FormControl';\nimport FormGroup from './FormGroup';\nimport FormLabel from './FormLabel';\nimport FormText from './FormText';\nimport Switch from './Switch';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nvar FormRow = createWithBsPrefix('form-row');\nvar defaultProps = {\n  inline: false\n};\nvar FormImpl = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      inline = _ref.inline,\n      className = _ref.className,\n      validated = _ref.validated,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'form' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, validated && 'was-validated', inline && bsPrefix + \"-inline\")\n  }));\n});\nFormImpl.displayName = 'Form';\nFormImpl.defaultProps = defaultProps;\nFormImpl.Row = FormRow;\nFormImpl.Group = FormGroup;\nFormImpl.Control = FormControl;\nFormImpl.Check = FormCheck;\nFormImpl.File = FormFile;\nFormImpl.Switch = Switch;\nFormImpl.Label = FormLabel;\nFormImpl.Text = FormText;\nexport default FormImpl;","import { UserCardSize } from '../containers/UserCard'\n\n/** Bootstrapped principals */\n/** The group representing all users logged-in to Synapse */\nexport const AUTHENTICATED_PRINCIPAL_ID = 273948\n/** The group representing all logged-in Synapse users AND anonymous */\nexport const PUBLIC_PRINCIPAL_ID = 273949\n/** The single user representing all unauthenticated users */\nexport const ANONYMOUS_PRINCIPAL_ID = 273950\n/** The Synapse Access and Compliance team */\nexport const ACT_TEAM_ID = 464532\n\n/** QueryBundleRequest constants */\nexport const BUNDLE_MASK_QUERY_RESULTS: number = 1\nexport const BUNDLE_MASK_QUERY_COUNT: number = 2\nexport const BUNDLE_MASK_QUERY_SELECT_COLUMNS: number = 4\nexport const BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE: number = 8\nexport const BUNDLE_MASK_QUERY_COLUMN_MODELS: number = 16\nexport const BUNDLE_MASK_QUERY_FACETS: number = 32\nexport const BUNDLE_MASK_SUM_FILES_SIZE_BYTES: number = 64\nexport const BUNDLE_MASK_LAST_UPDATED_ON = 0x80\n\n/** EntityBundle constants */\nexport const ENTITY_BUNDLE_MASK_ENTITY: number = 1\nexport const ENTITY_BUNDLE_MASK_ANNOTATIONS: number = 2\nexport const ENTITY_BUNDLE_MASK_PERMISSIONS: number = 4\nexport const ENTITY_BUNDLE_MASK_ENTITY_PATH: number = 8\nexport const ENTITY_BUNDLE_MASK_HAS_CHILDREN: number = 32\nexport const ENTITY_BUNDLE_MASK_ACL: number = 64\nexport const ENTITY_BUNDLE_MASK_FILE_HANDLES: number = 2048\nexport const ENTITY_BUNDLE_MASK_TABLE_DATA: number = 4096\nexport const ENTITY_BUNDLE_MASK_ROOT_WIKI_ID: number = 8192\nexport const ENTITY_BUNDLE_MASK_BENEFACTOR_ACL: number = 16384\nexport const ENTITY_BUNDLE_MASK_DOI: number = 32768\nexport const ENTITY_BUNDLE_MASK_FILE_NAME: number = 65536\nexport const ENTITY_BUNDLE_MASK_THREAD_COUNT: number = 131072\nexport const ENTITY_BUNDLE_MASK_RESTRICTION_INFORMATION: number = 262144\n/** Row Types  */\nexport const STUDY: string = 'study'\n/** Unannotated value for query */\nexport const VALUE_NOT_SET = 'org.sagebionetworks.UNDEFINED_NULL_NOTSET'\nexport const FRIENDLY_VALUE_NOT_SET = 'Not Assigned'\n// for study icons\nexport const STUDY_ACTIVE: string = 'study active'\nexport const STUDY_COMPLETE: string = 'study complete'\nexport const DATABASE: string = 'database'\nexport const DATASET: string = 'dataset'\nexport const AMP_CONSORTIUM: string = 'AMP_Consortium'\nexport const FUNDER: string = 'funder'\nexport const PUBLICATION: string = 'publication'\nexport const TOOL: string = 'tool'\nexport const GENERIC_CARD: string = 'GENERIC_CARD'\nexport const OBSERVATION_CARD: string = 'observation_card'\nexport const COMPUTATIONAL: string = 'computational'\nexport const COMPUTATIONAL_TOOL: string = 'computational tool'\nexport const EXPERIMENTAL: string = 'experimental'\nexport const EXPERIMENTAL_TOOL: string = 'experimental tool'\nexport const CLINICAL: string = 'clinical'\nexport const PROJECT: string = 'Project'\nexport const GRANT: string = 'Grant'\nexport const ORGANIZATION: string = 'ORGANIZATION'\nexport const PERSON: string = 'PERSON'\nexport const MOUSE: string = 'MOUSE'\nexport const EXPLORE: string = 'explore'\nexport const SEARCH: string = 'search'\nexport const CHART: string = 'chart'\nexport const FILTER: string = 'filter'\nexport const SQL_EDITOR: string = 'sqleditor'\nexport const DOWNLOAD: string = 'download'\nexport const EXPAND: string = 'expand'\nexport const COLLAPSE: string = 'collapse'\nexport const CLOSE: string = 'close'\nexport const SORTUP: string = 'sortup'\nexport const SORTDOWN: string = 'sortdown'\nexport const SETTINGS: string = 'settings'\nexport const COLUMNS: string = 'columns'\nexport const COLUMNSDARK: string = 'columnsdark'\nexport const VERTICAL_DOTS: string = 'verticaldots'\nexport const FILE: string = 'file'\nexport const CHART2: string = 'chart2'\nexport const EXTERNALLINK: string = 'externallink'\nexport const EASY_DIFFICULTY: string = 'easy-difficulty'\nexport const MEDIUM_DIFFICULTY: string = 'medium-difficulty'\nexport const VARIABLE_DIFFICULTY: string = 'variable-difficulty'\nexport const DOWNLOAD_PERMISSION_REQUIRED: string =\n  'download-permission-required'\n\nexport const DEFAULT_PAGE_SIZE: number = 25\n// For User Profile Cards\nexport const AVATAR: UserCardSize = 'AVATAR'\nexport const SMALL_USER_CARD: UserCardSize = 'SMALL USER CARD'\nexport const MEDIUM_USER_CARD: UserCardSize = 'MEDIUM USER CARD'\nexport const LARGE_USER_CARD: UserCardSize = 'LARGE USER CARD'\nexport const SEPERATOR = 'SEPERATOR'\nexport const AUTHENTICATED_USERS = 'AUTHENTICATED_USERS'\n\n// For internal testing only\nexport const _TIME_DELAY = 75\nexport const SRC_SIGN_IN_CLASS = 'SRC-SIGN-IN-CLASS'\nexport const EXPERIMENTAL_MODE_COOKIE = 'SynapseTestWebsite'\nexport const STYLEGUIDE_STACK_LOCAL_STORAGE_KEY =\n  'SynapseReactClientStyleGuideStack'\n\n// UserBundle constants\nexport const USER_BUNDLE_MASK_USER_PROFILE = 0x1\nexport const USER_BUNDLE_MASK_ORCID = 0x2\nexport const USER_BUNDLE_MASK_VERIFICATION_SUBMISSION = 0x4\nexport const USER_BUNDLE_MASK_IS_CERTIFIED = 0x8\nexport const USER_BUNDLE_MASK_IS_VERIFIED = 0x10\nexport const USER_BUNDLE_MASK_IS_ACT_MEMBER = 0x20\nexport const USER_BUNDLE_MASK_IS_AR_REVIEWER = 0x40\n// SessionStorage keys for info from ids\nexport const USER_PROFILE_STORAGE_KEY = 'INFO_FROM_IDS_USER_PROFILE'\nexport const ENTITY_HEADER_STORAGE_KEY = 'INFO_FROM_IDS_ENTITY_HEADER'\n\nexport const DATETIME_UTC_COOKIE_KEY =\n  'org.sagebionetworks.synapse.datetime.utc'\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = __assign(__assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\r\n        this.cookies = __assign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","import * as React from 'react'\nimport { Button, ButtonProps } from 'react-bootstrap'\n\ntype ButtonWithIconProps = {\n  children: React.ReactNode // typically just a string, but we won't restrict it\n  icon: React.ReactNode // ideally an SVG\n}\n\n/**\n * A button with center-aligned content (typically text) that displays a left-aligned icon.\n * @param param0\n */\nconst ButtonWithIcon: React.FunctionComponent<\n  ButtonWithIconProps & ButtonProps\n> = ({ children, icon, ...rest }: { children: any; icon?: any }) => {\n  return (\n    <Button className=\"ButtonWithIcon\" {...rest}>\n      {\n        <>\n          <div className=\"ButtonWithIcon__Icon\">{icon}</div>\n          {children}\n        </>\n      }\n    </Button>\n  )\n}\n\nexport default ButtonWithIcon\n","import * as React from 'react'\nimport SvgIcon, { SvgIconProps } from '@material-ui/core/SvgIcon'\n\nexport const GoogleIcon24 = (props: SvgIconProps) => {\n  return (\n    <SvgIcon {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M19.68 12.1818C19.68 11.6146 19.6291 11.0691 19.5345 10.5455H12V13.64H16.3055C16.12 14.64 15.5564 15.4873 14.7091 16.0546V18.0618H17.2945C18.8073 16.6691 19.68 14.6182 19.68 12.1818Z\"\n        fill=\"#4285F4\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12 20C14.16 20 15.9709 19.2836 17.2946 18.0618L14.7091 16.0545C13.9927 16.5345 13.0764 16.8182 12 16.8182C9.91637 16.8182 8.15273 15.4109 7.52364 13.52H4.85091V15.5927C6.16728 18.2073 8.87273 20 12 20Z\"\n        fill=\"#34A853\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M7.52364 13.52C7.36364 13.04 7.27273 12.5273 7.27273 12C7.27273 11.4727 7.36364 10.96 7.52364 10.48V8.40729H4.85091C4.30909 9.48729 4 10.7091 4 12C4 13.2909 4.30909 14.5127 4.85091 15.5927L7.52364 13.52Z\"\n        fill=\"#FBBC05\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12 7.18182C13.1746 7.18182 14.2291 7.58545 15.0582 8.37818L17.3527 6.08364C15.9673 4.79273 14.1564 4 12 4C8.87273 4 6.16728 5.79273 4.85091 8.40727L7.52364 10.48C8.15273 8.58909 9.91637 7.18182 12 7.18182Z\"\n        fill=\"#EA4335\"\n      />\n    </SvgIcon>\n  )\n}\n","import * as React from 'react'\nimport { Button, Form } from 'react-bootstrap'\nimport ButtonWithIcon from '../assets/ButtonWithIcon'\nimport { SynapseClient } from '../utils'\nimport {\n  getEndpoint,\n  BackendDestinationEnum,\n} from '../utils/functions/getEndpoint'\nimport { GoogleIcon24 } from '../assets/GoogleIcon24'\n\nexport const PROVIDERS = {\n  GOOGLE: 'GOOGLE_OAUTH_2_0',\n  ORCID: 'ORCID',\n}\n\ntype State = {\n  username: string\n  password: string\n  email: string\n  isSignedIn: boolean\n  hasLoginInFailed: boolean\n  errorMessage: string\n}\n\ntype Props = {\n  ssoRedirectUrl?: string\n  redirectUrl?: string // will redirect here after a successful login. if unset, reload the current page url.\n  sessionCallback: () => void // Callback is invoked after login\n  registerAccountUrl?: string\n  resetPasswordUrl?: string\n}\n\n/**\n *  Demo of user session, show login screen and handling user login submission.\n *\n *  To support Google SSO in your portal, you must add your domain to the Authorized Redirect URIs\n *  for Synapse authentication.\n *  This can be done by visiting https://sagebionetworks.jira.com/servicedesk/customer/portal/9 to set up a collaboration.\n *  Synapse engineers must add your redirect URL in the Google API console found at https://console.cloud.google.com/ for this functionality to work.\n *\n * @class Login\n * @extends {React.Component}\n */\nclass Login extends React.Component<Props, State> {\n  authenticationReceiptKey = 'last_user_authentication_receipt'\n\n  /**\n   * Creates a user session, maintaining credentials\n   * @param {*} props\n   * @memberof Login\n   */\n  constructor(props: Props) {\n    super(props)\n    this.state = {\n      email: '',\n      errorMessage: '',\n      hasLoginInFailed: false,\n      isSignedIn: false,\n      password: '',\n      username: '',\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleLogin = this.handleLogin.bind(this)\n    this.getLoginFailureView = this.getLoginFailureView.bind(this)\n    this.onGoogleSignIn = this.onGoogleSignIn.bind(this)\n  }\n  /**\n   * Updates internal state with the event that was triggered\n   *\n   * @param {*} event Form update\n   */\n  public handleChange(event: React.ChangeEvent<HTMLInputElement>): void {\n    const target = event.currentTarget\n    const name = target.name\n    const value = target.value\n    const newState: Pick<any, any> = { [name]: value }\n    this.setState(newState)\n  }\n  /**\n   * Handle user login on click\n   *\n   * @param {*} clickEvent Userclick event\n   */\n  public async handleLogin(clickEvent: React.FormEvent<HTMLElement>) {\n    clickEvent.preventDefault() // avoid page refresh\n    try {\n      // get last valid receipt\n      const authenticationReceipt = localStorage.getItem(\n        this.authenticationReceiptKey,\n      )\n      const data = await SynapseClient.login(\n        this.state.username,\n        this.state.password,\n        authenticationReceipt,\n      )\n      // now get access token from cookie has to be called in the portals repo\n      await SynapseClient.setAccessTokenCookie(\n        data.accessToken,\n        this.props.sessionCallback,\n      )\n      // Set the new receipt\n      localStorage.setItem(\n        this.authenticationReceiptKey,\n        data.authenticationReceipt,\n      )\n    } catch (err) {\n      console.log('Error on login: ', err.reason)\n      this.setState({\n        errorMessage: err.reason,\n        hasLoginInFailed: true,\n        isSignedIn: false,\n      })\n    }\n  }\n\n  /**\n   * Shows user login failure view on login failure\n   *\n   * @returns view to be displayed on user sign in error.\n   */\n  public getLoginFailureView(): JSX.Element | boolean {\n    if (this.state.hasLoginInFailed) {\n      return (\n        <div>\n          <small className=\"form-text text-danger\">\n            {this.state.errorMessage}\n          </small>\n          <div className=\"invalid-feedback\" />\n        </div>\n      )\n    }\n    return false\n  }\n\n  public onGoogleSignIn(event: React.MouseEvent<HTMLButtonElement>) {\n    // save current route (so that we can go back here after SSO)\n    localStorage.setItem('after-sso-login-url', window.location.href)\n    event.preventDefault()\n    const redirectUrl = this.props.ssoRedirectUrl\n      ? `${this.props.ssoRedirectUrl}${PROVIDERS.GOOGLE}`\n      : `${SynapseClient.getRootURL()}?provider=${PROVIDERS.GOOGLE}`\n    SynapseClient.oAuthUrlRequest(PROVIDERS.GOOGLE, redirectUrl)\n      .then((data: any) => {\n        const authUrl = data.authorizationUrl\n        window.location = authUrl // ping the url\n      })\n      .catch((err: any) => {\n        console.log('Error on oAuth url ', err)\n      })\n  }\n  public render() {\n    const registerAccountUrl =\n      this.props.registerAccountUrl ??\n      `${getEndpoint(\n        BackendDestinationEnum.PORTAL_ENDPOINT,\n      )}#!RegisterAccount:0`\n    const resetPasswordUrl =\n      this.props.resetPasswordUrl ??\n      `${getEndpoint(BackendDestinationEnum.PORTAL_ENDPOINT)}#!PasswordReset:0`\n    return (\n      <div\n        id=\"loginPage\"\n        className=\"container LoginComponent SRC-syn-border-spacing bootstrap-4-backport\"\n      >\n        <form>\n          <ButtonWithIcon\n            variant=\"white\"\n            onClick={this.onGoogleSignIn}\n            className={`SRC-google-button`}\n            icon={<GoogleIcon24 />}\n          >\n            Sign in with Google\n          </ButtonWithIcon>\n        </form>\n        <div className=\"SRC-center-text SRC-deemphasized-text SRC-marginBottomTen bg-strike\">\n          or\n        </div>\n        <Form onSubmit={this.handleLogin}>\n          <label htmlFor={'username'}>Username or Email Address</label>\n          <Form.Control\n            required\n            autoComplete=\"username\"\n            placeholder=\"Username or Email Address\"\n            className=\"LoginComponent__Input\"\n            id=\"username\"\n            name=\"username\"\n            type=\"text\"\n            value={this.state.username}\n            onChange={this.handleChange}\n          />\n          <label htmlFor={'current-password'}>Password</label>\n          <Form.Control\n            required\n            autoComplete=\"current-password\"\n            placeholder=\"Password\"\n            className=\"LoginComponent__Input\"\n            id=\"current-password\"\n            name=\"password\"\n            type=\"password\"\n            value={this.state.password}\n            onChange={this.handleChange}\n          />\n          {this.getLoginFailureView()}\n          <a href={resetPasswordUrl}>Forgot password?</a>\n          <Button\n            variant=\"primary-500\"\n            onClick={this.handleLogin}\n            type=\"submit\"\n            className=\"SRC-login-button SRC-marginBottomTen\"\n          >\n            Log in\n          </Button>\n        </Form>\n        <div className={'SRC-center-text'}>\n          <a href={registerAccountUrl}>\n            Don&apos;t have an account? Register now\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\nexport default Login\n","/**\n * Separating API endpoints into their own constants file\n */\n\nimport { getEndpoint, BackendDestinationEnum } from './functions/getEndpoint'\n\nexport const BACKEND_ENDPOINT = `${getEndpoint(\n  BackendDestinationEnum.REPO_ENDPOINT,\n)}`\n\nexport const REPO = `/repo/v1`\nexport const AUTH = `/auth/v1`\nexport const FILE = `/file/v1`\n\nconst ASYNC_START = '/async/start'\nconst ASYNC_GET = '/async/get'\n\nexport const ENTITY = `${REPO}/entity`\nexport const ENTITY_ID = (id: string | number) => `${REPO}/entity/${id}`\n/**\n * Some services allow (but do not require) you to specify the version in the path.\n */\nexport const ENTITY_ID_VERSION = (\n  id: string | number,\n  version?: string | number,\n) => `${REPO}/entity/${id}${version ? `/version/${version}` : ''}`\nexport const ENTITY_ID_VERSIONS = (id: string | number) =>\n  `${REPO}/entity/${id}/version`\nexport const ENTITY_BUNDLE_V2 = (\n  id: string | number,\n  version?: string | number,\n) => `${ENTITY_ID_VERSION(id, version)}/bundle2`\nexport const ENTITY_ACCESS = (id: string | number) =>\n  `${REPO}/entity/${id}/access`\n\nexport const ENTITY_HEADERS = `${REPO}/entity/header`\n\nexport const ENTITY_JSON = (id: string | number) => `${REPO}/entity/${id}/json`\n\nexport const ENTITY_SCHEMA = (id: string | number) =>\n  `${REPO}/entity/${id}/schema`\nexport const ENTITY_SCHEMA_BINDING = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/binding`\nexport const ENTITY_SCHEMA_VALIDATION = (id: string | number) =>\n  `${ENTITY_SCHEMA(id)}/validation`\n\nexport const TABLE_QUERY_ASYNC_START = (id: string | number) =>\n  `${ENTITY_ID(id)}/table/query/async/start`\n\nexport const TABLE_QUERY_ASYNC_GET = (\n  entityId: string | number,\n  asyncJobToken: string,\n) => `${ENTITY_ID(entityId)}/table/query/async/get/${asyncJobToken}`\n\nexport const ASYNCHRONOUS_JOB_TOKEN = (asyncJobToken: string) =>\n  `${REPO}/asynchronous/job/${asyncJobToken}`\n\nexport const USER_PROFILE_ENDPOINT = `${REPO}/userProfile`\n\nexport const SCHEMA = `${REPO}/schema`\nexport const REGISTERED_SCHEMA = `${REPO}/schema/type/registered`\nexport const REGISTERED_SCHEMA_ID = (schema$id: string | number) =>\n  `${REPO}/schema/type/registered/${schema$id}`\nexport const SCHEMA_VALIDATION_START = `${SCHEMA}/type/validation${ASYNC_START}`\nexport const SCHEMA_VALIDATION_GET = (asyncJobId: string | number) =>\n  `${SCHEMA}/type/validation${ASYNC_GET}/${asyncJobId}`\n\nexport const USER = `${REPO}/user`\nexport const USER_BUNDLE = `${USER}/bundle`\nexport const USER_ID = (id: string | number) => `${USER}/${id}`\nexport const USER_ID_BUNDLE = (id: string | number) => `${USER_ID(id)}/bundle`\n\nexport const USER_PROFILE = `${REPO}/userProfile`\nexport const USER_PROFILE_ID = (id: string | number) => `${USER_PROFILE}/${id}`\n\nexport const NOTIFICATION_EMAIL = `${REPO}/notificationEmail`\nexport const ALIAS_AVAILABLE = `${REPO}/principal/available`\nexport const REGISTER_ACCOUNT_STEP_1 = (portalEndpoint: string) =>\n  `${REPO}/account/emailValidation?portalEndpoint=${portalEndpoint}`\nexport const REGISTER_ACCOUNT_STEP_2 = `${REPO}/account2`\nexport const SIGN_TERMS_OF_USE = `${AUTH}/termsOfUse2`\nexport const VERIFICATION_SUBMISSION = `${REPO}/verificationSubmission`\n\nexport const ACCESS_REQUIREMENT_SEARCH = `${REPO}/accessRequirement/search`\nexport const ACCESS_REQUEST_SUBMISSION_SEARCH = `${REPO}/dataAccessSubmission/search`\n\nexport const ACCESS_REQUIREMENT_BY_ID = (id: string | number) =>\n  `${REPO}/accessRequirement/${id}`\n\nexport const ACCESS_REQUIREMENT_ACL = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/acl'\n\nexport const ACCESS_REQUIREMENT_STATUS = (id: string | number) =>\n  ACCESS_REQUIREMENT_BY_ID(id) + '/status'\n\nexport const ACCESS_REQUIREMENT_WIKI_PAGE_KEY = (id: string | number) =>\n  // Note that this is `access_requirement` not `accessRequirement`!\n  `${REPO}/access_requirement/${id}/wikikey`\n\nexport const FAVORITES = `${REPO}/favorite`\n\nexport const USER_GROUP_HEADERS = `${REPO}/userGroupHeaders`\nexport const USER_GROUP_HEADERS_BATCH = `${REPO}/userGroupHeaders/batch`\n\nexport const DATA_ACCESS_SUBMISSION_BY_ID = (id: string | number) =>\n  `${REPO}/dataAccessSubmission/${id}`\n\nexport const PROFILE_IMAGE_PREVIEW = (userId: string) =>\n  `${REPO}/userProfile/${userId}/image/preview`\n","/**\n * Removes fields with value 'undefined' from an object (not recursive).\n *\n * Use the `inPlace` parameter to modify the object (using `delete`), rather than creating a new object.\n *\n * See https://stackoverflow.com/questions/25421233\n */\nexport function removeUndefined(obj: Record<string, unknown>, inPlace = false) {\n  if (inPlace) {\n    Object.keys(obj).forEach(key =>\n      obj[key] === undefined ? delete obj[key] : {},\n    )\n    return obj\n  } else {\n    return Object.keys(obj).reduce((acc, key) => {\n      const _acc = acc\n      if (obj[key] !== undefined) _acc[key] = obj[key]\n      return _acc\n    }, {})\n  }\n}\n","// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/FileHandleAssociateType.html\nexport enum FileHandleAssociateType {\n  FileEntity = 'FileEntity',\n  TableEntity = 'TableEntity',\n  WikiAttachment = 'WikiAttachment',\n  WikiMarkdown = 'WikiMarkdown',\n  UserProfileAttachment = 'UserProfileAttachment',\n  MessageAttachment = 'MessageAttachment',\n  TeamAttachment = 'TeamAttachment',\n  SubmissionAttachment = 'SubmissionAttachment',\n  VerificationSubmission = 'VerificationSubmission',\n  AccessRequirementAttachment = 'AccessRequirementAttachment',\n  DataAccessRequestAttachment = 'DataAccessRequestAttachment',\n  DataAccessSubmissionAttachment = 'DataAccessSubmissionAttachment',\n}\n\nexport type FileHandleAssociation = {\n  fileHandleId: string //\tThe ID of the FileHandle.\n  associateObjectId: string //\tThe ID of the object associated with the file\n  associateObjectType: FileHandleAssociateType //\tEnumeration of all possible objects types that can be associated with a file.\n}\n","// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/ObjectType.html\n\nexport enum ObjectType {\n  ENTITY = 'ENTITY',\n  ENTITY_CONTAINER = 'ENTITY_CONTAINER',\n  PRINCIPAL = 'PRINCIPAL',\n  ACTIVITY = 'ACTIVITY',\n  EVALUATION = 'EVALUATION',\n  SUBMISSION = 'SUBMISSION',\n  EVALUATION_SUBMISSIONS = 'EVALUATION_SUBMISSIONS',\n  FILE = 'FILE',\n  MESSAGE = 'MESSAGE',\n  WIKI = 'WIKI',\n  FAVORITE = 'FAVORITE',\n  ACCESS_REQUIREMENT = 'ACCESS_REQUIREMENT',\n  ACCESS_APPROVAL = 'ACCESS_APPROVAL',\n  TEAM = 'TEAM',\n  TABLE = 'TABLE',\n  ACCESS_CONTROL_LIST = 'ACCESS_CONTROL_LIST',\n  PROJECT_SETTING = 'PROJECT_SETTING',\n  VERIFICATION_SUBMISSION = 'VERIFICATION_SUBMISSION',\n  CERTIFIED_USER_PASSING_RECORD = 'CERTIFIED_USER_PASSING_RECORD',\n  FORUM = 'FORUM',\n  THREAD = 'THREAD',\n  REPLY = 'REPLY',\n  FORM_GROUP = 'FORM_GROUP',\n  FORM_DATA = 'FORM_DATA',\n  ENTITY_VIEW = 'ENTITY_VIEW',\n  USER_PROFILE = 'USER_PROFILE',\n  DATA_ACCESS_REQUEST = 'DATA_ACCESS_REQUEST',\n  DATA_ACCESS_SUBMISSION = 'DATA_ACCESS_SUBMISSION',\n  DATA_ACCESS_SUBMISSION_STATUS = 'DATA_ACCESS_SUBMISSION_STATUS',\n  MEMBERSHIP_INVITATION = 'MEMBERSHIP_INVITATION',\n}\n","export type UserGroupHeader = {\n  ownerId: string //\tA foreign key to the ID of the 'principal' object for the user.\n  firstName?: string //\tFirst Name\n  lastName?: string //\tLast Name\n  userName: string //\tA name chosen by the user that uniquely identifies them.\n  email?: string //\tUser's current email address\n  displayName?: string //\tThis is deprecated and will always be null\n  isIndividual: boolean //\tTrue if this is a user, false if it is a group\n}\n\n// http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/principal/TypeFilter.html\nexport enum TYPE_FILTER {\n  USERS_ONLY = 'USERS_ONLY',\n  TEAMS_ONLY = 'TEAMS_ONLY',\n  ALL = 'ALL',\n}\n","import { JSONSchema7 } from 'json-schema'\nimport SparkMD5 from 'spark-md5'\nimport UniversalCookies from 'universal-cookie'\nimport { SynapseConstants } from '.'\nimport { PROVIDERS } from '../containers/Login'\nimport {\n  ACCESS_REQUEST_SUBMISSION_SEARCH,\n  ACCESS_REQUIREMENT_ACL,\n  ACCESS_REQUIREMENT_BY_ID,\n  ACCESS_REQUIREMENT_SEARCH,\n  ACCESS_REQUIREMENT_STATUS,\n  ACCESS_REQUIREMENT_WIKI_PAGE_KEY,\n  ALIAS_AVAILABLE,\n  ASYNCHRONOUS_JOB_TOKEN,\n  DATA_ACCESS_SUBMISSION_BY_ID,\n  ENTITY,\n  ENTITY_ACCESS,\n  ENTITY_BUNDLE_V2,\n  ENTITY_HEADERS,\n  ENTITY_ID,\n  ENTITY_JSON,\n  ENTITY_SCHEMA_BINDING,\n  ENTITY_SCHEMA_VALIDATION,\n  FAVORITES,\n  NOTIFICATION_EMAIL,\n  PROFILE_IMAGE_PREVIEW,\n  REGISTERED_SCHEMA_ID,\n  REGISTER_ACCOUNT_STEP_1,\n  REGISTER_ACCOUNT_STEP_2,\n  SCHEMA_VALIDATION_GET,\n  SCHEMA_VALIDATION_START,\n  SIGN_TERMS_OF_USE,\n  TABLE_QUERY_ASYNC_GET,\n  TABLE_QUERY_ASYNC_START,\n  USER_BUNDLE,\n  USER_GROUP_HEADERS,\n  USER_GROUP_HEADERS_BATCH,\n  USER_ID_BUNDLE,\n  USER_PROFILE,\n  USER_PROFILE_ID,\n  VERIFICATION_SUBMISSION,\n} from './APIConstants'\nimport { dispatchDownloadListChangeEvent } from './functions/dispatchDownloadListChangeEvent'\nimport {\n  BackendDestinationEnum,\n  EndpointObject,\n  getEndpoint,\n  PRODUCTION_ENDPOINT_CONFIG,\n} from './functions/getEndpoint'\nimport { removeUndefined } from './functions/ObjectUtils'\nimport { DATETIME_UTC_COOKIE_KEY } from './SynapseConstants'\nimport {\n  AccessApproval,\n  AccessCodeResponse,\n  AccessControlList,\n  AccessRequirement,\n  AccessRequirementStatus,\n  ACCESS_TYPE,\n  ACTSubmissionStatus,\n  AddPartResponse,\n  AsynchronousJobStatus,\n  AsyncJobId,\n  BatchFileRequest,\n  BatchFileResult,\n  BatchPresignedUploadUrlRequest,\n  BatchPresignedUploadUrlResponse,\n  BulkFileDownloadRequest,\n  BulkFileDownloadResponse,\n  DownloadFromTableRequest,\n  DownloadFromTableResult,\n  DownloadList,\n  DownloadOrder,\n  Entity,\n  EntityBundle,\n  EntityBundleRequest,\n  EntityHeader,\n  EntityId,\n  EntityJson,\n  EntityLookupRequest,\n  EntityPath,\n  Evaluation,\n  EvaluationRound,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  FileHandleResults,\n  FileResult,\n  FileUploadComplete,\n  FormChangeRequest,\n  FormData,\n  FormGroup,\n  FormRejection,\n  ListRequest,\n  ListResponse,\n  LoginResponse,\n  MultipartUploadRequest,\n  MultipartUploadStatus,\n  NotificationEmail,\n  OAuthClientPublic,\n  OAuthConsentGrantedResponse,\n  ObjectType,\n  OIDCAuthorizationRequest,\n  OIDCAuthorizationRequestDescription,\n  PaginatedResults,\n  ProjectFilesStatisticsRequest,\n  ProjectFilesStatisticsResponse,\n  ProjectHeaderList,\n  QueryBundleRequest,\n  QueryResultBundle,\n  QueryTableResults,\n  ReferenceList,\n  RestrictionInformationRequest,\n  RestrictionInformationResponse,\n  Submission as EvaluationSubmission,\n  SynapseVersion,\n  UserBundle,\n  UserGroupHeaderResponsePage,\n  UserProfile,\n  VerificationSubmission,\n  WikiPage,\n  WikiPageKey,\n} from './synapseTypes/'\nimport {\n  CreateSubmissionRequest,\n  ManagedACTAccessRequirementStatus,\n  RequestInterface,\n} from './synapseTypes/AccessRequirement'\nimport {\n  AccessRequirementSearchRequest,\n  AccessRequirementSearchResponse,\n} from './synapseTypes/AccessRequirement/AccessRequirementSearch'\nimport { RenewalInterface } from './synapseTypes/AccessRequirement/RenewalInterface'\nimport { SubmissionStateChangeRequest } from './synapseTypes/AccessRequirement/SubmissionStateChangeRequest'\nimport { AccessTokenGenerationRequest } from './synapseTypes/AccessToken/AccessTokenGenerationRequest'\nimport { AccessTokenGenerationResponse } from './synapseTypes/AccessToken/AccessTokenGenerationResponse'\nimport { AccessTokenRecordList } from './synapseTypes/AccessToken/AccessTokenRecord'\nimport { AuthenticatedOn } from './synapseTypes/AuthenticatedOn'\nimport { ChallengePagedResults } from './synapseTypes/ChallengePagedResults'\nimport {\n  ChangePasswordWithCurrentPassword,\n  ChangePasswordWithToken,\n} from './synapseTypes/ChangePasswordRequests'\nimport {\n  DiscussionReplyBundle,\n  DiscussionThreadBundle,\n} from './synapseTypes/DiscussionBundle'\nimport {\n  DiscussionSearchRequest,\n  DiscussionSearchResponse,\n} from './synapseTypes/DiscussionSearch'\nimport { AddBatchOfFilesToDownloadListRequest } from './synapseTypes/DownloadListV2/AddBatchOfFilesToDownloadListRequest'\nimport { AddBatchOfFilesToDownloadListResponse } from './synapseTypes/DownloadListV2/AddBatchOfFilesToDownloadListResponse'\nimport { AddToDownloadListRequest } from './synapseTypes/DownloadListV2/AddToDownloadListRequest'\nimport { AddToDownloadListResponse } from './synapseTypes/DownloadListV2/AddToDownloadListResponse'\nimport { DownloadListItem } from './synapseTypes/DownloadListV2/DownloadListItem'\nimport { DownloadListManifestRequest } from './synapseTypes/DownloadListV2/DownloadListManifestRequest'\nimport { DownloadListPackageRequest } from './synapseTypes/DownloadListV2/DownloadListPackageRequest'\nimport { DownloadListPackageResponse } from './synapseTypes/DownloadListV2/DownloadListPackageResponse'\nimport { DownloadListQueryRequest } from './synapseTypes/DownloadListV2/DownloadListQueryRequest'\nimport { DownloadListQueryResponse } from './synapseTypes/DownloadListV2/DownloadListQueryResponse'\nimport {\n  ActionRequiredRequest,\n  AvailableFilesRequest,\n  FilesStatisticsRequest,\n  QueryRequestDetails,\n} from './synapseTypes/DownloadListV2/QueryRequestDetails'\nimport {\n  ActionRequiredResponse,\n  AvailableFilesResponse,\n  FilesStatisticsResponse,\n  QueryResponseDetails,\n} from './synapseTypes/DownloadListV2/QueryResponseDetails'\nimport { RemoveBatchOfFilesFromDownloadListRequest } from './synapseTypes/DownloadListV2/RemoveBatchOfFilesFromDownloadListRequest'\nimport { RemoveBatchOfFilesFromDownloadListResponse } from './synapseTypes/DownloadListV2/RemoveBatchOfFilesFromDownloadListResponse'\nimport {\n  EntityChildrenRequest,\n  EntityChildrenResponse,\n} from './synapseTypes/EntityChildren'\nimport { EvaluationRoundListRequest } from './synapseTypes/Evaluation/EvaluationRoundListRequest'\nimport { EvaluationRoundListResponse } from './synapseTypes/Evaluation/EvaluationRoundListResponse'\nimport { UserEvaluationPermissions } from './synapseTypes/Evaluation/UserEvaluationPermissions'\nimport { GetProjectsParameters } from './synapseTypes/GetProjectsParams'\nimport { HasAccessResponse } from './synapseTypes/HasAccessResponse'\nimport { MessageURL } from './synapseTypes/MessageUrl'\nimport {\n  AccountSetupInfo,\n  AliasCheckRequest,\n  AliasCheckResponse,\n  EmailValidationSignedToken,\n  NewUser,\n} from './synapseTypes/Principal/PrincipalServices'\nimport { ResearchProject } from './synapseTypes/ResearchProject'\nimport { JsonSchemaObjectBinding } from './synapseTypes/Schema/JsonSchemaObjectBinding'\nimport { ValidationResults } from './synapseTypes/Schema/ValidationResults'\nimport { SearchQuery, SearchResults } from './synapseTypes/Search'\nimport { TableUpdateTransactionRequest } from './synapseTypes/Table/TableUpdate'\nimport {\n  SqlTransformResponse,\n  TransformSqlWithFacetsRequest,\n} from './synapseTypes/Table/TransformSqlWithFacetsRequest'\nimport { Team } from './synapseTypes/Team'\nimport { TYPE_FILTER } from './synapseTypes/UserGroupHeader'\nimport { VersionInfo } from './synapseTypes/VersionInfo'\nimport {\n  AccessApprovalSearchRequest,\n  AccessApprovalSearchResponse,\n} from './synapseTypes/AccessApproval'\nimport {\n  SubmissionSearchRequest,\n  SubmissionSearchResponse,\n} from './synapseTypes/AccessSubmission'\nimport {\n  SubmissionInfoPage,\n  SubmissionInfoPageRequest,\n} from './synapseTypes/SubmissionInfo'\nimport { Submission as DataAccessSubmission } from './synapseTypes/AccessRequirement/Submission'\n\nconst cookies = new UniversalCookies()\n\n// TODO: Create JSON response types for all return types\nexport const IS_OUTSIDE_SYNAPSE_ORG = window.location.hostname\n  .toLowerCase()\n  .includes('.synapse.org')\n  ? false\n  : true\n\nexport const ACCESS_TOKEN_COOKIE_KEY =\n  'org.sagebionetworks.security.user.login.token'\n\n// Max size file that we will allow the caller to read into memory (5MB)\nconst MAX_JS_FILE_DOWNLOAD_SIZE = 5242880\n// This corresponds to the Synapse-managed S3 storage location:\nexport const SYNAPSE_STORAGE_LOCATION_ID = 1\nexport const getRootURL = () => {\n  const portString = window.location.port ? `:${window.location.port}` : ''\n  return `${window.location.protocol}//${window.location.hostname}${portString}/`\n}\n\n/**\n * Waits t number of milliseconds\n *\n * @export\n * @param {number} t milliseconds\n * @returns after t milliseconds\n */\nexport function delay(t: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve.bind(null, {}), t)\n  })\n}\n\n/**\n * Error message returned by the Synapse Backend\n */\nexport type SynapseError = {\n  reason: string\n}\n\n/**\n * Error message returned by the Synapse backend joined with the\n * HTTP status code.\n */\nexport class SynapseClientError extends Error {\n  public status: number\n  public reason: string\n  public url: string\n\n  constructor(status: number, reason: string, url: string) {\n    super(reason)\n    this.status = status\n    this.reason = reason\n    this.url = url\n  }\n}\n\n/**\n * Invokes a function that makes a request to Synapse and returns null if the server responds with a 404.\n * @param fn a function that may throw a SynapseClientError when encountering an HTTP Error Code\n * @returns The result of the function call, or null if the result is a 404 \"Not Found\" error.\n */\nexport async function allowNotFoundError<T>(\n  fn: () => Promise<T>,\n): Promise<T | null> {\n  let response = null\n  try {\n    response = await fn()\n  } catch (e) {\n    if (e instanceof SynapseClientError && e.status === 404) {\n      // Permitted\n    } else {\n      throw e\n    }\n  }\n  return response\n}\n\n/*\n  0 - no internet connection\n  429 - Too Many Requests\n  502 - Bad Gateway\n  503 - Service Unavailable\n  504 - Gateway Timeout\n*/\nconst RETRY_STATUS_CODES = [0, 429, 502, 503, 504]\n\n/**\n * Fetches data, retrying if the HTTP status code indicates that it could be retried. Contains custom logic for\n * handling errors returned by the Synapse backend.\n * @throws SynapseClientError\n */\nconst fetchWithExponentialTimeout = async <TResponse>(\n  url: RequestInfo,\n  options: RequestInit,\n  delayMs = 1000,\n): Promise<TResponse> => {\n  let response = await fetch(url, options)\n  while (response.status && RETRY_STATUS_CODES.includes(response.status)) {\n    await delay(delayMs)\n    // Exponential backoff if we re-fetch\n    delayMs = delayMs * 2\n    response = await fetch(url, options)\n  }\n\n  const responseBody = await response.text()\n  let responseObject: TResponse | SynapseError | string = responseBody\n  try {\n    // try to parse it as json\n    responseObject = JSON.parse(responseBody) as TResponse | SynapseError\n  } catch (error) {\n    console.warn('Failed to parse response as JSON', responseBody)\n  }\n\n  if (response.ok) {\n    return responseObject as TResponse\n  } else if (typeof responseObject === 'object' && 'reason' in responseObject) {\n    throw new SynapseClientError(\n      response.status,\n      responseObject.reason,\n      url.toString(),\n    )\n  } else {\n    throw new SynapseClientError(\n      response.status,\n      JSON.stringify(responseObject),\n      url.toString(),\n    )\n  }\n}\n\nexport const doPost = <T>(\n  url: string,\n  requestJsonObject: unknown,\n  accessToken: string | undefined,\n  initCredentials: RequestInit['credentials'],\n  endpoint: BackendDestinationEnum,\n  signal?: AbortSignal,\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n    },\n    method: 'POST',\n    mode: 'cors',\n    credentials: initCredentials,\n    signal: signal,\n  }\n  if (accessToken) {\n    // @ts-ignore\n    options.headers.authorization = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\nexport const doGet = <T>(\n  url: string,\n  accessToken: string | undefined,\n  initCredentials: RequestInit['credentials'],\n  endpoint: BackendDestinationEnum,\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n    },\n    method: 'GET',\n    mode: 'cors',\n    credentials: initCredentials,\n  }\n  if (accessToken) {\n    // @ts-ignore\n    options.headers.authorization = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\n\nexport const doDelete = (\n  url: string,\n  accessToken: string | undefined,\n  initCredentials: RequestInit['credentials'],\n  endpoint: BackendDestinationEnum,\n) => {\n  const options: RequestInit = {\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n    },\n    method: 'DELETE',\n    mode: 'cors',\n    credentials: initCredentials,\n  }\n  if (accessToken) {\n    // @ts-ignore\n    options.headers.authorization = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<void>(usedEndpoint + url, options)\n}\n\nexport const doPut = <T>(\n  url: string,\n  requestJsonObject: any,\n  accessToken: string | undefined,\n  initCredentials: RequestInit['credentials'],\n  endpoint: BackendDestinationEnum,\n): Promise<T> => {\n  const options: RequestInit = {\n    body: JSON.stringify(requestJsonObject),\n    headers: {\n      Accept: '*/*',\n      'Access-Control-Request-Headers': 'authorization',\n      'Content-Type': 'application/json',\n    },\n    method: 'PUT',\n    mode: 'cors',\n    credentials: initCredentials,\n  }\n  if (accessToken) {\n    // @ts-ignore\n    options.headers.authorization = `Bearer ${accessToken}`\n  }\n  const usedEndpoint = getEndpoint(endpoint)\n  return fetchWithExponentialTimeout<T>(usedEndpoint + url, options)\n}\n\nexport const getVersion = (): Promise<SynapseVersion> => {\n  return doGet<SynapseVersion>(\n    '/repo/v1/version',\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/download/csv/async/start.html\n */\nexport const getDownloadFromTableRequest = async (\n  request: DownloadFromTableRequest,\n  accessToken: string | undefined = undefined,\n): Promise<DownloadFromTableResult> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/start`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${request.entityId}/table/download/csv/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId.html\n * Get a FileHandle using its ID.\n * Note: Only the user that created the FileHandle can access it directly.\n * @return FileHandle\n **/\nexport const getFileHandleById = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n): Promise<FileHandle> => {\n  return doGet<FileHandle>(\n    `/file/v1/fileHandle/${handleId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/GET/file/id.html\n * Get the actual URL of the file from with an associated object .\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getActualFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n  fileAssociateType: FileHandleAssociateType,\n  fileAssociateId: string,\n  redirect: boolean = true,\n): Promise<string> => {\n  // get the presigned URL for this file handle association.\n  return doGet<string>(\n    `/file/v1/file/${handleId}?fileAssociateType=${fileAssociateType}&fileAssociateId=${fileAssociateId}&redirect=${redirect}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/fileHandle/handleId/url.html\n * Note: Only the user that created the FileHandle can use this method for download.\n * @return a short lived presignedURL to be redirected with\n **/\nexport const getFileHandleByIdURL = (\n  handleId: string,\n  accessToken: string | undefined = undefined,\n) => {\n  // get the presigned URL for this file handle\n  return doGet<string>(\n    `/file/v1/fileHandle/${handleId}/url?redirect=false`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a completed asynchronous job. Will refetch every 500ms until COMPLETE or FAILED.\n * @param asyncJobId\n * @param accessToken\n * @param setCurrentAsyncStatus - optional function that will receive the AsynchronousJobStatus object every time\n *   it's fetched, including while it is in the \"PROCESSING\" state.\n * @returns\n */\nexport const getAsyncResultFromJobId = async <TRequest, TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<TRequest, TResponse>,\n  ) => void,\n): Promise<AsynchronousJobStatus<TRequest, TResponse>> => {\n  let response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n    ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  setCurrentAsyncStatus?.(response)\n  while (response.jobState && response.jobState === 'PROCESSING') {\n    await delay(500)\n    response = await doGet<AsynchronousJobStatus<TRequest, TResponse>>(\n      ASYNCHRONOUS_JOB_TOKEN(asyncJobId),\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    setCurrentAsyncStatus?.(response)\n  }\n\n  if (response.jobState === 'FAILED') {\n    /**\n     * While we technically already have the failure reason in the response, the HTTP response doesn't give a helpful error code (e.g. 403)\n     * that we can use for an error banner. We can get the HTTP code if we fetch the response body directly.\n     */\n    const failureResponse = await doGet<TResponse>(\n      responseBodyEndpoint,\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n    console.warn(\n      'SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:',\n      failureResponse,\n    )\n  }\n  return response\n}\n\n/**\n * Get the response body for an asynchronous job, or throw an error if the job failed.\n * @param asyncJobId\n * @param accessToken\n * @returns\n */\nexport const getAsyncResultBodyFromJobId = async <TResponse>(\n  asyncJobId: string,\n  responseBodyEndpoint: string,\n  accessToken?: string,\n): Promise<TResponse> => {\n  const response = await getAsyncResultFromJobId<unknown, TResponse>(\n    asyncJobId,\n    responseBodyEndpoint,\n    accessToken,\n  )\n\n  return response.responseBody!\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n * @param {*} endpoint\n */\nexport const getQueryTableAsyncJobResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n  setCurrentAsyncStatus?: (\n    result: AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>,\n  ) => void,\n): Promise<AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    TABLE_QUERY_ASYNC_START(queryBundleRequest.entityId),\n    queryBundleRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultFromJobId<QueryBundleRequest, QueryResultBundle>(\n    asyncJobId.token,\n    TABLE_QUERY_ASYNC_GET(queryBundleRequest.entityId, asyncJobId.token),\n    accessToken,\n    setCurrentAsyncStatus,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/entity/id/table/query/nextPage/async/start.html\n * @param {*} queryBundleRequest\n * @param {*} accessToken\n * @param {*} endpoint\n */\nexport const getQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken?: string,\n): Promise<QueryResultBundle> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/start`,\n    queryBundleRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${queryBundleRequest.entityId}/table/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n *  Run and return results from queryBundleRequest, queryBundle request must be of the\n *  form:\n *     {\n *        concreteType: String,\n *        query: {\n *           sql: String,\n *           partMask: Number\n *        }\n *     }\n * @param {*} queryBundleRequest\n * @param {*} [accessToken=undefined]\n * @param {boolean} [onlyGetFacets=false] Specify if the query only needs facets and no\n * data-- (internally this limits the row count to 1 on the request)\n * @returns Full dataset from synapse table query\n */\n\nexport const getFullQueryTableResults = async (\n  queryBundleRequest: QueryBundleRequest,\n  accessToken: string | undefined = undefined,\n): Promise<QueryResultBundle> => {\n  let data: QueryResultBundle\n  // get first page\n  let offset = 0\n  const { query, ...rest } = queryBundleRequest\n  const queryRequest: QueryBundleRequest = {\n    ...rest,\n    query: { ...query, offset: offset },\n    partMask:\n      queryBundleRequest.partMask |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE,\n  }\n  const response = await getQueryTableResults(queryRequest, accessToken)\n  data = response\n  // we are done if we return less than a max pagesize that the backend is willing to return.\n  let isDone =\n    response.queryResult.queryResults.rows.length < data.maxRowsPerPage!\n  offset += response.queryResult.queryResults.rows.length\n  queryRequest.query.limit = data.maxRowsPerPage // set the limit to the actual max rows per page\n\n  while (!isDone) {\n    queryRequest.query.offset = offset\n    // update the maxPageSize to the largest possible value after the first page is complete.  This is a no-op after the second page.\n\n    const response = await getQueryTableResults(queryRequest, accessToken)\n    data.queryResult.queryResults.rows.push(\n      ...response.queryResult.queryResults.rows, // ... spread operator to push all elements on\n    )\n    isDone =\n      response.queryResult.queryResults.rows.length < queryRequest.query.limit!\n    offset += response.queryResult.queryResults.rows.length\n  }\n  return data\n}\n\n/**\n *  Log-in using the given username and password.  Will return a access token that must be used in\n *  authenticated requests.\n *  https://rest-docs.synapse.org/rest/POST/login2.html\n */\nexport const login = (\n  username: string,\n  password: string,\n  authenticationReceipt: string | null,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  return doPost(\n    '/auth/v1/login2',\n    { username, password, authenticationReceipt },\n    undefined,\n    undefined,\n    endpoint,\n  )\n}\n/**\n * Get redirect url\n * https://rest-docs.synapse.org/rest/POST/oauth2/authurl.html\n * @param {*} provider\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthUrlRequest = (\n  provider: string,\n  redirectUrl: string,\n  state?: string,\n  endpoint = BackendDestinationEnum.REPO_ENDPOINT,\n) => {\n  return doPost(\n    '/auth/v1/oauth2/authurl',\n    { provider, redirectUrl, state },\n    undefined,\n    undefined,\n    endpoint,\n  )\n}\n/**\n * Get access token from SSO\n * https://rest-docs.synapse.org/rest/POST/oauth2/session2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthSessionRequest = (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: any = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/session2',\n    { provider, authenticationCode, redirectUrl },\n    undefined,\n    undefined,\n    endpoint,\n  )\n}\n/**\n * Create an entity (Project, Folder, File, Table, View)\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined,\n) => {\n  return doPost<T>(\n    ENTITY,\n    entity,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Create a project with the given name.\n * https://rest-docs.synapse.org/rest/POST/entity.html\n */\nexport const createProject = (\n  name: string,\n  accessToken: string | undefined,\n): Promise<Entity> => {\n  return createEntity(\n    {\n      name,\n      concreteType: 'org.sagebionetworks.repo.model.Project',\n    },\n    accessToken,\n  )\n}\n\n/**\n * Return this user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfile = (accessToken: string | undefined) => {\n  return doGet<UserProfile>(\n    USER_PROFILE,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return any user's UserProfile\n * https://rest-docs.synapse.org/rest/GET/userProfile.html\n */\nexport const getUserProfileById = (\n  accessToken: string | undefined,\n  ownerId: string,\n) => {\n  return doGet<UserProfile>(\n    USER_PROFILE_ID(ownerId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return this user's profile bundle\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserBundle.html\n */\nexport const getUserBundle = (\n  id: string,\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_ID_BUNDLE(id)}?mask=${mask}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the ucurrent user's bundle\n * http://rest-docs.synapse.org/rest/GET/user/bundle.html\n */\nexport const getMyUserBundle = (\n  mask: number,\n  accessToken: string | undefined,\n): Promise<UserBundle> => {\n  return doGet<UserBundle>(\n    `${USER_BUNDLE}?mask=${mask}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update your own profile\n * @param profile\n * @param accessToken\n * @returns\n */\nexport const updateMyUserProfile = (\n  profile: UserProfile,\n  accessToken: string | undefined = undefined,\n): Promise<UserProfile> => {\n  const url = '/repo/v1/userProfile'\n  return doPut<UserProfile>(\n    url,\n    profile,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Users and Groups that match the given prefix.\n * http://rest-docs.synapse.org/rest/GET/userGroupHeaders.html\n */\nexport const getUserGroupHeaders = (\n  prefix: string = '',\n  typeFilter: TYPE_FILTER = TYPE_FILTER.ALL,\n  offset: number = 0,\n  limit: number = 20,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS +\n      `?prefix=${prefix}&typeFilter=${typeFilter}&offset=${offset}&limit=${limit}`,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return batch of user group headers\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserGroupHeaderResponsePage.html\n */\nexport const getGroupHeadersBatch = (\n  ids: string[],\n  accessToken?: string,\n): Promise<UserGroupHeaderResponsePage> => {\n  return doGet<UserGroupHeaderResponsePage>(\n    USER_GROUP_HEADERS_BATCH + `?ids=${ids.join(',')}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type UserProfileList = { list: UserProfile[] }\n/**\n * Return the User Profiles for the given list of user IDs\n * https://rest-docs.synapse.org/rest/POST/userProfile.html\n */\nexport const getUserProfiles = (\n  list: string[],\n  accessToken: string | undefined = undefined,\n): Promise<UserProfileList> => {\n  return doPost(\n    USER_PROFILE,\n    { list },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Return the children (Files/Folders) of the given entity (Project or Folder).\n * https://rest-docs.synapse.org/rest/POST/entity/children.html\n */\nexport const getEntityChildren = (\n  request: EntityChildrenRequest,\n  accessToken: string | undefined = undefined,\n  signal?: AbortSignal,\n) => {\n  return doPost<EntityChildrenResponse>(\n    '/repo/v1/entity/children',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n    signal,\n  )\n}\n/**\n * Retrieve an entityId for a given parent ID and entity name.\n * https://rest-docs.synapse.org/rest/POST/entity/child.html\n */\nexport const lookupChildEntity = (\n  request: EntityLookupRequest,\n  accessToken: string | undefined = undefined,\n) => {\n  return doPost<EntityId>(\n    '/repo/v1/entity/child',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getFiles = (\n  request: BatchFileRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BatchFileResult> => {\n  return doPost(\n    '/file/v1/fileHandle/batch',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a batch of pre-signed URLs and/or FileHandles for the given list of FileHandleAssociations.\n * https://rest-docs.synapse.org/rest/POST/fileHandle/batch.html\n */\nexport const getBulkFiles = async (\n  bulkFileDownloadRequest: BulkFileDownloadRequest,\n  accessToken: string | undefined = undefined,\n): Promise<BulkFileDownloadResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/file/v1/file/bulk/async/start',\n    bulkFileDownloadRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/file/v1/file/bulk/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n/**\n * Bundled access to Entity and related data components.\n * An EntityBundle can be used to create, fetch, or update an Entity and associated\n * objects with a single web service request.\n * See SynapseClient.test.js for an example partsMask.\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/Entity.html\n */\n\nexport const getEntity = <T extends Entity>(\n  accessToken: string | undefined = undefined,\n  entityId: string,\n  versionNumber?: string,\n) => {\n  if (entityId.indexOf('.') > -1) {\n    // PORTALS-1943: we were given an entity Id with a version!\n    const entityTokens = entityId.split('.')\n    entityId = entityTokens[0]\n    versionNumber = entityTokens[1]\n  }\n  const url = versionNumber\n    ? `/repo/v1/entity/${entityId}/version/${versionNumber}`\n    : `/repo/v1/entity/${entityId}`\n  return doGet<T>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a list of entity headers given by entity ids\n * http://rest-docs.synapse.org/rest/GET/entity/type.html\n */\nexport const getEntityHeadersByIds = <T extends PaginatedResults<EntityHeader>>(\n  entityIds: string[],\n  accessToken?: string,\n) => {\n  return doGet<T>(\n    `/repo/v1/entity/type?batch=${entityIds.join(',')}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the EntityHeader for a list of references with a POST.\n * If any item in the batch fails (e.g., with a 404) it will be EXCLUDED in the result set.\n * https://rest-docs.synapse.org/rest/POST/entity/header.html\n */\nexport const getEntityHeaders = (\n  references: ReferenceList,\n  accessToken?: string,\n) => {\n  // if references contains entity IDs with dot notation, fix the reference object\n  const fixedReferences = references.map(reference => {\n    if (reference.targetId.indexOf('.') > -1) {\n      const entityTokens = reference.targetId.split('.')\n      return {\n        targetId: entityTokens[0],\n        version: entityTokens[1],\n      }\n    } else return reference\n  })\n\n  return doPost<PaginatedResults<EntityHeader>>(\n    ENTITY_HEADERS,\n    { references: fixedReferences },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the EntityHeader for a single entity\n * https://rest-docs.synapse.org/rest/GET/entity/id/type.html\n */\nexport const getEntityHeader = (entityId: string, accessToken?: string) => {\n  return doGet<EntityHeader>(\n    `/repo/v1/entity/${entityId}/type`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const updateEntity = <T extends Entity>(\n  entity: T,\n  accessToken: string | undefined = undefined,\n): Promise<T> => {\n  const url = `/repo/v1/entity/${entity.id}`\n  return doPut<T>(\n    url,\n    entity,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deleteEntity = (\n  accessToken: string | undefined = undefined,\n  entityId: string | number,\n) => {\n  return doDelete(\n    ENTITY_ID(entityId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEntityBundleV2 = (\n  entityId: string | number,\n  requestObject: EntityBundleRequest,\n  version?: number,\n  accessToken?: string,\n): Promise<EntityBundle> => {\n  return doPost<EntityBundle>(\n    ENTITY_BUNDLE_V2(entityId, version),\n    requestObject,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a corresponding string value of ObjectType:\n **/\nfunction getObjectTypeToString(key: ObjectType) {\n  return ObjectType[key]\n}\n\n/**\n * Get Wiki page contents, call is of the form:\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wiki.html\n */\nexport const getEntityWiki = (\n  accessToken: string | undefined,\n  ownerId: string | undefined,\n  wikiId: string | undefined = '',\n  objectType: ObjectType = ObjectType.ENTITY,\n) => {\n  const objectTypeString = getObjectTypeToString(objectType)\n\n  const url = `/repo/v1/${objectTypeString?.toLocaleLowerCase()}/${ownerId}/wiki/${wikiId}`\n  return doGet<WikiPage>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns synapse user favorites list given their access token\n * https://rest-docs.synapse.org/rest/GET/favorite.html\n */\nexport const getUserFavorites = (\n  accessToken: string | undefined,\n  offset: number = 0,\n  limit: number = 200,\n) => {\n  // https://sagebionetworks.jira.com/browse/PLFM-6616\n  const url = `${FAVORITES}?offset=${offset}&limit=${limit}`\n  return doGet<PaginatedResults<EntityHeader>>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Remove a favorite\n * http://rest-docs.synapse.org/rest/DELETE/favorite/id.html\n */\nexport const removeUserFavorite = (\n  entityId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `/repo/v1/favorite/${entityId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a list of challenges for which the given user is registered.\n * see http://rest-docs.synapse.org/rest/GET/challenge.html\n */\nexport const getUserChallenges = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<ChallengePagedResults> => {\n  const url = `/repo/v1/challenge?participantId=${userId}&offset=${offset}&limit=${limit}`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the user's list of teams they are on\n *\n * @param {*} id ownerID of the synapse user see - https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/UserProfile.html\n */\nexport const getUserTeamList = (\n  accessToken: string | undefined,\n  userId: string | number,\n  offset: string | number = 0,\n  limit: string | number = 200,\n): Promise<PaginatedResults<Team>> => {\n  const url = `/repo/v1/user/${userId}/team?offset=${offset}&limit=${limit}`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the user's list of teams they are on\n *\n * @param {*} id ownerID of the synapse user see -https://rest-docs.synapse.org/rest/GET/teamMembers/id.html\n * @param {*} fragment (optional) a prefix of the user's first or last name or email address (optional)\n * @param {*} limit    (optional) the maximum number of members to return (default 10, max limit 50)\n * @param {*} offset   (optional) the starting index of the returned results (default 0)\n *\n */\nexport const getTeamList = (\n  accessToken: string | undefined,\n  id: string | number,\n  fragment: string = '',\n  limit: number = 10,\n  offset: number = 0,\n) => {\n  const url = `/repo/v1/teamMembers/${id}?limit=${limit}&offset=${offset}${\n    fragment ? `&fragment=${fragment}` : ''\n  }`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/entity/ownerId/wikikey.html\n * Get the root WikiPageKey for an Entity.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForEntity = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = `/repo/v1/entity/${ownerId}/wikikey`\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/GET/access_requirement/ownerId/wikikey.html\n * Get the root WikiPageKey for an Access Requirement.\n * Note: The caller must be granted the ACCESS_TYPE.READ permission on the owner.\n * @return WikiPageKey\n **/\nexport const getWikiPageKeyForAccessRequirement = (\n  accessToken: string | undefined,\n  ownerId: string | number,\n): Promise<WikiPageKey> => {\n  const url = ACCESS_REQUIREMENT_WIKI_PAGE_KEY(ownerId)\n  return doGet<WikiPageKey>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getWikiAttachmentsFromEntity = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<FileHandleResults> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachmenthandles`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\nexport const getWikiAttachmentsFromEvaluation = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n) => {\n  const url = `/repo/v1/evaluation/${id}/wiki/${wikiId}/attachmenthandles`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getPresignedUrlForWikiAttachment = (\n  accessToken: string | undefined,\n  id: string | number,\n  wikiId: string | number,\n  fileName: string,\n  objectType: ObjectType = ObjectType.ENTITY,\n): Promise<string> => {\n  const objectTypeString = getObjectTypeToString(objectType)\n  const url = `/repo/v1/${objectTypeString.toLocaleLowerCase()}/${id}/wiki2/${wikiId}/attachment?fileName=${fileName}&redirect=false`\n  return doGet(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const isInSynapseExperimentalMode = (): boolean => {\n  // bang bang, you're a boolean!\n  return !!cookies.get(SynapseConstants.EXPERIMENTAL_MODE_COOKIE)\n}\n\nexport const getStyleguideStack = (): EndpointObject | null => {\n  return JSON.parse(\n    window.localStorage.getItem(\n      SynapseConstants.STYLEGUIDE_STACK_LOCAL_STORAGE_KEY,\n    ) ?? 'null',\n  )\n}\n\n/**\n * Set the access token cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n *\n * @param {*} token Access token.  If undefined, then call should instruct the browser to delete the cookie.\n */\nexport const setAccessTokenCookie = async (\n  token: string | undefined,\n  sessionCallback: () => void,\n) => {\n  if (IS_OUTSIDE_SYNAPSE_ORG) {\n    if (!token) {\n      cookies.remove(ACCESS_TOKEN_COOKIE_KEY, { path: '/' })\n      // See - https://github.com/reactivestack/cookies/issues/189\n      await delay(100)\n    } else {\n      // set's cookie in session storage\n      cookies.set(ACCESS_TOKEN_COOKIE_KEY, token, {\n        // expires in a day\n        maxAge: 60 * 60 * 24,\n        path: '/',\n      })\n    }\n    sessionCallback()\n  } else {\n    // will set cookie in the http header\n    doPost(\n      'Portal/sessioncookie',\n      { sessionToken: token },\n      undefined,\n      'include',\n      BackendDestinationEnum.PORTAL_ENDPOINT,\n    )\n      .then(_ => {\n        sessionCallback()\n      })\n      .catch(err => {\n        console.error('Error on setting access token ', err)\n      })\n  }\n}\n/**\n * Get the current access token from a cookie.  Note that this will only succeed if your app is running on\n * a .synapse.org subdomain.\n */\nexport const getAccessTokenFromCookie = async () => {\n  if (IS_OUTSIDE_SYNAPSE_ORG) {\n    return cookies.get(ACCESS_TOKEN_COOKIE_KEY)\n  }\n  return doGet<string>(\n    'Portal/sessioncookie?validate=true',\n    undefined,\n    'include',\n    BackendDestinationEnum.PORTAL_ENDPOINT,\n  )\n}\n\nexport const getUseUtcTimeFromCookie = () => {\n  return cookies.get(DATETIME_UTC_COOKIE_KEY) === 'true'\n}\n\nexport const getPrincipalAliasRequest = (\n  accessToken: string | undefined,\n  alias: string,\n  type: string,\n): Promise<{ principalId: number }> => {\n  const url = '/repo/v1/principal/alias'\n  return doPost(\n    url,\n    { alias, type },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/*\nDuring SSO login, the authorization provider (Google) will\nsend the user back to the portal with an authorization code,\nwhich can be exchanged for a Synapse user session.\nThis function should be called whenever the root App is initialized\n(to look for this code parameter and complete the round-trip).\nIf state is included, then we assume that this is being used for account creation,\nwhere we pass the username through the process.\n*/\nexport const detectSSOCode = (\n  registerAccountUrl?: string,\n  onError?: (err: any) => void,\n) => {\n  const redirectURL = getRootURL()\n  // 'code' handling (from SSO) should be preformed on the root page, and then redirect to original route.\n  const fullUrl: URL | null | string = new URL(window.location.href)\n  // in test environment the searchParams isn't defined\n  const { searchParams } = fullUrl\n  if (!searchParams) {\n    return\n  }\n  const code = searchParams.get('code')\n  const provider = searchParams.get('provider')\n  const state = searchParams.get('state')\n  // state is used during OAuth based Synapse account creation (it's the username)\n  if (code && provider) {\n    const redirectUrl = `${redirectURL}?provider=${provider}`\n    const redirectAfterSuccess = () => {\n      // go back to original route after successful SSO login\n      const originalUrl = localStorage.getItem('after-sso-login-url')\n      localStorage.removeItem('after-sso-login-url')\n      if (originalUrl) {\n        window.location.replace(originalUrl)\n      }\n    }\n    if (PROVIDERS.GOOGLE == provider) {\n      const onSuccess = (synToken: any) => {\n        setAccessTokenCookie(synToken.accessToken, redirectAfterSuccess)\n      }\n      const onFailure = (err: any) => {\n        if (err.status === 404) {\n          // Synapse account not found, send to registration page\n          window.location.replace(\n            registerAccountUrl ??\n              `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!RegisterAccount:0`,\n          )\n        }\n        console.error('Error with Google account association: ', err)\n        if (onError) {\n          onError(err.reason)\n        }\n      }\n\n      if (state) {\n        oAuthRegisterAccountStep2(\n          state,\n          provider,\n          code,\n          redirectUrl,\n          BackendDestinationEnum.REPO_ENDPOINT,\n        )\n          .then(onSuccess)\n          .catch(onFailure)\n      } else {\n        oAuthSessionRequest(\n          provider,\n          code,\n          redirectUrl,\n          BackendDestinationEnum.REPO_ENDPOINT,\n        )\n          .then(onSuccess)\n          .catch(onFailure)\n      }\n    } else if (PROVIDERS.ORCID == provider) {\n      // now bind this to the user account\n      const onFailure = (err: any) => {\n        console.error('Error binding ORCiD to account: ', err)\n        if (onError) {\n          onError(err.reason)\n        }\n      }\n      bindOAuthProviderToAccount(\n        provider,\n        code,\n        redirectUrl,\n        BackendDestinationEnum.REPO_ENDPOINT,\n      )\n        .then(redirectAfterSuccess)\n        .catch(onFailure)\n    }\n  }\n}\n\nexport const signOut = async (sessionCallback: () => void) => {\n  await setAccessTokenCookie(undefined, sessionCallback)\n}\n\n/**\n * Upload file.  Note that this currently only supports Synapse storage (Sage s3 bucket)\n * @param accessToken\n * @param file\n * @param endpoint\n */\nexport const uploadFile = (\n  accessToken: string | undefined,\n  filename: string,\n  file: Blob,\n) => {\n  return new Promise<FileUploadComplete>(\n    (fileUploadResolve, fileUploadReject) => {\n      const partSize: number = Math.max(5242880, file.size / 10000)\n      const request: MultipartUploadRequest = {\n        contentType: file.type,\n        fileName: filename,\n        fileSizeBytes: file.size,\n        partSizeBytes: partSize,\n        storageLocationId: SYNAPSE_STORAGE_LOCATION_ID,\n      }\n      calculateMd5(file).then((md5: string) => {\n        request.contentMD5Hex = md5\n        startMultipartUpload(\n          accessToken,\n          filename,\n          file,\n          request,\n          fileUploadResolve,\n          fileUploadReject,\n        )\n      })\n    },\n  )\n}\n\nconst calculateMd5 = (fileBlob: File | Blob): Promise<string> => {\n  // code taken from md5 example from library\n  return new Promise((resolve, reject) => {\n    const blobSlice = File.prototype.slice,\n      file = fileBlob,\n      chunkSize = 2097152, // Read in chunks of 2MB\n      chunks = Math.ceil(file.size / chunkSize),\n      spark = new SparkMD5.ArrayBuffer(),\n      fileReader = new FileReader()\n    let currentChunk = 0\n\n    fileReader.onload = function (e) {\n      console.log('read chunk nr', currentChunk + 1, 'of', chunks)\n      spark.append(fileReader.result as ArrayBuffer) // Append array buffer\n      currentChunk++\n\n      if (currentChunk < chunks) {\n        loadNext()\n      } else {\n        console.log('finished loading')\n        const md5: string = spark.end()\n        console.info('computed hash', md5) // Compute hash\n        resolve(md5)\n      }\n    }\n\n    fileReader.onerror = function () {\n      console.warn('oops, something went wrong.')\n      reject(fileReader.error)\n    }\n\n    const loadNext = () => {\n      const start = currentChunk * chunkSize,\n        end = start + chunkSize >= file.size ? file.size : start + chunkSize\n\n      fileReader.readAsArrayBuffer(blobSlice.call(file, start, end))\n    }\n    loadNext()\n  })\n}\n\nconst processFilePart = (\n  partNumber: number,\n  multipartUploadStatus: MultipartUploadStatus,\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  if (multipartUploadStatus.clientSidePartsState![partNumber - 1]) {\n    // no-op. this part has already been processed!\n    return\n  }\n\n  const uploadId = multipartUploadStatus.uploadId\n  const presignedUploadUrlRequest: BatchPresignedUploadUrlRequest = {\n    uploadId,\n    contentType: 'application/octet-stream', // each part is binary\n    partNumbers: [partNumber],\n  }\n  const presignedUrlUrl = `/file/v1/file/multipart/${uploadId}/presigned/url/batch`\n  doPost<BatchPresignedUploadUrlResponse>(\n    presignedUrlUrl,\n    presignedUploadUrlRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(async (presignedUrlResponse: BatchPresignedUploadUrlResponse) => {\n    const presignedUrl =\n      presignedUrlResponse.partPresignedUrls[0].uploadPresignedUrl\n    // calculate the byte range\n    const startByte = (partNumber - 1) * request.partSizeBytes\n    let endByte = partNumber * request.partSizeBytes - 1\n    if (endByte >= request.fileSizeBytes) {\n      endByte = request.fileSizeBytes - 1\n    }\n    const fileSlice = file.slice(\n      startByte,\n      endByte + 1,\n      presignedUploadUrlRequest.contentType,\n    )\n    await uploadFilePart(\n      presignedUrl,\n      fileSlice,\n      presignedUploadUrlRequest.contentType,\n    )\n    // uploaded the part.  calculate md5 of the part and add the part to the upload\n    calculateMd5(fileSlice).then((md5: string) => {\n      const addPartUrl = `/file/v1/file/multipart/${uploadId}/add/${partNumber}?partMD5Hex=${md5}`\n      doPut<AddPartResponse>(\n        addPartUrl,\n        undefined,\n        accessToken,\n        undefined,\n        BackendDestinationEnum.REPO_ENDPOINT,\n      ).then((addPartResponse: AddPartResponse) => {\n        if (addPartResponse.addPartState === 'ADD_SUCCESS') {\n          // done with this part!\n          multipartUploadStatus.clientSidePartsState![partNumber - 1] = true\n          checkUploadComplete(\n            multipartUploadStatus,\n            fileName,\n            accessToken,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        } else {\n          // retry after a brief delay\n          delay(1000).then(() => {\n            processFilePart(\n              partNumber,\n              multipartUploadStatus,\n              accessToken,\n              fileName,\n              file,\n              request,\n              fileUploadResolve,\n              fileUploadReject,\n            )\n          })\n        }\n      })\n    })\n  })\n}\nexport const checkUploadComplete = (\n  status: MultipartUploadStatus,\n  fileHandleName: string,\n  accessToken: string | undefined,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  // if all client-side parts are true (uploaded), then complete the upload and get the file handle!\n  if (\n    status.clientSidePartsState!.every(v => {\n      return v\n    })\n  ) {\n    const url = `/file/v1/file/multipart/${status.uploadId}/complete`\n    doPut<MultipartUploadStatus>(\n      url,\n      undefined,\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n      .then((newStatus: MultipartUploadStatus) => {\n        // success!\n        fileUploadResolve({\n          fileHandleId: newStatus.resultFileHandleId,\n          fileName: fileHandleName,\n        })\n      })\n      .catch(error => {\n        fileUploadReject(error)\n      })\n  }\n}\nconst uploadFilePart = async (\n  presignedUrl: string,\n  file: any,\n  contentType: string,\n) => {\n  // TODO: could try using axios to get upload progress, then update the client-side part state (change to numbers from 0-1)\n  // This would give progress for the single file (across all parts).\n  // The parent would still need to figure out progress (for the total file set).\n  await fetch(presignedUrl, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': contentType,\n    },\n    body: file,\n  })\n}\nexport const startMultipartUpload = (\n  accessToken: string | undefined,\n  fileName: string,\n  file: Blob,\n  request: MultipartUploadRequest,\n  fileUploadResolve: (fileUpload: FileUploadComplete) => void,\n  fileUploadReject: (reason: any) => void,\n) => {\n  const url = '/file/v1/file/multipart'\n  doPost<MultipartUploadStatus>(\n    url,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n    .then((status: MultipartUploadStatus) => {\n      // started the upload\n      // keep track of the part state client-side\n      const clientSidePartsState: boolean[] = status.partsState\n        .split('')\n        .map(bit => bit === '1')\n      status.clientSidePartsState = clientSidePartsState\n      for (let i = 0; i < clientSidePartsState.length; i = i + 1) {\n        if (!clientSidePartsState[i]) {\n          // upload this part.  note that partNumber is always the index+1\n          processFilePart(\n            i + 1,\n            status,\n            accessToken,\n            fileName,\n            file,\n            request,\n            fileUploadResolve,\n            fileUploadReject,\n          )\n        }\n      }\n      // in case there is no upload work to do!\n      checkUploadComplete(\n        status,\n        fileName,\n        accessToken,\n        fileUploadResolve,\n        fileUploadReject,\n      )\n    })\n    .catch(error => {\n      fileUploadReject(error)\n    })\n}\n\nexport const getFileHandleContentFromID = (\n  fileHandleId: string,\n  accessToken: string,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // get the file handle and url\n    const getFileHandleByIdPromise = getFileHandleById(\n      fileHandleId,\n      accessToken,\n    )\n    const getFileHandlePresignedUrlPromis = getFileHandleByIdURL(\n      fileHandleId,\n      accessToken,\n    )\n    Promise.all([getFileHandleByIdPromise, getFileHandlePresignedUrlPromis])\n      .then(values => {\n        const fileHandle: FileHandle = values[0]\n        const presignedUrl: string = values[1]\n        return getFileHandleContent(fileHandle, presignedUrl).then(\n          (content: string) => {\n            resolve(content)\n          },\n        )\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\nexport const getFileHandleContent = (\n  fileHandle: FileHandle,\n  presignedUrl: string,\n): Promise<string> => {\n  // get the presigned URL, download the data, and send that back (via resolve())\n  return new Promise((resolve, reject) => {\n    // sanity check!  must be less than 5MB\n    if (fileHandle.contentSize < MAX_JS_FILE_DOWNLOAD_SIZE) {\n      fetch(presignedUrl, {\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': fileHandle.contentType,\n        },\n      }).then(response => {\n        // the response is always decoded using UTF-8\n        response.text().then(text => {\n          resolve(text)\n        })\n      })\n    } else {\n      reject('File size exceeds max (5MB)')\n    }\n  })\n}\n\n/**\n * Return the FileHandle of the file associated to the given FileEntity.\n * * @param fileEntity: FileEntity\n * @param accessToken\n * @param endpoint\n */\nexport const getFileResult = (\n  fileEntity: FileEntity,\n  accessToken?: string,\n  includeFileHandles?: boolean,\n  includePreSignedURLs?: boolean,\n  includePreviewPreSignedURLs?: boolean,\n): Promise<FileResult> => {\n  return new Promise((resolve, reject) => {\n    const fileHandleAssociationList: FileHandleAssociation[] = [\n      {\n        associateObjectId: fileEntity.id!,\n        associateObjectType: FileHandleAssociateType.FileEntity,\n        fileHandleId: fileEntity.dataFileHandleId,\n      },\n    ]\n    const request: BatchFileRequest = {\n      includeFileHandles: includeFileHandles || false,\n      includePreSignedURLs: includePreSignedURLs || false,\n      includePreviewPreSignedURLs: includePreviewPreSignedURLs || false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    getFiles(request, accessToken)\n      .then((data: BatchFileResult) => {\n        if (\n          data.requestedFiles.length &&\n          data.requestedFiles[0].fileHandleId !== undefined\n        ) {\n          resolve(data.requestedFiles[0])\n        } else {\n          reject(data.requestedFiles[0].failureCode)\n        }\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\n/**\n * Add a file to the user's download list.\n * Uses http://rest-docs.synapse.org/rest/POST/download/list/add.html\n * @param fileEntityId\n * @param versionNumber\n */\nexport const addFileToDownloadListV2 = (\n  fileEntityId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<AddBatchOfFilesToDownloadListResponse> => {\n  const request: AddBatchOfFilesToDownloadListRequest = {\n    batchToAdd: [{ fileEntityId, versionNumber }],\n  }\n  return doPost(\n    '/repo/v1/download/list/add',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createPackageFromDownloadListV2 = async (\n  zipFileName?: string,\n  accessToken?: string,\n): Promise<DownloadListPackageResponse> => {\n  const request: DownloadListPackageRequest = {\n    zipFileName,\n    includeManifest: true,\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListPackageRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/package/async/start`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/package/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/package/async/start.html\n */\nexport const createManifestFromDownloadListV2 = async (\n  accessToken: string | undefined = undefined,\n) => {\n  const request: DownloadListManifestRequest = {\n    csvTableDescriptor: {},\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListManifestRequest',\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/download/list/manifest/async/start`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/manifest/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/download/list/add/async/start.html\n * Start an asynchronous job to add files to a user's download list from either a view query or a folder. Use GET /download/list/add/async/get/{asyncToken} to get both the job status and job results.\n */\nexport const addFilesToDownloadListV2 = async (\n  request: AddToDownloadListRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AddToDownloadListResponse> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/add/async/start',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/download/list/add/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\n/**\n * Create an ACL\n * https://rest-docs.synapse.org/rest/POST/entity/id/acl.html\n */\nexport const createACL = (\n  entityId: string,\n  acl: AccessControlList,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/entity/${entityId}/acl`,\n    acl,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit an entity to an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation/submission.html\n */\nexport const submitToEvaluation = (\n  submission: EvaluationSubmission,\n  etag: string,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/evaluation/submission?etag=${etag}`,\n    submission,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getEvaluationPermissions = (\n  evalId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<UserEvaluationPermissions>(\n    `/repo/v1/evaluation/${evalId}/permissions`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation queue\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId.html\n */\nexport const getEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evalId) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evalId is empty'))\n  }\n  return doGet<Evaluation>(\n    `/repo/v1/evaluation/${evalId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const updateEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  if (!evaluation.id) {\n    // we must explicitly handle this because /repo/v1/evaluation\n    // without an evalId is a valid API that returns a different API response\n    return Promise.reject(new Error('evaluation does not have an ID'))\n  }\n  return doPut<Evaluation>(\n    `/repo/v1/evaluation/${evaluation.id}`,\n    evaluation,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation queue\n * https://rest-docs.synapse.org/rest/POST/evaluation.html\n */\nexport const createEvaluation = (\n  evaluation: Evaluation,\n  accessToken: string | undefined,\n): Promise<Evaluation> => {\n  return doPost<Evaluation>(\n    '/repo/v1/evaluation/',\n    evaluation,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an existing evaluation queue\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId.html\n */\nexport const deleteEvaluation = (\n  evalId: string,\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get an evaluation round\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/evalRoundId.html\n */\nexport const getEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doGet(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get all evaluation rounds\n * https://rest-docs.synapse.org/rest/GET/evaluation/evalId/round/list.html\n */\nexport const getEvaluationRoundsList = (\n  evalId: string,\n  evaluationRoundListRequest: EvaluationRoundListRequest | undefined,\n  accessToken: string | undefined,\n): Promise<EvaluationRoundListResponse> => {\n  return doPost(\n    `/repo/v1/evaluation/${evalId}/round/list`,\n    evaluationRoundListRequest ?? {},\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create an evaluation round\n * https://rest-docs.synapse.org/rest/POST/evaluation/evalId/round/evalRoundId.html\n */\nexport const createEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPost(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round`,\n    evaluationRound,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an evaluation round\n * https://rest-docs.synapse.org/rest/PUT/evaluation/evalId/round/evalRoundId.html\n */\nexport const updateEvaluationRound = (\n  evaluationRound: EvaluationRound,\n  accessToken: string | undefined,\n): Promise<EvaluationRound> => {\n  return doPut(\n    `/repo/v1/evaluation/${evaluationRound.evaluationId}/round/${evaluationRound.id}`,\n    evaluationRound,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete an evaluation round\n * https://rest-docs.synapse.org/rest/DELETE/evaluation/evalId/round/evalRoundId.html\n */\nexport const deleteEvaluationRound = (\n  evalId: string,\n  evalRoundId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/evaluation/${evalId}/round/${evalRoundId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Executes a user-defined query over the Submissions of a specific Evaluation.\n * https://rest-docs.synapse.org/rest/GET/evaluation/submission/query.html\n */\nexport const getEvaluationSubmissions = (\n  query: string,\n  accessToken: string | undefined,\n): Promise<QueryTableResults> => {\n  return doGet(\n    `/repo/v1/evaluation/submission/query?query=${encodeURI(query)}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get user-friendly OAuth2 request information (to present to the user so they can choose if they want to give consent).\n * http://rest-docs.synapse.org/rest/POST/oauth2/description.html\n */\nexport const getOAuth2RequestDescription = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n): Promise<OIDCAuthorizationRequestDescription> => {\n  return doPost(\n    '/auth/v1/oauth2/description',\n    oidcAuthRequest,\n    undefined, // accessToken: this is not an authenticated call\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Check whether user has already granted consent for the given OAuth client, scope, and claims.\n * Consent persists for one year.\n */\nexport const hasUserAuthorizedOAuthClient = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string,\n): Promise<OAuthConsentGrantedResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consentcheck',\n    oidcAuthRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getOAuth2Client = (\n  clientId: string,\n): Promise<OAuthClientPublic> => {\n  return doGet(\n    `/auth/v1/oauth2/client/${clientId}`,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get OAuth2 Client information (available to the public)\n */\nexport const getAuthenticatedOn = async (\n  accessToken: string,\n): Promise<AuthenticatedOn> => {\n  return doGet(\n    `/auth/v1/authenticatedOn`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * User consents to the given OIDCAuthorizationRequest (after being presented with all information returned by getOAuth2RequestDescription())\n * @param oidcAuthRequest\n * @param accessToken\n * @param endpoint\n */\nexport const consentToOAuth2Request = (\n  oidcAuthRequest: OIDCAuthorizationRequest,\n  accessToken: string | undefined,\n): Promise<AccessCodeResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/consent',\n    oidcAuthRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/***********************\n * FORM SERVICES\n * https://rest-docs.synapse.org/rest/#org.sagebionetworks.repo.web.controller.FormController\n *************************/\n/**\n * Create a FormGroup\n * https://rest-docs.synapse.org/rest/POST/form/group.html\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormGroup = (\n  name: string,\n  accessToken: string,\n): Promise<FormGroup> => {\n  return doPost(\n    `/repo/v1/form/group?name=${encodeURI(name)}`,\n    undefined,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get FormGroup ACL\n * https://rest-docs.synapse.org/rest/GET/form/group/id/acl.html\n */\nexport const getFormACL = (\n  formGroupId: string,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doGet(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormGroup ACL\n * https://rest-docs.synapse.org/rest/PUT/form/group/id/acl.html\n */\nexport const updateFormACL = (\n  formGroupId: string,\n  newAcl: AccessControlList,\n  accessToken: string | undefined,\n): Promise<AccessControlList> => {\n  return doPut(\n    `/repo/v1/form/group/${formGroupId}/acl`,\n    newAcl,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Create a new FormData object\n * https://rest-docs.synapse.org/rest/POST/form/data.html\n * @param formGroupId\n * @param name\n * @param accessToken\n * @param endpoint\n */\nexport const createFormData = (\n  formGroupId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const newFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPost(\n    `/repo/v1/form/data?groupId=${formGroupId}`,\n    newFormData,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update FormData object\n * https://rest-docs.synapse.org/rest/PUT/form/data.html\n */\nexport const updateFormData = (\n  formDataId: string,\n  name: string,\n  dataFileHandleId: string,\n  accessToken: string,\n): Promise<FormData> => {\n  const updatedFormData: FormChangeRequest = {\n    name,\n    fileHandleId: dataFileHandleId,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}`,\n    updatedFormData,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Delete FormData object\n * https://rest-docs.synapse.org/rest/DELETE/form/data.html\n */\nexport const deleteFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/repo/v1/form/data/${formDataId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Submit the identified FormData for review.\n * https://rest-docs.synapse.org/rest/POST/form/data/id/submit.html\n */\nexport const submitFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPost(\n    `/repo/v1/form/data/${formDataId}/submit`,\n    undefined,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request that are\n * owned by the caller. Note: Only objects owned by the caller will be returned.\n * https://rest-docs.synapse.org/rest/POST/form/data/list.html\n */\nexport const listFormData = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * List FormData objects and their associated status that match the filters of the provided request for the entire\n * group. This is used by service accounts to process submissions.\n * https://rest-docs.synapse.org/rest/POST/form/data/list/reviewer.html\n */\nexport const listFormDataAsFormAdmin = (\n  request: ListRequest,\n  accessToken: string | undefined,\n): Promise<ListResponse> => {\n  return doPost(\n    `/repo/v1/form/data/list/reviewer`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to accept a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/accept.html\n */\nexport const acceptFormData = (\n  formDataId: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/accept`,\n    undefined,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Called by the form processing service to reject a submitted data.\n * https://rest-docs.synapse.org/rest/PUT/form/data/id/reject.html\n */\nexport const rejectFormData = (\n  formDataId: string,\n  reason: string,\n  accessToken: string | undefined,\n): Promise<FormData> => {\n  const formRejection: FormRejection = {\n    reason,\n  }\n  return doPut(\n    `/repo/v1/form/data/${formDataId}/reject`,\n    formRejection,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Statistics\n * https://rest-docs.synapse.org/rest/POST/statistics.html\n * Generic endpoint to retrieve statistics about objects. The user should have VIEW_STATISTICS access on the object referenced by the objectId in the request.\n */\nexport const getProjectStatistics = (\n  request: ProjectFilesStatisticsRequest,\n  accessToken: string | undefined,\n): Promise<ProjectFilesStatisticsResponse> => {\n  return doPost(\n    `/repo/v1/statistics`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// see https://rest-docs.synapse.org/rest/POST/restrictionInformation.html\nexport const getRestrictionInformation = (\n  request: RestrictionInformationRequest,\n  accessToken: string | undefined,\n): Promise<RestrictionInformationResponse> => {\n  return doPost(\n    `/repo/v1/restrictionInformation`,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n/**\n * Returns a paginated result of access requirements associated for an entity\n *\n * See https://rest-docs.synapse.org/rest/GET/entity/id/accessRequirement.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity\n * @param {number} [limit=50]\n * @param {number} [offset=0]\n * @returns {Promise<PaginatedResults<AccessRequirement>>}\n */\nexport const getAccessRequirement = (\n  accessToken: string | undefined,\n  id: string,\n  limit: number = 50,\n  offset: number = 0,\n): Promise<PaginatedResults<AccessRequirement>> => {\n  const url = `/repo/v1/entity/${id}/accessRequirement?limit=${limit}&offset=${offset}`\n  return doGet<PaginatedResults<AccessRequirement>>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns the Access Requirement with the given AR_ID\n *\n * See http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId.html\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {number} id id of the access requirement\n * @returns {Promise<AccessRequirement>}\n */\nexport const getAccessRequirementById = <T extends AccessRequirement>(\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<T> => {\n  return doGet<T>(\n    ACCESS_REQUIREMENT_BY_ID(id),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Fetch the ACL for the access requirement with the given id.\n *\n * See https://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/acl.html\n * @returns the ACL for the specified AR, or null if the ACL does not exist\n */\nexport const getAccessRequirementAcl = (\n  accessToken: string | undefined,\n  id: string | number,\n): Promise<AccessControlList | null> => {\n  // It's possible for an AR to not have an ACL, so pre-emptively handle 404\n  return allowNotFoundError(() =>\n    doGet<AccessControlList>(\n      ACCESS_REQUIREMENT_ACL(id),\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Search for access requirements\n *\n * See http://rest-docs.synapse.org/rest/POST/accessRequirement/search.html\n */\nexport const searchAccessRequirements = (\n  accessToken: string | undefined,\n  request: AccessRequirementSearchRequest,\n): Promise<AccessRequirementSearchResponse> => {\n  return doPost<AccessRequirementSearchResponse>(\n    ACCESS_REQUIREMENT_SEARCH,\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve an access requirement status for a given access requirement ID.\n *\n * @param {string} requirementId id of entity to lookup\n * @returns {AccessRequirementStatus}\n */\nexport const getAccessRequirementStatus = (\n  accessToken: string | undefined,\n  requirementId: string | number,\n): Promise<AccessRequirementStatus | ManagedACTAccessRequirementStatus> => {\n  return doGet(\n    ACCESS_REQUIREMENT_STATUS(requirementId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns all the access requirements associated to an entity {id}, calling the\n * paginated getAccessRequirement service until all results are returned.\n *\n * @param {(string | undefined)} accessToken token of user\n * @param {string} id id of entity to lookup\n * @returns {Promise<Array<AccessRequirement>>}\n */\nexport const getAllAccessRequirements = (\n  accessToken: string | undefined,\n  id: string,\n): Promise<Array<AccessRequirement>> => {\n  // format function to be callable by getAllOfPaginatedService\n  const fn = (limit: number, offset: number) => {\n    const url = `/repo/v1/entity/${id}/accessRequirement?limit=${limit}&offset=${offset}`\n    return doGet<PaginatedResults<AccessRequirement>>(\n      url,\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    )\n  }\n  return getAllOfPaginatedService(fn)\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {(number | undefined)} id the unique immutable ID\n * @returns {AccessApproval}\n */\nexport const getAccessApproval = async (\n  accessToken: string | undefined,\n  approvalId: number | undefined,\n): Promise<AccessApproval> => {\n  const url = `/repo/v1/accessApproval/${approvalId}`\n  return doGet<AccessApproval>(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n *\n *\n * @param {(string | undefined)} accessToken user access token\n * @param {AccessApproval} accessApproval access approval request object\n * @returns {AccessApproval}\n */\nexport const postAccessApproval = async (\n  accessToken: string | undefined,\n  accessApproval: AccessApproval,\n): Promise<AccessApproval> => {\n  return doPost<AccessApproval>(\n    '/repo/v1/accessApproval',\n    accessApproval,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/download/list.html\nexport const getDownloadList = (accessToken: string | undefined) => {\n  return doGet<DownloadList>(\n    '/file/v1/download/list',\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getDownloadOrder = (\n  zipFileName: string | undefined,\n  accessToken: string | undefined,\n): Promise<DownloadOrder> => {\n  const baseURL = '/file/v1/download/order'\n  const url = zipFileName ? `${baseURL}?zipFileName=${zipFileName}` : baseURL\n  return doPost(\n    url,\n    undefined,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport type FunctionReturningPaginatedResults<T> = (\n  limit: number,\n  offset: number,\n) => Promise<PaginatedResults<T>>\n/**\n * Utility function to get all the results of a paginated service\n *\n * @template T Type of paginated service\n * @param {FunctionReturningPaginatedResults<T>} fn Function that returns a paginated synapse object, accepts a limit and offset\n * @returns\n */\nexport const getAllOfPaginatedService = async <T>(\n  fn: FunctionReturningPaginatedResults<T>,\n) => {\n  const limit = 50\n  let offset = 0\n  let existsMoreData = true\n  const results: T[] = []\n\n  while (existsMoreData) {\n    try {\n      const data = await fn(limit, offset)\n      results.push(...data.results)\n      offset += data.results.length\n      if (data.results.length < limit) {\n        existsMoreData = false\n      }\n    } catch (e) {\n      throw Error(`Error on getting paginated results ${e}`)\n    }\n  }\n\n  return results\n}\n\n// https://rest-docs.synapse.org/rest/POST/download/list/remove.html\nexport const deleteDownloadListFiles = (\n  list: FileHandleAssociation[],\n  accessToken: string | undefined,\n): Promise<DownloadList> => {\n  return doPost<DownloadList>(\n    '/file/v1/download/list/remove',\n    { list },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(data => {\n    dispatchDownloadListChangeEvent(data)\n    return data\n  })\n}\n\n// https://rest-docs.synapse.org/rest/DELETE/download/list.html ?\nexport const deleteDownloadList = (accessToken: string | undefined) => {\n  return doDelete(\n    '/file/v1/download/list',\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  ).then(_ => {\n    dispatchDownloadListChangeEvent(undefined)\n  })\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/entity/id/table/transaction/async/start.html\n * @param {*} tableUpdateRequest\n * @param {*} accessToken\n * @param {*} endpoint\n * // technically returns a TableUpdateTransactionResponse, but I don't see any reason we need this\n */\nexport const updateTable = async (\n  tableUpdateRequest: TableUpdateTransactionRequest,\n  accessToken: string | undefined = undefined,\n): Promise<any> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/start`,\n    tableUpdateRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    `/repo/v1/entity/${tableUpdateRequest.entityId}/table/transaction/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n}\n\nexport const getTransformSqlWithFacetsRequest = (\n  transformSqlWithFacetsRequest: TransformSqlWithFacetsRequest,\n) => {\n  return doPost<SqlTransformResponse>(\n    '/repo/v1/table/sql/transform',\n    transformSqlWithFacetsRequest,\n    undefined, // no auth needed\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const createPersonalAccessToken = (\n  accessTokenGenerationRequest: AccessTokenGenerationRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessTokenGenerationResponse>(\n    '/auth/v1/personalAccessToken',\n    accessTokenGenerationRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const getPersonalAccessTokenRecords = (\n  accessToken: string | undefined,\n  nextPageToken: string | undefined,\n) => {\n  return doGet<AccessTokenRecordList>(\n    `/auth/v1/personalAccessToken${\n      nextPageToken ? '?nextPageToken=' + nextPageToken : ''\n    }`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nexport const deletePersonalAccessToken = (\n  accessTokenId: string,\n  accessToken: string | undefined,\n) => {\n  return doDelete(\n    `/auth/v1/personalAccessToken/${accessTokenId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/projects.html\nexport const getMyProjects = (\n  accessToken: string,\n  params: GetProjectsParameters = {},\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `/repo/v1/projects?${urlParams.toString()}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/projects/user/principalId.html\nexport const getUserProjects = (\n  userId: string,\n  params: GetProjectsParameters = {},\n  accessToken?: string,\n) => {\n  const urlParams = new URLSearchParams(\n    removeUndefined(params) as Record<string, string>,\n  )\n  return doGet<ProjectHeaderList>(\n    `/repo/v1/projects/user/${userId}?${urlParams.toString()}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/path.html\nexport const getEntityPath = (entityId: string, accessToken?: string) => {\n  return doGet<EntityPath>(\n    `/repo/v1/entity/${entityId}/path`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/GET/entity/id/version.html\nexport const getEntityVersions = (\n  entityId: string,\n  accessToken?: string,\n  offset: number = 0,\n  limit: number = 200,\n) => {\n  return doGet<PaginatedResults<VersionInfo>>(\n    `/repo/v1/entity/${entityId}/version?offset=${offset}&limit=${limit}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/search.html\nexport const searchEntities = (query: SearchQuery, accessToken?: string) => {\n  return doPost<SearchResults>(\n    '/repo/v1/search',\n    query,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\nconst getDownloadListJobResponse = async (\n  accessToken: string | undefined,\n  queryRequestDetails: QueryRequestDetails,\n): Promise<QueryResponseDetails> => {\n  const downloadListQueryRequest: DownloadListQueryRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.DownloadListQueryRequest',\n    requestDetails: queryRequestDetails,\n  }\n  const asyncJobId = await doPost<AsyncJobId>(\n    '/repo/v1/download/list/query/async/start',\n    downloadListQueryRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  const response = await getAsyncResultBodyFromJobId<DownloadListQueryResponse>(\n    asyncJobId.token,\n    `/repo/v1/download/list/query/async/get/${asyncJobId.token}`,\n    accessToken,\n  )\n  return response.responseDetails\n}\n\n/**\n * Clear all files from the user's Download List v2.\n * http://rest-docs.synapse.org/rest/DELETE/download/list.html\n */\nexport const clearDownloadListV2 = (\n  accessToken: string | undefined,\n): Promise<void> => {\n  return doDelete(\n    '/repo/v1/download/list',\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get Download List v2 available files to download\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getAvailableFilesToDownload = (\n  request: AvailableFilesRequest,\n  accessToken: string | undefined = undefined,\n): Promise<AvailableFilesResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<AvailableFilesResponse>\n}\n\n/**\n * Get Download List v2 statistics\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListStatistics = (\n  accessToken: string | undefined = undefined,\n): Promise<FilesStatisticsResponse> => {\n  const filesStatsRequest: FilesStatisticsRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.download.FilesStatisticsRequest',\n  }\n  return getDownloadListJobResponse(\n    accessToken,\n    filesStatsRequest,\n  ) as Promise<FilesStatisticsResponse>\n}\n\n/**\n * Get Download List v2 actions required\n * http://rest-docs.synapse.org/rest/POST/download/list/query/async/start.html\n */\nexport const getDownloadListActionsRequired = (\n  request: ActionRequiredRequest,\n  accessToken: string | undefined = undefined,\n): Promise<ActionRequiredResponse> => {\n  return getDownloadListJobResponse(\n    accessToken,\n    request,\n  ) as Promise<ActionRequiredResponse>\n}\n\n/**\n * Remove item from Download List v2\n * http://rest-docs.synapse.org/rest/POST/download/list/remove.html\n */\nexport const removeItemFromDownloadListV2 = (\n  item: DownloadListItem,\n  accessToken: string | undefined = undefined,\n): Promise<RemoveBatchOfFilesFromDownloadListResponse> => {\n  const request: RemoveBatchOfFilesFromDownloadListRequest = {\n    batchToRemove: [item],\n  }\n  return doPost<RemoveBatchOfFilesFromDownloadListResponse>(\n    '/repo/v1/download/list/remove',\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/researchProject.html\nexport const updateResearchProject = (\n  requestObj: ResearchProject,\n  accessToken: string,\n) => {\n  return doPost<ResearchProject>(\n    '/repo/v1/researchProject',\n    requestObj,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/researchProjectForUpdate.html\nexport const getResearchProject = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<ResearchProject>(\n    `/repo/v1/accessRequirement/${requirementId}/researchProjectForUpdate`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/dataAccessRequestForUpdate.html\nexport const getDataAccessRequestForUpdate = (\n  requirementId: string,\n  accessToken: string,\n) => {\n  return doGet<RequestInterface | RenewalInterface>(\n    `/repo/v1/accessRequirement/${requirementId}/dataAccessRequestForUpdate`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/accessRequirement/requirementId/dataAccessRequestForUpdate.html\nexport const updateDataAccessRequest = (\n  requestObj: RequestInterface,\n  accessToken: string,\n) => {\n  return doPost<RequestInterface>(\n    `/repo/v1/dataAccessRequest`,\n    requestObj,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/dataAccessRequest/requestId/submission.html\nexport const submitDataAccessRequest = (\n  requestObj: CreateSubmissionRequest,\n  accessToken: string,\n) => {\n  return doPost<ACTSubmissionStatus>(\n    `/repo/v1/dataAccessRequest/${requestObj.requestId}/submission`,\n    requestObj,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId/cancellation.html\n// Cancel a submission. Only the user who created this submission can cancel it.\nexport const cancelDataAccessRequest = (\n  submissionId: string,\n  accessToken: string,\n) => {\n  return doPut<ACTSubmissionStatus>(\n    `/repo/v1/dataAccessSubmission/${submissionId}/cancellation`,\n    undefined,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/GET/dataAccessSubmission/submissionId.html\n// Fetch a submission by its id. If the user is a not part of the ACT they must be validated and assigned as reviewers of the AR submissions in order to fetch the submission.\nexport const getSubmissionById = (\n  submissionId: string | number,\n  accessToken?: string,\n) => {\n  return doGet<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(submissionId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Request to update a submission' state. Only ACT members and delegates with the REVIEW_SUBMISSION ACL\n * permission can perform this action.\n *\n * See https://docs.synapse.org/rest/PUT/dataAccessSubmission/submissionId.html\n * @param request\n * @param accessToken\n * @returns\n */\nexport const updateSubmissionStatus = (\n  request: SubmissionStateChangeRequest,\n  accessToken?: string,\n): Promise<DataAccessSubmission> => {\n  return doPut<DataAccessSubmission>(\n    DATA_ACCESS_SUBMISSION_BY_ID(request.submissionId),\n    request,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\n//\nexport const getSchemaBinding = (entityId: string, accessToken?: string) => {\n  return allowNotFoundError(() =>\n    doGet<JsonSchemaObjectBinding>(\n      ENTITY_SCHEMA_BINDING(entityId),\n      accessToken,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n\n/**\n * Get the schema bound to an entity.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getSchemaValidationResults = (\n  entityId: string,\n  accessToken?: string,\n) => {\n  return doGet<ValidationResults>(\n    ENTITY_SCHEMA_VALIDATION(entityId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get a schema by its $id.\n * https://docs.synapse.org/rest/GET/entity/id/schema/binding.html\n * @returns\n */\nexport const getSchema = (schema$id: string) => {\n  return doGet<JSONSchema7>(\n    `${REGISTERED_SCHEMA_ID(schema$id)}`,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Retrieve a \"validation\" schema--all references are resolved and dereferenced.\n * @param schema$id\n * @returns\n */\nexport const getValidationSchema = async (\n  schema$id: string,\n  accessToken?: string,\n): Promise<{\n  concreteType: 'org.sagebionetworks.repo.model.schema.GetValidationSchemaResponse'\n  validationSchema: JSONSchema7\n}> => {\n  const asyncJobId = await doPost<AsyncJobId>(\n    SCHEMA_VALIDATION_START,\n    {\n      concreteType:\n        'org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest',\n      $id: schema$id,\n    },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n  return getAsyncResultBodyFromJobId(\n    asyncJobId.token,\n    SCHEMA_VALIDATION_GET(asyncJobId.token),\n    accessToken,\n  )\n}\n\n/**\n * Determine if the caller has a particular access type on an entity\n * https://docs.synapse.org/rest/GET/entity/id/access.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const hasAccessToEntity = (\n  entityId: string,\n  accessType: ACCESS_TYPE,\n  accessToken?: string,\n) => {\n  return doGet<HasAccessResponse>(\n    `${ENTITY_ACCESS(entityId)}?accessType=${accessType}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Get the entity and its annotations as a JSON object\n * https://docs.synapse.org/rest/GET/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const getEntityJson = (entityId: string, accessToken?: string) => {\n  return doGet<EntityJson>(\n    ENTITY_JSON(entityId),\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Update an entity and its annotations using a JSON object\n * https://docs.synapse.org/rest/PUT/entity/id/json.html\n * @param entityId\n * @param accessToken\n * @returns\n */\nexport const updateEntityJson = (\n  entityId: string,\n  json: EntityJson,\n  accessToken?: string,\n) => {\n  return doPut<EntityJson>(\n    ENTITY_JSON(entityId),\n    json,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This service returns the email used for user notifications, i.e. when a Synapse message\n *  is sent and if the user has elected to receive messages by email, then this is the\n *  email address at which the user will receive the message.\n * https://docs.synapse.org/rest/GET/notificationEmail.html\n */\nexport const getNotificationEmail = (accessToken?: string) => {\n  return doGet<NotificationEmail>(\n    NOTIFICATION_EMAIL,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/principal/available.html\nexport const isAliasAvailable = (\n  aliasCheckRequest: AliasCheckRequest,\n  accessToken?: string,\n): Promise<AliasCheckResponse> => {\n  return doPost<AliasCheckResponse>(\n    ALIAS_AVAILABLE,\n    aliasCheckRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account/emailValidation.html\nexport const registerAccountStep1 = (\n  newUser: NewUser,\n  portalEndpoint: string,\n): Promise<any> => {\n  return doPost(\n    REGISTER_ACCOUNT_STEP_1(portalEndpoint),\n    newUser,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/account2.html\nexport const registerAccountStep2 = (\n  accountSetupInfo: AccountSetupInfo,\n): Promise<LoginResponse> => {\n  return doPost(\n    REGISTER_ACCOUNT_STEP_2,\n    accountSetupInfo,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Step 2 of creating a new account via oauth signin\n *  http://rest-docs.synapse.org/rest/POST/oauth2/account2.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const oAuthRegisterAccountStep2 = (\n  userName: string,\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: any = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  return doPost(\n    '/auth/v1/oauth2/account2',\n    { provider, authenticationCode, redirectUrl, userName },\n    undefined,\n    undefined,\n    endpoint,\n  )\n}\n\n/**\n * Bind OAuth account to Synapse account as a new 'alias'.\n * https://rest-docs.synapse.org/rest/POST/oauth2/alias.html\n * @param {*} provider\n * @param {*} authenticationCode\n * @param {*} redirectUrl\n * @param {*} endpoint\n */\nexport const bindOAuthProviderToAccount = async (\n  provider: string,\n  authenticationCode: string | number,\n  redirectUrl: string,\n  endpoint: any = BackendDestinationEnum.REPO_ENDPOINT,\n): Promise<LoginResponse> => {\n  // Special case.  web app may not have discovered the access token by this point in init.\n  // Look for the access token ourselves before binding.\n  const accessToken = await getAccessTokenFromCookie()\n  return doPost(\n    '/auth/v1/oauth2/alias',\n    { provider, authenticationCode, redirectUrl },\n    accessToken,\n    undefined,\n    endpoint,\n  )\n}\n\n/**\n * Remove an alias associated with an account via the OAuth mechanism.\n * http://rest-docs.synapse.org/rest/DELETE/oauth2/alias.html\n * @param provider\n * @param accessToken\n * @param alias\n */\nexport const unbindOAuthProviderToAccount = async (\n  provider: string,\n  accessToken: string | undefined,\n  alias: string,\n) => {\n  const url = `/auth/v1/oauth2/alias?provider=${provider}&alias=${encodeURIComponent(\n    alias,\n  )}`\n  return doDelete(\n    url,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n//http://rest-docs.synapse.org/rest/POST/termsOfUse2.html\nexport const signSynapseTermsOfUse = (accessToken: string) => {\n  return doPost(\n    SIGN_TERMS_OF_USE,\n    { accessToken },\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n//https://rest-docs.synapse.org/rest/POST/verificationSubmission.html\nexport const createProfileVerificationSubmission = (\n  verificationSubmission: VerificationSubmission,\n  accessToken: string,\n) => {\n  return doPost(\n    VERIFICATION_SUBMISSION,\n    verificationSubmission,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithCurrentPassword = (\n  newPassword: ChangePasswordWithCurrentPassword,\n  accessToken: string | undefined,\n) => {\n  return doPost<ChangePasswordWithCurrentPassword>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// https://rest-docs.synapse.org/rest/POST/user/changePassword.html\nexport const changePasswordWithToken = (\n  newPassword: ChangePasswordWithToken,\n) => {\n  return doPost<ChangePasswordWithToken>(\n    '/auth/v1/user/changePassword',\n    newPassword,\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n// http://rest-docs.synapse.org/rest/POST/user/password/reset.html\nexport const resetPassword = (email: string) => {\n  const endpoint = window.location.href + '?passwordResetToken='\n  const url = `/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(\n    endpoint,\n  )}`\n  return doPost(\n    url,\n    { email },\n    undefined,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/account/id/emailValidation.html\n * @param email\n * @param userId\n * @param portalEndpoint\n * @param accessToken\n */\nexport const addEmailAddressStep1 = (\n  email: string,\n  userId: string,\n  portalEndpoint: string,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/account/${userId}/emailValidation?portalEndpoint=${portalEndpoint}`,\n    { email },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/POST/email.html\n * @param emailValidationSignedToken\n * @param accessToken\n */\nexport const addEmailAddressStep2 = (\n  emailValidationSignedToken: EmailValidationSignedToken,\n  accessToken: string | undefined,\n) => {\n  return doPost(\n    `/repo/v1/email`,\n    emailValidationSignedToken,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/DELETE/email.html\n * @param email\n * @param accessToken\n */\nexport const deleteEmail = (\n  accessToken: string | undefined,\n  email?: string,\n) => {\n  return doDelete(\n    `/repo/v1/email?email=${email}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * https://rest-docs.synapse.org/rest/PUT/notificationEmail.html\n * @param email\n * @param accessToken\n */\nexport const updateNotificationEmail = (\n  email: string,\n  accessToken: string | undefined,\n) => {\n  return doPut(\n    '/repo/v1/notificationEmail',\n    { email },\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a reply and its statistic given its ID.\nTarget users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/replyId.html\n * @param replyId\n * @param accessToken\n */\nexport const getReply = (replyId: string, accessToken: string | undefined) => {\n  return doGet<DiscussionReplyBundle>(\n    `/repo/v1/reply/${replyId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/reply/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getReplyMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `/repo/v1/reply/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get a thread and its statistic given its ID.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/threadId.html\n * @param threadId\n * @param accessToken\n */\nexport const getThread = (\n  threadId: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<DiscussionThreadBundle>(\n    `/repo/v1/thread/${threadId}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * This API is used to get the message URL of a reply. The message\n * URL is the URL to download the file which contains the reply message.\n * Target users: anyone who has READ permission to the project.\n * http://rest-docs.synapse.org/rest/GET/thread/messageUrl.html\n * @param messageKey\n * @param accessToken\n */\n\nexport const getThreadMessageUrl = (\n  messageKey: string,\n  accessToken: string | undefined,\n) => {\n  return doGet<MessageURL>(\n    `/repo/v1/thread/messageUrl?messageKey=${messageKey}`,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a full text search in the forum defined by the given id.\n * Target users: anyone who has READ permission on the project of the forum.\n * http://rest-docs.synapse.org/rest/POST/forum/forumId/search.html\n * @param discussionSearchRequest\n * @param forumId\n * @param accessToken\n */\n\nexport const forumSearch = (\n  discussionSearchRequest: DiscussionSearchRequest,\n  forumId: string,\n  accessToken: string | undefined,\n) => {\n  return doPost<DiscussionSearchResponse>(\n    `/repo/v1/forum/${forumId}/search`,\n    discussionSearchRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Search through the history of access approvals filtering by accessor/submitter\n * and optional by access requirement id. The caller must be a member of the ACT.\n * https://rest-docs.synapse.org/rest/POST/accessApproval/search.html\n * @param accessApprovalSearchRequest\n * @param accessToken\n */\n\nexport const searchAccessApprovals = (\n  accessApprovalSearchRequest: AccessApprovalSearchRequest | undefined,\n  accessToken: string | undefined,\n) => {\n  return doPost<AccessApprovalSearchResponse>(\n    '/repo/v1/accessApproval/search',\n    accessApprovalSearchRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Performs a search through access submissions that are reviewable by the user and\n * that match the criteria in the given request.\n * @param submissionSearchRequest\n * @param accessToken\n * https://rest-docs.synapse.org/rest/POST/dataAccessSubmission/search.html\n */\nexport const searchAccessSubmission = (\n  submissionSearchRequest: SubmissionSearchRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionSearchResponse>(\n    ACCESS_REQUEST_SUBMISSION_SEARCH,\n    submissionSearchRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * http://rest-docs.synapse.org/rest/POST/accessRequirement/requirementId/approvedSubmissionInfo.html\n */\nexport const getApprovedSubmissionInfo = (\n  submissionInfoPageRequest: SubmissionInfoPageRequest,\n  accessToken: string | undefined,\n) => {\n  return doPost<SubmissionInfoPage>(\n    `/repo/v1/accessRequirement/${submissionInfoPageRequest.accessRequirementId}/approvedSubmissionInfo`,\n    submissionInfoPageRequest,\n    accessToken,\n    undefined,\n    BackendDestinationEnum.REPO_ENDPOINT,\n  )\n}\n\n/**\n * Returns the presigned URL for a user's profile pic. Note that the presigned URL\n * expires after a short time, so it should be used immediately.\n * @param userId\n * @returns A presigned URL that can be used to fetch the profile preview image, or null if the user\n *   does not have a profile image\n */\nexport function getProfilePicPreviewPresignedUrl(userId: string) {\n  return allowNotFoundError(() =>\n    doGet<string>(\n      PROFILE_IMAGE_PREVIEW(userId) + `?redirect=false`,\n      undefined,\n      undefined,\n      BackendDestinationEnum.REPO_ENDPOINT,\n    ),\n  )\n}\n"],"names":["_excluded","React","FormCheckInput","forwardRef","_ref","ref","id","bsPrefix","bsCustomPrefix","className","_ref$type","type","_ref$isValid","isValid","_ref$isInvalid","isInvalid","isStatic","_ref$as","as","Component","props","_objectWithoutPropertiesLoose","_useContext","useContext","FormContext","controlId","custom","_ref2","prefix","defaultPrefix","useBootstrapPrefix","_jsx","classNames","displayName","FormCheckLabel","htmlFor","FormCheck","_ref$inline","inline","_ref$disabled","disabled","_ref$feedbackTooltip","feedbackTooltip","feedback","style","_ref$title","title","label","children","propCustom","innerFormContext","useMemo","hasLabel","input","_jsxs","_Fragment","Input","Label","FormFileInput","lang","FormFileLabel","FormFile","dataBrowse","_ref$inputAs","inputAs","FormGroup","context","Switch","FormText","undefined","cookie.parse","this","cookie.serialize","icon","rest","authenticationReceiptKey","value","clickEvent","SynapseClient.login","SynapseClient.setAccessTokenCookie","localStorage","console","reason","errorMessage","event","SynapseClient.getRootURL","SynapseClient","window","authUrl","onGoogleSignIn","handleLogin","username","handleChange","password","resetPasswordUrl","registerAccountUrl","UniversalCookies","SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE","SynapseConstants.EXPERIMENTAL_MODE_COOKIE","SynapseConstants.STYLEGUIDE_STACK_LOCAL_STORAGE_KEY"],"mappings":"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,EAmDa,GAAoC,CAC/C,EACA,IAEO,EACL,+BACA,EACA,EACA,OACA,EAAuB,aACzB,EAiHW,GAAW,CAAC,EAAiB,IACjC,EACL,kBAAkB,IAClB,EACA,OACA,EAAuB,aACzB,EAYW,GAAqB,CAChC,EACA,IAEO,EACL,wCAAwC,IACxC,EACA,OACA,EAAuB,aACzB,EAUW,GAAY,CACvB,EACA,IAEO,EACL,mBAAmB,IACnB,EACA,OACA,EAAuB,aACzB,EAYW,GAAsB,CACjC,EACA,IAEO,EACL,yCAAyC,IACzC,EACA,OACA,EAAuB,aACzB,EAYW,GAAc,CACzB,EACA,EACA,IAEO,EACL,kBAAkB,WAClB,EACA,EACA,OACA,EAAuB,aACzB,EAWW,GAAwB,CACnC,EACA,IAEO,EACL,iCACA,EACA,EACA,OACA,EAAuB,aACzB,EAUW,GAAyB,CACpC,EACA,IAEO,EACL,GACA,EACA,EACA,OACA,EAAuB,aACzB,EAMW,GAA4B,CACvC,EACA,IAEO,EACL,8BAA8B,EAA0B,6CACxD,EACA,EACA,OACA,EAAuB,aACzB,EAUK,YAA0C,EAAgB,CACxD,MAAA,IAAmB,IACxB,EACE,GAAsB,CAAM,EAAI,kBAChC,OACA,OACA,EAAuB,aACzB,CACF,CACF;;;;;;;;;;;;;;;;;;;"}