import{r as g,a,F as E,j as e}from"./jsx-runtime.b9dbe3f2.js";import{al as v}from"./index.5da0c2fe.js";import{b as y}from"./useAccessRequirements.04427f1b.js";import{I as M}from"./ElementWithTooltip.974896e1.js";import{an as p,am as N,al as I}from"./SynapseConstants.aef18750.js";import{l as n,A as O}from"./AccessRequirementList.41da6f0a.js";import{S as o}from"./Skeleton.e124e8e4.js";import{T as b}from"./Typography.67fe2a50.js";import{B as w}from"./Button.5e8fef04.js";const F="Requires Acceptance of Data-Specific Terms of Use",U="Requires Acceptance of Data-Specific Terms of Use",B="Requires Approval of Data-Specific Access Requirements",x="Access Restricted",A=({accessRequirementId:m,count:R})=>{var q,S,T;const f=v(),{data:s,isFetching:l,isError:c,error:u}=y(m);g.exports.useEffect(()=>{c&&u&&f(u)},[c,u,f]);const[L,_]=g.exports.useState(!1);let C=e(E,{});if(!c&&!l&&s){let t,r="",i="";switch(s.concreteType){case n.TermsOfUseAccessRequirement:t=F,r=I,i=(q=s.name)!=null?q:"";break;case n.SelfSignAccessRequirement:{t=U;const h=s;h.isValidatedProfileRequired?r=p:h.isCertifiedUserRequired?r=N:r=I,i=(S=s.name)!=null?S:"";break}case n.ManagedACTAccessRequirement:case n.ACTAccessRequirement:t=B,r=p,i=(T=s.name)!=null?T:"";break;case"org.sagebionetworks.repo.model.LockAccessRequirement":t=x,r=p,i="Access restricted pending review by Synapse Access and Compliance Team.";break}t&&(C=a("div",{className:"MeetAccessRequirementCard actionRequiredCard",children:[e(M,{type:r}),a("div",{className:"metadata",children:[e(b,{variant:"headline3",className:"title",children:t}),a("div",{className:"fileCount",children:[R," File(s)"]}),e("div",{className:"description",children:i})]}),e("div",{className:"startButtonContainer",children:e(w,{className:"startButton",variant:"primary",onClick:()=>_(!0),children:"Start"})})]}))}return a(E,{children:[!c&&!l&&C,l&&e(d,{}),L&&s&&e(O,{entityId:s.subjectIds[0].id,accessRequirementFromProps:[s],renderAsModal:!0,numberOfFilesAffected:R,onHide:()=>_(!1)})]})},d=()=>a("div",{className:"MeetAccessRequirementCard actionRequiredCard",children:[e(o,{variant:"rectangular",width:136,height:74}),a("div",{className:"metadata",children:[e("div",{className:"title",children:e(o,{width:320})}),e("div",{className:"fileCount",children:e(o,{width:100})})]}),e("div",{className:"startButtonContainer",children:e(o,{variant:"rectangular",width:160,height:33})})]});try{A.displayName="MeetAccessRequirementCard",A.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#MeetAccessRequirementCard"]={docgenInfo:A.__docgenInfo,name:"MeetAccessRequirementCard",path:"src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#MeetAccessRequirementCard"})}catch{}try{d.displayName="LoadingAccessRequirementCard",d.__docgenInfo={description:"",displayName:"LoadingAccessRequirementCard",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#LoadingAccessRequirementCard"]={docgenInfo:d.__docgenInfo,name:"LoadingAccessRequirementCard",path:"src/lib/containers/download_list_v2/MeetAccessRequirementCard.tsx#LoadingAccessRequirementCard"})}catch{}export{d as L,A as M};
