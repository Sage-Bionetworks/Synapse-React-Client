import{r as n,R as d,j as s,a as u}from"./jsx-runtime.732db4fa.js";import{Q as m,d as y,i as f,g as C,S as P,a as S,b as h,c as g,e as k,f as b,s as x,h as _,p as w,j as E,m as R,k as T,l as v,n as O,o as Q,q as A,r as W,t as I,u as M,v as D}from"./index.6ade810e.js";import{S as j}from"./ToastMessage.ca9da849.js";import{d as B}from"./dayjs.min.0ad62631.js";import{S as K}from"./getEndpoint.f1f195f5.js";import{M as N}from"./react-router.6d6b8cd2.js";var c={exports:{}};c.exports={ReactQueryDevtools:function(){return null},ReactQueryDevtoolsPanel:function(){return null}};async function q(){h();let e=await g(),t;try{t=await k(e)}catch(o){throw o instanceof b&&o.status===401&&(console.error("Encountered error fetching profile: ",o,"Signing out..."),await x(()=>{}),e=void 0),o}let a;return e&&_(e).then(o=>{a=B(o.authenticatedOn).format("L LT")}),{accessToken:e,profile:t,authenticatedOn:a}}const r=new m(y);function L(e){const t=K[e];window.SRC={OVERRIDE_ENDPOINT_CONFIG:t},r.resetQueries()}const U={default:w,sageBionetworks:E,mtb:R,arkPortal:T,adKnowledgePortal:v,nfPortal:O,bsmnPortal:Q,psychEncodePortal:A,stopAdPortal:W,digitalHealthPortal:I,crcResearcherPortal:M,cancerComplexityPortal:D};function i(e){const{storybookContext:t}=e;n.exports.useEffect(()=>{L(t.globals.stack)},[t.globals.stack]);const[a,o]=d.useState(void 0);n.exports.useEffect(()=>{q().then(l=>{o(l.accessToken)})}),n.exports.useEffect(()=>{async function l(){await r.cancelQueries(),r.removeQueries(),await r.invalidateQueries()}l()},[a]);const p=n.exports.useMemo(()=>({accessToken:a,isInExperimentalMode:f(),utcTime:C(),withErrorBoundary:!0,downloadCartPageUrl:"/?path=/story/download-downloadcartpage--demo"}),[a]);return s(P,{queryClient:r,synapseContext:p,theme:{...S,palette:U[t.globals.palette]},children:u(N,{children:[t.globals.showReactQueryDevtools&&s(c.exports.ReactQueryDevtools,{}),s(j,{}),s("main",{children:e.children})]})},a)}try{i.displayName="StorybookComponentWrapper",i.__docgenInfo={description:"Wraps storybook story components to ensure that all components receive required context.",displayName:"StorybookComponentWrapper",props:{storybookContext:{defaultValue:null,description:"",name:"storybookContext",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"]={docgenInfo:i.__docgenInfo,name:"StorybookComponentWrapper",path:"src/lib/containers/StorybookComponentWrapper.tsx#StorybookComponentWrapper"})}catch{}export{i as S,q as s};
