import{I as p,S as m,$ as F}from"./index.37bece34.js";import{a as S}from"./useUserBundle.2b2dfb66.js";import{I as _}from"./IconSvg.d5022c82.js";import{a as w,j as y}from"./jsx-runtime.2e925369.js";const H=window.React.useEffect,g=window.React.useState,l=t=>{var d,r;const{fileHandleAssociation:e,showDownloadIcon:c,redirect:u=!1,displayValue:n}=t,{accessToken:i}=S(),[s,f]=g();H(()=>{n===void 0&&(async()=>f(await F({requestedFiles:[e],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},i)))()},[i,n,e]);let o;return s&&(o=(d=s.requestedFiles[0].fileHandle)==null?void 0:d.fileName),w("button",{onClick:()=>{i&&e&&p(e.fileHandleId,i,e.associateObjectType,e.associateObjectId,u).then(a=>{window.open(a,"_blank")}).catch(a=>{console.error("Error on retrieving file handle url ",a)})},className:`SRC-primary-text-color ${m}`,type:"button",style:{padding:0},children:[(r=n!=null?n:o)!=null?r:e.fileHandleId,c&&y(_,{options:{icon:"download"}})]})};try{l.displayName="FileHandleLink",l.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"]={docgenInfo:l.__docgenInfo,name:"FileHandleLink",path:"src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"})}catch{}export{l as F};
//# sourceMappingURL=FileHandleLink.ebd2e4c5.js.map
