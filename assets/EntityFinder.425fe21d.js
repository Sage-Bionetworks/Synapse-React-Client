import{u as _e,L as Hr,f as Pr,H as Lr,g as qr,h as Fr,p as kr}from"./AccessRequirementList.81b763e8.js";import{j as p,R as j,r as I,a as H,F as U}from"./jsx-runtime.732db4fa.js";import{a4 as Ie,cx as Wr,cy as Br,E as me,aU as Yn,cz as Gn,bJ as jr,cf as ne,aj as gn,cA as Qn,bP as Kr,cB as Ur,ak as Xn,a8 as $r,ai as Yr,al as Gr,a9 as Qr,cg as Xr}from"./index.6ade810e.js";import{p as c}from"./index.35ce73ec.js";import{c as Ue}from"./iframe.309bdcd0.js";import{r as Jr}from"./react-sizeme.1de254a4.js";import{A as Zr}from"./Arrow.593cb039.js";import{S as ei,p as ti}from"./RegularExpressions.3cd69849.js";import{P as ni,I as Ve}from"./IconSvg.f8a92c9e.js";import{u as ri}from"./use-deep-compare-effect.esm.629c5c42.js";import{D as Bt,S as Ge}from"./EntityChildren.50133102.js";import{c as he,B as yn}from"./Button.14842d9b.js";import{m as X}from"./Select-54ac8379.esm.9fd4da62.js";import{S as en,B as ii}from"./LoadingScreen.33c72bbe.js";import{C as tn}from"./Checkbox.c545cc03.js";import{E as nn}from"./EntityIcon.e00edf1c.js";import{T as ai}from"./SynapseTableConstants.07ecdebd.js";import{T as jt}from"./Typography.52fcc329.js";import{c as Et,a as le,C as oi}from"./Tooltip.b3eb933e.js";import{S as we}from"./Skeleton.00a5a513.js";import{a as si,u as Jn,b as Zn,c as li}from"./useEntity.84240992.js";import{g as er,aq as di,ar as ci,as as ui,h as hi}from"./SynapseConstants.aef18750.js";import{u as pi,a as fi}from"./useFavorites.308e0cbf.js";import{u as tr}from"./useInfiniteQuery.bc11444b.js";import{d as nr}from"./dayjs.min.0ad62631.js";import{u as rr}from"./react-intersection-observer.esm.1a638807.js";import{f as ir}from"./DateFormatter.98d76ad0.js";import{u as mi,a as gi}from"./SchemaDrivenAnnotationEditor.3202b6a5.js";import{E as yi,a as vi}from"./EntityModal.2444e9a3.js";import{W as _i}from"./WarningModal.dce8a8d1.js";import{i as bi}from"./isEmpty.6e4b20fe.js";import{U as Si,b as wi}from"./UserCard.5dc8ad35.js";import{c as Ri}from"./cloneDeep.20d4205c.js";import{d as xi}from"./ToastMessage.ca9da849.js";import{D as $e}from"./Dropdown.77cad14f.js";import{M as Ci}from"./immutable.es.28139da3.js";import{b as Ti}from"./isArray.ab714070.js";import{S as Ei}from"./Sort.1da22fab.js";import{E as ar}from"./EntityLink.a579d43a.js";const Ii=Et([p("path",{d:"m4 18 2-2h14V4H4z",opacity:".3"},"0"),p("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"},"1")],"ChatBubbleTwoTone"),Oi=Et([p("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"},"0"),p("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"},"1")],"DescriptionTwoTone"),Di=Et(p("path",{d:"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"}),"LinkOffTwoTone"),zi=Et([p("path",{d:"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z",opacity:".3"},"0"),p("path",{d:"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z"},"1"),p("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"2")],"LocalOfferTwoTone");function Ni(i,t){const{accessToken:n}=Ie();return tr(["search",n,i],async r=>Wr({...i,start:r.pageParam},n),{...t,getNextPageParam:r=>r.start+r.hits.length===r.found?null:r.start+r.hits.length})}function or(i,t){const{accessToken:n}=Ie();return tr(["myProjects",n,i],async r=>await Br(n,{...i,nextPageToken:r.pageParam}),{...t,getNextPageParam:r=>r.nextPageToken})}function $(i,t,n){return t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function fe(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.forEach(function(e){$(i,e,n[e])})}return i}class B{static isBrowser(){return typeof window<"u"}static isOpera(){return B.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}static isFirefox(){return B.isBrowser()&&typeof InstallTrigger<"u"}static isSafari(){return B.isBrowser()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}static isIE(){return B.isBrowser()&&!!document.documentMode}static isEdge(){return B.isBrowser()&&!B.isIE()&&!!window.StyleMedia}static isChrome(){return B.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}static isBlink(){return B.isBrowser()&&(B.isChrome()||B.isOpera())&&!!window.CSS}static getUserAgent(){return typeof navigator>"u"?"":navigator.userAgent}static isAndroid(){return B.isBrowser()&&B.getUserAgent().match(/Android/i)}static isBlackBerry(){return B.isBrowser()&&B.getUserAgent().match(/BlackBerry/i)}static isIOS(){return B.isBrowser()&&B.getUserAgent().match(/iPhone|iPad|iPod/i)}static isOpera(){return B.isBrowser()&&B.getUserAgent().match(/Opera Mini/i)}static isWindows(){return B.isBrowser()&&B.isWindowsDesktop()||B.isWindowsMobile()}static isWindowsMobile(){return B.isBrowser()&&B.getUserAgent().match(/IEMobile/i)}static isWindowsDesktop(){return B.isBrowser()&&B.getUserAgent().match(/WPDesktop/i)}static isMobile(){return B.isBrowser()&&(B.isWindowsMobile()||B.isBlackBerry()||B.isAndroid()||B.isIOS())}}const It=i=>Object.keys(i).reduce((t,n)=>n.substr(0,5)==="data-"?fe({},t,{[n]:i[n]}):t,{});class ee extends j.Component{static isA(t){return t?t.type===ee:!1}constructor(t){super(t),$(this,"ref",j.createRef()),$(this,"onMouseMove",n=>{if(this.state.active){const r=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:r,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:r}),n.stopPropagation(),n.preventDefault()}}),$(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),$(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=t.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const t=[B.isMobile()?"reflex-thin":"",...this.props.className.split(" "),this.state.active?"active":"","reflex-splitter"].join(" ").trim();return p("div",{...It(this.props),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:t,id:this.props.id,ref:this.ref,children:this.props.children})}}$(ee,"propTypes",{children:c.exports.oneOfType([c.exports.arrayOf(c.exports.node),c.exports.node]),onStartResize:c.exports.func,onStopResize:c.exports.func,className:c.exports.string,propagate:c.exports.bool,onResize:c.exports.func,style:c.exports.object});$(ee,"defaultProps",{document:typeof document<"u"?document:null,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});class Ai{constructor(){this._events={}}on(t,n){return t.split(" ").forEach(r=>{this._events[r]=this._events[r]||[],this._events[r].push(n)}),this}off(t,n){if(t==null){this._events={};return}return t.split(" ").forEach(r=>{r in this._events&&(n?this._events[r].splice(this._events[r].indexOf(n),1):this._events[r]=[])}),this}emit(t){if(this._events[t]!==void 0)for(var n=this._events[t].slice(),r=0;r<n.length;++r){var e=n[r].apply(this,Array.prototype.slice.call(arguments,1));if(e!==void 0)return e}}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,t){if(this==null)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(r===0)return!1;var e=t|0,a=Math.max(e>=0?e:r-Math.abs(e),0);function s(o,l){return o===l||typeof o=="number"&&typeof l=="number"&&isNaN(o)&&isNaN(l)}for(;a<r;){if(s(n[a],i))return!0;a++}return!1}});Math.sign||(Math.sign=function(i){return(i>0)-(i<0)||+i});class rn extends j.Component{constructor(t){super(t),$(this,"onWindowResize",()=>{this.setState({flexData:this.computeFlexData()})}),$(this,"onStartResize",n=>{const r=n.event.changedTouches?n.event.changedTouches[0]:n.event;switch(this.props.orientation){case"horizontal":document.body.classList.add("reflex-row-resize"),this.previousPos=r.clientY;break;case"vertical":default:document.body.classList.add("reflex-col-resize"),this.previousPos=r.clientX;break}this.elements=[this.children[n.index-1],this.children[n.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}),$(this,"onResize",n=>{const r=n.event.changedTouches?n.event.changedTouches[0]:n.event,e=this.getOffset(r,n.domElement);switch(this.props.orientation){case"horizontal":this.previousPos=r.clientY;break;case"vertical":default:this.previousPos=r.clientX;break}if(e){const a=this.computeAvailableOffset(n.index,e);a&&(this.elements=this.dispatchOffset(n.index,a),this.adjustFlex(this.elements),this.setState({resizing:!0},()=>{this.emitElementsEvent(this.elements,"onResize")}))}}),$(this,"onStopResize",n=>{document.body.classList.remove("reflex-row-resize"),document.body.classList.remove("reflex-col-resize");const r=this.elements?this.elements.map(a=>a.ref):[],e=this.children.filter(a=>!ee.isA(a)&&r.includes(a.ref));this.emitElementsEvent(e,"onStopResize"),this.setState({resizing:!1})}),$(this,"onElementSize",n=>new Promise(r=>{try{const e=n.index,a=this.getSize(this.children[e]),s=n.size-a,o=n.direction,l=e+o,d=this.computeAvailableOffset(l,o*s);this.elements=null,d&&(this.elements=this.dispatchOffset(l,d),this.adjustFlex(this.elements)),this.setState(this.state,()=>{this.emitElementsEvent(this.elements,"onResize"),r()})}catch(e){console.log(e)}})),this.events=new Ai,this.children=[],this.state={flexData:[]},this.ref=j.createRef()}componentDidMount(){const t=this.computeFlexData(),{windowResizeAware:n}=this.props;n&&window.addEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:n,flexData:t}),this.events.on("element.size",this.onElementSize),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize)}componentWillUnmount(){this.events.off(),window.removeEventListener("resize",this.onWindowResize)}getValidChildren(t=this.props){return this.toArray(t.children).filter(n=>!!n)}componentDidUpdate(t,n){const r=this.getValidChildren(this.props);if(r.length!==this.state.flexData.length||t.orientation!==this.props.orientation||this.flexHasChanged(t)){const e=this.computeFlexData(r,this.props);this.setState({flexData:e})}this.props.windowResizeAware!==this.state.windowResizeAware&&(this.props.windowResizeAware?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:this.props.windowResizeAware}))}flexHasChanged(t){const n=this.getValidChildren(t).map(e=>e.props.flex||0);return!this.getValidChildren().map(e=>e.props.flex||0).every((e,a)=>e===n[a])}getSize(t){const n=t.ref.current;switch(this.props.orientation){case"horizontal":return n.offsetHeight;case"vertical":default:return n.offsetWidth}}getOffset(t,n){const{top:r,bottom:e,left:a,right:s}=n.getBoundingClientRect();switch(this.props.orientation){case"horizontal":{const o=t.clientY-this.previousPos;if(o>0){if(t.clientY>=r)return o}else if(t.clientY<=e)return o;break}case"vertical":default:{const o=t.clientX-this.previousPos;if(o>0){if(t.clientX>a)return o}else if(t.clientX<s)return o}break}return 0}adjustFlex(t){const n=t.reduce((r,e)=>{const a=e.props.index,s=e.props.flex,o=this.state.flexData[a].flex;return r+(s-o)/t.length},0);t.forEach(r=>{this.state.flexData[r.props.index].flex+=n})}computeAvailableOffset(t,n){const r=this.computeAvailableStretch(t,n),e=this.computeAvailableShrink(t,n);return Math.min(r,e)*Math.sign(n)}checkPropagate(t,n){if(n>0){if(t<this.children.length-2){const r=this.children[t+2];return ee.isA(r)&&r.props.propagate}}else if(t>2){const r=this.children[t-2];return ee.isA(r)&&r.props.propagate}return!1}computeAvailableStretch(t,n){const r=n<0?t+1:t-1,e=this.children[r],a=this.getSize(e),o=e.props.maxSize-a;if(o<Math.abs(n)&&this.checkPropagate(t,-1*n)){const l=Math.sign(n)*(Math.abs(n)-o);return o+this.computeAvailableStretch(n<0?t+2:t-2,l)}return Math.min(o,Math.abs(n))}computeAvailableShrink(t,n){const r=n>0?t+1:t-1,e=this.children[r],a=this.getSize(e),s=Math.max(e.props.minSize,0),o=a-s;if(o<Math.abs(n)&&this.checkPropagate(t,n)){const l=Math.sign(n)*(Math.abs(n)-o);return o+this.computeAvailableShrink(n>0?t+2:t-2,l)}return Math.min(o,Math.abs(n))}computePixelFlex(t=this.props.orientation){if(!this.ref.current)return console.warn("Unable to locate ReflexContainer dom node"),0;switch(t){case"horizontal":return this.ref.current.offsetHeight===0?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetHeight;case"vertical":default:return this.ref.current.offsetWidth===0?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetWidth}}addOffset(t,n){const r=this.getSize(t),e=t.props.index,a=Math.max(r+n,0),s=this.state.flexData[e].flex,o=s>0?s*a/r:this.computePixelFlex()*a;this.state.flexData[e].flex=!isFinite(o)||isNaN(o)?0:o}dispatchStretch(t,n){const r=n<0?t+1:t-1;if(r<0||r>this.children.length-1)return[];const e=this.children[r],a=this.getSize(e),o=Math.min(e.props.maxSize,a+Math.abs(n))-a;if(this.addOffset(e,o),o<Math.abs(n)){const l=t-Math.sign(n)*2,d=Math.sign(n)*(Math.abs(n)-o);return[e,...this.dispatchStretch(l,d)]}return[e]}dispatchShrink(t,n){const r=n>0?t+1:t-1;if(r<0||r>this.children.length-1)return[];const e=this.children[r],a=this.getSize(e),o=Math.max(e.props.minSize,a-Math.abs(n))-a;if(this.addOffset(e,o),Math.abs(o)<Math.abs(n)){const l=t+Math.sign(n)*2,d=Math.sign(n)*(Math.abs(n)+o);return[e,...this.dispatchShrink(l,d)]}return[e]}dispatchOffset(t,n){return[...this.dispatchStretch(t,n),...this.dispatchShrink(t,n)]}emitElementsEvent(t,n){this.toArray(t).forEach(r=>{r.props[n]&&r.props[n]({domElement:r.ref.current,component:r})})}computeFlexData(t=this.getValidChildren(),n=this.props){const r=this.computePixelFlex(n.orientation),e=d=>d.reduce((u,f)=>!ee.isA(f)&&f.constrained?u-f.flex:u,1),a=d=>d.reduce((u,f)=>!ee.isA(f)&&!f.constrained?u+1:u,0),s=t.map(d=>{const u=d.props;return{maxFlex:(u.maxSize||Number.MAX_VALUE)*r,sizeFlex:(u.size||Number.MAX_VALUE)*r,minFlex:(u.minSize||1)*r,constrained:u.flex!==void 0,flex:u.flex||0,type:d.type}}),o=(d,u=0)=>{let f=!1;const g=a(d),b=e(d),x=d.map(h=>{if(ee.isA(h))return h;const w=h.constrained?h.flex:b/g,_=Math.min(h.sizeFlex,Math.min(h.maxFlex,Math.max(h.minFlex,w))),T=h.constrained||_!==w;return f=f||T,fe({},h,{flex:_,constrained:T})});return f&&u<this.props.maxRecDepth?o(x,u+1):x};return o(s).map(d=>({flex:ee.isA(d)?0:d.flex,ref:j.createRef()}))}toArray(t){return t?Array.isArray(t)?t:[t]:[]}render(){const t=[this.state.resizing?"reflex-resizing":"",...this.props.className.split(" "),this.props.orientation,"reflex-container"].join(" ").trim();return this.children=j.Children.map(this.getValidChildren(),(n,r)=>{if(r>this.state.flexData.length-1)return p("div",{});const e=this.state.flexData[r],a=fe({},n.props,{maxSize:n.props.maxSize||Number.MAX_VALUE,orientation:this.props.orientation,minSize:n.props.minSize||1,events:this.events,flex:e.flex,ref:e.ref,index:r});return j.cloneElement(n,a)}),p("div",{...It(this.props),style:this.props.style,className:t,ref:this.ref,children:this.children})}}$(rn,"propTypes",{windowResizeAware:c.exports.bool,orientation:c.exports.oneOf(["horizontal","vertical"]),maxRecDepth:c.exports.number,className:c.exports.string,style:c.exports.object});$(rn,"defaultProps",{orientation:"horizontal",windowResizeAware:!1,maxRecDepth:100,className:"",style:{}});class Oe extends j.Component{static isA(t){return t?t.type===Oe:!1}constructor(t){super(t),$(this,"ref",j.createRef()),$(this,"onMouseMove",n=>{if(this.state.active){const r=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:r,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:r}),n.stopPropagation(),n.preventDefault()}}),$(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),$(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=t.document}componentDidMount(){!this.document||(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){!this.document||(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const t=[...this.props.className.split(" "),this.state.active?"active":"","reflex-handle"].join(" ").trim();return p("div",{...It(this.props),onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:t,id:this.props.id,ref:this.ref,children:this.props.children})}}$(Oe,"propTypes",{children:c.exports.oneOfType([c.exports.arrayOf(c.exports.node),c.exports.node]),onStartResize:c.exports.func,onStopResize:c.exports.func,className:c.exports.string,propagate:c.exports.bool,onResize:c.exports.func,style:c.exports.object});$(Oe,"defaultProps",{document:typeof document>"u"?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var sr="Expected a function",vn=0/0,Vi="[object Symbol]",Mi=/^\s+|\s+$/g,Hi=/^[-+]0x[0-9a-f]+$/i,Pi=/^0b[01]+$/i,Li=/^0o[0-7]+$/i,qi=parseInt,Fi=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,ki=typeof self=="object"&&self&&self.Object===Object&&self,Wi=Fi||ki||Function("return this")(),Bi=Object.prototype,ji=Bi.toString,Ki=Math.max,Ui=Math.min,Dt=function(){return Wi.Date.now()};function $i(i,t,n){var r,e,a,s,o,l,d=0,u=!1,f=!1,g=!0;if(typeof i!="function")throw new TypeError(sr);t=_n(t)||0,vt(n)&&(u=!!n.leading,f="maxWait"in n,a=f?Ki(_n(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g);function b(y){var S=r,C=e;return r=e=void 0,d=y,s=i.apply(C,S),s}function x(y){return d=y,o=setTimeout(_,t),u?b(y):s}function h(y){var S=y-l,C=y-d,E=t-S;return f?Ui(E,a-C):E}function w(y){var S=y-l,C=y-d;return l===void 0||S>=t||S<0||f&&C>=a}function _(){var y=Dt();if(w(y))return T(y);o=setTimeout(_,h(y))}function T(y){return o=void 0,g&&r?b(y):(r=e=void 0,s)}function R(){o!==void 0&&clearTimeout(o),d=0,r=l=e=o=void 0}function v(){return o===void 0?s:T(Dt())}function m(){var y=Dt(),S=w(y);if(r=arguments,e=this,l=y,S){if(o===void 0)return x(l);if(f)return o=setTimeout(_,t),b(l)}return o===void 0&&(o=setTimeout(_,t)),s}return m.cancel=R,m.flush=v,m}function Yi(i,t,n){var r=!0,e=!0;if(typeof i!="function")throw new TypeError(sr);return vt(n)&&(r="leading"in n?!!n.leading:r,e="trailing"in n?!!n.trailing:e),$i(i,t,{leading:r,maxWait:t,trailing:e})}function vt(i){var t=typeof i;return!!i&&(t=="object"||t=="function")}function Gi(i){return!!i&&typeof i=="object"}function Qi(i){return typeof i=="symbol"||Gi(i)&&ji.call(i)==Vi}function _n(i){if(typeof i=="number")return i;if(Qi(i))return vn;if(vt(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=vt(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=i.replace(Mi,"");var n=Pi.test(i);return n||Li.test(i)?qi(i.slice(2),n?2:8):Hi.test(i)?vn:+i}var Xi=Yi;function Kt(){return Kt=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Kt.apply(this,arguments)}function Ji(i,t){if(i==null)return{};var n={},r=Object.keys(i),e,a;for(a=0;a<r.length;a++)e=r[a],!(t.indexOf(e)>=0)&&(n[e]=i[e]);return n}function Ut(i,t){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Ut(i,t)}function Zi(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Ut(i,t)}var lr=function(){if(typeof Map<"u")return Map;function i(t,n){var r=-1;return t.some(function(e,a){return e[0]===n?(r=a,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=i(this.__entries__,n),e=this.__entries__[r];return e&&e[1]},t.prototype.set=function(n,r){var e=i(this.__entries__,n);~e?this.__entries__[e][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,e=i(r,n);~e&&r.splice(e,1)},t.prototype.has=function(n){return!!~i(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var e=0,a=this.__entries__;e<a.length;e++){var s=a[e];n.call(r,s[1],s[0])}},t}()}(),$t=typeof window<"u"&&typeof document<"u"&&window.document===document,_t=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),ea=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(_t):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),ta=2;function na(i,t){var n=!1,r=!1,e=0;function a(){n&&(n=!1,i()),r&&o()}function s(){ea(a)}function o(){var l=Date.now();if(n){if(l-e<ta)return;r=!0}else n=!0,r=!1,setTimeout(s,t);e=l}return o}var ra=20,ia=["top","right","bottom","left","width","height","size","weight"],aa=typeof MutationObserver<"u",oa=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=na(this.refresh.bind(this),ra)}return i.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},i.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},i.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},i.prototype.connect_=function(){!$t||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),aa?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!$t||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,e=ia.some(function(a){return!!~r.indexOf(a)});e&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),dr=function(i,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var e=r[n];Object.defineProperty(i,e,{value:t[e],enumerable:!1,writable:!1,configurable:!0})}return i},Ee=function(i){var t=i&&i.ownerDocument&&i.ownerDocument.defaultView;return t||_t},cr=Ot(0,0,0,0);function bt(i){return parseFloat(i)||0}function bn(i){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,e){var a=i["border-"+e+"-width"];return r+bt(a)},0)}function sa(i){for(var t=["top","right","bottom","left"],n={},r=0,e=t;r<e.length;r++){var a=e[r],s=i["padding-"+a];n[a]=bt(s)}return n}function la(i){var t=i.getBBox();return Ot(0,0,t.width,t.height)}function da(i){var t=i.clientWidth,n=i.clientHeight;if(!t&&!n)return cr;var r=Ee(i).getComputedStyle(i),e=sa(r),a=e.left+e.right,s=e.top+e.bottom,o=bt(r.width),l=bt(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+a)!==t&&(o-=bn(r,"left","right")+a),Math.round(l+s)!==n&&(l-=bn(r,"top","bottom")+s)),!ua(i)){var d=Math.round(o+a)-t,u=Math.round(l+s)-n;Math.abs(d)!==1&&(o-=d),Math.abs(u)!==1&&(l-=u)}return Ot(e.left,e.top,o,l)}var ca=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof Ee(i).SVGGraphicsElement}:function(i){return i instanceof Ee(i).SVGElement&&typeof i.getBBox=="function"}}();function ua(i){return i===Ee(i).document.documentElement}function ha(i){return $t?ca(i)?la(i):da(i):cr}function pa(i){var t=i.x,n=i.y,r=i.width,e=i.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return dr(s,{x:t,y:n,width:r,height:e,top:n,right:t+r,bottom:e+n,left:t}),s}function Ot(i,t,n,r){return{x:i,y:t,width:n,height:r}}var fa=function(){function i(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ot(0,0,0,0),this.target=t}return i.prototype.isActive=function(){var t=ha(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},i}(),ma=function(){function i(t,n){var r=pa(n);dr(this,{target:t,contentRect:r})}return i}(),ga=function(){function i(t,n,r){if(this.activeObservations_=[],this.observations_=new lr,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return i.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ee(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new fa(t)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ee(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(t)||(n.delete(t),n.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},i.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new ma(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),ur=typeof WeakMap<"u"?new WeakMap:new lr,hr=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=oa.getInstance(),r=new ga(t,n,this);ur.set(this,r)}return i}();["observe","unobserve","disconnect"].forEach(function(i){hr.prototype[i]=function(){var t;return(t=ur.get(this))[i].apply(t,arguments)}});var ya=function(){return typeof _t.ResizeObserver<"u"?_t.ResizeObserver:hr}(),va=["client","offset","scroll","bounds","margin"];function Sn(i){var t=[];return va.forEach(function(n){i[n]&&t.push(n)}),t}function wn(i,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:i.clientTop,left:i.clientLeft,width:i.clientWidth,height:i.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:i.offsetTop,left:i.offsetLeft,width:i.offsetWidth,height:i.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:i.scrollTop,left:i.scrollLeft,width:i.scrollWidth,height:i.scrollHeight}),t.indexOf("bounds")>-1){var r=i.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(t.indexOf("margin")>-1){var e=getComputedStyle(i);n.margin={top:e?parseInt(e.marginTop):0,right:e?parseInt(e.marginRight):0,bottom:e?parseInt(e.marginBottom):0,left:e?parseInt(e.marginLeft):0}}return n}function _a(i){var t=i&&i.ownerDocument&&i.ownerDocument.defaultView;return t||window}function ba(i){return function(t){var n,r;return r=n=function(e){Zi(a,e);function a(){for(var o,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return o=e.call.apply(e,[this].concat(d))||this,o.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},o._animationFrameID=null,o._resizeObserver=null,o._node=null,o._window=null,o.measure=function(f){var g=wn(o._node,i||Sn(o.props));f&&(g.entry=f[0].contentRect),o._animationFrameID=o._window.requestAnimationFrame(function(){o._resizeObserver!==null&&(o.setState({contentRect:g}),typeof o.props.onResize=="function"&&o.props.onResize(g))})},o._handleRef=function(f){o._resizeObserver!==null&&o._node!==null&&o._resizeObserver.unobserve(o._node),o._node=f,o._window=_a(o._node);var g=o.props.innerRef;g&&(typeof g=="function"?g(o._node):g.current=o._node),o._resizeObserver!==null&&o._node!==null&&o._resizeObserver.observe(o._node)},o}var s=a.prototype;return s.componentDidMount=function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new ya(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(wn(this._node,i||Sn(this.props))))},s.componentWillUnmount=function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},s.render=function(){var l=this.props;l.innerRef,l.onResize;var d=Ji(l,["innerRef","onResize"]);return I.exports.createElement(t,Kt({},d,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},a}(I.exports.Component),n.propTypes={client:c.exports.bool,offset:c.exports.bool,scroll:c.exports.bool,bounds:c.exports.bool,margin:c.exports.bool,innerRef:c.exports.oneOfType([c.exports.object,c.exports.func]),onResize:c.exports.func},r}}var an=ba()(function(i){var t=i.measure,n=i.measureRef,r=i.contentRect,e=i.children;return e({measure:t,measureRef:n,contentRect:r})});an.displayName="Measure";an.propTypes.children=c.exports.func;const Yt=i=>i?Array.isArray(i)?i:[i]:[];class Sa extends j.Component{constructor(t){super(t),$(this,"onResize",n=>{const{resizeHeight:r,resizeWidth:e}=this.props,{height:a,width:s}=n.bounds;this.setDimensions(fe({},r&&{height:a},e&&{width:s}))}),this.setDimensions=Xi(n=>{this.setState(n)},this.props.propagateDimensionsRate/1e3),this.state={height:"100%",width:"100%"}}renderChildren(){const{propagateDimensions:t}=this.props,n=Yt(this.props.children).filter(r=>!!r);return j.Children.map(n,r=>this.props.withHandle||Oe.isA(r)?j.cloneElement(r,fe({dimensions:t&&this.state},r.props,{index:this.props.index-1,events:this.props.events})):t?j.cloneElement(r,fe({},r.props,{dimensions:this.state})):r)}render(){return p(an,{bounds:!0,onResize:this.onResize,children:({measureRef:t})=>p("div",{ref:t,className:"reflex-size-aware",children:p("div",{style:this.state,children:this.renderChildren()})})})}}class on extends j.Component{constructor(t){super(t),this.state={size:t.size}}static getDerivedStateFromProps(t,n){return t.size!==n.size?fe({},n,{size:t.size}):null}async componentDidUpdate(t,n,r){if(n.size!==this.state.size){const e=Yt(this.props.direction);for(let a of e)await this.props.events.emit("element.size",{index:this.props.index,size:this.props.size,direction:a})}}renderChildren(){const t=Yt(this.props.children).filter(n=>!!n);return j.Children.map(t,n=>this.props.withHandle||Oe.isA(n)?j.cloneElement(n,fe({},n.props,{index:this.props.index-1,events:this.props.events})):n)}render(){const t=[...this.props.className.split(" "),this.props.orientation,"reflex-element"].join(" ").trim(),n=fe({},this.props.style,{flexGrow:this.props.flex,flexShrink:1,flexBasis:"0%"});return p("div",{...It(this.props),ref:this.props.innerRef,className:t,style:n,children:this.props.propagateDimensions?p(Sa,{...this.props}):this.renderChildren()})}}$(on,"propTypes",{propagateDimensions:c.exports.bool,resizeHeight:c.exports.bool,resizeWidth:c.exports.bool,className:c.exports.string,size:c.exports.number});$(on,"defaultProps",{propagateDimensionsRate:100,propagateDimensions:!1,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""});const Rn=j.forwardRef((i,t)=>p(on,{innerRef:t,...i}));const Qe=({items:i,maxItemCount:t=4})=>{const n=i.length>t;return n&&(i=i.slice(-t)),H("div",{className:"Breadcrumbs",children:[i.length>0&&p("span",{children:"You are in: "}),n&&H(U,{children:[p("button",{className:"BreadcrumbItem Current",children:"..."}),p("span",{children:">"})]}),i.map((r,e)=>H(U,{children:[p("button",{className:`BreadcrumbItem ${r.isCurrent?"Current":""}`,onClick:a=>{a.preventDefault(),r.action&&r.action()},children:r.name},e),e!==i.length-1&&p("span",{children:">"})]}))]})};try{Qe.displayName="Breadcrumbs",Qe.__docgenInfo={description:"",displayName:"Breadcrumbs",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BreadcrumbItem[]"}},maxItemCount:{defaultValue:{value:"4"},description:"",name:"maxItemCount",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"]={docgenInfo:Qe.__docgenInfo,name:"Breadcrumbs",path:"src/lib/containers/entity_finder/Breadcrumbs.tsx#Breadcrumbs"})}catch{}function pr(i,t,n,r,e,a,s){if(i.length===0||t===0)return!1;{const o=i.every(l=>n(l)||!r(l));if(o&&e&&a&&!s)return a(),!1;{if(s)return!1;const l=i.some(d=>r(d));return o&&l}}}function sn(i,t,n,r,e,a,s){const[o,l]=I.exports.useState(!1);return I.exports.useEffect(()=>{l(pr(i,t,n,r,e,a,s))},[i,t,a,e,n,r,s]),o}function ie(i,t){if(i==null)return{};var n={},r=Object.keys(i),e,a;for(a=0;a<r.length;a++)e=r[a],!(t.indexOf(e)>=0)&&(n[e]=i[e]);return n}function De(i,t,n){return t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function q(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Gt(i,t){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Gt(i,t)}function Re(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Gt(i,t)}function St(){return St=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},St.apply(this,arguments)}function wt(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Qt(i,t){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Qt(i,t)}function fr(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Qt(i,t)}var wa=typeof performance=="object"&&typeof performance.now=="function",xn=wa?function(){return performance.now()}:function(){return Date.now()};function Rt(i){cancelAnimationFrame(i.id)}function mr(i,t){var n=xn();function r(){xn()-n>=t?i.call(null):e.id=requestAnimationFrame(r)}var e={id:requestAnimationFrame(r)};return e}var zt=-1;function Ra(i){if(i===void 0&&(i=!1),zt===-1||i){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),zt=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return zt}var Ce=null;function xt(i){if(i===void 0&&(i=!1),Ce===null||i){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),e=r.style;return e.width="100px",e.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ce="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Ce="negative":Ce="positive-ascending"),document.body.removeChild(t),Ce}return Ce}var xa=150,Ca=function(t){var n=t.columnIndex;t.data;var r=t.rowIndex;return r+":"+n};function gr(i){var t,n=i.getColumnOffset,r=i.getColumnStartIndexForOffset,e=i.getColumnStopIndexForStartIndex,a=i.getColumnWidth,s=i.getEstimatedTotalHeight,o=i.getEstimatedTotalWidth,l=i.getOffsetForColumnAndAlignment,d=i.getOffsetForRowAndAlignment,u=i.getRowHeight,f=i.getRowOffset,g=i.getRowStartIndexForOffset,b=i.getRowStopIndexForStartIndex,x=i.initInstanceProps,h=i.shouldResetStyleCacheOnItemSizeChange,w=i.validateProps;return t=function(_){fr(T,_);function T(v){var m;return m=_.call(this,v)||this,m._instanceProps=x(m.props,wt(m)),m._resetIsScrollingTimeoutId=null,m._outerRef=void 0,m.state={instance:wt(m),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof m.props.initialScrollLeft=="number"?m.props.initialScrollLeft:0,scrollTop:typeof m.props.initialScrollTop=="number"?m.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},m._callOnItemsRendered=void 0,m._callOnItemsRendered=X(function(y,S,C,E,O,z,P,k){return m.props.onItemsRendered({overscanColumnStartIndex:y,overscanColumnStopIndex:S,overscanRowStartIndex:C,overscanRowStopIndex:E,visibleColumnStartIndex:O,visibleColumnStopIndex:z,visibleRowStartIndex:P,visibleRowStopIndex:k})}),m._callOnScroll=void 0,m._callOnScroll=X(function(y,S,C,E,O){return m.props.onScroll({horizontalScrollDirection:C,scrollLeft:y,scrollTop:S,verticalScrollDirection:E,scrollUpdateWasRequested:O})}),m._getItemStyle=void 0,m._getItemStyle=function(y,S){var C=m.props,E=C.columnWidth,O=C.direction,z=C.rowHeight,P=m._getItemStyleCache(h&&E,h&&O,h&&z),k=y+":"+S,F;if(P.hasOwnProperty(k))F=P[k];else{var M=n(m.props,S,m._instanceProps),A=O==="rtl";P[k]=F={position:"absolute",left:A?void 0:M,right:A?M:void 0,top:f(m.props,y,m._instanceProps),height:u(m.props,y,m._instanceProps),width:a(m.props,S,m._instanceProps)}}return F},m._getItemStyleCache=void 0,m._getItemStyleCache=X(function(y,S,C){return{}}),m._onScroll=function(y){var S=y.currentTarget,C=S.clientHeight,E=S.clientWidth,O=S.scrollLeft,z=S.scrollTop,P=S.scrollHeight,k=S.scrollWidth;m.setState(function(F){if(F.scrollLeft===O&&F.scrollTop===z)return null;var M=m.props.direction,A=O;if(M==="rtl")switch(xt()){case"negative":A=-O;break;case"positive-descending":A=k-E-O;break}A=Math.max(0,Math.min(A,k-E));var N=Math.max(0,Math.min(z,P-C));return{isScrolling:!0,horizontalScrollDirection:F.scrollLeft<O?"forward":"backward",scrollLeft:A,scrollTop:N,verticalScrollDirection:F.scrollTop<z?"forward":"backward",scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(y){var S=m.props.outerRef;m._outerRef=y,typeof S=="function"?S(y):S!=null&&typeof S=="object"&&S.hasOwnProperty("current")&&(S.current=y)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&Rt(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=mr(m._resetIsScrolling,xa)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1)})},m}T.getDerivedStateFromProps=function(m,y){return Ta(m,y),w(m),null};var R=T.prototype;return R.scrollTo=function(m){var y=m.scrollLeft,S=m.scrollTop;y!==void 0&&(y=Math.max(0,y)),S!==void 0&&(S=Math.max(0,S)),this.setState(function(C){return y===void 0&&(y=C.scrollLeft),S===void 0&&(S=C.scrollTop),C.scrollLeft===y&&C.scrollTop===S?null:{horizontalScrollDirection:C.scrollLeft<y?"forward":"backward",scrollLeft:y,scrollTop:S,scrollUpdateWasRequested:!0,verticalScrollDirection:C.scrollTop<S?"forward":"backward"}},this._resetIsScrollingDebounced)},R.scrollToItem=function(m){var y=m.align,S=y===void 0?"auto":y,C=m.columnIndex,E=m.rowIndex,O=this.props,z=O.columnCount,P=O.height,k=O.rowCount,F=O.width,M=this.state,A=M.scrollLeft,N=M.scrollTop,V=Ra();C!==void 0&&(C=Math.max(0,Math.min(C,z-1))),E!==void 0&&(E=Math.max(0,Math.min(E,k-1)));var W=s(this.props,this._instanceProps),D=o(this.props,this._instanceProps),K=D>F?V:0,L=W>P?V:0;this.scrollTo({scrollLeft:C!==void 0?l(this.props,C,S,A,this._instanceProps,L):A,scrollTop:E!==void 0?d(this.props,E,S,N,this._instanceProps,K):N})},R.componentDidMount=function(){var m=this.props,y=m.initialScrollLeft,S=m.initialScrollTop;if(this._outerRef!=null){var C=this._outerRef;typeof y=="number"&&(C.scrollLeft=y),typeof S=="number"&&(C.scrollTop=S)}this._callPropsCallbacks()},R.componentDidUpdate=function(){var m=this.props.direction,y=this.state,S=y.scrollLeft,C=y.scrollTop,E=y.scrollUpdateWasRequested;if(E&&this._outerRef!=null){var O=this._outerRef;if(m==="rtl")switch(xt()){case"negative":O.scrollLeft=-S;break;case"positive-ascending":O.scrollLeft=S;break;default:var z=O.clientWidth,P=O.scrollWidth;O.scrollLeft=P-z-S;break}else O.scrollLeft=Math.max(0,S);O.scrollTop=Math.max(0,C)}this._callPropsCallbacks()},R.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Rt(this._resetIsScrollingTimeoutId)},R.render=function(){var m=this.props,y=m.children,S=m.className,C=m.columnCount,E=m.direction,O=m.height,z=m.innerRef,P=m.innerElementType,k=m.innerTagName,F=m.itemData,M=m.itemKey,A=M===void 0?Ca:M,N=m.outerElementType,V=m.outerTagName,W=m.rowCount,D=m.style,K=m.useIsScrolling,L=m.width,Y=this.state.isScrolling,ae=this._getHorizontalRangeToRender(),xe=ae[0],zr=ae[1],fn=this._getVerticalRangeToRender(),Nr=fn[0],Ar=fn[1],mn=[];if(C>0&&W)for(var ze=Nr;ze<=Ar;ze++)for(var Ne=xe;Ne<=zr;Ne++)mn.push(I.exports.createElement(y,{columnIndex:Ne,data:F,isScrolling:K?Y:void 0,key:A({columnIndex:Ne,data:F,rowIndex:ze}),rowIndex:ze,style:this._getItemStyle(ze,Ne)}));var Vr=s(this.props,this._instanceProps),Mr=o(this.props,this._instanceProps);return I.exports.createElement(N||V||"div",{className:S,onScroll:this._onScroll,ref:this._outerRefSetter,style:St({position:"relative",height:O,width:L,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:E},D)},I.exports.createElement(P||k||"div",{children:mn,ref:z,style:{height:Vr,pointerEvents:Y?"none":void 0,width:Mr}}))},R._callPropsCallbacks=function(){var m=this.props,y=m.columnCount,S=m.onItemsRendered,C=m.onScroll,E=m.rowCount;if(typeof S=="function"&&y>0&&E>0){var O=this._getHorizontalRangeToRender(),z=O[0],P=O[1],k=O[2],F=O[3],M=this._getVerticalRangeToRender(),A=M[0],N=M[1],V=M[2],W=M[3];this._callOnItemsRendered(z,P,A,N,k,F,V,W)}if(typeof C=="function"){var D=this.state,K=D.horizontalScrollDirection,L=D.scrollLeft,Y=D.scrollTop,ae=D.scrollUpdateWasRequested,xe=D.verticalScrollDirection;this._callOnScroll(L,Y,K,xe,ae)}},R._getHorizontalRangeToRender=function(){var m=this.props,y=m.columnCount,S=m.overscanColumnCount,C=m.overscanColumnsCount,E=m.overscanCount,O=m.rowCount,z=this.state,P=z.horizontalScrollDirection,k=z.isScrolling,F=z.scrollLeft,M=S||C||E||1;if(y===0||O===0)return[0,0,0,0];var A=r(this.props,F,this._instanceProps),N=e(this.props,A,F,this._instanceProps),V=!k||P==="backward"?Math.max(1,M):1,W=!k||P==="forward"?Math.max(1,M):1;return[Math.max(0,A-V),Math.max(0,Math.min(y-1,N+W)),A,N]},R._getVerticalRangeToRender=function(){var m=this.props,y=m.columnCount,S=m.overscanCount,C=m.overscanRowCount,E=m.overscanRowsCount,O=m.rowCount,z=this.state,P=z.isScrolling,k=z.verticalScrollDirection,F=z.scrollTop,M=C||E||S||1;if(y===0||O===0)return[0,0,0,0];var A=g(this.props,F,this._instanceProps),N=b(this.props,A,F,this._instanceProps),V=!P||k==="backward"?Math.max(1,M):1,W=!P||k==="forward"?Math.max(1,M):1;return[Math.max(0,A-V),Math.max(0,Math.min(O-1,N+W)),A,N]},T}(I.exports.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var Ta=function(t,n){t.children,t.direction,t.height,t.innerTagName,t.outerTagName,t.overscanColumnsCount,t.overscanCount,t.overscanRowsCount,t.width,n.instance},Cn=50,yr=function(t,n){var r=t.rowCount,e=n.rowMetadataMap,a=n.estimatedRowHeight,s=n.lastMeasuredRowIndex,o=0;if(s>=r&&(s=r-1),s>=0){var l=e[s];o=l.offset+l.size}var d=r-s-1,u=d*a;return o+u},vr=function(t,n){var r=t.columnCount,e=n.columnMetadataMap,a=n.estimatedColumnWidth,s=n.lastMeasuredColumnIndex,o=0;if(s>=r&&(s=r-1),s>=0){var l=e[s];o=l.offset+l.size}var d=r-s-1,u=d*a;return o+u},pe=function(t,n,r,e){var a,s,o;if(t==="column"?(a=e.columnMetadataMap,s=n.columnWidth,o=e.lastMeasuredColumnIndex):(a=e.rowMetadataMap,s=n.rowHeight,o=e.lastMeasuredRowIndex),r>o){var l=0;if(o>=0){var d=a[o];l=d.offset+d.size}for(var u=o+1;u<=r;u++){var f=s(u);a[u]={offset:l,size:f},l+=f}t==="column"?e.lastMeasuredColumnIndex=r:e.lastMeasuredRowIndex=r}return a[r]},Tn=function(t,n,r,e){var a,s;t==="column"?(a=r.columnMetadataMap,s=r.lastMeasuredColumnIndex):(a=r.rowMetadataMap,s=r.lastMeasuredRowIndex);var o=s>0?a[s].offset:0;return o>=e?_r(t,n,r,s,0,e):Ea(t,n,r,Math.max(0,s),e)},_r=function(t,n,r,e,a,s){for(;a<=e;){var o=a+Math.floor((e-a)/2),l=pe(t,n,o,r).offset;if(l===s)return o;l<s?a=o+1:l>s&&(e=o-1)}return a>0?a-1:0},Ea=function(t,n,r,e,a){for(var s=t==="column"?n.columnCount:n.rowCount,o=1;e<s&&pe(t,n,e,r).offset<a;)e+=o,o*=2;return _r(t,n,r,Math.min(e,s-1),Math.floor(e/2),a)},En=function(t,n,r,e,a,s,o){var l=t==="column"?n.width:n.height,d=pe(t,n,r,s),u=t==="column"?vr(n,s):yr(n,s),f=Math.max(0,Math.min(u-l,d.offset)),g=Math.max(0,d.offset-l+o+d.size);switch(e==="smart"&&(a>=g-l&&a<=f+l?e="auto":e="center"),e){case"start":return f;case"end":return g;case"center":return Math.round(g+(f-g)/2);case"auto":default:return a>=g&&a<=f?a:g>f||a<g?g:f}},Ia=gr({getColumnOffset:function(t,n,r){return pe("column",t,n,r).offset},getColumnStartIndexForOffset:function(t,n,r){return Tn("column",t,r,n)},getColumnStopIndexForStartIndex:function(t,n,r,e){for(var a=t.columnCount,s=t.width,o=pe("column",t,n,e),l=r+s,d=o.offset+o.size,u=n;u<a-1&&d<l;)u++,d+=pe("column",t,u,e).size;return u},getColumnWidth:function(t,n,r){return r.columnMetadataMap[n].size},getEstimatedTotalHeight:yr,getEstimatedTotalWidth:vr,getOffsetForColumnAndAlignment:function(t,n,r,e,a,s){return En("column",t,n,r,e,a,s)},getOffsetForRowAndAlignment:function(t,n,r,e,a,s){return En("row",t,n,r,e,a,s)},getRowOffset:function(t,n,r){return pe("row",t,n,r).offset},getRowHeight:function(t,n,r){return r.rowMetadataMap[n].size},getRowStartIndexForOffset:function(t,n,r){return Tn("row",t,r,n)},getRowStopIndexForStartIndex:function(t,n,r,e){for(var a=t.rowCount,s=t.height,o=pe("row",t,n,e),l=r+s,d=o.offset+o.size,u=n;u<a-1&&d<l;)u++,d+=pe("row",t,u,e).size;return u},initInstanceProps:function(t,n){var r=t,e=r.estimatedColumnWidth,a=r.estimatedRowHeight,s={columnMetadataMap:{},estimatedColumnWidth:e||Cn,estimatedRowHeight:a||Cn,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return n.resetAfterColumnIndex=function(o,l){l===void 0&&(l=!0),n.resetAfterIndices({columnIndex:o,shouldForceUpdate:l})},n.resetAfterRowIndex=function(o,l){l===void 0&&(l=!0),n.resetAfterIndices({rowIndex:o,shouldForceUpdate:l})},n.resetAfterIndices=function(o){var l=o.columnIndex,d=o.rowIndex,u=o.shouldForceUpdate,f=u===void 0?!0:u;typeof l=="number"&&(s.lastMeasuredColumnIndex=Math.min(s.lastMeasuredColumnIndex,l-1)),typeof d=="number"&&(s.lastMeasuredRowIndex=Math.min(s.lastMeasuredRowIndex,d-1)),n._getItemStyleCache(-1),f&&n.forceUpdate()},s},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.columnWidth,t.rowHeight}}),Oa=150,Da=function(t,n){return t};function za(i){var t,n=i.getItemOffset,r=i.getEstimatedTotalSize,e=i.getItemSize,a=i.getOffsetForIndexAndAlignment,s=i.getStartIndexForOffset,o=i.getStopIndexForStartIndex,l=i.initInstanceProps,d=i.shouldResetStyleCacheOnItemSizeChange,u=i.validateProps;return t=function(f){fr(g,f);function g(x){var h;return h=f.call(this,x)||this,h._instanceProps=l(h.props,wt(h)),h._outerRef=void 0,h._resetIsScrollingTimeoutId=null,h.state={instance:wt(h),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof h.props.initialScrollOffset=="number"?h.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},h._callOnItemsRendered=void 0,h._callOnItemsRendered=X(function(w,_,T,R){return h.props.onItemsRendered({overscanStartIndex:w,overscanStopIndex:_,visibleStartIndex:T,visibleStopIndex:R})}),h._callOnScroll=void 0,h._callOnScroll=X(function(w,_,T){return h.props.onScroll({scrollDirection:w,scrollOffset:_,scrollUpdateWasRequested:T})}),h._getItemStyle=void 0,h._getItemStyle=function(w){var _=h.props,T=_.direction,R=_.itemSize,v=_.layout,m=h._getItemStyleCache(d&&R,d&&v,d&&T),y;if(m.hasOwnProperty(w))y=m[w];else{var S=n(h.props,w,h._instanceProps),C=e(h.props,w,h._instanceProps),E=T==="horizontal"||v==="horizontal",O=T==="rtl",z=E?S:0;m[w]=y={position:"absolute",left:O?void 0:z,right:O?z:void 0,top:E?0:S,height:E?"100%":C,width:E?C:"100%"}}return y},h._getItemStyleCache=void 0,h._getItemStyleCache=X(function(w,_,T){return{}}),h._onScrollHorizontal=function(w){var _=w.currentTarget,T=_.clientWidth,R=_.scrollLeft,v=_.scrollWidth;h.setState(function(m){if(m.scrollOffset===R)return null;var y=h.props.direction,S=R;if(y==="rtl")switch(xt()){case"negative":S=-R;break;case"positive-descending":S=v-T-R;break}return S=Math.max(0,Math.min(S,v-T)),{isScrolling:!0,scrollDirection:m.scrollOffset<R?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},h._resetIsScrollingDebounced)},h._onScrollVertical=function(w){var _=w.currentTarget,T=_.clientHeight,R=_.scrollHeight,v=_.scrollTop;h.setState(function(m){if(m.scrollOffset===v)return null;var y=Math.max(0,Math.min(v,R-T));return{isScrolling:!0,scrollDirection:m.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},h._resetIsScrollingDebounced)},h._outerRefSetter=function(w){var _=h.props.outerRef;h._outerRef=w,typeof _=="function"?_(w):_!=null&&typeof _=="object"&&_.hasOwnProperty("current")&&(_.current=w)},h._resetIsScrollingDebounced=function(){h._resetIsScrollingTimeoutId!==null&&Rt(h._resetIsScrollingTimeoutId),h._resetIsScrollingTimeoutId=mr(h._resetIsScrolling,Oa)},h._resetIsScrolling=function(){h._resetIsScrollingTimeoutId=null,h.setState({isScrolling:!1},function(){h._getItemStyleCache(-1,null)})},h}g.getDerivedStateFromProps=function(h,w){return Na(h,w),u(h),null};var b=g.prototype;return b.scrollTo=function(h){h=Math.max(0,h),this.setState(function(w){return w.scrollOffset===h?null:{scrollDirection:w.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},b.scrollToItem=function(h,w){w===void 0&&(w="auto");var _=this.props.itemCount,T=this.state.scrollOffset;h=Math.max(0,Math.min(h,_-1)),this.scrollTo(a(this.props,h,w,T,this._instanceProps))},b.componentDidMount=function(){var h=this.props,w=h.direction,_=h.initialScrollOffset,T=h.layout;if(typeof _=="number"&&this._outerRef!=null){var R=this._outerRef;w==="horizontal"||T==="horizontal"?R.scrollLeft=_:R.scrollTop=_}this._callPropsCallbacks()},b.componentDidUpdate=function(){var h=this.props,w=h.direction,_=h.layout,T=this.state,R=T.scrollOffset,v=T.scrollUpdateWasRequested;if(v&&this._outerRef!=null){var m=this._outerRef;if(w==="horizontal"||_==="horizontal")if(w==="rtl")switch(xt()){case"negative":m.scrollLeft=-R;break;case"positive-ascending":m.scrollLeft=R;break;default:var y=m.clientWidth,S=m.scrollWidth;m.scrollLeft=S-y-R;break}else m.scrollLeft=R;else m.scrollTop=R}this._callPropsCallbacks()},b.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Rt(this._resetIsScrollingTimeoutId)},b.render=function(){var h=this.props,w=h.children,_=h.className,T=h.direction,R=h.height,v=h.innerRef,m=h.innerElementType,y=h.innerTagName,S=h.itemCount,C=h.itemData,E=h.itemKey,O=E===void 0?Da:E,z=h.layout,P=h.outerElementType,k=h.outerTagName,F=h.style,M=h.useIsScrolling,A=h.width,N=this.state.isScrolling,V=T==="horizontal"||z==="horizontal",W=V?this._onScrollHorizontal:this._onScrollVertical,D=this._getRangeToRender(),K=D[0],L=D[1],Y=[];if(S>0)for(var ae=K;ae<=L;ae++)Y.push(I.exports.createElement(w,{data:C,key:O(ae,C),index:ae,isScrolling:M?N:void 0,style:this._getItemStyle(ae)}));var xe=r(this.props,this._instanceProps);return I.exports.createElement(P||k||"div",{className:_,onScroll:W,ref:this._outerRefSetter,style:St({position:"relative",height:R,width:A,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:T},F)},I.exports.createElement(m||y||"div",{children:Y,ref:v,style:{height:V?"100%":xe,pointerEvents:N?"none":void 0,width:V?xe:"100%"}}))},b._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var h=this.props.itemCount;if(h>0){var w=this._getRangeToRender(),_=w[0],T=w[1],R=w[2],v=w[3];this._callOnItemsRendered(_,T,R,v)}}if(typeof this.props.onScroll=="function"){var m=this.state,y=m.scrollDirection,S=m.scrollOffset,C=m.scrollUpdateWasRequested;this._callOnScroll(y,S,C)}},b._getRangeToRender=function(){var h=this.props,w=h.itemCount,_=h.overscanCount,T=this.state,R=T.isScrolling,v=T.scrollDirection,m=T.scrollOffset;if(w===0)return[0,0,0,0];var y=s(this.props,m,this._instanceProps),S=o(this.props,y,m,this._instanceProps),C=!R||v==="backward"?Math.max(1,_):1,E=!R||v==="forward"?Math.max(1,_):1;return[Math.max(0,y-C),Math.max(0,Math.min(w-1,S+E)),y,S]},g}(I.exports.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Na=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Aa=50,Te=function(t,n,r){var e=t,a=e.itemSize,s=r.itemMetadataMap,o=r.lastMeasuredIndex;if(n>o){var l=0;if(o>=0){var d=s[o];l=d.offset+d.size}for(var u=o+1;u<=n;u++){var f=a(u);s[u]={offset:l,size:f},l+=f}r.lastMeasuredIndex=n}return s[n]},Va=function(t,n,r){var e=n.itemMetadataMap,a=n.lastMeasuredIndex,s=a>0?e[a].offset:0;return s>=r?br(t,n,a,0,r):Ma(t,n,Math.max(0,a),r)},br=function(t,n,r,e,a){for(;e<=r;){var s=e+Math.floor((r-e)/2),o=Te(t,s,n).offset;if(o===a)return s;o<a?e=s+1:o>a&&(r=s-1)}return e>0?e-1:0},Ma=function(t,n,r,e){for(var a=t.itemCount,s=1;r<a&&Te(t,r,n).offset<e;)r+=s,s*=2;return br(t,n,Math.min(r,a-1),Math.floor(r/2),e)},In=function(t,n){var r=t.itemCount,e=n.itemMetadataMap,a=n.estimatedItemSize,s=n.lastMeasuredIndex,o=0;if(s>=r&&(s=r-1),s>=0){var l=e[s];o=l.offset+l.size}var d=r-s-1,u=d*a;return o+u},Ha=za({getItemOffset:function(t,n,r){return Te(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:In,getOffsetForIndexAndAlignment:function(t,n,r,e,a){var s=t.direction,o=t.height,l=t.layout,d=t.width,u=s==="horizontal"||l==="horizontal",f=u?d:o,g=Te(t,n,a),b=In(t,a),x=Math.max(0,Math.min(b-f,g.offset)),h=Math.max(0,g.offset-f+g.size);switch(r==="smart"&&(e>=h-f&&e<=x+f?r="auto":r="center"),r){case"start":return x;case"end":return h;case"center":return Math.round(h+(x-h)/2);case"auto":default:return e>=h&&e<=x?e:e<h?h:x}},getStartIndexForOffset:function(t,n,r){return Va(t,r,n)},getStopIndexForStartIndex:function(t,n,r,e){for(var a=t.direction,s=t.height,o=t.itemCount,l=t.layout,d=t.width,u=a==="horizontal"||l==="horizontal",f=u?d:s,g=Te(t,n,e),b=r+f,x=g.offset+g.size,h=n;h<o-1&&x<b;)h++,x+=Te(t,h,e).size;return h},initInstanceProps:function(t,n){var r=t,e=r.estimatedItemSize,a={itemMetadataMap:{},estimatedItemSize:e||Aa,lastMeasuredIndex:-1};return n.resetAfterIndex=function(s,o){o===void 0&&(o=!0),a.lastMeasuredIndex=Math.min(a.lastMeasuredIndex,s-1),n._getItemStyleCache(-1),o&&n.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),Pa=gr({getColumnOffset:function(t,n){var r=t.columnWidth;return n*r},getColumnWidth:function(t,n){var r=t.columnWidth;return r},getRowOffset:function(t,n){var r=t.rowHeight;return n*r},getRowHeight:function(t,n){var r=t.rowHeight;return r},getEstimatedTotalHeight:function(t){var n=t.rowCount,r=t.rowHeight;return r*n},getEstimatedTotalWidth:function(t){var n=t.columnCount,r=t.columnWidth;return r*n},getOffsetForColumnAndAlignment:function(t,n,r,e,a,s){var o=t.columnCount,l=t.columnWidth,d=t.width,u=Math.max(0,o*l-d),f=Math.min(u,n*l),g=Math.max(0,n*l-d+s+l);switch(r==="smart"&&(e>=g-d&&e<=f+d?r="auto":r="center"),r){case"start":return f;case"end":return g;case"center":var b=Math.round(g+(f-g)/2);return b<Math.ceil(d/2)?0:b>u+Math.floor(d/2)?u:b;case"auto":default:return e>=g&&e<=f?e:g>f||e<g?g:f}},getOffsetForRowAndAlignment:function(t,n,r,e,a,s){var o=t.rowHeight,l=t.height,d=t.rowCount,u=Math.max(0,d*o-l),f=Math.min(u,n*o),g=Math.max(0,n*o-l+s+o);switch(r==="smart"&&(e>=g-l&&e<=f+l?r="auto":r="center"),r){case"start":return f;case"end":return g;case"center":var b=Math.round(g+(f-g)/2);return b<Math.ceil(l/2)?0:b>u+Math.floor(l/2)?u:b;case"auto":default:return e>=g&&e<=f?e:g>f||e<g?g:f}},getColumnStartIndexForOffset:function(t,n){var r=t.columnWidth,e=t.columnCount;return Math.max(0,Math.min(e-1,Math.floor(n/r)))},getColumnStopIndexForStartIndex:function(t,n,r){var e=t.columnWidth,a=t.columnCount,s=t.width,o=n*e,l=Math.ceil((s+r-o)/e);return Math.max(0,Math.min(a-1,n+l-1))},getRowStartIndexForOffset:function(t,n){var r=t.rowHeight,e=t.rowCount;return Math.max(0,Math.min(e-1,Math.floor(n/r)))},getRowStopIndexForStartIndex:function(t,n,r){var e=t.rowHeight,a=t.rowCount,s=t.height,o=n*e,l=Math.ceil((s+r-o)/e);return Math.max(0,Math.min(a-1,n+l-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.columnWidth,t.rowHeight}}),Sr=function(i){Re(t,i);function t(r){var e;return e=i.call(this,r)||this,e.renderHeaderRow=e.renderHeaderRow.bind(q(e)),e.renderFrozenRow=e.renderFrozenRow.bind(q(e)),e._setRef=e._setRef.bind(q(e)),e}var n=t.prototype;return n.scrollTo=function(e){var a=this;requestAnimationFrame(function(){a.headerRef&&(a.headerRef.scrollLeft=e)})},n.renderHeaderRow=function(e,a){var s=this.props,o=s.columns,l=s.headerRenderer;if(e<=0)return null;var d={width:"100%",height:e};return l({style:d,columns:o,headerIndex:a})},n.renderFrozenRow=function(e,a){var s=this.props,o=s.columns,l=s.rowHeight,d=s.rowRenderer,u={width:"100%",height:l},f=-a-1;return d({style:u,columns:o,rowData:e,rowIndex:f})},n.render=function(){var e=this.props,a=e.className,s=e.width,o=e.height,l=e.rowWidth,d=e.headerHeight,u=e.frozenData;if(o<=0)return null;var f={width:s,height:o,position:"relative",overflow:"hidden"},g={width:l,height:o},b=Array.isArray(d)?d:[d];return p("div",{role:"grid",ref:this._setRef,className:a,style:f,children:H("div",{role:"rowgroup",style:g,children:[b.map(this.renderHeaderRow),u.map(this.renderFrozenRow)]})})},n._setRef=function(e){this.headerRef=e},t}(j.PureComponent);Sr.propTypes={className:c.exports.string,width:c.exports.number.isRequired,height:c.exports.number.isRequired,headerHeight:c.exports.oneOfType([c.exports.number,c.exports.arrayOf(c.exports.number)]).isRequired,rowWidth:c.exports.number.isRequired,rowHeight:c.exports.number.isRequired,columns:c.exports.arrayOf(c.exports.object).isRequired,data:c.exports.array.isRequired,frozenData:c.exports.array,headerRenderer:c.exports.func.isRequired,rowRenderer:c.exports.func.isRequired};function On(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function Dn(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?On(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function be(i,t){return j.isValidElement(i)?t?j.cloneElement(i,t):i:typeof i=="function"?j.createElement(i,t):null}function La(i){var t=[];return j.Children.forEach(i,function(n){if(j.isValidElement(n)&&n.key){var r=Dn(Dn({},n.props),{},{key:n.key});t.push(r)}}),t}function wr(i,t,n){if(n===void 0&&(n=!0),i===t||i===null&&t===null)return!0;if(i===null||t===null||typeof i!="object"||typeof t!="object")return!1;var r=Object.keys(i),e=Object.keys(t);if(r.length!==e.length)return!1;for(var a=0;a<r.length;a++){var s=r[a];if(!(s==="_owner"&&i.$$typeof)){var o=i[s],l=t[s],d=typeof o;if(d!==typeof l)return!1;if(!(d==="function"&&n)){if(d==="object"){if(wr(o,l,n))continue;return!1}if(o!==l)return!1}}}return!0}function oe(i){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof i=="function"?i.apply(void 0,n):i}function qa(i){return Array.isArray(i.children)&&i.children.length>0}function Fa(i,t,n,r){if(n===void 0&&(n={}),r===void 0&&(r="id"),!t||!t.length)return i;var e=[],a=new Set;t.forEach(function(l){return a.add(l)});var s=[].concat(i);s.forEach(function(l){return n[l[r]]=0});for(var o=function(){var d=s.shift();e.push(d),a.has(d[r])&&Array.isArray(d.children)&&d.children.length>0&&(s=[].concat(d.children,s),d.children.forEach(function(u){return n[u[r]]=n[d[r]]+1}))};s.length>0;)o();return e}function Nt(i){return Array.isArray(i)?[].concat(i):[]}function Z(){}function ka(i){return typeof i=="string"?i:i==null?"":i.toString?i.toString():""}function Wa(i){for(var t=i.split("."),n=[],r=0;r<t.length;r++){for(var e=t[r];e[e.length-1]==="\\"&&t[r+1]!==void 0;)e=e.slice(0,-1)+".",e+=t[++r];n.push(e)}return n}function Ba(i,t,n){if(i===null||typeof i!="object"||typeof t!="string")return n;for(var r=Wa(t),e=0;e<r.length;e++){if(!Object.prototype.propertyIsEnumerable.call(i,r[e]))return n;if(i=i[r[e]],i==null){if(e!==r.length-1)return n;break}}return i}var ja=function(t,n){n===void 0&&(n=0);var r;return function(){for(var e=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];clearTimeout(r),r=setTimeout(function(){return t.apply(e,s)},n)}},Ka=function(t,n){var r,e,a;return function(){var s=this,o=arguments;r?(clearTimeout(e),e=setTimeout(function(){Date.now()-a>=n&&(t.apply(s,o),a=Date.now())},Math.max(n-(Date.now()-a),0))):(t.apply(s,o),a=Date.now(),r=!0)}},Ye;function Ua(i){if((!Ye&&Ye!==0||i)&&typeof window<"u"&&window.document&&window.document.createElement){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ye=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ye}function $a(i,t){i.classList?i.classList.add(t):i.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(i.className+=" "+t)}function Ya(i,t){i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function Rr(i,t){return typeof t=="function"?i.reduce(function(n,r,e){return n+t({rowData:r,rowIndex:e})},0):i.length*t}var Ga=["containerStyle","classPrefix","className","data","frozenData","width","height","rowHeight","estimatedRowHeight","getRowHeight","headerWidth","bodyWidth","useIsScrolling","onScroll","hoveredRowKey","overscanRowCount","style","onScrollbarPresenceChange"];function zn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function Nn(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zn(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Xe=function(i){Re(t,i);function t(r){var e;return e=i.call(this,r)||this,e._setHeaderRef=e._setHeaderRef.bind(q(e)),e._setBodyRef=e._setBodyRef.bind(q(e)),e._setInnerRef=e._setInnerRef.bind(q(e)),e._itemKey=e._itemKey.bind(q(e)),e._getBodyWidth=e._getBodyWidth.bind(q(e)),e._handleItemsRendered=e._handleItemsRendered.bind(q(e)),e._resetColumnWidthCache=X(function(a){!e.props.estimatedRowHeight||e.bodyRef&&e.bodyRef.resetAfterColumnIndex(0,!1)}),e._getEstimatedTotalRowsHeight=X(Rr),e.renderRow=e.renderRow.bind(q(e)),e}var n=t.prototype;return n.resetAfterRowIndex=function(e,a){e===void 0&&(e=0),!!this.props.estimatedRowHeight&&this.bodyRef&&this.bodyRef.resetAfterRowIndex(e,a)},n.forceUpdateTable=function(){this.headerRef&&this.headerRef.forceUpdate(),this.bodyRef&&this.bodyRef.forceUpdate()},n.scrollToPosition=function(e){this.headerRef&&this.headerRef.scrollTo(e.scrollLeft),this.bodyRef&&this.bodyRef.scrollTo(e)},n.scrollToTop=function(e){this.bodyRef&&this.bodyRef.scrollTo({scrollTop:e})},n.scrollToLeft=function(e){this.headerRef&&this.headerRef.scrollTo(e),this.bodyRef&&this.bodyRef.scrollToPosition({scrollLeft:e})},n.scrollToRow=function(e,a){e===void 0&&(e=0),a===void 0&&(a="auto"),this.bodyRef&&this.bodyRef.scrollToItem({rowIndex:e,align:a})},n.getTotalRowsHeight=function(){var e=this.props,a=e.data,s=e.rowHeight,o=e.estimatedRowHeight;return o?this.innerRef&&this.innerRef.clientHeight||this._getEstimatedTotalRowsHeight(a,o):a.length*s},n.renderRow=function(e){var a=this.props,s=a.data,o=a.columns,l=a.rowRenderer,d=s[e.rowIndex];return l(Nn(Nn({},e),{},{columns:o,rowData:d}))},n.render=function(){var e=this.props,a=e.containerStyle,s=e.classPrefix,o=e.className,l=e.data,d=e.frozenData,u=e.width,f=e.height,g=e.rowHeight,b=e.estimatedRowHeight,x=e.getRowHeight,h=e.headerWidth,w=e.bodyWidth,_=e.useIsScrolling,T=e.onScroll,R=e.hoveredRowKey,v=e.overscanRowCount;e.style,e.onScrollbarPresenceChange;var m=ie(e,Ga),y=this._getHeaderHeight(),S=d.length,C=g*S,E=he(s+"__table",o),O=a?{style:a}:null,z=b?Ia:Pa;return this._resetColumnWidthCache(w),H("div",{role:"table",className:E,...O,children:[p(z,{...m,className:s+"__body",ref:this._setBodyRef,innerRef:this._setInnerRef,itemKey:this._itemKey,data:l,frozenData:d,width:u,height:Math.max(f-y-C,0),rowHeight:b?x:g,estimatedRowHeight:typeof b=="function"?void 0:b,rowCount:l.length,overscanRowCount:v,columnWidth:b?this._getBodyWidth:w,columnCount:1,overscanColumnCount:0,useIsScrolling:_,hoveredRowKey:R,onScroll:T,onItemsRendered:this._handleItemsRendered,children:this.renderRow}),y+C>0&&p(Sr,{...m,className:s+"__header",ref:this._setHeaderRef,data:l,frozenData:d,width:u,height:Math.min(y+C,f),rowWidth:h,rowHeight:g,headerHeight:this.props.headerHeight,headerRenderer:this.props.headerRenderer,rowRenderer:this.props.rowRenderer,hoveredRowKey:S>0?R:null})]})},n._setHeaderRef=function(e){this.headerRef=e},n._setBodyRef=function(e){this.bodyRef=e},n._setInnerRef=function(e){this.innerRef=e},n._itemKey=function(e){var a=e.rowIndex,s=this.props,o=s.data,l=s.rowKey;return o[a][l]},n._getHeaderHeight=function(){var e=this.props.headerHeight;return Array.isArray(e)?e.reduce(function(a,s){return a+s},0):e},n._getBodyWidth=function(){return this.props.bodyWidth},n._handleItemsRendered=function(e){var a=e.overscanRowStartIndex,s=e.overscanRowStopIndex,o=e.visibleRowStartIndex,l=e.visibleRowStopIndex;this.props.onRowsRendered({overscanStartIndex:a,overscanStopIndex:s,startIndex:o,stopIndex:l})},t}(j.PureComponent);Xe.propTypes={containerStyle:c.exports.object,classPrefix:c.exports.string,className:c.exports.string,width:c.exports.number.isRequired,height:c.exports.number.isRequired,headerHeight:c.exports.oneOfType([c.exports.number,c.exports.arrayOf(c.exports.number)]).isRequired,headerWidth:c.exports.number.isRequired,bodyWidth:c.exports.number.isRequired,rowHeight:c.exports.number.isRequired,estimatedRowHeight:c.exports.oneOfType([c.exports.func,c.exports.number]),getRowHeight:c.exports.func,columns:c.exports.arrayOf(c.exports.object).isRequired,data:c.exports.array.isRequired,frozenData:c.exports.array,rowKey:c.exports.oneOfType([c.exports.string,c.exports.number]).isRequired,useIsScrolling:c.exports.bool,overscanRowCount:c.exports.number,hoveredRowKey:c.exports.oneOfType([c.exports.string,c.exports.number]),style:c.exports.object,onScrollbarPresenceChange:c.exports.func,onScroll:c.exports.func,onRowsRendered:c.exports.func,headerRenderer:c.exports.func.isRequired,rowRenderer:c.exports.func.isRequired};var Qa=["className","style","columns","headerIndex","cellRenderer","headerRenderer","expandColumnKey","expandIcon","tagName"],ln=function(t){var n=t.className,r=t.style,e=t.columns,a=t.headerIndex,s=t.cellRenderer,o=t.headerRenderer,l=t.expandColumnKey,d=t.expandIcon,u=t.tagName,f=ie(t,Qa),g=e.map(function(b,x){return s({columns:e,column:b,columnIndex:x,headerIndex:a,expandIcon:b.key===l&&p(d,{})})});return o&&(g=be(o,{cells:g,columns:e,headerIndex:a})),p(u,{...f,className:n,style:r,children:g})};ln.defaultProps={tagName:"div"};ln.propTypes={isScrolling:c.exports.bool,className:c.exports.string,style:c.exports.object,columns:c.exports.arrayOf(c.exports.object).isRequired,headerIndex:c.exports.number,cellRenderer:c.exports.func,headerRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),expandColumnKey:c.exports.string,expandIcon:c.exports.func,tagName:c.exports.elementType};var Xa=["isScrolling","className","style","columns","rowIndex","rowData","expandColumnKey","depth","rowEventHandlers","estimatedRowHeight","rowRenderer","cellRenderer","expandIconRenderer","tagName","rowKey","getIsResetting","onRowHover","onRowExpand","onRowHeightChange"],Ja=["height"],dn=function(i){Re(t,i);function t(r){var e;return e=i.call(this,r)||this,e.state={measured:!1},e._setRef=e._setRef.bind(q(e)),e._handleExpand=e._handleExpand.bind(q(e)),e}var n=t.prototype;return n.componentDidMount=function(){this.props.estimatedRowHeight&&this.props.rowIndex>=0&&this._measureHeight(!0)},n.componentDidUpdate=function(e,a){var s=this;this.props.estimatedRowHeight&&this.props.rowIndex>=0&&!this.props.getIsResetting()&&this.state.measured&&a.measured&&this.setState({measured:!1},function(){return s._measureHeight()})},n.render=function(){var e=this.props,a=e.isScrolling,s=e.className,o=e.style,l=e.columns,d=e.rowIndex,u=e.rowData,f=e.expandColumnKey,g=e.depth,b=e.rowEventHandlers,x=e.estimatedRowHeight,h=e.rowRenderer,w=e.cellRenderer,_=e.expandIconRenderer,T=e.tagName;e.rowKey,e.getIsResetting,e.onRowHover,e.onRowExpand,e.onRowHeightChange;var R=ie(e,Xa),v=_({rowData:u,rowIndex:d,depth:g,onExpand:this._handleExpand}),m=l.map(function(C,E){return w({isScrolling:a,columns:l,column:C,columnIndex:E,rowData:u,rowIndex:d,expandIcon:C.key===f&&v})});h&&(m=be(h,{isScrolling:a,cells:m,columns:l,rowData:u,rowIndex:d,depth:g}));var y=this._getEventHandlers(b);if(x&&d>=0){o.height;var S=ie(o,Ja);return p(T,{...R,ref:this._setRef,className:s,style:this.state.measured?o:S,...this.state.measured&&y,children:m})}return p(T,{...R,className:s,style:o,...y,children:m})},n._setRef=function(e){this.ref=e},n._handleExpand=function(e){var a=this.props,s=a.onRowExpand,o=a.rowData,l=a.rowIndex,d=a.rowKey;s&&s({expanded:e,rowData:o,rowIndex:l,rowKey:d})},n._measureHeight=function(e){if(!!this.ref){var a=this.props,s=a.style,o=a.rowKey,l=a.onRowHeightChange,d=a.rowIndex,u=a.columns,f=this.ref.getBoundingClientRect().height;this.setState({measured:!0},function(){(e||f!==s.height)&&l(o,f,d,u[0]&&!u[0].__placeholder__&&u[0].frozen)})}},n._getEventHandlers=function(e){e===void 0&&(e={});var a=this.props,s=a.rowData,o=a.rowIndex,l=a.rowKey,d=a.onRowHover,u={};if(Object.keys(e).forEach(function(b){var x=e[b];typeof x=="function"&&(u[b]=function(h){x({rowData:s,rowIndex:o,rowKey:l,event:h})})}),d){var f=u.onMouseEnter;u.onMouseEnter=function(b){d({hovered:!0,rowData:s,rowIndex:o,rowKey:l,event:b}),f&&f(b)};var g=u.onMouseLeave;u.onMouseLeave=function(b){d({hovered:!1,rowData:s,rowIndex:o,rowKey:l,event:b}),g&&g(b)}}return u},t}(j.PureComponent);dn.defaultProps={tagName:"div"};dn.propTypes={isScrolling:c.exports.bool,className:c.exports.string,style:c.exports.object,columns:c.exports.arrayOf(c.exports.object).isRequired,rowData:c.exports.object.isRequired,rowIndex:c.exports.number.isRequired,rowKey:c.exports.oneOfType([c.exports.string,c.exports.number]),expandColumnKey:c.exports.string,depth:c.exports.number,rowEventHandlers:c.exports.object,rowRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),cellRenderer:c.exports.func,expandIconRenderer:c.exports.func,estimatedRowHeight:c.exports.oneOfType([c.exports.number,c.exports.func]),getIsResetting:c.exports.func,onRowHover:c.exports.func,onRowExpand:c.exports.func,onRowHeightChange:c.exports.func,tagName:c.exports.elementType};var xr=function(t){var n=t.className,r=t.column;return t.columnIndex,p("div",{className:n,children:r.title})};xr.propTypes={className:c.exports.string,column:c.exports.object,columnIndex:c.exports.number};var Cr=function(t){var n=t.className,r=t.cellData;return t.column,t.columnIndex,t.rowData,t.rowIndex,p("div",{className:n,children:j.isValidElement(r)?r:ka(r)})};Cr.propTypes={className:c.exports.string,cellData:c.exports.any,column:c.exports.object,columnIndex:c.exports.number,rowData:c.exports.object,rowIndex:c.exports.number};var Ae={LEFT:"left",CENTER:"center",RIGHT:"right"},Se={LEFT:"left",RIGHT:"right",DEFAULT:!0,NONE:!1},Q=function(i){Re(t,i);function t(){return i.apply(this,arguments)||this}return t}(j.Component);Q.propTypes={className:c.exports.oneOfType([c.exports.string,c.exports.func]),headerClassName:c.exports.oneOfType([c.exports.string,c.exports.func]),style:c.exports.object,title:c.exports.string,dataKey:c.exports.string,dataGetter:c.exports.func,align:c.exports.oneOf(["left","center","right"]),flexGrow:c.exports.number,flexShrink:c.exports.number,width:c.exports.number.isRequired,maxWidth:c.exports.number,minWidth:c.exports.number,frozen:c.exports.oneOf(["left","right",!0,!1]),hidden:c.exports.bool,resizable:c.exports.bool,sortable:c.exports.bool,cellRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),headerRenderer:c.exports.oneOfType([c.exports.func,c.exports.element])};Q.Alignment=Ae;Q.FrozenDirection=Se;var G={ASC:"asc",DESC:"desc"},Za=["expandable","expanded","indentSize","depth","onExpand"],cn=function(i){Re(t,i);function t(r){var e;return e=i.call(this,r)||this,e._handleClick=e._handleClick.bind(q(e)),e}var n=t.prototype;return n.render=function(){var e=this.props,a=e.expandable,s=e.expanded,o=e.indentSize,l=e.depth,d=e.onExpand,u=ie(e,Za);if(!a&&o===0)return null;var f=he("BaseTable__expand-icon",{"BaseTable__expand-icon--expanded":s});return p("div",{...u,className:f,onClick:a&&d?this._handleClick:null,style:{fontFamily:"initial",cursor:"pointer",userSelect:"none",width:"16px",minWidth:"16px",height:"16px",lineHeight:"16px",fontSize:"16px",textAlign:"center",transition:"transform 0.15s ease-out",transform:"rotate("+(a&&s?90:0)+"deg)",marginLeft:l*o},children:a&&"\u25B8"})},n._handleClick=function(e){e.stopPropagation(),e.preventDefault();var a=this.props,s=a.onExpand,o=a.expanded;s(!o)},t}(j.PureComponent);cn.defaultProps={depth:0,indentSize:16};cn.propTypes={expandable:c.exports.bool,expanded:c.exports.bool,indentSize:c.exports.number,depth:c.exports.number,onExpand:c.exports.func};function An(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function eo(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?An(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Tr=function(t){var n=t.sortOrder,r=t.className,e=t.style,a=he("BaseTable__sort-indicator",r,{"BaseTable__sort-indicator--descending":n===G.DESC});return p("div",{className:a,style:eo({userSelect:"none",width:"16px",height:"16px",lineHeight:"16px",textAlign:"center"},e),children:n===G.DESC?"\u2193":"\u2191"})};Tr.propTypes={sortOrder:c.exports.oneOf([G.ASC,G.DESC]),className:c.exports.string,style:c.exports.object};var to=["style","column","onResizeStart","onResize","onResizeStop","minWidth"];function Vn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function no(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vn(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var At=null;function ro(i){if(!!i){var t=i.getElementById("react-draggable-style-el");t||(t=i.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(t)),i.body&&$a(i.body,"react-draggable-transparent-selection")}}function Mn(i){if(!!i)try{if(i.body&&Ya(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{var t=(i.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}var se={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ge=se.mouse,un=function(i){Re(t,i);function t(r){var e;return e=i.call(this,r)||this,e.isDragging=!1,e.lastX=At,e.width=0,e._setHandleRef=e._setHandleRef.bind(q(e)),e._handleClick=e._handleClick.bind(q(e)),e._handleMouseDown=e._handleMouseDown.bind(q(e)),e._handleMouseUp=e._handleMouseUp.bind(q(e)),e._handleTouchStart=e._handleTouchStart.bind(q(e)),e._handleTouchEnd=e._handleTouchEnd.bind(q(e)),e._handleDragStart=e._handleDragStart.bind(q(e)),e._handleDragStop=e._handleDragStop.bind(q(e)),e._handleDrag=e._handleDrag.bind(q(e)),e}var n=t.prototype;return n.componentWillUnmount=function(){if(this.handleRef){var e=this.handleRef.ownerDocument;e.removeEventListener(se.mouse.move,this._handleDrag),e.removeEventListener(se.mouse.stop,this._handleDragStop),e.removeEventListener(se.touch.move,this._handleDrag),e.removeEventListener(se.touch.stop,this._handleDragStop),Mn(e)}},n.render=function(){var e=this.props,a=e.style;e.column,e.onResizeStart,e.onResize,e.onResizeStop,e.minWidth;var s=ie(e,to);return p("div",{...s,ref:this._setHandleRef,onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd,style:no({userSelect:"none",touchAction:"none",position:"absolute",top:0,bottom:0,right:0,cursor:"col-resize"},a)})},n._setHandleRef=function(e){this.handleRef=e},n._handleClick=function(e){e.stopPropagation()},n._handleMouseDown=function(e){ge=se.mouse,this._handleDragStart(e)},n._handleMouseUp=function(e){ge=se.mouse,this._handleDragStop(e)},n._handleTouchStart=function(e){ge=se.touch,this._handleDragStart(e)},n._handleTouchEnd=function(e){ge=se.touch,this._handleDragStop(e)},n._handleDragStart=function(e){if(!(typeof e.button=="number"&&e.button!==0)){this.isDragging=!0,this.lastX=At,this.width=this.props.column.width,this.props.onResizeStart(this.props.column);var a=this.handleRef.ownerDocument;ro(a),a.addEventListener(ge.move,this._handleDrag),a.addEventListener(ge.stop,this._handleDragStop)}},n._handleDragStop=function(e){if(!!this.isDragging){this.isDragging=!1,this.props.onResizeStop(this.props.column);var a=this.handleRef.ownerDocument;Mn(a),a.removeEventListener(ge.move,this._handleDrag),a.removeEventListener(ge.stop,this._handleDragStop)}},n._handleDrag=function(e){var a=e.clientX;e.type===se.touch.move&&(e.preventDefault(),e.targetTouches&&e.targetTouches[0]&&(a=e.targetTouches[0].clientX));var s=this.handleRef.offsetParent,o=s.getBoundingClientRect(),l=a+s.scrollLeft-o.left;if(this.lastX===At){this.lastX=l;return}var d=this.props,u=d.column,f=d.minWidth,g=u.width,b=u.maxWidth,x=u.minWidth,h=x===void 0?f:x,w=l-this.lastX;if(!!w){this.width=this.width+w,this.lastX=l;var _=this.width;b&&_>b?_=b:_<h&&(_=h),_!==g&&this.props.onResize(u,_)}},t}(j.PureComponent);un.defaultProps={onResizeStart:Z,onResize:Z,onResizeStop:Z,minWidth:30};un.propTypes={style:c.exports.object,column:c.exports.object,onResizeStart:c.exports.func,onResize:c.exports.func,onResizeStop:c.exports.func,minWidth:c.exports.number};function Hn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function ye(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hn(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Me=function(){function i(n,r){this._origColumns=[],this.reset(n,r)}var t=i.prototype;return t._cache=function(r,e){return r in this._cached?this._cached[r]:(this._cached[r]=e(),this._cached[r])},t.reset=function(r,e){var a=this;this._columns=r.map(function(s){var o=s.width;if(s.resizable){var l=a._origColumns.findIndex(function(d){return d.key===s.key});l>=0&&a._origColumns[l].width===s.width&&(o=a._columns[l].width)}return ye(ye({},s),{},{width:o})}),this._origColumns=r,this._fixed=e,this._cached={},this._columnStyles=this.recomputeColumnStyles()},t.resetCache=function(){this._cached={}},t.getOriginalColumns=function(){return this._origColumns},t.getColumns=function(){return this._columns},t.getVisibleColumns=function(){var r=this;return this._cache("visibleColumns",function(){return r._columns.filter(function(e){return!e.hidden})})},t.hasFrozenColumns=function(){var r=this;return this._cache("hasFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return!!e.frozen})})},t.hasLeftFrozenColumns=function(){var r=this;return this._cache("hasLeftFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return e.frozen===Se.LEFT||e.frozen===!0})})},t.hasRightFrozenColumns=function(){var r=this;return this._cache("hasRightFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return e.frozen===Se.RIGHT})})},t.getMainColumns=function(){var r=this;return this._cache("mainColumns",function(){var e=r.getVisibleColumns();if(!r.hasFrozenColumns())return e;var a=[];return r.getLeftFrozenColumns().forEach(function(s){var o;a.push(ye(ye({},s),{},(o={},o[i.PlaceholderKey]=!0,o)))}),r.getVisibleColumns().forEach(function(s){s.frozen||a.push(s)}),r.getRightFrozenColumns().forEach(function(s){var o;a.push(ye(ye({},s),{},(o={},o[i.PlaceholderKey]=!0,o)))}),a})},t.getLeftFrozenColumns=function(){var r=this;return this._cache("leftFrozenColumns",function(){return r._fixed?r.getVisibleColumns().filter(function(e){return e.frozen===Se.LEFT||e.frozen===!0}):[]})},t.getRightFrozenColumns=function(){var r=this;return this._cache("rightFrozenColumns",function(){return r._fixed?r.getVisibleColumns().filter(function(e){return e.frozen===Se.RIGHT}):[]})},t.getColumn=function(r){var e=this._columns.findIndex(function(a){return a.key===r});return this._columns[e]},t.getColumnsWidth=function(){var r=this;return this._cache("columnsWidth",function(){return r.recomputeColumnsWidth(r.getVisibleColumns())})},t.getLeftFrozenColumnsWidth=function(){var r=this;return this._cache("leftFrozenColumnsWidth",function(){return r.recomputeColumnsWidth(r.getLeftFrozenColumns())})},t.getRightFrozenColumnsWidth=function(){var r=this;return this._cache("rightFrozenColumnsWidth",function(){return r.recomputeColumnsWidth(r.getRightFrozenColumns())})},t.recomputeColumnsWidth=function(r){return r.reduce(function(e,a){return e+a.width},0)},t.setColumnWidth=function(r,e){var a=this.getColumn(r);a.width=e,this._cached={},this._columnStyles[a.key]=this.recomputeColumnStyle(a)},t.getColumnStyle=function(r){return this._columnStyles[r]},t.getColumnStyles=function(){return this._columnStyles},t.recomputeColumnStyle=function(r){var e=0,a=0;this._fixed||(e=typeof r.flexGrow=="number"?r.flexGrow:0,a=typeof r.flexShrink=="number"?r.flexShrink:1);var s=e+" "+a+" auto",o=ye(ye({},r.style),{},{flex:s,msFlex:s,WebkitFlex:s,width:r.width,overflow:"hidden"});return!this._fixed&&r.maxWidth&&(o.maxWidth=r.maxWidth),!this._fixed&&r.minWidth&&(o.minWidth=r.minWidth),o},t.recomputeColumnStyles=function(){var r=this;return this._columns.reduce(function(e,a){return e[a.key]=r.recomputeColumnStyle(a),e},{})},i}();Me.PlaceholderKey="__placeholder__";var io=["tagName"],ao=["tagName"],oo=["width","headerHeight","rowHeight","fixed","estimatedRowHeight"],so=["width","headerHeight","rowHeight","estimatedRowHeight"],lo=["width","headerHeight","rowHeight","estimatedRowHeight"];function Pn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function ve(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pn(Object(n),!0).forEach(function(r){De(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Ln=X(function(i,t){return i||La(t)}),qn=function(t,n,r){return{width:t,maxWidth:n,height:r,overflow:"hidden"}},co={TableCell:Cr,TableHeaderCell:xr,ExpandIcon:cn,SortIndicator:Tr},uo=50,ho=[],je=function(i){Re(t,i);function t(r){var e;e=i.call(this,r)||this;var a=r.columns,s=r.children,o=r.defaultExpandedRowKeys;return e.state={scrollbarSize:0,hoveredRowKey:null,resizingKey:null,resizingWidth:0,expandedRowKeys:Nt(o)},e.columnManager=new Me(Ln(a,s),r.fixed),e._setContainerRef=e._setContainerRef.bind(q(e)),e._setMainTableRef=e._setMainTableRef.bind(q(e)),e._setLeftTableRef=e._setLeftTableRef.bind(q(e)),e._setRightTableRef=e._setRightTableRef.bind(q(e)),e.renderExpandIcon=e.renderExpandIcon.bind(q(e)),e.renderRow=e.renderRow.bind(q(e)),e.renderRowCell=e.renderRowCell.bind(q(e)),e.renderHeader=e.renderHeader.bind(q(e)),e.renderHeaderCell=e.renderHeaderCell.bind(q(e)),e._handleScroll=e._handleScroll.bind(q(e)),e._handleVerticalScroll=e._handleVerticalScroll.bind(q(e)),e._handleRowsRendered=e._handleRowsRendered.bind(q(e)),e._handleRowHover=e._handleRowHover.bind(q(e)),e._handleRowExpand=e._handleRowExpand.bind(q(e)),e._handleColumnResize=Ka(e._handleColumnResize.bind(q(e)),uo),e._handleColumnResizeStart=e._handleColumnResizeStart.bind(q(e)),e._handleColumnResizeStop=e._handleColumnResizeStop.bind(q(e)),e._handleColumnSort=e._handleColumnSort.bind(q(e)),e._handleFrozenRowHeightChange=e._handleFrozenRowHeightChange.bind(q(e)),e._handleRowHeightChange=e._handleRowHeightChange.bind(q(e)),e._getLeftTableContainerStyle=X(qn),e._getRightTableContainerStyle=X(qn),e._flattenOnKeys=X(function(l,d,u){return e._depthMap={},Fa(l,d,e._depthMap,u)}),e._resetColumnManager=X(function(l,d){e.columnManager.reset(l,d),e.props.estimatedRowHeight&&d&&(e.columnManager.hasLeftFrozenColumns()||(e._leftRowHeightMap={}),e.columnManager.hasRightFrozenColumns()||(e._rightRowHeightMap={}))},function(l,d){return wr(l,d,e.props.ignoreFunctionInColumnCompare)}),e._isResetting=!1,e._resetIndex=null,e._rowHeightMap={},e._rowHeightMapBuffer={},e._mainRowHeightMap={},e._leftRowHeightMap={},e._rightRowHeightMap={},e._getEstimatedTotalRowsHeight=X(Rr),e._getRowHeight=e._getRowHeight.bind(q(e)),e._updateRowHeights=ja(function(){e._isResetting=!0,e._rowHeightMap=ve(ve({},e._rowHeightMap),e._rowHeightMapBuffer),e.resetAfterRowIndex(e._resetIndex,!1),e._rowHeightMapBuffer={},e._resetIndex=null,e.forceUpdateTable(),e.forceUpdate(),e._isResetting=!1},0),e._scroll={scrollLeft:0,scrollTop:0},e._scrollHeight=0,e._lastScannedRowIndex=-1,e._hasDataChangedSinceEndReached=!0,e._data=r.data,e._depthMap={},e._horizontalScrollbarSize=0,e._verticalScrollbarSize=0,e._scrollbarPresenceChanged=!1,e}var n=t.prototype;return n.getDOMNode=function(){return this.tableNode},n.getColumnManager=function(){return this.columnManager},n.getExpandedRowKeys=function(){var e=this.props.expandedRowKeys;return e!==void 0?e||ho:this.state.expandedRowKeys},n.getExpandedState=function(){return{expandedData:this._data,expandedRowKeys:this.getExpandedRowKeys(),expandedDepthMap:this._depthMap}},n.getTotalRowsHeight=function(){var e=this.props,a=e.rowHeight,s=e.estimatedRowHeight;return s?this.table?this.table.getTotalRowsHeight():this._getEstimatedTotalRowsHeight(this._data,s):this._data.length*a},n.getTotalColumnsWidth=function(){return this.columnManager.getColumnsWidth()},n.forceUpdateTable=function(){this.table&&this.table.forceUpdateTable(),this.leftTable&&this.leftTable.forceUpdateTable(),this.rightTable&&this.rightTable.forceUpdateTable()},n.resetAfterRowIndex=function(e,a){e===void 0&&(e=0),a===void 0&&(a=!0),this.props.estimatedRowHeight&&(this.table&&this.table.resetAfterRowIndex(e,a),this.leftTable&&this.leftTable.resetAfterRowIndex(e,a),this.rightTable&&this.rightTable.resetAfterRowIndex(e,a))},n.resetRowHeightCache=function(){!this.props.estimatedRowHeight||(this._resetIndex=null,this._rowHeightMapBuffer={},this._rowHeightMap={},this._mainRowHeightMap={},this._leftRowHeightMap={},this._rightRowHeightMap={})},n.scrollToPosition=function(e){this._scroll=e,this.table&&this.table.scrollToPosition(e),this.leftTable&&this.leftTable.scrollToTop(e.scrollTop),this.rightTable&&this.rightTable.scrollToTop(e.scrollTop)},n.scrollToTop=function(e){this._scroll.scrollTop=e,this.table&&this.table.scrollToPosition(this._scroll),this.leftTable&&this.leftTable.scrollToTop(e),this.rightTable&&this.rightTable.scrollToTop(e)},n.scrollToLeft=function(e){this._scroll.scrollLeft=e,this.table&&this.table.scrollToPosition(this._scroll)},n.scrollToRow=function(e,a){e===void 0&&(e=0),a===void 0&&(a="auto"),this.table&&this.table.scrollToRow(e,a),this.leftTable&&this.leftTable.scrollToRow(e,a),this.rightTable&&this.rightTable.scrollToRow(e,a)},n.setExpandedRowKeys=function(e){this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:Nt(e)})},n.renderExpandIcon=function(e){var a=e.rowData,s=e.rowIndex,o=e.depth,l=e.onExpand,d=this.props,u=d.rowKey,f=d.expandColumnKey,g=d.expandIconProps;if(!f)return null;var b=s>=0&&qa(a),x=s>=0&&this.getExpandedRowKeys().indexOf(a[u])>=0,h=oe(g,{rowData:a,rowIndex:s,depth:o,expandable:b,expanded:x}),w=this._getComponent("ExpandIcon");return p(w,{depth:o,expandable:b,expanded:x,...h,onExpand:l})},n.renderRow=function(e){var a,s=e.isScrolling,o=e.columns,l=e.rowData,d=e.rowIndex,u=e.style,f=this.props,g=f.rowClassName,b=f.rowRenderer,x=f.rowEventHandlers,h=f.expandColumnKey,w=f.estimatedRowHeight,_=oe(g,{columns:o,rowData:l,rowIndex:d}),T=oe(this.props.rowProps,{columns:o,rowData:l,rowIndex:d}),R=l[this.props.rowKey],v=this._depthMap[R]||0,m=he(this._prefixClass("row"),_,(a={},a[this._prefixClass("row--depth-"+v)]=!!h&&d>=0,a[this._prefixClass("row--expanded")]=!!h&&this.getExpandedRowKeys().indexOf(R)>=0,a[this._prefixClass("row--hovered")]=!s&&R===this.state.hoveredRowKey,a[this._prefixClass("row--frozen")]=v===0&&d<0,a[this._prefixClass("row--customized")]=b,a)),y=this.columnManager.hasFrozenColumns(),S=ve(ve({},T),{},{role:"row",key:"row-"+R,isScrolling:s,className:m,style:u,columns:o,rowIndex:d,rowData:l,rowKey:R,expandColumnKey:h,depth:v,rowEventHandlers:x,rowRenderer:b,estimatedRowHeight:d>=0?w:void 0,getIsResetting:this._getIsResetting,cellRenderer:this.renderRowCell,expandIconRenderer:this.renderExpandIcon,onRowExpand:this._handleRowExpand,onRowHover:y?this._handleRowHover:null,onRowHeightChange:y?this._handleFrozenRowHeightChange:this._handleRowHeightChange});return p(dn,{...S})},n.renderRowCell=function(e){var a,s=e.isScrolling,o=e.columns,l=e.column,d=e.columnIndex,u=e.rowData,f=e.rowIndex,g=e.expandIcon;if(l[Me.PlaceholderKey])return p("div",{className:this._prefixClass("row-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)},"row-"+u[this.props.rowKey]+"-cell-"+l.key+"-placeholder");var b=l.className,x=l.dataKey,h=l.dataGetter,w=l.cellRenderer,_=this._getComponent("TableCell"),T=h?h({columns:o,column:l,columnIndex:d,rowData:u,rowIndex:f}):Ba(u,x),R={isScrolling:s,cellData:T,columns:o,column:l,columnIndex:d,rowData:u,rowIndex:f,container:this},v=be(w||p(_,{className:this._prefixClass("row-cell-text")}),R),m=oe(b,{cellData:T,columns:o,column:l,columnIndex:d,rowData:u,rowIndex:f}),y=he(this._prefixClass("row-cell"),m,(a={},a[this._prefixClass("row-cell--align-center")]=l.align===Ae.CENTER,a[this._prefixClass("row-cell--align-right")]=l.align===Ae.RIGHT,a)),S=oe(this.props.cellProps,{columns:o,column:l,columnIndex:d,rowData:u,rowIndex:f}),C=S||{},E=C.tagName,O=ie(C,io),z=E||"div";return H(z,{role:"gridcell",...O,className:y,style:this.columnManager.getColumnStyle(l.key),children:[g,v]},"row-"+u[this.props.rowKey]+"-cell-"+l.key)},n.renderHeader=function(e){var a,s=e.columns,o=e.headerIndex,l=e.style,d=this.props,u=d.headerClassName,f=d.headerRenderer,g=oe(u,{columns:s,headerIndex:o}),b=oe(this.props.headerProps,{columns:s,headerIndex:o}),x=he(this._prefixClass("header-row"),g,(a={},a[this._prefixClass("header-row--resizing")]=!!this.state.resizingKey,a[this._prefixClass("header-row--customized")]=f,a)),h=ve(ve({},b),{},{role:"row",key:"header-"+o,className:x,style:l,columns:s,headerIndex:o,headerRenderer:f,cellRenderer:this.renderHeaderCell,expandColumnKey:this.props.expandColumnKey,expandIcon:this._getComponent("ExpandIcon")});return p(ln,{...h})},n.renderHeaderCell=function(e){var a,s,o=e.columns,l=e.column,d=e.columnIndex,u=e.headerIndex,f=e.expandIcon;if(l[Me.PlaceholderKey])return p("div",{className:this._prefixClass("header-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)},"header-"+u+"-cell-"+l.key+"-placeholder");var g=l.headerClassName,b=l.headerRenderer,x=this.props,h=x.sortBy,w=x.sortState,_=x.headerCellProps,T=this._getComponent("TableHeaderCell"),R=this._getComponent("SortIndicator"),v={columns:o,column:l,columnIndex:d,headerIndex:u,container:this},m=be(b||p(T,{className:this._prefixClass("header-cell-text")}),v),y,S;if(w){var C=w[l.key];y=C===G.ASC||C===G.DESC,S=y?C:G.ASC}else y=l.key===h.key,S=y?h.order:G.ASC;var E=oe(g,{columns:o,column:l,columnIndex:d,headerIndex:u}),O=he(this._prefixClass("header-cell"),E,(a={},a[this._prefixClass("header-cell--align-center")]=l.align===Ae.CENTER,a[this._prefixClass("header-cell--align-right")]=l.align===Ae.RIGHT,a[this._prefixClass("header-cell--sortable")]=l.sortable,a[this._prefixClass("header-cell--sorting")]=y,a[this._prefixClass("header-cell--resizing")]=l.key===this.state.resizingKey,a)),z=oe(_,{columns:o,column:l,columnIndex:d,headerIndex:u}),P=z||{},k=P.tagName,F=ie(P,ao),M=k||"div";return H(M,{role:"gridcell",onClick:l.sortable?this._handleColumnSort:null,...F,className:O,style:this.columnManager.getColumnStyle(l.key),"data-key":l.key,children:[f,m,l.sortable&&p(R,{sortOrder:S,className:he(this._prefixClass("sort-indicator"),(s={},s[this._prefixClass("sort-indicator--descending")]=S===G.DESC,s))}),l.resizable&&p(un,{className:this._prefixClass("column-resizer"),column:l,onResizeStart:this._handleColumnResizeStart,onResizeStop:this._handleColumnResizeStop,onResize:this._handleColumnResize})]},"header-"+u+"-cell-"+l.key)},n.renderMainTable=function(){var e=this.props,a=e.width,s=e.headerHeight,o=e.rowHeight,l=e.fixed,d=e.estimatedRowHeight,u=ie(e,oo),f=this._getTableHeight(),g=a-this._verticalScrollbarSize;if(l){var b=this.columnManager.getColumnsWidth();g=Math.max(Math.round(b),g)}return p(Xe,{...u,...this.state,className:this._prefixClass("table-main"),ref:this._setMainTableRef,data:this._data,columns:this.columnManager.getMainColumns(),width:a,height:f,headerHeight:s,rowHeight:o,estimatedRowHeight:d,getRowHeight:d?this._getRowHeight:void 0,headerWidth:g+(l?this._verticalScrollbarSize:0),bodyWidth:g,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleScroll,onRowsRendered:this._handleRowsRendered})},n.renderLeftTable=function(){if(!this.columnManager.hasLeftFrozenColumns())return null;var e=this.props,a=e.width,s=e.headerHeight,o=e.rowHeight,l=e.estimatedRowHeight,d=ie(e,so),u=this._getFrozenContainerHeight(),f=this._verticalScrollbarSize||20,g=this.columnManager.getLeftFrozenColumnsWidth();return p(Xe,{...d,...this.state,containerStyle:this._getLeftTableContainerStyle(g,a,u),className:this._prefixClass("table-frozen-left"),ref:this._setLeftTableRef,data:this._data,columns:this.columnManager.getLeftFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:g+f,height:u,headerHeight:s,rowHeight:o,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:g+f,bodyWidth:g+f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Z})},n.renderRightTable=function(){if(!this.columnManager.hasRightFrozenColumns())return null;var e=this.props,a=e.width,s=e.headerHeight,o=e.rowHeight,l=e.estimatedRowHeight,d=ie(e,lo),u=this._getFrozenContainerHeight(),f=this.columnManager.getRightFrozenColumnsWidth(),g=this._verticalScrollbarSize;return p(Xe,{...d,...this.state,containerStyle:this._getLeftTableContainerStyle(f+g,a,u),className:this._prefixClass("table-frozen-right"),ref:this._setRightTableRef,data:this._data,columns:this.columnManager.getRightFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:f+g,height:u,headerHeight:s,rowHeight:o,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:f+g,bodyWidth:f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Z})},n.renderResizingLine=function(){var e=this.props,a=e.width,s=e.fixed,o=this.state.resizingKey;if(!s||!o)return null;var l=this.columnManager.getMainColumns(),d=l.findIndex(function(_){return _.key===o}),u=l[d],f=u.width,g=u.frozen,b=this.columnManager.recomputeColumnsWidth(l.slice(0,d)),x=b+f;if(!g)x-=this._scroll.scrollLeft;else if(g===Se.RIGHT){var h=this.columnManager.recomputeColumnsWidth(l.slice(d+1));h+f>a-this._verticalScrollbarSize?x=f:x=a-this._verticalScrollbarSize-h}var w={left:x,height:this._getTableHeight()-this._horizontalScrollbarSize};return p("div",{className:this._prefixClass("resizing-line"),style:w})},n.renderFooter=function(){var e=this.props,a=e.footerHeight,s=e.footerRenderer;return a===0?null:p("div",{className:this._prefixClass("footer"),style:{height:a},children:be(s)})},n.renderEmptyLayer=function(){var e=this.props,a=e.data,s=e.frozenData,o=e.footerHeight,l=e.emptyRenderer;if(a&&a.length||s&&s.length)return null;var d=this._getHeaderHeight();return p("div",{className:this._prefixClass("empty-layer"),style:{top:d,bottom:o},children:be(l)})},n.renderOverlay=function(){var e=this.props.overlayRenderer;return p("div",{className:this._prefixClass("overlay"),children:!!e&&be(e)})},n.render=function(){var e,a=this.props,s=a.columns,o=a.children,l=a.width,d=a.fixed,u=a.data,f=a.frozenData,g=a.expandColumnKey,b=a.disabled,x=a.className,h=a.style,w=a.footerHeight,_=a.classPrefix,T=a.estimatedRowHeight;this._resetColumnManager(Ln(s,o),d);var R=g?this._flattenOnKeys(u,this.getExpandedRowKeys(),this.props.rowKey):u;this._data!==R&&(this.resetAfterRowIndex(0,!1),this._data=R),this._calcScrollbarSizes(),this._totalRowsHeight=this.getTotalRowsHeight();var v=ve(ve({},h),{},{width:l,height:this._getTableHeight()+w,position:"relative"}),m=he(_,x,(e={},e[_+"--fixed"]=d,e[_+"--expandable"]=!!g,e[_+"--empty"]=u.length===0,e[_+"--has-frozen-rows"]=f.length>0,e[_+"--has-frozen-columns"]=this.columnManager.hasFrozenColumns(),e[_+"--disabled"]=b,e[_+"--dynamic"]=!!T,e));return H("div",{ref:this._setContainerRef,className:m,style:v,children:[this.renderFooter(),this.renderMainTable(),this.renderLeftTable(),this.renderRightTable(),this.renderResizingLine(),this.renderEmptyLayer(),this.renderOverlay()]})},n.componentDidMount=function(){var e=this.props.getScrollbarSize();e>0&&this.setState({scrollbarSize:e})},n.componentDidUpdate=function(e,a){var s=this.props,o=s.data,l=s.height,d=s.maxHeight,u=s.estimatedRowHeight;o!==e.data&&(this._lastScannedRowIndex=-1,this._hasDataChangedSinceEndReached=!0),(d!==e.maxHeight||l!==e.height)&&this._maybeCallOnEndReached(),this._maybeScrollbarPresenceChange(),u&&this.getTotalRowsHeight()!==this._totalRowsHeight&&this.forceUpdate()},n._prefixClass=function(e){return this.props.classPrefix+"__"+e},n._setContainerRef=function(e){this.tableNode=e},n._setMainTableRef=function(e){this.table=e},n._setLeftTableRef=function(e){this.leftTable=e},n._setRightTableRef=function(e){this.rightTable=e},n._getComponent=function(e){return this.props.components&&this.props.components[e]?this.props.components[e]:co[e]},n._getRowHeight=function(e){var a=this.props,s=a.estimatedRowHeight,o=a.rowKey;return this._rowHeightMap[this._data[e][o]]||oe(s,{rowData:this._data[e],rowIndex:e})},n._getIsResetting=function(){return this._isResetting},n._getHeaderHeight=function(){var e=this.props.headerHeight;return Array.isArray(e)?e.reduce(function(a,s){return a+s},0):e},n._getFrozenRowsHeight=function(){var e=this.props,a=e.frozenData,s=e.rowHeight;return a.length*s},n._getTableHeight=function(){var e=this.props,a=e.height,s=e.maxHeight,o=e.footerHeight,l=a-o;if(s>0){var d=this._getFrozenRowsHeight(),u=this.getTotalRowsHeight(),f=this._getHeaderHeight(),g=f+d+u+this._horizontalScrollbarSize;l=Math.min(g,s-o)}return l},n._getBodyHeight=function(){return this._getTableHeight()-this._getHeaderHeight()-this._getFrozenRowsHeight()},n._getFrozenContainerHeight=function(){var e=this.props.maxHeight,a=this._getTableHeight()-(this._data.length>0?this._horizontalScrollbarSize:0);if(e>0)return a;var s=this.getTotalRowsHeight()+this._getHeaderHeight()+this._getFrozenRowsHeight();return Math.min(a,s)},n._calcScrollbarSizes=function(){var e=this.props,a=e.fixed,s=e.width,o=this.state.scrollbarSize,l=this.getTotalRowsHeight(),d=this.getTotalColumnsWidth(),u=this._horizontalScrollbarSize,f=this._verticalScrollbarSize;o===0?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0):!a||d<=s-o?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=l>this._getBodyHeight()?o:0):d>s?(this._horizontalScrollbarSize=o,this._verticalScrollbarSize=l>this._getBodyHeight()-this._horizontalScrollbarSize?o:0):(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0,l>this._getBodyHeight()&&(this._horizontalScrollbarSize=o,this._verticalScrollbarSize=o)),(u!==this._horizontalScrollbarSize||f!==this._verticalScrollbarSize)&&(this._scrollbarPresenceChanged=!0)},n._maybeScrollbarPresenceChange=function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({size:this.state.scrollbarSize,horizontal:this._horizontalScrollbarSize>0,vertical:this._verticalScrollbarSize>0})}},n._maybeCallOnEndReached=function(){var e=this.props,a=e.onEndReached,s=e.onEndReachedThreshold,o=this._scroll.scrollTop,l=this.getTotalRowsHeight(),d=this._getBodyHeight();if(!(!a||!d||!l)){var u=l-o-d+this._horizontalScrollbarSize;this._lastScannedRowIndex>=0&&u<=s&&(this._hasDataChangedSinceEndReached||l!==this._scrollHeight)&&(this._hasDataChangedSinceEndReached=!1,this._scrollHeight=l,a({distanceFromEnd:u}))}},n._handleScroll=function(e){var a=this._scroll.scrollTop;this.scrollToPosition(e),this.props.onScroll(e),e.scrollTop>a&&this._maybeCallOnEndReached()},n._handleVerticalScroll=function(e){var a=e.scrollTop,s=this._scroll.scrollTop;a!==s&&this.scrollToTop(a),a>s&&this._maybeCallOnEndReached()},n._handleRowsRendered=function(e){this.props.onRowsRendered(e),e.overscanStopIndex>this._lastScannedRowIndex&&(this._lastScannedRowIndex=e.overscanStopIndex,this._maybeCallOnEndReached())},n._handleRowHover=function(e){var a=e.hovered,s=e.rowKey;this.setState({hoveredRowKey:a?s:null})},n._handleRowExpand=function(e){var a=e.expanded,s=e.rowData,o=e.rowIndex,l=e.rowKey,d=Nt(this.getExpandedRowKeys());if(a)!d.indexOf(l)>=0&&d.push(l);else{var u=d.indexOf(l);u>-1&&d.splice(u,1)}this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:d}),this.props.onRowExpand({expanded:a,rowData:s,rowIndex:o,rowKey:l}),this.props.onExpandedRowsChange(d)},n._handleColumnResize=function(e,a){var s=e.key;this.columnManager.setColumnWidth(s,a),this.setState({resizingWidth:a});var o=this.columnManager.getColumn(s);this.props.onColumnResize({column:o,width:a})},n._handleColumnResizeStart=function(e){var a=e.key;this.setState({resizingKey:a})},n._handleColumnResizeStop=function(){var e=this.state,a=e.resizingKey,s=e.resizingWidth;if(this.setState({resizingKey:null,resizingWidth:0}),!(!a||!s)){var o=this.columnManager.getColumn(a);this.props.onColumnResizeEnd({column:o,width:s})}},n._handleColumnSort=function(e){var a=e.currentTarget.dataset.key,s=this.props,o=s.sortBy,l=s.sortState,d=s.onColumnSort,u=G.ASC;l?u=l[a]===G.ASC?G.DESC:G.ASC:a===o.key&&(u=o.order===G.ASC?G.DESC:G.ASC);var f=this.columnManager.getColumn(a);d({column:f,key:a,order:u})},n._handleFrozenRowHeightChange=function(e,a,s,o){o?o===Se.RIGHT?this._rightRowHeightMap[e]=a:this._leftRowHeightMap[e]=a:this._mainRowHeightMap[e]=a;var l=Math.max(this._mainRowHeightMap[e]||0,this._leftRowHeightMap[e]||0,this._rightRowHeightMap[e]||0);this._rowHeightMap[e]!==l&&this._handleRowHeightChange(e,l,s)},n._handleRowHeightChange=function(e,a,s){this._resetIndex===null?this._resetIndex=s:this._resetIndex>s&&(this._resetIndex=s),this._rowHeightMapBuffer[e]=a,this._updateRowHeights()},t}(j.PureComponent);je.Column=Q;je.PlaceholderKey=Me.PlaceholderKey;je.defaultProps={classPrefix:"BaseTable",rowKey:"id",data:[],frozenData:[],fixed:!1,headerHeight:50,rowHeight:50,footerHeight:0,defaultExpandedRowKeys:[],sortBy:{},useIsScrolling:!1,overscanRowCount:1,onEndReachedThreshold:500,getScrollbarSize:Ua,ignoreFunctionInColumnCompare:!0,onScroll:Z,onRowsRendered:Z,onScrollbarPresenceChange:Z,onRowExpand:Z,onExpandedRowsChange:Z,onColumnSort:Z,onColumnResize:Z,onColumnResizeEnd:Z};je.propTypes={classPrefix:c.exports.string,className:c.exports.string,style:c.exports.object,children:c.exports.node,columns:c.exports.arrayOf(c.exports.shape(Q.propTypes)),data:c.exports.array.isRequired,frozenData:c.exports.array,rowKey:c.exports.oneOfType([c.exports.string,c.exports.number]).isRequired,width:c.exports.number.isRequired,height:c.exports.number,maxHeight:c.exports.number,rowHeight:c.exports.number,estimatedRowHeight:c.exports.oneOfType([c.exports.number,c.exports.func]),headerHeight:c.exports.oneOfType([c.exports.number,c.exports.arrayOf(c.exports.number)]).isRequired,footerHeight:c.exports.number,fixed:c.exports.bool,disabled:c.exports.bool,overlayRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),emptyRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),footerRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),headerRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),rowRenderer:c.exports.oneOfType([c.exports.func,c.exports.element]),headerClassName:c.exports.oneOfType([c.exports.string,c.exports.func]),rowClassName:c.exports.oneOfType([c.exports.string,c.exports.func]),headerProps:c.exports.oneOfType([c.exports.object,c.exports.func]),headerCellProps:c.exports.oneOfType([c.exports.object,c.exports.func]),rowProps:c.exports.oneOfType([c.exports.object,c.exports.func]),cellProps:c.exports.oneOfType([c.exports.object,c.exports.func]),expandIconProps:c.exports.oneOfType([c.exports.object,c.exports.func]),expandColumnKey:c.exports.string,defaultExpandedRowKeys:c.exports.arrayOf(c.exports.oneOfType([c.exports.string,c.exports.number])),expandedRowKeys:c.exports.arrayOf(c.exports.oneOfType([c.exports.string,c.exports.number])),onRowExpand:c.exports.func,onExpandedRowsChange:c.exports.func,sortBy:c.exports.shape({key:c.exports.string,order:c.exports.oneOf([G.ASC,G.DESC])}),sortState:c.exports.object,onColumnSort:c.exports.func,onColumnResize:c.exports.func,onColumnResizeEnd:c.exports.func,useIsScrolling:c.exports.bool,overscanRowCount:c.exports.number,getScrollbarSize:c.exports.func,onScroll:c.exports.func,onEndReached:c.exports.func,onEndReachedThreshold:c.exports.number,onRowsRendered:c.exports.func,onScrollbarPresenceChange:c.exports.func,rowEventHandlers:c.exports.object,ignoreFunctionInColumnCompare:c.exports.bool,components:c.exports.shape({TableCell:c.exports.elementType,TableHeaderCell:c.exports.elementType,ExpandIcon:c.exports.elementType,SortIndicator:c.exports.elementType})};var po=function(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")},fo=function(){function i(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,n,r){return n&&i(t.prototype,n),r&&i(t,r),t}}(),mo=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},go=function(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)},Fn=function(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i},yo=function(){function i(t,n){var r=[],e=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(e=(l=o.next()).done)&&(r.push(l.value),!(n&&r.length===n));e=!0);}catch(d){a=!0,s=d}finally{try{!e&&o.return&&o.return()}finally{if(a)throw s}}return r}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return i(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),te=void 0;typeof window<"u"?te=window:typeof self<"u"?te=self:te=global;var Xt=null,Jt=null,kn=20,Vt=te.clearTimeout,Wn=te.setTimeout,Mt=te.cancelAnimationFrame||te.mozCancelAnimationFrame||te.webkitCancelAnimationFrame,Bn=te.requestAnimationFrame||te.mozRequestAnimationFrame||te.webkitRequestAnimationFrame;Mt==null||Bn==null?(Xt=Vt,Jt=function(t){return Wn(t,kn)}):(Xt=function(t){var n=yo(t,2),r=n[0],e=n[1];Mt(r),Vt(e)},Jt=function(t){var n=Bn(function(){Vt(r),t()}),r=Wn(function(){Mt(n),t()},kn);return[n,r]});function vo(i){var t=void 0,n=void 0,r=void 0,e=void 0,a=void 0,s=void 0,o=void 0,l=typeof document<"u"&&document.attachEvent;if(!l){s=function(v){var m=v.__resizeTriggers__,y=m.firstElementChild,S=m.lastElementChild,C=y.firstElementChild;S.scrollLeft=S.scrollWidth,S.scrollTop=S.scrollHeight,C.style.width=y.offsetWidth+1+"px",C.style.height=y.offsetHeight+1+"px",y.scrollLeft=y.scrollWidth,y.scrollTop=y.scrollHeight},a=function(v){return v.offsetWidth!==v.__resizeLast__.width||v.offsetHeight!==v.__resizeLast__.height},o=function(v){if(!(v.target.className&&typeof v.target.className.indexOf=="function"&&v.target.className.indexOf("contract-trigger")<0&&v.target.className.indexOf("expand-trigger")<0)){var m=this;s(this),this.__resizeRAF__&&Xt(this.__resizeRAF__),this.__resizeRAF__=Jt(function(){a(m)&&(m.__resizeLast__.width=m.offsetWidth,m.__resizeLast__.height=m.offsetHeight,m.__resizeListeners__.forEach(function(C){C.call(m,v)}))})}};var d=!1,u="";r="animationstart";var f="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),b="";{var x=document.createElement("fakeelement");if(x.style.animationName!==void 0&&(d=!0),d===!1){for(var h=0;h<f.length;h++)if(x.style[f[h]+"AnimationName"]!==void 0){b=f[h],u="-"+b.toLowerCase()+"-",r=g[h],d=!0;break}}}n="resizeanim",t="@"+u+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",e=u+"animation: 1ms "+n+"; "}var w=function(v){if(!v.getElementById("detectElementResize")){var m=(t||"")+".resize-triggers { "+(e||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',y=v.head||v.getElementsByTagName("head")[0],S=v.createElement("style");S.id="detectElementResize",S.type="text/css",i!=null&&S.setAttribute("nonce",i),S.styleSheet?S.styleSheet.cssText=m:S.appendChild(v.createTextNode(m)),y.appendChild(S)}},_=function(v,m){if(l)v.attachEvent("onresize",m);else{if(!v.__resizeTriggers__){var y=v.ownerDocument,S=te.getComputedStyle(v);S&&S.position==="static"&&(v.style.position="relative"),w(y),v.__resizeLast__={},v.__resizeListeners__=[],(v.__resizeTriggers__=y.createElement("div")).className="resize-triggers";var C=y.createElement("div");C.className="expand-trigger",C.appendChild(y.createElement("div"));var E=y.createElement("div");E.className="contract-trigger",v.__resizeTriggers__.appendChild(C),v.__resizeTriggers__.appendChild(E),v.appendChild(v.__resizeTriggers__),s(v),v.addEventListener("scroll",o,!0),r&&(v.__resizeTriggers__.__animationListener__=function(z){z.animationName===n&&s(v)},v.__resizeTriggers__.addEventListener(r,v.__resizeTriggers__.__animationListener__))}v.__resizeListeners__.push(m)}},T=function(v,m){if(l)v.detachEvent("onresize",m);else if(v.__resizeListeners__.splice(v.__resizeListeners__.indexOf(m),1),!v.__resizeListeners__.length){v.removeEventListener("scroll",o,!0),v.__resizeTriggers__.__animationListener__&&(v.__resizeTriggers__.removeEventListener(r,v.__resizeTriggers__.__animationListener__),v.__resizeTriggers__.__animationListener__=null);try{v.__resizeTriggers__=!v.removeChild(v.__resizeTriggers__)}catch{}}};return{addResizeListener:_,removeResizeListener:T}}var hn=function(i){go(t,i);function t(){var n,r,e,a;po(this,t);for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];return a=(r=(e=Fn(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(o))),e),e.state={height:e.props.defaultHeight||0,width:e.props.defaultWidth||0},e._onResize=function(){var d=e.props,u=d.disableHeight,f=d.disableWidth,g=d.onResize;if(e._parentNode){var b=e._parentNode.offsetHeight||0,x=e._parentNode.offsetWidth||0,h=window.getComputedStyle(e._parentNode)||{},w=parseInt(h.paddingLeft,10)||0,_=parseInt(h.paddingRight,10)||0,T=parseInt(h.paddingTop,10)||0,R=parseInt(h.paddingBottom,10)||0,v=b-T-R,m=x-w-_;(!u&&e.state.height!==v||!f&&e.state.width!==m)&&(e.setState({height:b-T-R,width:x-w-_}),g({height:b,width:x}))}},e._setRef=function(d){e._autoSizer=d},r),Fn(e,a)}return fo(t,[{key:"componentDidMount",value:function(){var r=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=vo(r),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var r=this.props,e=r.children,a=r.className,s=r.disableHeight,o=r.disableWidth,l=r.style,d=this.state,u=d.height,f=d.width,g={overflow:"visible"},b={},x=!1;return s||(u===0&&(x=!0),g.height=0,b.height=u),o||(f===0&&(x=!0),g.width=0,b.width=f),I.exports.createElement("div",{className:a,ref:this._setRef,style:mo({},g,l)},!x&&e(b))}}]),t}(I.exports.PureComponent);hn.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}};var Er=function(t){var n=t.className,r=t.width,e=t.height,a=t.children,s=t.onResize,o=typeof r=="number",l=typeof e=="number";return o&&l?p("div",{className:n,style:{width:r,height:e,position:"relative"},children:a({width:r,height:e})}):p(hn,{className:n,disableWidth:o,disableHeight:l,onResize:s,children:function(d){return a({width:o?r:d.width,height:l?e:d.height})}})};Er.propTypes={className:c.exports.string,width:c.exports.number,height:c.exports.number,children:c.exports.func.isRequired,onResize:c.exports.func};var J=(i=>(i.DISALLOWED="DISALLOWED",i.REQUIRED="REQUIRED",i.TRACKED="TRACKED",i.UNTRACKED="UNTRACKED",i))(J||{});function jn(i){return i.benefactorAcl.resourceAccess.some(t=>t.principalId===di||t.principalId===ci||t.principalId===ui)}const He=i=>{var N,V,W;const{entityId:t,versionNumber:n,flexWrap:r="nowrap",justifyContent:e="flex-start",showIsPublicPrivate:a=!0,showHasLocalSharingSettings:s=!0,showHasAnnotations:o=!0,showHasWiki:l=!0,showHasDiscussionThread:d=!0,showUnlink:u=!0,onUnlink:f=()=>{},onUnlinkError:g=()=>{},canOpenModal:b}=i;let x;(D=>{D.NO_SCHEMA="",D.VALID="Valid",D.INVALID="Invalid",D.ANNOTATIONS_MISSING="Missing"})(x||(x={}));const{ref:h,inView:w}=rr(),{data:_}=_e(t,n,er,{enabled:w,staleTime:60*1e3}),[T,R]=I.exports.useState(!1),[v,m]=I.exports.useState(!1),[y,S]=I.exports.useState(""),{isInExperimentalMode:C}=Ie(),{data:E}=mi(t,{enabled:C&&w,staleTime:60*1e3}),{data:O}=gi(t,{enabled:C&&w&&!!E,staleTime:60*1e3}),z=10,P=(_==null?void 0:_.annotations)&&!bi(_.annotations.annotations)?Object.keys(_.annotations.annotations).length:0;I.exports.useEffect(()=>{C&&O&&(O.isValid?S("Valid"):S(P?"Invalid":"Missing"))},[O,C,P,_,"Valid","Invalid","Missing"]);const{mutate:k}=si({onSuccess:(D,K)=>{f(K)},onError:g}),F=p(U,{children:_?Object.entries((V=(N=_.annotations)==null?void 0:N.annotations)!=null?V:[]).reduce((D,K,L)=>L<z||L===z&&z===P?H(U,{children:[D,H("tr",{children:[p("td",{children:p("b",{children:K[0]})}),p("td",{children:K[1].value.join(", ")})]})]}):D,p(U,{})):""}),M=p(U,{children:C&&E?H("tr",{children:[p("td",{children:p("b",{children:"Validation Schema"})}),p("td",{children:E.jsonSchemaVersionInfo.schemaName})]}):""}),A=H("div",{className:"EntityBadgeTooltip",children:[O?H("p",{children:[y," Annotations"]}):"",H("table",{children:[F||"",M]}),P>z?H("p",{children:["and ",P-z," more"]}):""]});return p("div",{className:"EntityBadge",ref:h,style:{flexWrap:r,justifyContent:e},children:_&&H(U,{children:[p("div",{onClick:D=>D.stopPropagation(),children:p(yi,{entityId:t,show:T,showTabs:!1,onClose:()=>R(!1),initialTab:vi.ANNOTATIONS})}),a&&_.benefactorAcl&&jn(_)?p(le,{title:"Public",enterNextDelay:100,placement:"right",children:p(ni,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-public-icon"})}):null,a&&_.benefactorAcl&&!jn(_)?p(le,{title:"Private",enterNextDelay:100,placement:"right",children:p(Hr,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-private-icon"})}):null,s&&_.benefactorAcl&&t===_.benefactorAcl.id?p(le,{title:"Sharing Settings have been set",enterNextDelay:100,placement:"right",children:p(Pr,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"sharing-settings-icon"})}):null,o&&!!(P||O)&&p(le,{title:A,enterNextDelay:100,placement:"right",children:p(zi,{"aria-hidden":!1,role:b?"button":"img",className:`EntityBadge__Badge ${y}`,style:b?{cursor:"pointer"}:void 0,onClick:b?()=>R(!0):void 0,"data-html":!0,"data-testid":"annotations-icon"})}),l&&_.rootWikiId&&p(le,{title:"Has a wiki",enterNextDelay:100,placement:"right",children:p(Oi,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"wiki-icon"})}),d&&!!_.threadCount&&_.threadCount>0&&p(le,{title:"Has been mentioned in discussion",enterNextDelay:100,placement:"right",children:p(Ii,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"discussion-icon"})}),u&&_.entityType===me.LINK&&((W=_.permissions)==null?void 0:W.canDelete)&&H(U,{children:[p(_i,{show:v,title:"Confirm Unlink",modalBody:"Are you sure you want to remove this link? The original object will not be changed.",confirmButtonText:"Unlink",confirmButtonVariant:"danger",onConfirm:()=>{k(t),m(!1)},onCancel:()=>{m(!1)}}),p(le,{title:"Remove this link",enterNextDelay:100,placement:"right",children:p(Di,{"aria-hidden":!1,role:"button",onClick:()=>m(!0),className:"EntityBadge__Badge Unlink","data-testid":"unlink-icon"})})]})]})})};try{He.displayName="EntityBadgeIcons",He.__docgenInfo={description:`Stateless component used to show icons that show an entity's status.
Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java`,displayName:"EntityBadgeIcons",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"initial"'},{value:'"wrap"'},{value:'"nowrap"'},{value:'"-moz-initial"'},{value:'"revert"'},{value:'"unset"'},{value:'"wrap-reverse"'}]}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},showIsPublicPrivate:{defaultValue:null,description:"Shows an icon indicating if the entity is 'public' or 'private'. Default true",name:"showIsPublicPrivate",required:!1,type:{name:"boolean"}},showHasLocalSharingSettings:{defaultValue:null,description:"Shows an icon if the entity has sharing settings set on itself. Default true",name:"showHasLocalSharingSettings",required:!1,type:{name:"boolean"}},showHasAnnotations:{defaultValue:null,description:"Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true",name:"showHasAnnotations",required:!1,type:{name:"boolean"}},showHasWiki:{defaultValue:null,description:"Shows an icon if the entity a wiki. Default true",name:"showHasWiki",required:!1,type:{name:"boolean"}},showHasDiscussionThread:{defaultValue:null,description:"Shows an icon if the entity has been mentioned in discussion threads. Default true",name:"showHasDiscussionThread",required:!1,type:{name:"boolean"}},showUnlink:{defaultValue:null,description:"",name:"showUnlink",required:!1,type:{name:"boolean"}},onUnlink:{defaultValue:null,description:"",name:"onUnlink",required:!1,type:{name:"((entityId: string) => void)"}},onUnlinkError:{defaultValue:null,description:"",name:"onUnlinkError",required:!1,type:{name:"((error: unknown) => void)"}},canOpenModal:{defaultValue:null,description:"Whether or not the badges (e.g. Annotations) can trigger opening a modal on click",name:"canOpenModal",required:!0,type:{name:"boolean"}},renderTooltipComponent:{defaultValue:null,description:"Whether this component should render a ReactTooltip or if an external component is managing it",name:"renderTooltipComponent",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"]={docgenInfo:He.__docgenInfo,name:"EntityBadgeIcons",path:"src/lib/containers/EntityBadgeIcons.tsx#EntityBadgeIcons"})}catch{}const Je=({className:i,sortOrder:t})=>p(Ei,{className:i,active:!0,role:"button",style:{height:"20px",marginLeft:"auto"},direction:t});function Ze(i){return p(He,{entityId:i.rowData.entityId,versionNumber:i.rowData.versionNumber,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!1})}function Pe({cellData:i}){var t;return p(U,{children:(t=i&&ir(nr(i)))!=null?t:p(U,{})})}function et(i){const{data:t,isLoading:n}=_e(i.rowData.entityId,i.rowData.versionNumber);return n?p(we,{width:200}):p(Pe,{...i,cellData:t==null?void 0:t.entity.modifiedOn})}function tt(i){var r;const{data:t,isLoading:n}=_e(i.rowData.entityId,i.rowData.versionNumber);return n?p(we,{width:200}):p(Pe,{...i,cellData:(r=t==null?void 0:t.entity)==null?void 0:r.createdOn})}function Ht(i){const{data:t,isLoading:n}=_e(i.rowData.entityId,i.rowData.versionNumber);return n?p(we,{width:200}):t?p(ar,{className:"EntityNameWithIconRenderer",entity:t.entity,link:!1}):p(U,{})}function Pt(i){var a;const{data:t,isLoading:n}=_e(i.rowData.entityId,i.rowData.versionNumber),{data:r,isLoading:e}=Jn((a=t==null?void 0:t.path.path[1].id)!=null?a:"",void 0,{enabled:!!t});return n||e?p(we,{width:200}):r?p(ar,{entity:r}):p(U,{})}function nt({cellData:i}){return p(Si,{ownerId:i,size:hi,openLinkInNewTab:!0})}function rt(i){const{data:t,isLoading:n}=_e(i.rowData.entityId,i.rowData.versionNumber);return n?p(we,{width:200}):p(nt,{...i,cellData:t==null?void 0:t.entity.modifiedBy})}function _o(){return p("div",{className:"EntityFinderDetailsViewPlaceholder",children:p(en,{size:30})})}function it({rowData:i}){const{isSelected:t,isDisabled:n}=i;return!n&&p(tn,{label:`Select ${i.entityId}`,hideLabel:!0,className:"SRC-pointer-events-none",checked:t,onChange:()=>{}})}function at({cellData:i}){return p(nn,{className:"EntityFinderTableCellEntityIcon",type:i})}function ot({noResultsPlaceholder:i}){return p("div",{className:"EntityFinderDetailsViewPlaceholder",children:i||p("div",{children:"Empty"})})}const Lt=({rowData:i,toggleSelection:t})=>{var f;const{entityId:n,versionNumber:r}=i,{data:e,isError:a,fetchNextPage:s,isFetchingNextPage:o,hasNextPage:l}=Zn(n,{staleTime:60*1e3}),d=(f=e==null?void 0:e.pages.flatMap(g=>g.results))!=null?f:[],u=!!d.find(g=>g.versionNumber===r);return I.exports.useEffect(()=>{!u&&l&&!o&&s()},[u,l,o,s]),a?p(U,{children:r}):p("div",{children:d&&d.length>0&&H(Yn.Control,{role:"listbox",size:"sm",as:"select",value:r,onClick:g=>{g.stopPropagation()},onChange:g=>{g.stopPropagation();const b=parseInt(g.target.value);t({entityId:n,versionNumber:b})},children:[!u&&!l&&!o&&H("option",{disabled:!0,value:r,children:[r," (Not Found)"]},r),d.map(g=>H("option",{value:g.versionNumber,children:[g.versionNumber,g.isLatestVersion&&" (Latest)"]},g.versionNumber))]})})};function bo(i,t){let n="Latest",r="";return Gn(t)&&(t===me.DATASET?(n="Draft",r="Stable Version"):(n="Current",r="Snapshot")),i===J.TRACKED?`Always ${n} Version`:i===J.REQUIRED?H(U,{children:[n,p(Ve,{icon:"helpOutlineTwoTone",label:`No ${r} exists. The ${n} version will be referenced until a new ${r} is created.`,sx:{width:"12px",paddingLeft:"0.2rem"}})]}):`${n} Version`}const st=({rowData:i,versionSelection:t,toggleSelection:n})=>{var g;const{id:r,entityType:e,isVersionableEntity:a,isSelected:s,currentSelectedVersion:o}=i,{data:l}=Zn(r,{enabled:a,staleTime:60*1e3}),d=(g=l==null?void 0:l.pages.flatMap(b=>b.results))!=null?g:[];I.exports.useEffect(()=>{s&&t==J.REQUIRED&&o===ue&&d.length>0&&n({targetId:r,targetVersionNumber:d[0].versionNumber})},[o,r,s,t,n,d]);const u=t===J.TRACKED||t===J.UNTRACKED&&Gn(e),f=bo(t,e);return!s||!a?p(U,{}):p("div",{children:d&&d.length>0?H(Yn.Control,{role:"listbox",size:"sm",as:"select",value:o,onClick:b=>{b.stopPropagation()},onChange:b=>{b.stopPropagation();const x=parseInt(b.target.value);n({targetId:r,targetVersionNumber:x===ue?void 0:x})},children:[u&&p("option",{value:ue,children:f}),d.map(b=>H("option",{value:b.versionNumber,children:["Version ",b.versionNumber]},b.versionNumber))]}):f})};function qt(i){const{isSelected:t,isDisabled:n,setSelected:r,entityId:e}=i.rowData;return!n&&p(tn,{"data-testid":`dataset-editor-checkbox-${e}`,disabled:n,label:`Select ${e}`,hideLabel:!0,checked:t,onChange:a=>{r(a)}})}const Ft=i=>{const{entityId:t,versionNumber:n}=i.rowData,{error:r,isError:e}=Jn(t,n);let a=r==null?void 0:r.reason;return(r==null?void 0:r.status)===403?a="You don't have permission to view this entity.":(r==null?void 0:r.status)===404&&(a="The entity or version does not exist. It may have been deleted."),e?p(le,{title:a!=null?a:"",placement:"right",className:"EntityBadgeTooltip",children:p("div",{className:"EntityErrorRenderer",children:p(Ve,{icon:"warningOutlined"})})}):p(U,{})};try{Ze.displayName="BadgeIconsRenderer",Ze.__docgenInfo={description:"Renders Entity Badges using the entity bundle.",displayName:"BadgeIconsRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"]={docgenInfo:Ze.__docgenInfo,name:"BadgeIconsRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#BadgeIconsRenderer"})}catch{}try{Pe.displayName="DateRenderer",Pe.__docgenInfo={description:"",displayName:"DateRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"]={docgenInfo:Pe.__docgenInfo,name:"DateRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DateRenderer"})}catch{}try{et.displayName="ModifiedOnRenderer",et.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"]={docgenInfo:et.__docgenInfo,name:"ModifiedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedOnRenderer"})}catch{}try{tt.displayName="CreatedOnRenderer",tt.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"]={docgenInfo:tt.__docgenInfo,name:"CreatedOnRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CreatedOnRenderer"})}catch{}try{Ht.displayName="EntityNameRenderer",Ht.__docgenInfo={description:"",displayName:"EntityNameRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"]={docgenInfo:Ht.__docgenInfo,name:"EntityNameRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityNameRenderer"})}catch{}try{Pt.displayName="ProjectRenderer",Pt.__docgenInfo={description:"",displayName:"ProjectRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"]={docgenInfo:Pt.__docgenInfo,name:"ProjectRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ProjectRenderer"})}catch{}try{nt.displayName="UserCardRenderer",nt.__docgenInfo={description:"",displayName:"UserCardRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"]={docgenInfo:nt.__docgenInfo,name:"UserCardRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#UserCardRenderer"})}catch{}try{rt.displayName="ModifiedByRenderer",rt.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"]={docgenInfo:rt.__docgenInfo,name:"ModifiedByRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#ModifiedByRenderer"})}catch{}try{it.displayName="DetailsViewCheckboxRenderer",it.__docgenInfo={description:"",displayName:"DetailsViewCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"]={docgenInfo:it.__docgenInfo,name:"DetailsViewCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewCheckboxRenderer"})}catch{}try{at.displayName="TypeIconRenderer",at.__docgenInfo={description:"",displayName:"TypeIconRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"]={docgenInfo:at.__docgenInfo,name:"TypeIconRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#TypeIconRenderer"})}catch{}try{ot.displayName="EmptyRenderer",ot.__docgenInfo={description:"",displayName:"EmptyRenderer",props:{noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!0,type:{name:"ReactNode"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"]={docgenInfo:ot.__docgenInfo,name:"EmptyRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EmptyRenderer"})}catch{}try{qt.displayName="DatasetEditorCheckboxRenderer",qt.__docgenInfo={description:"",displayName:"DatasetEditorCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"]={docgenInfo:qt.__docgenInfo,name:"DatasetEditorCheckboxRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorCheckboxRenderer"})}catch{}try{Je.displayName="CustomSortIndicator",Je.__docgenInfo={description:"",displayName:"CustomSortIndicator",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!0,type:{name:"enum",value:[{value:'"desc"'},{value:'"asc"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"]={docgenInfo:Je.__docgenInfo,name:"CustomSortIndicator",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#CustomSortIndicator"})}catch{}try{Lt.displayName="DatasetEditorVersionRenderer",Lt.__docgenInfo={description:"",displayName:"DatasetEditorVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"DatasetItemsEditorTableData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<DatasetItemsEditorTableData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: EntityRef) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"]={docgenInfo:Lt.__docgenInfo,name:"DatasetEditorVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DatasetEditorVersionRenderer"})}catch{}try{st.displayName="DetailsViewVersionRenderer",st.__docgenInfo={description:"",displayName:"DetailsViewVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"]={docgenInfo:st.__docgenInfo,name:"DetailsViewVersionRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#DetailsViewVersionRenderer"})}catch{}try{Ft.displayName="EntityErrorRenderer",Ft.__docgenInfo={description:"",displayName:"EntityErrorRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityIdAndVersionNumber>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityIdAndVersionNumber>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"]={docgenInfo:Ft.__docgenInfo,name:"EntityErrorRenderer",path:"src/lib/containers/entity_finder/details/view/DetailsViewTableRenderers.tsx#EntityErrorRenderer"})}catch{}const Kn="Choose which version of this item you would like to reference.",So="Choose which version of this item you would like to perform this action on.",wo='If you would like the selection to update as new versions are created, choose "Always Latest Version".';function lt(i){const{versionSelection:t}=i;let n="";switch(t){case J.REQUIRED:n=Kn;break;case J.TRACKED:n=Kn+" "+wo;break;case J.UNTRACKED:n=So;break;case J.DISALLOWED:}return H(U,{children:["Version",p(Lr,{className:"SRC-margin-left-5",markdownText:n,placement:"right"})]})}try{lt.displayName="VersionColumnHeader",lt.__docgenInfo={description:"",displayName:"VersionColumnHeader",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx#VersionColumnHeader"]={docgenInfo:lt.__docgenInfo,name:"VersionColumnHeader",path:"src/lib/containers/entity_finder/details/view/VersionColumnHeader.tsx#VersionColumnHeader"})}catch{}const Un=1200,Ro=46,de=({entities:i,isLoading:t,hasNextPage:n,fetchNextPage:r,isFetchingNextPage:e,versionSelection:a,selectColumnType:s,selected:o,visibleTypes:l,selectableTypes:d,toggleSelection:u,sort:f,setSort:g,noResultsPlaceholder:b,enableSelectAll:x,selectAllIsChecked:h=!1,getChildrenInfiniteRequestObject:w,totalEntities:_,setCurrentContainer:T})=>{const R=jr(),{accessToken:v}=Ie(),m=s!=="none",[y,S]=I.exports.useState(!1),[C,E]=I.exports.useState(!1),O=()=>{R.cancelQueries(["entitychildren",w]),E(!1),S(!1)},z=A=>l.includes(ne(A))?d.includes(ne(A))?o.has(A.id)?"selected":"default":"disabled":"hidden";I.exports.useEffect(()=>{async function A(){y&&(n&&r?(E(!0),e||r()):(u(h?i.filter(N=>o.has(N.id)).map(N=>{const V=o.get(N.id);return{targetId:N.id,targetVersionNumber:V===ue?void 0:V}}):await Promise.all(i.filter(N=>{const V=ne(N);return!o.has(N.id)&&d.includes(V)&&l.includes(V)}).map(async N=>{var W;let V;return a===J.REQUIRED&&gn(ne(N))&&(Object.prototype.hasOwnProperty.call(N,"versionNumber")&&(V=N.versionNumber),V||(E(!0),V=(W=(await R.fetchQuery(["entity",N.id,"versions",{offset:0,limit:1}],()=>Kr(N.id,v,0,1))).results[0])==null?void 0:W.versionNumber)),{targetId:N.id,targetVersionNumber:V}}))),S(!1),E(!1)))}A()},[v,i,r,n,a,R,e,h,d,o,y,u,l]);const P=i.reduce((A,N)=>{const V=z(N);if(V!=="hidden"){const W=ne(N);A.push({...N,entityId:N.id,versionNumber:"versionNumber"in N?N.versionNumber:void 0,entityType:W,isSelected:V==="selected",isDisabled:V==="disabled",isVersionableEntity:gn(W),currentSelectedVersion:o.get(N.id)})}return A},[]),k=I.exports.useMemo(()=>{const A=n||i.filter(N=>d.includes(ne(N))&&l.includes(ne(N))).length>0;return x&&p("div",{"data-testid":"Select All",style:A?{cursor:"pointer"}:{cursor:"not-allowed"},onClick:()=>{A&&S(!0)},children:p(tn,{label:"Select All",hideLabel:!0,className:"SRC-pointer-events-none",checked:h,disabled:!A,onChange:()=>{}})})},[x,i,n,h,d,l]),F=I.exports.useCallback(A=>T&&Qn(A.rowData.entityType)?p("span",{role:"link",className:"EntityFinderTableCellContainerLink",onClick:N=>{N.stopPropagation(),T(A.rowData.id)},children:A.rowData.name}):A.rowData.name,[T]),M={};return f&&(M[f.sortBy]=f.sortDirection.toLowerCase()),H("div",{className:"EntityFinderDetailsView bootstrap-4-backport",children:[p(ii,{show:C,currentProgress:i.length,totalProgress:_,hintText:_?`${i.length.toLocaleString()} of ${_==null?void 0:_.toLocaleString()}`:`Fetching ${i.length.toLocaleString()}`,headlineText:"Fetching selected items",onCancel:O}),p(Er,{className:"DetailsViewAutosizer",children:({height:A,width:N})=>H(je,{classPrefix:"DetailsViewTable",data:P,height:A,width:N>Un?N:Un,rowHeight:Ro,overscanRowCount:5,rowClassName:({rowIndex:V})=>{let W="EntityFinderDetailsViewRow";return V%2===0&&(W+=" isEven"),W},rowProps:({rowData:V})=>({"aria-selected":V.isSelected,"aria-disabled":V.isDisabled}),headerCellProps:{role:"columnheader"},sortState:M,components:{SortIndicator:Je},onColumnSort:({key:V,order:W})=>{f&&g&&g(V,W==="asc"?Bt.ASC:Bt.DESC)},rowEventHandlers:{onClick:({rowData:V})=>{const{id:W,isDisabled:D,isVersionableEntity:K}=V;let{currentSelectedVersion:L}=V;D||(K&&a===J.REQUIRED&&L==null&&Object.prototype.hasOwnProperty.call(V,"versionNumber")&&(L=V.versionNumber),u({targetId:W,targetVersionNumber:L===ue?void 0:L}))}},onEndReached:()=>{n&&r&&!e&&r()},emptyRenderer:t?_o:()=>p(ot,{noResultsPlaceholder:b}),children:[m&&p(Q,{title:"",minWidth:50,maxWidth:50,width:50,dataKey:"isSelected",headerRenderer:k,cellRenderer:it},"isSelected"),p(Q,{title:"",minWidth:45,maxWidth:45,width:45,dataKey:"entityType",align:"center",cellRenderer:at},"type"),p(Q,{title:"Name",width:800,sortable:f!=null,resizable:!0,cellRenderer:F},Ge.NAME),p(Q,{title:"",width:75,maxWidth:75,minWidth:75,cellRenderer:Ze},"badge"),p(Q,{width:130,dataKey:"id",title:"ID",minWidth:130},"id"),a!==J.DISALLOWED&&p(Q,{minWidth:150,width:500,title:"Version",cellRenderer:V=>p(st,{versionSelection:a,toggleSelection:u,...V}),headerRenderer:p(lt,{versionSelection:a})},"version"),p(Q,{sortable:f!=null,title:"Created On",width:220,minWidth:170,cellRenderer:tt},Ge.CREATED_ON),p(Q,{title:"Modified On",width:220,minWidth:170,sortable:f!=null,cellRenderer:et},Ge.MODIFIED_ON),p(Q,{title:"Modified By",width:500,resizable:!0,cellRenderer:rt},"modifiedBy")]})})]})};try{de.displayName="DetailsView",de.__docgenInfo={description:'Displays a list of entities in a table.\n\nIf the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\nWhen the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\nan "infinite scroll" pattern, so entities should not be removed from the list when loading the next page.',displayName:"DetailsView",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},entities:{defaultValue:null,description:"",name:"entities",required:!0,type:{name:"EntityFinderHeader[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!1,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!1,type:{name:"(() => Promise<any>)"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"The current sort of the view. If the view cannot be sorted, set this to `undefined`",name:"sort",required:!1,type:{name:"{ sortBy: SortBy; sortDirection: Direction; }"}},setSort:{defaultValue:null,description:"If sortable, `setSort` will be invoked when the user tries to change the sort",name:"setSort",required:!1,type:{name:"((soryBy: SortBy, sortDirection: Direction) => void)"}},noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},selectAllIsChecked:{defaultValue:{value:"false"},description:"We defer to the configuration component to determine this",name:"selectAllIsChecked",required:!1,type:{name:"boolean"}},getChildrenInfiniteRequestObject:{defaultValue:null,description:"This request object is only used to tell react-query to cancel fetching all children at once.",name:"getChildrenInfiniteRequestObject",required:!1,type:{name:"EntityChildrenRequest"}},totalEntities:{defaultValue:null,description:"The total number of entities that can be retrieved",name:"totalEntities",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"]={docgenInfo:de.__docgenInfo,name:"DetailsView",path:"src/lib/containers/entity_finder/details/view/DetailsView.tsx#DetailsView"})}catch{}const dt=({parentContainerId:i,...t})=>{var h;const[n,r]=I.exports.useState(Ge.NAME),[e,a]=I.exports.useState(Bt.ASC),s={parentId:i,includeTotalChildCount:!0,includeTypes:t.visibleTypes,sortBy:n,sortDirection:e},{data:o,isLoading:l,isFetchingNextPage:d,hasNextPage:u,fetchNextPage:f}=qr(s,{useErrorBoundary:!0}),g=(h=o==null?void 0:o.pages.flatMap(w=>w.page))!=null?h:[],b=o==null?void 0:o.pages[0].totalChildCount,x=sn(g,t.selected.size,t.isIdSelected,t.isSelectable,u,f,d);return p(de,{entities:g,isLoading:l,hasNextPage:u,fetchNextPage:f,isFetchingNextPage:d,sort:{sortBy:n,sortDirection:e},setSort:(w,_)=>{r(w),a(_)},selectAllIsChecked:x,getChildrenInfiniteRequestObject:s,totalEntities:b,...t})};try{dt.displayName="EntityChildrenDetails",dt.__docgenInfo={description:"",displayName:"EntityChildrenDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"]={docgenInfo:dt.__docgenInfo,name:"EntityChildrenDetails",path:"src/lib/containers/entity_finder/details/configurations/EntityChildrenDetails.tsx#EntityChildrenDetails"})}catch{}const ct=({...i})=>{var l;const{data:t,isLoading:n,hasNextPage:r,fetchNextPage:e,isFetchingNextPage:a}=pi("NAME","ASC",{useErrorBoundary:!0}),s=(l=t==null?void 0:t.pages.flatMap(d=>d.results))!=null?l:[],o=sn(s,i.selected.size,i.isIdSelected,i.isSelectable,r,e,a);return p(de,{entities:s,isLoading:n,hasNextPage:r,fetchNextPage:e,isFetchingNextPage:a,selectAllIsChecked:o,...i})};try{ct.displayName="FavoritesDetails",ct.__docgenInfo={description:"",displayName:"FavoritesDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"]={docgenInfo:ct.__docgenInfo,name:"FavoritesDetails",path:"src/lib/containers/entity_finder/details/configurations/FavoritesDetails.tsx#FavoritesDetails"})}catch{}function Le(i){return{...i,type:"org.sagebionetworks.repo.model.Project"}}const ut=({projectsParams:i,...t})=>{var d;const{data:n,isLoading:r,isFetchingNextPage:e,hasNextPage:a,fetchNextPage:s}=or(i,{useErrorBoundary:!0}),o=(d=n==null?void 0:n.pages.flatMap(u=>u.results).map(Le))!=null?d:[],l=sn(o,t.selected.size,t.isIdSelected,t.isSelectable,a,s,e);return p(de,{entities:o,isLoading:r,hasNextPage:a,fetchNextPage:s,isFetchingNextPage:e,selectAllIsChecked:l,...t})};try{Le.displayName="toEntityHeader",Le.__docgenInfo={description:"",displayName:"toEntityHeader",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},lastActivity:{defaultValue:null,description:"",name:"lastActivity",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#toEntityHeader"]={docgenInfo:Le.__docgenInfo,name:"toEntityHeader",path:"src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#toEntityHeader"})}catch{}try{ut.displayName="ProjectListDetails",ut.__docgenInfo={description:"",displayName:"ProjectListDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},projectsParams:{defaultValue:null,description:"",name:"projectsParams",required:!0,type:{name:"GetProjectsParameters"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"]={docgenInfo:ut.__docgenInfo,name:"ProjectListDetails",path:"src/lib/containers/entity_finder/details/configurations/ProjectListDetails.tsx#ProjectListDetails"})}catch{}function xo(i){return{name:i.name,id:i.id,type:Ur(i.node_type),createdOn:i.created_on.toString(),modifiedOn:i.modified_on.toString(),createdBy:i.created_by,modifiedBy:i.modified_by}}const ht=({searchQuery:i,...t})=>{var o;const{data:n,isLoading:r,hasNextPage:e,fetchNextPage:a,isFetchingNextPage:s}=Ni(i,{enabled:!!i.queryTerm,useErrorBoundary:!0});return i.queryTerm?p(de,{entities:(o=n==null?void 0:n.pages.flatMap(l=>l.hits).map(xo))!=null?o:[],isLoading:r,hasNextPage:e,fetchNextPage:a,isFetchingNextPage:s,noResultsPlaceholder:H(U,{children:[p("img",{className:"SearchPlaceholderImage",alt:"No results found",src:"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg"}),H("p",{children:["No results for \u201C",i.queryTerm.join(" "),"\u201D"]})]}),...t,enableSelectAll:!1}):p(de,{entities:[],isLoading:!1,hasNextPage:!1,noResultsPlaceholder:H(U,{children:[p("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),p("p",{children:"Enter a term or Synapse ID to start searching"})]}),...t,enableSelectAll:!1})};try{ht.displayName="SearchDetails",ht.__docgenInfo={description:"",displayName:"SearchDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"SearchQuery"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"]={docgenInfo:ht.__docgenInfo,name:"SearchDetails",path:"src/lib/containers/entity_finder/details/configurations/SearchDetails.tsx#SearchDetails"})}catch{}var re=(i=>(i[i.HEADER_LIST=0]="HEADER_LIST",i[i.PARENT_CONTAINER=1]="PARENT_CONTAINER",i[i.USER_PROJECTS=2]="USER_PROJECTS",i[i.USER_FAVORITES=3]="USER_FAVORITES",i[i.ENTITY_SEARCH=4]="ENTITY_SEARCH",i[i.PROMPT=5]="PROMPT",i))(re||{});const qe=({configuration:i,...t})=>{const[n,r]=I.exports.useState(p(U,{}));return ri(()=>{r((a=>{var s;switch(a.type){case 1:return p(dt,{parentContainerId:a.parentContainerId,...t});case 0:return p(de,{entities:a.headerList,isLoading:!1,hasNextPage:!1,...t,enableSelectAll:t.enableSelectAll,selectAllIsChecked:pr((s=a.headerList)!=null?s:[],t.selected.size,t.isIdSelected,t.isSelectable)});case 3:return p(ct,{...t});case 4:return p(ht,{searchQuery:a.query,...t});case 2:return p(ut,{projectsParams:a.getProjectParams,...t});case 5:return p(de,{entities:[],isLoading:!1,noResultsPlaceholder:p("div",{children:"Use the left panel to browse Synapse, then make a selection in this panel"}),...t,enableSelectAll:!1});default:return console.warn("The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ",a),p(U,{})}})(i))},[i,t]),p(Xn,{children:n})};try{qe.displayName="EntityDetailsList",qe.__docgenInfo={description:"",displayName:"EntityDetailsList",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:"EntityDetailsListDataConfiguration"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"]={docgenInfo:qe.__docgenInfo,name:"EntityDetailsList",path:"src/lib/containers/entity_finder/details/EntityDetailsList.tsx#EntityDetailsList"})}catch{}const pt=({title:i,selectedEntities:t,toggleSelection:n})=>(typeof i=="function"&&(i=i(t.size)),H("div",{className:"EntityFinderSelectionPane alert alert-warning",children:[p(jt,{variant:"headline3",display:"inline",children:i}),t.size<=200?p("div",{className:"EntityFinderSelectionPane__Items",children:Array.from(t.keys()).map(r=>{const e=t.get(r);return p("div",{children:p(Co,{entity:{targetId:r,targetVersionNumber:e!==ue?e:void 0},toggleSelection:n})},`${r}${e!==ue?`.${e}`:""}`)})}):p(jt,{variant:"smallText1",children:"Too many items to show here"})]})),Co=({entity:i,toggleSelection:t})=>{const{data:n}=_e(i.targetId,i.targetVersionNumber),[r,e]=I.exports.useState(""),[a,s]=I.exports.useState(""),[o,l]=I.exports.useState("");return I.exports.useEffect(()=>{var d,u;if((d=n==null?void 0:n.path)!=null&&d.path){const f=n.path.path[n.path.path.length-1];e((u=f.name)!=null?u:f.id);const g=n.path.path.slice(1,n.path.path.length-1);s(g.map(b=>b.name).join("/")),g.length<4?l(a):l(g[0].name+"/\u2026/"+g.slice(g.length-1).map(b=>b.name).join("/"))}},[n,a]),H("div",{className:"EntityFinderSelectionPane__Row",children:[n&&p(nn,{className:"EntityIcon",type:n.entityType}),p(le,{title:`${a}/${r}`,enterNextDelay:ai,placement:"top",children:p("span",{children:o?o+"/":""})}),r?p("span",{className:"EntityFinderSelectionPane__Row__EntityName",children:r}):p(we,{width:500}),i.targetVersionNumber&&H("span",{children:[" (Version ",i.targetVersionNumber,")"]}),p(oi,{className:"EntityFinderSelectionPane__Row__DeselectButton",onClick:()=>{t(i)}})]})};try{pt.displayName="SelectionPane",pt.__docgenInfo={description:"",displayName:"SelectionPane",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | ((count: number) => string)"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference) => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"]={docgenInfo:pt.__docgenInfo,name:"SelectionPane",path:"src/lib/containers/entity_finder/SelectionPane.tsx#SelectionPane"})}catch{}function To(i,t){if(i==null)return{};var n={},r=Object.keys(i),e,a;for(a=0;a<r.length;a++)e=r[a],!(t.indexOf(e)>=0)&&(n[e]=i[e]);return n}function Ct(){return Ct=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ct.apply(this,arguments)}function Zt(i,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Zt(i,t)}function Ir(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i,Zt(i,t)}function Fe(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Eo(i){return function(t){i.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var kt=function(){},Io=function(t,n){return n===void 0&&(n=null),{child:null,isShown:n?n.public.isOpen&&n.isShown:!0,parent:n,public:t,sibling:null,visited:!1}},Oo=function(t,n){var r=n.getRecordData,e=r(t),a=e.data.id;return a},Do=function(t){var n=t.index,r=t.data,e=r.component,a=r.getRecordData,s=r.treeData,o=t.style,l=t.isScrolling,d=a(n);return p(e,{...Object.assign({isScrolling:l,style:o,treeData:s},d)})},zo=function(t,n,r){var e=t.createRecord,a=n.buildingTaskTimeout,s=n.placeholder,o=n.async,l=o===void 0?!1:o,d=n.treeWalker,u=l&&r.records!==void 0,f=r.records,g=[],b=new Map,x=a?{timeout:a}:void 0,h=new WeakMap,w=d(),_=w.next(),T=_.value,R=e(T.data,r,void 0,u?f.get(T.data.id):void 0);b.set(R.public.data.id,R),h.set(R,T);var v=R,m=!0,y=R,S=s!==void 0&&!(s===null&&!r.order),C=S?function(O){return O.timeRemaining()>0}:function(){return!0},E=function O(z){for(;v!==null;){if(!C(z)){requestIdleCallback(O,x);return}if(v.visited)v.visited=!1,v=v.sibling!==null?v.sibling:v.parent,y=v;else{var P=w.next(h.get(v)),k=P.value;if(k===void 0){m?m=!1:(v.isShown&&g.push(v.public.data.id),v.visited=v.child!==null,v=v.child!==null?v.child:v.sibling!==null?v.sibling:v.parent),y=v;continue}var F=e(k.data,r,m?void 0:v,u?f.get(k.data.id):void 0);b.set(F.public.data.id,F),h.set(F,k),!m&&y===v?y.child=F:y.sibling=F,y=F}}S&&r.setState({order:g,records:b,updateRequest:{}})};return S?requestIdleCallback(E,x):E(),s!==void 0&&l&&r.order?r:{order:g,records:b}},$n=32768,No=2,Ao=function(t,n){var r=t.order,e=t.records,a=n.opennessState;if(typeof a!="object")return null;for(var s in a)if(!!e.has(s)){var o=a[s],l=e.get(s),d=typeof o=="boolean"?{open:o}:o,u=d.open,f=d.subtreeCallback,g=f===void 0?kt:f,b=kt,x=kt;l.isShown&&(u?function(){for(var w=r.indexOf(s),_=l;_!==null;){if(_.sibling!==null){_=_.sibling;break}_=_.parent}var T=_===null?r.length-1-w:r.indexOf(_.public.data.id)-1-w,R=[[w+1,T]];b=function(m){if(m.isShown=m.parent?m.parent.public.isOpen&&m.parent.isShown:!0,m.isShown){var y=R[R.length-1];y.push(m.public.data.id),y.length===$n+No&&R.push([w+1+$n*R.length,0])}},x=function(){for(var m=0;m<R.length;m++){var y;(y=r).splice.apply(y,R[m])}}}():l.public.isOpen&&function(){var w=r.indexOf(s),_=0;b=function(R){R.isShown&&(_+=1),R.isShown=R.parent?R.parent.public.isOpen&&R.parent.isShown:!0},x=function(){r.splice(w+1,_)}}());for(var h=l;h!==null;)h.visited?(h.visited=!1,h=h===l?null:h.sibling!==null?h.sibling:h.parent):(h.public.isOpen=h===l?u:h.public.isOpen,g(h.public,l.public),h!==l&&b(h),h.visited=h.child!==null,h=h.child!==null?h.child:h===l?null:h.sibling!==null?h.sibling:h.parent);x()}return{order:r,records:e,updateRequest:{}}},Vo=function(t){return function(n,r,e){return e.refresh?zo(t,n,r):Ao(r,e)}},Or=function(i){Ir(t,i),t.getDerivedStateFromProps=function(e,a){var s=e.listRef,o=s===void 0?null:s,l=e.treeWalker,d=a.computeTree,u=a.list,f=a.order,g=a.treeWalker;return Ct({attachRefs:Eo([u,o])},l!==g||!f?d(e,a,{refresh:!0}):null,{treeWalker:l})};function t(r,e){var a;return a=i.call(this,r,e)||this,a.getRecordData=a.getRecordData.bind(Fe(a)),a.state={list:I.exports.createRef(),recomputeTree:a.recomputeTree.bind(Fe(a)),setState:a.setState.bind(Fe(a))},a}var n=t.prototype;return n.getItemData=function(){var e=this.props,a=e.children,s=e.itemData;return{component:a,getRecordData:this.getRecordData,treeData:s}},n.getRecordData=function(e){var a=this.state,s=a.order,o=a.records;return o.get(s[e]).public},n.recomputeTree=function(e){var a=this;return new Promise(function(s){a.setState(function(o){return o.computeTree(a.props,o,{opennessState:e})},s)})},n.scrollTo=function(e){var a;(a=this.state.list.current)==null||a.scrollTo(e)},n.scrollToItem=function(e,a){var s;(s=this.state.list.current)==null||s.scrollToItem(this.state.order.indexOf(e),a)},t}(I.exports.PureComponent);Or.defaultProps={rowComponent:Do};var Mo=Vo({createRecord:function(t,n,r,e){var a=n.recomputeTree,s=n.resetAfterId,o=Io({data:t,height:e?e.public.height:t.defaultHeight,isOpen:e?e.public.isOpen:t.isOpenByDefault,resize:function(d,u){o.public.height=d,s(o.public.data.id,u)},setOpen:function(d){var u;return a((u={},u[t.id]=d,u))}},r);return o}}),Ho=function(i){Ir(t,i);function t(r,e){var a;return a=i.call(this,r,e)||this,a.getItemSize=a.getItemSize.bind(Fe(a)),a.state=Ct({},a.state,{computeTree:Mo,resetAfterId:a.resetAfterId.bind(Fe(a))}),a}var n=t.prototype;return n.resetAfterId=function(e,a){var s;a===void 0&&(a=!1);var o=this.state,l=o.list,d=o.order;(s=l.current)==null||s.resetAfterIndex(d.indexOf(e),a)},n.recomputeTree=function(e){var a=this;return i.prototype.recomputeTree.call(this,e).then(function(){var s;(s=a.state.list.current)==null||s.resetAfterIndex(0,!0)})},n.render=function(){var e=this.props;e.children;var a=e.placeholder,s=e.itemSize,o=e.rowComponent;e.treeWalker;var l=To(e,["children","placeholder","itemSize","rowComponent","treeWalker"]),d=this.state,u=d.attachRefs,f=d.order;return a&&f.length===0?a:p(Ha,{...Object.assign({},l,{itemCount:f.length,itemData:this.getItemData(),itemKey:Oo,itemSize:s!=null?s:this.getItemSize,ref:u}),children:o})},n.getItemSize=function(e){return this.getRecordData(e).height},t}(Or),ce=(i=>(i[i.SINGLE_PANE=0]="SINGLE_PANE",i[i.DUAL_PANE=1]="DUAL_PANE",i))(ce||{});function pn(i){return"__paginationNode"in i?"pagination":"id"in i?"entityHeader":"rootNodeConfiguration"}function Ke(i){return pn(i)==="pagination"}function Wt(i){return pn(i)==="entityHeader"}function Be(i){return pn(i)==="rootNodeConfiguration"}function Tt(i){return Ke(i)?!0:Be(i)?i.hasNextPage:i.children==null||i.childrenNextPageToken!=null}function Po(i){return Ke(i)?!0:Be(i)?!1:!Qn(ne(i))||i.children!=null&&i.children.length===0}const ke=i=>{const{node:t,nestingLevel:n,getNextPageOfChildren:r,setSelectedId:e,treeNodeType:a,selected:s,selectableTypes:o,autoExpand:l,defaultHeight:d,currentContainer:u}=i;if(Ke(t))throw new Error("Cannot create data for a pagination node");const f=Be(t)?"root":t.id,g=a===0?s.has(f):u===f,b=!Be(t)&&!o.includes(ne(t)),x=l(f);return x&&t.children==null&&Tt(t)&&r(),{data:{node:t,getNextPageOfChildren:r,id:f,isLeaf:Po(t),isOpenByDefault:x,nestingLevel:n,setSelectedId:e,treeNodeType:a,isSelected:g,isDisabled:b,defaultHeight:d},nestingLevel:n,node:t}};function ft(i){const{data:{node:t,getNextPageOfChildren:n,isLeaf:r,id:e,nestingLevel:a,setSelectedId:s,treeNodeType:o,isSelected:l,isDisabled:d},isOpen:u,style:f,setOpen:g}=i,[b,x]=I.exports.useState(!1),h=Wt(t)?p("span",{children:t.name}):Be(t)?p("span",{children:t.nodeText}):p(we,{width:100}),{ref:w,inView:_}=rr();I.exports.useEffect(()=>{Ke(t)&&_&&n()},[t,_,n]);const T=I.exports.useCallback(async()=>{Tt(t)?(x(!0),await n(),await g(!u),x(!1)):await g(!u)},[n,t,u,g]);if(I.exports.useEffect(()=>{o===1&&l&&!u&&T()},[l]),"height"in f&&f.height===0)return p(U,{});let R="";return Wt(t)&&(R=p("div",{style:{textAlign:"center"},children:H(jt,{display:"inline",component:"span",variant:"smallText1",children:[t.name,p("br",{}),p("b",{children:"ID: "}),t.id,"modifiedBy"in t&&H(U,{children:[p("br",{}),p("b",{children:"Modified By: "}),p(wi,{showFullName:!0,disableLink:!0,showCardOnHover:!1,size:"SMALL USER CARD",ownerId:t.modifiedBy.toString()})]}),"modifiedOn"in t&&H(U,{children:[p("br",{}),p("b",{children:"Modified On: "}),ir(nr(t.modifiedOn))]})]})})),H("div",{className:`Node ${o===0?"SelectNode":"BrowseNode"}`,"aria-selected":l,"aria-disabled":d,onClick:v=>{v.stopPropagation(),d||s(e)},style:{...f,paddingLeft:`${20+a*20}px`},children:[!r&&p("button",{className:"ExpandButton",type:"button",onClick:v=>{v.stopPropagation(),T()},children:b?p(en,{size:10}):u?"\u25BE":"\u25B8"}),o===0&&p("div",{className:"EntityIcon",children:Wt(t)&&p(nn,{type:ne(t)})}),p("div",{className:"EntityName",ref:w,children:p(le,{title:R,placement:"right",children:h})}),o===0&&p(He,{entityId:e,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!0})]})}function mt(i,t,n,r,e,a,s,o,l){return function*(){var u;for(yield ke({node:i,nestingLevel:0,getNextPageOfChildren:i.fetchNextPage,setSelectedId:t,treeNodeType:n,selected:r,selectableTypes:e,autoExpand:a,defaultHeight:s(),currentContainer:o});;){const f=yield;if(!Ke(f.node)&&(f.node.children||Tt(f.node))){for(let g=0;g<((u=f.node.children)!=null?u:[]).length;g++){const b=f.node.children[g];yield ke({node:b,nestingLevel:f.nestingLevel+1,getNextPageOfChildren:()=>l(b),setSelectedId:t,treeNodeType:n,selected:r,selectableTypes:e,autoExpand:a,defaultHeight:s(),currentContainer:o})}if(f.node.children!=null&&Tt(f.node)){const g={__paginationNode:!0};yield{data:{id:f.data.id+"-pagination",node:g,isOpenByDefault:!1,getNextPageOfChildren:f.data.getNextPageOfChildren,isLeaf:!0,isSelected:!1,defaultHeight:s(),isDisabled:!0,nestingLevel:f.nestingLevel+1,setSelectedId:()=>{},treeNodeType:n},nestingLevel:f.nestingLevel+1,node:{__paginationNode:!0}}}}}}}const gt=i=>{const{rootNodeConfiguration:t,setSelectedId:n,treeNodeType:r,selected:e,currentContainer:a,selectableTypes:s,visibleTypes:o,autoExpand:l}=i,{accessToken:d}=Ie(),[u,f]=I.exports.useState(t);I.exports.useEffect(()=>{f(t)},[t,t.children]);const g=I.exports.useCallback(h=>h===0&&!t.show?0:r===1?30:60,[r,t.show]),b=I.exports.useCallback(async h=>{const w=await $r({parentId:h.id,nextPageToken:h.childrenNextPageToken,includeTypes:o},d);h.children?h.children.push(...w.page):h.children=w.page,h.childrenNextPageToken=w.nextPageToken,f(Ri(u))},[u,d,o]),x=I.exports.useCallback(mt(u,n,r,e,s,l,g,a,b),[u,n,r,e,s,l,a,b,g]);return p(hn,{disableWidth:!0,children:({height:h})=>p(Ho,{treeWalker:x,itemSize:g,height:h,async:!0,width:"100%",children:ft})})};try{ft.displayName="Node",ft.__docgenInfo={description:"Node component for the react-vtree virtualized tree. Exported only for testing purposes",displayName:"Node",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"TreeData"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(state: boolean) => Promise<void>"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},resize:{defaultValue:null,description:"",name:"resize",required:!0,type:{name:"(height: number, shouldForceUpdate?: boolean | undefined) => void"}},treeData:{defaultValue:null,description:"The data provided by user via `itemData` Tree component property.",name:"treeData",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"]={docgenInfo:ft.__docgenInfo,name:"Node",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#Node"})}catch{}try{mt.displayName="getTreeWalkerFunction",mt.__docgenInfo={description:"Extracted from the React component for testing purposes",displayName:"getTreeWalkerFunction",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"]={docgenInfo:mt.__docgenInfo,name:"getTreeWalkerFunction",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getTreeWalkerFunction"})}catch{}try{ce.SINGLE_PANE.displayName="EntityTreeNodeType.SINGLE_PANE",ce.SINGLE_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection",displayName:"EntityTreeNodeType.SINGLE_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"]={docgenInfo:ce.SINGLE_PANE.__docgenInfo,name:"EntityTreeNodeType.SINGLE_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.SINGLE_PANE"})}catch{}try{ce.DUAL_PANE.displayName="EntityTreeNodeType.DUAL_PANE",ce.DUAL_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection",displayName:"EntityTreeNodeType.DUAL_PANE",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"]={docgenInfo:ce.DUAL_PANE.__docgenInfo,name:"EntityTreeNodeType.DUAL_PANE",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#EntityTreeNodeType.DUAL_PANE"})}catch{}try{ke.displayName="getNodeData",ke.__docgenInfo={description:`Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.
Exported for testing purposes only.`,displayName:"getNodeData",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},nestingLevel:{defaultValue:null,description:"",name:"nestingLevel",required:!0,type:{name:"number"}},getNextPageOfChildren:{defaultValue:null,description:"",name:"getNextPageOfChildren",required:!0,type:{name:"() => Promise<void>"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},defaultHeight:{defaultValue:null,description:"",name:"defaultHeight",required:!0,type:{name:"number"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"]={docgenInfo:ke.__docgenInfo,name:"getNodeData",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#getNodeData"})}catch{}try{gt.displayName="VirtualizedTree",gt.__docgenInfo={description:`Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window
to only render visible nodes, which eliminates performance issues as seen in SWC-5978.`,displayName:"VirtualizedTree",props:{treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},rootNodeConfiguration:{defaultValue:null,description:"",name:"rootNodeConfiguration",required:!0,type:{name:"RootNodeConfiguration"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"]={docgenInfo:gt.__docgenInfo,name:"VirtualizedTree",path:"src/lib/containers/entity_finder/tree/VirtualizedTree.tsx#VirtualizedTree"})}catch{}const Lo=(i,t)=>{for(const n of t.path)if(i===n.id)return!0;return!1};var Dr=(i=>(i.CURRENT_PROJECT="Current Project",i.ALL_PROJECTS="All Projects",i.CREATED_BY_ME="Projects Created By Me",i.FAVORITES="My Favorites",i))(Dr||{});function qo(i){switch(i){case"My Favorites":return"root";case"Current Project":case"All Projects":case"Projects Created By Me":return null}}function Fo(i){switch(i){case"Current Project":case"All Projects":case"Projects Created By Me":return"Projects";case"My Favorites":return"Favorites"}}function We(i){var W;const{initialScope:t="Current Project",projectId:n,initialContainer:r=null,currentContainer:e,setCurrentContainer:a,visibleTypes:s=[me.PROJECT,me.FOLDER],toggleSelection:o,selectedEntities:l,setDetailsViewConfiguration:d,setBreadcrumbItems:u,showScopeAsRootNode:f=!0,treeNodeType:g,selectableTypes:b}=i,x={type:re.PROMPT},[h,w]=I.exports.useState(t);I.exports.useEffect(()=>{d&&d(x)},[]);const _=I.exports.useCallback(D=>{o&&o({targetId:D}),a(D)},[a,o]),T=h==="All Projects"||h==="Projects Created By Me",{data:R,fetchNextPage:v,hasNextPage:m,isLoading:y}=or(h==="Projects Created By Me"?{filter:"CREATED",sort:"PROJECT_NAME",sortDirection:"ASC"}:{sort:"PROJECT_NAME",sortDirection:"ASC"},{enabled:T,refetchInterval:1/0}),{data:S,isSuccess:C}=_e(e,void 0,er,{enabled:!!e&&e!=="root",useErrorBoundary:!0}),{data:E,isLoading:O}=fi("NAME","ASC",{select:D=>({...D,results:D.results.filter(K=>s.includes(Yr(K.type)))}),refetchInterval:1/0,useErrorBoundary:!0}),{data:z}=li(r,{enabled:!!(n&&r&&r.match(ei)),refetchInterval:1/0,useErrorBoundary:!0}),{data:P,isLoading:k,error:F}=Fr(n,{enabled:!!(n!=null?n:(W=z==null?void 0:z.path[1])==null?void 0:W.id),refetchInterval:1/0});h==="Current Project"&&n&&F&&F.status===403&&(xi(`You don't have access to the current project (${n}).`,"warning"),w("Projects Created By Me"));const{topLevelEntities:M,isLoading:A}=I.exports.useMemo(()=>{var L;let D=[],K=!1;switch(h){case"All Projects":case"Projects Created By Me":R&&(D=R.pages.flatMap(Y=>Y.results).map(Le)),K=y;break;case"My Favorites":{D=(L=E==null?void 0:E.results)!=null?L:[],K=O;break}case"Current Project":P&&(D=[P],K=k);break;default:throw new Error("No scope selected")}return{topLevelEntities:D,isLoading:K}},[E==null?void 0:E.results,O,k,y,R,P,h]);I.exports.useEffect(()=>{if(d||u){let D,K=[];if(e===null)D={type:re.PROMPT},K=[];else if(e==="root"){switch(h){case"All Projects":D={type:re.USER_PROJECTS};break;case"Projects Created By Me":D={type:re.USER_PROJECTS,getProjectParams:{filter:"CREATED"}};break;case"Current Project":D={type:re.HEADER_LIST,headerList:M};break;case"My Favorites":D={type:re.USER_FAVORITES};break}K=[{name:h,isCurrent:!0,action:()=>{a("root")}}]}else D={type:re.PARENT_CONTAINER,parentContainerId:e},C&&(K=[{name:h,isCurrent:!1,action:()=>{a("root")}},...S.path.path.slice(1).map(L=>{var Y;return{name:(Y=L.name)!=null?Y:L.id,isCurrent:L.id===e,action:()=>{a(L.id)}}})]);d&&d(D),u&&u(K)}},[h,e,M,d,u,S,C,a]);const N=I.exports.useMemo(()=>({show:f,nodeText:Fo(h),children:M,fetchNextPage:async()=>{await v()},hasNextPage:T&&m&&!y}),[f,h,M,T,m,y,v]),V=I.exports.useCallback(D=>D==="root"?!0:!!(h==="Current Project"&&z&&Lo(D,z)),[h,z]);return H("div",{className:`TreeView ${g===ce.SINGLE_PANE?"SelectTree":"BrowseTree"}`,children:[H("div",{className:"Header",children:[p("div",{className:"Browse",children:"Browse:"}),p("div",{onClick:D=>D.stopPropagation(),children:H($e,{children:[p($e.Toggle,{variant:"gray-primary-500",id:"dropdown-basic",children:h}),p($e.Menu,{role:"menu",children:Object.values(Dr).map(D=>D==="Current Project"&&n==null?p(j.Fragment,{},D):p($e.Item,{role:"menuitem",onClick:K=>{K.stopPropagation(),h!==D&&(w(D),a(qo(D)))},children:D},D))})]})})]}),A?p("div",{className:"Placeholder",children:p(en,{size:30})}):p("div",{className:"Tree",role:"tree",children:p(gt,{selected:l,visibleTypes:s,autoExpand:V,rootNodeConfiguration:N,treeNodeType:g,selectableTypes:b,currentContainer:e,setSelectedId:_})})]})}try{We.displayName="EntityTree",We.__docgenInfo={description:"The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n\nThe tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.",displayName:"EntityTree",props:{initialScope:{defaultValue:null,description:"",name:"initialScope",required:!1,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:"To show the current project, projectId must be defined",name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:null,description:"",name:"initialContainer",required:!0,type:{name:"EntityTreeContainer"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!0,type:{name:"EntityTreeContainer"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!0,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},showDropdown:{defaultValue:null,description:"",name:"showDropdown",required:!0,type:{name:"boolean"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!1,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!1,type:{name:"((entity: Reference) => void)"}},setDetailsViewConfiguration:{defaultValue:null,description:"",name:"setDetailsViewConfiguration",required:!1,type:{name:"((configuration: EntityDetailsListDataConfiguration) => void)"}},setBreadcrumbItems:{defaultValue:null,description:"",name:"setBreadcrumbItems",required:!1,type:{name:"((items: BreadcrumbItem[]) => void)"}},showScopeAsRootNode:{defaultValue:null,description:"Determines whether to show the root node corresponding to the selected scope",name:"showScopeAsRootNode",required:!1,type:{name:"boolean"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selectableTypes:{defaultValue:null,description:"The entity types that may be selected.",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"]={docgenInfo:We.__docgenInfo,name:"EntityTree",path:"src/lib/containers/entity_finder/tree/EntityTree.tsx#EntityTree"})}catch{}function ko(i){const t=I.exports.useCallback((r,e)=>{const a=e.get(r.targetId);return a==null?!1:a===ue?r.targetVersionNumber===void 0:a===r.targetVersionNumber},[]),n=I.exports.useCallback((r,e)=>r.withMutations(s=>{Array.isArray(e)||(e=[e]),e.forEach(o=>{var l;t(o,r)?s.delete(o.targetId):(i||s.clear(),s.set(o.targetId,(l=o.targetVersionNumber)!=null?l:ue))})}),[t,i]);return I.exports.useReducer(n,Ci())}const Wo=Object.values(me),Bo=Object.values(me),jo=[me.PROJECT,me.FOLDER],ue=-1,Ko=i=>Object.values(me).filter(r=>!i.includes(r)).map(r=>({key:"node_type",value:r.toString(),not:!0})),yt=({initialScope:i,projectId:t,initialContainer:n=null,selectMultiple:r,onSelectedChange:e,versionSelection:a=J.TRACKED,selectableTypes:s=Wo,visibleTypesInList:o=Bo,visibleTypesInTree:l=jo,selectedCopy:d=r?f=>`Selected (${f})`:"Selected",treeOnly:u=!1})=>{const{accessToken:f}=Ie(),[g,b]=I.exports.useState(!1),[x,h]=I.exports.useState(),[w,_]=I.exports.useState(),[T,R]=I.exports.useState({items:[]}),[v,m]=I.exports.useState([]),[y,S]=I.exports.useState({type:re.PROMPT}),C=I.exports.useRef(null),E=I.exports.useMemo(()=>[...l,...s],[l,s]),O=I.exports.useMemo(()=>[...o,...s],[o,s]),[z,P]=I.exports.useState(n),k=Gr(),F=I.exports.useCallback(L=>{R({items:L})},[R]),[M,A]=ko(r),N=I.exports.useCallback(L=>M.has(L.id),[M]),V=I.exports.useCallback(L=>{const Y=ne(L);return s.includes(Y)},[s]);I.exports.useEffect(()=>{e(M.toArray().map(([L,Y])=>({targetId:L,targetVersionNumber:Y===ue?void 0:Y})))},[M,e]),I.exports.useEffect(()=>{if((w==null?void 0:w.length)===1){const L=ti(w[0]);L&&Qr([L],f).then(Y=>{m(Y.results)}).catch(Y=>k(Y))}else m([])},[f,w,k]);const W=g?"MainPanelSearch":u?"MainPanelSinglePane":"MainPanelDualPane";let D;const K=["table","entityview","materializedview","submissionview","dataset","datasetcollection"];return s.length===1?D=`Search for ${kr(Xr(s[0]))}`:s.every(L=>K.includes(L))?D="Search for Tables":D="Search all of Synapse",p(Xn,{children:H("div",{className:"bootstrap-4-backport EntityFinder",children:[p("div",{className:"EntityFinder__Search","data-active":g,children:H(U,{children:[g?H(yn,{variant:"gray-primary-500",onClick:()=>{b(!1),h(""),_(void 0)},children:[p(Zr,{arrowDirection:"left",style:{height:"16px"}}),"Back to Browse"]}):H(yn,{variant:"sds-primary",className:"EntityFinder__Search__SearchButton",onClick:()=>{b(!0),C.current.focus()},children:[p(Ve,{icon:"search"}),D]}),p("span",{className:"SearchIcon",children:p(Ve,{icon:"search"})}),p(Ti,{role:"textbox",ref:C,"aria-hidden":!g,className:"EntityFinder__Search__Input",type:"search",placeholder:"Search by name, Wiki contents, or Synapse ID",value:x,onChange:L=>{h(L.target.value)},onKeyDown:L=>{L.key==="Enter"&&(L.target.value===""?_(void 0):_(L.target.value.trim().split(" ")))}}),x&&p("span",{className:"ClearSearchIcon",onClick:()=>{h(""),_(void 0)},children:p(Ve,{icon:"close",label:"Clear Search"})})]})}),H("div",{className:`EntityFinder__MainPanel ${W}`,children:[g&&p(qe,{configuration:v&&v.length>0?{type:re.HEADER_LIST,headerList:v}:{type:re.ENTITY_SEARCH,query:{queryTerm:w,booleanQuery:Ko(s)}},versionSelection:a,selectColumnType:r?"checkbox":"none",selected:M,isIdSelected:N,isSelectable:V,visibleTypes:s,selectableTypes:s,toggleSelection:A,enableSelectAll:r,setCurrentContainer:void 0}),p("div",{style:g?{display:"none"}:{},children:u?p("div",{children:p(We,{toggleSelection:A,showDropdown:!0,visibleTypes:E,initialScope:i,selectedEntities:M,projectId:t,initialContainer:n,currentContainer:z,setCurrentContainer:P,showScopeAsRootNode:!1,treeNodeType:ce.SINGLE_PANE,selectableTypes:s})}):p("div",{className:"EntityFinderReflexContainer",children:p(Jr.SizeMe,{children:({size:L})=>H(rn,{orientation:"vertical",windowResizeAware:!0,children:[p(Rn,{className:"TreeViewReflexElement",flex:.24,children:p(We,{selectedEntities:M,setDetailsViewConfiguration:S,showDropdown:!0,visibleTypes:l,initialScope:i,projectId:t,initialContainer:n,currentContainer:z,setCurrentContainer:P,treeNodeType:ce.DUAL_PANE,setBreadcrumbItems:F,selectableTypes:l})}),p(ee,{}),H(Rn,{className:"DetailsViewReflexElement",children:[p(qe,{configuration:y,versionSelection:a,selected:M,isIdSelected:N,isSelectable:V,visibleTypes:O,selectableTypes:s,selectColumnType:r?"checkbox":"none",toggleSelection:A,enableSelectAll:r,setCurrentContainer:P}),p(Qe,{...T})]})]},(!!L.width).toString())})})})]}),M.size>0&&p(pt,{title:d,selectedEntities:M,toggleSelection:A})]})})},zs=yt;try{yt.displayName="EntityFinder",yt.__docgenInfo={description:"",displayName:"EntityFinder",props:{selectMultiple:{defaultValue:null,description:"Whether or not it is possible to select multiple entities",name:"selectMultiple",required:!0,type:{name:"boolean"}},onSelectedChange:{defaultValue:null,description:"Callback invoked when the selection changes",name:"onSelectedChange",required:!0,type:{name:"(selected: Reference[]) => void"}},initialScope:{defaultValue:null,description:'The initial appearance of the entity finder. Possible values include "Current Project", "All Projects", "Projects Created By Me", "My Favorites"',name:"initialScope",required:!0,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:`The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be "Current Project"`,name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:{value:"null"},description:"The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId`",name:"initialContainer",required:!1,type:{name:"string | null"}},versionSelection:{defaultValue:{value:"VersionSelectionType.TRACKED"},description:'Determines if versions are selectable, and if so, how they should be shown. Default is "TRACKED"',name:"versionSelection",required:!1,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},visibleTypesInList:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInList",required:!1,type:{name:"EntityType[]"}},selectableTypes:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search",name:"selectableTypes",required:!1,type:{name:"EntityType[]"}},visibleTypesInTree:{defaultValue:{value:"[EntityType.PROJECT, EntityType.FOLDER]"},description:"The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInTree",required:!1,type:{name:"EntityType[]"}},selectedCopy:{defaultValue:{value:"selectMultiple ? count => `Selected (${count})` : 'Selected'"},description:"The text to show before the list of selected entities",name:"selectedCopy",required:!1,type:{name:"string | ((count: number) => string)"}},treeOnly:{defaultValue:{value:"false"},description:"Whether to show only the tree. If `true`, the tree will be used to make selections",name:"treeOnly",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"]={docgenInfo:yt.__docgenInfo,name:"EntityFinder",path:"src/lib/containers/entity_finder/EntityFinder.tsx#EntityFinder"})}catch{}export{Er as A,je as B,tt as C,qt as D,zs as E,Dr as F,et as M,Pt as P,J as V,Ft as a,Ht as b,Ze as c,rt as d,Lt as e};
