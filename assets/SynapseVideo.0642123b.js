import{W as w,J as V,$ as _,S as R}from"./index.a11999ac.js";import"./assert.5e30d765.js";import{a as F}from"./useUserBundle.07091a81.js";import{j as t,a as b,F as E}from"./jsx-runtime.2e925369.js";const H=window.React.useEffect,S=window.React.useState;function c({params:e}){var p,f;const{accessToken:i}=F(),[d,l]=S(),[u,y]=S(),o=(p=e.width)!=null?p:"",r=(f=e.height)!=null?f:"";return H(()=>{const h=()=>{if(e.videoId)l(`https://www.youtube.com/embed/${e.videoId}`);else if(e.vimeoId)l(`https://player.vimeo.com/video/${e.vimeoId}`);else{const n=e.oggSynapseId||e.mp4SynapseId||e.webmSynapseId;w(i,n).then(s=>{const g=[{associateObjectId:n,associateObjectType:V.FileEntity,fileHandleId:s.dataFileHandleId}];I(g,s.dataFileHandleId)})}},I=(n,s)=>{_({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:n},i).then(a=>{const{preSignedURL:m}=a.requestedFiles.filter(v=>v.fileHandleId===s)[0];y(m)}).catch(a=>{console.error("Error on getting video ",a)})};h()},[d,e,i,r,o]),t(()=>u?i?t("video",{controls:!0,src:u,width:o,height:r,"data-testid":"synapse-video-url",children:"It does not support the HTML5 Video element."}):b("p",{children:["You will need to",t("button",{"data-testid":"video-login",className:`${R} sign-in-btn default
                `,children:"Sign in"}),"in for access to that resource."]}):d?t("iframe",{title:"video frame",src:d,width:o,height:r}):t(E,{}),{})}try{c.displayName="SynapseVideo",c.__docgenInfo={description:"",displayName:"SynapseVideo",props:{params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ width?: string | undefined; height?: string | undefined; videoId?: string | undefined; vimeoId?: string | undefined; oggSynapseId?: string | undefined; mp4SynapseId?: string | undefined; webmSynapseId?: string | undefined; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/SynapseVideo.tsx#SynapseVideo"]={docgenInfo:c.__docgenInfo,name:"SynapseVideo",path:"src/lib/containers/widgets/SynapseVideo.tsx#SynapseVideo"})}catch{}export{c as S};
//# sourceMappingURL=SynapseVideo.0642123b.js.map
