import{f as X,h as to,j as jl,k as no,l as Wl,m as ds,n as ro,o as cn,p as ri,F as Te,q as It,r as Sn,B as wn,s as io,t as zl,v as so,w as Yl,x as Cn,y as us,z as Ql,A as Kl,C as Gl,D as Xl,H as ps,I as Jl,J as Zl,K as ec,L as tc,M as Ys,N as ao,Q as ii,R as oo,T as nc,V as rc,W as ie,X as ic,Y as sc,Z as ac,_ as oc,$ as lc,U as cc,e as dc,a0 as uc,a1 as pc,a2 as fs,a3 as fc,a4 as lo,a5 as hc,a6 as mc,a7 as gc,a8 as yc,a9 as bc,aa as Qs,ab as qn,ac as Sc,ad as wc,ae as Cc,af as hs,ag as co,ah as ms,ai as gs,aj as ys,ak as _c,al as vc,E as uo,am as po,an as Tc,ao as fo,O as wi,ap as Ks,G as Rc,aq as Ac}from"./index.219651a3.js";import{p as Et,i as Ic,f as Ec,a as xc,b as bs,S as ho,D as Oc}from"./sqlFunctions.02978512.js";import{u as mo}from"./useGetInfoFromIds.d217a33c.js";import{C as j}from"./ColumnType.744125d2.js";import"./assert.cba23eb4.js";import{E as qc,i as gt,a as Nc,b as _t,c as kc,d as go,h as Lc,e as yo,f as bo}from"./EntityIcon.eaa978a0.js";import{P as Ee,g as Dc,B as Pc}from"./getEndpoint.bb7ded34.js";import{u as Ye,E as si,I as ai,C as Ss,a as Mc,S as Vc}from"./ElementWithTooltip.e257405f.js";import{u as Fc,T as Xe}from"./Tooltip.6d92cd5b.js";import{S as Ci,Q as xt,a as Ot,u as $e,b as _n,c as Bc,d as Uc,i as $c,e as Hc,C as jc,f as Wc,g as zc,E as Yc,h as Qc,j as Kc,k as ws,l as Cs,m as So,n as Gc,o as Xc,F as Jc,p as wo,T as Co,q as Zc}from"./FacetNav.86a880c2.js";import{i as ed,r as td}from"./queryUtils.8f784f58.js";import{j as a,a as C,F as L}from"./jsx-runtime.00d70968.js";import{T as qt}from"./Typography.868473dc.js";import{u as nd,S as rd}from"./Select-54ac8379.esm.edd779c2.js";import{f as id,C as sd}from"./CustomSelectWidget.b1e9ceda.js";import{c as $,A as ad,B as od,C as ld,D as cd,G as dd,H as ct,b as ud,g as pd}from"./iframe.e4e9a55c.js";import{b as fd,p as _s,F as hd}from"./core.esm.6b7dbf5d.js";import{B as ce}from"./Button.fda23eee.js";import{u as Nt}from"./react-intersection-observer.esm.e445ee86.js";import{U as ot,a as _o,g as md}from"./UserCard.3b0eaa87.js";import{f as vo}from"./DateFormatter.25eba95e.js";import{h as oi}from"./moment.a565bb48.js";import{S as To}from"./SkeletonTable.dd29aa8f.js";import{S as Fi}from"./Skeleton.99b24529.js";import{c as gd,P as yd}from"./factory.50319b99.js";import{T as Yr,N as bd,I as Gs}from"./SynapseTableConstants.07ecdebd.js";import{I as le,H as Sd,S as wd,t as Cd}from"./IconSvg.debd858a.js";import{u as Bi}from"./use-deep-compare-effect.esm.0387ba0e.js";import{u as _d}from"./useGetDownloadListStatistics.8cb1cde4.js";import{d as vt,C as Ro}from"./ToastMessage.de6992d0.js";import{A as vn}from"./Alert.b74d1cfd.js";import{i as Ao,g as Io,p as vd,e as Td,a as Rd,c as Ad,o as Id,f as Ed,b as xd,d as Od,h as qd}from"./usePopperMarginModifiers.44e3343c.js";import{C as vs}from"./Collapse.1f37bc76.js";import{M as Q,a as Nd,b as kd}from"./Modal.1fb607f9.js";import{D as ze}from"./Dropdown.b0dc465f.js";import{Q as Ld}from"./QueryCount.dcc7b585.js";import{c as dt}from"./createSvgIcon.99e72c0f.js";import{c as yt}from"./cloneDeep.0f6934c3.js";import{N as Dd}from"./NoData.22383cce.js";import{u as Eo}from"./useGetAccessRequirement.50b91659.js";import{B as Pd,S as be}from"./ManagedACTAccessRequirementStatus.13dcc250.js";import{F as _i}from"./FileUpload.1b6da29d.js";import{U as Md}from"./UserSearchBox.6000ae11.js";import{R as Vd}from"./RadioGroup.d19dd04f.js";import{s as Fd}from"./union.e1f32037.js";import{S as Bd,l as xo}from"./LoadingScreen.91642215.js";import{E as Ui}from"./EntityLink.abe353cb.js";import{n as Ud}from"./uniq.be4aeadb.js";import{C as $d}from"./Checkbox.c68b07e0.js";import{s as Hd}from"./NoSearchResults.a01d676d.js";import{b as Ts,_ as Qr,w as Oo,g as Ze,d as $i,e as vi}from"./withStyles.5fe35516.js";import{d as Me}from"./toConsumableArray.c4898ee4.js";import{_ as jd}from"./slicedToArray.e72f11da.js";import{u as Wd}from"./useTheme.aaa309f8.js";import{S as zd}from"./SynapseVideo.41869ffd.js";import{I as Yd}from"./IconList.43e19c16.js";import{i as Qd}from"./isEmpty.dc101a1c.js";import{U as Kd}from"./UserCardList.386e1749.js";const Gd=dt(a("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})),Xd=dt(C(L,{children:[a("path",{d:"M6 20h12V10H6v10zm6-7c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z",opacity:".3"}),a("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})]})),Jd=dt(a("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));var Rs=(r=>(r.APPROVED="APPROVED",r.REVOKED="REVOKED",r))(Rs||{}),Zd=(r=>(r.MODIFIED_ON="MODIFIED_ON",r.EXPIRED_ON="EXPIRED_ON",r))(Zd||{}),Fe=(r=>(r.GAIN_ACCESS="GAIN_ACCESS",r.RENEW_ACCESS="RENEW_ACCESS",r.REVOKE_ACCESS="REVOKE_ACCESS",r))(Fe||{}),qo=(r=>(r.ProxyFileHandle="org.sagebionetworks.repo.model.file.ProxyFileHandle",r.ExternalObjectStoreFileHandle="org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle",r.ExternalFileHandle="org.sagebionetworks.repo.model.file.ExternalFileHandle",r))(qo||{});function eu(r){return Object.values(qo).includes(r.concreteType)}var li=(r=>(r.ENTITY="ENTITY",r.EVALUATION="EVALUATION",r.TEAM="TEAM",r))(li||{}),No=(r=>(r.OPEN="OPEN",r.RESTRICTED_BY_TERMS_OF_USE="RESTRICTED_BY_TERMS_OF_USE",r.CONTROLLED_BY_ACT="CONTROLLED_BY_ACT",r))(No||{});function tu(r,e){const{accessToken:t}=X(),n={accessRequirementId:r};return to(["approvedSubmissionInfo",n],async i=>await jl({...n,nextPageToken:i.pageParam},t),{...e,getNextPageParam:i=>i.nextPageToken})}const nu={includeEntity:!0,includeEntityPath:!0,includeAnnotations:!0,includePermissions:!0,includeHasChildren:!0,includeAccessControlList:!0,includeFileHandles:!0,includeTableBundle:!0,includeRootWikiId:!0,includeBenefactorACL:!0,includeDOIAssociation:!0,includeFileName:!0,includeThreadCount:!0,includeRestrictionInformation:!0};function ru(r,e=nu,t,n){const{accessToken:i}=X();return no(ds.bundle(r,t,e),()=>Wl(r,e,t,i),n)}function iu(r,e){const{accessToken:t}=X();return no(ds.children(r,!1),()=>ro(r,t),e)}function xb(r,e){const{accessToken:t}=X();return to(ds.children(r,!0),async n=>await ro({...r,includeTotalChildCount:n.pageParam?!1:r.includeTotalChildCount,nextPageToken:n.pageParam},t,n.signal),{...e,getNextPageParam:n=>n.nextPageToken})}var ko={},Tn={},ci={},di=$&&$.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ci,"__esModule",{value:!0});var su=di(ad),au=di(od),Ti=di(ld),ou=di(cd);function ve(r){return r===" "||r===`
`||r==="	"||r==="\f"||r==="\r"}function Xs(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"}function fe(r,e,t){var n=r.toLowerCase();return r===n?function(i,s){s===n?i._state=e:(i._state=t,i._index--)}:function(i,s){s===n||s===r?i._state=e:(i._state=t,i._index--)}}function qe(r,e){var t=r.toLowerCase();return function(n,i){i===t||i===r?n._state=e:(n._state=3,n._index--)}}var lu=fe("C",24,16),cu=fe("D",25,16),du=fe("A",26,16),uu=fe("T",27,16),pu=fe("A",28,16),fu=qe("R",35),hu=qe("I",36),mu=qe("P",37),gu=qe("T",38),yu=fe("R",40,1),bu=fe("I",41,1),Su=fe("P",42,1),wu=fe("T",43,1),Cu=qe("Y",45),_u=qe("L",46),vu=qe("E",47),Tu=fe("Y",49,1),Ru=fe("L",50,1),Au=fe("E",51,1),Iu=qe("I",54),Eu=qe("T",55),xu=qe("L",56),Ou=qe("E",57),qu=fe("I",58,1),Nu=fe("T",59,1),ku=fe("L",60,1),Lu=fe("E",61,1),Du=fe("#",63,64),Pu=fe("X",66,65),Mu=function(){function r(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(e!=null&&e.xmlMode),this.decodeEntities=(n=e==null?void 0:e.decodeEntities)!==null&&n!==void 0?n:!0}return r.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},r.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},r.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},r.prototype.pause=function(){this.running=!1},r.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},r.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},r.prototype.stateText=function(e){e==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):this.decodeEntities&&e==="&"&&(this.special===1||this.special===4)&&(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},r.prototype.isTagStartChar=function(e){return Xs(e)||this.xmlMode&&!ve(e)&&e!=="/"&&e!==">"},r.prototype.stateBeforeTagName=function(e){e==="/"?this._state=5:e==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):e===">"||this.special!==1||ve(e)?this._state=1:e==="!"?(this._state=15,this.sectionStart=this._index+1):e==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=!this.xmlMode&&(e==="s"||e==="S")?32:!this.xmlMode&&(e==="t"||e==="T")?52:3,this.sectionStart=this._index):this._state=1},r.prototype.stateInTagName=function(e){(e==="/"||e===">"||ve(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},r.prototype.stateBeforeClosingTagName=function(e){ve(e)||(e===">"?this._state=1:this.special!==1?this.special!==4&&(e==="s"||e==="S")?this._state=33:this.special===4&&(e==="t"||e==="T")?this._state=53:(this._state=1,this._index--):this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},r.prototype.stateInClosingTagName=function(e){(e===">"||ve(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},r.prototype.stateAfterClosingTagName=function(e){e===">"&&(this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeAttributeName=function(e){e===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):e==="/"?this._state=4:ve(e)||(this._state=9,this.sectionStart=this._index)},r.prototype.stateInSelfClosingTag=function(e){e===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):ve(e)||(this._state=8,this._index--)},r.prototype.stateInAttributeName=function(e){(e==="="||e==="/"||e===">"||ve(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},r.prototype.stateAfterAttributeName=function(e){e==="="?this._state=11:e==="/"||e===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):ve(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},r.prototype.stateBeforeAttributeValue=function(e){e==='"'?(this._state=12,this.sectionStart=this._index+1):e==="'"?(this._state=13,this.sectionStart=this._index+1):ve(e)||(this._state=14,this.sectionStart=this._index,this._index--)},r.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},r.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},r.prototype.stateInAttributeValueNoQuotes=function(e){ve(e)||e===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&e==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},r.prototype.stateBeforeDeclaration=function(e){this._state=e==="["?23:e==="-"?18:16},r.prototype.stateInDeclaration=function(e){e===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateInProcessingInstruction=function(e){e===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateBeforeComment=function(e){e==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},r.prototype.stateInComment=function(e){e==="-"&&(this._state=21)},r.prototype.stateInSpecialComment=function(e){e===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},r.prototype.stateAfterComment1=function(e){e==="-"?this._state=22:this._state=19},r.prototype.stateAfterComment2=function(e){e===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="-"&&(this._state=19)},r.prototype.stateBeforeCdata6=function(e){e==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},r.prototype.stateInCdata=function(e){e==="]"&&(this._state=30)},r.prototype.stateAfterCdata1=function(e){e==="]"?this._state=31:this._state=29},r.prototype.stateAfterCdata2=function(e){e===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):e!=="]"&&(this._state=29)},r.prototype.stateBeforeSpecialS=function(e){e==="c"||e==="C"?this._state=34:e==="t"||e==="T"?this._state=44:(this._state=3,this._index--)},r.prototype.stateBeforeSpecialSEnd=function(e){this.special===2&&(e==="c"||e==="C")?this._state=39:this.special===3&&(e==="t"||e==="T")?this._state=48:this._state=1},r.prototype.stateBeforeSpecialLast=function(e,t){(e==="/"||e===">"||ve(e))&&(this.special=t),this._state=3,this._index--},r.prototype.stateAfterSpecialLast=function(e,t){e===">"||ve(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},r.prototype.parseFixedEntity=function(e){if(e===void 0&&(e=this.xmlMode?ou.default:au.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},r.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(Ti.default,n)){this.emitPartial(Ti.default[n]),this.sectionStart+=t+1;return}t--}},r.prototype.stateInNamedEntity=function(e){e===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!Xs(e)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?e!=="="&&this.parseFixedEntity(Ti.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},r.prototype.decodeNumericEntity=function(e,t,n){var i=this.sectionStart+e;if(i!==this._index){var s=this.buffer.substring(i,this._index),o=parseInt(s,t);this.emitPartial(su.default(o)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},r.prototype.stateInNumericEntity=function(e){e===";"?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},r.prototype.stateInHexEntity=function(e){e===";"?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},r.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},r.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);this._state===1?this.stateText(e):this._state===12?this.stateInAttributeValueDoubleQuotes(e):this._state===9?this.stateInAttributeName(e):this._state===19?this.stateInComment(e):this._state===20?this.stateInSpecialComment(e):this._state===8?this.stateBeforeAttributeName(e):this._state===3?this.stateInTagName(e):this._state===6?this.stateInClosingTagName(e):this._state===2?this.stateBeforeTagName(e):this._state===10?this.stateAfterAttributeName(e):this._state===13?this.stateInAttributeValueSingleQuotes(e):this._state===11?this.stateBeforeAttributeValue(e):this._state===5?this.stateBeforeClosingTagName(e):this._state===7?this.stateAfterClosingTagName(e):this._state===32?this.stateBeforeSpecialS(e):this._state===21?this.stateAfterComment1(e):this._state===14?this.stateInAttributeValueNoQuotes(e):this._state===4?this.stateInSelfClosingTag(e):this._state===16?this.stateInDeclaration(e):this._state===15?this.stateBeforeDeclaration(e):this._state===22?this.stateAfterComment2(e):this._state===18?this.stateBeforeComment(e):this._state===33?this.stateBeforeSpecialSEnd(e):this._state===53?qu(this,e):this._state===39?yu(this,e):this._state===40?bu(this,e):this._state===41?Su(this,e):this._state===34?fu(this,e):this._state===35?hu(this,e):this._state===36?mu(this,e):this._state===37?gu(this,e):this._state===38?this.stateBeforeSpecialLast(e,2):this._state===42?wu(this,e):this._state===43?this.stateAfterSpecialLast(e,6):this._state===44?Cu(this,e):this._state===29?this.stateInCdata(e):this._state===45?_u(this,e):this._state===46?vu(this,e):this._state===47?this.stateBeforeSpecialLast(e,3):this._state===48?Tu(this,e):this._state===49?Ru(this,e):this._state===50?Au(this,e):this._state===51?this.stateAfterSpecialLast(e,5):this._state===52?Iu(this,e):this._state===54?Eu(this,e):this._state===55?xu(this,e):this._state===56?Ou(this,e):this._state===57?this.stateBeforeSpecialLast(e,4):this._state===58?Nu(this,e):this._state===59?ku(this,e):this._state===60?Lu(this,e):this._state===61?this.stateAfterSpecialLast(e,5):this._state===17?this.stateInProcessingInstruction(e):this._state===64?this.stateInNamedEntity(e):this._state===23?lu(this,e):this._state===62?Du(this,e):this._state===24?cu(this,e):this._state===25?du(this,e):this._state===30?this.stateAfterCdata1(e):this._state===31?this.stateAfterCdata2(e):this._state===26?uu(this,e):this._state===27?pu(this,e):this._state===28?this.stateBeforeCdata6(e):this._state===66?this.stateInHexEntity(e):this._state===65?this.stateInNumericEntity(e):this._state===63?Pu(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},r.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},r.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(e):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(e):this._state===64&&!this.xmlMode?(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===65&&!this.xmlMode?(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state===66&&!this.xmlMode?(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(e)},r.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},r.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},r.prototype.emitPartial=function(e){this.baseState!==1?this.cbs.onattribdata(e):this.cbs.ontext(e)},r}();ci.default=Mu;var Vu=$&&$.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.Parser=void 0;var Fu=Vu(ci),ht=new Set(["input","option","optgroup","select","button","datalist","textarea"]),re=new Set(["p"]),Js={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:re,h1:re,h2:re,h3:re,h4:re,h5:re,h6:re,select:ht,input:ht,output:ht,button:ht,datalist:ht,textarea:ht,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:re,article:re,aside:re,blockquote:re,details:re,div:re,dl:re,fieldset:re,figcaption:re,figure:re,footer:re,form:re,header:re,hr:re,main:re,nav:re,ol:re,pre:re,section:re,table:re,ul:re,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},Ri=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Zs=new Set(["math","svg"]),ea=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Bu=/\s|\//,Uu=function(){function r(e,t){t===void 0&&(t={});var n,i,s,o,l;this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=e!=null?e:{},this.lowerCaseTagNames=(n=t.lowerCaseTags)!==null&&n!==void 0?n:!t.xmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:!t.xmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:Fu.default)(this.options,this),(l=(o=this.cbs).onparserinit)===null||l===void 0||l.call(o,this)}return r.prototype.updatePosition=function(e){this.endIndex===null?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,(n=(t=this.cbs).ontext)===null||n===void 0||n.call(t,e)},r.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(Js,e))for(var i=void 0;this.stack.length>0&&Js[e].has(i=this.stack[this.stack.length-1]);)this.onclosetag(i);(this.options.xmlMode||!Ri.has(e))&&(this.stack.push(e),Zs.has(e)?this.foreignContext.push(!0):ea.has(e)&&this.foreignContext.push(!1)),(n=(t=this.cbs).onopentagname)===null||n===void 0||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},r.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&((t=(e=this.cbs).onopentag)===null||t===void 0||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&Ri.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},r.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(Zs.has(e)||ea.has(e))&&this.foreignContext.pop(),this.stack.length&&(this.options.xmlMode||!Ri.has(e))){var t=this.stack.lastIndexOf(e);if(t!==-1)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else e==="p"&&!this.options.xmlMode&&(this.onopentagname(e),this.closeCurrentTag())}else!this.options.xmlMode&&(e==="br"||e==="p")&&(this.onopentagname(e),this.closeCurrentTag())},r.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},r.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&((t=(e=this.cbs).onclosetag)===null||t===void 0||t.call(e,n),this.stack.pop())},r.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},r.prototype.onattribdata=function(e){this.attribvalue+=e},r.prototype.onattribend=function(e){var t,n;(n=(t=this.cbs).onattribute)===null||n===void 0||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},r.prototype.getInstructionName=function(e){var t=e.search(Bu),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},r.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},r.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},r.prototype.oncomment=function(e){var t,n,i,s;this.updatePosition(4),(n=(t=this.cbs).oncomment)===null||n===void 0||n.call(t,e),(s=(i=this.cbs).oncommentend)===null||s===void 0||s.call(i)},r.prototype.oncdata=function(e){var t,n,i,s,o,l;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((n=(t=this.cbs).oncdatastart)===null||n===void 0||n.call(t),(s=(i=this.cbs).ontext)===null||s===void 0||s.call(i,e),(l=(o=this.cbs).oncdataend)===null||l===void 0||l.call(o)):this.oncomment("[CDATA["+e+"]]")},r.prototype.onerror=function(e){var t,n;(n=(t=this.cbs).onerror)===null||n===void 0||n.call(t,e)},r.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)},r.prototype.reset=function(){var e,t,n,i;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this)},r.prototype.parseComplete=function(e){this.reset(),this.end(e)},r.prototype.write=function(e){this.tokenizer.write(e)},r.prototype.end=function(e){this.tokenizer.end(e)},r.prototype.pause=function(){this.tokenizer.pause()},r.prototype.resume=function(){this.tokenizer.resume()},r.prototype.parseChunk=function(e){this.write(e)},r.prototype.done=function(e){this.end(e)},r}();Tn.Parser=Uu;var He={},kt={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Doctype=r.CDATA=r.Tag=r.Style=r.Script=r.Comment=r.Directive=r.Text=r.Root=r.isTag=r.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=r.ElementType||(r.ElementType={}));function t(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}r.isTag=t,r.Root=e.Root,r.Text=e.Text,r.Directive=e.Directive,r.Comment=e.Comment,r.Script=e.Script,r.Style=e.Style,r.Tag=e.Tag,r.CDATA=e.CDATA,r.Doctype=e.Doctype})(kt);var Y={},ut=$&&$.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zt=$&&$.__assign||function(){return zt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zt.apply(this,arguments)};Object.defineProperty(Y,"__esModule",{value:!0});Y.cloneNode=Y.hasChildren=Y.isDocument=Y.isDirective=Y.isComment=Y.isText=Y.isCDATA=Y.isTag=Y.Element=Y.Document=Y.NodeWithChildren=Y.ProcessingInstruction=Y.Comment=Y.Text=Y.DataNode=Y.Node=void 0;var de=kt,$u=new Map([[de.ElementType.Tag,1],[de.ElementType.Script,1],[de.ElementType.Style,1],[de.ElementType.Directive,1],[de.ElementType.Text,3],[de.ElementType.CDATA,4],[de.ElementType.Comment,8],[de.ElementType.Root,9]]),As=function(){function r(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(r.prototype,"nodeType",{get:function(){var e;return(e=$u.get(this.type))!==null&&e!==void 0?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),r.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Is(this,e)},r}();Y.Node=As;var ui=function(r){ut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.data=n,i}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(t){this.data=t},enumerable:!1,configurable:!0}),e}(As);Y.DataNode=ui;var Lo=function(r){ut(e,r);function e(t){return r.call(this,de.ElementType.Text,t)||this}return e}(ui);Y.Text=Lo;var Do=function(r){ut(e,r);function e(t){return r.call(this,de.ElementType.Comment,t)||this}return e}(ui);Y.Comment=Do;var Po=function(r){ut(e,r);function e(t,n){var i=r.call(this,de.ElementType.Directive,n)||this;return i.name=t,i}return e}(ui);Y.ProcessingInstruction=Po;var pi=function(r){ut(e,r);function e(t,n){var i=r.call(this,t)||this;return i.children=n,i}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(t){this.children=t},enumerable:!1,configurable:!0}),e}(As);Y.NodeWithChildren=pi;var Mo=function(r){ut(e,r);function e(t){return r.call(this,de.ElementType.Root,t)||this}return e}(pi);Y.Document=Mo;var Vo=function(r){ut(e,r);function e(t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=t==="script"?de.ElementType.Script:t==="style"?de.ElementType.Style:de.ElementType.Tag);var o=r.call(this,s,i)||this;return o.name=t,o.attribs=n,o}return Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var t=this;return Object.keys(this.attribs).map(function(n){var i,s;return{name:n,value:t.attribs[n],namespace:(i=t["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(s=t["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(pi);Y.Element=Vo;function Fo(r){return(0,de.isTag)(r)}Y.isTag=Fo;function Bo(r){return r.type===de.ElementType.CDATA}Y.isCDATA=Bo;function Uo(r){return r.type===de.ElementType.Text}Y.isText=Uo;function $o(r){return r.type===de.ElementType.Comment}Y.isComment=$o;function Ho(r){return r.type===de.ElementType.Directive}Y.isDirective=Ho;function jo(r){return r.type===de.ElementType.Root}Y.isDocument=jo;function Hu(r){return Object.prototype.hasOwnProperty.call(r,"children")}Y.hasChildren=Hu;function Is(r,e){e===void 0&&(e=!1);var t;if(Uo(r))t=new Lo(r.data);else if($o(r))t=new Do(r.data);else if(Fo(r)){var n=e?Ai(r.children):[],i=new Vo(r.name,zt({},r.attribs),n);n.forEach(function(d){return d.parent=i}),r.namespace!=null&&(i.namespace=r.namespace),r["x-attribsNamespace"]&&(i["x-attribsNamespace"]=zt({},r["x-attribsNamespace"])),r["x-attribsPrefix"]&&(i["x-attribsPrefix"]=zt({},r["x-attribsPrefix"])),t=i}else if(Bo(r)){var n=e?Ai(r.children):[],s=new pi(de.ElementType.CDATA,n);n.forEach(function(c){return c.parent=s}),t=s}else if(jo(r)){var n=e?Ai(r.children):[],o=new Mo(n);n.forEach(function(c){return c.parent=o}),r["x-mode"]&&(o["x-mode"]=r["x-mode"]),t=o}else if(Ho(r)){var l=new Po(r.name,r.data);r["x-name"]!=null&&(l["x-name"]=r["x-name"],l["x-publicId"]=r["x-publicId"],l["x-systemId"]=r["x-systemId"]),t=l}else throw new Error("Not implemented yet: ".concat(r.type));return t.startIndex=r.startIndex,t.endIndex=r.endIndex,r.sourceCodeLocation!=null&&(t.sourceCodeLocation=r.sourceCodeLocation),t}Y.cloneNode=Is;function Ai(r){for(var e=r.map(function(n){return Is(n,!0)}),t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}(function(r){var e=$&&$.__createBinding||(Object.create?function(d,c,y,m){m===void 0&&(m=y);var f=Object.getOwnPropertyDescriptor(c,y);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[y]}}),Object.defineProperty(d,m,f)}:function(d,c,y,m){m===void 0&&(m=y),d[m]=c[y]}),t=$&&$.__exportStar||function(d,c){for(var y in d)y!=="default"&&!Object.prototype.hasOwnProperty.call(c,y)&&e(c,d,y)};Object.defineProperty(r,"__esModule",{value:!0}),r.DomHandler=void 0;var n=kt,i=Y;t(Y,r);var s=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function d(c,y,m){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof y=="function"&&(m=y,y=o),typeof c=="object"&&(y=c,c=void 0),this.callback=c!=null?c:null,this.options=y!=null?y:o,this.elementCB=m!=null?m:null}return d.prototype.onparserinit=function(c){this.parser=c},d.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},d.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},d.prototype.onerror=function(c){this.handleCallback(c)},d.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},d.prototype.onopentag=function(c,y){var m=this.options.xmlMode?n.ElementType.Tag:void 0,f=new i.Element(c,y,void 0,m);this.addNode(f),this.tagStack.push(f)},d.prototype.ontext=function(c){var y=this.options.normalizeWhitespace,m=this.lastNode;if(m&&m.type===n.ElementType.Text)y?m.data=(m.data+c).replace(s," "):m.data+=c,this.options.withEndIndices&&(m.endIndex=this.parser.endIndex);else{y&&(c=c.replace(s," "));var f=new i.Text(c);this.addNode(f),this.lastNode=f}},d.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var y=new i.Comment(c);this.addNode(y),this.lastNode=y},d.prototype.oncommentend=function(){this.lastNode=null},d.prototype.oncdatastart=function(){var c=new i.Text(""),y=new i.NodeWithChildren(n.ElementType.CDATA,[c]);this.addNode(y),c.parent=y,this.lastNode=c},d.prototype.oncdataend=function(){this.lastNode=null},d.prototype.onprocessinginstruction=function(c,y){var m=new i.ProcessingInstruction(c,y);this.addNode(m)},d.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},d.prototype.addNode=function(c){var y=this.tagStack[this.tagStack.length-1],m=y.children[y.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),y.children.push(c),m&&(c.prev=m,m.next=c),c.parent=y,this.lastNode=null},d}();r.DomHandler=l,r.default=l})(He);var lt={},Es={},Re={},xs={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.attributeNames=Tt.elementNames=void 0;Tt.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]);Tt.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]]);var bt=$&&$.__assign||function(){return bt=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bt.apply(this,arguments)},ju=$&&$.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wu=$&&$.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zu=$&&$.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ju(e,r,t);return Wu(e,r),e};Object.defineProperty(xs,"__esModule",{value:!0});var Ve=zu(kt),Wo=dd,zo=Tt,Yu=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Qu(r,e){if(!!r)return Object.keys(r).map(function(t){var n,i,s=(n=r[t])!==null&&n!==void 0?n:"";return e.xmlMode==="foreign"&&(t=(i=zo.attributeNames.get(t))!==null&&i!==void 0?i:t),!e.emptyAttrs&&!e.xmlMode&&s===""?t:t+'="'+(e.decodeEntities!==!1?Wo.encodeXML(s):s.replace(/"/g,"&quot;"))+'"'}).join(" ")}var ta=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Os(r,e){e===void 0&&(e={});for(var t=("length"in r)?r:[r],n="",i=0;i<t.length;i++)n+=Ku(t[i],e);return n}xs.default=Os;function Ku(r,e){switch(r.type){case Ve.Root:return Os(r.children,e);case Ve.Directive:case Ve.Doctype:return Zu(r);case Ve.Comment:return np(r);case Ve.CDATA:return tp(r);case Ve.Script:case Ve.Style:case Ve.Tag:return Ju(r,e);case Ve.Text:return ep(r,e)}}var Gu=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Xu=new Set(["svg","math"]);function Ju(r,e){var t;e.xmlMode==="foreign"&&(r.name=(t=zo.elementNames.get(r.name))!==null&&t!==void 0?t:r.name,r.parent&&Gu.has(r.parent.name)&&(e=bt(bt({},e),{xmlMode:!1}))),!e.xmlMode&&Xu.has(r.name)&&(e=bt(bt({},e),{xmlMode:"foreign"}));var n="<"+r.name,i=Qu(r.attribs,e);return i&&(n+=" "+i),r.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&ta.has(r.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",r.children.length>0&&(n+=Os(r.children,e)),(e.xmlMode||!ta.has(r.name))&&(n+="</"+r.name+">")),n}function Zu(r){return"<"+r.data+">"}function ep(r,e){var t=r.data||"";return e.decodeEntities!==!1&&!(!e.xmlMode&&r.parent&&Yu.has(r.parent.name))&&(t=Wo.encodeXML(t)),t}function tp(r){return"<![CDATA["+r.children[0].data+"]]>"}function np(r){return"<!--"+r.data+"-->"}var rp=$&&$.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Re,"__esModule",{value:!0});Re.innerText=Re.textContent=Re.getText=Re.getInnerHTML=Re.getOuterHTML=void 0;var Le=He,ip=rp(xs),sp=kt;function Yo(r,e){return(0,ip.default)(r,e)}Re.getOuterHTML=Yo;function ap(r,e){return(0,Le.hasChildren)(r)?r.children.map(function(t){return Yo(t,e)}).join(""):""}Re.getInnerHTML=ap;function zn(r){return Array.isArray(r)?r.map(zn).join(""):(0,Le.isTag)(r)?r.name==="br"?`
`:zn(r.children):(0,Le.isCDATA)(r)?zn(r.children):(0,Le.isText)(r)?r.data:""}Re.getText=zn;function Hi(r){return Array.isArray(r)?r.map(Hi).join(""):(0,Le.hasChildren)(r)&&!(0,Le.isComment)(r)?Hi(r.children):(0,Le.isText)(r)?r.data:""}Re.textContent=Hi;function ji(r){return Array.isArray(r)?r.map(ji).join(""):(0,Le.hasChildren)(r)&&(r.type===sp.ElementType.Tag||(0,Le.isCDATA)(r))?ji(r.children):(0,Le.isText)(r)?r.data:""}Re.innerText=ji;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.prevElementSibling=pe.nextElementSibling=pe.getName=pe.hasAttrib=pe.getAttributeValue=pe.getSiblings=pe.getParent=pe.getChildren=void 0;var Qo=He,op=[];function Ko(r){var e;return(e=r.children)!==null&&e!==void 0?e:op}pe.getChildren=Ko;function Go(r){return r.parent||null}pe.getParent=Go;function lp(r){var e,t,n=Go(r);if(n!=null)return Ko(n);for(var i=[r],s=r.prev,o=r.next;s!=null;)i.unshift(s),e=s,s=e.prev;for(;o!=null;)i.push(o),t=o,o=t.next;return i}pe.getSiblings=lp;function cp(r,e){var t;return(t=r.attribs)===null||t===void 0?void 0:t[e]}pe.getAttributeValue=cp;function dp(r,e){return r.attribs!=null&&Object.prototype.hasOwnProperty.call(r.attribs,e)&&r.attribs[e]!=null}pe.hasAttrib=dp;function up(r){return r.name}pe.getName=up;function pp(r){for(var e,t=r.next;t!==null&&!(0,Qo.isTag)(t);)e=t,t=e.next;return t}pe.nextElementSibling=pp;function fp(r){for(var e,t=r.prev;t!==null&&!(0,Qo.isTag)(t);)e=t,t=e.prev;return t}pe.prevElementSibling=fp;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.prepend=Ce.prependChild=Ce.append=Ce.appendChild=Ce.replaceElement=Ce.removeElement=void 0;function Rn(r){if(r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),r.parent){var e=r.parent.children;e.splice(e.lastIndexOf(r),1)}}Ce.removeElement=Rn;function hp(r,e){var t=e.prev=r.prev;t&&(t.next=e);var n=e.next=r.next;n&&(n.prev=e);var i=e.parent=r.parent;if(i){var s=i.children;s[s.lastIndexOf(r)]=e}}Ce.replaceElement=hp;function mp(r,e){if(Rn(e),e.next=null,e.parent=r,r.children.push(e)>1){var t=r.children[r.children.length-2];t.next=e,e.prev=t}else e.prev=null}Ce.appendChild=mp;function gp(r,e){Rn(e);var t=r.parent,n=r.next;if(e.next=n,e.prev=r,r.next=e,e.parent=t,n){if(n.prev=e,t){var i=t.children;i.splice(i.lastIndexOf(n),0,e)}}else t&&t.children.push(e)}Ce.append=gp;function yp(r,e){if(Rn(e),e.parent=r,e.prev=null,r.children.unshift(e)!==1){var t=r.children[1];t.prev=e,e.next=t}else e.next=null}Ce.prependChild=yp;function bp(r,e){Rn(e);var t=r.parent;if(t){var n=t.children;n.splice(n.indexOf(r),0,e)}r.prev&&(r.prev.next=e),e.parent=t,e.prev=r.prev,e.next=r,r.prev=e}Ce.prepend=bp;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.findAll=ge.existsOne=ge.findOne=ge.findOneChild=ge.find=ge.filter=void 0;var dn=He;function Sp(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),Array.isArray(e)||(e=[e]),qs(r,e,t,n)}ge.filter=Sp;function qs(r,e,t,n){for(var i=[],s=0,o=e;s<o.length;s++){var l=o[s];if(r(l)&&(i.push(l),--n<=0))break;if(t&&(0,dn.hasChildren)(l)&&l.children.length>0){var d=qs(r,l.children,t,n);if(i.push.apply(i,d),n-=d.length,n<=0)break}}return i}ge.find=qs;function wp(r,e){return e.find(r)}ge.findOneChild=wp;function Xo(r,e,t){t===void 0&&(t=!0);for(var n=null,i=0;i<e.length&&!n;i++){var s=e[i];if((0,dn.isTag)(s))r(s)?n=s:t&&s.children.length>0&&(n=Xo(r,s.children));else continue}return n}ge.findOne=Xo;function Jo(r,e){return e.some(function(t){return(0,dn.isTag)(t)&&(r(t)||t.children.length>0&&Jo(r,t.children))})}ge.existsOne=Jo;function Cp(r,e){for(var t,n=[],i=e.filter(dn.isTag),s;s=i.shift();){var o=(t=s.children)===null||t===void 0?void 0:t.filter(dn.isTag);o&&o.length>0&&i.unshift.apply(i,o),r(s)&&n.push(s)}return n}ge.findAll=Cp;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.getElementsByTagType=Ae.getElementsByTagName=Ae.getElementById=Ae.getElements=Ae.testElement=void 0;var tt=He,fi=ge,Kr={tag_name:function(r){return typeof r=="function"?function(e){return(0,tt.isTag)(e)&&r(e.name)}:r==="*"?tt.isTag:function(e){return(0,tt.isTag)(e)&&e.name===r}},tag_type:function(r){return typeof r=="function"?function(e){return r(e.type)}:function(e){return e.type===r}},tag_contains:function(r){return typeof r=="function"?function(e){return(0,tt.isText)(e)&&r(e.data)}:function(e){return(0,tt.isText)(e)&&e.data===r}}};function Zo(r,e){return typeof e=="function"?function(t){return(0,tt.isTag)(t)&&e(t.attribs[r])}:function(t){return(0,tt.isTag)(t)&&t.attribs[r]===e}}function _p(r,e){return function(t){return r(t)||e(t)}}function el(r){var e=Object.keys(r).map(function(t){var n=r[t];return Object.prototype.hasOwnProperty.call(Kr,t)?Kr[t](n):Zo(t,n)});return e.length===0?null:e.reduce(_p)}function vp(r,e){var t=el(r);return t?t(e):!0}Ae.testElement=vp;function Tp(r,e,t,n){n===void 0&&(n=1/0);var i=el(r);return i?(0,fi.filter)(i,e,t,n):[]}Ae.getElements=Tp;function Rp(r,e,t){return t===void 0&&(t=!0),Array.isArray(e)||(e=[e]),(0,fi.findOne)(Zo("id",r),e,t)}Ae.getElementById=Rp;function Ap(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),(0,fi.filter)(Kr.tag_name(r),e,t,n)}Ae.getElementsByTagName=Ap;function Ip(r,e,t,n){return t===void 0&&(t=!0),n===void 0&&(n=1/0),(0,fi.filter)(Kr.tag_type(r),e,t,n)}Ae.getElementsByTagType=Ip;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.uniqueSort=Qe.compareDocumentPosition=Qe.removeSubsets=void 0;var na=He;function Ep(r){for(var e=r.length;--e>=0;){var t=r[e];if(e>0&&r.lastIndexOf(t,e-1)>=0){r.splice(e,1);continue}for(var n=t.parent;n;n=n.parent)if(r.includes(n)){r.splice(e,1);break}}return r}Qe.removeSubsets=Ep;function tl(r,e){var t=[],n=[];if(r===e)return 0;for(var i=(0,na.hasChildren)(r)?r:r.parent;i;)t.unshift(i),i=i.parent;for(i=(0,na.hasChildren)(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(var s=Math.min(t.length,n.length),o=0;o<s&&t[o]===n[o];)o++;if(o===0)return 1;var l=t[o-1],d=l.children,c=t[o],y=n[o];return d.indexOf(c)>d.indexOf(y)?l===e?20:4:l===r?10:2}Qe.compareDocumentPosition=tl;function xp(r){return r=r.filter(function(e,t,n){return!n.includes(e,t+1)}),r.sort(function(e,t){var n=tl(e,t);return n&2?-1:n&4?1:0}),r}Qe.uniqueSort=xp;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.getFeed=void 0;var Op=Re,An=Ae;function qp(r){var e=Gr(Pp,r);return e?e.name==="feed"?Np(e):kp(e):null}hi.getFeed=qp;function Np(r){var e,t=r.children,n={type:"atom",items:(0,An.getElementsByTagName)("entry",t).map(function(o){var l,d=o.children,c={media:nl(d)};Se(c,"id","id",d),Se(c,"title","title",d);var y=(l=Gr("link",d))===null||l===void 0?void 0:l.attribs.href;y&&(c.link=y);var m=nt("summary",d)||nt("content",d);m&&(c.description=m);var f=nt("updated",d);return f&&(c.pubDate=new Date(f)),c})};Se(n,"id","id",t),Se(n,"title","title",t);var i=(e=Gr("link",t))===null||e===void 0?void 0:e.attribs.href;i&&(n.link=i),Se(n,"description","subtitle",t);var s=nt("updated",t);return s&&(n.updated=new Date(s)),Se(n,"author","email",t,!0),n}function kp(r){var e,t,n=(t=(e=Gr("channel",r.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],i={type:r.name.substr(0,3),id:"",items:(0,An.getElementsByTagName)("item",r.children).map(function(o){var l=o.children,d={media:nl(l)};Se(d,"id","guid",l),Se(d,"title","title",l),Se(d,"link","link",l),Se(d,"description","description",l);var c=nt("pubDate",l);return c&&(d.pubDate=new Date(c)),d})};Se(i,"title","title",n),Se(i,"link","link",n),Se(i,"description","description",n);var s=nt("lastBuildDate",n);return s&&(i.updated=new Date(s)),Se(i,"author","managingEditor",n,!0),i}var Lp=["url","type","lang"],Dp=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function nl(r){return(0,An.getElementsByTagName)("media:content",r).map(function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},i=0,s=Lp;i<s.length;i++){var o=s[i];t[o]&&(n[o]=t[o])}for(var l=0,d=Dp;l<d.length;l++){var o=d[l];t[o]&&(n[o]=parseInt(t[o],10))}return t.expression&&(n.expression=t.expression),n})}function Gr(r,e){return(0,An.getElementsByTagName)(r,e,!0,1)[0]}function nt(r,e,t){return t===void 0&&(t=!1),(0,Op.textContent)((0,An.getElementsByTagName)(r,e,t,1)).trim()}function Se(r,e,t,n,i){i===void 0&&(i=!1);var s=nt(t,n,i);s&&(r[e]=s)}function Pp(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}(function(r){var e=$&&$.__createBinding||(Object.create?function(i,s,o,l){l===void 0&&(l=o),Object.defineProperty(i,l,{enumerable:!0,get:function(){return s[o]}})}:function(i,s,o,l){l===void 0&&(l=o),i[l]=s[o]}),t=$&&$.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(r,"__esModule",{value:!0}),r.hasChildren=r.isDocument=r.isComment=r.isText=r.isCDATA=r.isTag=void 0,t(Re,r),t(pe,r),t(Ce,r),t(ge,r),t(Ae,r),t(Qe,r),t(hi,r);var n=He;Object.defineProperty(r,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(r,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(r,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(r,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(r,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(r,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(Es);var Mp=$&&$.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vp=$&&$.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fp=$&&$.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bp=$&&$.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vp(e,r,t);return Fp(e,r),e},Up=$&&$.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.parseFeed=lt.FeedHandler=void 0;var $p=Up(He),Xr=Bp(Es),Hp=Tn,ra;(function(r){r[r.image=0]="image",r[r.audio=1]="audio",r[r.video=2]="video",r[r.document=3]="document",r[r.executable=4]="executable"})(ra||(ra={}));var ia;(function(r){r[r.sample=0]="sample",r[r.full=1]="full",r[r.nonstop=2]="nonstop"})(ia||(ia={}));var rl=function(r){Mp(e,r);function e(t,n){var i=this;return typeof t=="object"&&(t=void 0,n=t),i=r.call(this,t,n)||this,i}return e.prototype.onend=function(){var t,n,i=Nn(jp,this.dom);if(!i){this.handleCallback(new Error("couldn't find root of feed"));return}var s={};if(i.name==="feed"){var o=i.children;s.type="atom",ye(s,"id","id",o),ye(s,"title","title",o);var l=aa("href",Nn("link",o));l&&(s.link=l),ye(s,"description","subtitle",o);var d=et("updated",o);d&&(s.updated=new Date(d)),ye(s,"author","email",o,!0),s.items=Wi("entry",o).map(function(c){var y={},m=c.children;ye(y,"id","id",m),ye(y,"title","title",m);var f=aa("href",Nn("link",m));f&&(y.link=f);var S=et("summary",m)||et("content",m);S&&(y.description=S);var h=et("updated",m);return h&&(y.pubDate=new Date(h)),y.media=sa(m),y})}else{var o=(n=(t=Nn("channel",i.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[];s.type=i.name.substr(0,3),s.id="",ye(s,"title","title",o),ye(s,"link","link",o),ye(s,"description","description",o);var d=et("lastBuildDate",o);d&&(s.updated=new Date(d)),ye(s,"author","managingEditor",o,!0),s.items=Wi("item",i.children).map(function(m){var f={},S=m.children;ye(f,"id","guid",S),ye(f,"title","title",S),ye(f,"link","link",S),ye(f,"description","description",S);var h=et("pubDate",S);return h&&(f.pubDate=new Date(h)),f.media=sa(S),f})}this.feed=s,this.handleCallback(null)},e}($p.default);lt.FeedHandler=rl;function sa(r){return Wi("media:content",r).map(function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t})}function Wi(r,e){return Xr.getElementsByTagName(r,e,!0)}function Nn(r,e){return Xr.getElementsByTagName(r,e,!0,1)[0]}function et(r,e,t){return t===void 0&&(t=!1),Xr.getText(Xr.getElementsByTagName(r,e,t,1)).trim()}function aa(r,e){if(!e)return null;var t=e.attribs;return t[r]}function ye(r,e,t,n,i){i===void 0&&(i=!1);var s=et(t,n,i);s&&(r[e]=s)}function jp(r){return r==="rss"||r==="feed"||r==="rdf:RDF"}function Wp(r,e){e===void 0&&(e={xmlMode:!0});var t=new rl(e);return new Hp.Parser(t,e).end(r),t.feed}lt.parseFeed=Wp;(function(r){var e=$&&$.__createBinding||(Object.create?function(h,p,g,w){w===void 0&&(w=g),Object.defineProperty(h,w,{enumerable:!0,get:function(){return p[g]}})}:function(h,p,g,w){w===void 0&&(w=g),h[w]=p[g]}),t=$&&$.__setModuleDefault||(Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p}),n=$&&$.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var g in h)g!=="default"&&Object.prototype.hasOwnProperty.call(h,g)&&e(p,h,g);return t(p,h),p},i=$&&$.__exportStar||function(h,p){for(var g in h)g!=="default"&&!Object.prototype.hasOwnProperty.call(p,g)&&e(p,h,g)},s=$&&$.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(r,"__esModule",{value:!0}),r.RssHandler=r.DefaultHandler=r.DomUtils=r.ElementType=r.Tokenizer=r.createDomStream=r.parseDOM=r.parseDocument=r.DomHandler=r.Parser=void 0;var o=Tn;Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return o.Parser}});var l=He;Object.defineProperty(r,"DomHandler",{enumerable:!0,get:function(){return l.DomHandler}}),Object.defineProperty(r,"DefaultHandler",{enumerable:!0,get:function(){return l.DomHandler}});function d(h,p){var g=new l.DomHandler(void 0,p);return new o.Parser(g,p).end(h),g.root}r.parseDocument=d;function c(h,p){return d(h,p).children}r.parseDOM=c;function y(h,p,g){var w=new l.DomHandler(h,p,g);return new o.Parser(w,p)}r.createDomStream=y;var m=ci;Object.defineProperty(r,"Tokenizer",{enumerable:!0,get:function(){return s(m).default}});var f=n(kt);r.ElementType=f,i(lt,r),r.DomUtils=n(Es);var S=lt;Object.defineProperty(r,"RssHandler",{enumerable:!0,get:function(){return S.FeedHandler}})})(ko);var zp=r=>{if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function oa(r){return Object.prototype.toString.call(r)==="[object Object]"}function Yp(r){var e,t;return oa(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(oa(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}Ns.isPlainObject=Yp;var Qp=function(e){return Kp(e)&&!Gp(e)};function Kp(r){return!!r&&typeof r=="object"}function Gp(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||Zp(r)}var Xp=typeof Symbol=="function"&&Symbol.for,Jp=Xp?Symbol.for("react.element"):60103;function Zp(r){return r.$$typeof===Jp}function ef(r){return Array.isArray(r)?[]:{}}function un(r,e){return e.clone!==!1&&e.isMergeableObject(r)?Rt(ef(r),r,e):r}function tf(r,e,t){return r.concat(e).map(function(n){return un(n,t)})}function nf(r,e){if(!e.customMerge)return Rt;var t=e.customMerge(r);return typeof t=="function"?t:Rt}function rf(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function la(r){return Object.keys(r).concat(rf(r))}function il(r,e){try{return e in r}catch{return!1}}function sf(r,e){return il(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function af(r,e,t){var n={};return t.isMergeableObject(r)&&la(r).forEach(function(i){n[i]=un(r[i],t)}),la(e).forEach(function(i){sf(r,i)||(il(r,i)&&t.isMergeableObject(e[i])?n[i]=nf(i,t)(r[i],e[i],t):n[i]=un(e[i],t))}),n}function Rt(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||tf,t.isMergeableObject=t.isMergeableObject||Qp,t.cloneUnlessOtherwiseSpecified=un;var n=Array.isArray(e),i=Array.isArray(r),s=n===i;return s?n?t.arrayMerge(r,e,t):af(r,e,t):un(e,t)}Rt.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return Rt(n,i,t)},{})};var of=Rt,lf=of,sl={exports:{}};(function(r){(function(e,t){r.exports?r.exports=t():e.parseSrcset=t()})($,function(){return function(e){function t(u){return u===" "||u==="	"||u===`
`||u==="\f"||u==="\r"}function n(u){var _,A=u.exec(e.substring(g));if(A)return _=A[0],g+=_.length,_}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,d=/[,]+$/,c=/^\d+$/,y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m,f,S,h,p,g=0,w=[];;){if(n(o),g>=i)return w;m=n(l),f=[],m.slice(-1)===","?(m=m.replace(d,""),b()):I()}function I(){for(n(s),S="",h="in descriptor";;){if(p=e.charAt(g),h==="in descriptor")if(t(p))S&&(f.push(S),S="",h="after descriptor");else if(p===","){g+=1,S&&f.push(S),b();return}else if(p==="(")S=S+p,h="in parens";else if(p===""){S&&f.push(S),b();return}else S=S+p;else if(h==="in parens")if(p===")")S=S+p,h="in descriptor";else if(p===""){f.push(S),b();return}else S=S+p;else if(h==="after descriptor"&&!t(p))if(p===""){b();return}else h="in descriptor",g-=1;g+=1}}function b(){var u=!1,_,A,R,x,E={},k,D,P,M,v;for(x=0;x<f.length;x++)k=f[x],D=k[k.length-1],P=k.substring(0,k.length-1),M=parseInt(P,10),v=parseFloat(P),c.test(P)&&D==="w"?((_||A)&&(u=!0),M===0?u=!0:_=M):y.test(P)&&D==="x"?((_||A||R)&&(u=!0),v<0?u=!0:A=v):c.test(P)&&D==="h"?((R||A)&&(u=!0),M===0?u=!0:R=M):u=!0;u?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+k+"'."):(E.url=m,_&&(E.w=_),A&&(E.d=A),R&&(E.h=R),w.push(E))}}})})(sl);var ks={exports:{}},oe=String,al=function(){return{isColorSupported:!1,reset:oe,bold:oe,dim:oe,italic:oe,underline:oe,inverse:oe,hidden:oe,strikethrough:oe,black:oe,red:oe,green:oe,yellow:oe,blue:oe,magenta:oe,cyan:oe,white:oe,gray:oe,bgBlack:oe,bgRed:oe,bgGreen:oe,bgYellow:oe,bgBlue:oe,bgMagenta:oe,bgCyan:oe,bgWhite:oe}};ks.exports=al();ks.exports.createColors=al;let ca=ks.exports,da=ct;class pn extends Error{constructor(e,t,n,i,s,o){super(e),this.name="CssSyntaxError",this.reason=e,s&&(this.file=s),i&&(this.source=i),o&&(this.plugin=o),typeof t<"u"&&typeof n<"u"&&(typeof t=="number"?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,pn)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=ca.isColorSupported),da&&e&&(t=da(t));let n=t.split(/\r?\n/),i=Math.max(this.line-3,0),s=Math.min(this.line+2,n.length),o=String(s).length,l,d;if(e){let{bold:c,red:y,gray:m}=ca.createColors(!0);l=f=>c(y(f)),d=f=>m(f)}else l=d=c=>c;return n.slice(i,s).map((c,y)=>{let m=i+1+y,f=" "+(" "+m).slice(-o)+" | ";if(m===this.line){let S=d(f.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+d(f)+c+`
 `+S+l("^")}return" "+d(f)+c}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}}var Ls=pn;pn.default=pn;var In={};In.isClean=Symbol("isClean");In.my=Symbol("my");const ua={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function cf(r){return r[0].toUpperCase()+r.slice(1)}class zi{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),i=e.prop+n+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let n="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName<"u"?n+=e.raws.afterName:i&&(n+=" "),e.nodes)this.block(e,n+i);else{let s=(e.raws.between||"")+(t?";":"");this.builder(n+i+s,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let n=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let s=e.nodes[i],o=this.raw(s,"before");o&&this.builder(o),this.stringify(s,t!==i||n)}}block(e,t){let n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}raw(e,t,n){let i;if(n||(n=t),t&&(i=e.raws[t],typeof i<"u"))return i;let s=e.parent;if(n==="before"&&(!s||s.type==="root"&&s.first===e||s&&s.type==="document"))return"";if(!s)return ua[n];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[n]<"u")return o.rawCache[n];if(n==="before"||n==="after")return this.beforeAfter(e,n);{let l="raw"+cf(n);this[l]?i=this[l](o,e):o.walk(d=>{if(i=d.raws[t],typeof i<"u")return!1})}return typeof i>"u"&&(i=ua[n]),o.rawCache[n]=i,i}rawSemicolon(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length&&n.last.type==="decl"&&(t=n.raws.semicolon,typeof t<"u"))return!1}),t}rawEmptyBody(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length===0&&(t=n.raws.after,typeof t<"u"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(n=>{let i=n.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof n.raws.before<"u"){let s=n.raws.before.split(`
`);return t=s[s.length-1],t=t.replace(/\S/g,""),!1}}),t}rawBeforeComment(e,t){let n;return e.walkComments(i=>{if(typeof i.raws.before<"u")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n>"u"?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls(i=>{if(typeof i.raws.before<"u")return n=i.raws.before,n.includes(`
`)&&(n=n.replace(/[^\n]+$/,"")),!1}),typeof n>"u"?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeRule(e){let t;return e.walk(n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&typeof n.raws.before<"u")return t=n.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk(n=>{if(n.nodes&&n.nodes.length>0&&typeof n.raws.after<"u")return t=n.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk(n=>{if(n.type!=="decl"&&(t=n.raws.between,typeof t<"u"))return!1}),t}rawColon(e){let t;return e.walkDecls(n=>{if(typeof n.raws.between<"u")return t=n.raws.between.replace(/[^\s:]/g,""),!1}),t}beforeAfter(e,t){let n;e.type==="decl"?n=this.raw(e,null,"beforeDecl"):e.type==="comment"?n=this.raw(e,null,"beforeComment"):t==="before"?n=this.raw(e,null,"beforeRule"):n=this.raw(e,null,"beforeClose");let i=e.parent,s=0;for(;i&&i.type!=="root";)s+=1,i=i.parent;if(n.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let l=0;l<s;l++)n+=o}return n}rawValue(e,t){let n=e[t],i=e.raws[t];return i&&i.value===n?i.raw:n}}var ol=zi;zi.default=zi;let df=ol;function Yi(r,e){new df(e).stringify(r)}var mi=Yi;Yi.default=Yi;let{isClean:kn,my:uf}=In,pf=Ls,ff=ol,hf=mi;function Qi(r,e){let t=new r.constructor;for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n)||n==="proxyCache")continue;let i=r[n],s=typeof i;n==="parent"&&s==="object"?e&&(t[n]=e):n==="source"?t[n]=i:Array.isArray(i)?t[n]=i.map(o=>Qi(o,t)):(s==="object"&&i!==null&&(i=Qi(i)),t[n]=i)}return t}class Ki{constructor(e={}){this.raws={},this[kn]=!1,this[uf]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let n of e[t])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:n,end:i}=this.rangeBy(t);return this.source.input.error(e,{line:n.line,column:n.column},{line:i.line,column:i.column},t)}return new pf(e)}warn(e,t,n){let i={node:this};for(let s in n)i[s]=n[s];return e.warn(t,i)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=hf){e.stringify&&(e=e.stringify);let t="";return e(this,n=>{t+=n}),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=Qi(this);for(let n in e)t[n]=e[n];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let i of e)i===this?n=!0:n?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);n||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}raw(e,t){return new ff().raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let n={},i=t==null;t=t||new Map;let s=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let l=this[o];if(Array.isArray(l))n[o]=l.map(d=>typeof d=="object"&&d.toJSON?d.toJSON(null,t):d);else if(typeof l=="object"&&l.toJSON)n[o]=l.toJSON(null,t);else if(o==="source"){let d=t.get(l.input);d==null&&(d=s,t.set(l.input,s),s++),n[o]={inputId:d,start:l.start,end:l.end}}else n[o]=l}return i&&(n.inputs=[...t.keys()].map(o=>o.toJSON())),n}positionInside(e){let t=this.toString(),n=this.source.start.column,i=this.source.start.line;for(let s=0;s<e;s++)t[s]===`
`?(n=1,i+=1):n+=1;return{line:i,column:n}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n=this.toString().indexOf(e.word);n!==-1&&(t=this.positionInside(n))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},n=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let i=this.toString().indexOf(e.word);i!==-1&&(t=this.positionInside(i),n=this.positionInside(i+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?n={line:e.end.line,column:e.end.column}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={line:t.line,column:t.column+1}),{start:t,end:n}}getProxyProcessor(){return{set(e,t,n){return e[t]===n||(e[t]=n,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[kn]){this[kn]=!1;let e=this;for(;e=e.parent;)e[kn]=!1}}get proxyOf(){return this}}var gi=Ki;Ki.default=Ki;let mf=gi;class Gi extends mf{constructor(e){e&&typeof e.value<"u"&&typeof e.value!="string"&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}var yi=Gi;Gi.default=Gi;let gf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",yf=(r,e=21)=>(t=e)=>{let n="",i=t;for(;i--;)n+=r[Math.random()*r.length|0];return n},bf=(r=21)=>{let e="",t=r;for(;t--;)e+=gf[Math.random()*64|0];return e};const Sf=Object.freeze(Object.defineProperty({__proto__:null,nanoid:bf,customAlphabet:yf},Symbol.toStringTag,{value:"Module"})),wf=ud(Sf);let{SourceMapConsumer:pa,SourceMapGenerator:fa}=ct,{existsSync:Cf,readFileSync:_f}=fd,{dirname:Ii,join:vf}=_s;function Tf(r){return Buffer?Buffer.from(r,"base64").toString():window.atob(r)}class Xi{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,i=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ii(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new pa(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return e?e.substr(0,t.length)===t:!1}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),i=e.indexOf("*/",n);n>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,i)))}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,n=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(i.test(e)||s.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(t.test(e)||n.test(e))return Tf(e.substr(RegExp.lastMatch.length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}loadFile(e){if(this.root=Ii(e),Cf(e))return this.mapFile=e,_f(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let n=t(e);if(n){let i=this.loadFile(n);if(!i)throw new Error("Unable to load previous source map: "+n.toString());return i}}else{if(t instanceof pa)return fa.fromSourceMap(t).toString();if(t instanceof fa)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let n=this.annotation;return e&&(n=vf(Ii(e),n)),this.loadFile(n)}}}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}}var ll=Xi;Xi.default=Xi;let{SourceMapConsumer:Rf,SourceMapGenerator:Af}=ct,{fileURLToPath:ha,pathToFileURL:Ln}=ct,{resolve:Ji,isAbsolute:Zi}=_s,{nanoid:If}=wf,Ei=ct,ma=Ls,Ef=ll,xi=Symbol("fromOffsetCache"),xf=Boolean(Rf&&Af),ga=Boolean(Ji&&Zi);class Jr{constructor(e,t={}){if(e===null||typeof e>"u"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!ga||/^\w+:\/\//.test(t.from)||Zi(t.from)?this.file=t.from:this.file=Ji(t.from)),ga&&xf){let n=new Ef(this.css,t);if(n.text){this.map=n;let i=n.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+If(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,n;if(this[xi])n=this[xi];else{let s=this.css.split(`
`);n=new Array(s.length);let o=0;for(let l=0,d=s.length;l<d;l++)n[l]=o,o+=s[l].length+1;this[xi]=n}t=n[n.length-1];let i=0;if(e>=t)i=n.length-1;else{let s=n.length-2,o;for(;i<s;)if(o=i+(s-i>>1),e<n[o])s=o-1;else if(e>=n[o+1])i=o+1;else{i=o;break}}return{line:i+1,col:e-n[i]+1}}error(e,t,n,i={}){let s,o,l;if(t&&typeof t=="object"){let c=t,y=n;if(typeof t.offset=="number"){let m=this.fromOffset(c.offset);t=m.line,n=m.col}else t=c.line,n=c.column;if(typeof y.offset=="number"){let m=this.fromOffset(y.offset);o=m.line,l=m.col}else o=y.line,l=y.column}else if(!n){let c=this.fromOffset(t);t=c.line,n=c.col}let d=this.origin(t,n,o,l);return d?s=new ma(e,d.endLine===void 0?d.line:{line:d.line,column:d.column},d.endLine===void 0?d.column:{line:d.endLine,column:d.endColumn},d.source,d.file,i.plugin):s=new ma(e,o===void 0?t:{line:t,column:n},o===void 0?n:{line:o,column:l},this.css,this.file,i.plugin),s.input={line:t,column:n,endLine:o,endColumn:l,source:this.css},this.file&&(Ln&&(s.input.url=Ln(this.file).toString()),s.input.file=this.file),s}origin(e,t,n,i){if(!this.map)return!1;let s=this.map.consumer(),o=s.originalPositionFor({line:e,column:t});if(!o.source)return!1;let l;typeof n=="number"&&(l=s.originalPositionFor({line:n,column:i}));let d;Zi(o.source)?d=Ln(o.source):d=new URL(o.source,this.map.consumer().sourceRoot||Ln(this.map.mapFile));let c={url:d.toString(),line:o.line,column:o.column,endLine:l&&l.line,endColumn:l&&l.column};if(d.protocol==="file:")if(ha)c.file=ha(d);else throw new Error("file: protocol is not available in this PostCSS build");let y=s.sourceContentFor(o.source);return y&&(c.source=y),c}mapResolve(e){return/^\w+:\/\//.test(e)?e:Ji(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}var bi=Jr;Jr.default=Jr;Ei&&Ei.registerInput&&Ei.registerInput(Jr);let{SourceMapConsumer:cl,SourceMapGenerator:Yn}=ct,{dirname:Qn,resolve:dl,relative:ul,sep:pl}=_s,{pathToFileURL:ya}=ct,Of=bi,qf=Boolean(cl&&Yn),Nf=Boolean(Qn&&dl&&ul&&pl);class kf{constructor(e,t,n,i){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=i}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new Of(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e<"u"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let n=t.source.input.from;n&&!e[n]&&(e[n]=!0,this.map.setSourceContent(this.toUrl(this.path(n)),t.source.input.css))}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),n=e.root||Qn(e.file),i;this.mapOpts.sourcesContent===!1?(i=new cl(e.text),i.sourcesContent&&(i.sourcesContent=i.sourcesContent.map(()=>null))):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(n)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Yn.fromSourceMap(e)}else this.map=new Yn({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(e.indexOf("<")===0||/^\w+:\/\//.test(e)||this.mapOpts.absolute)return e;let t=this.opts.to?Qn(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(t=Qn(dl(t,this.mapOpts.annotation))),e=ul(t,e),e}toUrl(e){return pl==="\\"&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(ya)return ya(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}else return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new Yn({file:this.outputFile()});let e=1,t=1,n="<no source>",i={source:"",generated:{line:0,column:0},original:{line:0,column:0}},s,o;this.stringify(this.root,(l,d,c)=>{if(this.css+=l,d&&c!=="end"&&(i.generated.line=e,i.generated.column=t-1,d.source&&d.source.start?(i.source=this.sourcePath(d),i.original.line=d.source.start.line,i.original.column=d.source.start.column-1,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,this.map.addMapping(i))),s=l.match(/\n/g),s?(e+=s.length,o=l.lastIndexOf(`
`),t=l.length-o):t+=l.length,d&&c!=="start"){let y=d.parent||{raws:{}};(d.type!=="decl"||d!==y.last||y.raws.semicolon)&&(d.source&&d.source.end?(i.source=this.sourcePath(d),i.original.line=d.source.end.line,i.original.column=d.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=n,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}generate(){if(this.clearAnnotation(),Nf&&qf&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}}var fl=kf;let Lf=gi;class es extends Lf{constructor(e){super(e),this.type="comment"}}var Si=es;es.default=es;let{isClean:hl,my:ml}=In,gl=yi,yl=Si,Df=gi,bl,Ds,Ps;function Sl(r){return r.map(e=>(e.nodes&&(e.nodes=Sl(e.nodes)),delete e.source,e))}function wl(r){if(r[hl]=!1,r.proxyOf.nodes)for(let e of r.proxyOf.nodes)wl(e)}class De extends Df{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),n,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(n=this.indexes[t],i=e(this.proxyOf.nodes[n],n),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}walk(e){return this.each((t,n)=>{let i;try{i=e(t,n)}catch(s){throw t.addToError(s)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="decl"&&e.test(n.prop))return t(n,i)}):this.walk((n,i)=>{if(n.type==="decl"&&n.prop===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="decl")return t(n,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="rule"&&e.test(n.selector))return t(n,i)}):this.walk((n,i)=>{if(n.type==="rule"&&n.selector===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="rule")return t(n,i)}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((n,i)=>{if(n.type==="atrule"&&e.test(n.name))return t(n,i)}):this.walk((n,i)=>{if(n.type==="atrule"&&n.name===e)return t(n,i)}):(t=e,this.walk((n,i)=>{if(n.type==="atrule")return t(n,i)}))}walkComments(e){return this.walk((t,n)=>{if(t.type==="comment")return e(t,n)})}append(...e){for(let t of e){let n=this.normalize(t,this.last);for(let i of n)this.proxyOf.nodes.push(i)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let n=this.normalize(t,this.first,"prepend").reverse();for(let i of n)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+n.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){e=this.index(e);let n=e===0?"prepend":!1,i=this.normalize(t,this.proxyOf.nodes[e],n).reverse();for(let o of i)this.proxyOf.nodes.splice(e,0,o);let s;for(let o in this.indexes)s=this.indexes[o],e<=s&&(this.indexes[o]=s+i.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let n=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let s of n)this.proxyOf.nodes.splice(e+1,0,s);let i;for(let s in this.indexes)i=this.indexes[s],e<i&&(this.indexes[s]=i+n.length);return this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,n))}),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if(typeof e=="string")e=Sl(bl(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value>"u")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new gl(e)]}else if(e.selector)e=[new Ds(e)];else if(e.name)e=[new Ps(e)];else if(e.text)e=[new yl(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[ml]||De.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[hl]&&wl(i),typeof i.raws.before>"u"&&t&&typeof t.raws.before<"u"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}getProxyProcessor(){return{set(e,t,n){return e[t]===n||(e[t]=n,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0},get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...n)=>e[t](...n.map(i=>typeof i=="function"?(s,o)=>i(s.toProxy(),o):i)):t==="every"||t==="some"?n=>e[t]((i,...s)=>n(i.toProxy(),...s)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(n=>n.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}De.registerParse=r=>{bl=r};De.registerRule=r=>{Ds=r};De.registerAtRule=r=>{Ps=r};var pt=De;De.default=De;De.rebuild=r=>{r.type==="atrule"?Object.setPrototypeOf(r,Ps.prototype):r.type==="rule"?Object.setPrototypeOf(r,Ds.prototype):r.type==="decl"?Object.setPrototypeOf(r,gl.prototype):r.type==="comment"&&Object.setPrototypeOf(r,yl.prototype),r[ml]=!0,r.nodes&&r.nodes.forEach(e=>{De.rebuild(e)})};let Pf=pt,Cl,_l;class fn extends Pf{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new Cl(new _l,this,e).stringify()}}fn.registerLazyResult=r=>{Cl=r};fn.registerProcessor=r=>{_l=r};var Ms=fn;fn.default=fn;class ts{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let n=t.node.rangeBy(t);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var vl=ts;ts.default=ts;let Mf=vl;class ns{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new Mf(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}}var Vs=ns;ns.default=ns;const Oi="'".charCodeAt(0),ba='"'.charCodeAt(0),Dn="\\".charCodeAt(0),Sa="/".charCodeAt(0),Pn=`
`.charCodeAt(0),Vt=" ".charCodeAt(0),Mn="\f".charCodeAt(0),Vn="	".charCodeAt(0),Fn="\r".charCodeAt(0),Vf="[".charCodeAt(0),Ff="]".charCodeAt(0),Bf="(".charCodeAt(0),Uf=")".charCodeAt(0),$f="{".charCodeAt(0),Hf="}".charCodeAt(0),jf=";".charCodeAt(0),Wf="*".charCodeAt(0),zf=":".charCodeAt(0),Yf="@".charCodeAt(0),Bn=/[\t\n\f\r "#'()/;[\\\]{}]/g,Un=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Qf=/.[\n"'(/\\]/,wa=/[\da-f]/i;var Kf=function(e,t={}){let n=e.css.valueOf(),i=t.ignoreErrors,s,o,l,d,c,y,m,f,S,h,p=n.length,g=0,w=[],I=[];function b(){return g}function u(x){throw e.error("Unclosed "+x,g)}function _(){return I.length===0&&g>=p}function A(x){if(I.length)return I.pop();if(g>=p)return;let E=x?x.ignoreUnclosed:!1;switch(s=n.charCodeAt(g),s){case Pn:case Vt:case Vn:case Fn:case Mn:{o=g;do o+=1,s=n.charCodeAt(o);while(s===Vt||s===Pn||s===Vn||s===Fn||s===Mn);h=["space",n.slice(g,o)],g=o-1;break}case Vf:case Ff:case $f:case Hf:case zf:case jf:case Uf:{let k=String.fromCharCode(s);h=[k,k,g];break}case Bf:{if(f=w.length?w.pop()[1]:"",S=n.charCodeAt(g+1),f==="url"&&S!==Oi&&S!==ba&&S!==Vt&&S!==Pn&&S!==Vn&&S!==Mn&&S!==Fn){o=g;do{if(y=!1,o=n.indexOf(")",o+1),o===-1)if(i||E){o=g;break}else u("bracket");for(m=o;n.charCodeAt(m-1)===Dn;)m-=1,y=!y}while(y);h=["brackets",n.slice(g,o+1),g,o],g=o}else o=n.indexOf(")",g+1),d=n.slice(g,o+1),o===-1||Qf.test(d)?h=["(","(",g]:(h=["brackets",d,g,o],g=o);break}case Oi:case ba:{l=s===Oi?"'":'"',o=g;do{if(y=!1,o=n.indexOf(l,o+1),o===-1)if(i||E){o=g+1;break}else u("string");for(m=o;n.charCodeAt(m-1)===Dn;)m-=1,y=!y}while(y);h=["string",n.slice(g,o+1),g,o],g=o;break}case Yf:{Bn.lastIndex=g+1,Bn.test(n),Bn.lastIndex===0?o=n.length-1:o=Bn.lastIndex-2,h=["at-word",n.slice(g,o+1),g,o],g=o;break}case Dn:{for(o=g,c=!0;n.charCodeAt(o+1)===Dn;)o+=1,c=!c;if(s=n.charCodeAt(o+1),c&&s!==Sa&&s!==Vt&&s!==Pn&&s!==Vn&&s!==Fn&&s!==Mn&&(o+=1,wa.test(n.charAt(o)))){for(;wa.test(n.charAt(o+1));)o+=1;n.charCodeAt(o+1)===Vt&&(o+=1)}h=["word",n.slice(g,o+1),g,o],g=o;break}default:{s===Sa&&n.charCodeAt(g+1)===Wf?(o=n.indexOf("*/",g+2)+1,o===0&&(i||E?o=n.length:u("comment")),h=["comment",n.slice(g,o+1),g,o],g=o):(Un.lastIndex=g+1,Un.test(n),Un.lastIndex===0?o=n.length-1:o=Un.lastIndex-2,h=["word",n.slice(g,o+1),g,o],w.push(h),g=o);break}}return g++,h}function R(x){I.push(x)}return{back:R,nextToken:A,endOfFile:_,position:b}};let Tl=pt;class Zr extends Tl{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}var Fs=Zr;Zr.default=Zr;Tl.registerAtRule(Zr);let Gf=pt,Rl,Al;class hn extends Gf{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let n=this.index(e);return!t&&n===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}normalize(e,t,n){let i=super.normalize(e);if(t){if(n==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let s of i)s.raws.before=t.raws.before}return i}toResult(e={}){return new Rl(new Al,this,e).stringify()}}hn.registerLazyResult=r=>{Rl=r};hn.registerProcessor=r=>{Al=r};var En=hn;hn.default=hn;let mn={split(r,e,t){let n=[],i="",s=!1,o=0,l=!1,d=!1;for(let c of r)d?d=!1:c==="\\"?d=!0:l?c===l&&(l=!1):c==='"'||c==="'"?l=c:c==="("?o+=1:c===")"?o>0&&(o-=1):o===0&&e.includes(c)&&(s=!0),s?(i!==""&&n.push(i.trim()),i="",s=!1):i+=c;return(t||i!=="")&&n.push(i.trim()),n},space(r){let e=[" ",`
`,"	"];return mn.split(r,e)},comma(r){return mn.split(r,[","],!0)}};var Il=mn;mn.default=mn;let El=pt,Xf=Il;class ei extends El{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Xf.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}var Bs=ei;ei.default=ei;El.registerRule(ei);let Jf=yi,Zf=Kf,eh=Si,th=Fs,nh=En,Ca=Bs;const _a={empty:!0,space:!0};function rh(r){for(let e=r.length-1;e>=0;e--){let t=r[e],n=t[3]||t[2];if(n)return n}}class ih{constructor(e){this.input=e,this.root=new nh,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=Zf(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}comment(e){let t=new eh;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let i=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}emptyRule(e){let t=new Ca;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,n=null,i=!1,s=null,o=[],l=e[1].startsWith("--"),d=[],c=e;for(;c;){if(n=c[0],d.push(c),n==="("||n==="[")s||(s=c),o.push(n==="("?")":"]");else if(l&&i&&n==="{")s||(s=c),o.push("}");else if(o.length===0)if(n===";")if(i){this.decl(d,l);return}else break;else if(n==="{"){this.rule(d);return}else if(n==="}"){this.tokenizer.back(d.pop()),t=!0;break}else n===":"&&(i=!0);else n===o[o.length-1]&&(o.pop(),o.length===0&&(s=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(s),t&&i){if(!l)for(;d.length&&(c=d[d.length-1][0],!(c!=="space"&&c!=="comment"));)this.tokenizer.back(d.pop());this.decl(d,l)}else this.unknownWord(d)}rule(e){e.pop();let t=new Ca;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let n=new Jf;this.init(n,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(i[3]||i[2]||rh(e));e[0][0]!=="word";)e.length===1&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let c=e[0][0];if(c===":"||c==="space"||c==="comment")break;n.prop+=e.shift()[1]}n.raws.between="";let s;for(;e.length;)if(s=e.shift(),s[0]===":"){n.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),n.raws.between+=s[1];(n.prop[0]==="_"||n.prop[0]==="*")&&(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let o=[],l;for(;e.length&&(l=e[0][0],!(l!=="space"&&l!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let c=e.length-1;c>=0;c--){if(s=e[c],s[1].toLowerCase()==="!important"){n.important=!0;let y=this.stringFrom(e,c);y=this.spacesFromEnd(e)+y,y!==" !important"&&(n.raws.important=y);break}else if(s[1].toLowerCase()==="important"){let y=e.slice(0),m="";for(let f=c;f>0;f--){let S=y[f][0];if(m.trim().indexOf("!")===0&&S!=="space")break;m=y.pop()[1]+m}m.trim().indexOf("!")===0&&(n.important=!0,n.raws.important=m,e=y)}if(s[0]!=="space"&&s[0]!=="comment")break}e.some(c=>c[0]!=="space"&&c[0]!=="comment")&&(n.raws.between+=o.map(c=>c[1]).join(""),o=[]),this.raw(n,"value",o.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t=new th;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let n,i,s,o=!1,l=!1,d=[],c=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),n=e[0],n==="("||n==="["?c.push(n==="("?")":"]"):n==="{"&&c.length>0?c.push("}"):n===c[c.length-1]&&c.pop(),c.length===0)if(n===";"){t.source.end=this.getPosition(e[2]),this.semicolon=!0;break}else if(n==="{"){l=!0;break}else if(n==="}"){if(d.length>0){for(s=d.length-1,i=d[s];i&&i[0]==="space";)i=d[--s];i&&(t.source.end=this.getPosition(i[3]||i[2]))}this.end(e);break}else d.push(e);else d.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(d),d.length?(t.raws.afterName=this.spacesAndCommentsFromStart(d),this.raw(t,"params",d),o&&(e=d[d.length-1],t.source.end=this.getPosition(e[3]||e[2]),this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),l&&(t.nodes=[],this.current=t)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}raw(e,t,n,i){let s,o,l=n.length,d="",c=!0,y,m;for(let f=0;f<l;f+=1)s=n[f],o=s[0],o==="space"&&f===l-1&&!i?c=!1:o==="comment"?(m=n[f-1]?n[f-1][0]:"empty",y=n[f+1]?n[f+1][0]:"empty",!_a[m]&&!_a[y]?d.slice(-1)===","?c=!1:d+=s[1]:c=!1):d+=s[1];if(!c){let f=n.reduce((S,h)=>S+h[1],"");e.raws[t]={value:d,raw:f}}e[t]=d}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],t==="space");)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let i=t;i<e.length;i++)n+=e[i][1];return e.splice(t,e.length-t),n}colon(e){let t=0,n,i,s;for(let[o,l]of e.entries()){if(n=l,i=n[0],i==="("&&(t+=1),i===")"&&(t-=1),t===0&&i===":")if(!s)this.doubleColon(n);else{if(s[0]==="word"&&s[1]==="progid")continue;return o}s=n}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let n=0,i;for(let s=t-1;s>=0&&(i=e[s],!(i[0]!=="space"&&(n+=1,n===2)));s--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}}var sh=ih;let ah=pt,oh=sh,lh=bi;function ti(r,e){let t=new lh(r,e),n=new oh(t);try{n.parse()}catch(i){throw i}return n.root}var Us=ti;ti.default=ti;ah.registerParse(ti);let{isClean:ke,my:ch}=In,dh=fl,uh=mi,ph=pt,fh=Ms,va=Vs,hh=Us,mh=En;const gh={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},yh={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},bh={postcssPlugin:!0,prepare:!0,Once:!0},At=0;function Ft(r){return typeof r=="object"&&typeof r.then=="function"}function xl(r){let e=!1,t=gh[r.type];return r.type==="decl"?e=r.prop.toLowerCase():r.type==="atrule"&&(e=r.name.toLowerCase()),e&&r.append?[t,t+"-"+e,At,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:r.append?[t,At,t+"Exit"]:[t,t+"Exit"]}function Ta(r){let e;return r.type==="document"?e=["Document",At,"DocumentExit"]:r.type==="root"?e=["Root",At,"RootExit"]:e=xl(r),{node:r,events:e,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function rs(r){return r[ke]=!1,r.nodes&&r.nodes.forEach(e=>rs(e)),r}let is={};class Je{constructor(e,t,n){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=rs(t);else if(t instanceof Je||t instanceof va)i=rs(t.root),t.map&&(typeof n.map>"u"&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let s=hh;n.syntax&&(s=n.syntax.parse),n.parser&&(s=n.parser),s.parse&&(s=s.parse);try{i=s(t,n)}catch(o){this.processed=!0,this.error=o}i&&!i[ch]&&ph.rebuild(i)}this.result=new va(e,i,n),this.helpers={...is,result:this.result,postcss:is},this.plugins=this.processor.plugins.map(s=>typeof s=="object"&&s.prepare?{...s,...s.prepare(this.result)}:s)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(Ft(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ke];)e[ke]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=uh;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new dh(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}walkSync(e){e[ke]=!0;let t=xl(e);for(let n of t)if(n===At)e.nodes&&e.each(i=>{i[ke]||this.walkSync(i)});else{let i=this.listeners[n];if(i&&this.visitSync(i,e.toProxy()))return}}visitSync(e,t){for(let[n,i]of e){this.result.lastPlugin=n;let s;try{s=i(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(Ft(s))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(n=>e.Once(n,this.helpers));return Ft(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=n.postcssPlugin,e.setMessage()):n.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],n=this.runOnRoot(t);if(Ft(n))try{await n}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[ke];){e[ke]=!0;let t=[Ta(e)];for(;t.length>0;){let n=this.visitTick(t);if(Ft(n))try{await n}catch(i){let s=t[t.length-1].node;throw this.handleError(i,s)}}}if(this.listeners.OnceExit)for(let[t,n]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(s=>n(s,this.helpers));await Promise.all(i)}else await n(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(t,n,i)=>{this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let n in t){if(!yh[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!bh[n])if(typeof t[n]=="object")for(let i in t[n])i==="*"?e(t,n,t[n][i]):e(t,n+"-"+i.toLowerCase(),t[n][i]);else typeof t[n]=="function"&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if(n.type!=="root"&&n.type!=="document"&&!n.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[o,l]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return l(n.toProxy(),this.helpers)}catch(d){throw this.handleError(d,n)}}if(t.iterator!==0){let o=t.iterator,l;for(;l=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!l[ke]){l[ke]=!0,e.push(Ta(l));return}t.iterator=0,delete n.indexes[o]}let s=t.events;for(;t.eventIndex<s.length;){let o=s[t.eventIndex];if(t.eventIndex+=1,o===At){n.nodes&&n.nodes.length&&(n[ke]=!0,t.iterator=n.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}}Je.registerPostcss=r=>{is=r};var Ol=Je;Je.default=Je;mh.registerLazyResult(Je);fh.registerLazyResult(Je);let Sh=fl,wh=mi,Ch=Us;const _h=Vs;class ss{constructor(e,t,n){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let i,s=wh;this.result=new _h(this._processor,i,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let l=new Sh(s,i,this._opts,t);if(l.isMap()){let[d,c]=l.generate();d&&(this.result.css=d),c&&(this.result.map=c)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=Ch;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}var vh=ss;ss.default=ss;let Th=vh,Rh=Ol,Ah=Ms,Ih=En;class gn{constructor(e=[]){this.version="8.4.14",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return this.plugins.length===0&&typeof t.parser>"u"&&typeof t.stringifier>"u"&&typeof t.syntax>"u"?new Th(this,e,t):new Rh(this,e,t)}normalize(e){let t=[];for(let n of e)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)t.push(n);else if(typeof n=="function")t.push(n);else if(!(typeof n=="object"&&(n.parse||n.stringify)))throw new Error(n+" is not a PostCSS plugin");return t}}var Eh=gn;gn.default=gn;Ih.registerProcessor(gn);Ah.registerProcessor(gn);let xh=yi,Oh=ll,qh=Si,Nh=Fs,kh=bi,Lh=En,Dh=Bs;function yn(r,e){if(Array.isArray(r))return r.map(i=>yn(i));let{inputs:t,...n}=r;if(t){e=[];for(let i of t){let s={...i,__proto__:kh.prototype};s.map&&(s.map={...s.map,__proto__:Oh.prototype}),e.push(s)}}if(n.nodes&&(n.nodes=r.nodes.map(i=>yn(i,e))),n.source){let{inputId:i,...s}=n.source;n.source=s,i!=null&&(n.source.input=e[i])}if(n.type==="root")return new Lh(n);if(n.type==="decl")return new xh(n);if(n.type==="rule")return new Dh(n);if(n.type==="comment")return new qh(n);if(n.type==="atrule")return new Nh(n);throw new Error("Unknown node type: "+r.type)}var Ph=yn;yn.default=yn;let Mh=Ls,ql=yi,Vh=Ol,Fh=pt,$s=Eh,Bh=mi,Uh=Ph,Nl=Ms,$h=vl,kl=Si,Ll=Fs,Hh=Vs,jh=bi,Wh=Us,zh=Il,Dl=Bs,Pl=En,Yh=gi;function ne(...r){return r.length===1&&Array.isArray(r[0])&&(r=r[0]),new $s(r)}ne.plugin=function(e,t){let n=!1;function i(...o){console&&console.warn&&!n&&(n=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let l=t(...o);return l.postcssPlugin=e,l.postcssVersion=new $s().version,l}let s;return Object.defineProperty(i,"postcss",{get(){return s||(s=i()),s}}),i.process=function(o,l,d){return ne([i(d)]).process(o,l)},i};ne.stringify=Bh;ne.parse=Wh;ne.fromJSON=Uh;ne.list=zh;ne.comment=r=>new kl(r);ne.atRule=r=>new Ll(r);ne.decl=r=>new ql(r);ne.rule=r=>new Dl(r);ne.root=r=>new Pl(r);ne.document=r=>new Nl(r);ne.CssSyntaxError=Mh;ne.Declaration=ql;ne.Container=Fh;ne.Processor=$s;ne.Document=Nl;ne.Comment=kl;ne.Warning=$h;ne.AtRule=Ll;ne.Result=Hh;ne.Input=jh;ne.Rule=Dl;ne.Root=Pl;ne.Node=Yh;Vh.registerPostcss(ne);var Qh=ne;ne.default=ne;const Kh=ko,Ra=zp,{isPlainObject:Gh}=Ns,Aa=lf,Xh=sl.exports,{parse:Jh}=Qh,Zh=["img","audio","video","picture","svg","object","map","iframe","embed"],em=["script","style"];function Wt(r,e){r&&Object.keys(r).forEach(function(t){e(r[t],t)})}function Be(r,e){return{}.hasOwnProperty.call(r,e)}function Ia(r,e){const t=[];return Wt(r,function(n){e(n)&&t.push(n)}),t}function tm(r){for(const e in r)if(Be(r,e))return!1;return!0}function nm(r){return r.map(function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")}).join(", ")}var rm=bn;const im=/^[^\0\t\n\f\r /<=>]+$/;function bn(r,e,t){if(r==null)return"";let n="",i="";function s(v,O){const N=this;this.tag=v,this.attribs=O||{},this.tagPosition=n.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(p.length){const F=p[p.length-1];F.text+=N.text}},this.updateParentNodeMediaChildren=function(){p.length&&Zh.includes(this.tag)&&p[p.length-1].mediaChildren.push(this.tag)}}e=Object.assign({},bn.defaults,e),e.parser=Object.assign({},sm,e.parser),em.forEach(function(v){e.allowedTags&&e.allowedTags.indexOf(v)>-1&&!e.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${v}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const o=e.nonTextTags||["script","style","textarea","option"];let l,d;e.allowedAttributes&&(l={},d={},Wt(e.allowedAttributes,function(v,O){l[O]=[];const N=[];v.forEach(function(F){typeof F=="string"&&F.indexOf("*")>=0?N.push(Ra(F).replace(/\\\*/g,".*")):l[O].push(F)}),N.length&&(d[O]=new RegExp("^("+N.join("|")+")$"))}));const c={},y={},m={};Wt(e.allowedClasses,function(v,O){l&&(Be(l,O)||(l[O]=[]),l[O].push("class")),c[O]=[],m[O]=[];const N=[];v.forEach(function(F){typeof F=="string"&&F.indexOf("*")>=0?N.push(Ra(F).replace(/\\\*/g,".*")):F instanceof RegExp?m[O].push(F):c[O].push(F)}),N.length&&(y[O]=new RegExp("^("+N.join("|")+")$"))});const f={};let S;Wt(e.transformTags,function(v,O){let N;typeof v=="function"?N=v:typeof v=="string"&&(N=bn.simpleTransform(v)),O==="*"?S=N:f[O]=N});let h,p,g,w,I,b,u=!1;A();const _=new Kh.Parser({onopentag:function(v,O){if(e.enforceHtmlBoundary&&v==="html"&&A(),I){b++;return}const N=new s(v,O);p.push(N);let F=!1;const J=!!N.text;let Z;if(Be(f,v)&&(Z=f[v](v,O),N.attribs=O=Z.attribs,Z.text!==void 0&&(N.innerText=Z.text),v!==Z.tagName&&(N.name=v=Z.tagName,w[h]=Z.tagName)),S&&(Z=S(v,O),N.attribs=O=Z.attribs,v!==Z.tagName&&(N.name=v=Z.tagName,w[h]=Z.tagName)),(e.allowedTags&&e.allowedTags.indexOf(v)===-1||e.disallowedTagsMode==="recursiveEscape"&&!tm(g)||e.nestingLimit!=null&&h>=e.nestingLimit)&&(F=!0,g[h]=!0,e.disallowedTagsMode==="discard"&&o.indexOf(v)!==-1&&(I=!0,b=1),g[h]=!0),h++,F){if(e.disallowedTagsMode==="discard")return;i=n,n=""}n+="<"+v,v==="script"&&(e.allowedScriptHostnames||e.allowedScriptDomains)&&(N.innerText=""),(!l||Be(l,v)||l["*"])&&Wt(O,function(K,B){if(!im.test(B)){delete N.attribs[B];return}let se=!1;if(!l||Be(l,v)&&l[v].indexOf(B)!==-1||l["*"]&&l["*"].indexOf(B)!==-1||Be(d,v)&&d[v].test(B)||d["*"]&&d["*"].test(B))se=!0;else if(l&&l[v]){for(const T of l[v])if(Gh(T)&&T.name&&T.name===B){se=!0;let q="";if(T.multiple===!0){const V=K.split(" ");for(const U of V)T.values.indexOf(U)!==-1&&(q===""?q=U:q+=" "+U)}else T.values.indexOf(K)>=0&&(q=K);K=q}}if(se){if(e.allowedSchemesAppliedToAttributes.indexOf(B)!==-1&&x(v,K)){delete N.attribs[B];return}if(v==="script"&&B==="src"){let T=!0;try{const q=E(K);if(e.allowedScriptHostnames||e.allowedScriptDomains){const V=(e.allowedScriptHostnames||[]).find(function(H){return H===q.url.hostname}),U=(e.allowedScriptDomains||[]).find(function(H){return q.url.hostname===H||q.url.hostname.endsWith(`.${H}`)});T=V||U}}catch{T=!1}if(!T){delete N.attribs[B];return}}if(v==="iframe"&&B==="src"){let T=!0;try{const q=E(K);if(q.isRelativeUrl)T=Be(e,"allowIframeRelativeUrls")?e.allowIframeRelativeUrls:!e.allowedIframeHostnames&&!e.allowedIframeDomains;else if(e.allowedIframeHostnames||e.allowedIframeDomains){const V=(e.allowedIframeHostnames||[]).find(function(H){return H===q.url.hostname}),U=(e.allowedIframeDomains||[]).find(function(H){return q.url.hostname===H||q.url.hostname.endsWith(`.${H}`)});T=V||U}}catch{T=!1}if(!T){delete N.attribs[B];return}}if(B==="srcset")try{let T=Xh(K);if(T.forEach(function(q){x("srcset",q.url)&&(q.evil=!0)}),T=Ia(T,function(q){return!q.evil}),T.length)K=nm(Ia(T,function(q){return!q.evil})),N.attribs[B]=K;else{delete N.attribs[B];return}}catch{delete N.attribs[B];return}if(B==="class"){const T=c[v],q=c["*"],V=y[v],U=m[v],H=y["*"],he=[V,H].concat(U).filter(function(ee){return ee});if(T&&q?K=M(K,Aa(T,q),he):K=M(K,T||q,he),!K.length){delete N.attribs[B];return}}if(B==="style")try{const T=Jh(v+" {"+K+"}"),q=k(T,e.allowedStyles);if(K=D(q),K.length===0){delete N.attribs[B];return}}catch{delete N.attribs[B];return}n+=" "+B,K&&K.length&&(n+='="'+R(K,!0)+'"')}else delete N.attribs[B]}),e.selfClosing.indexOf(v)!==-1?n+=" />":(n+=">",N.innerText&&!J&&!e.textFilter&&(n+=R(N.innerText),u=!0)),F&&(n=i+R(n),i="")},ontext:function(v){if(I)return;const O=p[p.length-1];let N;if(O&&(N=O.tag,v=O.innerText!==void 0?O.innerText:v),e.disallowedTagsMode==="discard"&&(N==="script"||N==="style"))n+=v;else{const F=R(v,!1);e.textFilter&&!u?n+=e.textFilter(F,N):u||(n+=F)}if(p.length){const F=p[p.length-1];F.text+=v}},onclosetag:function(v){if(I)if(b--,!b)I=!1;else return;const O=p.pop();if(!O)return;I=e.enforceHtmlBoundary?v==="html":!1,h--;const N=g[h];if(N){if(delete g[h],e.disallowedTagsMode==="discard"){O.updateParentNodeText();return}i=n,n=""}if(w[h]&&(v=w[h],delete w[h]),e.exclusiveFilter&&e.exclusiveFilter(O)){n=n.substr(0,O.tagPosition);return}if(O.updateParentNodeMediaChildren(),O.updateParentNodeText(),e.selfClosing.indexOf(v)!==-1){N&&(n=i,i="");return}n+="</"+v+">",N&&(n=i+R(n),i=""),u=!1}},e.parser);return _.write(r),_.end(),n;function A(){n="",h=0,p=[],g={},w={},I=!1,b=0}function R(v,O){return typeof v!="string"&&(v=v+""),e.parser.decodeEntities&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),O&&(v=v.replace(/"/g,"&quot;"))),v=v.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),O&&(v=v.replace(/"/g,"&quot;")),v}function x(v,O){for(O=O.replace(/[\x00-\x20]+/g,"");;){const J=O.indexOf("<!--");if(J===-1)break;const Z=O.indexOf("-->",J+4);if(Z===-1)break;O=O.substring(0,J)+O.substring(Z+3)}const N=O.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!N)return O.match(/^[/\\]{2}/)?!e.allowProtocolRelative:!1;const F=N[1].toLowerCase();return Be(e.allowedSchemesByTag,v)?e.allowedSchemesByTag[v].indexOf(F)===-1:!e.allowedSchemes||e.allowedSchemes.indexOf(F)===-1}function E(v){if(v=v.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),v.startsWith("relative:"))throw new Error("relative: exploit attempt");let O="relative://relative-site";for(let J=0;J<100;J++)O+=`/${J}`;const N=new URL(v,O);return{isRelativeUrl:N&&N.hostname==="relative-site"&&N.protocol==="relative:",url:N}}function k(v,O){if(!O)return v;const N=v.nodes[0];let F;return O[N.selector]&&O["*"]?F=Aa(O[N.selector],O["*"]):F=O[N.selector]||O["*"],F&&(v.nodes[0].nodes=N.nodes.reduce(P(F),[])),v}function D(v){return v.nodes[0].nodes.reduce(function(O,N){return O.push(`${N.prop}:${N.value}${N.important?" !important":""}`),O},[]).join(";")}function P(v){return function(O,N){return Be(v,N.prop)&&v[N.prop].some(function(J){return J.test(N.value)})&&O.push(N),O}}function M(v,O,N){return O?(v=v.split(/\s+/),v.filter(function(F){return O.indexOf(F)!==-1||N.some(function(J){return J.test(F)})}).join(" ")):v}}const sm={decodeEntities:!0};bn.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1};bn.simpleTransform=function(r,e,t){return t=t===void 0?!0:t,e=e||{},function(n,i){let s;if(t)for(s in e)i[s]=e[s];else i=e;return{tagName:r,attribs:i}}};const am=rm;function Kn(r){let e="pill-xl ";const{align:t="",highlight:n=""}=r,i=t.toLowerCase();i==="left"&&(e+="floatLeft "),i==="right"&&(e+="floatright ");const s=n==="true"?"secondary":"light-secondary";return i==="center"?a("div",{className:"bootstrap-4-backport",style:{textAlign:"center"},children:a(ce,{href:r.url,className:e,variant:s,children:r.text})}):a("span",{className:"bootstrap-4-backport",children:a(ce,{href:r.url,className:e,variant:s,children:r.text})})}try{Kn.displayName="MarkdownButton",Kn.__docgenInfo={description:"",displayName:"MarkdownButton",props:{align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"string"}},highlight:{defaultValue:null,description:"",name:"highlight",required:!1,type:{name:"string"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownButton.tsx#MarkdownButton"]={docgenInfo:Kn.__docgenInfo,name:"MarkdownButton",path:"src/lib/containers/markdown/widget/MarkdownButton.tsx#MarkdownButton"})}catch{}function om(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.boundaryCount,t=e===void 0?1:e,n=r.componentName,i=n===void 0?"usePagination":n,s=r.count,o=s===void 0?1:s,l=r.defaultPage,d=l===void 0?1:l,c=r.disabled,y=c===void 0?!1:c,m=r.hideNextButton,f=m===void 0?!1:m,S=r.hidePrevButton,h=S===void 0?!1:S,p=r.onChange,g=r.page,w=r.showFirstButton,I=w===void 0?!1:w,b=r.showLastButton,u=b===void 0?!1:b,_=r.siblingCount,A=_===void 0?1:_,R=Ts(r,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),x=Fc({controlled:g,default:d,name:i,state:"page"}),E=jd(x,2),k=E[0],D=E[1],P=function(se,T){g||D(T),p&&p(se,T)},M=function(se,T){var q=T-se+1;return Array.from({length:q},function(V,U){return se+U})},v=M(1,Math.min(t,o)),O=M(Math.max(o-t+1,t+1),o),N=Math.max(Math.min(k-A,o-t-A*2-1),t+2),F=Math.min(Math.max(k+A,t+A*2+2),O[0]-2),J=[].concat(Me(I?["first"]:[]),Me(h?[]:["previous"]),Me(v),Me(N>t+2?["start-ellipsis"]:t+1<o-t?[t+1]:[]),Me(M(N,F)),Me(F<o-t-1?["end-ellipsis"]:o-t>t?[o-t]:[]),Me(O),Me(f?[]:["next"]),Me(u?["last"]:[])),Z=function(se){switch(se){case"first":return 1;case"previous":return k-1;case"next":return k+1;case"last":return o;default:return null}},K=J.map(function(B){return typeof B=="number"?{onClick:function(T){P(T,B)},type:"page",page:B,selected:B===k,disabled:y,"aria-current":B===k?"true":void 0}:{onClick:function(T){P(T,Z(B))},type:B,page:Z(B),selected:!1,disabled:y||B.indexOf("ellipsis")===-1&&(B==="next"||B==="last"?k>=o:k<=1)}});return Qr({items:K},R)}const Ea=dt(a("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),xa=dt(a("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),Oa=dt(a("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),qa=dt(a("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),lm=window.React;var cm=function(e){return{root:Qr({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:Ze(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat(Ze(e.palette.primary.main,.5)),backgroundColor:Ze(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Ze(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat(Ze(e.palette.secondary.main,.5)),backgroundColor:Ze(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Ze(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}},dm=lm.forwardRef(function(e,t){var n=e.classes,i=e.className,s=e.color,o=s===void 0?"standard":s,l=e.component,d=e.disabled,c=d===void 0?!1:d,y=e.page,m=e.selected,f=m===void 0?!1:m,S=e.shape,h=S===void 0?"round":S,p=e.size,g=p===void 0?"medium":p,w=e.type,I=w===void 0?"page":w,b=e.variant,u=b===void 0?"text":b,_=Ts(e,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),A=Wd(),R=A.direction==="rtl"?{previous:qa,next:Oa,last:Ea,first:xa}:{previous:Oa,next:qa,first:Ea,last:xa},x=R[I];return I==="start-ellipsis"||I==="end-ellipsis"?a("div",{ref:t,className:$i(n.root,n.ellipsis,c&&n.disabled,g!=="medium"&&n["size".concat(vi(g))]),children:"\u2026"}):C(Pd,{ref:t,component:l,disabled:c,focusVisibleClassName:n.focusVisible,className:$i(n.root,n.page,n[u],n[h],i,o!=="standard"&&n["".concat(u).concat(vi(o))],c&&n.disabled,f&&n.selected,g!=="medium"&&n["size".concat(vi(g))]),..._,children:[I==="page"&&y,x?a(x,{className:n.icon}):null]})});const um=Oo(cm,{name:"MuiPaginationItem"})(dm),pm=window.React;var fm={root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}};function hm(r,e,t){return r==="page"?"".concat(t?"":"Go to ","page ").concat(e):"Go to ".concat(r," page")}var mm=pm.forwardRef(function(e,t){e.boundaryCount;var n=e.classes,i=e.className,s=e.color,o=s===void 0?"standard":s;e.count,e.defaultPage,e.disabled;var l=e.getItemAriaLabel,d=l===void 0?hm:l;e.hideNextButton,e.hidePrevButton,e.onChange,e.page;var c=e.renderItem,y=c===void 0?function(u){return a(um,{...u})}:c,m=e.shape,f=m===void 0?"round":m;e.showFirstButton,e.showLastButton,e.siblingCount;var S=e.size,h=S===void 0?"medium":S,p=e.variant,g=p===void 0?"text":p,w=Ts(e,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),I=om(Qr({},e,{componentName:"Pagination"})),b=I.items;return a("nav",{"aria-label":"pagination navigation",className:$i(n.root,i),ref:t,...w,children:a("ul",{className:n.ul,children:b.map(function(u,_){return a("li",{children:y(Qr({},u,{color:o,"aria-label":d(u.type,u.page,u.selected),shape:f,size:h,variant:g}))},_)})})})});const gm=Oo(fm,{name:"MuiPagination"})(mm),Gn=({info:r})=>a(L,{children:r&&C("p",{className:"SubmissionInfoCard",children:[a("strong",{children:" Project Lead: "})," ",a("span",{children:r.projectLead})," ",a("br",{}),a("strong",{children:" Institution: "})," ",a("span",{children:r.institution})," ",a("br",{}),a("strong",{children:" Data Access Request Submitted By: "})," ",a(ot,{ownerId:r.submittedBy,size:cn})," ",a("br",{}),C("strong",{children:[" ","Intended Data Use Statement (accepted on"," ",vo(oi(r.modifiedOn),"M/D/YYYY"),"):"]}),a("div",{children:r.intendedDataUseStatement}),r.accessorChanges&&r.accessorChanges.map(e=>C("div",{children:[a(ot,{ownerId:e.userId,size:cn})," ",e.type]},`${e.userId}-${e.type}`))]})}),Yt=()=>C("p",{className:"SubmissionInfoCard",children:[a(To,{numCols:1,numRows:4}),a(Fi,{variant:"rect",width:"100%",height:80})]});try{Gn.displayName="SubmissionInfoCard",Gn.__docgenInfo={description:"",displayName:"SubmissionInfoCard",props:{info:{defaultValue:null,description:"",name:"info",required:!0,type:{name:"SubmissionInfo"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/IDUReportSubmissionInfo.tsx#SubmissionInfoCard"]={docgenInfo:Gn.__docgenInfo,name:"SubmissionInfoCard",path:"src/lib/containers/IDUReportSubmissionInfo.tsx#SubmissionInfoCard"})}catch{}try{Yt.displayName="LoadingSubmissionInfoCard",Yt.__docgenInfo={description:"",displayName:"LoadingSubmissionInfoCard",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/IDUReportSubmissionInfo.tsx#LoadingSubmissionInfoCard"]={docgenInfo:Yt.__docgenInfo,name:"LoadingSubmissionInfoCard",path:"src/lib/containers/IDUReportSubmissionInfo.tsx#LoadingSubmissionInfoCard"})}catch{}const ym=window.React,bm=window.React.useEffect,Xn=r=>{var m;const{accessRequirementId:e}=r,{ref:t,inView:n}=Nt(),{data:i,status:s,isLoading:o,hasNextPage:l,isFetchingNextPage:d,fetchNextPage:c}=tu(e,{useErrorBoundary:!0});bm(()=>{s==="success"&&!d&&l&&c&&n&&c()},[s,l,d,c,n]);const y=(m=i==null?void 0:i.pages.flatMap(f=>f.results))!=null?m:[];return C(L,{children:[y.length>0&&C("div",{className:"IDUReport",children:[y.map(f=>C(ym.Fragment,{children:[a(Gn,{info:f}),a("hr",{})]},JSON.stringify(f))),a("div",{ref:t})]}),(o||d)&&C(L,{children:[a(Yt,{}),a(Yt,{})]})]})},Sm=Xn;try{Xn.displayName="IDUReport",Xn.__docgenInfo={description:"",displayName:"IDUReport",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/IDUReport.tsx#IDUReport"]={docgenInfo:Xn.__docgenInfo,name:"IDUReport",path:"src/lib/containers/IDUReport.tsx#IDUReport"})}catch{}function Jn(r){const{accessRestrictionId:e}=r;return a(Sm,{accessRequirementId:e})}try{Jn.displayName="MarkdownIDUReport",Jn.__docgenInfo={description:"",displayName:"MarkdownIDUReport",props:{accessRestrictionId:{defaultValue:null,description:"",name:"accessRestrictionId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownIDUReport.tsx#MarkdownIDUReport"]={docgenInfo:Jn.__docgenInfo,name:"MarkdownIDUReport",path:"src/lib/containers/markdown/widget/MarkdownIDUReport.tsx#MarkdownIDUReport"})}catch{}const Na=window.React;class Qt extends Na.Component{constructor(e){super(e),this.getEntity=this.getEntity.bind(this),this.getSynapseFiles=this.getSynapseFiles.bind(this),this.state={preSignedURL:""}}getEntity(){const{synapseId:e}=this.props;e&&ri(this.context.accessToken,e).then(t=>{const n=[{associateObjectId:e,associateObjectType:Te.FileEntity,fileHandleId:t.dataFileHandleId}];this.getSynapseFiles(n,t.dataFileHandleId)})}getSynapseFiles(e,t){It({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:e},this.context.accessToken).then(i=>{const{preSignedURL:s}=i.requestedFiles.filter(o=>o.fileHandleId===t)[0];this.setState({preSignedURL:s})}).catch(i=>{console.error("Error on getting image ",i)})}componentDidMount(){if(!this.props.wikiId)this.getEntity();else{const{fileName:e,fileResults:t=[]}=this.props,{id:n}=t.filter(s=>s.fileName===e)[0],i=[{associateObjectId:this.props.wikiId,associateObjectType:Te.WikiAttachment,fileHandleId:n}];this.getSynapseFiles(i,n)}}render(){const{params:e}=this.props,{align:t="",altText:n="synapse image"}=e;let i="auto";e.scale&&e.scale!=="100"&&(i=`${Number(e.scale)}%`);const s=t.toLowerCase();let o="";s==="left"&&(o="floatLeft"),s==="right"&&(o="floatright"),s==="center"&&(o="align-center");let l={width:i,height:i};return this.state.preSignedURL?a(Na.Fragment,{children:a("img",{alt:n,className:"img-fluid  "+o,src:this.state.preSignedURL,style:l})}):null}}Qt.contextType=Sn;const ka=Qt;try{Qt.displayName="SynapseImage",Qt.__docgenInfo={description:"",displayName:"SynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},fileResults:{defaultValue:null,description:"",name:"fileResults",required:!1,type:{name:"FileHandle[]"}},params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ align: string; scale: string; responsive: string; altText: string; }"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/SynapseImage.tsx#SynapseImage"]={docgenInfo:Qt.__docgenInfo,name:"SynapseImage",path:"src/lib/containers/widgets/SynapseImage.tsx#SynapseImage"})}catch{}const wm=window.React,Cm=window.React.useContext,St=wm.createContext(void 0),Zn=({children:r,wikiContext:e})=>a(St.Provider,{value:e,children:r}),qi=St.Consumer;function Ml(){const r=Cm(St);return r!=null?r:{}}try{St.displayName="SynapseWikiContext",St.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseWikiContext",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContext"]={docgenInfo:St.__docgenInfo,name:"SynapseWikiContext",path:"src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContext"})}catch{}try{Zn.displayName="SynapseWikiContextProvider",Zn.__docgenInfo={description:"Provides context related to Synapse Wikis",displayName:"SynapseWikiContextProvider",props:{wikiContext:{defaultValue:null,description:"",name:"wikiContext",required:!1,type:{name:"SynapseWikiContextType"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContextProvider"]={docgenInfo:Zn.__docgenInfo,name:"SynapseWikiContextProvider",path:"src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContextProvider"})}catch{}try{qi.displayName="SynapseWikiContextConsumer",qi.__docgenInfo={description:"",displayName:"SynapseWikiContextConsumer",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContextConsumer"]={docgenInfo:qi.__docgenInfo,name:"SynapseWikiContextConsumer",path:"src/lib/containers/markdown/SynapseWikiContext.tsx#SynapseWikiContextConsumer"})}catch{}function er(r){const{wikiId:e,wikiPage:t,fileHandles:n}=Ml();return r.fileName?n?a(ka,{params:r,fileName:r.fileName,wikiId:e||(t==null?void 0:t.id),fileResults:n.list}):a(L,{}):r.synapseId?a(ka,{params:r,synapseId:r.synapseId}):a(L,{})}try{er.displayName="MarkdownSynapseImage",er.__docgenInfo={description:"",displayName:"MarkdownSynapseImage",props:{wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},synapseId:{defaultValue:null,description:"",name:"synapseId",required:!1,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!1,type:{name:"string"}},align:{defaultValue:null,description:"",name:"align",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"string"}},responsive:{defaultValue:null,description:"",name:"responsive",required:!0,type:{name:"string"}},altText:{defaultValue:null,description:"",name:"altText",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownSynapseImage.tsx#MarkdownSynapseImage"]={docgenInfo:er.__docgenInfo,name:"MarkdownSynapseImage",path:"src/lib/containers/markdown/widget/MarkdownSynapseImage.tsx#MarkdownSynapseImage"})}catch{}const _m=window.React,vm=gd(yd);class Kt extends _m.Component{constructor(e){super(e),this.state={isLoaded:!1,queryData:{}},this.fetchPlotlyData=this.fetchPlotlyData.bind(this),this.showPlot=this.showPlot.bind(this)}componentDidMount(){this.fetchPlotlyData()}fetchPlotlyData(){const{query:e}=this.props.widgetparamsMapped,t={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:wn,entityId:Et(e),query:{sql:e}};io(t,this.context.accessToken).then(n=>{this.setState({isLoaded:!0,queryData:n})}).catch(n=>{console.log("Error on full table query ",n)})}showPlot(){var S,h,p,g;if(!this.state.isLoaded)return;const{title:e,xtitle:t,ytitle:n,type:i,xaxistype:s,showlegend:o}=this.props.widgetparamsMapped,l=this.state,d=this.props.widgetparamsMapped.horizontal.toLowerCase(),c={showlegend:o,title:e};t&&(c.xaxis={title:t}),s&&(c.xaxis={...c.xaxis,xaxistype:s.toLowerCase()}),n&&(c.yaxis={title:n});const y=[],m=d?"v":"h",f=(h=(S=l.queryData.queryResult)==null?void 0:S.queryResults.headers)!=null?h:[];for(let w=0;w<f.length-1;w+=1)y[w]={orientation:m,name:f[w+1].name,type:i.toLowerCase(),x:[],y:[]};for(const w of(g=(p=l.queryData.queryResult)==null?void 0:p.queryResults.rows)!=null?g:[])for(let I=1;I<w.values.length;I+=1){const b=w.values;y[I-1].x.push(b[0]),y[I-1].y.push(b[I])}return a(vm,{layout:c,data:y})}render(){return this.state.isLoaded?this.showPlot():null}}Kt.contextType=Sn;const Tm=Kt;try{Kt.displayName="SynapsePlot",Kt.__docgenInfo={description:"",displayName:"SynapsePlot",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},widgetparamsMapped:{defaultValue:null,description:"",name:"widgetparamsMapped",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/SynapsePlot.tsx#SynapsePlot"]={docgenInfo:Kt.__docgenInfo,name:"SynapsePlot",path:"src/lib/containers/widgets/SynapsePlot.tsx#SynapsePlot"})}catch{}function tr(r){const{ownerId:e,wikiId:t,wikiPage:n}=Ml();return a(Tm,{ownerId:e,wikiId:t||(n==null?void 0:n.id),widgetparamsMapped:r})}try{tr.displayName="MarkdownSynapsePlot",tr.__docgenInfo={description:"",displayName:"MarkdownSynapsePlot",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownSynapsePlot.tsx#MarkdownSynapsePlot"]={docgenInfo:tr.__docgenInfo,name:"MarkdownSynapsePlot",path:"src/lib/containers/markdown/widget/MarkdownSynapsePlot.tsx#MarkdownSynapsePlot"})}catch{}const Rm=200,La="ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME",Da="ESTIMATED_DOWNLOAD_SPEED",Am="syn12600511",Im=r=>new Promise((e,t)=>{const n=localStorage.getItem(La),i=localStorage.getItem(Da);if(n&&i&&new Date().getTime()<Number(n)){e(Number(i));return}ri(r,Am).then(s=>{const o=s,l=[{associateObjectId:o.id,associateObjectType:Te.FileEntity,fileHandleId:o.dataFileHandleId}];It({includeFileHandles:!0,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:l},r).then(c=>{const y=c.requestedFiles[0].preSignedURL,m=c.requestedFiles[0].fileHandle,f=new Date().getTime();return zl(m,y).then(()=>{const S=m.contentSize/((new Date().getTime()-f-Rm)/1e3),h=new Date().getTime();localStorage.setItem(La,(h+1e3*60*5).toString()),localStorage.setItem(Da,S.toString()),e(S)})})}).catch(s=>t(s))}),Em=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function Vl(r){if(!r)return"";const e=Math.floor(Math.log(r)/Math.log(1024));return!r&&"0 Bytes"||(r/Math.pow(1024,e)).toFixed(2)+" "+Em[e]}const xm=window.React.useState,Om=window.React.useEffect;function nr(r){const{numFiles:e,numBytes:t}=r,{accessToken:n}=X(),[i,s]=xm({isLoading:!!t,downloadSpeed:0}),{isLoading:o,downloadSpeed:l}=i;Om(()=>{n&&Im(n).then(h=>{s({isLoading:!1,downloadSpeed:h})})},[n]);const d=o||l===0||!t?0:t/l,c=d===0,y=c?"":oi.duration(d,"seconds").humanize(),m=e===0,f=m?"SRC-inactive":"SRC-primary-text-color",S=c?"SRC-inactive":"SRC-primary-text-color";return C("span",{className:"download-details-container",children:[C("span",{children:[a("span",{className:f,children:a(le,{options:{icon:"file"}})}),m?a(Ci,{width:50}):C(L,{children:[" ",e,"\xA0files "]})]}),t&&a(Xe,{title:"This is the total size of all files. Zipped package(s) will likely be smaller.",enterNextDelay:Yr,placement:"top",children:C("span",{"data-testid":"numBytesUI",children:[a("span",{className:S,children:a(le,{options:{icon:"database"}})}),c?a(Ci,{width:50}):Vl(t)]})}),t&&a(Xe,{title:"This is an estimate of how long package download will take.",enterNextDelay:Yr,placement:"top",children:C("span",{"data-testid":"downloadTimeEstimateUI",children:[a("span",{className:S,children:a(le,{options:{icon:"clock"}})}),o&&e>0?a(Ci,{width:50}):y]})})]})}try{nr.displayName="DownloadDetails",nr.__docgenInfo={description:`Displays download information including number of files, size of download, and time to download.
Prefer to use {@link download_list_v2 /DownloadDetails} instead, particularly when you have information about file packaging in/eligibility`,displayName:"DownloadDetails",props:{numFiles:{defaultValue:null,description:"",name:"numFiles",required:!0,type:{name:"number"}},numBytes:{defaultValue:null,description:"",name:"numBytes",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list/DownloadDetails.tsx#DownloadDetails"]={docgenInfo:nr.__docgenInfo,name:"DownloadDetails",path:"src/lib/containers/download_list/DownloadDetails.tsx#DownloadDetails"})}catch{}const qm=window.React.useCallback,$n=window.React.useState;async function Nm(r,e,t,n,i){try{const s={query:t==null?void 0:t.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:n};return await Ql(s,r),vt("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:i}}),e(),[0,""]}catch(s){return vt("danger",void 0,s.reason),e(),[0,""]}}const Gt={[2]:{className:"alert-info",infoText:"Would you like to add all files to the download cart?",closeText:"Cancel"},[3]:{className:"alert-info",infoText:C(L,{children:["Note: Files that you add will be mixed in with the files already in your download cart.",a("br",{}),"If you don\u2019t want to mix these files, clear your download cart before continuing."]}),closeText:"Cancel"},[1]:{className:"alert-info",infoText:"Adding Files To List",closeText:"Cancel"},[0]:{className:"alert-info",infoText:"Calculating File Size",closeText:"Cancel"},[4]:{className:"alert-danger",closeText:"Close",infoText:C(L,{children:["Please ",a(Yl,{style:{color:"#337ab7"}})," to add files to your download cart."]})}},km=r=>{switch(r.status){case 0:case 1:return C("div",{children:[a("span",{className:"spinner white"}),a("span",{className:"spinner__text",children:Gt[r.status].infoText})]});case 4:return a(L,{children:Gt[r.status].infoText});case 2:case 3:return C(L,{children:[a(nr,{numFiles:r.fileCount,numBytes:r.fileSize}),a("span",{className:"download-confirmation-infoText",children:Gt[r.status].infoText})]});default:return a(L,{})}},rr=({getLastQueryRequest:r,folderId:e,fnClose:t,setTopLevelControlsState:n,topLevelControlsState:i})=>{const{accessToken:s,downloadCartPageUrl:o}=X(),{showDownloadConfirmation:l=!0}=i!=null?i:{},[d,c]=$n(s?0:4),[y,m]=$n(0),[f,S]=$n(),{data:h,refetch:p}=_d(),g=r(),[w,I]=$n(!1),b=qm((P,M,v)=>{if(s&&v){const O=v.totalNumberOfFiles>0,N=P!=null?P:0;c(O?3:2),m(N),S(M)}},[s]),{data:u,isSuccess:_}=iu({parentId:e,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[qc.FILE]});Bi(()=>{_&&u&&h&&b(u.totalChildCount,u.sumFileSizesBytes,h)},[b,e,_,u,h]);const A=Cn|us,R={...g,partMask:A},{data:x}=so(R);Bi(()=>{var P,M;if(x&&h){const v=(P=x.sumFileSizes)==null?void 0:P.greaterThan;b(x.queryCount,v||(M=x.sumFileSizes)==null?void 0:M.sumFileSizesBytes,h)}},[b,g,x,h]);const E=t?()=>t():()=>{n&&n(P=>({...P,showDownloadConfirmation:!1}))},k=async()=>{if(!s)c(4);else{c(1);const v=(await Nm(s,E,g,e,()=>I(!0)))[0];c(v),p()}};w&&(window.location.href=o);const D=i==null?void 0:i.showFacetFilter;return a(L,{children:C(vn,{dismissible:!1,show:!0,variant:"info",transition:!1,className:`download-confirmation ${Gt[d].className} ${l?"":"hidden"}
          ${D?xt:Ot}
        `,children:[a(km,{status:d,fileCount:y,fileSize:f}),C("div",{className:"download-confirmation-action",children:[d!==1&&a("button",{className:"btn btn-link",onClick:E,children:Gt[d].closeText}),(d===2||d===3)&&a("button",{type:"button",className:"btn btn-primary",onClick:k,children:"Add"})]})]})})};try{rr.displayName="DownloadConfirmation",rr.__docgenInfo={description:"",displayName:"DownloadConfirmation",props:{fnClose:{defaultValue:null,description:"",name:"fnClose",required:!1,type:{name:"(() => void)"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},folderId:{defaultValue:null,description:"",name:"folderId",required:!1,type:{name:"string"}},topLevelControlsState:{defaultValue:null,description:"",name:"topLevelControlsState",required:!1,type:{name:"TopLevelControlsState"}},setTopLevelControlsState:{defaultValue:null,description:"",name:"setTopLevelControlsState",required:!1,type:{name:"Dispatch<SetStateAction<TopLevelControlsState>>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/download_list/DownloadConfirmation.tsx#DownloadConfirmation"]={docgenInfo:rr.__docgenInfo,name:"DownloadConfirmation",path:"src/lib/containers/download_list/DownloadConfirmation.tsx#DownloadConfirmation"})}catch{}const Pa=window.React;var Ma=function(e){return e.reduce(function(t,n){var i=n[0],s=n[1];return t[i]=s,t},{})},Va=typeof window<"u"&&window.document&&window.document.createElement?Pa.useLayoutEffect:Pa.useEffect;function Lm(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Ao(s)||!Io(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var l=i[o];l===!1?s.removeAttribute(o):s.setAttribute(o,l===!0?"":l)}))})}function Dm(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),l=o.reduce(function(d,c){return d[c]="",d},{});!Ao(i)||!Io(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(d){i.removeAttribute(d)}))})}}const Pm={name:"applyStyles",enabled:!0,phase:"write",fn:Lm,effect:Dm,requires:["computeStyles"]};var Mm=[Td,Rd,Ad,Pm,Id,Ed,xd,Od,qd],Vm=vd({defaultModifiers:Mm}),Fm=typeof Element<"u",Bm=typeof Map=="function",Um=typeof Set=="function",$m=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ir(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var t,n,i;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!ir(r[n],e[n]))return!1;return!0}var s;if(Bm&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(s=r.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;for(s=r.entries();!(n=s.next()).done;)if(!ir(n.value[1],e.get(n.value[0])))return!1;return!0}if(Um&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(s=r.entries();!(n=s.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if($m&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(r[n]!==e[n])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===e.toString();if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(Fm&&r instanceof Element)return!1;for(n=t;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&r.$$typeof)&&!ir(r[i[n]],e[i[n]]))return!1;return!0}return r!==r&&e!==e}var Hm=function(e,t){try{return ir(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const Bt=window.React,jm=window.ReactDOM;var Wm=[],zm=function(e,t,n){n===void 0&&(n={});var i=Bt.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Wm},o=Bt.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=o[0],d=o[1],c=Bt.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(S){var h=S.state,p=Object.keys(h.elements);jm.flushSync(function(){d({styles:Ma(p.map(function(g){return[g,h.styles[g]||{}]})),attributes:Ma(p.map(function(g){return[g,h.attributes[g]]}))})})},requires:["computeStyles"]}},[]),y=Bt.useMemo(function(){var f={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Hm(i.current,f)?i.current||f:(i.current=f,f)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,c]),m=Bt.useRef();return Va(function(){m.current&&m.current.setOptions(y)},[y]),Va(function(){if(!(e==null||t==null)){var f=n.createPopper||Vm,S=f(e,t,y);return m.current=S,function(){S.destroy(),m.current=null}}},[e,t,n.createPopper]),{state:m.current?m.current.state:null,styles:l.styles,attributes:l.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}};const Hn=window.React.useState,sr=({children:r,contentProps:e,placement:t,showCloseButton:n=!0,actionButton:i,strategy:s,style:o})=>{var I;t=t!=null?t:"bottom-start";const[l,d]=Hn(!1),[c,y]=Hn(null),[m,f]=Hn(null),[S,h]=Hn(null),{styles:p,attributes:g}=zm(c,m,{placement:t,strategy:s,modifiers:[{name:"arrow",options:{element:S}},{name:"offset",options:{offset:[0,10]}}]}),w=a(Ro,{in:l,timeout:200,classNames:"fade-in-out",mountOnEnter:!0,children:C("div",{className:"Tooltip SRC-popover bootstrap-4-backport",style:{...o,...p.popper},ref:f,...g.popper,children:[a(qt,{variant:"body1",children:a(Ie,{...e})}),C("div",{className:"TooltipButtonContainer",children:[i&&a(ce,{variant:(I=i.variant)!=null?I:"primary-500",className:"pill",onClick:()=>{i.onClick(),i.closePopoverOnClick&&d(!1)},children:i.content}),n&&a(ce,{variant:"light",className:"pill",onClick:()=>d(!1),children:"Close"})]}),a("div",{className:"arrow","data-popper-arrow":!0,ref:h,style:p.arrow})]})});return C(L,{children:[a("span",{role:"button",className:"PopoverContainer bootstrap-4-backport",onClick:()=>d(b=>!b),ref:y,children:r}),w]})};try{sr.displayName="MarkdownPopover",sr.__docgenInfo={description:"",displayName:"MarkdownPopover",props:{contentProps:{defaultValue:null,description:"",name:"contentProps",required:!0,type:{name:"MarkdownSynapseProps"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},actionButton:{defaultValue:null,description:"",name:"actionButton",required:!1,type:{name:"{ content: ReactElement<any, string | JSXElementConstructor<any>>; variant: string; onClick: () => void; closePopoverOnClick: boolean; }"}},strategy:{defaultValue:null,description:"",name:"strategy",required:!1,type:{name:"enum",value:[{value:'"absolute"'},{value:'"fixed"'}]}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/MarkdownPopover.tsx#MarkdownPopover"]={docgenInfo:sr.__docgenInfo,name:"MarkdownPopover",path:"src/lib/containers/MarkdownPopover.tsx#MarkdownPopover"})}catch{}const it=({markdownText:r,helpUrl:e,placement:t="bottom",showCloseButton:n=!0,className:i=""})=>a(L,{children:a(sr,{contentProps:{markdown:r},placement:t,actionButton:e?{content:a(L,{children:"More info"}),closePopoverOnClick:!0,onClick:()=>window.open(e,"_blank"),variant:"primary"}:void 0,showCloseButton:n,strategy:"fixed",style:{maxWidth:"350px"},children:a(Sd,{className:`HelpButton ${i}`})})});try{it.displayName="HelpPopover",it.__docgenInfo={description:"",displayName:"HelpPopover",props:{markdownText:{defaultValue:null,description:"",name:"markdownText",required:!0,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},showCloseButton:{defaultValue:{value:"true"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/HelpPopover.tsx#HelpPopover"]={docgenInfo:it.__docgenInfo,name:"HelpPopover",path:"src/lib/containers/HelpPopover.tsx#HelpPopover"})}catch{}const Ym=window.React.useRef,Qm=window.React.useState,Ni=3,Xt=({helpMessage:r="This search bar is powered by MySQL Full Text Search.",helpUrl:e})=>{const{executeQueryRequest:t,getLastQueryRequest:n}=$e(),{topLevelControlsState:{showSearchBar:i,showFacetFilter:s}}=_n(),[o,l]=Qm(""),d=Ym(null),c=m=>{var f;if(m.preventDefault(),o.trim().length<Ni)(f=d.current)==null||f.setCustomValidity(`Search term must have a minimum of ${Ni} characters`);else{const S=n(),{additionalFilters:h=[]}=S.query,p={concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:o};if(h.find(w=>w.concreteType==p.concreteType&&w.searchExpression==p.searchExpression))return;h.push(p),S.query.additionalFilters=h,t(S),l("")}},y=m=>{var f;(f=d.current)==null||f.setCustomValidity(""),l(m.currentTarget.value)};return a("div",{className:`QueryWrapperSearchInput ${s?xt:Ot}`,children:a(vs,{in:i,timeout:{enter:300,exit:300},children:C("div",{className:"QueryWrapperSearchInput__helppopoverwrapper",children:[C("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:c,children:[a("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:a(le,{options:{icon:"search"}})}),a("input",{ref:d,minLength:Ni,onChange:y,placeholder:"Enter Search Terms",value:o,type:"text"}),o.length>0&&a("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{l("")},children:a(le,{options:{icon:"close"}})})]}),a("div",{className:"QueryWrapperSearchInput__helppopover",children:a(it,{markdownText:r,helpUrl:e,placement:"left"})})]})})})};try{Xt.displayName="FullTextSearch",Xt.__docgenInfo={description:"",displayName:"FullTextSearch",props:{helpMessage:{defaultValue:{value:"This search bar is powered by MySQL Full Text Search."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/FullTextSearch.tsx#FullTextSearch"]={docgenInfo:Xt.__docgenInfo,name:"FullTextSearch",path:"src/lib/containers/FullTextSearch.tsx#FullTextSearch"})}catch{}const as="First line is the columns names.",os="Include row metadata (Row Id and Row Version).",ni="Comma Separated Values (CSV)",Fa="Tab Separated Values (TSV)",Km={title:"Download query results",type:"object",properties:{"File Type":{type:"string",oneOf:[{const:ni,title:ni},{const:Fa,title:Fa}]},Contents:{type:"array",title:"Contents",items:{type:"string",enum:[as,os]},uniqueItems:!0}}},Gm={"File Type":{"ui:widget":"radio"},Contents:{"ui:widget":"checkboxes"}},Xm={title:"Download query results",description:"File is ready for download. Select the download button to download the file.",type:"object"},Jm={},Zm=[Km,Xm],eg=[Gm,Jm],tg=window.React;class st extends tg.Component{constructor(e){super(e),this.handleSubmit=t=>{this.state.step===0?this.handleDownloadSetup(t):this.onDownload()},this.handleDownloadSetup=t=>{this.setState({isLoading:!0});const{formData:n}=t,i=n["File Type"],s=n.Contents,{queryBundleRequest:o,getLastQueryRequest:l}=this.props,d=i===ni?",":"	",c=s.includes(as),y=s.includes(os),m=o!=null?o:l(),f=m.query.sql,S={sql:f,entityId:Et(f),selectedFacets:m.query.selectedFacets,concreteType:"org.sagebionetworks.repo.model.table.DownloadFromTableRequest",writeHeader:c,includeRowIdAndRowVersion:y,csvTableDescriptor:{separator:d},additionalFilters:m.query.additionalFilters};Kl(S,this.context.accessToken).then(h=>{this.setState({isLoading:!1,step:1,data:h})}).catch(h=>{console.log("Error getDownloadFromTableRequest: ",h)})},this.onDownload=()=>{const{data:t}=this.state;Gl(t.resultsFileHandleId,this.context.accessToken).then(n=>{window.location.href=n,this.props.onClose()})},this.handleChange=t=>{const{formData:n}=t;this.setState({formData:n})},this.state={isLoading:!1,step:0,formData:{"File Type":ni,Contents:[as,os]}}}render(){const e={position:"absolute",top:10,right:10,zIndex:10},t={height:50,width:50,backgroundSize:50};return a(Q,{animation:!1,show:!0,onHide:this.props.onClose,backdrop:"static",children:C(Q.Body,{children:[a("button",{style:e,onClick:this.props.onClose,children:a(le,{options:{icon:"close"}})}),C(hd,{schema:Zm[this.state.step],uiSchema:eg[this.state.step],onChange:this.handleChange,formData:this.state.formData,onSubmit:this.handleSubmit,children:[this.state.isLoading&&a("div",{className:"SRC-centerAndJustifyContent",children:C("div",{className:"SRC-center-text",children:[a("p",{children:" Creating the File "}),a("div",{style:t,className:"spinner"}),a("p",{children:" Loading... "})]})}),C("div",{style:{textAlign:"right"},children:[a(ce,{variant:"default",onClick:this.props.onClose,style:{marginRight:"5px"},children:"Cancel"}),a(ce,{type:"submit",variant:"primary",children:this.state.step===0?"Next":"Download"})]})]})]})})}}st.contextType=Sn;try{st.displayName="ModalDownload",st.__docgenInfo={description:"",displayName:"ModalDownload",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(...args: any[]) => void"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!1,type:{name:"QueryBundleRequest"}},getLastQueryRequest:{defaultValue:null,description:"",name:"getLastQueryRequest",required:!1,type:{name:"(() => QueryBundleRequest)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/ModalDownload.tsx#ModalDownload"]={docgenInfo:st.__docgenInfo,name:"ModalDownload",path:"src/lib/containers/ModalDownload.tsx#ModalDownload"})}catch{}const ng=window.React.useEffect,ki=window.React.useMemo,Ba=window.React.useState;function Jt(r){const{initQueryRequest:e,onQueryChange:t,onQueryResultBundleChange:n,lockedColumn:i,componentIndex:s,shouldDeepLink:o}=r,[l,d]=Ba(void 0),{entityId:c,versionNumber:y,getInitQueryRequest:m,getLastQueryRequest:f,setQuery:S}=Bc({initQueryRequest:e,componentIndex:s,shouldDeepLink:o,onQueryChange:t}),h=ki(()=>f(),[f]),{data:p,hasNextPage:g,fetchPreviousPage:w,fetchNextPage:I,isFetchingNextPage:b,isLoading:u,error:_,isPreviousData:A}=Xl(h,{keepPreviousData:!0},d),R=u||A,{data:x}=ps(c,y),[E,k]=Ba(0);async function D(){if(!g)throw new Error("Called appendNextPageToResults when there is no next page");await I(),k("ALL")}async function P(){if(!g)throw new Error("Called goToNextPage when there is no next page");if(E==="ALL")throw new Error("Cannot go to next page when all pages are displayed");await I(),k(E+1)}const M=E!=="ALL"&&E>0;async function v(){if(E==="ALL")throw new Error("Cannot go to previous page when all pages are displayed");if(!M)throw new Error("Called goToNextPage when there is no next page");await w(),k(E-1)}const O=ki(()=>{var B,se,T,q;if(!(p==null||p.pages.length===0||p.pages[0].responseBody==null))return E==="ALL"?{...p==null?void 0:p.pages[0].responseBody,queryResult:{...(B=p==null?void 0:p.pages[0].responseBody)==null?void 0:B.queryResult,queryResults:{...(T=(se=p==null?void 0:p.pages[0].responseBody)==null?void 0:se.queryResult)==null?void 0:T.queryResults,rows:(q=p.pages.flatMap(V=>{var U;return(U=V.responseBody.queryResult)==null?void 0:U.queryResults.rows}))!=null?q:[]}}}:p==null?void 0:p.pages[E].responseBody},[E,p]);ng(()=>{O&&n&&n(JSON.stringify(O))},[O,n]);const N=O?ed(O.facets,O.selectColumns):!0,J={data:ki(()=>td(O,i),[O,i]),isLoadingNewPage:b,hasNextPage:!!g,hasPreviousPage:!!M,isLoadingNewBundle:R,getLastQueryRequest:f,getInitQueryRequest:m,error:_,entity:x,executeQueryRequest:S,isFacetsAvailable:N,asyncJobStatus:l,appendNextPageToResults:D,goToNextPage:P,goToPreviousPage:v},{children:Z}=r;return a(Uc,{queryContext:J,children:a("div",{className:`SRC-wrapper ${R||b?"SRC-logo-cursor":""} ${N?"has-facets":""}`,children:Z})})}try{Jt.displayName="InfiniteQueryWrapper",Jt.__docgenInfo={description:"Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\neither `useQueryContext` or `QueryContextConsumer`.",displayName:"InfiniteQueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/InfiniteQueryWrapper.tsx#InfiniteQueryWrapper"]={docgenInfo:Jt.__docgenInfo,name:"InfiniteQueryWrapper",path:"src/lib/containers/InfiniteQueryWrapper.tsx#InfiniteQueryWrapper"})}catch{}const Li=window.React;class Zt extends Li.Component{constructor(e){var t;super(e),this.handleClickOutsideForm=n=>{var i,s;!((i=this.searchFormRef.current)!=null&&i.contains(n==null?void 0:n.target))&&!((s=this.radioFormRef.current)!=null&&s.contains(n==null?void 0:n.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))},this.search=n=>{var S,h,p,g,w,I,b;n.preventDefault();const{searchText:i}=this.state;let{columnName:s}=this.state;const{searchable:o,lockedColumn:l}=this.props;if(s==="")if(o)s=o.filter(u=>u!==(l==null?void 0:l.columnName))[0];else{const u=(p=(h=(S=this.props.queryContext)==null?void 0:S.data)==null?void 0:h.columnModels)==null?void 0:p.filter(_=>_.name!==(l==null?void 0:l.columnName)).filter(_=>this.isSupportedColumn(_));s=(g=u==null?void 0:u[0].name)!=null?g:""}this.setState({show:!1});const{executeQueryRequest:d,getLastQueryRequest:c}=this.props.queryContext,y=c(),{additionalFilters:m=[]}=y.query,f=m.findIndex(u=>!!($c(u)||Hc(u)&&u.columnName===s));if(f===-1){const u=(b=(I=(w=this.props.queryContext)==null?void 0:w.data)==null?void 0:I.columnModels)==null?void 0:b.filter(_=>_.name===s)[0];if(u!=null&&u.columnType.endsWith("_LIST")){const _={columnName:s,function:jc.HAS_LIKE,values:[`%${i}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};m.push(_)}else{const _={columnName:s,operator:Wc.LIKE,values:[`%${i}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};m.push(_)}}else m[f].values.push(`%${i}%`);y.query.additionalFilters=m,d(y)},this.handleChange=n=>{this.setState({searchText:n.currentTarget.value})},this.isSupportedColumn=n=>{switch(n==null?void 0:n.columnType){case j.FILEHANDLEID:case j.ENTITYID:case j.DATE:case j.DATE_LIST:case j.USERID:return!1;default:return!0}},this.isSupportedColumnAndInProps=n=>{if(this.isSupportedColumn(n)){const{searchable:i}=this.props;return i==null?void 0:i.some(s=>s===(n==null?void 0:n.name))}return!1},this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:(t=this.props.defaultColumn)!=null?t:""},this.searchFormRef=Li.createRef(),this.radioFormRef=Li.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(e){var t,n,i,s,o;!((t=e.queryVisualizationContext)!=null&&t.topLevelControlsState.showSearchBar)&&((n=this.props.queryVisualizationContext)==null?void 0:n.topLevelControlsState.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(o=(s=(i=this.searchFormRef)==null?void 0:i.current)==null?void 0:s.querySelector("input"))==null||o.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){var m;const{searchable:e,lockedColumn:t,queryContext:{data:n},queryVisualizationContext:{topLevelControlsState:i,facetAliases:s}}=this.props,{searchText:o,show:l,columnName:d}=this.state;let c=[];e?c=e.map(f=>{var S;return(S=n==null?void 0:n.columnModels)==null?void 0:S.find(h=>h.name===f)}).filter(this.isSupportedColumnAndInProps).map(f=>f.name):n!=null&&n.columnModels&&(c=(m=n.columnModels)==null?void 0:m.filter(this.isSupportedColumn).map(f=>f.name)),c.length&&(t==null?void 0:t.columnName)&&(c=c.filter(f=>f!==(t==null?void 0:t.columnName)));const y=i==null?void 0:i.showFacetFilter;return C("div",{className:`QueryWrapperSearchInput ${y?xt:Ot}`,children:[a(vs,{in:i==null?void 0:i.showSearchBar,children:C("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[a("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:a(le,{options:{icon:"search"}})}),a("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:o,type:"text"}),this.state.searchText.length>0&&a("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:a(le,{options:{icon:"close"}})})]})}),a("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:a(Ro,{in:l,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:C("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[a("p",{className:"deemphasized",children:a("i",{children:" Search In Field: "})}),c.map((f,S)=>{const h=Ye(f,s);return a("div",{className:"radio",children:a("label",{children:C("span",{children:[a("input",{id:f,type:"radio",value:f,checked:d===""&&S===0||d===f,onClick:()=>{var g,w,I;(I=(w=(g=this.searchFormRef)==null?void 0:g.current)==null?void 0:w.querySelector("input"))==null||I.focus(),this.setState({columnName:f})}}),a("span",{children:h})]})})},`search-field-${f}-${S}`)})]})})})]})}}try{Zt.displayName="Search",Zt.__docgenInfo={description:"",displayName:"Search",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},fullTextSearchHelpURL:{defaultValue:null,description:"",name:"fullTextSearchHelpURL",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/SearchV2.tsx#Search"]={docgenInfo:Zt.__docgenInfo,name:"Search",path:"src/lib/containers/SearchV2.tsx#Search"})}catch{}const rg=window.React.useEffect,ig=window.React.useRef,sg=window.React.useState,ag="The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.",og="https://help.synapse.org/docs/Searching-Tables-and-Views.2009596168.html#SearchingTablesandViews-UsingAdvancedSearchQueries",en=({helpMessage:r=ag,helpUrl:e=og})=>{const{executeQueryRequest:t,getLastQueryRequest:n}=$e(),{topLevelControlsState:{showSqlEditor:i,showFacetFilter:s}}=_n(),[o,l]=sg(""),d=ig(null);rg(()=>{var m;if(i){const f=n().query.sql;l(f),(m=d.current)==null||m.focus()}},[i,n]);const c=m=>{m.preventDefault();const f=n();f.query.sql=o,f.query.offset=0,f.query.additionalFilters=[],f.query.selectedFacets=[],t(f)},y=m=>{var f;(f=d.current)==null||f.setCustomValidity(""),l(m.currentTarget.value)};return a("div",{className:`QueryWrapperSqlEditorInput ${s?xt:Ot}`,children:a(vs,{in:i,timeout:{enter:300,exit:300},children:C("div",{className:"QueryWrapperSqlEditorInput__helppopoverwrapper",children:[C("form",{className:"QueryWrapperSqlEditorInput__searchbar",onSubmit:c,children:[a(wd,{className:"QueryWrapperSqlEditorInput__searchbar__searchicon"}),a("input",{ref:d,onChange:y,placeholder:"Enter Query",value:o,type:"text"})]}),a("div",{className:"QueryWrapperSqlEditorInput__helppopover",children:a(it,{markdownText:r,helpUrl:e,placement:"right"})})]})})})};try{en.displayName="SqlEditor",en.__docgenInfo={description:"",displayName:"SqlEditor",props:{helpMessage:{defaultValue:{value:"The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients."},description:"",name:"helpMessage",required:!1,type:{name:"string"}},helpUrl:{defaultValue:{value:"https://help.synapse.org/docs/Searching-Tables-and-Views.2009596168.html#SearchingTablesandViews-UsingAdvancedSearchQueries"},description:"",name:"helpUrl",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/SqlEditor.tsx#SqlEditor"]={docgenInfo:en.__docgenInfo,name:"SqlEditor",path:"src/lib/containers/SqlEditor.tsx#SqlEditor"})}catch{}const ar=r=>C(Q,{animation:!1,show:!0,onHide:()=>r.onHide(),backdrop:"static",children:[a(Q.Header,{closeButton:!0,children:a("span",{style:{fontWeight:"bold",color:"#515359",fontSize:"1.5em"},children:"Sign In Required"})}),C(Nd,{children:[a("p",{children:"Anyone can browse public content on the Synapse website, but in order to download and create content you will need to register for an account using an email address."}),C("p",{children:["To find out more see\xA0",a("a",{href:"https://help.synapse.org/docs/Managing-your-account.2055405596.html",target:"_blank",rel:"noopener noreferrer",children:"User Accounts"}),a("span",{children:" and "}),a("a",{href:"https://help.synapse.org/docs/Synapse-Governance.2004255211.html",rel:"noopener noreferrer",target:"_blank",children:"Governance Overview"}),"."]})]}),C(kd,{children:[a(ce,{variant:"secondary",onClick:()=>r.onHide(),children:"CANCEL"}),a(ce,{className:"SRC-SIGN-IN-CLASS",variant:"primary",onClick:()=>r.onHide(),children:"Sign in"})]})]});try{ar.displayName="DownloadLoginModal",ar.__docgenInfo={description:"",displayName:"DownloadLoginModal",props:{showModal:{defaultValue:null,description:"",name:"showModal",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/table-top/DownloadLoginModal.tsx#DownloadLoginModal"]={docgenInfo:ar.__docgenInfo,name:"DownloadLoginModal",path:"src/lib/containers/table/table-top/DownloadLoginModal.tsx#DownloadLoginModal"})}catch{}const lg=window.React.useState,or=({show:r,title:e,onClose:t,pythonNotes:n,pythonCode:i,rNotes:s,rCode:o,cliNotes:l,cliCode:d,helpMarkdown:c,helpUrl:y})=>{let m;d?m="Command Line":i?m="Python":m="R";const[f,S]=lg(m),h=C("p",{children:["Installation instructions are available at our"," ",a("a",{className:"ProgrammaticOptions__docslink",href:"https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html",target:"_blank",rel:"noopener noreferrer",children:"Synapse API Documentation Site"}),"."]});return C(Q,{className:"bootstrap-4-backport ProgrammaticOptions",backdrop:"static",animation:!1,show:r,onHide:t,size:"lg",children:[a(Q.Header,{closeButton:!0,children:C(Q.Title,{children:[e,"\xA0",c&&a(it,{markdownText:c,helpUrl:y})]})}),C(Q.Body,{children:[C("div",{className:"Tabs",children:[d&&a("div",{className:"Tab",role:"tab",onClick:p=>{p.stopPropagation(),S("Command Line")},"aria-selected":f==="Command Line",children:"Command Line"}),o&&a("div",{className:"Tab",role:"tab",onClick:p=>{p.stopPropagation(),S("R")},"aria-selected":f==="R",children:"R"}),i&&a("div",{className:"Tab",role:"tab",onClick:p=>{p.stopPropagation(),S("Python")},"aria-selected":f==="Python",children:"Python"})]}),C("div",{className:"TabContent",children:[f==="Command Line"&&C(L,{children:[a("p",{children:l}),h,C("pre",{children:[" ",d," "]})]}),f==="R"&&C(L,{children:[a("p",{children:s}),h,a("pre",{children:o})]}),f==="Python"&&C(L,{children:[a("p",{children:n}),h,a("pre",{children:i})]})]})]}),a(Q.Footer,{children:a(ce,{variant:"primary",onClick:t,children:"OK"})})]})};try{or.displayName="ProgrammaticInstructionsModal",or.__docgenInfo={description:"Modal used to show programmatic instructions",displayName:"ProgrammaticInstructionsModal",props:{show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},pythonNotes:{defaultValue:null,description:"",name:"pythonNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},pythonCode:{defaultValue:null,description:"",name:"pythonCode",required:!1,type:{name:"string"}},rNotes:{defaultValue:null,description:"",name:"rNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rCode:{defaultValue:null,description:"",name:"rCode",required:!1,type:{name:"string"}},cliNotes:{defaultValue:null,description:"",name:"cliNotes",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},cliCode:{defaultValue:null,description:"",name:"cliCode",required:!1,type:{name:"string"}},helpMarkdown:{defaultValue:null,description:"",name:"helpMarkdown",required:!1,type:{name:"string"}},helpUrl:{defaultValue:null,description:"",name:"helpUrl",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/ProgrammaticInstructionsModal.tsx#ProgrammaticInstructionsModal"]={docgenInfo:or.__docgenInfo,name:"ProgrammaticInstructionsModal",path:"src/lib/containers/ProgrammaticInstructionsModal.tsx#ProgrammaticInstructionsModal"})}catch{}const Ua=window.React.useMemo,cg=window.React.useState;function lr({queryBundleRequest:r,queryResultBundle:e,onHide:t}){const[n,i]=cg("");Bi(()=>{(async()=>{const{query:d}=r,{sql:c,selectedFacets:y=[]}=d,{columnModels:m}=e;m||console.error("Column Models must be included to complete transform sql request");const f={concreteType:"org.sagebionetworks.repo.model.table.TransformSqlWithFacetsRequest",sqlToTransform:c,selectedFacets:y,schema:m};try{const S=await Jl(f),h=S.transformedSql.toUpperCase().indexOf("FROM SYN"),p=`SELECT * ${S.transformedSql.substring(h)}`;i(p)}catch(S){console.error("Error on getTransformSqlWithFacetsRequest ",S)}})()},[r,e]);const s=Ua(()=>n.replace(/(["`])/g,"\\$1"),[n]),o=Ua(()=>n.replace(/"/g,'\\"'),[n]);return a(or,{show:!0,onClose:t,title:"Download Programmatically",cliNotes:a(L,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${s}"`,rNotes:C(L,{children:["This R code will download file annotations only. Use"," ",C("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`query <- synTableQuery("${o}")
read.table(query$filepath, sep = ",")`,pythonNotes:C(L,{children:["This Python code will download file annotations only. Use"," ",a("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`query = syn.tableQuery("${o}")
query.asDataFrame()`})}try{lr.displayName="ProgrammaticOptions",lr.__docgenInfo={description:"",displayName:"ProgrammaticOptions",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},queryResultBundle:{defaultValue:null,description:"",name:"queryResultBundle",required:!0,type:{name:"QueryResultBundle"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/table-top/ProgrammaticTableDownload.tsx#ProgrammaticOptions"]={docgenInfo:lr.__docgenInfo,name:"ProgrammaticOptions",path:"src/lib/containers/table/table-top/ProgrammaticTableDownload.tsx#ProgrammaticOptions"})}catch{}const jn=window.React,dg="Add To Download Cart",ug="download",cr=r=>{const{accessToken:e}=X(),{entity:t,data:n,getLastQueryRequest:i}=$e(),s=i(),[o,l]=jn.useState(!1),[d,c]=jn.useState(!1),[y,m]=jn.useState(!1),{onDownloadFiles:f,darkTheme:S=!0}=r,h=t&&(gt(t)&&Nc(t)||_t(t)),p=t&&_t(t)&&t.isLatestVersion;return C(jn.Fragment,{children:[C(ze,{as:"span",children:[a(si,{idForToolTip:ug,tooltipText:"Download Options",size:"lg",darkTheme:S,icon:"download"}),C(ze.Menu,{className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:[a(ze.Item,{onClick:()=>{c(!0)},children:"Export Table"}),h&&a(Xe,{title:"A draft version of a dataset cannot be added to the Download Cart",placement:"left",enterNextDelay:300,disableHoverListener:!p,children:a(ze.Item,{className:p?"ignoreLink":void 0,disabled:p,style:p?{pointerEvents:"auto"}:{},onClick:()=>e?f():l(!0),children:dg})}),a(Xe,{title:"A draft version of a dataset cannot be downloaded programmatically",placement:"left",enterNextDelay:300,disableHoverListener:!p,children:a(ze.Item,{className:p?"ignoreLink":void 0,disabled:p,style:p?{pointerEvents:"auto"}:{},onClick:()=>m(!0),children:"Programmatic Options"})})]})]}),o&&a(ar,{showModal:o,onHide:()=>l(!1)}),d&&a(st,{onClose:()=>c(!1),queryBundleRequest:s}),y&&n&&a(lr,{onHide:()=>m(!1),queryBundleRequest:s,queryResultBundle:n})]})};try{cr.displayName="DownloadOptions",cr.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/table-top/DownloadOptions.tsx#DownloadOptions"]={docgenInfo:cr.__docgenInfo,name:"DownloadOptions",path:"src/lib/containers/table/table-top/DownloadOptions.tsx#DownloadOptions"})}catch{}const pg=window.React.useState,$a="addAndRemoveColumns",dr=r=>{const{headers:e,isColumnSelected:t,toggleColumnSelection:n,darkTheme:i,facetAliases:s}=r,[o,l]=pg(!1),d=(c,y,m)=>{m.source==="rootClose"?l(!1):l(!0)};return C(ze,{as:"span",onToggle:(c,y,m)=>d(c,y,m),show:o,drop:"down",children:[a(si,{idForToolTip:$a,tooltipText:"Show/Hide Columns",icon:i?"columnsdark":"columns",darkTheme:i}),a(ze.Menu,{id:`${$a}-dropdown`,className:"SRC-primary-color-hover-dropdown",alignRight:!0,children:e==null?void 0:e.map(c=>{const{name:y}=c,m=t.includes(y),f={width:"11px",marginRight:"10px",visibility:m?void 0:"hidden"},S=m?"SRC-primary-text-color":"";return C(ze.Item,{onClick:()=>n(y),children:[a("span",{className:S,style:f,children:a(le,{options:{icon:"check",size:"14px"}})}),Ye(y,s)]},y)})})]})};try{dr.displayName="ColumnSelection",dr.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},show:{defaultValue:null,description:"",name:"show",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/table-top/ColumnSelection.tsx#ColumnSelection"]={docgenInfo:dr.__docgenInfo,name:"ColumnSelection",path:"src/lib/containers/table/table-top/ColumnSelection.tsx#ColumnSelection"})}catch{}const fg="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",hg="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.",ur=({entity:r})=>{var i,s;const e=r&&_t(r),t={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${r.id}${!r.isLatestVersion&&r.versionNumber?`.${r.versionNumber}`:""}`},entityId:r.id,partMask:Cn},{data:n}=so(t,{enabled:e});if(e&&n&&r){const o=n.queryCount,l=(s=(i=r.items)==null?void 0:i.length)!=null?s:0;if(o===l)return a(L,{});const d=l-o;let c="";return r.isLatestVersion?c=fg:c=hg,C(qt,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[a(Jd,{className:"SRC-color-warning",style:{fontSize:"16px"}}),d.toLocaleString()+" Unavailable",a(it,{className:"SRC-margin-left-5",markdownText:c,placement:"right"})]})}else return a(L,{})};try{ur.displayName="MissingQueryResultsWarning",ur.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/MissingQueryResultsWarning.tsx#MissingQueryResultsWarning"]={docgenInfo:ur.__docgenInfo,name:"MissingQueryResultsWarning",path:"src/lib/containers/MissingQueryResultsWarning.tsx#MissingQueryResultsWarning"})}catch{}const mg=window.React,gg=[{icon:"search",key:"showSearchBar",tooltipText:"Show / Hide Search Bar"},{icon:"chart",key:"showFacetVisualization",tooltipText:"Show / Hide Visualizations"},{icon:"download",key:"showDownloadConfirmation",tooltipText:"Show options for download"},{icon:Zl,key:"showSqlEditor",tooltipText:"Show / Hide the Advanced Query Editor"}],tn=r=>{const{name:e,showColumnSelection:t=!1,hideDownload:n=!1,hideVisualizationsControl:i=!1,hideFacetFilterControl:s=!1,hideQueryCount:o=!1,hideSqlEditorControl:l=!0,customControls:d}=r,{data:c,entity:y,executeQueryRequest:m,getLastQueryRequest:f,getInitQueryRequest:S}=$e(),{topLevelControlsState:h,setTopLevelControlsState:p,columnsToShowInTable:g,selectedRowIndices:w,facetAliases:I,setColumnsToShowInTable:b}=_n(),u=x=>{const E={[x]:!h[x]};x==="showSearchBar"&&(E.showDownloadConfirmation=!1),x==="showDownloadConfirmation"&&(E.showSearchBar=!1),p(k=>({...k,...E}))},_=()=>{m(f())},A=x=>{let E=yt(g);E.includes(x)?E=E.filter(k=>k!==x):E.push(x),b(E)},R=h==null?void 0:h.showFacetFilter;return a("div",{className:`TopLevelControls ${R?xt:Ot}`,"data-testid":"TopLevelControls",children:C("div",{children:[C("div",{className:"TopLevelControls__querycount",children:[e&&C(L,{children:[C(qt,{variant:"sectionTitle",role:"heading",children:[e," ",!o&&a(Ld,{sql:S().query.sql,parens:!0})]}),!o&&y&&a(ur,{entity:y})]}),!s&&C("a",{onClick:()=>u("showFacetFilter"),className:"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover",children:[a(ai,{type:h.showFacetFilter?"close":"filter"}),C("span",{className:"TopLevelControls__querycount__facetFilterLink__text",children:[h.showFacetFilter?"Hide":"Show"," ","filters"]})]})]}),C("div",{className:"TopLevelControls__actions",children:[d&&d.map(x=>{var E;return C("button",{className:`btn SRC-roundBorder SRC-primary-background-color SRC-whiteText ${(E=x.classNames)!=null?E:""}`,style:{marginRight:"5px"},type:"button",onClick:()=>x.onClick({data:c,selectedRowIndices:w,refresh:_}),children:[x.icon,"\xA0",x.buttonText]},x.buttonText)}),gg.map(x=>{const{key:E,icon:k,tooltipText:D}=x;return E==="showDownloadConfirmation"&&n||E==="showFacetVisualization"&&i||E==="showSqlEditor"&&l?a(mg.Fragment,{},E):E==="showDownloadConfirmation"?a(cr,{darkTheme:!0,onDownloadFiles:()=>u(E)},E):a(si,{idForToolTip:E,tooltipText:D,callbackFn:()=>u(E),darkTheme:!0,icon:k},E)}),t&&a(dr,{headers:c==null?void 0:c.selectColumns,isColumnSelected:g,toggleColumnSelection:A,darkTheme:!0,facetAliases:I})]})]})})};try{tn.displayName="TopLevelControls",tn.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/TopLevelControls.tsx#TopLevelControls"]={docgenInfo:tn.__docgenInfo,name:"TopLevelControls",path:"src/lib/containers/table/TopLevelControls.tsx#TopLevelControls"})}catch{}var Fl={exports:{}};(function(r,e){(function(n,i){r.exports=i()})($,function(){return(()=>{var t={67:(s,o,l)=>{l.r(o),l.d(o,{default:()=>h});var d=l(887),c=l.n(d);function y(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function m(p,g,w){return g in p?Object.defineProperty(p,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[g]=w,p}var f,S=(f=0,function(){return f++}),h=function p(g){var w=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y(this,p),m(this,"ID","id"),m(this,"PX","px"),m(this,"RESIZABLE","grip-resizable"),m(this,"FLEX","grip-flex"),m(this,"legacyIE",navigator.userAgent.indexOf("Trident/4.0")>0),m(this,"reset",function(b){return w.init(b)}),m(this,"onResize",function(){var b=w.tb;if(b.classList.remove(w.RESIZABLE),b.opt.fixed){b.tableWidth=Number(window.getComputedStyle(b).width.replace(/px/,"")).valueOf();for(var u=0,_=0;_<b.columnCnt;_++)u+=b.columns[_].w;for(var A=0;A<b.columnCnt;A++)b.columns[A].style.width=Math.round(1e3*b.columns[A].w/u)/10+"%",b.columns[A].locked=!0}else w.applyBounds(),b.opt.resizeMode==="flex"&&b.opt.serialize&&w.serializeStore();b.classList.add(w.RESIZABLE),w.syncGrips()}),m(this,"onGripMouseDown",function(b){var u=b.target.parentNode.data,_=w.tb,A=_.grips[u.i],R=b.touches;if(A.ox=R?R[0].pageX:b.pageX,A.l=A.offsetLeft,A.x=A.l,w.createStyle(document.querySelector("head"),"*{cursor:"+_.opt.dragCursor+"!important}"),document.addEventListener("touchmove",w.onGripDrag),document.addEventListener("mousemove",w.onGripDrag),document.addEventListener("touchend",w.onGripDragOver),document.addEventListener("mouseup",w.onGripDragOver),A.classList.add(_.opt.draggingClass),w.grip=A,_.columns[u.i].locked)for(var x,E=0;E<_.columnCnt;E++)(x=_.columns[E]).locked=!1,x.w=Number(window.getComputedStyle(x).width.replace(/px/,"")).valueOf();b.preventDefault()}),m(this,"onGripDrag",function(b){var u=w.grip;if(u){var _=u.t,A=b.touches,R=(A?A[0].pageX:b.pageX)-u.ox+u.l,x=_.opt.minWidth,E=u.i,k=1.5*_.cellSpace+x+_.borderSpace,D=E===_.columnCnt-1,P=E?_.grips[E-1].offsetLeft+_.cellSpace+x:k,M=_.opt.fixed?E===_.columnCnt-1?_.tableWidth-k:_.grips[E+1].offsetLeft-_.cellSpace-x:1/0;if(R=Math.max(P,Math.min(M,R)),u.x=R,u.style.left=R+w.PX,D&&(u.w=_.columns[E].w+R-u.l),_.opt.liveDrag){D?(_.columns[E].style.width=u.w+w.PX,!_.opt.fixed&&_.opt.overflow?_.style.minWidth=_.tableWidth+R-u.l+w.PX:_.tableWidth=Number(window.getComputedStyle(_).width.replace(/px/,"")).valueOf()):w.syncCols(_,E,!1,_.opt),w.syncGrips();var v=_.opt.onDrag;v&&v(b)}b.preventDefault()}}),m(this,"onGripDragOver",function(b){var u=w.grip;document.removeEventListener("touchend",w.onGripDragOver),document.removeEventListener("mouseup",w.onGripDragOver),document.removeEventListener("touchmove",w.onGripDrag),document.removeEventListener("mousemove",w.onGripDrag);var _=document.querySelector("head").lastChild;if(_.parentNode.removeChild(_),u){if(u.classList.remove(u.t.opt.draggingClass),u.x-u.l!=0){var A=u.t,R=A.opt.onResize,x=u.i;if(x===A.columnCnt-1){var E=A.columns[x];E.style.width=u.w+w.PX,E.w=u.w}else w.syncCols(A,x,!0,A.opt);A.opt.fixed||w.applyBounds(),w.syncGrips(),R&&R(b),A.opt.serialize&&w.serializeStore()}w.grip=null}}),m(this,"init",function(b){if(b.disable)return w.destroy();var u=w.tb,_=u.getAttribute(w.ID)||w.RESIZABLE+S();if(!u.matches("table")||u.extended&&!b.partialRefresh)return null;var A=document.querySelector("head");if(w.createStyle(A," .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;	} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}"),b.hoverCursor&&b.hoverCursor!=="col-resize"){var R=".grip-handle .grip-resizable:hover{cursor:"+b.hoverCursor+"!important}";w.createStyle(A,R)}u.setAttribute(w.ID,_);var x=u.opt;u.opt=w.extendOptions(b);var E=w.getTableHeaders(u);if(w.extendTable(E),b.remoteTable&&b.remoteTable.matches("table")){var k=w.getTableHeaders(u.opt.remoteTable);E.length===k.length?w.extendRemoteTable(u.opt.remoteTable,k,u):console.warn("column count for remote table did not match")}return x}),m(this,"applyBounds",function(){var b=w.tb,u=b.columns.map(function(_){return window.getComputedStyle(_).width});b.style.width=window.getComputedStyle(b).width,b.tableWidth=Number(b.style.width.replace(/px/,"")).valueOf(),b.classList.remove(w.FLEX),b.columns.forEach(function(_,A){_.style.width=u[A],_.w=Number(u[A].replace(/px/,"")).valueOf()}),b.classList.add(w.FLEX)}),m(this,"serializeStore",function(){var b=w.store,u=w.tb;b[u.getAttribute(w.ID)]="";for(var _=0,A=0;A<u.columns.length;A++){var R=window.getComputedStyle(u.columns[A]).width.replace(/px/,"");b[u.getAttribute(w.ID)]+=R+";",_+=Number(R).valueOf()}b[u.getAttribute(w.ID)]+=_.toString(),u.opt.fixed||(b[u.getAttribute(w.ID)]+=";"+window.getComputedStyle(u).width.replace(/px/,""))}),m(this,"syncGrips",function(){var b=w.tb;b.gripContainer.style.width=b.tableWidth+w.PX;for(var u=0;u<b.columnCnt;u++){var _=b.columns[u],A=_.getBoundingClientRect(),R=b.getBoundingClientRect();b.grips[u].style.left=A.left-R.left+_.offsetWidth+b.cellSpace/2+w.PX,b.grips[u].style.height=(b.opt.headerOnly?b.columns[0].offsetHeight:b.offsetHeight)+w.PX}}),m(this,"destroy",function(){var b=w.tb,u=b.getAttribute(w.ID);return u?(w.store[u]="",b.classList.remove(w.RESIZABLE),b.classList.remove(w.FLEX),b.remote&&(b.remote.classList.remove(w.RESIZABLE),b.remote.classList.remove(w.FLEX)),b.gripContainer&&b.gripContainer.parentNode&&b.gripContainer.parentNode.removeChild(b.gripContainer),delete b.extended,b.opt):null}),m(this,"createStyle",function(b,u){var _=c()(u).toString(),A=b.querySelectorAll("style");if(!Array.from(A).filter(function(x){return x.gripid===_}).length){var R=document.createElement("style");R.type="text/css",R.gripid=_,R.styleSheet?R.styleSheet.cssText=u:R.appendChild(document.createTextNode(u)),b.appendChild(R)}}),m(this,"extendOptions",function(b){var u=Object.assign({},p.DEFAULTS,b);switch(u.fixed=!0,u.overflow=!1,u.resizeMode){case"flex":u.fixed=!1;break;case"overflow":u.fixed=!1,u.overflow=!0}return u}),m(this,"getTableHeaders",function(b){var u="#"+b.id,_=Array.from(b.querySelectorAll(u+">thead>tr:nth-of-type(1)>th"));return(_=_.concat(Array.from(b.querySelectorAll(u+">thead>tr:nth-of-type(1)>td")))).length||(_=(_=(_=(_=Array.from(b.querySelectorAll(u+">tbody>tr:nth-of-type(1)>th"))).concat(Array.from(b.querySelectorAll(u+">tr:nth-of-type(1)>th")))).concat(Array.from(b.querySelectorAll(u+">tbody>tr:nth-of-type(1)>td")))).concat(Array.from(b.querySelectorAll(u+">tr:nth-of-type(1)>td")))),w.filterInvisible(_,!1)}),m(this,"filterInvisible",function(b,u){return b.filter(function(_){var A=u?-1:_.offsetWidth,R=u?-1:_.offsetHeight;return!(A===0&&R===0||_.style&&_.style.display&&window.getComputedStyle(_).display==="none")})}),m(this,"extendTable",function(b){var u=w.tb;u.opt.removePadding&&u.classList.add("grip-padding"),u.classList.add(w.RESIZABLE),u.insertAdjacentHTML("beforebegin",'<div class="grip-container"/>'),u.grips=[],u.columns=[],u.tableWidth=Number(window.getComputedStyle(u).width.replace(/px/,"")).valueOf(),u.gripContainer=u.previousElementSibling,u.opt.marginLeft&&(u.gripContainer.style.marginLeft=u.opt.marginLeft),u.opt.marginRight&&(u.gripContainer.style.marginRight=u.opt.marginRight),u.cellSpace=parseInt(w.legacyIE?u.cellSpacing||u.currentStyle.borderSpacing:window.getComputedStyle(u).borderSpacing.split(" ")[0].replace(/px/,""))||2,u.borderSpace=parseInt(w.legacyIE?u.border||u.currentStyle.borderLeftWidth:window.getComputedStyle(u).borderLeftWidth.replace(/px/,""))||1,u.extended=!0,w.createGrips(b)}),m(this,"extendRemoteTable",function(b,u,_){_.opt.removePadding&&b.classList.add("grip-padding"),b.classList.add(w.RESIZABLE),b.getAttribute(w.ID)||b.setAttribute(w.ID,_.getAttribute(w.ID)+"remote"),b.columns=[],u.forEach(function(R,x){var E=u[x];E.w=_.columns[x].w,E.style.width=E.w+w.PX,E.removeAttribute("width"),b.columns.push(E)}),b.tableWidth=_.tableWidth,b.cellSpace=_.cellSpace,b.borderSpace=_.borderSpace;var A=Array.from(b.querySelectorAll("col"));b.columnGrp=w.filterInvisible(A,!0),b.columnGrp.forEach(function(R,x){R.removeAttribute("width"),R.style.width=_.columnGrp[x].style.width}),_.remote=b}),m(this,"createGrips",function(b){var u=w.tb;u.columnGrp=w.filterInvisible(Array.from(u.querySelectorAll("col")),!0),u.columnGrp.forEach(function(R){R.removeAttribute("width")}),u.columnCnt=b.length;var _=!1;w.store[u.getAttribute(w.ID)]&&(w.deserializeStore(b),_=!0),u.opt.widths||(u.opt.widths=[]),b.forEach(function(R,x){var E=b[x],k=u.opt.disabledColumns.indexOf(x)!==-1;w.createDiv(u.gripContainer,"grip-handle");var D=u.gripContainer.lastChild;!k&&u.opt.gripInnerHtml&&(D.innerHTML=u.opt.gripInnerHtml),w.createDiv(D,w.RESIZABLE),x===u.columnCnt-1&&(D.classList.add("grip-lastgrip"),u.opt.fixed&&(D.innerHTML="")),D.addEventListener("touchstart",w.onGripMouseDown,{capture:!0,passive:!0}),D.addEventListener("mousedown",w.onGripMouseDown,!0),k?D.classList.add("grip-disabledgrip"):(D.classList.remove("grip-disabledgrip"),D.addEventListener("touchstart",w.onGripMouseDown,{capture:!0,passive:!0}),D.addEventListener("mousedown",w.onGripMouseDown,!0)),D.t=u,D.i=x,u.opt.widths[x]?E.w=u.opt.widths[x]:E.w=_?Number(E.style.width.replace(/px/,"")).valueOf():Number(window.getComputedStyle(E).width.replace(/px/,"")).valueOf(),E.style.width=E.w+w.PX,E.removeAttribute("width"),D.data={i:x,t:u.getAttribute(w.ID),last:x===u.columnCnt-1},u.grips.push(D),u.columns.push(E)});var A=Array.from(u.querySelectorAll("td"));A.concat(Array.from(u.querySelectorAll("th"))),(A=(A=A.filter(function(R){for(var x=0;x<b.length;x++)if(b[x]===R)return!1;return!0})).filter(function(R){return!(R.querySelectorAll("table th").length||R.querySelectorAll("table td").length)})).forEach(function(R){R.removeAttribute("width")}),u.opt.fixed||(u.removeAttribute("width"),u.classList.add(w.FLEX)),w.syncGrips()}),m(this,"deserializeStore",function(b){var u=w.tb;if(u.columnGrp.forEach(function(x){x.removeAttribute("width")}),u.opt.flush)w.store[u.getAttribute(w.ID)]="";else{var _=w.store[u.getAttribute(w.ID)].split(";"),A=_[u.columnCnt+1];!u.opt.fixed&&A&&(u.style.width=A+w.PX,u.opt.overflow&&(u.style.minWidth=A+w.PX,u.tableWidth=Number(A).valueOf()));for(var R=0;R<u.columnCnt;R++)b[R].style.width=_[R]+w.PX,u.columnGrp[R]&&(u.columnGrp[R].style.width=100*Number(_[R]).valueOf()/Number(_[u.columnCnt]).valueOf()+"%")}}),m(this,"createDiv",function(b,u,_){var A=document.createElement("div");A.classList.add(u),_&&(A.innerHTML=_),b.appendChild(A)}),m(this,"syncCols",function(b,u,_,A){var R=b.remote,x=w.grip.x-w.grip.l,E=b.columns[u],k=b.columns[u+1];if(E&&k){var D=E.w+x,P=k.w-x,M=D+w.PX;if(E.style.width=M,b.columnGrp[u]&&b.columnGrp[u].style.width&&(b.columnGrp[u].style.width=M),R&&(R.columns[u].style.width=M,R.columnGrp[u]&&R.columnGrp[u].style.width&&(R.columnGrp[u].style.width=M)),A.fixed){var v=P+w.PX;k.style.width=v,b.columnGrp[u+1]&&b.columnGrp[u+1].style.width&&(b.columnGrp[u+1].style.width=v),R&&(R.columns[u+1].style.width=v,R.columnGrp[u+1]&&R.columnGrp[u+1].style.width&&(R.columnGrp[u+1].style.width=v))}else A.overflow&&(b.style.minWidth=b.tableWidth+x+w.PX);_&&(E.w=D,k.w=A.fixed?P:k.w,R&&(R.columns[u].w=D,R.columns[u+1].w=A.fixed?P:k.w))}});try{this.store=sessionStorage}catch{this.store={}}this.grip=null,this.tb=g,window.addEventListener("resize",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(I)};h.DEFAULTS={resizeMode:"fit",draggingClass:"grip-drag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"col-resize",dragCursor:"col-resize",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],serialize:!0,onDrag:null,onResize:null}},887:s=>{s.exports=function(l){for(var d=5381,c=l.length;c;)d=33*d^l.charCodeAt(--c);return d>>>0}}},n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return t[s](o,o.exports,i),o.exports}return i.n=s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return i.d(o,{a:o}),o},i.d=(s,o)=>{for(var l in o)i.o(o,l)&&!i.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:o[l]})},i.o=(s,o)=>Object.prototype.hasOwnProperty.call(s,o),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i(67)})()})})(Fl);const yg=pd(Fl.exports),pr=r=>{const{entityId:e,entityVersionNumber:t}=r,{accessToken:n}=X(),i=ec();return n?a(L,{children:a(Xe,{title:"Add this file to your Download Cart",placement:"right",enterNextDelay:300,children:a("a",{"data-testid":"AddToDownloadListV2",onClick:async()=>{try{await tc(e,t,n),i.invalidateQueries(["downloadliststatsv2"]);const o=await ri(n,e,t?t==null?void 0:t.toString():void 0);vt(`${o.name} was successfully added to your Download Cart.`,"success")}catch(o){vt(`Unable to add the file to your Download Cart. ${o}`,"danger")}},className:"ignoreLink",children:a(le,{options:{icon:"addToCart"}})})})}):a(L,{})};try{pr.displayName="AddToDownloadListV2",pr.__docgenInfo={description:"",displayName:"AddToDownloadListV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/AddToDownloadListV2.tsx#AddToDownloadListV2"]={docgenInfo:pr.__docgenInfo,name:"AddToDownloadListV2",path:"src/lib/containers/AddToDownloadListV2.tsx#AddToDownloadListV2"})}catch{}var ls={exports:{}};(function(r,e){(function(t,n){var i="1.0.2",s="",o="?",l="function",d="undefined",c="object",y="string",m="major",f="model",S="name",h="type",p="vendor",g="version",w="architecture",I="console",b="mobile",u="tablet",_="smarttv",A="wearable",R="embedded",x=255,E="Amazon",k="Apple",D="ASUS",P="BlackBerry",M="Browser",v="Chrome",O="Edge",N="Firefox",F="Google",J="Huawei",Z="LG",K="Microsoft",B="Motorola",se="Opera",T="Samsung",q="Sony",V="Xiaomi",U="Zebra",H="Facebook",he=function(W,te){var z={};for(var ue in W)te[ue]&&te[ue].length%2===0?z[ue]=te[ue].concat(W[ue]):z[ue]=W[ue];return z},ee=function(W){for(var te={},z=0;z<W.length;z++)te[W[z].toUpperCase()]=W[z];return te},je=function(W,te){return typeof W===y?me(te).indexOf(me(W))!==-1:!1},me=function(W){return W.toLowerCase()},_e=function(W){return typeof W===y?W.replace(/[^\d\.]/g,s).split(".")[0]:n},xe=function(W,te){if(typeof W===y)return W=W.replace(/^\s\s*/,s).replace(/\s\s*$/,s),typeof te===d?W:W.substring(0,x)},Pe=function(W,te){for(var z=0,ue,G,On,ae,Mt,Ne;z<te.length&&!Mt;){var Ws=te[z],zs=te[z+1];for(ue=G=0;ue<Ws.length&&!Mt;)if(Mt=Ws[ue++].exec(W),Mt)for(On=0;On<zs.length;On++)Ne=Mt[++G],ae=zs[On],typeof ae===c&&ae.length>0?ae.length===2?typeof ae[1]==l?this[ae[0]]=ae[1].call(this,Ne):this[ae[0]]=ae[1]:ae.length===3?typeof ae[1]===l&&!(ae[1].exec&&ae[1].test)?this[ae[0]]=Ne?ae[1].call(this,Ne,ae[2]):n:this[ae[0]]=Ne?Ne.replace(ae[1],ae[2]):n:ae.length===4&&(this[ae[0]]=Ne?ae[3].call(this,Ne.replace(ae[1],ae[2])):n):this[ae]=Ne||n;z+=2}},Lt=function(W,te){for(var z in te)if(typeof te[z]===c&&te[z].length>0){for(var ue=0;ue<te[z].length;ue++)if(je(te[z][ue],W))return z===o?n:z}else if(je(te[z],W))return z===o?n:z;return W},Dt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Pt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},js={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[S,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[S,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[S,g],[/opios[\/ ]+([\w\.]+)/i],[g,[S,se+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[S,se]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[S,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[S,"UC"+M]],[/\bqbcore\/([\w\.]+)/i],[g,[S,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[S,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[S,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[S,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[S,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[S,/(.+)/,"$1 Secure "+M],g],[/\bfocus\/([\w\.]+)/i],[g,[S,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[S,se+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[S,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[S,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[S,se+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[S,"MIUI "+M]],[/fxios\/([-\w\.]+)/i],[g,[S,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[S,"360 "+M]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[S,/(.+)/,"$1 "+M],g],[/(comodo_dragon)\/([\w\.]+)/i],[[S,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[S,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[S],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[S,H],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[S,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[S,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[S,v+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[S,v+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[S,"Android "+M]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[S,g],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[g,[S,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[g,S],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[S,[g,Lt,Dt]],[/(webkit|khtml)\/([\w\.]+)/i],[S,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[S,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[S,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[S,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,me]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/windows (ce|mobile); ppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[w,/ower/,s,me]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[w,me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,T],[h,u]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,T],[h,b]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[p,k],[h,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,k],[h,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,J],[h,u]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[f,[p,J],[h,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[p,V],[h,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,V],[h,u]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[h,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[h,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,B],[h,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,B],[h,u]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,Z],[h,u]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,Z],[h,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[h,u]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[h,b]],[/(pixel c)\b/i],[f,[p,F],[h,u]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,F],[h,b]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,q],[h,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,q],[h,u]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[h,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,E],[h,u]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,E],[h,b]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[h,u]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,P],[h,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,D],[h,u]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,D],[h,b]],[/(nexus 9)/i],[f,[p,"HTC"],[h,u]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[h,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[h,u]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[h,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,"Sharp"],[h,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[h,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[h,u]],[/(surface duo)/i],[f,[p,K],[h,u]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[h,b]],[/(u304aa)/i],[f,[p,"AT&T"],[h,b]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[h,b]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[h,u]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[h,u]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[h,u]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[h,u]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[h,u]],[/\b(k88) b/i],[f,[p,"ZTE"],[h,u]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[h,b]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[h,b]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[h,u]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[h,u]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[h,u]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[h,u]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[h,u]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[h,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[h,b]],[/\b(ph-1) /i],[f,[p,"Essential"],[h,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[h,u]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[h,u]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[h,u]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[h,u]],[/(sprint) (\w+)/i],[p,f,[h,b]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,K],[h,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,U],[h,u]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,U],[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[h,I]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[h,I]],[/(playstation [345portablevi]+)/i],[f,[p,q],[h,I]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,K],[h,I]],[/smart-tv.+(samsung)/i],[p,[h,_]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,T],[h,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Z],[h,_]],[/(apple) ?tv/i],[p,[f,k+" TV"],[h,_]],[/crkey/i],[[f,v+"cast"],[p,F],[h,_]],[/droid.+aft(\w)( bui|\))/i],[f,[p,E],[h,_]],[/\(dtv[\);].+(aquos)/i],[f,[p,"Sharp"],[h,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,xe],[f,xe],[h,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,_]],[/((pebble))app/i],[p,f,[h,A]],[/droid.+; (glass) \d/i],[f,[p,F],[h,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,U],[h,A]],[/(quest( 2)?)/i],[f,[p,H],[h,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,R]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[h,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,u]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,u]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[h,b]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[S,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[S,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[S,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,S]],os:[[/microsoft (windows) (vista|xp)/i],[S,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[S,[g,Lt,Pt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,"Windows"],[g,Lt,Pt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[S,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[S,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[g,S],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[S,g],[/\(bb(10);/i],[g,[S,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[S,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[S,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[S,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[S,v+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[S,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[S,g],[/(sunos) ?([\w\.\d]*)/i],[[S,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[S,g]]},Oe=function(W,te){if(typeof W===c&&(te=W,W=n),!(this instanceof Oe))return new Oe(W,te).getResult();var z=W||(typeof t!==d&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:s),ue=te?he(js,te):js;return this.getBrowser=function(){var G={};return G[S]=n,G[g]=n,Pe.call(G,z,ue.browser),G.major=_e(G.version),G},this.getCPU=function(){var G={};return G[w]=n,Pe.call(G,z,ue.cpu),G},this.getDevice=function(){var G={};return G[p]=n,G[f]=n,G[h]=n,Pe.call(G,z,ue.device),G},this.getEngine=function(){var G={};return G[S]=n,G[g]=n,Pe.call(G,z,ue.engine),G},this.getOS=function(){var G={};return G[S]=n,G[g]=n,Pe.call(G,z,ue.os),G},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return z},this.setUA=function(G){return z=typeof G===y&&G.length>x?xe(G,x):G,this},this.setUA(z),this};Oe.VERSION=i,Oe.BROWSER=ee([S,g,m]),Oe.CPU=ee([w]),Oe.DEVICE=ee([f,p,h,I,b,_,u,A,R]),Oe.ENGINE=Oe.OS=ee([S,g]),r.exports&&(e=r.exports=Oe),e.UAParser=Oe;var ft=typeof t!==d&&(t.jQuery||t.Zepto);if(ft&&!ft.ua){var xn=new Oe;ft.ua=xn.getResult(),ft.ua.get=function(){return xn.getUA()},ft.ua.set=function(W){xn.setUA(W);var te=xn.getResult();for(var z in te)ft.ua[z]=te[z]}}})(typeof window=="object"?window:$)})(ls,ls.exports);const bg=window.React.useEffect,Ut=window.React.useState,nn=r=>{const{accessToken:e}=X(),{associatedObjectId:t,entityVersionNumber:n,associatedObjectType:i,fileHandleId:s,displayFileName:o,onClickCallback:l}=r,{ref:d,inView:c}=Nt(),[y,m]=Ut(!1),[f,S]=Ut(!1),[h,p]=Ut(),[g,w]=Ut(),[I,b]=Ut("");let u=!0;bg(()=>(u&&c&&x(),()=>{u=!1}),[e,c]);const _=async()=>{let k;const P=new ls.exports.UAParser().getBrowser().name=="Safari";let M=null;P&&(M=window.open("","Safari Download","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200"),M.document.body.innerHTML="Downloading file on Safari...");try{i===Te.TableEntity?k=(await R(!0)).requestedFiles[0].preSignedURL:k=(await Ys(h,e,!1,!0)).preSignedURL}catch(v){console.log("Fail to get file download link: ",v)}k?(P&&M?(M.location=k,setTimeout(()=>{M&&M.close()},1e4)):window.open(k),l&&l(y)):(M==null||M.close(),console.log("Fail to get file download link"))},A=k=>k&&!k.isPreview?(S(!0),!0):(S(!1),!1),R=(k=!1)=>It({includeFileHandles:!0,includePreSignedURLs:k,includePreviewPreSignedURLs:!1,requestedFiles:[{associateObjectId:t,associateObjectType:i,fileHandleId:s}]},e),x=()=>ri(e,t,n).then(async k=>{if(k.hasOwnProperty("dataFileHandleId"))return p(k),Ys(k,e,!0).then(D=>{const P=D.fileHandle;P&&A(P)&&eu(P)&&(m(!0),w(P.externalURL))}).catch(D=>{console.log("Error on getFileEntityFileHandle = ",D)});if(i===Te.TableEntity){const P=(await R()).requestedFiles[0].fileHandle;o&&P&&A(P)&&b(P.fileName)}return Promise.resolve()}).catch(k=>{console.log("Error on getEntity = ",k)});return a(Xe,{title:y?"Navigate to external link":"Download this file individually",enterNextDelay:Yr,placement:"left",children:a("span",{ref:d,children:(()=>y?a("button",{className:"btn-download-icon",onClick:()=>{l&&l(y)},children:a("a",{className:"ignoreLink",rel:"noreferrer",href:g,target:"_blank",children:a(le,{options:{icon:"openInNewWindow"}})})}):f?C("button",{className:"btn-download-icon",onClick:_,children:[a(le,{options:{icon:"download"}}),o&&I?I:""]}):a(L,{}))()})})};try{nn.displayName="DirectDownload",nn.__docgenInfo={description:"",displayName:"DirectDownload",props:{associatedObjectId:{defaultValue:null,description:"",name:"associatedObjectId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},associatedObjectType:{defaultValue:null,description:"",name:"associatedObjectType",required:!1,type:{name:"enum",value:[{value:'"FileEntity"'},{value:'"TableEntity"'},{value:'"WikiAttachment"'},{value:'"WikiMarkdown"'},{value:'"UserProfileAttachment"'},{value:'"MessageAttachment"'},{value:'"TeamAttachment"'},{value:'"SubmissionAttachment"'},{value:'"VerificationSubmission"'},{value:'"AccessRequirementAttachment"'},{value:'"DataAccessRequestAttachment"'},{value:'"DataAccessSubmissionAttachment"'}]}},fileHandleId:{defaultValue:null,description:"",name:"fileHandleId",required:!1,type:{name:"string"}},displayFileName:{defaultValue:null,description:"",name:"displayFileName",required:!1,type:{name:"boolean"}},onClickCallback:{defaultValue:null,description:"",name:"onClickCallback",required:!1,type:{name:"((isExternalLink: boolean) => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/DirectDownload.tsx#DirectDownload"]={docgenInfo:nn.__docgenInfo,name:"DirectDownload",path:"src/lib/containers/DirectDownload.tsx#DirectDownload"})}catch{}const Sg=window.React.useEffect,wg=window.React.useRef,Cg=r=>{const e=wg();return Sg(()=>{e.current=r}),e.current},_g=r=>Cg(r)!==r;function Ke({isCompleted:r}){return a("div",{"data-testid":`AccessApprovalCheckMark-${r}`,className:`check-mark-container ${r?"green":"orange"}`,children:r?a(Gd,{}):a(Xd,{})})}try{Ke.displayName="AccessApprovalCheckMark",Ke.__docgenInfo={description:"",displayName:"AccessApprovalCheckMark",props:{isCompleted:{defaultValue:null,description:"",name:"isCompleted",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessApprovalCheckMark.tsx#AccessApprovalCheckMark"]={docgenInfo:Ke.__docgenInfo,name:"AccessApprovalCheckMark",path:"src/lib/containers/access_requirement_list/AccessApprovalCheckMark.tsx#AccessApprovalCheckMark"})}catch{}const Ha=window.React.useState,vg=window.React.useEffect;function wt({user:r,wikiPage:e,accessRequirement:t,accessRequirementStatus:n,showButton:i=!0,entityId:s,onHide:o}){const{accessToken:l}=X(),[d,c]=Ha(!0),y=n==null?void 0:n.isApproved,[m,f]=Ha(y);let S="";t.concreteType===we.ManagedACTAccessRequirement||t.concreteType===we.ACTAccessRequirement?window.location.hostname==="www.synapse.org"||window.location.hostname==="staging.synapse.org"?S="Request access":S="Request access via Synapse.org":S="I Accept Terms of Use",vg(()=>{f(y)},[y]);const h=()=>{window.open(`${Ee.PORTAL}#!AccessRequirement:AR_ID=${t.id}&TYPE=ENTITY&ID=${s}`)},p=()=>{if(t.concreteType===we.ManagedACTAccessRequirement||t.concreteType===we.ACTAccessRequirement)h(),o==null||o();else if(!m){const x={requirementId:t==null?void 0:t.id,submitterId:r==null?void 0:r.ownerId,accessorId:r==null?void 0:r.ownerId,state:Rs.APPROVED};ao(l,x).then(E=>{f(!0)}).catch(E=>console.error("Error on post access approval: ",E))}},g=t.termsOfUse,w=t.actContactInfo,I=t.concreteType===we.TermsOfUseAccessRequirement,b=t.concreteType===we.ACTAccessRequirement,u=I&&g||b&&w;let _=a(L,{});e?_=a("div",{className:"AcceptRequirementsMarkdown",children:a(Ie,{wikiId:e==null?void 0:e.wikiPageId,ownerId:e==null?void 0:e.ownerObjectId,objectType:e==null?void 0:e.ownerObjectType})}):u&&(_=a(Ie,{markdown:I?g:w}));const A=t.concreteType===we.ManagedACTAccessRequirement;return a(L,{children:C("div",{"data-testid":"AcceptedRequirements",className:"requirement-container",children:[a(Ke,{isCompleted:m}),C("div",{className:"terms-of-use-content",children:[m?C("div",{children:[C("p",{children:[A?"Your data access request has been approved.":"You have accepted the terms of use.",A&&a("a",{className:"update-request-button",onClick:()=>{h()},children:"Update Request"}),a("a",{className:"view-terms-button",onClick:()=>{c(!d)},children:"View Terms"})]}),a("div",{className:`view-terms ${d?"hidden":"show"}`,children:_})]}):_,l&&i&&C("div",{className:`button-container ${m?"hide":"default"}`,children:[a("div",{className:"accept-button-container",children:a("button",{className:"accept-button",onClick:p,children:S})}),a("div",{className:"not-accept-button-container",children:a("button",{className:"not-accpet-button",onClick:()=>o==null?void 0:o(),children:"I do not accept"})})]})]})]})})}try{wt.displayName="AcceptedRequirements",wt.__docgenInfo={description:"",displayName:"AcceptedRequirements",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},wikiPage:{defaultValue:null,description:"",name:"wikiPage",required:!0,type:{name:"WikiPageKey | undefined"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement | ManagedACTAccessRequirement | SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus | undefined"}},showButton:{defaultValue:{value:"true"},description:"",name:"showButton",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AcceptedRequirements.tsx#AcceptedRequirements"]={docgenInfo:wt.__docgenInfo,name:"AcceptedRequirements",path:"src/lib/containers/access_requirement_list/AcceptedRequirements.tsx#AcceptedRequirements"})}catch{}const Tg=window.React.useEffect,Rg=window.React.useState;function Ag({accessRequirement:r,user:e,onHide:t,accessRequirementStatus:n,entityId:i}){const{accessToken:s}=X(),[o,l]=Rg();return Tg(()=>{(async()=>{try{const c=await ii(s,r.id);l(c)}catch(c){console.error("Error on get ACTAccessRequirement",c)}})()},[s,r]),a(wt,{accessRequirement:r,accessRequirementStatus:n,user:e,wikiPage:o,onHide:t,entityId:i})}try{ACTAccessRequirement.displayName="ACTAccessRequirement",ACTAccessRequirement.__docgenInfo={description:"",displayName:"ACTAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ACTAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/ACTAccessRequirement.tsx#ACTAccessRequirement"]={docgenInfo:ACTAccessRequirement.__docgenInfo,name:"ACTAccessRequirement",path:"src/lib/containers/access_requirement_list/ACTAccessRequirement.tsx#ACTAccessRequirement"})}catch{}const ja=window.React.useState,fr=r=>{const{accessToken:e}=X(),{formSubmitRequestObject:t,onHide:n}=r,[i,s]=ja(),[o,l]=ja(!1),d=async()=>{if(t)try{await oo(t,e)?n==null||n():(s({key:"danger",message:"Sorry, there is an error in submitting your request. Please close this dialog and try again later."}),l(!0))}catch(c){console.log("CancelRequestDataAccess: Error updating form",c),s({key:"danger",message:`Sorry, there is an error in submitting your request. ${c.reason||""}. Please close this dialog and try again later`}),l(!0)}};return C(L,{children:[a(Q.Header,{closeButton:!0,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Save Changes"})}),C(Q.Body,{children:[a("p",{children:"Would you like to save your recent changes?"}),i&&a(vn,{variant:i.key,children:i.message})]}),C(Q.Footer,{children:[!o&&C(L,{children:[a(ce,{variant:"link",onClick:()=>n==null?void 0:n(),children:"Cancel"}),a(ce,{variant:"primary",onClick:()=>d(),children:"Save changes"})]}),o&&a(ce,{variant:"primary",onClick:()=>n==null?void 0:n(),children:"Close"})]})]})};try{fr.displayName="CancelRequestDataAccess",fr.__docgenInfo={description:"",displayName:"CancelRequestDataAccess",props:{formSubmitRequestObject:{defaultValue:null,description:"",name:"formSubmitRequestObject",required:!0,type:{name:"RequestInterface | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/CancelRequestDataAccess.tsx#CancelRequestDataAccess"]={docgenInfo:fr.__docgenInfo,name:"CancelRequestDataAccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/CancelRequestDataAccess.tsx#CancelRequestDataAccess"})}catch{}const Ig=window.React.useEffect,$t=window.React.useState,hr=r=>{const{user:e,wikiPage:t,accessRequirementStatus:n,accessRequirement:i,showButton:s=!0,onHide:o,requestDataStepCallback:l}=r,{accessToken:d}=X(),[c,y]=$t(!0),m=n==null?void 0:n.isApproved,[f,S]=$t(m),[h,p]=$t(),[g,w]=$t(),[I,b]=$t(!1);Ig(()=>{S(m),n!=null&&n.currentSubmissionStatus&&(p(n.currentSubmissionStatus.state),R(n.currentSubmissionStatus))},[m]);const u=()=>{l==null||l({managedACTAccessRequirement:i,step:1})},_=async()=>{if(i.concreteType===we.ManagedACTAccessRequirement)if(d)if(h===be.SUBMITTED&&!I){const N={key:"danger",message:C(L,{children:[a("strong",{children:"Error canceling your data access request."}),a("br",{}),"Please try again later."]})};try{(await nc(n==null?void 0:n.currentSubmissionStatus.submissionId,d)).state===be.CANCELLED?(w({key:"success",message:a("strong",{children:"Your data access request has been canceled."})}),b(!0)):w(N)}catch(F){console.log("RequestDataAccess: error canceling data access request:",F),w(N)}}else u();else l==null||l({managedACTAccessRequirement:i,step:4});else if(!f){const N={requirementId:i==null?void 0:i.id,submitterId:e==null?void 0:e.ownerId,accessorId:e==null?void 0:e.ownerId,state:Rs.APPROVED};ao(d,N).then(F=>{S(!0)}).catch(F=>console.error("Error on post access approval: ",F))}},A=()=>{if(i.concreteType===we.ManagedACTAccessRequirement||i.concreteType===we.ACTAccessRequirement)if(h){let N;switch(h){case be.SUBMITTED:N=I?"Update Request":"Cancel Request";break;case be.APPROVED:case be.REJECTED:case be.CANCELLED:N="Update Request"}return N}else return"Request access";else return"I Accept Terms of Use"},R=N=>{switch(N.state){case be.SUBMITTED:w({key:"primary",message:a("strong",{children:"You have submitted a data access request."})});break;case be.APPROVED:w({key:"success",message:a("strong",{children:"Your data access request has been approved."})});break;case be.REJECTED:w({key:"danger",message:C(L,{children:[a("strong",{children:"Your data access request has been rejected."}),a("br",{}),N.rejectedReason||""]})});break}return a(L,{})},x=i.termsOfUse,E=i.actContactInfo,k=i.concreteType===we.TermsOfUseAccessRequirement,D=i.concreteType===we.ACTAccessRequirement,P=k&&x||D&&E;let M=a(L,{});t?M=C("div",{className:"AcceptRequirementsMarkdown",children:[t&&a(Ie,{wikiId:t==null?void 0:t.wikiPageId,ownerId:t==null?void 0:t.ownerObjectId,objectType:t==null?void 0:t.ownerObjectType}),g&&a(vn,{className:"access-requirement-list-alert",variant:g.key,children:g.message})]}):P&&(M=a(Ie,{markdown:k?x:E}));const v=i.concreteType===we.ManagedACTAccessRequirement;return a(L,{children:C("div",{"data-testid":"RequestDataAccess",className:"requirement-container",children:[a(Ke,{isCompleted:f}),C("div",{className:"terms-of-use-content",children:[f?C("div",{children:[a("p",{children:v?"Your data access request has been approved.":"You have accepted the terms of use."}),C("p",{style:{marginBottom:"0"},children:[v&&a("button",{className:"update-request-button",onClick:()=>{u()},style:{paddingLeft:"0",marginRight:"2rem"},children:A()}),a("a",{onClick:()=>{y(!c)},children:"View Terms"})]}),a("div",{className:`view-terms ${c?"hidden":"show"}`,children:M})]}):M,s&&C("div",{className:`button-container ${f?"hide":"default"}`,children:[a("div",{className:"accept-button-container",children:a("button",{className:"accept-button",onClick:_,children:A()})}),a("div",{className:"not-accept-button-container",children:a("button",{className:"not-accpet-button",onClick:()=>o==null?void 0:o(),children:"I do not accept"})})]})]})]})})};try{hr.displayName="RequestDataAccess",hr.__docgenInfo={description:"",displayName:"RequestDataAccess",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},wikiPage:{defaultValue:null,description:"",name:"wikiPage",required:!0,type:{name:"WikiPageKey | undefined"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"AccessRequirement | ManagedACTAccessRequirement | SelfSignAccessRequirement | TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!1,type:{name:"ManagedACTAccessRequirementStatus"}},showButton:{defaultValue:null,description:"",name:"showButton",required:!1,type:{name:"boolean"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccess.tsx#RequestDataAccess"]={docgenInfo:hr.__docgenInfo,name:"RequestDataAccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccess.tsx#RequestDataAccess"})}catch{}const Eg=window.React.useEffect,xg=window.React.useState,Og=r=>{const{entityId:e,user:t,accessRequirement:n,accessRequirementStatus:i,onHide:s,requestDataStepCallback:o}=r,{accessToken:l}=X(),[d,c]=xg();return Eg(()=>{(async()=>{try{const m=await ii(l,n.id);c(m)}catch(m){console.error("Error on get ManagedACTAccessRequirement",m)}})()},[l,n]),a(hr,{accessRequirement:n,accessRequirementStatus:i,entityId:e,user:t,wikiPage:d,onHide:s,requestDataStepCallback:o})};try{ManagedACTAccessRequirement.displayName="ManagedACTAccessRequirement",ManagedACTAccessRequirement.__docgenInfo={description:"",displayName:"ManagedACTAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"ManagedACTAccessRequirementStatus"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"((props: requestDataStepCallbackProps) => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/ManagedACTAccessRequirement.tsx#ManagedACTAccessRequirement"]={docgenInfo:ManagedACTAccessRequirement.__docgenInfo,name:"ManagedACTAccessRequirement",path:"src/lib/containers/access_requirement_list/managedACTAccess/ManagedACTAccessRequirement.tsx#ManagedACTAccessRequirement"})}catch{}const qg=window.React.useEffect,Ng=window.React.useRef,Wn=window.React.useState,mr=r=>{const{requestDataStepCallback:e,managedACTAccessRequirement:t,onHide:n}=r,{accessToken:i}=X(),[s,o]=Wn(""),[l,d]=Wn(""),[c,y]=Wn(""),[m,f]=Wn(),S=Ng({});let h=!0;qg(()=>(h&&(f(void 0),p()),()=>{h=!1}),[i]);const p=async()=>{try{const I=await rc(String(t.id),i);I.id&&(S.current=I,o(I.projectLead),d(I.institution),y(I.intendedDataUseStatement))}catch(I){console.log("RequestDataAccessStep1: Error getting research project data: ",I)}},g=(I="")=>C(L,{children:[a("strong",{children:"Unable to update research project data."}),a("br",{}),I]});return a(L,{children:C(ie,{className:"access-request-form1",onSubmit:I=>{I.preventDefault();const b=Object.assign({},S.current,{accessRequirementId:String(t.id),institution:l,projectLead:s,intendedDataUseStatement:c});try{ic(b,i).then(u=>{e==null||e({managedACTAccessRequirement:t,step:2,researchProjectId:u.id})}).catch(u=>{console.log("RequestDataAccessStep1: Error updating research project data: ",u),f({key:"danger",message:g(u.reason)})})}catch(u){console.log("RequestDataAccessStep1: Error updating research project data: ",u),f({key:"danger",message:g(u.reason)})}},children:[a(Q.Header,{closeButton:!0,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Request Access"})}),C(Q.Body,{children:[a("p",{children:"Please tell us about your project."}),C(ie.Group,{children:[a(ie.Label,{htmlFor:"project-lead",children:"Project Lead"}),a(ie.Control,{id:"project-lead",type:"text",value:s,required:!0,onChange:I=>o(I.target.value)})]}),C(ie.Group,{children:[a(ie.Label,{htmlFor:"institution",children:"Institution"}),a(ie.Control,{id:"institution",type:"text",value:l,required:!0,onChange:I=>d(I.target.value)})]}),t.isIDURequired&&C(ie.Group,{children:[C(ie.Label,{htmlFor:"data-use",children:["Intended Data Use Statement -",t.isIDUPublic&&a("i",{id:"idu-visible",children:"this will be visible to the public"})]}),a(ie.Control,{id:"data-use",as:"textarea",value:c,rows:10,required:!0,onChange:I=>y(I.target.value)})]}),m&&a(vn,{variant:m.key,children:m.message})]}),C(Q.Footer,{children:[a(ce,{variant:"link",onClick:()=>n==null?void 0:n(),children:"Cancel"}),a(ce,{variant:"primary",type:"submit",children:"Save changes"})]})]})})};try{mr.displayName="RequestDataAccessStep1",mr.__docgenInfo={description:"",displayName:"RequestDataAccessStep1",props:{requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!1,type:{name:"((props: requestDataStepCallbackProps) => void)"}},managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep1.tsx#RequestDataAccessStep1"]={docgenInfo:mr.__docgenInfo,name:"RequestDataAccessStep1",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep1.tsx#RequestDataAccessStep1"})}catch{}const rt=r=>{const{id:e,fileHandleAssociation:t,className:n,variant:i,fileName:s}=r,{accessToken:o}=X(),l=async()=>{if(!t.fileHandleId||!o)return;const d={requestedFiles:[t],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1};try{const y=(await It(d,o)).requestedFiles[0].preSignedURL;y?window.open(y):console.log("Fail to get file download link")}catch(c){console.log("Fail to get file download link",c)}};return a(L,{children:a(ce,{id:e,variant:i,className:n,onClick:d=>l(),children:s})})};try{rt.displayName="DirectDownloadButton",rt.__docgenInfo={description:"",displayName:"DirectDownloadButton",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/DirectDownloadButton.tsx#DirectDownloadButton"]={docgenInfo:rt.__docgenInfo,name:"DirectDownloadButton",path:"src/lib/containers/DirectDownloadButton.tsx#DirectDownloadButton"})}catch{}const kg=window.React.useEffect,We=window.React.useState,gr=r=>{const{requestDataStepCallback:e,managedACTAccessRequirement:t,entityId:n,user:i,researchProjectId:s}=r,{accessToken:o}=X(),[l,d]=We(),[c,y]=We(),[m,f]=We(),[S,h]=We([]),[p,g]=We(),[w,I]=We(),[b,u]=We(!1),[_,A]=We([]),R={},x={requestedFiles:[],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1};let E=!0;kg(()=>(E&&(I(void 0),k()),()=>{E=!1}),[o,s]);const k=async()=>{const T=await sc(String(t.id),o);if(T.accessorChanges){const q=new Set;T.accessorChanges=T.accessorChanges.filter(V=>q.has(V.userId)?!1:q.add(V.userId))}T.concreteType==="org.sagebionetworks.repo.model.dataaccess.Renewal"&&u(!0),T.researchProjectId=s,g(T),D(T),P(T)},D=T=>{const q=T.accessorChanges,V=[];!q||!q.length?(V.push(i.ownerId),g(H=>Object.assign({},H,{accessorChanges:[{userId:i.ownerId,type:Fe.GAIN_ACCESS}]}))):q.forEach(H=>{V.push(H.userId)});const U=V.map(H=>ac(o,H));Promise.all(U).then(H=>{const he=H.map((ee,je)=>{var _e;const me=q&&((_e=q[je])==null?void 0:_e.type)?q[je].type:Fe.GAIN_ACCESS;return{profile:ee,accessType:me}});A(he)})},P=T=>{if(t.isDUCRequired&&t.ducTemplateFileHandleId){const q={associateObjectId:String(t.id),associateObjectType:Te.AccessRequirementAttachment,fileHandleId:t.ducTemplateFileHandleId};x.requestedFiles.push(q),R[t.ducTemplateFileHandleId]||(R[t.ducTemplateFileHandleId]=[]),R[t.ducTemplateFileHandleId].push("DUCTemplate"),d(q)}if(t.isDUCRequired&&T.ducFileHandleId){const q={associateObjectId:T.id,associateObjectType:Te.DataAccessRequestAttachment,fileHandleId:T.ducFileHandleId};x.requestedFiles.push(q),R[T.ducFileHandleId]||(R[T.ducFileHandleId]=[]),R[T.ducFileHandleId].push("DUC"),y(q)}if(t.isIRBApprovalRequired&&T.irbFileHandleId){const q={associateObjectId:T.id,associateObjectType:Te.DataAccessRequestAttachment,fileHandleId:T.irbFileHandleId};x.requestedFiles.push(q),R[T.irbFileHandleId]||(R[T.irbFileHandleId]=[]),R[T.irbFileHandleId].push("IRB"),f(q)}T.attachments&&T.attachments.length&&T.attachments.forEach(q=>{x.requestedFiles.push({associateObjectId:T.id,associateObjectType:Te.DataAccessRequestAttachment,fileHandleId:q}),R[q]||(R[q]=[]),R[q].push("attachments")}),x.requestedFiles.length&&It(x,o).then(q=>{q.requestedFiles.forEach(V=>{const U=V.fileHandle.fileName,H=R[V.fileHandleId];H.forEach(he=>{switch(he){case"DUCTemplate":d(ee=>Object.assign({},ee,{fileName:U})),R[V.fileHandleId].splice(H.indexOf("DUCTemplate"),1);break;case"DUC":y(ee=>Object.assign({},ee,{fileName:U})),R[V.fileHandleId].splice(H.indexOf("DUC"),1);break;case"IRB":f(ee=>Object.assign({},ee,{fileName:U})),R[V.fileHandleId].splice(H.indexOf("IRB"),1);break;case"attachments":h(ee=>[...ee,{fileName:U,associateObjectId:T.id,associateObjectType:Te.DataAccessRequestAttachment,fileHandleId:V.fileHandleId}]),R[V.fileHandleId].splice(H.indexOf("attachments"),1);break}})})})},M=async()=>{if(p)try{const T=await oo(p,o);if(T&&T.etag){const q={requestId:T.id,requestEtag:T.etag,subjectId:n,subjectType:li.ENTITY};g(H=>Object.assign({},H,{etag:T.etag}));const V=await lc(q,o),U=O(V);V.state===be.REJECTED?I({key:"danger",message:U}):e==null||e({step:5})}else I({key:"danger",message:v()})}catch(T){console.log("RequestDataAccessStep2: Error updating form",T),I({key:"danger",message:v(T.reason)})}},v=(T="")=>C(L,{children:[a("strong",{children:"Sorry, there is an error in submitting your request."}),a("br",{}),T]}),O=T=>{const q="The information has been ";switch(T.state){case be.SUBMITTED:return C("strong",{children:[q," submitted."]});case be.APPROVED:return C("strong",{children:[q," approved."]});case be.CANCELLED:return C("strong",{children:[q," canceled."]});case be.REJECTED:return C(L,{children:[C("strong",{children:[q," rejected."]})," ",T.rejectedReason,". Please close this dialog and try again later."]});default:return a(L,{})}},N=T=>{const q=_.filter(U=>U.profile.ownerId!==T);A(q);const V=q.map(U=>({userId:U.profile.ownerId,type:U.accessType}));g(U=>Object.assign({},U,{accessorChanges:V}))},F=T=>{const q=S.filter(U=>U.fileHandleId!==T);h(q);const V=q.map(U=>U.fileHandleId);g(U=>Object.assign({},U,{attachments:V}))},J=T=>{if(T.resp&&T.success){const q=T.resp;if(T.context==="attachments"){const V=p!=null&&p.attachments?p==null?void 0:p.attachments:[];V==null||V.push(q.fileHandleId),g(U=>Object.assign({},U,{attachments:V})),h(U=>[...U,{fileName:q.fileName,fileHandleId:q.fileHandleId}])}else g(V=>Object.assign({},V,{[T.context]:q.fileHandleId})),T.context==="ducFileHandleId"&&y(V=>Object.assign({},V,{fileName:q.fileName,fileHandleId:q.fileHandleId})),T.context==="irbFileHandleId"&&f(V=>Object.assign({},V,{fileName:q.fileName,fileHandleId:q.fileHandleId}))}else!T.success&&T.error&&(console.log("RequestDataAccessStep2: Error uploading the file",T.error),I({key:"danger",message:v(T.error.reason)}))},Z=T=>{if(!_.map(V=>V.profile.ownerId).includes(T.ownerId)){A(H=>{var he,ee;return[...H,{profile:{ownerId:T.ownerId,firstName:(he=T.firstName)!=null?he:"",lastName:(ee=T.lastName)!=null?ee:"",userName:T.userName},accessType:Fe.GAIN_ACCESS}]});const V={userId:T.ownerId,type:Fe.GAIN_ACCESS},U=(p==null?void 0:p.accessorChanges)||[];U.push(V),g(H=>Object.assign({},H,{accessorChanges:U}))}},K=(T,q)=>{const V=T.target.value;switch(q){case"publications":g(U=>Object.assign({},U,{publication:V}));break;case"summaryOfUse":g(U=>Object.assign({},U,{summaryOfUse:V}));break}},B=(T,q)=>{const V=[..._],U=V.findIndex(ee=>ee.profile.ownerId===q);V[U].accessType=T,A(V);const H=(p==null?void 0:p.accessorChanges)||[],he=H.findIndex(ee=>ee.userId===q);H[he].type=T,g(ee=>Object.assign({},ee,{accessorChanges:H}))},se=()=>{let T="",q="";return t.isCertifiedUserRequired&&(T="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-CertifiedUsers",q="All data requesters must be a certified user."),t.isValidatedProfileRequired&&(T="https://help.synapse.org/docs/User-Types.2007072795.html#UserAccountTiers-ValidatedUsers",q="All data requesters must have a validated user profile."),T&&q?C(L,{children:[q,a("a",{href:T,target:"_blank",rel:"noreferrer",children:a(le,{options:{icon:"info"}})})]}):a(L,{})};return a(L,{children:C(ie,{className:"access-request-form2",onSubmit:T=>T.preventDefault(),children:[a(Q.Header,{closeButton:!0,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Request Access"})}),C(Q.Body,{children:[a("p",{children:"Please provide the information below to submit the request for access."}),C(ie.Group,{children:[a(ie.Label,{htmlFor:"requesters",style:{margin:"0"},children:"Data Requesters"}),a("br",{}),C("span",{className:"requester-label",children:[t.isDUCRequired&&C(L,{children:["This list should match those listed on your DUC.",a("br",{})]}),se()]}),a(Md,{id:"requesters",typeFilter:oc.USERS_ONLY,onSelectCallback:Z,filterUserIds:_.map(T=>T.profile.ownerId)})]}),a(ie.Group,{style:{marginBottom:"4rem"},children:_.map((T,q)=>C("div",{className:"list-items",children:[a(_o,{userProfile:T.profile,showAccountLevelIcon:!0,disableLink:!0,showFullName:!0}),i.ownerId!==T.profile.ownerId&&T.accessType===Fe.GAIN_ACCESS&&a(ce,{className:"clear-x",variant:"link",onClick:()=>N(T.profile.ownerId),children:a(le,{options:{icon:"clear"}})}),b&&T.accessType!==Fe.GAIN_ACCESS&&a(L,{children:a(Vd,{id:`accessor-renewal-${T.profile.ownerId}`,value:T.accessType,options:[{label:"Renew",value:Fe.RENEW_ACCESS},{label:"Revoke",value:Fe.REVOKE_ACCESS}],onChange:V=>B(V,T.profile.ownerId)})})]},`accessor-${q}`))}),(t==null?void 0:t.isDUCRequired)&&C(L,{children:[C(ie.Group,{children:[a(ie.Label,{htmlFor:"duc-temp",className:"SRC-noMargin",children:"DUC template"}),a("br",{}),l&&a("div",{children:a(rt,{fileHandleAssociation:{associateObjectId:l==null?void 0:l.associateObjectId,associateObjectType:l.associateObjectType,fileHandleId:l.fileHandleId},fileName:l.fileName,id:"duc-temp",variant:"link",className:"SRC-noPadding"})})]}),C(ie.Group,{children:[a(ie.Label,{htmlFor:"duc",className:"SRC-noMargin",children:"Upload DUC"}),a("br",{}),c&&a("div",{children:a(rt,{fileHandleAssociation:{associateObjectId:c.associateObjectId,associateObjectType:c.associateObjectType,fileHandleId:c.fileHandleId},fileName:c==null?void 0:c.fileName,id:"duc-download",variant:"link",className:"SRC-noPadding"})}),a(_i,{id:"duc-browse",variant:"light-primary-base",uploadCallback:J,context:"ducFileHandleId"})]})]}),(t==null?void 0:t.isIRBApprovalRequired)&&C(ie.Group,{children:[a(ie.Label,{htmlFor:"irb",className:"SRC-noMargin",children:"Upload IRB approval"}),a("br",{}),m&&a("div",{children:a(rt,{fileHandleAssociation:{associateObjectId:m.associateObjectId,associateObjectType:m.associateObjectType,fileHandleId:m.fileHandleId},fileName:m==null?void 0:m.fileName,id:"irb-download",variant:"link",className:"SRC-noPadding"})}),a(_i,{id:"irb-browse",variant:"light-primary-base",uploadCallback:J,context:"irbFileHandleId"})]}),(t==null?void 0:t.areOtherAttachmentsRequired)&&C(ie.Group,{children:[a(ie.Label,{className:"SRC-noMargin",children:"Upload other required documents"}),a("br",{}),S.map((T,q)=>C("div",{className:"list-items",children:[a(rt,{fileHandleAssociation:{associateObjectId:T.associateObjectId,associateObjectType:T.associateObjectType,fileHandleId:T.fileHandleId},fileName:T==null?void 0:T.fileName,variant:"link",className:"SRC-noPadding attachment-download"}),a(ce,{className:"clear-x",variant:"link",onClick:()=>F(T.fileHandleId),children:a(le,{options:{icon:"clear"}})})]},`file-attachment-${q}`)),a(_i,{id:"attachment-browse",variant:"light-primary-base",uploadCallback:J,context:"attachments"})]}),b&&C(L,{children:[C(ie.Group,{children:[a(ie.Label,{htmlFor:"publications",className:"SRC-noMargin",children:"Publication(s)"}),a(ie.Control,{id:"publications",as:"textarea",rows:3,onChange:T=>K(T,"publications")})]}),C(ie.Group,{children:[a(ie.Label,{htmlFor:"summaryOfUse",className:"SRC-noMargin",children:"Summary of use"}),a(ie.Control,{id:"summaryOfUse",as:"textarea",rows:3,onChange:T=>K(T,"summaryOfUse")})]})]}),w&&a(vn,{variant:w.key,children:w.message})]}),a(Q.Footer,{children:C(L,{children:[a(ce,{variant:"link",onClick:()=>e==null?void 0:e({step:3,formSubmitRequestObject:p}),children:"Cancel"}),a(ce,{variant:"primary",onClick:()=>M(),children:"Submit"})]})})]})})};try{gr.displayName="RequestDataAccessStep2",gr.__docgenInfo={description:"",displayName:"RequestDataAccessStep2",props:{managedACTAccessRequirement:{defaultValue:null,description:"",name:"managedACTAccessRequirement",required:!0,type:{name:"ManagedACTAccessRequirement"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},requestDataStepCallback:{defaultValue:null,description:"",name:"requestDataStepCallback",required:!0,type:{name:"(props: requestDataStepCallbackProps) => void"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile"}},researchProjectId:{defaultValue:null,description:"",name:"researchProjectId",required:!0,type:{name:"string"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep2.tsx#RequestDataAccessStep2"]={docgenInfo:gr.__docgenInfo,name:"RequestDataAccessStep2",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessStep2.tsx#RequestDataAccessStep2"})}catch{}const yr=r=>{const{onHide:e}=r;return C(L,{children:[a(Q.Header,{closeButton:!0,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Your Data Access Request Has Been Submitted!"})}),a(Q.Body,{children:a("p",{style:{margin:"2rem 0"},children:"Your data access request been submitted and is currently being reviewed. Please allow for up to 2 weeks for your request to be reviewed and approved."})}),a(Q.Footer,{children:a(ce,{variant:"primary",onClick:()=>e==null?void 0:e(),children:"Finish"})})]})};try{yr.displayName="RequestDataAccessSuccess",yr.__docgenInfo={description:"",displayName:"RequestDataAccessSuccess",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessSuccess.tsx#RequestDataAccessSuccess"]={docgenInfo:yr.__docgenInfo,name:"RequestDataAccessSuccess",path:"src/lib/containers/access_requirement_list/managedACTAccess/RequestDataAccessSuccess.tsx#RequestDataAccessSuccess"})}catch{}const Lg=window.React.useEffect,Di=window.React.useState;function Dg({accessRequirement:r,user:e,onHide:t,accessRequirementStatus:n,entityId:i}){const{accessToken:s}=X(),[o,l]=Di(void 0),[d,c]=Di(void 0),[y,m]=Di(!1);return Lg(()=>{(async()=>{try{m(!0);const S=await ii(s,r.id);l(S);const h=cc|dc;if(e!=null&&e.ownerId){const p=await uc(e.ownerId,h,s);c(p)}}catch(S){console.error("Error on get Self Sign Access Requirement: ",S)}finally{m(!1)}})()},[r,s,e]),C(L,{children:[r.isCertifiedUserRequired&&C("div",{className:"requirement-container",children:[a(Ke,{isCompleted:d==null?void 0:d.isCertified}),C("div",{children:[C("p",{className:"self-sign-access-title bold-text",children:["You must first become a",a("a",{className:"self-sign-access-certified bold-text",href:`${Ee.PORTAL}#!Quiz:`,children:"\xA0certified user"})]}),y&&a("span",{className:"spinner"}),a("p",{className:`self-sign-access-certified-success-text ${d!=null&&d.isCertified?"show":"hidden"}`,children:"You are a certified user"})]})]}),r.isValidatedProfileRequired&&C("div",{className:"requirement-container",children:[a(Ke,{isCompleted:d==null?void 0:d.isVerified}),C("div",{children:[C("p",{className:"self-sign-access-title bold-text",children:["You must first apply to have your",a("a",{className:"self-sign-access-validated bold-text",href:`${Ee.PORTAL}#!Profile:v/settings`,children:"\xA0user profile validated"})]}),y&&a("span",{className:"spinner"}),a("p",{className:`self-sign-access-verified-success-text ${d!=null&&d.isVerified?"show":"hidden"}`,children:"You have applied to have user profile valiadation successfully"})]})]}),a(wt,{user:e,wikiPage:o,accessRequirement:r,accessRequirementStatus:n,onHide:t,entityId:i})]})}try{SelfSignAccessRequirement.displayName="SelfSignAccessRequirement",SelfSignAccessRequirement.__docgenInfo={description:"",displayName:"SelfSignAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"SelfSignAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/SelfSignAccessRequirement.tsx#SelfSignAccessRequirement"]={docgenInfo:SelfSignAccessRequirement.__docgenInfo,name:"SelfSignAccessRequirement",path:"src/lib/containers/access_requirement_list/SelfSignAccessRequirement.tsx#SelfSignAccessRequirement"})}catch{}const Pg=window.React.useEffect,Wa=window.React.useState;function Mg({accessRequirement:r,user:e,onHide:t,accessRequirementStatus:n,entityId:i}){const{accessToken:s}=X(),[o,l]=Wa(void 0),[d,c]=Wa(!1);return Pg(()=>{(async()=>{c(!0);try{const m=await ii(s,r.id);l(m)}catch(m){console.error("Error on prepare terms of use ",m)}finally{c(!1)}})()},[s,r]),C(L,{children:[d&&a("span",{className:"spinner"}),a(wt,{user:e,wikiPage:o,accessRequirement:r,accessRequirementStatus:n,onHide:t,entityId:i})]})}try{TermsOfUseAccessRequirement.displayName="TermsOfUseAccessRequirement",TermsOfUseAccessRequirement.__docgenInfo={description:"",displayName:"TermsOfUseAccessRequirement",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirement:{defaultValue:null,description:"",name:"accessRequirement",required:!0,type:{name:"TermsOfUseAccessRequirement"}},accessRequirementStatus:{defaultValue:null,description:"",name:"accessRequirementStatus",required:!0,type:{name:"AccessRequirementStatus"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserProfile | undefined"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"Function"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/TermsOfUseAccessRequirement.tsx#TermsOfUseAccessRequirement"]={docgenInfo:TermsOfUseAccessRequirement.__docgenInfo,name:"TermsOfUseAccessRequirement",path:"src/lib/containers/access_requirement_list/TermsOfUseAccessRequirement.tsx#TermsOfUseAccessRequirement"})}catch{}const Vg=window.React,Fg=window.React.useEffect,Ht=window.React.useState;var we=(r=>(r.SelfSignAccessRequirement="org.sagebionetworks.repo.model.SelfSignAccessRequirement",r.TermsOfUseAccessRequirement="org.sagebionetworks.repo.model.TermsOfUseAccessRequirement",r.ManagedACTAccessRequirement="org.sagebionetworks.repo.model.ManagedACTAccessRequirement",r.ACTAccessRequirement="org.sagebionetworks.repo.model.ACTAccessRequirement",r))(we||{});const br=r=>r.filter(Bg).length>0,Bg=r=>{switch(r.concreteType){case"org.sagebionetworks.repo.model.ACTAccessRequirement":case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":return!1;default:return!0}},za=async(r,e)=>{const t=e.map(o=>hc(r,o.id)),n=await Promise.all(t),i=e.map(o=>({accessRequirement:o,accessRequirementStatus:n.find(l=>Number(l.accessRequirementId)===o.id)}));return Fd(i,o=>-1*Number(o.accessRequirementStatus.isApproved))};function Sr({entityId:r,onHide:e,accessRequirementFromProps:t,renderAsModal:n,numberOfFilesAffected:i}){var k;const{accessToken:s}=X(),[o,l]=Ht(void 0),[d,c]=Ht(),[y,m]=Ht(),[f,S]=Ht(""),[h,p]=Ht(),g={ids:[r],type:"ENTITY_HEADER"},I=_g(s)||!o,b=mo(g),{data:u}=pc();Fg(()=>{let D=!1;return(async()=>{try{if(!I)return;if(t){const M=await za(s,t);D||l(M)}else{const M=await lo(s,r),v=await za(s,M);D||l(v)}}catch(M){console.error("Error on get access requirements: ",M)}})(),()=>{D=!0}},[s,r,t,I]);const _=Boolean(s),A=(D,P)=>{switch(D.concreteType){case"org.sagebionetworks.repo.model.SelfSignAccessRequirement":return a(Dg,{accessRequirement:D,accessRequirementStatus:P,user:u,onHide:e,entityId:r});case"org.sagebionetworks.repo.model.TermsOfUseAccessRequirement":return a(Mg,{accessRequirement:D,accessRequirementStatus:P,user:u,onHide:e,entityId:r});case"org.sagebionetworks.repo.model.ManagedACTAccessRequirement":return a(Og,{accessRequirement:D,accessRequirementStatus:P,user:u,onHide:e,entityId:r,requestDataStepCallback:R});case"org.sagebionetworks.repo.model.ACTAccessRequirement":return a(Ag,{accessRequirement:D,accessRequirementStatus:P,user:u,onHide:e,entityId:r});default:return}},R=D=>{const{managedACTAccessRequirement:P,step:M,researchProjectId:v,formSubmitRequestObject:O}=D;P&&m(P),v&&S(v),O&&p(O),c(M)},x=C(L,{children:[a(Q.Header,{closeButton:!0,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Data Access Request"})}),a(Q.Body,{children:C("div",{children:[a("h4",{className:"AccessRequirementList__instruction AccessRequirementList__access",children:"Access For:"}),a("span",{className:"AccessRequirementList__file-icon-container",children:a(le,{options:{icon:"file",size:"30px"}})}),"\xA0",i&&C("span",{children:[i," File(s)"]}),!i&&a("a",{className:"AccessRequirementList__register-text-link",href:`${Ee.PORTAL}#!Synapse:${r}`,children:(k=b[0])==null?void 0:k.name}),a("h4",{className:"AccessRequirementList__instruction",style:{marginTop:"3rem"},children:"What do I need to do?"}),C("div",{className:"requirement-container",children:[a(Ke,{isCompleted:_}),C("div",{children:[!_&&C(L,{children:[C("p",{className:"AccessRequirementList__signin",children:[a("a",{className:`${fs} SRC-boldText `,children:"Sign in\xA0"}),"with a Sage Platform (Synapse) user account."]}),C("p",{children:["If you do not have a Sage Account, you can",a("a",{className:"register-text-link bold-text",href:`${Ee.PORTAL}#!RegisterAccount:0`,children:"\xA0Register for free."})]})]}),_&&C("p",{children:["You have signed in with the Sage Platform (Synapse) user account ",C("b",{children:[u==null?void 0:u.userName,"@synapse.org"]})]})]})]}),o==null?void 0:o.map(({accessRequirement:D,accessRequirementStatus:P})=>a(Vg.Fragment,{children:A(D,P)},D.id))]})})]});let E=x;if(n){switch(d){case 1:E=a(mr,{managedACTAccessRequirement:y,requestDataStepCallback:R,onHide:()=>e==null?void 0:e()});break;case 2:E=a(gr,{user:u,researchProjectId:f,managedACTAccessRequirement:y,entityId:r,requestDataStepCallback:R,onHide:()=>e==null?void 0:e()});break;case 3:E=a(fr,{formSubmitRequestObject:h,onHide:()=>e==null?void 0:e()});break;case 4:E=C(L,{children:[a(Q.Header,{closeButton:!1,children:a(Q.Title,{className:"AccessRequirementList__title",children:"Please Log In"})}),a(Q.Body,{className:"AccessRequirementList login-modal ",children:a(fc,{sessionCallback:()=>{window.location.reload()}})})]});break;case 5:E=a(yr,{onHide:()=>e==null?void 0:e()});break;default:E=x}return a(Q,{className:d?"bootstrap-4-backport AccessRequirementList modal-auto-height":"bootstrap-4-backport AccessRequirementList",onHide:()=>e==null?void 0:e(),show:!0,animation:!1,centered:!0,scrollable:!0,size:"lg",children:E})}return a("div",{className:"AccessRequirementList",children:E})}try{Sr.displayName="AccessRequirementList",Sr.__docgenInfo={description:"",displayName:"AccessRequirementList",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},accessRequirementFromProps:{defaultValue:null,description:"",name:"accessRequirementFromProps",required:!1,type:{name:"AccessRequirement[]"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},renderAsModal:{defaultValue:null,description:"",name:"renderAsModal",required:!1,type:{name:"boolean"}},numberOfFilesAffected:{defaultValue:null,description:"",name:"numberOfFilesAffected",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessRequirementList.tsx#AccessRequirementList"]={docgenInfo:Sr.__docgenInfo,name:"AccessRequirementList",path:"src/lib/containers/access_requirement_list/AccessRequirementList.tsx#AccessRequirementList"})}catch{}try{br.displayName="checkHasUnsportedRequirement",br.__docgenInfo={description:"",displayName:"checkHasUnsportedRequirement",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/access_requirement_list/AccessRequirementList.tsx#checkHasUnsportedRequirement"]={docgenInfo:br.__docgenInfo,name:"checkHasUnsportedRequirement",path:"src/lib/containers/access_requirement_list/AccessRequirementList.tsx#checkHasUnsportedRequirement"})}catch{}const Ct=window.React,Ug=window.React.useMemo,$g={AccessBlockedToAnonymous:{icon:"accessClosed",color:r=>r.colors.warning,tooltipText:"You must sign in to access this file."},AccessBlockedByRestriction:{icon:"accessClosed",color:r=>r.colors.warning,tooltipText:"You must request access to this restricted file."},AccessBlockedByACL:{icon:"accessClosed",color:r=>r.colors.warning,tooltipText:"You do not have download access for this item."},Accessible:{icon:"accessOpen",color:r=>r.colors.success,tooltipText:""},NoFileHandle:{icon:"accessOpen",color:r=>r.colors.success,tooltipText:""}};function Ya(r){const{downloadType:e}=r;if(e){const t=$g[e];return a(mc.Consumer,{children:n=>a(le,{options:{icon:t.icon,color:t.color(n),label:t.tooltipText}})})}return a(L,{})}function wr(r,e){const[t,n]=Ct.useState(),{accessToken:i}=X(),{data:s,error:o}=ru(r,{includeEntity:!0,includePermissions:!0},parseInt(e!=null?e:"")),l=Ct.useMemo(()=>({restrictableObjectType:li.ENTITY,objectId:r}),[r]),{data:d}=Eo(l),c=s==null?void 0:s.entity,y=s==null?void 0:s.permissions;return Ct.useEffect(()=>{d&&d.hasUnmetAccessRequirement?n("AccessBlockedByRestriction"):c&&(y==null?void 0:y.canDownload)?kc(c)&&c.dataFileHandleId?n("Accessible"):n("NoFileHandle"):y&&!y.canDownload&&n(i?"AccessBlockedByACL":"AccessBlockedToAnonymous")},[i,c,o,y,d]),t}function Cr(r){const[e,t]=Ct.useState(!1),[n,i]=Ct.useState([]),{entityId:s,entityVersionNumber:o}=r,l=wr(s,o),{accessToken:d}=X(),c=Ct.useMemo(()=>({restrictableObjectType:li.ENTITY,objectId:s}),[s]),{data:y}=Eo(c),m=()=>{lo(d,s).then(h=>{br(h)?window.open(`${Dc(Pc.PORTAL_ENDPOINT)}#!AccessRequirements:ID=${s}&TYPE=ENTITY`,"_blank"):(i(h),t(!0))})},f=Ug(()=>{if(!y)return a(L,{});const h=y==null?void 0:y.hasUnmetAccessRequirement,p=y==null?void 0:y.restrictionLevel;let g="";if(h)g="Request Access";else{if(No.OPEN===p)return a(L,{});g="View Terms"}return C(L,{children:[a("a",{style:{fontSize:"14px",cursor:"pointer",marginLeft:"5px",verticalAlign:"middle"},className:r.className,onClick:m,children:g}),e&&a(Sr,{entityId:s,accessRequirementFromProps:n,renderAsModal:!0,onHide:()=>{t(!1)}})]})},[s,y,n,e]);return l===void 0?a(L,{}):C("span",{style:{whiteSpace:"nowrap"},children:[l==="AccessBlockedToAnonymous"?a("button",{type:"button",className:fs,onClick:h=>{if(h.isTrusted){const p=new MouseEvent("click",{bubbles:!0});h.currentTarget.dispatchEvent(p)}},children:a(Ya,{downloadType:l})}):a(Ya,{downloadType:l}),f]})}try{wr.displayName="useGetFileHandleDownloadType",wr.__docgenInfo={description:`Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.

To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx }`,displayName:"useGetFileHandleDownloadType",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/HasAccessV2.tsx#useGetFileHandleDownloadType"]={docgenInfo:wr.__docgenInfo,name:"useGetFileHandleDownloadType",path:"src/lib/containers/HasAccessV2.tsx#useGetFileHandleDownloadType"})}catch{}try{Cr.displayName="HasAccessV2",Cr.__docgenInfo={description:`HasAccess shows if the user has access to the file or not.

The component's behavior changes whether it's passed in a FileHandle or not.
If passed a file handle then it will give more detailed information about the download.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"(() => void)"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},entityVersionNumber:{defaultValue:null,description:"",name:"entityVersionNumber",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/HasAccessV2.tsx#HasAccessV2"]={docgenInfo:Cr.__docgenInfo,name:"HasAccessV2",path:"src/lib/containers/HasAccessV2.tsx#HasAccessV2"})}catch{}const Hg=window.React.useEffect,jg=window.React.useState,_r=r=>{const{accessToken:e}=X(),{entityIdList:t}=r,[n,i]=jg([a(L,{})]),{ref:s,inView:o}=Nt();let l=!0;Hg(()=>(o&&d(),()=>{l=!1}),[t,o]);const d=()=>{!t.length||gc(t,e).then(c=>{if(l){const y=c.results.map(m=>a("p",{children:a(Ui,{entity:m,displayTextField:"name"})},m.id));i(y)}}).catch(c=>{console.log("EntityIdList: Error getting entity headers",c)})};return a("span",{ref:s,children:n})};try{_r.displayName="EntityIdList",_r.__docgenInfo={description:"",displayName:"EntityIdList",props:{entityIdList:{defaultValue:null,description:"",name:"entityIdList",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/EntityIdList.tsx#EntityIdList"]={docgenInfo:_r.__docgenInfo,name:"EntityIdList",path:"src/lib/containers/EntityIdList.tsx#EntityIdList"})}catch{}const Wg=window.React.useEffect,zg=window.React.useState,vr=r=>{const{accessToken:e}=X(),{evaluationId:t}=r,[n,i]=zg(),{ref:s,inView:o}=Nt();let l=!0;Wg(()=>(l&&o&&d(),()=>{l=!1}),[t,o]);const d=()=>{!t||yc(t,e).then(c=>{i(c.name)}).catch(c=>{console.log("EvaluationIdListRenderer: Error getting evaluation queue names",c)})};return a("span",{ref:s,children:n})};try{vr.displayName="EvaluationIdRenderer",vr.__docgenInfo={description:"",displayName:"EvaluationIdRenderer",props:{evaluationId:{defaultValue:null,description:"",name:"evaluationId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/EvaluationIdRenderer.tsx#EvaluationIdRenderer"]={docgenInfo:vr.__docgenInfo,name:"EvaluationIdRenderer",path:"src/lib/containers/EvaluationIdRenderer.tsx#EvaluationIdRenderer"})}catch{}const Yg=window.React.useEffect,Qg=window.React.useState,Tr=r=>{const{accessToken:e}=X(),{userIds:t}=r,[n,i]=Qg(),{ref:s,inView:o}=Nt();let l=!0;Yg(()=>(l&&o&&d(),()=>{l=!1}),[t,o]);const d=()=>{!t.length||bc(t,e).then(c=>{const y=c.list.map(m=>a(_o,{userProfile:m,className:"SRC-marginFifteen"},m.ownerId));i(y)}).catch(c=>{console.log("UserIdList: Error getting user profiles",c)})};return a("span",{ref:s,children:n})};try{Tr.displayName="UserIdList",Tr.__docgenInfo={description:"",displayName:"UserIdList",props:{userIds:{defaultValue:null,description:"",name:"userIds",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/UserIdList.tsx#UserIdList"]={docgenInfo:Tr.__docgenInfo,name:"UserIdList",path:"src/lib/containers/UserIdList.tsx#UserIdList"})}catch{}const Rr=({columnType:r,columnValue:e,isBold:t,mapEntityIdToHeader:n,mapUserIdToHeader:i,columnLinkConfig:s,rowIndex:o,columnName:l,selectColumns:d,columnModels:c,rowData:y,rowId:m,rowVersionNumber:f})=>{const{entity:S}=$e(),h=(p,g=20)=>!p||p.length<=g;if(!e)return C("p",{className:"SRC-center-text SRC-inactive",children:[" ",bd]});if(s)return a(an,{value:e,columnName:l,selectColumns:d,columnModels:c,isHeader:!1,labelLink:s,rowData:y});if(S&&(gt(S)||_t(S)||go(S))&&(l==="id"||l==="name")&&m&&f){const p=`syn${m.toString()}`;if(Object.prototype.hasOwnProperty.call(n,p))return a("p",{children:a(Ui,{entity:n[p],versionNumber:f,className:`${t}`,showIcon:!1,displayTextField:l})})}switch(r){case j.ENTITYID:if(Object.prototype.hasOwnProperty.call(n,e))return a("p",{children:a(Ui,{entity:n[e],className:`${t}`,displayTextField:"name"})});break;case j.DATE_LIST:{const p=JSON.parse(e);return C("p",{children:[p.map((g,w)=>C("span",{className:t,children:[new Date(g).toLocaleString(),w!==p.length-1?", ":""]},w))," "]})}case j.BOOLEAN_LIST:{const p=JSON.parse(e);return a("p",{children:p.map((g,w)=>C("span",{className:t,children:[g?"true":"false",w!==p.length-1?", ":""]},w))})}case j.FILEHANDLEID:return a(L,{children:S&&a(nn,{associatedObjectId:S.id,associatedObjectType:Te.TableEntity,fileHandleId:e,displayFileName:!0})});case j.ENTITYID_LIST:{const p=JSON.parse(e);return a(_r,{entityIdList:p})}case j.USERID_LIST:{const p=JSON.parse(e);return a(Tr,{userIds:p})}case j.STRING_LIST:case j.INTEGER_LIST:{const p=JSON.parse(e);return a("p",{children:p.map((g,w)=>C("span",{className:t,children:[g,w!==p.length-1?", ":""]},g))})}case j.EVALUATIONID:return a(vr,{evaluationId:e});case j.DATE:return a("p",{className:t,children:new Date(Number(e)).toLocaleString()});case j.USERID:if(Object.prototype.hasOwnProperty.call(i,e)){const{ownerId:p,userName:g}=i[e];if(i[e].isIndividual===!1){const w=g===Qs?"public":"people";return g===Qs?C("span",{children:[a(le,{options:{icon:w}})," All registered Synapse users"]}):C("a",{target:"_blank",rel:"noopener noreferrer",href:`${Ee.PORTAL}#!Team:${p}`,children:[a(le,{options:{icon:w}})," ",g]})}else return a(ot,{userProfile:i[e],preSignedURL:i[e].clientPreSignedURL,size:"SMALL USER CARD"})}break;case j.LINK:return a("a",{target:"_blank",rel:"noopener noreferrer",href:e,children:e});case j.STRING:case j.DOUBLE:case j.INTEGER:case j.BOOLEAN:case j.LARGETEXT:return h(e)?C("p",{className:t,children:[" ",e]}):a("div",{className:t,children:a(si,{tooltipText:e,callbackFn:Ud,idForToolTip:`${l}_${o}`,children:C("p",{className:t,children:[" ",e]})})});default:return console.warn(`ColumnType ${r} has unspecified handler. Rendering the column value.`),a("p",{className:t,children:e})}return a("p",{className:t,children:e})};try{Rr.displayName="SynapseTableCell",Rr.__docgenInfo={description:"",displayName:"SynapseTableCell",props:{columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'}]}},columnValue:{defaultValue:null,description:"",name:"columnValue",required:!0,type:{name:"string"}},isBold:{defaultValue:null,description:"",name:"isBold",required:!0,type:{name:"string"}},columnLinkConfig:{defaultValue:null,description:"",name:"columnLinkConfig",required:!1,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink"}},mapEntityIdToHeader:{defaultValue:null,description:"",name:"mapEntityIdToHeader",required:!0,type:{name:"Record<string, EntityHeader>"}},mapUserIdToHeader:{defaultValue:null,description:"",name:"mapUserIdToHeader",required:!0,type:{name:"Partial<UserGroupHeader & UserProfile>"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!1,type:{name:"number"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}},rowId:{defaultValue:null,description:"",name:"rowId",required:!1,type:{name:"number"}},rowVersionNumber:{defaultValue:null,description:"",name:"rowVersionNumber",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/synapse_table_functions/SynapseTableCell.tsx#SynapseTableCell"]={docgenInfo:Rr.__docgenInfo,name:"SynapseTableCell",path:"src/lib/containers/synapse_table_functions/SynapseTableCell.tsx#SynapseTableCell"})}catch{}function Bl(){return C("div",{className:"text-center",children:[Hd,a("h4",{children:"No Matching Results"}),a("p",{children:"Try checking the spelling or removing filters."})]})}const Ul=window.SQLParser.lexer,Qa=(r,...e)=>{var n;const t=[];return(n=r==null?void 0:r.selectColumns)==null||n.forEach((i,s)=>{e.includes(i.columnType)&&t.push(s)}),t},Ka=(r,e,t)=>{var i;const n=new Set;return(i=r.queryResult)==null||i.queryResults.rows.forEach(s=>{s.values.forEach((o,l)=>{t.includes(l)&&!Object.prototype.hasOwnProperty.call(e,o)&&o&&n.add(o)})}),n};function Kg(r){const e=[];if(Ic(r)){const t=Ul.tokenize(r),n=t.findIndex(o=>o[0]==="SELECT"),i=t.findIndex(o=>o[0]==="FROM");let s=0;for(let o=n+1;o<i-n-1;o+=1){const l=t[o];l[0]==="FUNCTION"&&l[1].toLowerCase()==="count"?e.push(s):l[0]==="SEPARATOR"&&(s+=1)}}return e}function Gg(r,e,t){let n=Ul.tokenize(e);const i=n.findIndex(m=>m[0]==="SELECT"),s=n.findIndex(m=>m[0]==="FROM"),o=[];let l=0,d=!1;for(let m=i+1;m<s-i-1;m+=1){const f=n[m];f[0]==="FUNCTION"||f[1].toLocaleLowerCase()==="concat"?d=!0:f[0]==="LITERAL"&&!d?o.push({index:l,name:f[1]}):f[0]==="SEPARATOR"&&(l+=1,d=!1)}if(n=n.slice(0,n.findIndex(m=>m[0]==="GROUP")),n.splice(i+1,s-i-1,["STAR","*","1"]),t===void 0)return{synId:"",newSql:""};n.findIndex(m=>m[0]==="WHERE")===-1?n.push(["WHERE","WHERE","1"]):n.push(["CONDITIONAL","AND","1"]),o.forEach((m,f)=>{const S=r.values[m.index];S?n.push(["LITERAL",m.name,"1"],["OPERATOR","=","1"],["STRING",S,"1"],["CONDITIONAL","AND","1"]):n.push(["LITERAL",m.name,"1"],["OPERATOR","IS","1"],["BOOLEAN","null","1"],["CONDITIONAL","AND","1"])}),n.pop();const y=n[n.findIndex(m=>m[0]==="FROM")+1][1];return n.push(["EOF","","1"]),{synId:y,newSql:Ec(n)}}const Xg=()=>{const{data:r,goToPage:e,pageSize:t,setPageSize:n,currentPage:i}=zc(),s=r==null?void 0:r.queryCount,o=(d,c)=>{e(c)},l=d=>{const c=d.target.value;n(c)};return i==1&&s&&s<10?a(L,{}):C("div",{children:[a(gm,{page:i,count:Math.ceil(s/t),color:"secondary",onChange:o,style:{display:"inline-block",float:"left"}}),a(qt,{variant:"body1",style:{display:"inline-block"},children:`${s==null?void 0:s.toLocaleString()} total rows /`}),C("select",{name:"page size",onChange:l,style:{padding:"4px",marginLeft:"4px"},value:t,children:[a("option",{value:10,children:"10 per page"}),a("option",{value:25,children:"25 per page"}),a("option",{value:100,children:"100 per page"}),a("option",{value:500,children:"500 per page"})]})]})};function $l(){return C(L,{children:[a("p",{className:"SRC-no-results-title",children:"There is currently no content here."}),a("p",{className:"SRC-no-results-description",children:"Information is always being updated, so check back later to see if content has been added."})]})}const Ar=r=>{const{onCopy:e}=r;return a(Xe,{title:"Copy IDs to the clipboard",enterNextDelay:Yr,placement:"right",children:a("span",{children:a("button",{"data-testid":"copySynIdsButton",onClick:e,children:a("span",{style:{height:15,marginTop:-1},children:a(le,{options:{icon:"contentCopy"}})})})})})};try{Ar.displayName="InteractiveCopyIdsIcon",Ar.__docgenInfo={description:"",displayName:"InteractiveCopyIdsIcon",props:{onCopy:{defaultValue:null,description:"",name:"onCopy",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/InteractiveCopyIdsIcon.tsx#InteractiveCopyIdsIcon"]={docgenInfo:Ar.__docgenInfo,name:"InteractiveCopyIdsIcon",path:"src/lib/containers/InteractiveCopyIdsIcon.tsx#InteractiveCopyIdsIcon"})}catch{}const jt=window.React,Jg=()=>{const r=X(),e=$e(),[t,n]=jt.useState(!1),[i,s]=jt.useState(),[o,l]=jt.useState();jt.useEffect(()=>(o||l(new AbortController),()=>{o&&o.abort()}),[o]);const d=()=>{n(!0);const{getLastQueryRequest:c}=e,y=c(),{sql:m}=y.query,{entityId:f,versionNumber:S}=xc(m),h=S?`.${S}`:"";y.partMask=wn,y.query={sql:`select id from ${f}${h}`},io(y,r.accessToken,o==null?void 0:o.signal).then(p=>{s(p)}).catch(p=>{console.error(p),vt("Unable to query for all Synapse IDs to copy","danger")}).finally(()=>{n(!1)})};return jt.useEffect(()=>{if(i){const{rows:c}=i.queryResult.queryResults,y=c.map(m=>`${m.values[0]}`).join(`
`);navigator.clipboard.writeText(y).then(()=>{vt("Successfully copied to clipboard"),s(void 0)})}},[i]),t?a(Bd,{size:25}):a(Ar,{onCopy:()=>{d()}})},Ga=window.React,Zg={id:"",name:"",type:"org.sagebionetworks.repo.model.FileEntity",versionNumber:-1,versionLabel:"",benefactorId:-1,createdBy:"",createdOn:"",modifiedBy:"",modifiedOn:"",isLatestVersion:!0},ey=["","DESC","ASC"],Xa={resizeMode:"overflow",partialRefresh:"true",liveDrag:!0,headerOnly:"true"};class rn extends Ga.Component{constructor(e){super(e),this.tableElement=void 0,this.showGroupRowData=t=>{const n=this.props.queryContext.getLastQueryRequest().query,i=Gg(t,n.sql,this.props.queryContext.data);n.sql=i.newSql;const s=JSON.stringify(n),o=btoa(s);return`${Ee.PORTAL}#!Synapse:${i.synId}/tables/query/${o}`},this.renderTable=(t,n,i,s)=>{var w,I;const o=(I=(w=this.props.queryContext).getLastQueryRequest)==null?void 0:I.call(w),{queryContext:{entity:l},showAccessColumn:d,showDownloadColumn:c,isRowSelectionVisible:y}=this.props,m=l&&(gt(l)&&Lc(l)||_t(l)),f=d&&l&&this.isEntityViewOrDataset()&&this.allRowsHaveId(),S=!!this.props.synapseContext.accessToken,h=l&&m&&S&&this.allRowsHaveId(),p=!!(h&&!this.props.hideDownload),g=h&&c;return C("div",{className:"SynapseTable SRC-overflowAuto","data-testid":"SynapseTable",children:[C("table",{ref:b=>this.tableElement=b,className:"table table-striped table-condensed",children:[a("thead",{className:"SRC_bordered",children:a("tr",{children:this.createTableHeader(t,n,i,f,g,p,y,o)})}),a("tbody",{children:this.createTableRows(s,t,f,g,p,y)})]}),a("div",{className:"bootstrap-4-backport",style:{textAlign:"right"},children:a(Xg,{})})]})},this.handleColumnSortPress=t=>n=>{let i=yt(this.state.columnIconSortState);i.length===0&&(i=Array(this.getLengthOfPropsData()).fill(0));const s=yt(this.state.sortedColumnSelection),o=this.findSelectionIndex(s,t.name);o!==-1&&s.splice(o,1),i[t.index]=(i[t.index]+1)%Gs.length,i[t.index]>0&&s.unshift({column:t.name,direction:ey[i[t.index]]});const l=this.props.queryContext.getLastQueryRequest();l.query.sort=s,l.query.offset=0,this.props.queryContext.executeQueryRequest(l),this.setState({columnIconSortState:i,sortedColumnSelection:s})},this.applyChangesFromQueryFilter=t=>{const n=this.props.queryContext.getLastQueryRequest();n.query.selectedFacets=t,n.query.offset=0,this.props.queryContext.executeQueryRequest(n)},this.componentDidMount=this.componentDidMount.bind(this),this.componentWillUnmount=this.componentWillUnmount.bind(this),this.componentDidUpdate=this.componentDidUpdate.bind(this),this.shouldComponentUpdate=this.shouldComponentUpdate.bind(this),this.handleColumnSortPress=this.handleColumnSortPress.bind(this),this.findSelectionIndex=this.findSelectionIndex.bind(this),this.advancedSearch=this.advancedSearch.bind(this),this.getLengthOfPropsData=this.getLengthOfPropsData.bind(this),this.configureFacetDropdown=this.configureFacetDropdown.bind(this),this.enableResize=this.enableResize.bind(this),this.disableResize=this.disableResize.bind(this),this.isEntityViewOrDataset=this.isEntityViewOrDataset.bind(this),this.allRowsHaveId=this.allRowsHaveId.bind(this),this.state={columnIconSortState:[],isExportTableDownloadOpen:!1,isExpanded:!1,isColumnSelectionOpen:!1,sortedColumnSelection:[],mapEntityIdToHeader:{},mapUserIdToHeader:{},isFetchingEntityHeaders:!1},this.getEntityHeadersInData=this.getEntityHeadersInData.bind(this)}componentWillUnmount(){this.disableResize()}componentDidMount(){this.getEntityHeadersInData(!0),this.enableResize()}shouldComponentUpdate(e,t){const{isFetchingEntityHeaders:n,...i}=this.state,{isFetchingEntityHeaders:s,...o}=t,l=!qn(this.props,e),d=!qn(i,o),c=l||d;return c&&this.disableResize(),c}componentDidUpdate(e,t){qn(e.queryContext.data,this.props.queryContext.data)?e.queryContext.entity&&this.props.queryContext.entity&&!qn(gt(e.queryContext.entity),gt(this.props.queryContext.entity))&&this.getEntityHeadersInData(!0):this.getEntityHeadersInData(!1),this.enableResize()}enableResize(){this.resizer?setTimeout(()=>{this.resizer.reset(Xa)},1e3):this.tableElement&&this.getLengthOfPropsData()>1&&(this.resizer=new yg(this.tableElement,Xa))}disableResize(){this.resizer&&this.resizer.reset({disable:!0})}async getEntityHeadersInData(e){var m,f,S;const{data:t,entity:n}=this.props.queryContext;if(!t||!n)return;if(this.state.isFetchingEntityHeaders&&!e)return;const i=yt(this.state.mapEntityIdToHeader),s=yt(this.state.mapUserIdToHeader),o=Qa(t,j.ENTITYID),l=Qa(t,j.USERID),d=Ka(t,i,o);(this.isEntityViewOrDataset()||n&&go(n))&&this.allRowsHaveId()&&((S=(f=(m=t.queryResult)==null?void 0:m.queryResults)==null?void 0:f.rows)!=null?S:[]).forEach(p=>{const g=`syn${p.rowId}`;d.add(g)});const c=Ka(t,s,l);if(d.size===0&&c.size===0)return;if(this.setState({isFetchingEntityHeaders:!0}),d.size>0){const h=Array.from(d).map(p=>({targetId:p}));try{h.forEach(w=>{i[w.targetId]=Zg});const p=await Sc(h,this.props.synapseContext.accessToken),{results:g}=p;g.forEach(w=>{i[w.id]=w})}catch(p){console.error("Error on retrieving entity header list , ",p)}}const y=[];if(c.size>0){const h=Array.from(c);try{(await wc(h,this.props.synapseContext.accessToken)).children.forEach(g=>{g.isIndividual?y.push(g.ownerId):s[g.ownerId]=g})}catch(p){console.error("Error on getGroupHeaders batch: ",p)}}if(y.length>0)try{(await md(y)).list.forEach(p=>{s[p.ownerId]=p})}catch(h){console.error("Error on getUserProfile : ",h)}this.setState({mapEntityIdToHeader:i,mapUserIdToHeader:s,isFetchingEntityHeaders:!1})}render(){var p,g;if(!this.props.queryContext.data&&this.props.queryContext.isLoadingNewBundle)return xo;if(!this.props.queryContext.data)return a(L,{});const{queryContext:{data:e},showNoContentAvailableWhenEmpty:t}=this.props,{queryResult:n,columnModels:i=[]}=e,{facets:s=[]}=e,{isExpanded:o,isExportTableDownloadOpen:l}=this.state,d=this.props.queryContext.getLastQueryRequest();let c="";if(!(((g=(p=e.queryResult)==null?void 0:p.queryResults.rows.length)!=null?g:0)>0)&&d.query.offset===0)return d.query.additionalFilters?a(Bl,{}):t?a($l,{}):C("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[Dd,a("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]});const{rows:m,headers:f}=n.queryResults,S=a("div",{children:this.renderTable(f,i,s,m)}),h=a(L,{children:C("div",{className:c,children:[l&&a(st,{onClose:()=>{this.setState({isExportTableDownloadOpen:!1})},queryBundleRequest:d}),a("div",{children:S})]})});return C(Ga.Fragment,{children:[o&&C(Q,{animation:!1,show:!0,onHide:()=>this.setState({isExpanded:!1}),dialogClassName:"modal-90w",backdrop:"static",children:[a(Q.Header,{onHide:()=>this.setState({isExpanded:!1}),closeButton:!0}),a(Q.Body,{children:h})]}),!o&&h]})}allRowsHaveId(){var t,n;const{queryContext:{data:e}}=this.props;return(n=(t=e==null?void 0:e.queryResult)==null?void 0:t.queryResults.rows.every(i=>!!i.rowId))!=null?n:!1}isEntityViewOrDataset(){var t;const{queryContext:{entity:e}}=this.props;return(t=e&&(gt(e)||_t(e)))!=null?t:!1}createTableRows(e,t,n,i,s,o){const l=[],{queryContext:{data:d},queryVisualizationContext:{columnsToShowInTable:c,selectedRowIndices:y,setSelectedRowIndices:m},columnLinks:f=[],linkCountToDisaggregatedQuery:S=!1}=this.props,{selectColumns:h=[],columnModels:p=[]}=d,{mapEntityIdToHeader:g,mapUserIdToHeader:w}=this.state,I=Kg(this.props.queryContext.getLastQueryRequest().query.sql);return e.forEach((b,u)=>{var k,D,P;const _=(k=b.versionNumber)==null?void 0:k.toString(),A=`syn${b.rowId}`,R=b.values.map((M,v)=>{const O=t[v].name,N=c.includes(O),F=f.find(se=>se.matchColumnName===O),J=this.findSelectionIndex(this.state.sortedColumnSelection,O),K=I.includes(v)&&S,B=J===-1?"":"SRC-boldText";return N?a("td",{className:"SRC_noBorderTop SRC-synapseTableTd",children:K?a("a",{href:this.showGroupRowData(b),target:"_blank",rel:"noopener noreferrer",children:a("p",{className:B,children:M})}):a(Rr,{columnType:t[v].columnType,columnValue:M,isBold:B,mapEntityIdToHeader:g,mapUserIdToHeader:w,rowIndex:u,columnLinkConfig:F,columnName:O,rowData:b.values,selectColumns:h,columnModels:p,rowId:b.rowId,rowVersionNumber:b.versionNumber})},`(${u}${M}${v})`):a("td",{className:"SRC-hidden"},`(${u},${v})`)});n&&R.unshift(a("td",{className:"SRC_noBorderTop",children:a(Cr,{entityId:A,entityVersionNumber:_},A)},A));const x=((D=g[A])==null?void 0:D.type)=="org.sagebionetworks.repo.model.FileEntity";i&&R.unshift(a("td",{className:"SRC_noBorderTop direct-download",children:x&&a(nn,{associatedObjectId:A,entityVersionNumber:_})},`direct-download-${A}`)),s&&R.unshift(a("td",{className:"SRC_noBorderTop add-to-download-list-v2",children:x&&a(pr,{entityId:A,entityVersionNumber:parseInt(_)})},`add-to-download-list-v2-${A}`)),o&&y&&R.unshift(a("td",{className:"SRC_noBorderTop",children:a($d,{label:"",checked:y.includes(u),onChange:M=>{const v=[...y];if(M)v.push(u);else{const O=v.indexOf(u);O>-1&&v.splice(O,1)}m(v)}})},`(${u},rowSelectColumn)`));const E=a("tr",{children:R},(P=b.rowId)!=null?P:u);l.push(E)}),l}isSortableColumn(e){switch(e){case j.USERID:case j.ENTITYID:case j.FILEHANDLEID:case j.STRING_LIST:case j.INTEGER_LIST:case j.BOOLEAN_LIST:case j.DATE_LIST:case j.USERID_LIST:case j.ENTITYID_LIST:return!1;default:return!0}}createTableHeader(e,t,n,i,s,o,l,d){const{sortedColumnSelection:c,columnIconSortState:y}=this.state,{queryVisualizationContext:{facetAliases:m={},columnsToShowInTable:f},queryContext:{lockedColumn:S}}=this.props,h=e.map((p,g)=>{var I;if(f.includes(p.name)){const b=this.findSelectionIndex(c,p.name)!==-1,u=y[g]===void 0?0:y[g],_=n.findIndex(O=>O.columnName===p.name),A=_!==-1&&n[_].facetType==="enumeration",R=n[_],x=b?"SRC-primary-background-color SRC-anchor-light":"",E=b?"SRC-selected-table-icon tool-icon":"SRC-primary-text-color tool-icon",k=`SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${x}`,D=Ye(p.name,m),P=t.find(O=>O.name===p.name),M=p.name.toLowerCase()===((I=S==null?void 0:S.columnName)==null?void 0:I.toLowerCase()),v=P&&P.name=="id"&&P.columnType==j.ENTITYID;return a("th",{children:C("div",{className:"SRC-split",children:[a("span",{style:{whiteSpace:"nowrap"},children:D}),C("div",{className:"SRC-centerContent",children:[A&&!M&&this.configureFacetDropdown(R,P,d,m),this.isSortableColumn(p.columnType)&&a("span",{role:"button","aria-label":"sort",tabIndex:0,className:k,onKeyPress:this.handleColumnSortPress({index:g,name:p.name}),onClick:this.handleColumnSortPress({index:g,name:p.name}),children:a(ai,{type:Gs[u],cssClass:E})}),v&&a(Jg,{})]})]})},p.name)}else return a("th",{className:"SRC-hidden"},p.name)});return i&&h.unshift(a("th",{children:a("div",{className:"SRC-centerContent",children:a("span",{style:{whiteSpace:"nowrap"},children:"Access"})})},"accessColumn")),s&&h.unshift(a("th",{children:a("div",{className:"SRC-centerContent",children:"\xA0"})},"downloadColumn")),o&&h.unshift(a("th",{"data-testid":"AddToDownloadListV2ColumnHeader",children:a("div",{className:"SRC-centerContent",children:"\xA0"})},"addToV2DownloadListColumn")),l&&h.unshift(a("th",{children:a("div",{className:"SRC-centerContent"})},"rowSelectionColumn")),h}findSelectionIndex(e,t){return e.length!==0?e.findIndex(n=>n.column===t):-1}advancedSearch(e){e&&e.preventDefault();const t=this.props.queryContext.getLastQueryRequest(),{query:n}=t,i=btoa(JSON.stringify(n)),s=t.entityId;window.open(`${Ee.PORTAL}#!Synapse:${s}/tables/query/${i}`,"_blank")}getLengthOfPropsData(){var t,n;const{data:e}=this.props.queryContext;return(n=(t=e==null?void 0:e.queryResult)==null?void 0:t.queryResults.headers.length)!=null?n:0}configureFacetDropdown(e,t,n,i){return a(Yc,{containerAs:"Dropdown",facetValues:e.facetValues,columnModel:t,facetAliases:i,onChange:s=>{Qc(n,e,this.applyChangesFromQueryFilter,s)},onClear:()=>{Kc(n,e,this.applyChangesFromQueryFilter)}})}}try{rn.displayName="SynapseTable",rn.__docgenInfo={description:"",displayName:"SynapseTable",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"SynapseContextType"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},linkCountToDisaggregatedQuery:{defaultValue:null,description:`If true, columns created by the COUNT function will render with a link to Synapse that opens the disaggregated query results filtered by the conditions of that row.
Note that this is very brittle and only supports one column at a time. See SWC-6075 for more information. Default false.`,name:"linkCountToDisaggregatedQuery",required:!1,type:{name:"boolean"}},showNoContentAvailableWhenEmpty:{defaultValue:null,description:"",name:"showNoContentAvailableWhenEmpty",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/SynapseTable.tsx#SynapseTable"]={docgenInfo:rn.__docgenInfo,name:"SynapseTable",path:"src/lib/containers/table/SynapseTable.tsx#SynapseTable"})}catch{}function Hl(){const{data:r}=$e(),{showLastUpdatedOn:e}=_n();return e&&r&&r.lastUpdatedOn?a("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:C(qt,{variant:"body2",children:["Last updated on ",vo(oi(r.lastUpdatedOn))]})}):a(L,{})}const Ir=r=>{const{tableConfiguration:e,cardConfiguration:t,hideDownload:n}=r,i=X(),s=$e(),o=_n();return C("div",{className:`FilterAndView ${o.topLevelControlsState.showFacetFilter?xt:Ot}`,children:[e?a(rn,{...e,synapseContext:i,queryContext:s,queryVisualizationContext:o,hideDownload:n}):a(L,{}),t?a(ln,{...t}):a(L,{}),a(Hl,{})]})};try{Ir.displayName="FilterAndView",Ir.__docgenInfo={description:"",displayName:"FilterAndView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!0,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext"> | undefined'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration | undefined"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/query_wrapper_plot_nav/FilterAndView.tsx#FilterAndView"]={docgenInfo:Ir.__docgenInfo,name:"FilterAndView",path:"src/lib/containers/query_wrapper_plot_nav/FilterAndView.tsx#FilterAndView"})}catch{}const ty=window.React,ny="isShowingFacetFilters",ry="isHidingFacetFilters",Er=r=>{const[e,t]=ty.useState(!1),{searchParams:n,sql:i,sqlOperator:s,tableConfiguration:o,name:l,cardConfiguration:d,facetsToPlot:c,facetsToFilter:y,hideDownload:m,hideQueryCount:f,hideSqlEditorControl:S,searchConfiguration:h,limit:p=Cc,initQueryJson:g,showLastUpdatedOn:w}=r,I=bs(i,n,s),b=g?JSON.parse(g):{sql:I,limit:p,offset:0},u=Et(b.sql),{data:_}=ps(u),A=_&&yo(_)&&_.isSearchEnabled,R={entityId:u,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:wn|Cn|hs|co|ms|gs|us|ys,query:b};return a("div",{className:"QueryWrapperPlotNav",children:a(o?wo:Jt,{...r,initQueryRequest:R,children:a(ws,{unitDescription:"results",rgbIndex:r.rgbIndex,facetAliases:r.facetAliases,visibleColumnCount:r.visibleColumnCount,defaultShowFacetVisualization:r.defaultShowFacetVisualization,defaultShowSearchBar:r.defaultShowSearchBox||A,showLastUpdatedOn:w,children:a(Cs,{children:E=>{if(E===void 0)throw new Error("No queryContext found when using QueryContextConsumer");const k=E==null?void 0:E.isFacetsAvailable;return a(So,{children:D=>{if(D===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");const P=(D==null?void 0:D.topLevelControlsState.showFacetFilter)||(D==null?void 0:D.topLevelControlsState.showFacetFilter)===void 0;return C(L,{children:[a("div",{className:`ErrorBannerWrapper ${P?ny:ry}`,children:a(Gc,{})}),A?a(Xt,{helpUrl:h==null?void 0:h.fullTextSearchHelpURL}):a(Zt,{...h,queryContext:E,queryVisualizationContext:D}),a(en,{}),a(rr,{getLastQueryRequest:E.getLastQueryRequest,topLevelControlsState:D.topLevelControlsState,setTopLevelControlsState:D.setTopLevelControlsState}),a(tn,{showColumnSelection:o!==void 0,name:l,hideDownload:m,hideQueryCount:f,hideFacetFilterControl:!k,hideVisualizationsControl:!k,hideSqlEditorControl:S}),k&&a(L,{children:a(Xc,{facetsToFilter:y})}),a(Jc,{facetsToPlot:c}),a(Ir,{tableConfiguration:o,hideDownload:m,cardConfiguration:d}),e&&a(st,{getLastQueryRequest:E.getLastQueryRequest,onClose:()=>t(!1)})]})}})}})})})})},iy=Er;try{Er.displayName="QueryWrapperPlotNav",Er.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"="'},{value:'"HAS"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"If onQueryChange is set, the callback will be invoked when the Query changes",name:"onQueryChange",required:!1,type:{name:"((newQueryJson: string) => void)"}},onQueryResultBundleChange:{defaultValue:null,description:"If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes",name:"onQueryResultBundleChange",required:!1,type:{name:"((newQueryResultBundleJson: string) => void)"}},initQueryJson:{defaultValue:null,description:"If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest",name:"initQueryJson",required:!1,type:{name:"string"}},tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:'Omit<SynapseTableProps, "synapseContext" | "queryContext" | "queryVisualizationContext">'}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},facetsToFilter:{defaultValue:null,description:"",name:"facetsToFilter",required:!1,type:{name:"string[]"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},defaultShowFacetVisualization:{defaultValue:null,description:"",name:"defaultShowFacetVisualization",required:!1,type:{name:"boolean"}},defaultShowSearchBox:{defaultValue:null,description:"",name:"defaultShowSearchBox",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/query_wrapper_plot_nav/QueryWrapperPlotNav.tsx#QueryWrapperPlotNav"]={docgenInfo:Er.__docgenInfo,name:"QueryWrapperPlotNav",path:"src/lib/containers/query_wrapper_plot_nav/QueryWrapperPlotNav.tsx#QueryWrapperPlotNav"})}catch{}const sy=r=>yt({partMask:gs|Cn|hs|ms|wn|ys,entityId:Et(r),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:r,limit:25,offset:0}}),xr=r=>{const{title:e,searchParams:t,sqlOperator:n,showAccessColumn:i,sql:s,hideDownload:o,hideQueryCount:l,name:d,showTopLevelControls:c=!1,searchConfiguration:y,unitDescription:m="Results",rgbIndex:f,showLastUpdatedOn:S,...h}=r,p=sy(s);t&&(p.query.sql=bs(p.query.sql,t,n));const g=X(),w=Et(s),{data:I}=ps(w);return a(wo,{...h,initQueryRequest:p,children:a(ws,{rgbIndex:f,unitDescription:m,showLastUpdatedOn:S,...h,children:a(Cs,{children:b=>{if(b===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return a(So,{children:u=>{if(u===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return C(L,{children:[c&&a(tn,{showColumnSelection:!0,name:d,hideDownload:o,hideQueryCount:l,hideFacetFilterControl:!0,hideVisualizationsControl:!0}),I&&yo(I)&&I.isSearchEnabled?a(Xt,{helpUrl:y==null?void 0:y.fullTextSearchHelpURL}):a(Zt,{...y,queryContext:b,queryVisualizationContext:u}),a(en,{}),c&&a(Co,{frontText:""}),a(rn,{synapseContext:g,queryContext:b,queryVisualizationContext:u,showAccessColumn:i,title:e,"data-testid":"SynapseTable",...h}),a(Hl,{})]})}})}})})})},ay=xr;try{xr.displayName="StandaloneQueryWrapper",xr.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},showAccessColumn:{defaultValue:null,description:"",name:"showAccessColumn",required:!1,type:{name:"boolean"}},showDownloadColumn:{defaultValue:null,description:"",name:"showDownloadColumn",required:!1,type:{name:"boolean"}},columnLinks:{defaultValue:null,description:"",name:"columnLinks",required:!1,type:{name:"LabelLinkConfig"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},linkCountToDisaggregatedQuery:{defaultValue:null,description:`If true, columns created by the COUNT function will render with a link to Synapse that opens the disaggregated query results filtered by the conditions of that row.
Note that this is very brittle and only supports one column at a time. See SWC-6075 for more information. Default false.`,name:"linkCountToDisaggregatedQuery",required:!1,type:{name:"boolean"}},showNoContentAvailableWhenEmpty:{defaultValue:null,description:"",name:"showNoContentAvailableWhenEmpty",required:!1,type:{name:"boolean"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ facetValue: string; }"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"="'},{value:'"HAS"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}},showTopLevelControls:{defaultValue:null,description:"",name:"showTopLevelControls",required:!1,type:{name:"boolean"}},searchConfiguration:{defaultValue:null,description:"",name:"searchConfiguration",required:!1,type:{name:'Omit<SearchV2Props, "queryContext" | "queryVisualizationContext">'}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/table/StandaloneQueryWrapper.tsx#StandaloneQueryWrapper"]={docgenInfo:xr.__docgenInfo,name:"StandaloneQueryWrapper",path:"src/lib/containers/table/StandaloneQueryWrapper.tsx#StandaloneQueryWrapper"})}catch{}function Or(r){const{query:e,showquery:t,tableonly:n}=r,i=t==="true",s=n==="true",o="Items";return s?a(ay,{sql:e,name:o}):a(iy,{sql:e,hideSqlEditorControl:!i,name:o,defaultShowFacetVisualization:!1,tableConfiguration:{}})}try{Or.displayName="MarkdownSynapseTable",Or.__docgenInfo={description:"",displayName:"MarkdownSynapseTable",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},showquery:{defaultValue:null,description:"",name:"showquery",required:!0,type:{name:"string"}},tableonly:{defaultValue:null,description:"",name:"tableonly",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownSynapseTable.tsx#MarkdownSynapseTable"]={docgenInfo:Or.__docgenInfo,name:"MarkdownSynapseTable",path:"src/lib/containers/markdown/widget/MarkdownSynapseTable.tsx#MarkdownSynapseTable"})}catch{}const oy={1:"toc-indent1",2:"toc-indent2",3:"toc-indent3",4:"toc-indent4",5:"toc-indent5",6:"toc-indent6"};function qr(r){const{originalMarkup:e}=r,t=[],n=/<h([1-6]) id="(.*)" .*toc="true">(.*)<\/h[1-6]>/gm;let i="";return e.replace(n,(s,o,l,d)=>(i+=d,t.push(a("div",{children:a("a",{role:"link",className:`link ${oy[Number(o)]}`,"data-anchor":l,children:d})},d)),"")),a("div",{children:t},i)}try{qr.displayName="MarkdownTableOfContents",qr.__docgenInfo={description:"",displayName:"MarkdownTableOfContents",props:{originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownTableOfContents.tsx#MarkdownTableOfContents"]={docgenInfo:qr.__docgenInfo,name:"MarkdownTableOfContents",path:"src/lib/containers/markdown/widget/MarkdownTableOfContents.tsx#MarkdownTableOfContents"})}catch{}function Nr(r){const{alias:e}=r;return a(ot,{alias:e,size:cn})}try{Nr.displayName="MarkdownUserBadge",Nr.__docgenInfo={description:"",displayName:"MarkdownUserBadge",props:{alias:{defaultValue:null,description:"",name:"alias",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownUserBadge.tsx#MarkdownUserBadge"]={docgenInfo:Nr.__docgenInfo,name:"MarkdownUserBadge",path:"src/lib/containers/markdown/widget/MarkdownUserBadge.tsx#MarkdownUserBadge"})}catch{}function kr(r){return a(zd,{params:r})}try{kr.displayName="MarkdownVideo",kr.__docgenInfo={description:"",displayName:"MarkdownVideo",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"string"}},videoId:{defaultValue:null,description:"",name:"videoId",required:!1,type:{name:"string"}},vimeoId:{defaultValue:null,description:"",name:"vimeoId",required:!1,type:{name:"string"}},oggSynapseId:{defaultValue:null,description:"",name:"oggSynapseId",required:!1,type:{name:"string"}},mp4SynapseId:{defaultValue:null,description:"",name:"mp4SynapseId",required:!1,type:{name:"string"}},webmSynapseId:{defaultValue:null,description:"",name:"webmSynapseId",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/MarkdownVideo.tsx#MarkdownVideo"]={docgenInfo:kr.__docgenInfo,name:"MarkdownVideo",path:"src/lib/containers/markdown/widget/MarkdownVideo.tsx#MarkdownVideo"})}catch{}function sn(r){const{widgetType:e,widgetParamsMapped:t,originalMarkup:n}=r;switch(e){case"buttonlink":return a(Kn,{...t});case"image":return a(er,{...t});case"plot":return a(tr,{...t});case"toc":return a(qr,{originalMarkup:n});case"badge":return a(Nr,{...t});case"iduReport":return a(Jn,{...t});case"video":case"vimeo":case"youtube":return a(kr,{...t});case"synapsetable":return a(Or,{...t});default:return console.warn(`Unsupported widget: ${e}.`),a(L,{})}}try{sn.displayName="MarkdownWidget",sn.__docgenInfo={description:"",displayName:"MarkdownWidget",props:{widgetType:{defaultValue:null,description:"",name:"widgetType",required:!0,type:{name:"enum",value:[{value:'"image"'},{value:'"video"'},{value:'"buttonlink"'},{value:'"plot"'},{value:'"toc"'},{value:'"badge"'},{value:'"iduReport"'},{value:'"vimeo"'},{value:'"youtube"'},{value:'"synapsetable"'}]}},widgetParamsMapped:{defaultValue:null,description:"",name:"widgetParamsMapped",required:!0,type:{name:"any"}},originalMarkup:{defaultValue:null,description:"",name:"originalMarkup",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/MarkdownWidget.tsx#MarkdownWidget"]={docgenInfo:sn.__docgenInfo,name:"MarkdownWidget",path:"src/lib/containers/markdown/MarkdownWidget.tsx#MarkdownWidget"})}catch{}const Pi=window.React;class Lr extends Pi.Component{constructor(e){super(e),this.renderBookmarks=this.renderBookmarks.bind(this)}renderBookmarks(){const e=String(this.props.footnotes),t=/Synapse widget&gt;<\/span>(.*)</g;let n;const i=[];for(;n=t.exec(e);)i.push(n[1]);return i.map((s,o)=>{const l=o<i.length-1;return C(Pi.Fragment,{children:[C("button",{className:"SRC-markdown-bookmark",id:`bookmark${o}`,children:["[",o+1,"]"]}),a("span",{dangerouslySetInnerHTML:{__html:s}}),l&&a("br",{})]},o)})}render(){return C(Pi.Fragment,{children:[a("hr",{}),this.renderBookmarks()]})}}const ly=Lr;try{Lr.displayName="Bookmarks",Lr.__docgenInfo={description:"",displayName:"Bookmarks",props:{footnotes:{defaultValue:null,description:"",name:"footnotes",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/widget/Bookmarks.tsx#Bookmarks"]={docgenInfo:Lr.__docgenInfo,name:"Bookmarks",path:"src/lib/containers/markdown/widget/Bookmarks.tsx#Bookmarks"})}catch{}const Mi=window.React,Vi=markdownit({html:!0});class Ie extends Mi.Component{constructor(e){super(e),markdownitSynapse.init_markdown_it(Vi,markdownitSub,markdownitSup,markdownitCentertext,markdownitSynapseHeading,markdownitSynapseTable,markdownitStrikethroughAlt,markdownitContainer,markdownitEmphasisAlt,markdownitInlineComments,markdownitBr);const t="";Vi.use(markdownitSynapse,t,"https://synapse.org").use(markdownitMath,t);const n={};this.props.markdown&&(n.markdown=this.props.markdown),this.state={md:Vi,error:void 0,fileHandles:void 0,data:n,isLoading:!0},this.markupRef=Mi.createRef(),this.handleLinkClicks=this.handleLinkClicks.bind(this),this.renderMarkdown=this.renderMarkdown.bind(this),this.recursiveRender=this.recursiveRender.bind(this),this.processMath=this.processMath.bind(this),this.getWikiAttachments=this.getWikiAttachments.bind(this),this.getWikiPageMarkdown=this.getWikiPageMarkdown.bind(this),this.createHTML=this.createHTML.bind(this),this.addBookmarks=this.addBookmarks.bind(this),this.addIdsToReferenceWidgets=this.addIdsToReferenceWidgets.bind(this),this.addIdsToTocWidgets=this.addIdsToTocWidgets.bind(this)}componentWillUnmount(){this.markupRef.current&&this.markupRef.current.removeEventListener("click",this.handleLinkClicks)}handleLinkClicks(e){const t=e.target;if(t.tagName==="A"||t.tagName==="BUTTON"){const n=e.target;if(n.id.substring(0,3)==="ref"){e.preventDefault();const i=Number(e.currentTarget.id.substring(3)),s=this.markupRef.current.querySelector(`#bookmark${i}`);try{s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(o){console.log("error on scroll",o)}}else if(e.currentTarget.id!==null&&n.getAttribute("data-anchor")){e.preventDefault();const i=n.getAttribute("data-anchor"),s=this.markupRef.current.querySelector(`#${i}`);try{s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}catch(o){console.log("error on scroll",o)}}}}createHTML(e){if(!e)return{__html:""};const t=this.props.renderInline?this.state.md.renderInline(e):this.state.md.render(e);return{__html:am(t,{allowedAttributes:{a:["href","target"],button:["class"],div:["class"],h1:["toc"],h2:["toc"],h3:["toc"],h4:["toc"],h5:["toc"],h6:["toc"],li:["class"],ol:["class"],span:["*"],table:["class"],th:["colspan"],thead:["class"],ul:["class"],img:["src","alt"]},allowedTags:["span","code","h1","h2","h3","h4","h5","p","b","i","em","strong","a","id","table","tr","td","tbody","th","thead","button","div","img","image","ol","ul","li","svg","g","br","hr","summary","details","strong"]})}}processMath(){if(!this.markupRef.current)return;const e=this.markupRef.current.querySelectorAll('[id^="mathjax-"]'),t=new RegExp(/\\[()[\]]/,"g");e.forEach(n=>{if(n.textContent&&!n.getAttribute("processed")){n.setAttribute("processed","true");const i=n.textContent.replace(t,"");return katex.render(i,n,{output:"html",throwOnError:!1})}})}addBookmarks(){markdownitSynapse.resetFootnotes(),this.createHTML(this.state.data.markdown);const e=this.createHTML(markdownitSynapse.footnotes()).__html;if(e.length>0)return a(ly,{footnotes:e})}async getWikiPageMarkdown(){const{ownerId:e,wikiId:t,objectType:n}=this.props;if(!(!e&&!t))try{const i=await _c(this.context.accessToken,e,t,n);try{const s=await this.getWikiAttachments(t||i.id);this.setState({data:i,fileHandles:s,error:void 0})}catch(s){console.error("fileHandlesErr = ",s)}}catch(i){console.error(`Error on wiki markdown load
`,i),this.setState({error:i})}}async getWikiAttachments(e){const{ownerId:t,objectType:n}=this.props;if(!t){console.error("Cannot get wiki attachments without ownerId on Markdown Component");return}return await vc(this.context.accessToken,t,e,n).then(i=>i).catch(i=>{console.error("Error on wiki attachment load ",i)})}addIdsToReferenceWidgets(e){const t=/<span id="wikiReference.*?<span data-widgetparams.*?span>/g;let n=1;return e.replace(t,()=>{const i=n;return n+=1,`<a href="" id="ref${i}">[${i}]</a>`})}addIdsToTocWidgets(e){const t="SRC-header-";let n=1;const i=/<h[1-6] toc="true">.*<\/h[1-6]>/gm;return e.replace(i,s=>{const o=n;return n+=1,`${s.substring(0,3)} id="${t}${o}"${s.substring(3)}`})}renderMarkdown(){let e=this.createHTML(this.state.data.markdown).__html;if(e=this.addIdsToReferenceWidgets(e),e=this.addIdsToTocWidgets(e),e.length>0){const n=new DOMParser().parseFromString(e,"text/html");return a(L,{children:this.recursiveRender(n.body,e)})}}recursiveRender(e,t){if(e.nodeType===Node.TEXT_NODE)return C(L,{children:[" ",e.textContent," "]});if(e.nodeType===Node.ELEMENT_NODE&&e instanceof HTMLElement){const n=e.tagName.toLowerCase()==="body"?"span":e.tagName.toLowerCase(),i=e.getAttribute("data-widgetparams");if(i)return this.processHTMLWidgetMapping(i,t);const s=e.attributes,o={};for(let d=0;d<s.length;d++){let c="",y="";const m=s.item(d);m&&(c=m.name,y=m.value),c&&y&&(o[c]=y)}if(e.childNodes.length===0)return a(n,{...o});const l=Array.from(e.childNodes).map((d,c)=>a(Mi.Fragment,{children:this.recursiveRender(d,t)},c));return a(n,{...o,children:l})}}decodeXml(e){const t={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'};return e.replace(/(&quot;|&lt;|&gt;|&amp;)/g,(n,i)=>t[i])}processHTMLWidgetMapping(e,t){const n=this.decodeXml(e),i=n.indexOf("?");if(i===-1)return a(sn,{widgetType:n,widgetParamsMapped:{},originalMarkup:t},JSON.stringify(n));const s=n.substring(0,i),o={};return n.substring(i+1).split("&").forEach(l=>{let[d,c]=l.split("=");c=decodeURIComponent(c),o[d]=c}),a(sn,{widgetType:s,widgetParamsMapped:o,originalMarkup:t},JSON.stringify(n))}async componentDidMount(){if(this.state.data.markdown){this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current);return}this.markupRef.current&&this.markupRef.current.addEventListener("click",this.handleLinkClicks),await this.getWikiPageMarkdown(),this.processMath(),this.setState({isLoading:!1}),this.props.onMarkdownProcessingDone&&this.props.onMarkdownProcessingDone(this.markupRef.current)}async componentDidUpdate(e){let t=this.props.ownerId!==e.ownerId;t=t||this.props.wikiId!==e.wikiId,t&&await this.getWikiPageMarkdown(),this.processMath()}render(){const{renderInline:e}=this.props,{isLoading:t,error:n}=this.state,i={ownerId:this.props.ownerId,wikiId:this.props.wikiId,wikiPage:this.state.data,fileHandles:this.state.fileHandles};if(n)return a(uo,{error:n});const s=this.addBookmarks(),o=C(Zn,{wikiContext:i,children:[t&&a("span",{className:"spinner"}),this.renderMarkdown(),s&&a("div",{children:this.addBookmarks()})]});return e?a("span",{className:"markdown markdown-inline",ref:this.markupRef,children:o}):a("div",{className:"markdown",ref:this.markupRef,children:o})}}Ie.contextType=Sn;try{Ie.displayName="MarkdownSynapse",Ie.__docgenInfo={description:"Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks",displayName:"MarkdownSynapse",props:{ownerId:{defaultValue:null,description:"",name:"ownerId",required:!1,type:{name:"string"}},wikiId:{defaultValue:null,description:"",name:"wikiId",required:!1,type:{name:"string"}},markdown:{defaultValue:null,description:"",name:"markdown",required:!1,type:{name:"string"}},renderInline:{defaultValue:null,description:"",name:"renderInline",required:!1,type:{name:"boolean"}},objectType:{defaultValue:null,description:"",name:"objectType",required:!1,type:{name:"enum",value:[{value:'"ENTITY"'},{value:'"ENTITY_CONTAINER"'},{value:'"PRINCIPAL"'},{value:'"ACTIVITY"'},{value:'"EVALUATION"'},{value:'"SUBMISSION"'},{value:'"EVALUATION_SUBMISSIONS"'},{value:'"FILE"'},{value:'"MESSAGE"'},{value:'"WIKI"'},{value:'"FAVORITE"'},{value:'"ACCESS_REQUIREMENT"'},{value:'"ACCESS_APPROVAL"'},{value:'"TEAM"'},{value:'"TABLE"'},{value:'"ACCESS_CONTROL_LIST"'},{value:'"PROJECT_SETTING"'},{value:'"VERIFICATION_SUBMISSION"'},{value:'"CERTIFIED_USER_PASSING_RECORD"'},{value:'"FORUM"'},{value:'"THREAD"'},{value:'"REPLY"'},{value:'"FORM_GROUP"'},{value:'"FORM_DATA"'},{value:'"ENTITY_VIEW"'},{value:'"USER_PROFILE"'},{value:'"DATA_ACCESS_REQUEST"'},{value:'"DATA_ACCESS_SUBMISSION"'},{value:'"DATA_ACCESS_SUBMISSION_STATUS"'},{value:'"MEMBERSHIP_INVITATION"'}]}},onMarkdownProcessingDone:{defaultValue:null,description:"",name:"onMarkdownProcessingDone",required:!1,type:{name:"((ref: HTMLInputElement | null) => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/markdown/MarkdownSynapse.tsx#MarkdownSynapse"]={docgenInfo:Ie.__docgenInfo,name:"MarkdownSynapse",path:"src/lib/containers/markdown/MarkdownSynapse.tsx#MarkdownSynapse"})}catch{}const Ja=window.React.useState,cy=window.React.useEffect,Dr=({type:r,title:e,subTitle:t="",description:n,values:i,secondaryLabelLimit:s,isAlignToLeftNav:o,descriptionConfig:l,href:d,target:c,rgbIndex:y,icon:m})=>{const f=document.querySelector('meta[name="description"]'),[S]=Ja(document.title),[h]=Ja(f?f.getAttribute("content"):"");return cy(()=>(e&&document.title!==e&&(document.title=e),(n||t)&&(f==null||f.setAttribute("content",n||t)),function(){document.title=S,f==null||f.setAttribute("content",h)})),a("div",{className:`SRC-portalCard SRC-portalCardHeader ${o?"isAlignToLeftNav":""}`,children:a("div",{className:"container-fluid container-full-width",children:a("div",{className:"row",children:a("div",{className:"col-md-offset-1 col-md-10",children:C("div",{className:"SRC-portalCardMain",children:[m,C("div",{style:{width:"100%"},children:[C("div",{className:"SRC-cardContent",style:{marginLeft:"15px"},children:[a("div",{className:"SRC-type",children:r}),a("div",{children:a("h3",{className:"SRC-boldText",style:{margin:"none"},children:d?a("a",{target:c,href:d,className:"highlight-link",children:e}):C("span",{children:[" ",e," "]})})}),t&&C("div",{className:"SRC-author",children:[" ",t," "]}),n&&a("span",{className:"SRC-font-size-base",children:l!=null&&l.isMarkdown?a(Ie,{markdown:n}):n})]}),a("div",{style:{borderTop:"1px solid rgba(26, 28, 41, 0.2)",marginTop:"15px",paddingTop:"5px"}}),a("div",{className:"SRC-cardContent",children:i&&a(Ss,{isHeader:!0,secondaryLabelLimit:s,values:i})})]})]})})})})})};try{Dr.displayName="HeaderCard",Dr.__docgenInfo={description:"",displayName:"HeaderCard",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subTitle:{defaultValue:{value:""},description:"",name:"subTitle",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"string[][]"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"Element"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/HeaderCard.tsx#HeaderCard"]={docgenInfo:Dr.__docgenInfo,name:"HeaderCard",path:"src/lib/containers/HeaderCard.tsx#HeaderCard"})}catch{}const dy=window.React.useEffect,uy=window.React.useState,Pr=r=>{var c,y;const{fileHandleAssociation:e,showDownloadIcon:t,redirect:n=!1,displayValue:i}=r,{accessToken:s}=X(),[o,l]=uy();dy(()=>{i===void 0&&(async()=>l(await It({requestedFiles:[e],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},s)))()},[s,i,e]);let d;return o&&(d=(c=o.requestedFiles[0].fileHandle)==null?void 0:c.fileName),C("button",{onClick:()=>{s&&e&&po(e.fileHandleId,s,e.associateObjectType,e.associateObjectId,n).then(m=>{window.open(m,"_blank")}).catch(m=>{console.error("Error on retrieving file handle url ",m)})},className:`SRC-primary-text-color ${fs}`,type:"button",style:{padding:0},children:[(y=i!=null?i:d)!=null?y:e.fileHandleId,t&&a(le,{options:{icon:"download"}})]})};try{Pr.displayName="FileHandleLink",Pr.__docgenInfo={description:"",displayName:"FileHandleLink",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},redirect:{defaultValue:null,description:"",name:"redirect",required:!1,type:{name:"boolean"}},showDownloadIcon:{defaultValue:null,description:"",name:"showDownloadIcon",required:!0,type:{name:"boolean"}},displayValue:{defaultValue:null,description:"",name:"displayValue",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"]={docgenInfo:Pr.__docgenInfo,name:"FileHandleLink",path:"src/lib/containers/widgets/FileHandleLink.tsx#FileHandleLink"})}catch{}const py=window.React.useEffect,fy=window.React.useState,Mr=r=>{const{fileHandleAssociation:{fileHandleId:e,associateObjectId:t,associateObjectType:n}}=r,{accessToken:i}=X(),[s,o]=fy(),{ref:l,inView:d}=Nt({triggerOnce:!0,rootMargin:"500px 0px"});return py(()=>{(()=>{e&&t&&n&&d&&po(e,i,n,t,!1).then(y=>{o(y)}).catch(y=>{console.error("Error on retrieving file handle url ",y)})})()},[d,e,t,i,n]),a("span",{ref:l,children:s&&a("img",{src:s,alt:"",className:"ImageFileHandle",loading:"lazy"})})};try{Mr.displayName="ImageFileHandle",Mr.__docgenInfo={description:"",displayName:"ImageFileHandle",props:{fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/widgets/ImageFileHandle.tsx#ImageFileHandle"]={docgenInfo:Mr.__docgenInfo,name:"ImageFileHandle",path:"src/lib/containers/widgets/ImageFileHandle.tsx#ImageFileHandle"})}catch{}const cs=window.React,Hs=400,hy="SRC-short-description",my="SRC-long-description",Vr=r=>{let e="";const t=r.split(" ");let n=0;for(;e.length<Hs&&n<t.length;)e+=`${t[n]} `,n+=1;return e=e.trim(),{previewText:e}},gy=(r,e,t)=>{var i;let n;return r&&e&&(bo(r)?n={fileHandleId:e,associateObjectId:(i=r==null?void 0:r.id)!=null?i:"",associateObjectType:Te.TableEntity}:t&&(n={fileHandleId:e,associateObjectId:t,associateObjectType:Te.FileEntity})),n},Ge=({columnName:r,value:e,selectColumns:t,columnModels:n})=>{if(!e)return{str:"",strList:void 0,columnModelType:void 0};const i=(t==null?void 0:t.find(o=>o.name===r))||(n==null?void 0:n.find(o=>o.name===r));if(i==null?void 0:i.columnType.endsWith("_LIST")){let o=e,l;try{return l=JSON.parse(o),o=l.join(", "),{strList:l,str:o,columnModelType:i==null?void 0:i.columnType}}catch(d){console.error("Could not parse multivalue string ",o," caught err ",d)}}return{str:e,columnModelType:i==null?void 0:i.columnType}},yy=(r,e,t)=>(e==null?void 0:e.findIndex(n=>n.name===r))||(t==null?void 0:t.findIndex(n=>n.name===r)),Fr=r=>{const{synapseId:e,version:t}=r;return C("span",{children:[t,"\xA0\xA0",a("a",{target:Ue.NEW_WINDOW,rel:"noopener noreferrer",href:`${Ee.PORTAL}#!Synapse:${e}.${t}`,children:"(Show Version History on Synapse)"})]})},an=r=>{const{value:e,columnName:t,labelLink:n,selectColumns:i,columnModels:s,isHeader:o,className:l,rowData:d}=r;if(!e)return a(L,{children:e});const{strList:c,str:y,columnModelType:m}=Ge({columnName:t,value:e,selectColumns:i,columnModels:s});if(!y)return a(L,{children:y});let f=l;const S={};if(o&&(f=l==null?void 0:l.concat(" ","SRC-lightLink")),m===j.USERID_LIST&&c)return a(L,{children:c.map((p,g)=>C("span",{children:[a(ot,{ownerId:p,size:cn,className:f}),g<c.length-1&&",\xA0\xA0"]},p))});if(m===j.USERID&&y)return a(ot,{ownerId:y,size:cn,className:f});if(!n)return y.match(ho)?a("a",{target:Ue.NEW_WINDOW,rel:"noopener noreferrer",href:`${Ee.PORTAL}#!Synapse:${y}`,className:f,children:y}):a(L,{children:y});let h;if(n.isMarkdown)c?h=a(L,{children:c.map((p,g)=>C("span",{children:[a(Ie,{renderInline:!0,markdown:p},p),g<c.length-1&&",\xA0\xA0"]},p))}):h=a(Ie,{renderInline:!0,markdown:e});else{const p=c||y.split(",");let g;if("target"in n&&(g=n.target),"linkColumnName"in n){const w=yy(n.linkColumnName,i,s);if(w==null)console.warn(`Could not determine column index of ${n.linkColumnName}`),h=a(L,{children:e});else{const I=d[w];Qd(I)?h=a(L,{children:e}):h=a(L,{children:p.map((b,u)=>C(cs.Fragment,{children:[a("a",{href:I!=null?I:void 0,target:g!=null?g:Ue.NEW_WINDOW,rel:"noopener noreferrer",className:f,style:S,children:b},b),u<p.length-1&&a("span",{style:{marginRight:4},children:", "})]},b))})}}else h=a(L,{children:p.map((w,I)=>{const{baseURL:b,URLColumnName:u,wrapValueWithParens:_}=n,A=_?`(${w})`:w,R=`/${b}?${u}=${A}`;return C(cs.Fragment,{children:[a("a",{href:R,className:f,style:S,target:g!=null?g:Ue.CURRENT_WINDOW,children:w},w),I<p.length-1&&a("span",{style:{marginRight:4},children:", "})]},w)})})}return n.tooltipText?a(Xe,{title:n.tooltipText,enterNextDelay:300,children:a("span",{children:h})}):h};function by(r,e,t){if(r){if(!e||!t)throw Error("Must specify CardLink and data for linking to work");const{matchColumnName:n,URLColumnName:i,overrideLinkURLColumnName:s}=r;if(s&&t[s]){const l=t[s],d=e[l];if(d)return d}const o=t[n];if(o===void 0)console.error(`Could not find match for data: ${e} with columnName ${n}`);else{const l=e[o];if(l)return`/${r.baseURL}?${i}=${l}`}}}function Za(r,e,t,n){var l,d;r=r.trim();let i=r,s=Ue.CURRENT_WINDOW;r.match(ho)?i=`${Ee.PORTAL}#!Synapse:${r}`:r.match(Oc)?(s=Ue.NEW_WINDOW,i=`https://dx.doi.org/${r}`):e?e&&(i=(l=by(e,t,n))!=null?l:"",i.includes("/DetailsPage")&&(s=Ue.NEW_WINDOW)):s=Ue.NEW_WINDOW;const o=(d=e==null?void 0:e.target)!=null?d:s;return{href:i,target:o}}function Br(r){const{description:e,hasClickedShowMore:t,descriptionSubTitle:n,descriptionConfig:i}=r;let s=e;i!=null&&i.isMarkdown&&(s=a(Ie,{markdown:s}));const o=t||(i==null?void 0:i.showFullDescriptionByDefault);return a("div",{className:o?"":"SRC-hidden",children:a("span",{"data-search-handle":n,className:`SRC-font-size-base ${my}`,children:s})})}function Ur(r){const{description:e,hasClickedShowMore:t,descriptionSubTitle:n,descriptionConfig:i,toggleShowMore:s}=r;return i!=null&&i.showFullDescriptionByDefault?a(L,{}):C("div",{className:t?"SRC-hidden":"",children:[a("span",{"data-search-handle":n,className:`SRC-font-size-base ${hy} SRC-short-description`,children:Vr(e).previewText}),e.length>=Hs&&a("a",{style:{fontSize:"16px",cursor:"pointer",marginLeft:"5px"},className:"highlight-link",onClick:s,children:"...Show More"})]})}class on extends cs.Component{constructor(e){super(e),this.getCutoff=t=>{let n="";const i=t.split(" ");let s=0;for(;n.length<Hs&&s<i.length;)n+=`${i[s]} `,s+=1;return n=n.trim(),{previewText:n}},this.toggleShowMore=()=>{this.setState({hasClickedShowMore:!0})},this.renderTitle=({href:t,target:n,titleSearchHandle:i,title:s})=>t?a("a",{"data-search-handle":i,target:n,href:t,className:"highlight-link",children:s}):C("span",{"data-search-handle":i,children:[" ",s," "]}),this.state={hasClickedShowMore:!1}}render(){var je;const{schema:e,data:t,genericCardSchema:n,secondaryLabelLimit:i,selectColumns:s,columnModels:o,iconOptions:l,useTypeColumnForIcon:d=!1,isHeader:c=!1,titleLinkConfig:y,ctaLinkConfig:m,labelLinkConfig:f,facetAliases:S={},descriptionConfig:h,rgbIndex:p,columnIconOptions:g,queryContext:{entity:w}}=this.props,I=n,{hasClickedShowMore:b}=this.state,{link:u="",type:_}=I,A=t[e[I.title]];let R=I.subTitle&&t[e[I.subTitle]];R=(I==null?void 0:I.subTitle)&&Ge({value:R,columnName:I==null?void 0:I.subTitle,selectColumns:s,columnModels:o}).str;const x=t[e[I.description||""]],E=t[e[I.icon||""]],k=t[e[I.dataTypeIconNames||""]],D=t[e[I.imageFileHandleColumnName||""]],P=o==null?void 0:o.find(me=>I.link===me.name),M=P==null?void 0:P.columnType,v=t[e[u]]||"",{href:O,target:N}=Za(v,y,t,e),F=[],{secondaryLabels:J=[]}=I,Z=w&&!bo(w);for(let me=0;me<J.length;me+=1){const _e=J[me];let xe=t[e[_e]],Pe;if(xe){if(Z&&_e==="currentVersion"){const Dt=t[e.id];xe=Fr({synapseId:Dt,version:xe}),Pe="Version"}else{const Dt=f==null?void 0:f.find(Pt=>Pt.matchColumnName===_e);xe=a(an,{value:xe,columnName:_e,labelLink:Dt,isHeader:c,selectColumns:s,columnModels:o,rowData:t}),Pe=Ye(_e,S)}const Lt=[Pe,xe,_e];F.push(Lt)}}const B=gy(w,D||v,t[e.id]),se=F.length>0,T={marginTop:c?"0px":void 0,marginBottom:c?"0px":void 0,paddingBottom:se||D?void 0:"15px"},q=C(L,{children:[!d&&D&&a("div",{className:"SRC-imageThumbnail",style:{padding:I.thumbnailRequiresPadding?"21px":void 0},children:B&&a(Mr,{fileHandleAssociation:B})}),!d&&!D&&a("div",{className:"SRC-cardThumbnail",children:a(ai,{iconOptions:l,value:E,type:_})}),d&&a("div",{className:"SRC-cardThumbnail",children:a(le,{options:{icon:Cd[t[e.type]]}})})]});if(c)return a(Dr,{descriptionConfig:h,title:A,subTitle:R,description:x,type:_,icon:q,values:F,href:O,target:N,isAlignToLeftNav:!0,secondaryLabelLimit:i,rgbIndex:p});const V=Ye(I.title,S),U=Ye(I.subTitle,S),H=Ye(I.description,S);let he,ee;if(m){const me=t[e[m.link]]||"",{href:_e,target:xe}=Za(me,void 0,t,e);he=_e,ee=xe}return C("div",{style:T,className:"SRC-portalCard",children:[C("div",{className:"SRC-portalCardMain",children:[q,C("div",{className:"SRC-cardContent",children:[a("div",{className:"SRC-type",children:_}),((je=g==null?void 0:g.columns)==null?void 0:je.dataType)&&(k==null?void 0:k.length)&&a("div",{style:{marginTop:"20px"},children:a(Yd,{iconConfigs:g.columns.dataType,iconNames:JSON.parse(k),useBackground:!0,useTheme:!0})}),a("div",{children:a("h3",{className:"SRC-boldText SRC-blackText",style:{margin:"none"},children:!y&&M===j.FILEHANDLEID&&B?a(Pr,{fileHandleAssociation:B,showDownloadIcon:_!==Tc,displayValue:A}):this.renderTitle({href:O,target:N,titleSearchHandle:V,title:A})})}),R&&a("div",{"data-search-handle":U,className:"SRC-author",children:R}),x&&a(Ur,{description:x,hasClickedShowMore:b,descriptionSubTitle:H,descriptionConfig:h,toggleShowMore:this.toggleShowMore}),x&&a(Br,{description:x,hasClickedShowMore:b,descriptionSubTitle:H,descriptionConfig:h}),m&&he&&ee&&a("div",{className:"SRC-portalCardCTALink bootstrap-4-backport",children:a("a",{target:ee,rel:"noopener noreferrer",href:he,children:m.text})})]})]}),se&&a(Ss,{isHeader:!1,secondaryLabelLimit:i,values:F,columnIconOptions:g,className:`${D?"hasImage":"hasIcon"}`})]})}}on.contextType=Sn;try{Br.displayName="LongDescription",Br.__docgenInfo={description:"",displayName:"LongDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#LongDescription"]={docgenInfo:Br.__docgenInfo,name:"LongDescription",path:"src/lib/containers/GenericCard.tsx#LongDescription"})}catch{}try{Ur.displayName="ShortDescription",Ur.__docgenInfo={description:"",displayName:"ShortDescription",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},hasClickedShowMore:{defaultValue:null,description:"",name:"hasClickedShowMore",required:!0,type:{name:"boolean"}},descriptionSubTitle:{defaultValue:null,description:"",name:"descriptionSubTitle",required:!0,type:{name:"any"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},toggleShowMore:{defaultValue:null,description:"",name:"toggleShowMore",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#ShortDescription"]={docgenInfo:Ur.__docgenInfo,name:"ShortDescription",path:"src/lib/containers/GenericCard.tsx#ShortDescription"})}catch{}try{Vr.displayName="getCutoff",Vr.__docgenInfo={description:"",displayName:"getCutoff",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#getCutoff"]={docgenInfo:Vr.__docgenInfo,name:"getCutoff",path:"src/lib/containers/GenericCard.tsx#getCutoff"})}catch{}try{Ge.displayName="getValueOrMultiValue",Ge.__docgenInfo={description:"",displayName:"getValueOrMultiValue",props:{columnName:{defaultValue:null,description:"",name:"columnName",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#getValueOrMultiValue"]={docgenInfo:Ge.__docgenInfo,name:"getValueOrMultiValue",path:"src/lib/containers/GenericCard.tsx#getValueOrMultiValue"})}catch{}try{Fr.displayName="VersionLabel",Fr.__docgenInfo={description:"",displayName:"VersionLabel",props:{synapseId:{defaultValue:null,description:"",name:"synapseId",required:!0,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#VersionLabel"]={docgenInfo:Fr.__docgenInfo,name:"VersionLabel",path:"src/lib/containers/GenericCard.tsx#VersionLabel"})}catch{}try{an.displayName="SynapseCardLabel",an.__docgenInfo={description:"",displayName:"SynapseCardLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},columnName:{defaultValue:null,description:"",name:"columnName",required:!0,type:{name:"string"}},labelLink:{defaultValue:null,description:"",name:"labelLink",required:!0,type:{name:"CardLink | ColumnSpecifiedLink | MarkdownLink | undefined"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!0,type:{name:"SelectColumn[] | undefined"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!0,type:{name:"ColumnModel[] | undefined"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"(string | null)[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#SynapseCardLabel"]={docgenInfo:an.__docgenInfo,name:"SynapseCardLabel",path:"src/lib/containers/GenericCard.tsx#SynapseCardLabel"})}catch{}try{on.displayName="GenericCard",on.__docgenInfo={description:"Renders a card from a table query",displayName:"GenericCard",props:{selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},useTypeColumnForIcon:{defaultValue:null,description:"",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},tableId:{defaultValue:null,description:"",name:"tableId",required:!0,type:{name:"string | undefined"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/GenericCard.tsx#GenericCard"]={docgenInfo:on.__docgenInfo,name:"GenericCard",path:"src/lib/containers/GenericCard.tsx#GenericCard"})}catch{}const Sy=window.React;class at extends Sy.Component{constructor(e){super(e),this.handleLinkClick=t=>n=>{n.preventDefault(),window.open(`${Ee.PORTAL}#!Synapse:${t}`,"_blank")},this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:e,schema:t,selectColumns:n,columnModels:i}=this.props,s=e[t.datasetName],o=e[t.summary],l=Ge({columnName:"tumorType",value:e[t.tumorType],selectColumns:n,columnModels:i}).str,d=Ge({columnName:"diseaseFocus",value:e[t.diseaseFocus],selectColumns:n,columnModels:i}).str,c=e[t.id],y=e[t.fundingAgency],m=e[t.fileCount],f=Vl(e[t.fileSize]),S=[["FUNDER",Ge({columnName:"fundingAgency",value:y,selectColumns:n,columnModels:i}).str],["SIZE",f],["FILES",m]];return C("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[C("div",{className:"SRC-cardThumbnail",children:[a(ai,{type:fo}),a("div",{children:f})]}),C("div",{className:"SRC-cardContent SRC-dataset",children:[a("div",{className:"SRC-type",children:"Dataset "}),a("div",{children:a("h3",{children:a("a",{target:"_self",href:`${Ee.PORTAL}#!Synapse:${c}`,children:s})})}),C("div",{className:"SRC-description-dataset",children:[a("p",{className:"SRC-description-text",children:o}),a("div",{className:"SRC-cardAction bootstrap-4-backport",children:a(ce,{className:"pill SRC-datasetButton",onClick:this.handleLinkClick(c),variant:"secondary",children:"Download Dataset"})})]}),a("div",{className:"SRC-cardAnnotations",children:a(Mc,{chips:[l,d]})})]}),a(Ss,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:S})]})}}try{at.displayName="Dataset",at.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/Dataset.tsx#Dataset"]={docgenInfo:at.__docgenInfo,name:"Dataset",path:"src/lib/containers/row_renderers/Dataset.tsx#Dataset"})}catch{}const wy=window.React;class $r extends wy.Component{constructor(e){super(e),this.handleLinkClick=t=>n=>{n.preventDefault(),window.open(t,"_blank")},this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:e,schema:t}=this.props,n=e[t.organizationName],i=e[t.organizationPath],s=e[t.summary],o=e[t.website],l=e[t.logo];let d=o.replace("https://","");d=d.replace("http://",""),d.charAt(d.length-1)==="/"&&(d=d.substring(0,d.length-1));const c=window.location.hash.substring(1)===i,y={};let m;return c?y.paddingBottom="42px":m=a("div",{className:"SRC-marginAuto SRC-cardAction bootstrap-4-backport",children:a(ce,{className:"pill-xl",href:i,variant:"secondary",children:"View Funded Research"})}),C("div",{className:"SRC-portalCard SRC-typeFunder ",style:y,children:[C("div",{className:"SRC-cardContent",children:[a("div",{className:"SRC-type",children:"Organization"}),l&&a("div",{className:"SRC-cardThumbnail",children:a("img",{alt:"funder logo",className:"SRC-logo",src:l})}),a("div",{children:C("h3",{children:[c&&n,!c&&a("a",{href:i,children:n})]})}),a("div",{className:"SRC-website",children:a("a",{rel:"noopener noreferrer",target:"_blank",href:o,children:d})}),a("div",{className:"SRC-description",children:s})]}),m]})}}try{$r.displayName="Funder",$r.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/Funder.tsx#Funder"]={docgenInfo:$r.__docgenInfo,name:"Funder",path:"src/lib/containers/row_renderers/Funder.tsx#Funder"})}catch{}try{at.displayName="Dataset",at.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/index.tsx#Dataset"]={docgenInfo:at.__docgenInfo,name:"Dataset",path:"src/lib/containers/row_renderers/index.tsx#Dataset"})}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/index.tsx#rowrenderers"]={docgenInfo:rowrenderers.__docgenInfo,name:"rowrenderers",path:"src/lib/containers/row_renderers/index.tsx#rowrenderers"})}catch{}const mt=(r,e)=>r>0?`${r} ${e}${r>1?"s":""} `:"",Cy=(r,e)=>{const t=oi.duration(r,e),n=t.years(),i=t.months()%12,s=t.days()%31,o=t.hours()%24,l=t.minutes()%60,d=t.seconds()%60;return`${mt(n,"year")}${mt(i,"month")}${mt(s,"day")}${mt(o,"hour")}${mt(l,"minute")}${mt(d,"second")}`.trim()},Hr=({data:r,schema:e})=>{const t=r[e.submitterName],n=r[e.submitterUserId],i=r[e.time],s=r[e.timeUnits],o=r[e.text],l=r[e.tag];return C("div",{className:"SRC-portalCard ObservationCard",children:[C("div",{className:"ObservationCard__submitter",children:[!n&&a("div",{children:t}),n&&a(ot,{size:"SMALL USER CARD",ownerId:n})]}),i&&C("div",{className:"ObservationCard__time",children:[a(le,{options:{icon:"time"}}),a("span",{children:Cy(i,s)})]}),a("div",{className:"ObservationCard__text",children:a(Vc,{summary:o})}),a("div",{className:"ObservationCard__tags",children:l&&a("span",{className:"SRC-tag",children:l})})]})},jr=()=>C("div",{className:"SRC-portalCard ObservationCard",children:[a("div",{className:"ObservationCard__submitter",children:a("span",{children:a(Fi,{width:"100px"})})}),a("div",{className:"ObservationCard__time",children:a(le,{options:{icon:"time"}})}),a("div",{className:"ObservationCard__text",children:a(To,{numCols:1,numRows:4})}),a("div",{className:"ObservationCard__tags",children:a(Fi,{width:"80px"})})]});try{Hr.displayName="ObservationCard",Hr.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Record<string, string>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/ObservationCard.tsx#ObservationCard"]={docgenInfo:Hr.__docgenInfo,name:"ObservationCard",path:"src/lib/containers/row_renderers/ObservationCard.tsx#ObservationCard"})}catch{}try{jr.displayName="LoadingObservationCard",jr.__docgenInfo={description:"",displayName:"LoadingObservationCard",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/row_renderers/ObservationCard.tsx#LoadingObservationCard"]={docgenInfo:jr.__docgenInfo,name:"LoadingObservationCard",path:"src/lib/containers/row_renderers/ObservationCard.tsx#LoadingObservationCard"})}catch{}const ln=r=>{const{isHeader:e=!1,unitDescription:t,type:n,isLoading:i,secondaryLabelLimit:s=3,title:o,...l}=r,d=Zc(),{data:c,getLastQueryRequest:y,appendNextPageToResults:m,hasNextPage:f}=d,S=y(),h=(u,_)=>{switch(_){case fo:return a(at,{...u});case Ac:return a($r,{...u});case Rc:return a(on,{...u,queryContext:d});case wi:return a(Hr,{...u});default:return a("div",{},u.key)}},p=c!=null&&c.queryResult.queryResults.tableId?[c==null?void 0:c.queryResult.queryResults.tableId]:[],g=mo({ids:p,type:"ENTITY_HEADER"});if(c){if(c&&c.queryResult.queryResults.rows.length===0)return S.query.additionalFilters?a(Bl,{}):a($l,{})}else return C("div",{children:[i&&n===wi&&a(jr,{}),i&&n!==wi&&xo]});const w={};c.queryResult.queryResults.headers.forEach((u,_)=>{w[u.name]=_});const I=f&&a("div",{className:"SRC-viewMore bootstrap-4-backport",children:a(ce,{variant:"secondary",className:"pill-xl",onClick:()=>{m()},children:"View More"})});let b;if(n===Ks){const u=c.queryResult.queryResults.headers.findIndex(A=>A.columnType===j.USERID);if(u===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const _=c.queryResult.queryResults.rows.map(A=>A.values.filter(R=>R!==null)[u]);b=a(Kd,{data:c,list:_,size:Ks})}else{const u=c.queryResult.queryResults.rows;b=u.length?u.map(_=>{const R={key:JSON.stringify(_.values),type:n,schema:w,isHeader:e,secondaryLabelLimit:s,data:_.values,selectColumns:c.selectColumns,columnModels:c.columnModels,tableEntityConcreteType:g[0]&&g[0].type,tableId:c==null?void 0:c.queryResult.queryResults.tableId,...l};return h(R,n)}):a(L,{})}return C("div",{role:"list",children:[o&&a("h2",{className:"SRC-card-overview-title",children:o}),!o&&t&&a(Co,{frontText:"Displaying"}),b,I]})};try{ln.displayName="CardContainer",ln.__docgenInfo={description:"",displayName:"CardContainer",props:{isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/CardContainer.tsx#CardContainer"]={docgenInfo:ln.__docgenInfo,name:"CardContainer",path:"src/lib/containers/CardContainer.tsx#CardContainer"})}catch{}const _y=window.React.forwardRef;window.React.Component;var vy=_y(function(r,e){var t=nd(r);return a(rd,{ref:e,...t})});const Ty=vy,eo=window.React.useState,Wr=({sortConfig:r,facetAliases:e})=>{const{defaultColumn:t,defaultDirection:n,sortableColumns:i}=r,s=$e(),{getLastQueryRequest:o,executeQueryRequest:l}=s,[d,c]=eo(t),[y,m]=eo(n),f=i.map(h=>({value:h,label:Ye(h,e)})),S=h=>{const p=o();let g="ASC";h===d&&(g=y==="ASC"?"DESC":"ASC");const w=h?[{column:h,direction:g}]:void 0;p.query.sort=w,l(p),c(h),m(g)};return C("div",{className:"QuerySortSelector bootstrap-4-backport",children:[a(qt,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),a(Ty,{className:"react-select-container SRC-inlineBlock",value:id(d,f),options:f,onChange:h=>S(h==null?void 0:h.value),components:{Control:sd},styles:{control:h=>({...h,marginLeft:"15px"})}})]})};try{Wr.displayName="QuerySortSelector",Wr.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/QuerySortSelector.tsx#QuerySortSelector"]={docgenInfo:Wr.__docgenInfo,name:"QuerySortSelector",path:"src/lib/containers/QuerySortSelector.tsx#QuerySortSelector"})}catch{}var Ue=(r=>(r.CURRENT_WINDOW="_self",r.NEW_WINDOW="_blank",r.PARENT_FRAME="_parent",r.FULL_WINDOW_BODY="_top",r))(Ue||{});const zr=r=>{const e=bs(r.sql,r.searchParams,r.sqlOperator),{sortConfig:t,facetAliases:n}=r,i=t?[{column:t.defaultColumn,direction:t.defaultDirection}]:void 0,s={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:Et(e),query:{sql:e,limit:r.limit,sort:i},partMask:wn|Cn|hs|co|ms|gs|us|ys};return a(Jt,{...r,initQueryRequest:s,children:C(ws,{rgbIndex:r.rgbIndex,unitDescription:r.unitDescription,facetAliases:r.facetAliases,children:[t&&a(Wr,{sortConfig:t,facetAliases:n}),a(ln,{...r}),a(Cs,{children:o=>a(uo,{error:o==null?void 0:o.error})})]})})},Ob=zr;try{zr.displayName="CardContainerLogic",zr.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"enum",value:[{value:'"LIKE"'},{value:'"="'},{value:'"HAS"'}]}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"KeyValue"}},facetAliases:{defaultValue:null,description:"",name:"facetAliases",required:!1,type:{name:"Record<string, string>"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},isHeader:{defaultValue:null,description:"",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},hasInternalLink:{defaultValue:null,description:"",name:"hasInternalLink",required:!1,type:{name:"boolean"}},iconOptions:{defaultValue:null,description:"",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"GenericCardSchema"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"",name:"titleLinkConfig",required:!1,type:{name:"CardLink"}},ctaLinkConfig:{defaultValue:null,description:"",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},columnIconOptions:{defaultValue:null,description:"",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/CardContainerLogic.tsx#CardContainerLogic"]={docgenInfo:zr.__docgenInfo,name:"CardContainerLogic",path:"src/lib/containers/CardContainerLogic.tsx#CardContainerLogic"})}catch{}export{Zd as A,Ob as C,nn as D,qo as E,Pr as F,it as H,Ar as I,Xd as L,sr as M,or as P,iy as Q,we as S,Ie as a,Gd as b,xb as c,Vl as d,Sr as e,Cr as f,Mr as g,Za as h,gy as i,ay as j,ru as u};
