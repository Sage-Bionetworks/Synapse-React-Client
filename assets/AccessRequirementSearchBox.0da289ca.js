import{A as I}from"./react-select.esm.3f16d802.js";import{f as x,bE as C,bH as R}from"./index.04a7d297.js";import{a as _}from"./useGetAccessRequirement.0c7037b1.js";import{j as l}from"./jsx-runtime.00d70968.js";import{S as b}from"./Skeleton.99b24529.js";import{b as q}from"./Select-54ac8379.esm.edd779c2.js";function c(t,n){return t.toString()===n?n:`${n} (${t})`}const B={Control:t=>{var n;return l(q.Control,{...t,className:`form-control ${(n=t.className)!=null?n:""}`})}};function i(t){var u,m;const{inputId:n,initialId:e,onChange:g,placeholder:h}=t,{accessToken:d}=x(),{data:r,isLoading:A}=_(e,{enabled:!!e});async function y(a){var f,S;const p=parseInt(a);let s;return p&&(s=[await C(d,p)]),s||(s=(f=await R(d,{nameContains:a}))==null?void 0:f.results),(S=s==null?void 0:s.map(o=>({id:o.id.toString(),value:o.id.toString(),label:c(o.id,o.name)})))!=null?S:[]}return e&&A?l(b,{width:"100%"}):l(I,{className:"bootstrap-4-backport",defaultInputValue:e?c(e,(u=r==null?void 0:r.name)!=null?u:e.toString()):void 0,defaultOptions:e?[{id:e,value:e,label:c(e,(m=r==null?void 0:r.name)!=null?m:e.toString())}]:!0,inputId:n,cacheOptions:!0,isClearable:!0,styles:{control:a=>({...a,display:"flex !important"})},components:B,loadOptions:y,onChange:a=>{g(a==null?void 0:a.id.toString())},placeholder:h})}try{i.displayName="AccessRequirementSearchBox",i.__docgenInfo={description:"",displayName:"AccessRequirementSearchBox",props:{inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},initialId:{defaultValue:null,description:"",name:"initialId",required:!1,type:{name:"string | number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(accessRequirementId?: string | undefined) => void"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/dataaccess/AccessRequirementSearchBox.tsx#AccessRequirementSearchBox"]={docgenInfo:i.__docgenInfo,name:"AccessRequirementSearchBox",path:"src/lib/containers/dataaccess/AccessRequirementSearchBox.tsx#AccessRequirementSearchBox"})}catch{}export{i as A};
