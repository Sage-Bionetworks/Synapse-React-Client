import{A as I}from"./react-select.esm.4406e33b.js";import{aM as x,aN as C}from"./index.87d1c7b9.js";import{u as R}from"./useGetAccessRequirement.95723c83.js";import{a as _}from"./useUserBundle.1ce41d85.js";import{j as l}from"./jsx-runtime.2e925369.js";import{S as q}from"./Skeleton.bf1489f0.js";import{c as B}from"./stateManager-845a3300.esm.4bc2dc68.js";function c(t,n){return t.toString()===n?n:`${n} (${t})`}const b={Control:t=>{var n;return l(B.Control,{...t,className:`form-control ${(n=t.className)!=null?n:""}`})}};function i(t){var u,m;const{inputId:n,initialId:e,onChange:g,placeholder:h}=t,{accessToken:d}=_(),{data:r,isLoading:A}=R(e,{enabled:!!e});async function y(a){var f,S;const p=parseInt(a);let s;return p&&(s=[await x(d,p)]),s||(s=(f=await C(d,{nameContains:a}))==null?void 0:f.results),(S=s==null?void 0:s.map(o=>({id:o.id.toString(),value:o.id.toString(),label:c(o.id,o.name)})))!=null?S:[]}return e&&A?l(q,{width:"100%"}):l(I,{className:"bootstrap-4-backport",defaultInputValue:e?c(e,(u=r==null?void 0:r.name)!=null?u:e.toString()):void 0,defaultOptions:e?[{id:e,value:e,label:c(e,(m=r==null?void 0:r.name)!=null?m:e.toString())}]:!0,inputId:n,cacheOptions:!0,isClearable:!0,styles:{control:a=>({...a,display:"flex !important"})},components:b,loadOptions:y,onChange:a=>{g(a==null?void 0:a.id.toString())},placeholder:h})}try{i.displayName="AccessRequirementSearchBox",i.__docgenInfo={description:"",displayName:"AccessRequirementSearchBox",props:{inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},initialId:{defaultValue:null,description:"",name:"initialId",required:!1,type:{name:"string | number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(accessRequirementId?: string | undefined) => void"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["src/lib/containers/dataaccess/AccessRequirementSearchBox.tsx#AccessRequirementSearchBox"]={docgenInfo:i.__docgenInfo,name:"AccessRequirementSearchBox",path:"src/lib/containers/dataaccess/AccessRequirementSearchBox.tsx#AccessRequirementSearchBox"})}catch{}export{i as A};
//# sourceMappingURL=AccessRequirementSearchBox.9ca8f514.js.map
