{"version":3,"file":"MarkdownPopover.b60c0840.js","sources":["../../node_modules/react-popper/lib/esm/utils.js","../../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../../node_modules/@popperjs/core/lib/popper.js","../../node_modules/react-fast-compare/index.js","../../node_modules/react-popper/lib/esm/usePopper.js","../../src/lib/containers/MarkdownPopover.tsx"],"sourcesContent":["import * as React from 'react';\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array,\n * otherwise returns the argument. Used for Preact compatibility.\n */\nexport var unwrapArray = function unwrapArray(arg) {\n  return Array.isArray(arg) ? arg[0] : arg;\n};\n/**\n * Takes a maybe-undefined function and arbitrary args and invokes the function\n * only if it is defined.\n */\n\nexport var safeInvoke = function safeInvoke(fn) {\n  if (typeof fn === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return fn.apply(void 0, args);\n  }\n};\n/**\n * Sets a ref using either a ref callback or a ref object\n */\n\nexport var setRef = function setRef(ref, node) {\n  // if its a function call it\n  if (typeof ref === 'function') {\n    return safeInvoke(ref, node);\n  } // otherwise we should treat it as a ref object\n  else if (ref != null) {\n      ref.current = node;\n    }\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\n\nexport var fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n/**\n * Small wrapper around `useLayoutEffect` to get rid of the warning on SSR envs\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createPopper as defaultCreatePopper } from '@popperjs/core';\nimport isEqual from 'react-fast-compare';\nimport { fromEntries, useIsomorphicLayoutEffect } from './utils';\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  var _React$useState = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      }\n    },\n    attributes: {}\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      fn: function fn(_ref) {\n        var state = _ref.state;\n        var elements = Object.keys(state.elements);\n        ReactDOM.flushSync(function () {\n          setState({\n            styles: fromEntries(elements.map(function (element) {\n              return [element, state.styles[element] || {}];\n            })),\n            attributes: fromEntries(elements.map(function (element) {\n              return [element, state.attributes[element]];\n            }))\n          });\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(optionsWithDefaults.modifiers, [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","import { PositioningStrategy } from '@popperjs/core'\nimport React, { useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { Placement } from 'react-bootstrap/esm/Overlay'\nimport { ButtonVariant } from 'react-bootstrap/esm/types'\nimport { usePopper } from 'react-popper'\nimport { CSSTransition } from 'react-transition-group'\nimport MarkdownSynapse, { MarkdownSynapseProps } from './MarkdownSynapse'\nimport Typography from '../utils/typography/Typography'\n\nexport type MarkdownPopoverProps = {\n  children: JSX.Element\n  contentProps: MarkdownSynapseProps\n  style?: React.CSSProperties\n  placement?: Placement\n  showCloseButton?: boolean\n  actionButton?: {\n    content: React.ReactElement\n    variant: ButtonVariant\n    onClick: () => void\n    closePopoverOnClick: boolean\n  }\n  /* Useful if the item is in an overflow container. See https://popper.js.org/docs/v2/constructors/#strategy */\n  strategy?: PositioningStrategy\n}\n\nexport const MarkdownPopover: React.FunctionComponent<MarkdownPopoverProps> = ({\n  children,\n  contentProps,\n  placement,\n  showCloseButton = true,\n  actionButton,\n  strategy,\n  style,\n}: MarkdownPopoverProps) => {\n  placement = placement ?? 'bottom-start'\n\n  const [show, setShow] = useState(false)\n\n  // We intentionally use useState instead of useRef, see https://popper.js.org/react-popper/v2/#example\n  const [referenceElement, setReferenceElement] =\n    useState<HTMLSpanElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(\n    null,\n  )\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: placement,\n    strategy: strategy,\n    modifiers: [\n      { name: 'arrow', options: { element: arrowElement } },\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 10],\n        },\n      },\n    ],\n  })\n\n  const popover = (\n    <CSSTransition\n      in={show}\n      timeout={200}\n      classNames=\"fade-in-out\"\n      mountOnEnter\n    >\n      <div\n        className={`Tooltip SRC-popover bootstrap-4-backport`}\n        style={{ ...style, ...styles.popper }}\n        ref={setPopperElement}\n        {...attributes.popper}\n      >\n        <Typography variant=\"body1\">\n          <MarkdownSynapse {...contentProps} />\n        </Typography>\n        <div className=\"TooltipButtonContainer\">\n          {actionButton && (\n            <Button\n              variant={actionButton.variant ?? 'primary-500'}\n              className=\"pill\"\n              onClick={() => {\n                actionButton.onClick()\n                if (actionButton.closePopoverOnClick) {\n                  setShow(false)\n                }\n              }}\n            >\n              {actionButton.content}\n            </Button>\n          )}\n          {showCloseButton && (\n            <Button\n              variant=\"light\"\n              className=\"pill\"\n              onClick={() => setShow(false)}\n            >\n              Close\n            </Button>\n          )}\n        </div>\n        <div\n          className=\"arrow\"\n          data-popper-arrow\n          ref={setArrowElement}\n          style={styles.arrow}\n        />\n      </div>\n    </CSSTransition>\n  )\n\n  return (\n    <>\n      <span\n        role=\"button\"\n        className=\"PopoverContainer bootstrap-4-backport\"\n        onClick={() => setShow(val => !val)}\n        ref={setReferenceElement}\n      >\n        {children}\n      </span>\n      {popover}\n    </>\n  )\n}\n"],"names":["React","applyStyles","isEqual","createPopper","defaultCreatePopper","children","contentProps","placement","actionButton","strategy","style","styles","attributes","arrowElement","_jsx","show","_jsxs","popper","setPopperElement","setShow","content","setArrowElement","arrow","_Fragment","setReferenceElement"],"mappings":"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"}